function phi4z(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,i=f;for(o=1;15>=o;o++)if(j=Math.sin(i),l=Math.tan(i),h=l*Math.sqrt(1-a*j*j),k=Math.sin(2*i),m=b*i-c*k+d*Math.sin(4*i)-e*Math.sin(6*i),n=b-2*c*Math.cos(2*i)+4*d*Math.cos(4*i)-6*e*Math.cos(6*i),j=2*m+h*(m*m+g)-2*f*(h*m+1),l=a*k*(m*m+g-2*f*m)/(2*h),h=2*(f-m)*(h*n-2/k)-2*n,j/=l+h,i+=j,1e-10>=Math.abs(j))return i;return Proj4js.reportError("phi4z: No convergence"),null}function e4fn(a){var b;return b=1+a,a=1-a,Math.sqrt(Math.pow(b,b)*Math.pow(a,a))}function _normalizeArguments(a,b,c,d){return $.isPlainObject(a)?a:(a={effect:a},void 0===b&&(b={}),$.isFunction(b)&&(d=b,c=null,b={}),("number"===$.type(b)||$.fx.speeds[b])&&(d=c,c=b,b={}),$.isFunction(c)&&(d=c,c=null),b&&$.extend(a,b),c=c||b.duration,a.duration=$.fx.off?0:"number"==typeof c?c:c in $.fx.speeds?$.fx.speeds[c]:$.fx.speeds._default,a.complete=d||b.complete,a)}function standardSpeed(a){return!a||"number"==typeof a||$.fx.speeds[a]?!0:"string"!=typeof a||$.jqplot.effects.effect[a]?!1:backCompat&&$.jqplot.effects[a]?!1:!0}function initconsole(){var console=$(".console"),controller=console.console({promptLabel:"WCPS> ",commandValidate:function(a){return""==a?!1:"help"==a?winTutorial.show():!0},commandHandle:function(line){try{var ret=eval(line);return"undefined"!=typeof ret?ret.toString():!0}catch(e){return string=JSON.parse(JSON.stringify(arguments))[0],-1!=string.indexOf("spectrum(")&&"spectrum("==string.substring(0,9)?(string=string.substring(9,string.length-1),hsdataset.point.length>0?(spectrum_calc(string),""):"Please first use the Spectrum button"):e.toString()}},animateScroll:!0,promptHistory:!0,welcomeMessage:"PlanetServer console. Help opens the tutorial."});controller.promptText("")}function min(a){a=minstr(a);var b=csv(a);return parseFloat(b.data)}function max(a){a=maxstr(a);var b=csv(a);return parseFloat(b.data)}function maxstr(a){return a=band2data(a.toString()),"max("+a+")"}function minstr(a){return a=band2data(a.toString()),"min("+a+")"}function band2data(a){return a=a.replace(/band(\d+)/g,function(a,b){return 0==hsdataset.metadata.bbl[b-1]?"BAD":"data."+(+b-1)}),-1!=a.indexOf("BAD")?-1:a}function csv(a){a=band2data(a.toString());var b=hsdataset.collection,c="for data in ( "+b+" ) return encode( "+a+'), "csv" )',d=planetserver_path+"wcps.php?use=csv&query="+c.replace(/\+/g,"%2B");return JSON.parse(getBinary(d))}function worldfile(){return xres=Math.abs((hsdataset.xmax-hsdataset.xmin)/hsdataset.width),yres=Math.abs((hsdataset.ymax-hsdataset.ymin)/hsdataset.height),ulx=hsdataset.xmin+.5*xres,uly=hsdataset.ymax-.5*yres,yres=-yres,xres+"\n0\n0\n"+yres+"\n"+ulx+"\n"+uly}function image(a){if(datastring=band2data(a.toString()),-1==datastring)return"You used bad band(s)!";var b=hsdataset.collection;if(0==maxstretch&&(maxstretch=maxstr(datastring)),0==minstretch)var c="for data in ( "+b+" ) return encode( (char) (255 / "+maxstretch+") * ("+datastring+'), "png" )';else var c="for data in ( "+b+" ) return encode( (char) (255 / ("+maxstretch+" - "+minstretch+")) * (("+datastring+") - "+minstretch+'), "png" )';if(1!=Ext.getCmp("checkSaveForGisId").checked){var d=planetserver_path+"wcps.php?use=png&query="+c.replace(/\+/g,"%2B"),e=PNGimages.length,f={};f.type="greyscale",f.base64=base64Encode(getBinary(d)),f.wcps=c,f.string=checkpredef(a),imagedata[e]=f,PNGimages[e]=new OpenLayers.Layer.Image(a,"data:image/png;base64,"+f.base64,hsdataset.bbox,new OpenLayers.Size(hsdataset.width,hsdataset.height),hsdataset.mapoptions),map.addLayers([PNGimages[e]]);var g="";return"band"==a.substring(0,4)&&(0==usedCrism?g="IR: ":1==usedCrism&&(g="VNIR: ")),addCheckbox(e,g+imagedata[e].string),c}c=c.replace("png","GTiff");var h=planetserver_wcps+"/"+filename+"?query="+encodeURIComponent(c);window.open(h,"_blank")}function rgbimage(a,b,c){if(a=band2data(a.toString()),b=band2data(b.toString()),c=band2data(c.toString()),-1==a&&-1==b&&-1==c)return"You used bad band(s)!";var d=hsdataset.collection;if(maxred_value=maxstr(a),maxgreen_value=maxstr(b),maxblue_value=maxstr(c),wcpsquery=0==minstretch?"for data in ( "+d+" ) return encode( (char) {red: (char) (255 / "+maxred_value+") * ("+a+"); green: (char) (255 / "+maxgreen_value+") * ("+b+"); blue: (char) (255 / "+maxblue_value+") * ("+c+')}, "png" )':"for data in ( "+d+" ) return encode( (char) {red: (char) (255 / ("+maxred_value+" - "+minstretch+")) * (("+a+") - "+minstretch+"); green: (char) (255 / ("+maxgreen_value+" - "+minstretch+")) * (("+b+") - "+minstretch+"); blue: (char) (255 / ("+maxblue_value+" - "+minstretch+")) * (("+c+") - "+minstretch+')}, "png" )',1!=Ext.getCmp("checkSaveForGisId").checked){var e=planetserver_path+"wcps.php?use=png&query="+wcpsquery.replace(/\+/g,"%2B"),f=PNGimages.length,g={};g.type="RGB",g.base64=base64Encode(getBinary(e)),g.wcps=wcpsquery,g.string=checkpredef(a)+";"+checkpredef(b)+";"+checkpredef(c),imagedata[f]=g,PNGimages[f]=new OpenLayers.Layer.Image("RGB","data:image/png;base64,"+g.base64,hsdataset.bbox,new OpenLayers.Size(hsdataset.width,hsdataset.height),hsdataset.mapoptions),map.addLayers([PNGimages[f]]);var h="";return("data"==a.substring(0,4)||"data"==b.substring(0,4)||"data"==c.substring(0,4))&&(0==usedCrism?h="IR: ":1==usedCrism&&(h="VNIR: ")),addCheckbox(f,h+imagedata[f].string),wcpsquery}wcpsquery=wcpsquery.replace("png","GTiff");var i=planetserver_wcps+"/"+filename+"?query="+encodeURIComponent(wcpsquery);window.open(i,"_blank")}function histogramtocsv(a){string="BIN,COUNT\n";for(var b=0;b<a.length;b++)j=b+1,string=string+j+","+a[b]+"\n";return string}function histogram(a,b){showHistogram(a,b)}function lltoimagecrs(a,b){return xmin=hsdataset.xmin,xmax=hsdataset.xmax,ymin=hsdataset.ymin,ymax=hsdataset.ymax,width=hsdataset.width,height=hsdataset.height,inextent(b,a)?(imx=(a-xmin)*(width/(xmax-xmin)),imy=(ymax-b)*(height/(ymax-ymin)),imx=parseInt(Math.floor(imx)),imy=parseInt(Math.floor(imy)),[imx,imy]):!1}function inextent(a,b){return xmin=hsdataset.xmin,xmax=hsdataset.xmax,ymin=hsdataset.ymin,ymax=hsdataset.ymax,b>xmin&&xmax>b&&a>ymin&&ymax>a?!0:!1}function show(a){var b="";for(var c in a)b=b+c+"\n";return b}function p(a){if(null==a){var b="";for(var c in hsdataset.point)count=parseInt(c)+1,b=b+"Point"+count+": "+hsdataset.point[c].lonlat+"\n";return b}return a<=hsdataset.point.length?hsdataset.point[a-1].lonlat:void 0}function s(a){if(null==a){var b="";for(var c in hsdataset.point)count=parseInt(c)+1,b=b+"Point"+count+": "+hsdataset.point[c].spectrum+"\n";return b}return a<=hsdataset.point.length?hsdataset.point[a-1].spectrum:void 0}function spectrum_load(a,b,c){switch_tabs($(".defaulttab")),$.jqplot.config.enablePlugins=!0,spectra=$.jqplot("chartPlace",a,{title:c,cursor:{show:!0,zoom:!0},highlighter:{show:!0},series:[{breakOnNull:!0}],seriesDefaults:{renderer:$.jqplot.LineRenderer,lineWidth:1,rendererOptions:{smooth:!0,animation:{show:!0}},showMarker:!1,pointLabels:{show:!1}},axes:{xaxis:{pad:1.1},yaxis:{pad:1.1}},seriesColors:b}),spectra.replot()}function spectrum_calc(string){var cnt=0;string=string.replace(/s\((\d+)\)/g,function(a,b){return b>cnt&&(cnt=b),"s("+ +b+")[i][1]"});var numbers=[],pointcnt=0;for(var key in hsdataset.point)pointcnt=parseInt(key)+1;if(!(pointcnt>=cnt))return"s("+cnt+") isn't defined!";numbers=[];try{for(var i=0;i<hsdataset.point[0].spectrum.length;i++){var out=eval(string);isNaN(out)&&(out=null),1/0==out&&(out=null),0==out&&(out=null);var wavelength=hsdataset.metadata.wavelength[i];numbers.push([wavelength,out])}showPointsSpectrum([numbers],hsdataset.collection)}catch(e){return"Wrong query!"}}function spectrumtocsv(a){headerstring="WAVELENGTH,";for(var b=0;b<a.length;b++)spectrumcolumn="SPECTRUM"+(b+1),headerstring=headerstring+spectrumcolumn+",";string=headerstring+"\n";for(var b=0;b<a[0].length;b++){string=string+a[0][b][0]+","+a[0][b][1];for(var c=1;c<a.length;c++)string=string+","+a[c][b][1];string+="\n"}return string}function crosssectiontocsv(a){string="METER,ELEVATION\n";for(var b=0;b<a[0].length;b++)string=string+a[0][b][0]+","+a[0][b][1]+"\n";return string}function crossdiagram(a){dtmdataset.nodata;switch_tabs($(".crosstab")),$.jqplot.config.enablePlugins=!0,cross=$.jqplot("crossPlace",a,{title:"Cross Section",cursor:{show:!0,zoom:!0},highlighter:{show:!0},series:[{breakOnNull:!0}],seriesDefaults:{renderer:$.jqplot.LineRenderer,lineWidth:1,rendererOptions:{smooth:!0,animation:{show:!0}},showMarker:!1,pointLabels:{show:!1}}}),cross.replot()}function crosssection(a,b,c,d){showCrossSectionDiagram(a,b,c,d)}function getz(a,b){if(void 0===a&&void 0===a)var a=maplonlat.lon,b=maplonlat.lat;var c="for data in ( "+dtmdataset.collection+" ) return encode(  (data["+dtmdataset.crsx+':"'+dtmdataset.crs+'"('+a+":"+a+"),"+dtmdataset.crsy+':"'+dtmdataset.crs+'"('+b+":"+b+')]), "csv")';return value=getwcpsvalue(c),Ext.getCmp("labelShowStatus").setText("Elevation: "+value),value}function getwcpsvalue(a){return url=planetserver_wcps+"?query="+encodeURIComponent(a),csvstring=getBinary(url),csvstring=csvstring.replaceAll("{",""),csvstring=csvstring.replaceAll("}","")}function addspectrum(a,b){if(void 0===a&&void 0===a)var a=hsdataset.lonlat.lon,b=hsdataset.lonlat.lat;var c=(hsdataset.collection,hsdataset.xmin),d=hsdataset.xmax,e=hsdataset.ymin,f=hsdataset.ymax;if(a>=c&&d>=a&&b>=e&&f>=b){xy=lltoimagecrs(a,b),imagex=xy[0],imagey=xy[1];var g=Math.floor(binvalue/2);xplus=(imagex+g).toString(),c=(imagex-g).toString(),yplus=(imagey+g).toString(),e=(imagey-g).toString();var h=getBinary(planetserver_wcps+"?query=for data in ( "+hsdataset[hstype].collection+' ) return encode(  (data[E:"CRS:1"('+c+":"+xplus+'),N:"CRS:1"('+e+":"+yplus+')]), "csv")'),i=getbin(h);if(-1!=i){pos==nrclicks-1&&(full=1);for(var j=avgbin(i),k=[],g=0;g<j.length;g++){var l=hsdataset.metadata.wavelength[g];k.push(j[g]!=hsdataset.nodata?[l,j[g]]:[l,null])}var m={},n=new OpenLayers.LonLat(a,b);if(m.lonlat=n,m.spectrum=k,hsdataset.point[pos]=m,1==full){var o=[];for(g=0;nrclicks>g;g++)o.push(hsdataset.point[g].spectrum)}else{var o=[];for(g=0;pos>=g;g++)o.push(hsdataset.point[g].spectrum)}return showPointsSpectrum(o,hsdataset.collection),!0}return!1}return!1}function ratiospectra(a,b){full=0,pos=0;var c=(hsdataset.collection,hsdataset.xmin),d=hsdataset.xmax,e=hsdataset.ymin,f=hsdataset.ymax;if(a>=c&&d>=a&&b>=e&&f>=b){xy=lltoimagecrs(a,b),imagex=xy[0],imagey=xy[1];var g=Math.floor(binvalue/2);xplus=(imagex+g).toString(),c=(imagex-g).toString(),yplus=(imagey+g).toString(),e=(imagey-g).toString();var h=getBinary(planetserver_wcps+"?query=for data in ( "+hsdataset[hstype].collection+' ) return encode(  (data[E:"CRS:1"('+c+":"+xplus+'),N:"CRS:1"('+e+":"+yplus+')]), "csv")'),i=getbin(h);if(-1!=i){if(1==turn){for(var j=avgbin(i),k=[],g=0;g<j.length;g++){var l=hsdataset.metadata.wavelength[g];if(null==hsdataset.resp_data[g]||null==j[g])k.push([l,null]);else{var m=parseFloat(hsdataset.resp_data[g],10)/parseFloat(j[g],10);k.push(m>10?[l,null]:[l,m])}}hsdataset.values=k,turn=0,pointsNumbers=[],showSpectralRatio(k,"#4bb2c5",hsdataset.collection)}else turn++,hsdataset.resp_data=avgbin(i);return!0}return!1}return!1}function getbin(a){a=a.replaceAll("{",""),a=a.replaceAll("}",""),a=a.replaceAll('"',""),hsdataset.response=a;for(var b=a.split(","),c=[],d=(b.length,0),e=0;e<b.length;e++){var f=b[e].split(" ");numbers=[];for(var g=0,h=0;h<f.length;h++)f[h]==hsdataset.nodata||0==f[h]?(numbers.push(null),g++):numbers.push(parseFloat(f[h],10));g!=numbers.length&&(c[d]=numbers,d++)}return d>0?c:-1}function avgbin(a){for(var b=[],c=0;c<a[0].length;c++){sum=0,count=a.length;for(var d=0;d<a.length;d++)null===a[d][c]?count--:sum+=a[d][c];number=sum/count,b.push(isNaN(number)?null:parseFloat(number,10))}return b}function bin(a){return i=Math.floor(a/2),binvalue=2*i+1,binvalue>maxbin?(binvalue=maxbin,"Using maximum bin of "+binvalue+"x"+binvalue):"Using bin "+binvalue+"x"+binvalue}function initdownloadify(){Downloadify.create("downloadChartDivId",{filename:function(){var a=Ext.getCmp("diagramsTabsId"),b=a.getActiveTab();if(0==b.itemId){if("undefined"!=typeof diagramplot.spectra)return"spectra.csv";Ext.Msg.alert("Information","No chart data to be saved.")}else if(1==b.itemId){if("undefined"!=typeof diagramplot.histogram)return"histogram.csv";Ext.Msg.alert("Information","No chart data to be saved.")}else{if("undefined"!=typeof diagramplot.crosssection)return"crosssection.csv";Ext.Msg.alert("Information","No chart data to be saved.")}},data:function(){var a=Ext.getCmp("diagramsTabsId"),b=a.getActiveTab();return 0==b.itemId&&"undefined"!=typeof diagramplot.spectra?spectrumtocsv(diagramplot.spectra):1==b.itemId&&"undefined"!=typeof diagramplot.histogram?histogramtocsv(diagramplot.histogram):2==b.itemId&&"undefined"!=typeof diagramplot.crosssection?crosssectiontocsv(diagramplot.crosssection):void 0},onComplete:function(){var a=Ext.getCmp("winSaveDialogId");a.hide(),Ext.Msg.alert("Information","Your file has been saved.")},onCancel:function(){var a=Ext.getCmp("winSaveDialogId");a.hide()},onError:function(){Ext.Msg.alert("Information","You must put something in the File Contents or there will be nothing to save!")},swf:"/static/files/downloadify.swf",downloadImage:"/static/images/download2.png",width:62,height:22,transparent:!0,append:!1})}function showLoader(){$("#toc").css({display:"none"}),$("#spectra").css({display:"none"}),$("#query").css({display:"none"})}function hideLoader(){$("#toc").css({display:""}),$("#spectra").css({display:""}),$("#query").css({display:""})}function initloader(){$("#loader").hide().ajaxStart(function(){$(this).show()}).ajaxStop(function(){$(this).hide()})}function getBinary(a){$("#loader").show();var b=new XMLHttpRequest;return b.open("GET",a,!1),b.overrideMimeType("text/plain; charset=x-user-defined"),b.onreadystatechange=function(){4==b.readyState&&200==b.status&&$("#loader").hide()},b.send(null),b.responseText}function base64Encode(a){for(var b,c,d,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="",g=0,h=a.length;h>g;){if(b=255&a.charCodeAt(g++),g==h){f+=e.charAt(b>>2),f+=e.charAt((3&b)<<4),f+="==";break}if(c=a.charCodeAt(g++),g==h){f+=e.charAt(b>>2),f+=e.charAt((3&b)<<4|(240&c)>>4),f+=e.charAt((15&c)<<2),f+="=";break}d=a.charCodeAt(g++),f+=e.charAt(b>>2),f+=e.charAt((3&b)<<4|(240&c)>>4),f+=e.charAt((15&c)<<2|(192&d)>>6),f+=e.charAt(63&d)}return f}function toggleDisplay(a){document.getElementById(a).style.visibility="visible",document.getElementById(a).style.display="none"==document.getElementById(a).style.display?"":"none","bandselect"==a&&("/static/images/collapse.png"==$("#special").attr("src")?$("#special").attr("src","/static/images/expand.png"):$("#special").attr("src","/static/images/collapse.png"))}function toggleVisibility(a){document.getElementById(a).style.display="",document.getElementById(a).style.visibility="hidden"==document.getElementById(a).style.visibility?"visible":"hidden"}function toggle(a){x3d_element=document.getElementById("x3d_element"),container=document.getElementById("x3d"),slider=document.getElementsByClassName("values"),zoomed?(new_width="700px",new_height="645px",a.innerHTML="FULLSCREEN",container.style.top="",container.style.left="",container.style.height="",container.style.width="",slider[4].style.width=""):(new_height=$(window).height()-115+"px",new_width=$(window).width()-25+"px",a.innerHTML="MINIMIZE",container.style.top="0px",container.style.left="0px",container.style.height=$(window).height()-20+"px",container.style.width=$(window).width()-20+"px",slider[4].style.width=$(window).width()-35+"px"),zoomed=!zoomed,x3d_element.style.width=new_width,x3d_element.style.height=new_height}function toggle2(a){chartPlace=document.getElementById("chartPlace"),histPlace=document.getElementById("histPlace"),crossPlace=document.getElementById("crossPlace"),spectrum=document.getElementById("spectra"),zoomed?(new_width=.25*$(window).width()+"px",new_height=.45*$(window).height()+"px",a.innerHTML="ZOOM",spectrum.style.top="",spectrum.style.left="",spectrum.style.width=.255*$(window).width()+"px"):(new_height=$(window).height()-100+"px",new_width=$(window).width()-65+"px",a.innerHTML="UNZOOM",spectrum.style.top="0",spectrum.style.left="0",spectrum.style.width=$(window).width()-45+"px"),zoomed=!zoomed,chartPlace.style.width=new_width,chartPlace.style.height=new_height,histPlace.style.width=new_width,histPlace.style.height=new_height,crossPlace.style.width=new_width,crossPlace.style.height=new_height,"undefined"!=typeof spectra&&spectra.replot(),"undefined"!=typeof hist&&hist.replot(),"undefined"!=typeof cross&&cross.replot()}function initguievents(){toggleBands=new OpenLayers.Control.Button({title:"Show/hide table of contents window",displayClass:"olControlToggleBands",trigger:function(){toggleDisplay("toc")}}),toggleQuery=new OpenLayers.Control.Button({title:"Show/hide console window",displayClass:"olControlToggleQuery",trigger:function(){toggleDisplay("query")}}),toggleSpectrum=new OpenLayers.Control.Button({title:"Show/hide diagram window",displayClass:"olControlToggleSpectrum",trigger:function(){toggleDisplay("spectra")}}),toggleX3d=new OpenLayers.Control.Button({title:"Show/hide X3D window",displayClass:"olControlToggleX3d",trigger:function(){toggleDisplay("x3d")}}),toggleTutorial=new OpenLayers.Control.Button({title:"Tutorial",displayClass:"olControlToggleTutorial",trigger:function(){toggleDisplay("tutorial")}}),toggleAbout=new OpenLayers.Control.Button({title:"About",displayClass:"olControlToggleAbout",trigger:function(){toggleDisplay("about")}}),permalink=new OpenLayers.Control.Button({title:"Permalink",displayClass:"olControlPermalink",trigger:function(){window.location=$("#permalink").attr("href")}})}function switch_tabs(a){$(".tab-content").hide(),$(".tabs a").removeClass("selected");var b=a.attr("rel");$("#"+b).show(),a.addClass("selected"),"undefined"!=typeof spectra&&spectra.replot(),"undefined"!=typeof hist&&hist.replot(),"undefined"!=typeof cross&&cross.replot()}function switch_tabs1(a){$(".tab-content1").hide(),$(".tabs1 a").removeClass("selected1");var b=a.attr("rel");$("#"+b).show(),a.addClass("selected1")}function switch_tabs2(a){$(".tab-content2").hide(),$(".tabs2 a").removeClass("selected2");var b=a.attr("rel");$("#"+b).show(),a.addClass("selected2")}function inittabs(){$(".tabs a").click(function(){switch_tabs($(this))});var a=$(".defaulttab");$(".tab-content").hide(),$(".tabs a").removeClass("selected");var b=a.attr("rel");$("#"+b).show(),a.addClass("selected"),$(".tabs1 a").click(function(){switch_tabs1($(this))});var c=$(".defaulttab1");$(".tab-content1").hide(),$(".tabs1 a").removeClass("selected1");var b=c.attr("rel");$("#"+b).show(),c.addClass("selected1")}function inittoctabs(){$(".tabs2 a").click(function(){switch_tabs2($(this))});var a=$(".defaulttab2");$(".tab-content2").hide(),$(".tabs2 a").removeClass("selected2");var b=a.attr("rel");$("#"+b).show(),a.addClass("selected2")}function adjustCSS(){$("#map").css({}),$("#bandselect").css({height:.4*$(window).height()+"px"}),$("#spectra").css({width:.275*$(window).width()+"px"}),$("#chartPlace").css({width:.27*$(window).width()+"px"}),$("#chartPlace").css({height:.45*$(window).height()+"px"}),$("#histPlace").css({width:.27*$(window).width()+"px"}),$("#histPlace").css({height:.45*$(window).height()+"px"}),$("#crossPlace").css({width:.27*$(window).width()+"px"}),$("#crossPlace").css({height:.45*$(window).height()+"px"}),$("#query").css({width:.405*$(window).width()+"px"}),$(".console").css({height:.11*$(window).height()+"px"}),$(".console").css({width:.405*$(window).width()+"px"}),$(".console .jquery-console-inner").css({height:.11*$(window).height()+"px"}),$("#query").css({})}function resizecss(){$(window).resize(function(){$("#map").css({height:$(window).height()-132+"px",width:"100%"})})}function resizeMap(){$(window).resize(function(){$("#map").css({height:$(window).height()-84+"px"}),$("#map").css({width:$(window).width()+"px"})})}function initdragwindows(){$.getScript("http://code.jquery.com/ui/1.10.3/jquery-ui.js",function(){$("#spectra").draggable({containment:"parent",distance:1,handle:"#title-wrapper"}),$("#toc").draggable({containment:"parent",distance:1,handle:"#title-wrapper"}),$("#query").draggable({containment:"parent",distance:1,handle:"#title-wrapper"}),$("#about").draggable({containment:"parent",distance:1,handle:"#title-wrapper"}),$("#tutorial").draggable({containment:"parent",distance:1,handle:"#title-wrapper"}),$("#x3d").draggable({containment:"parent",distance:1,handle:"#title-wrapper"}),$("#vnirorir").draggable({containment:"parent",distance:1,handle:"#title-wrapper"})})}function initmap(){map=new OpenLayers.Map("map",{controls:[new OpenLayers.Control.Navigation,new OpenLayers.Control.PanZoomBar],numZoomLevels:20,projection:"PS:1",displayProjection:new OpenLayers.Projection("PS:1"),units:"degrees",maxExtent:maxextent});var a=new OpenLayers.Control.CacheWrite({autoActivate:!0,imageFormat:"image/jpeg",eventListeners:{cachefull:function(){console&&console.log&&console.log("Cache full")}}});map.addControl(a);var b=new OpenLayers.Control.CacheRead;map.addControl(b),map.addControl(new OpenLayers.Control.ScaleLine({geodesic:!0})),map.events.register("mousemove",map,function(a){var b=new OpenLayers.Pixel(a.xy.x,a.xy.y);hsdataset.lonlat=map.getLonLatFromPixel(b);var c=hsdataset.lonlat.lon,d=hsdataset.lonlat.lat;window.location.hash="#lan="+d+"lon="+c,Ext.getCmp("labelShowCoord").setText("Coord "+c.toFixed(5)+", "+d.toFixed(5)),mousePosition=b});var c={isBaseLayer:!0,displayInLayerSwitcher:!1};console.log("????"),fake=new OpenLayers.Layer("fake",c),GlobalMOLARGB=new OpenLayers.Layer.MapServer("MOLA RGB",planetserver_ms_wms,{map:"mola.map",layers:"molargb",projection:"PS:1"},{isBaseLayer:!1,transitionEffect:"resize",wrapDateLine:!0}),GlobalTHEMISIRday=new OpenLayers.Layer.MapServer("THEMIS IR day",planetserver_ms_wms,{map:"themisirday.map",layers:"themisirday",projection:"PS:2?0",transparent:"true"},{isBaseLayer:!1,opacity:.5,transitionEffect:"resize",wrapDateLine:!0}),map.addLayers([fake,GlobalMOLARGB,GlobalTHEMISIRday]),map.zoomTo(3);var d=new OpenLayers.Editor(map,{activeControls:["Navigation","SnappingSettings","CADTools","TransformFeature","Separator","DeleteFeature","DragFeature","SelectFeature","Separator","DrawHole","ModifyFeature","Separator"],featureTypes:["regular","polygon","path","point"]});d.startEditMode()}function initpanels(){var a=document.getElementById("panel"),b=new OpenLayers.Control.Panel({defaultControl:featureInfo,div:a}),c=document.getElementById("panel3"),d=new OpenLayers.Control.Panel({div:c});b.addControls([featureInfo,featureInfo1,featureInfo2,featureInfo3,featureInfo4,zoomBox,new OpenLayers.Control.ZoomBox({title:"Zoom out box",displayClass:"olControlZoomOutBox",out:!0}),new OpenLayers.Control.DragPan({title:"Drag map",displayClass:"olControlPanMap"}),zoomToContextExtent,navHistory.previous,navHistory.next,measureControls.line,measureControls.polygon]),d.addControls([permalink]),map.addControl(b),map.addControl(d)}function initvectors(){var a=new OpenLayers.StyleMap({"default":new OpenLayers.Style({fillColor:"${fcolor}"})}),b=new OpenLayers.StyleMap({"default":new OpenLayers.Style({fillColor:"#4bb2c5"})}),c=new OpenLayers.StyleMap({"default":new OpenLayers.Style({fillColor:"#ee9900",strokeWidth:2,strokeColor:"#ee9900"})});vector_layer=new OpenLayers.Layer.Vector("Series",{styleMap:a,rendererOptions:{zIndexing:!0,extractAttributes:!0},displayInLayerSwitcher:!1}),vector_layer2=new OpenLayers.Layer.Vector("Spectral ratio",{styleMap:b,rendererOptions:{zIndexing:!0},displayInLayerSwitcher:!1}),vector_layer3=new OpenLayers.Layer.Vector("Elevation point",{styleMap:c,rendererOptions:{zIndexing:!0},displayInLayerSwitcher:!1}),vector_layer4=new OpenLayers.Layer.Vector("Cross",{styleMap:b,rendererOptions:{zIndexing:!0},displayInLayerSwitcher:!1}),vector_layer.events.on({beforefeatureadded:function(){var a=vector_layer.features.length;a==nrclicks&&vector_layer.removeFeatures(vector_layer.features[0])}}),vector_layer2.events.on({beforefeatureadded:function(){2==vector_layer2.features.length&&vector_layer2.destroyFeatures()}}),vector_layer3.events.on({beforefeatureadded:function(){3==vector_layer3.features.length&&vector_layer3.destroyFeatures()}}),vector_layer4.events.on({beforefeatureadded:function(){1==vector_layer4.features.length&&vector_layer4.destroyFeatures()}}),map.addLayers([vector_layer,vector_layer2,vector_layer3,vector_layer4])}function mapZoomMaximum(){map.zoomToExtent(maxextent)}function handleMeasurements(a){var b=a.units,c=a.order,d=a.measure;1==c?Ext.getCmp("labelShowStatus").setText("Distance: "+d.toFixed(3)+" "+b):Ext.getCmp("labelShowStatus").update("Area: "+d.toFixed(3)+" "+b+"<sup>2</sup>")}function toggleQueryMode1(){featureInfo1.active?queryEventHandler1.activate():queryEventHandler1.deactivate()}function toggleQueryMode2(){featureInfo2.active?queryEventHandler2.activate():queryEventHandler2.deactivate()}function toggleQueryMode3(){featureInfo3.active?queryEventHandler3.activate():queryEventHandler3.deactivate()}function toggleQueryMode4(){featureInfo4.active?queryEventHandler4.activate():queryEventHandler4.deactivate()}function initmapevents(){function a(a){var b=map.getLonLatFromPixel(a.xy),c=b.lon,d=b.lat;if(vector_layer2.destroyFeatures(),addspectrum(c,d)){var e={x:c,y:d},f=new OpenLayers.Geometry.Polygon.createRegularPolygon(e,pointsize,50),g=new OpenLayers.Feature.Vector(f,{fcolor:colors[pos]});vector_layer.addFeatures(g),pos++,pos==nrclicks&&(pos=0)}}function b(a){var b=map.getLonLatFromPixel(a.xy),c=b.lon,d=b.lat;if(vector_layer.destroyFeatures(),ratiospectra(c,d)){var e={x:c,y:d},f=new OpenLayers.Geometry.Polygon.createRegularPolygon(e,pointsize,50);vector_layer2.addFeatures(new OpenLayers.Feature.Vector(f))}}function c(a){vector_layer.destroyFeatures(),vector_layer2.destroyFeatures(),vector_layer4.destroyFeatures();var b=map.getLonLatFromPixel(a.xy),c=dtmdataset.xmin,d=dtmdataset.xmax,e=dtmdataset.ymin,f=dtmdataset.ymax;if(b.lon>=c&&b.lon<=d&&b.lat>=e&&b.lat<=f){var g={x:b.lon,y:b.lat},h=new OpenLayers.Geometry.Polygon.createRegularPolygon(g,pointsize,50);if(vector_layer3.addFeatures(new OpenLayers.Feature.Vector(h)),1==crossturn){var i=new Array(new OpenLayers.Geometry.Point(b.lon,b.lat),new OpenLayers.Geometry.Point(dtmdataset.templonlat.lon,dtmdataset.templonlat.lat)),j=new OpenLayers.Geometry.LineString(i);vector_layer3.addFeatures(new OpenLayers.Feature.Vector(j));var k=dtmdataset.templonlat.lon,l=dtmdataset.templonlat.lat,m=b.lon,n=b.lat;showCrossSectionDiagram(k,l,m,n),crossturn=0}else crossturn++,dtmdataset.templonlat=b;return!0}return!1}function d(a){var b=map.getLonLatFromPixel(a.xy),c=dtmdataset.xmin,d=dtmdataset.xmax,e=dtmdataset.ymin,f=dtmdataset.ymax;b.lon>=c&&b.lon<=d&&b.lat>=e&&b.lat<=f&&getz(b.lon,b.lat)}map.addControl(zoomBoxIn),map.addControl(zoomBoxOut),zoomBox=new OpenLayers.Control.ZoomBox({title:"Zoom in box"}),map.addControl(navHistory),featureInfo=new OpenLayers.Control({displayClass:"olControlFeatureInfo",title:"Select"}),featureInfo1=new OpenLayers.Control({displayClass:"olControlFeatureInfo1",title:"Spectrum"}),featureInfo1.events.register("activate",featureInfo1,function(){toggleQueryMode1()}),featureInfo1.events.register("deactivate",featureInfo1,function(){toggleQueryMode1()}),featureInfo2=new OpenLayers.Control({displayClass:"olControlFeatureInfo2",title:"Spectral ratio"}),featureInfo2.events.register("activate",featureInfo2,function(){toggleQueryMode2()}),featureInfo2.events.register("deactivate",featureInfo2,function(){toggleQueryMode2()}),featureInfo3=new OpenLayers.Control({displayClass:"olControlFeatureInfo3",title:"Cross section"}),featureInfo3.events.register("activate",featureInfo3,function(){toggleQueryMode3()}),featureInfo3.events.register("deactivate",featureInfo3,function(){toggleQueryMode3()}),featureInfo4=new OpenLayers.Control({displayClass:"olControlFeatureInfo4",title:"Elevation point"}),featureInfo4.events.register("activate",featureInfo4,function(){toggleQueryMode4()}),featureInfo4.events.register("deactivate",featureInfo4,function(){toggleQueryMode4()}),zoomToContextExtent=new OpenLayers.Control.Button({title:"Full scale",displayClass:"olControlZoomToMaxExtent",trigger:function(){map.zoomToExtent(maxextent)}});var e={handlerOptions:{persist:!0},displayClass:"olControlMeasureDistance",title:"Measure Distance"},f={handlerOptions:{persist:!0},displayClass:"olControlMeasureArea",title:"Measure Area"};measureControls={line:new OpenLayers.Control.Measure(OpenLayers.Handler.Path,e),polygon:new OpenLayers.Control.Measure(OpenLayers.Handler.Polygon,f)};for(var g in measureControls)control=measureControls[g],control.geodesic=!0,control.events.on({measure:handleMeasurements,measurepartial:handleMeasurements});map.addControl(measureControls.line),map.addControl(measureControls.polygon);var h={dragPan:new OpenLayers.Control.DragPan};dragControls={dragger:new OpenLayers.Control.Navigation(h)},map.addControl(dragControls.dragger),queryEventHandler1=new OpenLayers.Handler.Click({map:map},{click:function(b){a(b)}}),queryEventHandler2=new OpenLayers.Handler.Click({map:map},{click:function(a){b(a)}}),queryEventHandler3=new OpenLayers.Handler.Click({map:map},{click:function(a){c(a)}}),queryEventHandler4=new OpenLayers.Handler.Click({map:map},{click:function(a){d(a)}})}function inithsmapevents(){OpenLayers.Control.Click=OpenLayers.Class(OpenLayers.Control,{defaultHandlerOptions:{single:!0,"double":!1,pixelTolerance:0,stopSingle:!1,stopDouble:!1},initialize:function(){this.handlerOptions=OpenLayers.Util.extend({},this.defaultHandlerOptions),OpenLayers.Control.prototype.initialize.apply(this,arguments)}}),click=new OpenLayers.Control.Click,map.addControl(click),click.activate()}function initspectrallibrary(){$("#loadlibrary").click(function(e){var library=$("#spectrallibrary").val();if("selectlibrary"==library)alert("Please select one of the libraries before clicking on the load button.");else{var libspectra=$("#selectspectra[name="+library+"]").val();if(void 0==libspectra){var file="/static/js/speclib/"+library+".js";$.getScript(file).done(function(){eval("data = "+library+";");var html="";for(var key in data)"Wavelength"!=key&&(html+='<option value="'+key+'">'+key+"</option>");var libraryselect='<select name="'+library+'" id="selectspectra" size=1>'+html+"</select>";$("#afterload").html(libraryselect)}).fail(function(){alert("Error loading the file.")})}else{var numbers=[];eval("data = "+library+";"),wavelength=data.Wavelength,values=data[libspectra];for(var i=0;i<wavelength.length;i++)numbers.push([wavelength[i],values[i]]);var output=[],tempcolors=[];for(i=0;pos>i;i++)output.push(hsdataset.point[i].spectrum),tempcolors.push(colors[i]);tempcolors.push("Black"),output.push(numbers),spectrum_load(output,tempcolors,libspectra)}}})}function inittoc(){layerSwitcher=new OpenLayers.Control.LayerSwitcher({div:OpenLayers.Util.getElement("layerswitcher")}),layerSwitcher.ascending=!1,layerSwitcher.useLegendGraphics=!0,map.addControl(layerSwitcher)}function loadtoc(){$("#toc").html('<div id="title-wrapper"><div id="title">TABLE OF CONTENTS</div></div><div id="close-wrapper"><a href="javascript:void(0)" onclick="toggleDisplay(&quot;toc&quot;)">X</a></div></br></br><div id="layerswitcher"></div><div id="dimensions"></div><div id="bandlist"></div>');for(var a="",b=parseInt(hsdataset.bands),c=0;b>c;c++)bandnr="band"+(c+1),a+=0==hsdataset.metadata.bbl[c]?'<option value="'+bandnr+'">'+bandnr+" ("+hsdataset.metadata.wavelength[c]+") (bad)</option>":'<option value="'+bandnr+'">'+bandnr+" ("+hsdataset.metadata.wavelength[c]+")</option>";var d='<input class="pnglayer" type="checkbox" value="0" checked="true"/><span href="javascript:void(0)" onclick="toggleDisplay(&quot;dimensions&quot;);toggleDisplay(&quot;pngselect&quot;)"><img id="special" src="/static/images/collapse.png"/></span>&nbsp;'+PNGimages[0].name,e=jQuery('<ul class="tabs2"><li class="first"><a href="javascript:void(0)" class="defaulttab2" rel="tabs21">Bands</a></li><li><a href="javascript:void(0)" rel="tabs22">SP</a></li></ul><div class="tab-content2" id="tabs21"><select size=20 multiple="multiple" name="bandselect" id="bandselect"></select></div><div class="tab-content2" id="tabs22"><select size=20 multiple="multiple" name="spselect" id="spselect"></div>'),f=jQuery('<form id="pngsel"></form>'),g=jQuery('<form id="pngselect"></form>'),h=new OpenLayers.Control.LayerSwitcher({div:OpenLayers.Util.getElement("layerswitcher")});
map.addControl(h),$("#dimensions").append(f),$("#dimensions").append(g),$("#pngsel").append(d),$("#dimensions").append('<div id="png"></div>'),$("#dimensions").append(e),$("#bandselect").append(a),$("#bandlist").append(jQuery('<br><br>R: <input name="red" id="red" value="band70" />')),$("#bandlist").append(jQuery('<br>G: <input name="green" id="green" value="band80" />')),$("#bandlist").append(jQuery('<br>B: <input name="blue" id="blue" value="band90" />')),$("#bandlist").append(jQuery('<br><br><input type="button" name="greyquery" id="greyquery" value="Greyscale" />&nbsp;&nbsp;<input type="button" name="rgbquery" id="rgbquery" value="RGB" />')),adjustCSS();var i="";for(var j in sp)i+='<option value="'+sp[j.toString()]+'">'+j+"</option>";$("#spselect").append(i)}function inittocevents(){$("#bandselect").click(function(){value=$("#bandselect").val(),0==rgb?($("#red").val(value),rgb=1):1==rgb?($("#green").val(value),rgb=2):2==rgb&&($("#blue").val(value),rgb=0)}),$("#spselect").click(function(){value=$("#spselect").val(),0==rgb?($("#red").val(value),rgb=1):1==rgb?($("#green").val(value),rgb=2):2==rgb&&($("#blue").val(value),rgb=0)}),$("#rgbquery").click(function(){red=band2data($("#red").val()),green=band2data($("#green").val()),blue=band2data($("#blue").val()),rgbimage(red,green,blue)}),$("#greyquery").click(function(){var a;if("Bands"==$(".selected2").html())a=$("#bandselect").val();else var a=$("#spselect").val();null==a?alert("please select a band!"):image(a)}),$("#histcalc").click(function(){var a=$("#bandselect").val();if(null==a)alert("please select a band!");else{var b=$("#nrbins").val();histogram(band2data(a.toString()),b)}}),$(".pnglayer").change(function(){i=$(this).val(),PNGimages[i].setVisibility($(this).is(":checked")?!0:!1)})}function initmetadata(){var a=getBinary("/static/js/metadata/"+hsdataset.ir.collection+".js");hsdataset.ir.metadata=JSON.parse(a),hsdataset.ir.xmin=hsdataset.ir.metadata.xmin,hsdataset.ir.xmax=hsdataset.ir.metadata.xmax,hsdataset.ir.ymin=hsdataset.ir.metadata.ymin,hsdataset.ir.ymax=hsdataset.ir.metadata.ymax,hsdataset.ir.width=hsdataset.ir.metadata.width,hsdataset.ir.height=hsdataset.ir.metadata.height,hsdataset.ir.bands=hsdataset.ir.metadata.bands;var b=new OpenLayers.Bounds(hsdataset.ir.xmin,hsdataset.ir.ymin,hsdataset.ir.xmax,hsdataset.ir.ymax);b.transform(new OpenLayers.Projection("PS:2?0"),new OpenLayers.Projection("PS:1")),hsdataset.ir.left=b.left,hsdataset.ir.right=b.right,hsdataset.ir.bottom=b.bottom,hsdataset.ir.top=b.top,hsdataset.ir.bbox=b;var c=getBinary("/static/js/metadata/"+hsdataset.vnir.collection+".js");hsdataset.vnir.metadata=JSON.parse(c),hsdataset.vnir.xmin=hsdataset.vnir.metadata.xmin,hsdataset.vnir.xmax=hsdataset.vnir.metadata.xmax,hsdataset.vnir.ymin=hsdataset.vnir.metadata.ymin,hsdataset.vnir.ymax=hsdataset.vnir.metadata.ymax,hsdataset.vnir.width=hsdataset.vnir.metadata.width,hsdataset.vnir.height=hsdataset.vnir.metadata.height,hsdataset.vnir.bands=hsdataset.vnir.metadata.bands;var d=new OpenLayers.Bounds(hsdataset.vnir.xmin,hsdataset.vnir.ymin,hsdataset.vnir.xmax,hsdataset.vnir.ymax);d.transform(new OpenLayers.Projection("PS:2?0"),new OpenLayers.Projection("PS:1")),hsdataset.vnir.left=d.left,hsdataset.vnir.right=d.right,hsdataset.vnir.bottom=d.bottom,hsdataset.vnir.top=d.top,hsdataset.vnir.bbox=d,hsdataset.region=hsdataset.vnir.metadata.region}function checkpredef(a){return a==sp.olindex?"OLINDEX":a==sp.olindex2?"OLINDEX2":a==sp.lcpindex?"LCPINDEX":a==sp.hcpindex?"HCPINDEX":a==sp.bd530?"BD530":a==sp.bd860?"BD860":a==sp.bd920?"BD920":a==sp.bd2100?"BD2100":a==sp.bd2200?"BD2200":a==sp.bd1900r?"BD1900R":a==sp.d2300?"D2300":a==sp.sindex?"SINDEX":a==sp.bd1980?"BD1980":a==sp.doub2200?"DOUB2200":a==sp.bd2230?"BD2230":a==sp.bd2500?"BD2500":a==sp.irr3?"IRR3":a==sp.bd2700?"BD2700":a==sp.r2700?"R2700":a==sp.irr2?"IRR2":a==sp.bd2600?"BD2600":a==sp.bd2350?"BD2350":a==sp.bd2000co2?"BD2000CO2":a==sp.bd1400h2o?"BD1400H2O":a==sp.bd1270o2?"BD1270O2":a==sp.cindex?"CINDEX":a==sp.bd3400?"BD3400":a==sp.bd3200?"BD3200":a==sp.bd3100?"BD3100":a==sp.bd3000?"BD3000":a==sp.bdcarb?"BDCARB":a==sp.icer2?"ICER2":a==sp.bd1900?"BD1900":a==sp.bd1750?"BD1750":a==sp.icer1?"ICER1":a==sp.bd1500?"BD1500":a==sp.bd1435?"BD1435":a==sp.islope1?"ISLOPE1":a==sp.ira?"IRA":a==sp.r770?"R770":a==sp.rbr?"RBR":a==sp.sh600?"SH600":a==sp.bd640?"BD640":a}function nm2band(a,b){b="undefined"==typeof b?0:b,data=hsdataset.metadata.wavelength,bandnr=0,c=0,mm=a/1e3;for(var c=0;c<data.length;c++)data[c]>=mm&&0==bandnr&&(bandnr=c);return Math.abs(data[bandnr-1]-mm)<=Math.abs(data[bandnr]-mm)&&(bandnr-=1),1==b?bandnr:"data."+bandnr}function nm2wavelength(a){data=hsdataset.metadata.wavelength,bandnr=0,b=0,mm=a/1e3;for(var b=0;b<data.length;b++)data[b]>=mm&&0==bandnr&&(bandnr=b);return Math.abs(data[bandnr-1]-mm)<=Math.abs(data[bandnr]-mm)?hsdataset.metadata.wavelength[bandnr-1]:hsdataset.metadata.wavelength[bandnr]}function banddepth(c,d,e){var f=nm2band(c),g=nm2wavelength(c),h=nm2band(d),i=nm2wavelength(d),j=nm2band(e),k=nm2wavelength(e);return a=(i-g)/(k-g),b=1-a,string="(1 - ("+h+" / (("+b+" * "+f+") + ("+a+" * "+j+"))))"}function initsp(){var e=nm2band(1080),f=nm2band(1210),g=nm2band(1330),h=nm2band(1470),i=nm2band(1695),j="("+i+" / (0.1*"+e+" + 0.1*"+f+" + 0.4*"+g+" + 0.4*"+h+" ) ) - 1",k=nm2band(2404),l=nm2band(2397),m=nm2band(2410),n=nm2band(1750),o=nm2band(1744),p=nm2band(1757),q=nm2band(1054),r=nm2band(1047),s=nm2band(1060),t=nm2band(1211),u=nm2band(1204),v=nm2band(1218),w=nm2band(1329),x=nm2band(1326),y=nm2band(1336),z=nm2band(1474),A=nm2band(1467),B=nm2band(1480),C="(("+k+" + "+l+" + "+m+") / 3)",D="(("+n+" + "+o+" + "+p+") / 3)",E="(("+q+" + "+r+" + "+s+") / 3)",F="(("+t+" + "+u+" + "+v+") / 3)",G="(("+w+" + "+x+" + "+y+") / 3)",H="(("+z+" + "+A+" + "+B+") / 3)",I="(("+C+" - "+D+") / (2.404 - 1.750))",J="("+C+" - (2.404 * "+I+"))",K="(("+I+" * 1.054) + "+J+")",L="(("+I+" * 1.211) + "+J+")",M="(("+I+" * 1.329) + "+J+")",N="(("+I+" * 1.474) + "+J+")",O="((("+K+" - "+E+") / "+K+") * 0.1) + ((("+L+" - "+F+") / "+L+") * 0.1) + ((("+M+" - "+G+") / "+M+") * 0.4) + ((("+N+" - "+H+") / "+N+") * 0.4)",e=nm2band(1080),g=nm2band(1330),P=nm2band(1815),Q="100 * ( ( "+g+" - "+e+" ) / ( "+g+" + "+e+" )) * ( ( "+g+" - "+P+" ) / ( "+g+" + "+P+" ) )",e=nm2band(1080),h=nm2band(1470),R=nm2band(2067),S="100 * ( ( "+h+" - "+e+" ) / ( "+h+" + "+e+" )) * ( ( "+h+" - "+R+" ) / ( "+h+" + "+R+" ) )",T=banddepth(440,530,709),U=banddepth(800,860,984),V=banddepth(800,920,984);R1930=nm2band(1930),R2120=nm2band(2120),R2140=nm2band(2140),R2250=nm2band(2250),WL=nm2wavelength(1930),WC=.5*(nm2wavelength(2120)+nm2wavelength(2140)),WH=nm2wavelength(2250),a2100=(WC-WL)/(WH-WL),b2100=1-a2100;var W="(1 - ( ( ("+R2120+" + "+R2140+" ) * 0.5 ) / ( ("+b2100+" * "+R1930+") + ("+a2100+" * "+R2250+") ) ))";R2132=nm2band(2132),R2146=nm2band(2146),R2199=nm2band(2199),R2205=nm2band(2205),R2252=nm2band(2252),R2258=nm2band(2258);var X="(1 - ((("+R2199+" + "+R2205+") * 2.0 ) / ("+R2132+" + "+R2146+" + "+R2252+" + "+R2258+" ) ))";R1908=nm2band(1908),R1914=nm2band(1914),R1921=nm2band(1921),R1928=nm2band(1928),R1934=nm2band(1934),R1941=nm2band(1941),R1862=nm2band(1862),R1869=nm2band(1869),R1875=nm2band(1875),R2112=nm2band(2112),R2120=nm2band(2120),R2126=nm2band(2126);var Y="(1 -((("+R1908+" + "+R1914+" + "+R1921+" + "+R1928+" + "+R1934+" + "+R1941+")) / ("+R1862+" + "+R1869+" + "+R1875+" + "+R2112+" + "+R2120+" + "+R2126+" ) ))";R2100=nm2band(2100),R2400=nm2band(2400),R2290=nm2band(2290);var Z="(1 - ( ("+R2100+" + "+R2400+") / ( 2 * "+R2290+") ))";P=nm2band(1815),R2530=nm2band(2530),R2320=nm2band(2320),W2320=nm2wavelength(2320),R2170=nm2band(2170),W2170=nm2wavelength(2170),R2120=nm2band(2120),R2290=nm2band(2290),R2350=nm2band(2350),R2330=nm2band(2330),R2210=nm2band(2210),a2300=nm2wavelength(2530),b2300=nm2wavelength(1815),slope="(("+R2530+" - "+P+") / ("+a2300+" - "+b2300+"))",CR2290="("+P+" + "+slope+" * ("+nm2wavelength(2290)+" - "+b2300+"))",CR2320="("+P+" + "+slope+" * ("+nm2wavelength(2320)+" - "+b2300+"))",CR2330="("+P+" + "+slope+" * ("+nm2wavelength(2330)+" - "+b2300+"))",CR2120="("+P+" + "+slope+" * ("+nm2wavelength(2120)+" - "+b2300+"))",CR2170="("+P+" + "+slope+" * ("+nm2wavelength(2170)+" - "+b2300+"))",CR2210="("+P+" + "+slope+" * ("+nm2wavelength(2210)+" - "+b2300+"))";var $="(1 - ( (("+R2290+" / "+CR2290+") + ("+R2320+" / "+CR2320+") + ("+R2330+" / "+CR2330+")) / (("+R2120+" / "+CR2120+") + ("+R2170+" / "+CR2170+") + ("+R2210+" / "+CR2210+")) ))";R1921=nm2band(1921),R1980=nm2band(1980),R1987=nm2band(1987),R2040=nm2band(2040);var _="(1 - ((("+R1980+" + "+R1987+")) / ("+R1921+" + "+R2040+" ) ))";R2172=nm2band(2172),R2205=nm2band(2205),R2258=nm2band(2258),R2311=nm2band(2311);var ab="(1 - (("+R2205+" + "+R2258+") / ("+R2172+" + "+R2311+") ))";R2231=nm2band(2231),R2258=nm2band(2258),R2251=nm2band(2251),R2212=nm2band(2212),R2198=nm2band(2198),WL1=nm2wavelength(2212),WL2=nm2wavelength(2198),WC=nm2wavelength(2231),WH1=nm2wavelength(2258),WH2=nm2wavelength(2251),b=(WC-(WL1+WL2)/2)/((WH1+WH2)/2-(WL1+WL2)/2),a=1-b;var bb="(1 - ( "+R2231+" / ( "+a+" * ("+R2212+" + "+R2198+") / 2 + "+b+" * ("+R2258+"+ "+R2251+") / 2 ) ))";R2380=nm2band(2380),R2500=nm2band(2500),R2510=nm2band(2510),R2540=nm2band(2540);var cb="(1 - ( ("+R2500+" + "+R2510+") / ( "+R2540+" + "+R2380+" ) ))";R3630=nm2band(3630),a=nm2wavelength(3630)/1e3,b=nm2wavelength(3750),c=nm2wavelength(3920),R3750=nm2band(3750),R3920=nm2band(3920);var db="((("+R3750+" + (("+R3750+"-"+R3630+")/("+b+" - "+a+")) * ("+c+" - "+b+")) / "+R3920+") - 1)";R3250=nm2band(3250),R3390=nm2band(3390),R3500=nm2band(3500),R3630=nm2band(3630),WL=nm2wavelength(3250),WC=.5*(nm2wavelength(3390)+nm2wavelength(3500)),WH=nm2wavelength(3630),c=(WC-WL)/(WH-WL),d=1-c;var eb="(1 - ( ( "+R3390+" + "+R3500+" ) * 0.5 / ( "+d+" * "+R3250+" + "+c+" * "+R3630+" ) ))";R3250=nm2band(3250),R3320=nm2band(3320),R3390=nm2band(3390),WL=nm2wavelength(3250),WC=nm2wavelength(3320),WH=nm2wavelength(3390),a=(WC-WL)/(WH-WL),b=1-a;var fb="(1 - ( "+R3320+" / ( "+b+" * "+R3250+" + "+a+" * "+R3390+" ) ))";R3000=nm2band(3e3),R3120=nm2band(3120),R3250=nm2band(3250),WL=nm2wavelength(3e3),WC=nm2wavelength(3120),WH=nm2wavelength(3250),a=(WC-WL)/(WH-WL),b=1-a;var gb="(1 - ( "+R3120+" / ( "+b+" * "+R3000+" + "+a+" * "+R3250+" ) ))";R2210=nm2band(2210),R2530=nm2band(2530),R3000=nm2band(3e3);var hb="(1 - ( "+R3000+" / ( "+R2530+" * ( "+R2530+" / "+R2210+" ) ) ))";R2330=nm2band(2330),R2390=nm2band(2390),R2530=nm2band(2530),R2600=nm2band(2600),R2230=nm2band(2230),WL1=nm2wavelength(2230),WC1=.5*(nm2wavelength(2330)+nm2wavelength(2120)),WH1=nm2wavelength(2390),a=(WC1-WL1)/(WH1-WL1),b=1-a,WL2=nm2wavelength(2390),WC2=.5*(nm2wavelength(2530)+nm2wavelength(2120)),WH2=nm2wavelength(2600),c=(WC2-WL2)/(WH2-WL2),d=1-c;var ib="(1 - ( sqrt( ( "+R2330+" / ( "+b+" * "+R2230+" + "+a+" * "+R2390+" ) ) * ( "+R2530+" / ( "+d+" * "+R2230+" + "+c+" * "+R2600+" ) ) ) ))";R2530=nm2band(2530),R2600=nm2band(2600);var jb="("+R2530+" / "+R2600+")";R1973=nm2band(1973),R1927=nm2band(1927),R2006=nm2band(2006),R1874=nm2band(1874);var kb="(1 - ("+R1973+" + "+R1927+") / ("+R2006+" + "+R1874+"))";P=nm2band(1815),n=nm2band(1750),R1557=nm2band(1557),WL=nm2wavelength(1557),WC=nm2wavelength(1750),WH=nm2wavelength(1815),a=(WC-WL)/(WH-WL),b=1-a;var lb="(1 - ( "+n+" / ( "+b+" * "+R1557+" + "+a+" * "+P+" ) ))";R1430=nm2band(1430),R1510=nm2band(1510);var mb="("+R1510+" / "+R1430+")";R1558=nm2band(1558),R1505=nm2band(1505),R1808=nm2band(1808),R1367=nm2band(1367);var nb="(1 - ("+R1558+" + "+R1505+") / ("+R1808+" + "+R1367+"))";h=nm2band(1470),R1430=nm2band(1430),R1370=nm2band(1370),WL=nm2wavelength(1370),WC=nm2wavelength(1430),WH=nm2wavelength(1470),a=(WC-WL)/(WH-WL),b=1-a;var ob="(1 - ( "+R1430+" / ( "+b+" * "+R1370+" + "+a+" * "+h+" ) ))";P=nm2band(1815),R2530=nm2band(2530),W2530=nm2wavelength(2530)/1e3,W1815=nm2wavelength(1815)/1e3;var pb="(( "+P+" - "+R2530+" ) /  ( "+W2530+" - "+W1815+" ))";g=nm2band(1330);var qb="("+g+")";R600=nm2band(600),R709=nm2band(709),R648=nm2band(648),WL=nm2wavelength(600),WC=nm2wavelength(648),WH=nm2wavelength(709),a=(WC-WL)/(WH-WL),b=1-a;var rb="(1 - ( "+R648+" /  ("+b+" * "+R600+" + "+a+" * "+R709+" ) ))";R533=nm2band(533),R600=nm2band(600),R710=nm2band(710),WL=nm2wavelength(533),WC=nm2wavelength(600),WH=nm2wavelength(710),a=(WC-WL)/(WH-WL),b=1-a;var sb="(1 - (("+b+" * "+R533+" + "+a+" * "+R710+") / "+R600+"))";R770=nm2band(770),R440=nm2band(440);var tb="("+R770+" / "+R440+")";R770=nm2band(770);var ub="("+R770+")";R3500=nm2band(3500),R3390=nm2band(3390);var vb="("+R3500+" / "+R3390+")";R2694=nm2band(2694),R2530=nm2band(2530),R2350=nm2band(2350);var wb="(1 - ( "+R2694+" / ( "+R2530+" * ( "+R2530+" / "+R2350+" ) ) ))";R2694=nm2band(2694);var xb="("+R2694+")";R2210=nm2band(2210),R2530=nm2band(2530);var yb="("+R2530+" / "+R2210+")";R2530=nm2band(2530),R2600=nm2band(2600),R2630=nm2band(2630),WL=nm2wavelength(2530),WC=nm2wavelength(2600),WH=nm2wavelength(2630),a=(WC-WL)/(WH-WL),b=1-a;var zb="(1 - ( "+R2600+" / ( "+b+" * "+R2530+" + "+a+" * "+R2630+" ) ))";LAMB=2320,R2320=nm2band(LAMB),R2330=nm2band(2330),R2350=nm2band(2350),R2290=nm2band(2290),R2430=nm2band(2430),WL=nm2wavelength(2290),WC=.33333*(nm2wavelength(2320)+nm2wavelength(2330)+nm2wavelength(2350)),WH=nm2wavelength(2430),a=.33333,b=.33333,c=.33333,d=(WC-WL)/(WH-WL),ee=1-d;var Ab="(1-( ( "+a+" * "+R2320+" + "+b+" * "+R2330+" + "+c+" * "+R2350+" ) / ( "+ee+" * "+R2290+" + "+d+" * "+R2430+" ) ))";P=nm2band(1815),LAMB=2170,R2170=nm2band(LAMB),R2010=nm2band(2010),WL=nm2wavelength(1815),WC=nm2wavelength(2010),WH=nm2wavelength(LAMB),a=(WC-WL)/(WH-WL),b=1-a;var Bb="(1 - ( "+R2010+" / ( "+b+" * "+P+" + "+a+" * "+R2170+" ) ))";g=nm2band(1330),R1370=nm2band(1370),R1510=nm2band(1510),R1400=nm2band(1400),WL=nm2wavelength(1330),WC=.5*(nm2wavelength(1370)+nm2wavelength(1400)),WH=nm2wavelength(1510),a=.5,b=.5,c=(WC-WL)/(WH-WL),d=1-c;var Cb="(1-( ( "+a+" * "+R1370+" + "+b+" * "+R1400+" ) / ( "+d+" * "+g+" + "+c+" * "+R1510+" ) ))";R1250=nm2band(1250),R1261=nm2band(1261),R1268=nm2band(1268),R1280=nm2band(1280),WL=nm2wavelength(1250),WC=.5*(nm2wavelength(1261)+nm2wavelength(1268)),WH=nm2wavelength(1280),a=.5,b=.5,c=(WC-WL)/(WH-WL),d=1-c;var Db="(1-( ( "+a+" * "+R1261+" + "+b+" * "+R1268+" ) / ( "+d+" * "+R1250+" + "+c+" * "+R1280+" ) ))";sp={olindex:j,olindex2:O,lcpindex:Q,hcpindex:S,bd530:T,bd860:U,bd920:V,bd2100:W,bd2200:X,bd1900r:Y,d2300:$,sindex:Z,bd1980:_,doub2200:ab,bd2230:bb,bd2500:cb,irr3:vb,bd2700:wb,r2700:xb,irr2:yb,bd2600:zb,bd2350:Ab,bd2000co2:Bb,bd1400h2o:Cb,bd1270o2:Db,cindex:db,bd3400:eb,bd3200:fb,bd3100:gb,bd3000:hb,bdcarb:ib,icer2:jb,bd1900:kb,bd1750:lb,icer1:mb,bd1500:nb,bd1435:ob,islope1:pb,ira:qb,r770:ub,rbr:tb,sh600:sb,bd640:rb}}function populate_footprints(){name="Footprints",searchlist=["frt*07_if*l*trr3","hrs*07_if*l*trr3","hrl*07_if*l*trr3"];var a=135.5,b=140,c=-7.5,d=-3;getODEfootprints(name,searchlist,a,b,c,d),highlightCtrl=new OpenLayers.Control.SelectFeature(footprints,{hover:!0,highlightOnly:!0,renderIntent:"temporary"}),selectCtrl=new OpenLayers.Control.SelectFeature(footprints,{clickout:!0,onSelect:function(a){for(hsdataset.productid=a.data.pdsid,hsdataset.productid=hsdataset.productid.toLowerCase(),hsdataset.collection=hsdataset.productid+"_"+pcversion+"_"+ptversion,hsdataset.nodata=65535,hsdataset.ir.productid=a.data.pdsid,hsdataset.ir.productid=hsdataset.ir.productid.toLowerCase(),hsdataset.ir.collection=hsdataset.ir.productid+"_"+pcversion+"_"+ptversion,hsdataset.ir.nodata=65535,hsdataset.vnir.productid=a.data.pdsid,hsdataset.vnir.productid=hsdataset.vnir.productid.toLowerCase().replace("l_","s_"),hsdataset.vnir.collection=hsdataset.vnir.productid+"_"+pcversion+"_"+ptversion,hsdataset.vnir.nodata=65535,footprints.setVisibility(!1),curiosity.setVisibility(!1),Ext.getCmp("footprintsId").setValue(!1),Ext.getCmp("curiosityId").setValue(!1),usedCrism=-1,i=0;i<PNGimages.length;i++)PNGimages[i].setVisibility(!1);PNGimages=[],imagedata=[],irImages=[],irImageData=[],vnirImages=[],vnirImageData=[],layersPanel=Ext.getCmp("layersPanelId"),layersPanel.removeAll(),layersPanel.setVisible(!0),winToc.close(),winDiagrams.close(),hyperspectral_load()},onUnselect:function(){hsdataset.productid="",hsdataset.ir.productid="",hsdataset.vnir.productid=""}}),map.addControl(highlightCtrl),map.addControl(selectCtrl),highlightCtrl.activate(),selectCtrl.activate(),map.addLayers([footprints]),footprints.setZIndex(1501)}function add_curiosity_location(){var a=OpenLayers.Util.getParameters(window.location.href).renderer;a=a?[a]:OpenLayers.Layer.Vector.prototype.renderers,curiosity=new OpenLayers.Layer.Vector("Curiosity",{styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"black",strokeOpacity:1,strokeWidth:1,fillColor:"red",fillOpacity:1,pointRadius:5,pointerEvents:"visiblePainted",label:"${name}",fontColor:"${favColor}",fontSize:"12px",fontFamily:"Verdana",fontWeight:"bold",labelAlign:"${align}",labelXOffset:"${xOffset}",labelYOffset:"${yOffset}",labelOutlineColor:"black",labelOutlineWidth:1}}),renderers:a});var b=new OpenLayers.Geometry.Point(137.44,-4.59),c=new OpenLayers.Feature.Vector(b);c.attributes={name:"Curiosity\nlanding site",favColor:"white",align:"cm",xOffset:0,yOffset:100},curiosity.addFeatures([c]),map.addLayers([curiosity]),curiosity.setZIndex(1500)}function getODEfootprints(a,b,c,d,e,f){0>c&&(c+=360),0>d&&(d+=360),footprints=new OpenLayers.Layer.Vector(a,{isBaseLayer:!1,rendererOptions:{zIndexing:!0}}),wkt=new OpenLayers.Format.WKT;for(var g=0;g<b.length;g++){searchstring=b[g];var h="http://oderest.rsl.wustl.edu/live/?query=product&results=x$proj=c0&output=JSON&limit=1000&loc=f";h+="&westernlon="+c,h+="&easternlon="+d,h+="&minlat="+e,h+="&maxlat="+f,h+="&pdsid="+searchstring,objHTTP=getXMLHttp(),objHTTP.open("GET",h,!1),objHTTP.send(null);var i=null;4==objHTTP.readyState&&(i=objHTTP.responseText);for(var j=JSON.parse(i),k=j.ODEResults.Products.Product,l=0;l<k.length;l++){for(var m=k[l].pdsid,n=0,o=0;o<inrasdaman.length;o++){var p=m.toLowerCase()+"_"+pcversion+"_"+ptversion;inrasdaman[o]==p&&(n=1)}if(1==n){wktstring=k[l].Footprint_geometry;var q=wkt.read(wktstring);q.data=k[l],footprints.addFeatures([q])}}}}function getXMLHttp(){var a=null;return window.ActiveXObject&&(a=new ActiveXObject(-1!=navigator.userAgent.toLowerCase().indexOf("msie 5")?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")),a||"undefined"==typeof XMLHttpRequest||(a=new XMLHttpRequest),a}function hyperspectral_load(){showLoader(),myLoader.show(),initmetadata(),vector_layer.setZIndex(1200),vector_layer2.setZIndex(1200),vector_layer3.setZIndex(1200),vector_layer4.setZIndex(1200),0==usedCrism?loadIrData():loadVnirData();var a=[];a=hsdataset.numbers,loadImage(),inithsmapevents(),initsp(),reloadToc(),winDiagrams.show();var b=Ext.getCmp("diagramsTabsId");b.setActiveTab(0);var c=Ext.getCmp("mainComboBoxId");c.clearValue();var d=Ext.getCmp("secondaryComboBoxId");d.clearValue(),d.bindStore([]),winConsole.show(),showSpectrum(a,hsdataset.collection),myLoader.hide()}function initloadhs(){$("#vnirorirselect").click(function(){toggleDisplay("vnirorir");try{footprints.setVisibility(!1)}catch(a){}"checked"==$("#vnircheck").attr("checked")&&(hsdataset.productid=hsdataset.productid.toLowerCase().replace("l_","s_")),"checked"==$("#ircheck").attr("checked")&&(hsdataset.productid=hsdataset.productid.toLowerCase()),hsdataset.collection=hsdataset.productid+"_"+pcversion+"_"+ptversion,hsdataset.nodata=65535,hyperspectral_load()})}function loadIrData(){var a=new OpenLayers.Bounds(hsdataset.ir.xmin,hsdataset.ir.ymin,hsdataset.ir.xmax,hsdataset.ir.ymax);a.transform(new OpenLayers.Projection("PS:2?0"),new OpenLayers.Projection("PS:1")),hsdataset.ir.xmin=a.left,hsdataset.ir.ymin=a.bottom,hsdataset.ir.xmax=a.right,hsdataset.ir.ymax=a.top,hsdataset.ir.bbox=a;for(var b=[],c=0;c<hsdataset.ir.metadata.mean.length;c++){var d=hsdataset.ir.metadata.wavelength[c];b.push([d,hsdataset.ir.metadata.mean[c]])}hsdataset.ir.numbers=b,hsdataset.productid=hsdataset.ir.productid,hsdataset.collection=hsdataset.ir.collection,hsdataset.nodata=hsdataset.ir.nodata,hsdataset.metadata=hsdataset.ir.metadata,hsdataset.xmin=hsdataset.ir.xmin,hsdataset.xmax=hsdataset.ir.xmax,hsdataset.ymin=hsdataset.ir.ymin,hsdataset.ymax=hsdataset.ir.ymax,hsdataset.bbox=hsdataset.ir.bbox,hsdataset.width=hsdataset.ir.width,hsdataset.height=hsdataset.ir.height,hsdataset.bands=hsdataset.ir.bands,hsdataset.numbers=hsdataset.ir.numbers}function loadVnirData(){var a=new OpenLayers.Bounds(hsdataset.vnir.xmin,hsdataset.vnir.ymin,hsdataset.vnir.xmax,hsdataset.vnir.ymax);a.transform(new OpenLayers.Projection("PS:2?0"),new OpenLayers.Projection("PS:1")),hsdataset.vnir.xmin=a.left,hsdataset.vnir.ymin=a.bottom,hsdataset.vnir.xmax=a.right,hsdataset.vnir.ymax=a.top,hsdataset.vnir.bbox=a;for(var b=[],c=0;c<hsdataset.vnir.metadata.mean.length;c++){var d=hsdataset.vnir.metadata.wavelength[c];b.push([d,hsdataset.vnir.metadata.mean[c]])}hsdataset.vnir.numbers=b,hsdataset.productid=hsdataset.vnir.productid,hsdataset.collection=hsdataset.vnir.collection,hsdataset.nodata=hsdataset.vnir.nodata,hsdataset.metadata=hsdataset.vnir.metadata,hsdataset.xmin=hsdataset.vnir.xmin,hsdataset.ymin=hsdataset.vnir.ymin,hsdataset.xmax=hsdataset.vnir.xmax,hsdataset.ymax=hsdataset.vnir.ymax,hsdataset.bbox=hsdataset.vnir.bbox,hsdataset.width=hsdataset.vnir.width,hsdataset.height=hsdataset.vnir.height,hsdataset.bands=hsdataset.vnir.bands,hsdataset.numbers=hsdataset.vnir.numbers}function loadImage(){var a="data."+parseInt(hsdataset.bands/2),b=maxstr(a),c=minstr(a),d="for data in ( "+hsdataset.collection+" ) return encode( (char) (255 / ("+b+" - "+c+")) * (("+a+") - "+c+'), "png", "NODATA=255;" )',e=planetserver_wcps+"?query="+d,f={};f.type="greyscale",f.base64=base64Encode(getBinary(e)),f.wcps=d,f.string=hsdataset.collection;var g=PNGimages.length;imagedata[g]=f,PNGimages[g]=new OpenLayers.Layer.Image(hsdataset.collection,"data:image/png;base64,"+f.base64,hsdataset.bbox,new OpenLayers.Size(hsdataset.width,hsdataset.height),hsdataset.mapoptions),map.addLayers([PNGimages[g]]),map.setCenter(new OpenLayers.LonLat((hsdataset.xmin+hsdataset.xmax)/2,(hsdataset.ymin+hsdataset.ymax)/2),12)}function dtm_load(){winDiagrams.show(),dtm=regions[region].dtm;for(var a=0;a<dtm.length;a++)dtm[a].collection==dtmdataset.collection&&(dtmdataset.xmin=dtm[a].xmin,dtmdataset.xmax=dtm[a].xmax,dtmdataset.ymin=dtm[a].ymin,dtmdataset.ymax=dtm[a].ymax,dtmdataset.width=dtm[a].width,dtmdataset.height=dtm[a].height,dtmdataset.crs=dtm[a].crs,dtmdataset.crsx=dtm[a].crsx,dtmdataset.crsy=dtm[a].crsy)}function loadmrdr(a){data=mrdr[a],getODEfootprints("CRISM footprints",data.westernlon,data.easternlon,data.minlat,data.maxlat),temp=new OpenLayers.Layer.MapServer(data.wms.name,planetserver_ms_wms,{map:data.wms.map,layers:data.wms.layer,projection:data.wms.projection},{isBaseLayer:!1,transitionEffect:"resize"}),map.addLayers([temp]),WMSlayers[0]=temp,map.addLayers([footprints]),map.zoomToExtent(footprints.getDataExtent())}function initloadregion(){for(region in regions)$("#chooseregion").append("<option value='"+region+"'>"+regions[region].name+"</option>");$("#chooseregion").change(function(){if(""!=$("#chooseregion").val()){region=$("#chooseregion").val(),data=regions[region],getODEfootprints("CRISM footprints",data.westernlon,data.easternlon,data.minlat,data.maxlat);for(var a=0;a<WMSlayers.length;a++)map.removeLayer(WMSlayers[a]);WMSlayers=[],wms=data.wms;for(var a=0;a<wms.length;a++)temp=new OpenLayers.Layer.MapServer(wms[a].name,planetserver_ms_wms,{map:wms[a].map,layers:wms[a].layer,projection:wms[a].projection},{isBaseLayer:!1,transitionEffect:"resize"}),map.addLayers([temp]),WMSlayers[a]=temp;map.addLayers([footprints]),map.zoomToExtent(footprints.getDataExtent()),dtm=data.dtm;for(var a=0;a<dtm.length;a++)$("#choosedtm").append("<option value='"+dtm[a].collection+"'>"+dtm[a].name+"</option>");$("#choosedtm").change(function(){""!=$("#choosedtm").val()&&("mola"==$("#choosedtm").val()?dtmdataset=jQuery.extend({},dtmdefault):(dtmdataset.collection=$("#choosedtm").val(),dtm_load()))})}})}function add_curiosity_location(){var a=OpenLayers.Util.getParameters(window.location.href).renderer;a=a?[a]:OpenLayers.Layer.Vector.prototype.renderers,curiosity=new OpenLayers.Layer.Vector("Curiosity",{styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"black",strokeOpacity:1,strokeWidth:1,fillColor:"red",fillOpacity:1,pointRadius:5,pointerEvents:"visiblePainted",label:"${name}",fontColor:"${favColor}",fontSize:"12px",fontFamily:"Verdana",fontWeight:"bold",labelAlign:"${align}",labelXOffset:"${xOffset}",labelYOffset:"${yOffset}",labelOutlineColor:"black",labelOutlineWidth:1}}),renderers:a});var b=new OpenLayers.Geometry.Point(137.44,-4.59),c=new OpenLayers.Feature.Vector(b);c.attributes={name:"Curiosity\nlanding site",favColor:"white",align:"cm",xOffset:0,yOffset:100},curiosity.addFeatures([c]),map.addLayers([curiosity]),curiosity.setZIndex(1500)}function getODEfootprints(a,b,c,d,e){searchlist=["frt*07_if*l*trr3","hrs*07_if*l*trr3","hrl*07_if*l*trr3"],0>b&&(b+=360),0>c&&(c+=360),footprints=new OpenLayers.Layer.Vector(a,{isBaseLayer:!1,rendererOptions:{zIndexing:!0}}),wkt=new OpenLayers.Format.WKT;for(var f=0;f<searchlist.length;f++){searchstring=searchlist[f],oderest=JSON.parse(getBinary("http://oderest.rsl.wustl.edu/live/?query=product&results=x$proj=c0&output=JSON&limit=1000&loc=f&westernlon="+b.toString()+"&easternlon="+c.toString()+"&minlat="+d.toString()+"&maxlat="+e.toString()+"&pdsid="+searchstring));var g=oderest.ODEResults.Products.Product;if(null!=g)for(var h=0;h<g.length;h++){for(var i=g[h].pdsid,j=0,k=0;k<inrasdaman.length;k++){var l=i.toLowerCase()+"_"+pcversion+"_"+ptversion;inrasdaman[k]==l&&(j=1)}if(1==j){wktstring=g[h].Footprint_geometry,wktstring=wktto180(wktstring);var m=wkt.read(wktstring);m.data=g[h],footprints.addFeatures([m])}}}highlightCtrl=new OpenLayers.Control.SelectFeature(footprints,{hover:!0,highlightOnly:!0,renderIntent:"temporary"}),selectCtrl=new OpenLayers.Control.SelectFeature(footprints,{clickout:!0,onSelect:function(a){if(wantedFootprint){for(hsdataset.ir.productid=a.data.pdsid,hsdataset.ir.productid=hsdataset.ir.productid.toLowerCase(),hsdataset.ir.collection=hsdataset.ir.productid+"_"+pcversion+"_"+ptversion,hsdataset.ir.nodata=65535,hsdataset.vnir.productid=a.data.pdsid,hsdataset.vnir.productid=hsdataset.vnir.productid.toLowerCase().replace("l_","s_"),hsdataset.vnir.collection=hsdataset.vnir.productid+"_"+pcversion+"_"+ptversion,hsdataset.vnir.nodata=65535,0==usedCrism?(hsdataset.productid=hsdataset.ir.productid,hsdataset.collection=hsdataset.ir.collection,hsdataset.nodata=hsdataset.ir.nodata):(hsdataset.productid=hsdataset.vnir.productid,hsdataset.collection=hsdataset.vnir.collection,hsdataset.nodata=hsdataset.vnir.nodata),footprints.setVisibility(!1),Ext.getCmp("footprintsId").setValue(!1),h=0;h<PNGimages.length;h++)PNGimages[h].setVisibility(!1);PNGimages=[],imagedata=[],layersPanel=Ext.getCmp("layersPanelId"),layersPanel.removeAll(),layersPanel.setVisible(!0),winToc.close(),winDiagrams.close(),winWebsearch.close(),winConsole.close(),hyperspectral_load(),wantedFootprint=!1}else{var b=hsdataset.lonlat.lon,c=hsdataset.lonlat.lat;showFootprintsGrid(mousePosition,b,c,footprints)}},onUnselect:function(){hsdataset.productid="",hsdataset.ir.productid="",hsdataset.vnir.productid=""}}),map.addControl(highlightCtrl),map.addControl(selectCtrl),highlightCtrl.activate(),selectCtrl.activate(),featureInfo.events.register("activate",featureInfo,function(){highlightCtrl.activate(),selectCtrl.activate()}),featureInfo.events.register("deactivate",featureInfo,function(){highlightCtrl.deactivate(),selectCtrl.deactivate()})}function wktto180(a){"GEOMETRYCOLLECTION"==a.substring(0,18)&&(a=a.substring(20,a.length-1)),a=wkt.read(a).geometry.toString();var b="POLYGON((";a=a.substring(9,a.length-2),coords=a.split(",");for(var c=0;c<coords.length;c++)coord=coords[c].split(" "),b=coord[0]>180?b+(coord[0]-360)+" "+coord[1]+",":b+coord[0]+" "+coord[1]+",";return b=b.substring(0,b.length-1)+"))"}function checksinglecollection(){"undefined"!=typeof QueryString.productid&&(hsdataset.vnir.productid=QueryString.productid.toLowerCase().replace("l_","s_"),hsdataset.vnir.collection=hsdataset.vnir.productid+"_"+pcversion+"_"+ptversion,hsdataset.ir.productid=QueryString.productid.toLowerCase().replace("s_","l_"),hsdataset.ir.collection=hsdataset.ir.productid+"_"+pcversion+"_"+ptversion,hyperspectral_load())}function checkregion(){if("undefined"!=typeof QueryString.region){var a=$("#regionSelector option");$.map(a,function(a){a.value==QueryString.region&&($("#regionSelector").val(QueryString.region),$("#regionSelector").change(),$("#loadRegionBtn").click())})}}function checkmrdr(){if("undefined"!=typeof QueryString.mrdr)for(productid in mrdr)QueryString.mrdr.toUpperCase()==productid&&loadmrdr(productid)}function setLocationHash(a,b){"productid"===a?(b=b.replace("s_","l_"),$("#toggleSpectral").removeClass("disabled")):$("#toggleSpectral").addClass("disabled"),window.location.hash=a+"="+b,alert(window.location.hash)}function resetOverlayesPanel(){var a=Ext.getCmp("overlayesPanelId");a.removeAll(),a.add({xtype:"checkbox",boxLabel:"MOLA RGB",name:"overlayes",checked:!0,inputValue:"molaRGB",margin:0,handler:function(){GlobalMOLARGB.setVisibility(0==this.getValue()?!1:!0)}}),a.add({xtype:"checkbox",boxLabel:"THEMIS IR day",name:"overlayes",checked:!0,inputValue:"themisIR",margin:0,handler:function(){GlobalTHEMISIRday.setVisibility(0==this.getValue()?!1:!0)}}),a.add({xtype:"checkbox",id:"footprintsId",boxLabel:"CRISM footprints",name:"overlayes",checked:!0,inputValue:"footprints",handler:function(){footprints.setVisibility(0==this.getValue()?!1:!0)}}),a.doLayout()}function addCheckboxInOverlayesPanel(a,b){var c=Ext.getCmp("overlayesPanelId");c.add({xtype:"checkbox",boxLabel:b,name:"overlayes",inputValue:b,id:"checkOverlayesImageId_"+a,checked:!0,margin:0,handler:function(){WMSlayers[a].setVisibility(this.getValue())}}),c.doLayout();var d=c.body.dom;d.scrollTop=d.scrollHeight-d.offsetHeight}function loadRegion(a){winWebsearch.hide(),data=regions[a],getODEfootprints("CRISM footprints",data.westernlon,data.easternlon,data.minlat,data.maxlat);for(var b=0;b<WMSlayers.length;b++)map.removeLayer(WMSlayers[b]);resetOverlayesPanel(),wms=data.wms;for(var b=0;b<wms.length;b++)temp=new OpenLayers.Layer.MapServer(wms[b].name,planetserver_ms_wms,{map:wms[b].map,layers:wms[b].layer,projection:wms[b].projection},{isBaseLayer:!1,transitionEffect:"resize"}),map.addLayers([temp]),WMSlayers[b]=temp,addCheckboxInOverlayesPanel(b,wms[b].name);map.addLayers([footprints]),map.zoomToExtent(footprints.getDataExtent()),dtm=data.dtm;var c=[];c.push({val:"mola",name:"MOLA"});for(var b=0;b<dtm.length;b++)c.push({val:dtm[b].collection,name:dtm[b].name});var d=Ext.getCmp("comboBoxDtmId");d.clearValue(),dtmStore.loadData(c),d.bindStore(dtmStore)}function loadGeomFunc(){Ext.Ajax.request({url:"/load_geom",method:"POST",params:{loadgeom:!0},success:function(a){if(a.responseText.length>2){vectorDraw.removeAllFeatures();var b,c,d,e;if(b=a.responseText.split(";"),b[0].length>1){var f=b[0].replace(/\)/g,")#");c=f.split("#");for(var g=new OpenLayers.Format.WKT,h=0;h<c.length-1;h++){var i=g.read(c[h]);vectorDraw.addFeatures(i)}}if(b[1].length>1){var f=b[1].replace(/\)/g,")#");d=f.split("#");for(var g=new OpenLayers.Format.WKT,h=0;h<d.length-1;h++){var i=g.read(d[h]);vectorDraw.addFeatures(i)}}if(b[2].length>1){var f=b[2].replace(/\)\)/g,"))#");e=f.split("#");for(var g=new OpenLayers.Format.WKT,h=0;h<e.length-1;h++){var i=g.read(e[h]);vectorDraw.addFeatures(i)}}saveGeom.setDisabled(!1)}},failure:function(){Ext.Msg.alert("Error","Server error.")}})}function reloadZIndex(){"undefined"!=typeof vector_layer4&&(vector_layer.setZIndex(SETZINDEX),vector_layer2.setZIndex(SETZINDEX),vector_layer3.setZIndex(SETZINDEX),vector_layer4.setZIndex(SETZINDEX),vectorDraw.setZIndex(SETZINDEX))}function reloadToc(){var a;if("undefined"!=typeof hsdataset.ir.bands){var b=parseInt(hsdataset.ir.bands);
a=new Array(b);for(var c=0;b>c;c++)a[c]=0==hsdataset.ir.metadata.bbl[c]?["band"+(c+1),parseFloat(hsdataset.ir.metadata.wavelength[c]),"yes"]:["band"+(c+1),parseFloat(hsdataset.ir.metadata.wavelength[c]),"no"]}else a=[];var d=new Ext.data.ArrayStore({fields:[{name:"irBandNr"},{name:"irWavelength",type:"float"},{name:"irBad"}]});d.loadData(a);var e=Ext.getCmp("irGridId");e.reconfigure(d);var f;if("undefined"!=typeof hsdataset.vnir.bands){var b=parseInt(hsdataset.vnir.bands);f=new Array(b);for(var c=0;b>c;c++)f[c]=0==hsdataset.vnir.metadata.bbl[c]?["band"+(c+1),hsdataset.vnir.metadata.wavelength[c],"yes"]:["band"+(c+1),hsdataset.vnir.metadata.wavelength[c],"no"]}else f=[];var g=new Ext.data.ArrayStore({fields:[{name:"vnirBandNr"},{name:"vnirWavelength",type:"float"},{name:"vnirBad"}]});g.loadData(f);var h=Ext.getCmp("vnirGridId");h.reconfigure(g);var i;if("undefined"!=typeof sp){var j=parseInt(Object.keys(sp).length);i=new Array(j),c=0;for(var k in sp)i[c]=[k,sp[k.toString()]],c++}else i=[];var l=new Ext.data.ArrayStore({fields:[{name:"key"},{name:"spValue"}]});l.loadData(i);var m=Ext.getCmp("spGridId");m.reconfigure(l),winToc.height=660;var n=Ext.getCmp("dataPanelId");n.show();var o;o="<b>IR: "+PNGimages[0].name.substring(0,14)+"</b>",addCheckbox(0,o);var p=Ext.getCmp("dataTabsId");p.setActiveTab(0),winToc.show()}function addCheckbox(a,b){layersPanel.add({xtype:"checkboxfield",boxLabel:b,name:"checkImage_"+a,inputValue:a,id:"checkImageId_"+a,checked:!0,margin:0,handler:function(){PNGimages[a].setVisibility(this.getValue())}}),layersPanel.doLayout();var c=layersPanel.body.dom;c.scrollTop=c.scrollHeight-c.offsetHeight}function copyDataset(a){2!=a&&(usedCrism=a);var b=Ext.getCmp("rbIrId"),c=Ext.getCmp("rbVnirId");if(0==usedCrism){if(1==irDefaultImageLoaded)hsdataset.productid=hsdataset.ir.productid,hsdataset.collection=hsdataset.ir.collection,hsdataset.nodata=hsdataset.ir.nodata,hsdataset.metadata=hsdataset.ir.metadata,hsdataset.xmin=hsdataset.ir.xmin,hsdataset.xmax=hsdataset.ir.xmax,hsdataset.ymin=hsdataset.ir.ymin,hsdataset.ymax=hsdataset.ir.ymax,hsdataset.bbox=hsdataset.ir.bbox,hsdataset.width=hsdataset.ir.width,hsdataset.height=hsdataset.ir.height,hsdataset.bands=hsdataset.ir.bands,hsdataset.numbers=hsdataset.ir.numbers;else{myLoader.show(),loadIrData(),loadImage();var d,e=PNGimages.length;d="<b>IR: "+PNGimages[e-1].name.substring(0,14)+"</b>",addCheckbox(e-1,d),irDefaultImageLoaded=!0,myLoader.hide()}b.setValue(!0)}else{if(1==vnirDefaultImageLoaded)hsdataset.productid=hsdataset.vnir.productid,hsdataset.collection=hsdataset.vnir.collection,hsdataset.nodata=hsdataset.vnir.nodata,hsdataset.metadata=hsdataset.vnir.metadata,hsdataset.xmin=hsdataset.vnir.xmin,hsdataset.ymin=hsdataset.vnir.ymin,hsdataset.xmax=hsdataset.vnir.xmax,hsdataset.ymax=hsdataset.vnir.ymax,hsdataset.bbox=hsdataset.vnir.bbox,hsdataset.width=hsdataset.vnir.width,hsdataset.height=hsdataset.vnir.height,hsdataset.bands=hsdataset.vnir.bands,hsdataset.numbers=hsdataset.vnir.numbers;else{myLoader.show(),loadVnirData(),loadImage();var d,e=PNGimages.length;d="<b>VNIR: "+PNGimages[e-1].name.substring(0,14)+"</b>",addCheckbox(e-1,d),vnirDefaultImageLoaded=!0,myLoader.hide()}c.setValue(!0)}}function showSpectrum(a,b){var c=Ext.getCmp("loadChartButtonId");spectrumNumbers=a,chartTitle=b,spectrumToDraw=1,c.handler(),spectrumNumbers=[]}function showPointsSpectrum(a,b){diagramplot.spectra=a;var c=Ext.getCmp("winDiagrams");c.show();var d=Ext.getCmp("diagramsTabsId");d.setActiveTab(0);var e=Ext.getCmp("loadChartButtonId");pointsNumbers=a,chartTitle=b;var f=Ext.getCmp("mainComboBoxId");f.clearValue();var g=Ext.getCmp("secondaryComboBoxId");g.clearValue(),g.bindStore([]),spectrumToDraw=2,e.handler(),spectrumToDraw=1}function showSpectralRatio(a,b,c){diagramplot.spectra=[a],lineChartColor=b;var d=Ext.getCmp("winDiagrams");d.show();var e=Ext.getCmp("diagramsTabsId");e.setActiveTab(0);var f=Ext.getCmp("loadChartButtonId");pointsSpectralRatio=a,chartTitle=c;var g=Ext.getCmp("mainComboBoxId");g.clearValue();var h=Ext.getCmp("secondaryComboBoxId");h.clearValue(),h.bindStore([]),spectrumToDraw=3,f.handler(),spectrumToDraw=1}function showCrossSectionDiagram(a,b,c,d){var e=Ext.getCmp("winDiagrams");e.show();var f=Ext.getCmp("diagramsTabsId");f.setActiveTab(2),myLoader.show();for(var g=JSON.parse(getBinary(planetserver_path+"/cgi-bin/greatcircle.cgi?nrpoints="+nrpoints+"&lon1="+a+"&lat1="+b+"&lon2="+c+"&lat2="+d)),h=[],i=0;nrpoints>i;i++){lon=g[0][i],lat=g[1][i];var j=OpenLayers.Util.distVincenty({lon:c,lat:d},{lon:lon,lat:lat});wcpsquery="for data in ( "+dtmdataset.collection+' ) return encode(  (data[x:"'+dtmdataset.crs+'"('+lon+":"+lon+'),y:"'+dtmdataset.crs+'"('+lat+":"+lat+')]), "csv")',url=planetserver_path+"wcps.php?use=csv&query="+encodeURIComponent(wcpsquery),elevation=JSON.parse(getBinary(url)),h.push([j,parseFloat(elevation.data)])}diagramplot.crosssection=[h],crossSectionNumbers=h;var k=Ext.getCmp("loadCrossSectionButtonId");k.handler(),crossSectionNumbers=[],myLoader.hide()}function loadSecondaryComboBox(fileName){var secondaryElements=[],file="/static/js/speclib/"+fileName,library=fileName.substring(0,fileName.length-3),secondaryComboBox=Ext.getCmp("secondaryComboBoxId");$.getScript(file).done(function(){eval("data = "+library+";");for(var key in data)"Wavelength"!=key&&secondaryElements.push(key);secondaryComboBox.clearValue(),secondaryComboBox.bindStore(secondaryElements)}).fail(function(){secondaryComboBox.clearValue(),secondaryComboBox.bindStore([]),Ext.Msg.alert("Info","Error loading the file.")})}function showHistogram(a,b){histogramFromConsole=!0,currentBandFromConsole=a,nrbinsFromConsole=b;var c=Ext.getCmp("histogramButtonId");c.handler(),histogramFromConsole=!1}function showFootprintsGrid(a,b,c,d){var e,f=new OpenLayers.Geometry.Point(b,c),g=d.features;footprintsData=[],selectedFeatures=[];for(var h=0;h<g.length;++h)if(e=g[h],1==e.geometry.containsPoint(f)){selectedFeatures.push(g[h]);var i=e.data.LabelFileName;i=i.substring(0,i.length-4),footprintsData.push({footprintName:'<span style="color: blue;">'+i+"</span>"})}var j=Ext.getCmp("winChoiceFootprintId");if(selectedFeatures.length>1){var k,l;k=a.x<screen.width/2?a.x+50:a.x-j.width-50,l=a.y<screen.height/2?a.y+50:a.y-50,j.show(),j.setPosition(k,l)}else wantedFootprint=!0,lastSelectedFeature=selectedFeatures[0],selectCtrl.select(selectedFeatures[0]),j.hide()}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function initX3D(){EarthServerGenericClient.MainScene.setTimeLog(!1),EarthServerGenericClient.MainScene.addLightToScene(!0),EarthServerGenericClient.MainScene.setBackground("0.9 0.9 0.9 0.8 0.8 0.8 0.7 0.7 0.7 0.6 0.6 0.6","0.9 1.5 1.57","0.6 0.6 0.8 0.5 0.5 0.7 0.4 0.4 0.6 0.3 0.3 0.5","0.9 1.5 1.57"),EarthServerGenericClient.MainScene.OnClickFunction=function(a,b){var c=EarthServerGenericClient.MainScene.getDemValueAt3DPosition(a,b[0],b[2]);console.log("Height at clicked position: ",c)};var a=new EarthServerGenericClient.Model_WCPSDemWCPS;a.setName("PlanetServer"),a.setURLs("http://planetserver.jacobs-university.de:8080/rasdaman/ows","http://planetserver.jacobs-university.de:8080/rasdaman/ows"),a.setCoverages(hsdataset.collection),a.setAreaOfInterest(hsdataset.xmin,hsdataset.ymin,hsdataset.xmax,hsdataset.ymax),a.setCoordinateReferenceSystem("http://planetserver.jacobs-university.de:8080/def/crs/PS/0/1/"),a.setScale(1,.3,1),a.setResolution(250,250),a.setOffset(0,.4,0),a.setTransparency(0),a.setDemNoDataValue(0);var b="for data in ( $CI ) return encode( (char)(";b+="(255 / max(data.70)) * data.70",b+='), "png", "NODATA=255;")',a.setWCPSImageQuery(b);var c="for i in ( "+dtmdataset.collection+") ";c+="return encode( ",c+=' scale(trim(i , {Long:$CRS($MINX:$MAXX), Lat:$CRS($MINY:$MAXY) }), {Long:"CRS:1"(0:$RESX), Lat:"CRS:1"(0:$RESZ)}, {}) ',c+=', "csv" )',a.setWCPSDemQuery(c),EarthServerGenericClient.MainScene.addModel(a),EarthServerGenericClient.MainScene.createScene("x3dScene","theScene",1,.5,1),EarthServerGenericClient.MainScene.addAnnotationsLayer("Layer1","JUB",50,"1 1 1",25,6,"1 1 1"),EarthServerGenericClient.MainScene.addAnnotation("Layer1",310,20,-170,"CityName"),EarthServerGenericClient.MainScene.addAnnotation("Layer1",200,-30,400,"You can annotate here"),EarthServerGenericClient.MainScene.createUI("x3domUI"),EarthServerGenericClient.MainScene.createAxisLabels("Latitude","Height","Longitude")}function execute(){var a=new EarthServerGenericClient.createProgressBar("progressbar");EarthServerGenericClient.MainScene.setProgressCallback(a.updateValue),EarthServerGenericClient.MainScene.createModels()}function createBRClient(){BandRatioInstance=new BandRatioClient({petascopeURL_GET:"http://planetserver.jacobs-university.de/wcps.php?use=png&query=",petascopeURL_POST:"http://planetserver.jacobs-university.de:8080/rasdaman/ows/wcps",min_query:'for a in (COLLECTION) return encode ( min(a.FREQ), "csv")',max_query:'for a in (COLLECTION) return encode( max((a.FREQ * (a.FREQ != 9.96921e+36))), "csv")',avg_query:'for a in (COLLECTION) return encode( ( (float)add((a.FREQ * (a.FREQ != 9.96921e+36))) / count(( (a.FREQ != 9.96921e+36))) ), "csv")',callback:function(a,b){var c=PNGimages.length,d={};d.type="RGB",d.base64=base64Encode(getBinary(a)),d.string="???",imagedata[c]=d,PNGimages[c]=new OpenLayers.Layer.Image("RGB","data:image/png;base64,"+d.base64,hsdataset.bbox,new OpenLayers.Size(hsdataset.width,hsdataset.height),hsdataset.mapoptions),map.addLayers([PNGimages[c]]);var b=BandRatioInstance.operationQuery;addCheckbox(c,b.replace(/data\./g,"Band"))}})}function templateBands(){for(var a="",b=parseInt(hsdataset.bands),c=0;b>c;c++)a+='<div class="chiclet ',a+=0==hsdataset.ir.metadata.bbl[c]?"badBand":"goodBand",a+='" id="data.',a+=c+1,a+='">Band ',a+=c+1,a+=" (",a+=parseFloat(hsdataset.ir.metadata.wavelength[c]),a+=")</div>";return BANDRATIO_TEMPLATE.replace("[[BANDS]]",a)}var OpenLayers={VERSION_NUMBER:"Release 2.13.1",singleFile:!0,_getScriptLocation:function(){for(var a,b=/(^|(.*?\/))(OpenLayers[^\/]*?\.js)(\?|$)/,c=document.getElementsByTagName("script"),d="",e=0,f=c.length;f>e;e++)if((a=c[e].getAttribute("src"))&&(a=a.match(b))){d=a[1];break}return function(){return d}}(),ImgPath:""};OpenLayers.Class=function(){var a=arguments.length,b=arguments[0],c=arguments[a-1],d="function"==typeof c.initialize?c.initialize:function(){b.prototype.initialize.apply(this,arguments)};return a>1?(a=[d,b].concat(Array.prototype.slice.call(arguments).slice(1,a-1),c),OpenLayers.inherit.apply(null,a)):d.prototype=c,d},OpenLayers.inherit=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c;var d,e,c=2;for(d=arguments.length;d>c;c++)e=arguments[c],"function"==typeof e&&(e=e.prototype),OpenLayers.Util.extend(a.prototype,e)},OpenLayers.Util=OpenLayers.Util||{},OpenLayers.Util.extend=function(a,b){if(a=a||{},b){for(var c in b){var d=b[c];void 0!==d&&(a[c]=d)}"function"==typeof window.Event&&b instanceof window.Event||!b.hasOwnProperty||!b.hasOwnProperty("toString")||(a.toString=b.toString)}return a},OpenLayers.String={startsWith:function(a,b){return 0==a.indexOf(b)},contains:function(a,b){return-1!=a.indexOf(b)},trim:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(a){a=a.split("-");for(var b=a[0],c=1,d=a.length;d>c;c++)var e=a[c],b=b+(e.charAt(0).toUpperCase()+e.substring(1));return b},format:function(a,b,c){return b||(b=window),a.replace(OpenLayers.String.tokenRegEx,function(a,d){for(var e,f=d.split(/\.+/),g=0;g<f.length&&(0==g&&(e=b),void 0!==e);g++)e=e[f[g]];return"function"==typeof e&&(e=c?e.apply(null,c):e()),"undefined"==typeof e?"undefined":e})},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(a){return OpenLayers.String.numberRegEx.test(a)},numericIf:function(a,b){var c=a;return!0===b&&null!=a&&a.replace&&(a=a.replace(/^\s*|\s*$/g,"")),OpenLayers.String.isNumeric(a)?parseFloat(a):c}},OpenLayers.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(a,b){var c=0;return b>0&&(c=parseFloat(a.toPrecision(b))),c},format:function(a,b,c,d){b="undefined"!=typeof b?b:0,c="undefined"!=typeof c?c:OpenLayers.Number.thousandsSeparator,d="undefined"!=typeof d?d:OpenLayers.Number.decimalSeparator,null!=b&&(a=parseFloat(a.toFixed(b)));var e=a.toString().split(".");if(1==e.length&&null==b&&(b=0),a=e[0],c)for(var f=/(-?[0-9]+)([0-9]{3})/;f.test(a);)a=a.replace(f,"$1"+c+"$2");return 0==b?b=a:(c=1<e.length?e[1]:"0",null!=b&&(c+=Array(b-c.length+1).join("0")),b=a+d+c),b},zeroPad:function(a,b,c){for(a=a.toString(c||10);a.length<b;)a="0"+a;return a}},OpenLayers.Function={bind:function(a,b){var c=Array.prototype.slice.apply(arguments,[2]);return function(){var d=c.concat(Array.prototype.slice.apply(arguments,[0]));return a.apply(b,d)}},bindAsEventListener:function(a,b){return function(c){return a.call(b,c||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},OpenLayers.Array={filter:function(a,b,c){var d=[];if(Array.prototype.filter)d=a.filter(b,c);else{var e=a.length;if("function"!=typeof b)throw new TypeError;for(var f=0;e>f;f++)if(f in a){var g=a[f];b.call(c,g,f,a)&&d.push(g)}}return d}},OpenLayers.Bounds=OpenLayers.Class({left:null,bottom:null,right:null,top:null,centerLonLat:null,initialize:function(a,b,c,d){OpenLayers.Util.isArray(a)&&(d=a[3],c=a[2],b=a[1],a=a[0]),null!=a&&(this.left=OpenLayers.Util.toFloat(a)),null!=b&&(this.bottom=OpenLayers.Util.toFloat(b)),null!=c&&(this.right=OpenLayers.Util.toFloat(c)),null!=d&&(this.top=OpenLayers.Util.toFloat(d))},clone:function(){return new OpenLayers.Bounds(this.left,this.bottom,this.right,this.top)},equals:function(a){var b=!1;return null!=a&&(b=this.left==a.left&&this.right==a.right&&this.top==a.top&&this.bottom==a.bottom),b},toString:function(){return[this.left,this.bottom,this.right,this.top].join()},toArray:function(a){return!0===a?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]},toBBOX:function(a,b){null==a&&(a=6);var c=Math.pow(10,a),d=Math.round(this.left*c)/c,e=Math.round(this.bottom*c)/c,f=Math.round(this.right*c)/c,c=Math.round(this.top*c)/c;return!0===b?e+","+d+","+c+","+f:d+","+e+","+f+","+c},toGeometry:function(){return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(this.left,this.bottom),new OpenLayers.Geometry.Point(this.right,this.bottom),new OpenLayers.Geometry.Point(this.right,this.top),new OpenLayers.Geometry.Point(this.left,this.top)])])},getWidth:function(){return this.right-this.left},getHeight:function(){return this.top-this.bottom},getSize:function(){return new OpenLayers.Size(this.getWidth(),this.getHeight())},getCenterPixel:function(){return new OpenLayers.Pixel((this.left+this.right)/2,(this.bottom+this.top)/2)},getCenterLonLat:function(){return this.centerLonLat||(this.centerLonLat=new OpenLayers.LonLat((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat},scale:function(a,b){null==b&&(b=this.getCenterLonLat());var c,d;return"OpenLayers.LonLat"==b.CLASS_NAME?(c=b.lon,d=b.lat):(c=b.x,d=b.y),new OpenLayers.Bounds((this.left-c)*a+c,(this.bottom-d)*a+d,(this.right-c)*a+c,(this.top-d)*a+d)},add:function(a,b){if(null==a||null==b)throw new TypeError("Bounds.add cannot receive null values");return new OpenLayers.Bounds(this.left+a,this.bottom+b,this.right+a,this.top+b)},extend:function(a){if(a)switch(a.CLASS_NAME){case"OpenLayers.LonLat":this.extendXY(a.lon,a.lat);break;case"OpenLayers.Geometry.Point":this.extendXY(a.x,a.y);break;case"OpenLayers.Bounds":this.centerLonLat=null,(null==this.left||a.left<this.left)&&(this.left=a.left),(null==this.bottom||a.bottom<this.bottom)&&(this.bottom=a.bottom),(null==this.right||a.right>this.right)&&(this.right=a.right),(null==this.top||a.top>this.top)&&(this.top=a.top)}},extendXY:function(a,b){this.centerLonLat=null,(null==this.left||a<this.left)&&(this.left=a),(null==this.bottom||b<this.bottom)&&(this.bottom=b),(null==this.right||a>this.right)&&(this.right=a),(null==this.top||b>this.top)&&(this.top=b)},containsLonLat:function(a,b){"boolean"==typeof b&&(b={inclusive:b}),b=b||{};var c=this.contains(a.lon,a.lat,b.inclusive),d=b.worldBounds;return d&&!c&&(c=d.getWidth(),d=Math.round((a.lon-(d.left+d.right)/2)/c),c=this.containsLonLat({lon:a.lon-d*c,lat:a.lat},{inclusive:b.inclusive})),c},containsPixel:function(a,b){return this.contains(a.x,a.y,b)},contains:function(a,b,c){if(null==c&&(c=!0),null==a||null==b)return!1;a=OpenLayers.Util.toFloat(a),b=OpenLayers.Util.toFloat(b);var d=!1;return d=c?a>=this.left&&a<=this.right&&b>=this.bottom&&b<=this.top:a>this.left&&a<this.right&&b>this.bottom&&b<this.top},intersectsBounds:function(a,b){if("boolean"==typeof b&&(b={inclusive:b}),b=b||{},b.worldBounds){var c=this.wrapDateLine(b.worldBounds);a=a.wrapDateLine(b.worldBounds)}else c=this;null==b.inclusive&&(b.inclusive=!0);var d=!1,e=c.left==a.right||c.right==a.left||c.top==a.bottom||c.bottom==a.top;if(b.inclusive||!e)var d=a.top>=c.bottom&&a.top<=c.top||c.top>a.bottom&&c.top<a.top,e=a.left>=c.left&&a.left<=c.right||c.left>=a.left&&c.left<=a.right,f=a.right>=c.left&&a.right<=c.right||c.right>=a.left&&c.right<=a.right,d=(a.bottom>=c.bottom&&a.bottom<=c.top||c.bottom>=a.bottom&&c.bottom<=a.top||d)&&(e||f);if(b.worldBounds&&!d){var g=b.worldBounds,e=g.getWidth(),f=!g.containsBounds(c),g=!g.containsBounds(a);f&&!g?(a=a.add(-e,0),d=c.intersectsBounds(a,{inclusive:b.inclusive})):g&&!f&&(c=c.add(-e,0),d=a.intersectsBounds(c,{inclusive:b.inclusive}))}return d},containsBounds:function(a,b,c){null==b&&(b=!1),null==c&&(c=!0);var d=this.contains(a.left,a.bottom,c),e=this.contains(a.right,a.bottom,c),f=this.contains(a.left,a.top,c);return a=this.contains(a.right,a.top,c),b?d||e||f||a:d&&e&&f&&a},determineQuadrant:function(a){var b="",c=this.getCenterLonLat(),b=b+(a.lat<c.lat?"b":"t");return b+=a.lon<c.lon?"l":"r"},transform:function(a,b){this.centerLonLat=null;var c=OpenLayers.Projection.transform({x:this.left,y:this.bottom},a,b),d=OpenLayers.Projection.transform({x:this.right,y:this.bottom},a,b),e=OpenLayers.Projection.transform({x:this.left,y:this.top},a,b),f=OpenLayers.Projection.transform({x:this.right,y:this.top},a,b);return this.left=Math.min(c.x,e.x),this.bottom=Math.min(c.y,d.y),this.right=Math.max(d.x,f.x),this.top=Math.max(e.y,f.y),this},wrapDateLine:function(a,b){b=b||{};var c=b.leftTolerance||0,d=b.rightTolerance||0,e=this.clone();if(a){for(var f=a.getWidth();e.left<a.left&&e.right-d<=a.left;)e=e.add(f,0);for(;e.left+c>=a.right&&e.right>a.right;)e=e.add(-f,0);c=e.left+c,c<a.right&&c>a.left&&e.right-d>a.right&&(e=e.add(-f,0))}return e},CLASS_NAME:"OpenLayers.Bounds"}),OpenLayers.Bounds.fromString=function(a,b){var c=a.split(",");return OpenLayers.Bounds.fromArray(c,b)},OpenLayers.Bounds.fromArray=function(a,b){return!0===b?new OpenLayers.Bounds(a[1],a[0],a[3],a[2]):new OpenLayers.Bounds(a[0],a[1],a[2],a[3])},OpenLayers.Bounds.fromSize=function(a){return new OpenLayers.Bounds(0,a.h,a.w,0)},OpenLayers.Bounds.oppositeQuadrant=function(a){var b;return b=""+("t"==a.charAt(0)?"b":"t"),b+="l"==a.charAt(1)?"r":"l"},OpenLayers.Element={visible:function(a){return"none"!=OpenLayers.Util.getElement(a).style.display},toggle:function(){for(var a=0,b=arguments.length;b>a;a++){var c=OpenLayers.Util.getElement(arguments[a]),d=OpenLayers.Element.visible(c)?"none":"";c.style.display=d}},remove:function(a){a=OpenLayers.Util.getElement(a),a.parentNode.removeChild(a)},getHeight:function(a){return a=OpenLayers.Util.getElement(a),a.offsetHeight},hasClass:function(a,b){var c=a.className;return!!c&&RegExp("(^|\\s)"+b+"(\\s|$)").test(c)},addClass:function(a,b){return OpenLayers.Element.hasClass(a,b)||(a.className+=(a.className?" ":"")+b),a},removeClass:function(a,b){var c=a.className;return c&&(a.className=OpenLayers.String.trim(c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)")," "))),a},toggleClass:function(a,b){return OpenLayers.Element.hasClass(a,b)?OpenLayers.Element.removeClass(a,b):OpenLayers.Element.addClass(a,b),a},getStyle:function(a,b){a=OpenLayers.Util.getElement(a);var c=null;if(a&&a.style){c=a.style[OpenLayers.String.camelize(b)],c||(document.defaultView&&document.defaultView.getComputedStyle?c=(c=document.defaultView.getComputedStyle(a,null))?c.getPropertyValue(b):null:a.currentStyle&&(c=a.currentStyle[OpenLayers.String.camelize(b)]));var d=["left","top","right","bottom"];window.opera&&-1!=OpenLayers.Util.indexOf(d,b)&&"static"==OpenLayers.Element.getStyle(a,"position")&&(c="auto")}return"auto"==c?null:c}},OpenLayers.LonLat=OpenLayers.Class({lon:0,lat:0,initialize:function(a,b){OpenLayers.Util.isArray(a)&&(b=a[1],a=a[0]),this.lon=OpenLayers.Util.toFloat(a),this.lat=OpenLayers.Util.toFloat(b)},toString:function(){return"lon="+this.lon+",lat="+this.lat},toShortString:function(){return this.lon+", "+this.lat},clone:function(){return new OpenLayers.LonLat(this.lon,this.lat)},add:function(a,b){if(null==a||null==b)throw new TypeError("LonLat.add cannot receive null values");return new OpenLayers.LonLat(this.lon+OpenLayers.Util.toFloat(a),this.lat+OpenLayers.Util.toFloat(b))},equals:function(a){var b=!1;return null!=a&&(b=this.lon==a.lon&&this.lat==a.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(a.lon)&&isNaN(a.lat)),b},transform:function(a,b){var c=OpenLayers.Projection.transform({x:this.lon,y:this.lat},a,b);return this.lon=c.x,this.lat=c.y,this},wrapDateLine:function(a){var b=this.clone();if(a){for(;b.lon<a.left;)b.lon+=a.getWidth();for(;b.lon>a.right;)b.lon-=a.getWidth()}return b},CLASS_NAME:"OpenLayers.LonLat"}),OpenLayers.LonLat.fromString=function(a){return a=a.split(","),new OpenLayers.LonLat(a[0],a[1])},OpenLayers.LonLat.fromArray=function(a){var b=OpenLayers.Util.isArray(a);return new OpenLayers.LonLat(b&&a[0],b&&a[1])},OpenLayers.Pixel=OpenLayers.Class({x:0,y:0,initialize:function(a,b){this.x=parseFloat(a),this.y=parseFloat(b)},toString:function(){return"x="+this.x+",y="+this.y},clone:function(){return new OpenLayers.Pixel(this.x,this.y)},equals:function(a){var b=!1;return null!=a&&(b=this.x==a.x&&this.y==a.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)),b},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},add:function(a,b){if(null==a||null==b)throw new TypeError("Pixel.add cannot receive null values");return new OpenLayers.Pixel(this.x+a,this.y+b)},offset:function(a){var b=this.clone();return a&&(b=this.add(a.x,a.y)),b},CLASS_NAME:"OpenLayers.Pixel"}),OpenLayers.Size=OpenLayers.Class({w:0,h:0,initialize:function(a,b){this.w=parseFloat(a),this.h=parseFloat(b)},toString:function(){return"w="+this.w+",h="+this.h},clone:function(){return new OpenLayers.Size(this.w,this.h)},equals:function(a){var b=!1;return null!=a&&(b=this.w==a.w&&this.h==a.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(a.w)&&isNaN(a.h)),b},CLASS_NAME:"OpenLayers.Size"}),OpenLayers.Console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},userError:function(a){alert(a)},assert:function(){},dir:function(){},dirxml:function(){},trace:function(){},group:function(){},groupEnd:function(){},time:function(){},timeEnd:function(){},profile:function(){},profileEnd:function(){},count:function(){},CLASS_NAME:"OpenLayers.Console"},function(){for(var a=document.getElementsByTagName("script"),b=0,c=a.length;c>b;++b)if(-1!=a[b].src.indexOf("firebug.js")&&console){OpenLayers.Util.extend(OpenLayers.Console,console);break}}(),OpenLayers.Lang={code:null,defaultCode:"en",getCode:function(){return OpenLayers.Lang.code||OpenLayers.Lang.setCode(),OpenLayers.Lang.code},setCode:function(a){var b;if(a||(a="msie"==OpenLayers.BROWSER_NAME?navigator.userLanguage:navigator.language),a=a.split("-"),a[0]=a[0].toLowerCase(),"object"==typeof OpenLayers.Lang[a[0]]&&(b=a[0]),a[1]){var c=a[0]+"-"+a[1].toUpperCase();"object"==typeof OpenLayers.Lang[c]&&(b=c)}b||(OpenLayers.Console.warn("Failed to find OpenLayers.Lang."+a.join("-")+" dictionary, falling back to default language"),b=OpenLayers.Lang.defaultCode),OpenLayers.Lang.code=b},translate:function(a,b){var c=OpenLayers.Lang[OpenLayers.Lang.getCode()];return(c=c&&c[a])||(c=a),b&&(c=OpenLayers.String.format(c,b)),c}},OpenLayers.i18n=OpenLayers.Lang.translate,OpenLayers.Util=OpenLayers.Util||{},OpenLayers.Util.getElement=function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=arguments[b];if("string"==typeof d&&(d=document.getElementById(d)),1==arguments.length)return d;a.push(d)}return a},OpenLayers.Util.isElement=function(a){return!(!a||1!==a.nodeType)},OpenLayers.Util.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},OpenLayers.Util.removeItem=function(a,b){for(var c=a.length-1;c>=0;c--)a[c]==b&&a.splice(c,1);return a},OpenLayers.Util.indexOf=function(a,b){if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return c;return-1},OpenLayers.Util.dotless=/\./g,OpenLayers.Util.modifyDOMElement=function(a,b,c,d,e,f,g,h){b&&(a.id=b.replace(OpenLayers.Util.dotless,"_")),c&&(a.style.left=c.x+"px",a.style.top=c.y+"px"),d&&(a.style.width=d.w+"px",a.style.height=d.h+"px"),e&&(a.style.position=e),f&&(a.style.border=f),g&&(a.style.overflow=g),0<=parseFloat(h)&&1>parseFloat(h)?(a.style.filter="alpha(opacity="+100*h+")",a.style.opacity=h):1==parseFloat(h)&&(a.style.filter="",a.style.opacity="")},OpenLayers.Util.createDiv=function(a,b,c,d,e,f,g,h){var i=document.createElement("div");return d&&(i.style.backgroundImage="url("+d+")"),a||(a=OpenLayers.Util.createUniqueID("OpenLayersDiv")),e||(e="absolute"),OpenLayers.Util.modifyDOMElement(i,a,b,c,e,f,g,h),i},OpenLayers.Util.createImage=function(a,b,c,d,e,f,g,h){var i=document.createElement("img");return a||(a=OpenLayers.Util.createUniqueID("OpenLayersDiv")),e||(e="relative"),OpenLayers.Util.modifyDOMElement(i,a,b,c,e,f,null,g),h&&(i.style.display="none",b=function(){i.style.display="",OpenLayers.Event.stopObservingElement(i)},OpenLayers.Event.observe(i,"load",b),OpenLayers.Event.observe(i,"error",b)),i.style.alt=a,i.galleryImg="no",d&&(i.src=d),i},OpenLayers.IMAGE_RELOAD_ATTEMPTS=0,OpenLayers.Util.alphaHackNeeded=null,OpenLayers.Util.alphaHack=function(){if(null==OpenLayers.Util.alphaHackNeeded){var a=navigator.appVersion.split("MSIE"),a=parseFloat(a[1]),b=!1;try{b=!!document.body.filters}catch(c){}OpenLayers.Util.alphaHackNeeded=b&&a>=5.5&&7>a}return OpenLayers.Util.alphaHackNeeded},OpenLayers.Util.modifyAlphaImageDiv=function(a,b,c,d,e,f,g,h,i){OpenLayers.Util.modifyDOMElement(a,b,c,d,f,null,null,i),b=a.childNodes[0],e&&(b.src=e),OpenLayers.Util.modifyDOMElement(b,a.id+"_innerImage",null,d,"relative",g),OpenLayers.Util.alphaHack()&&("none"!=a.style.display&&(a.style.display="inline-block"),null==h&&(h="scale"),a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b.src+"', sizingMethod='"+h+"')",0<=parseFloat(a.style.opacity)&&1>parseFloat(a.style.opacity)&&(a.style.filter+=" alpha(opacity="+100*a.style.opacity+")"),b.style.filter="alpha(opacity=0)")},OpenLayers.Util.createAlphaImageDiv=function(a,b,c,d,e,f,g,h,i){var j=OpenLayers.Util.createDiv();return i=OpenLayers.Util.createImage(null,null,null,null,null,null,null,i),i.className="olAlphaImg",j.appendChild(i),OpenLayers.Util.modifyAlphaImageDiv(j,a,b,c,d,e,f,g,h),j},OpenLayers.Util.upperCaseObject=function(a){var b,c={};for(b in a)c[b.toUpperCase()]=a[b];return c},OpenLayers.Util.applyDefaults=function(a,b){a=a||{};var c,d="function"==typeof window.Event&&b instanceof window.Event;for(c in b)(void 0===a[c]||!d&&b.hasOwnProperty&&b.hasOwnProperty(c)&&!a.hasOwnProperty(c))&&(a[c]=b[c]);return!d&&b&&b.hasOwnProperty&&b.hasOwnProperty("toString")&&!a.hasOwnProperty("toString")&&(a.toString=b.toString),a},OpenLayers.Util.getParameterString=function(a){var b,c=[];for(b in a){var d=a[b];if(null!=d&&"function"!=typeof d){if("object"==typeof d&&d.constructor==Array){for(var e,f=[],g=0,h=d.length;h>g;g++)e=d[g],f.push(encodeURIComponent(null===e||void 0===e?"":e));d=f.join(",")}else d=encodeURIComponent(d);c.push(encodeURIComponent(b)+"="+d)}}return c.join("&")},OpenLayers.Util.urlAppend=function(a,b){var c=a;if(b)var d=(a+" ").split(/[?&]/),c=c+(" "===d.pop()?b:d.length?"&"+b:"?"+b);return c},OpenLayers.Util.getImagesLocation=function(){return OpenLayers.ImgPath||OpenLayers._getScriptLocation()+"img/"},OpenLayers.Util.getImageLocation=function(a){return OpenLayers.Util.getImagesLocation()+a},OpenLayers.Util.Try=function(){for(var a=null,b=0,c=arguments.length;c>b;b++){var d=arguments[b];try{a=d();break}catch(e){}}return a},OpenLayers.Util.getXmlNodeValue=function(a){var b=null;return OpenLayers.Util.Try(function(){b=a.text,b||(b=a.textContent),b||(b=a.firstChild.nodeValue)},function(){b=a.textContent}),b},OpenLayers.Util.mouseLeft=function(a,b){for(var c=a.relatedTarget?a.relatedTarget:a.toElement;c!=b&&null!=c;)c=c.parentNode;return c!=b},OpenLayers.Util.DEFAULT_PRECISION=14,OpenLayers.Util.toFloat=function(a,b){return null==b&&(b=OpenLayers.Util.DEFAULT_PRECISION),"number"!=typeof a&&(a=parseFloat(a)),0===b?a:parseFloat(a.toPrecision(b))},OpenLayers.Util.rad=function(a){return a*Math.PI/180},OpenLayers.Util.deg=function(a){return 180*a/Math.PI},OpenLayers.Util.VincentyConstants={a:6378137,b:6356752.3142,f:1/298.257223563},OpenLayers.Util.distVincenty=function(a,b){for(var c=OpenLayers.Util.VincentyConstants,d=c.a,e=c.b,c=c.f,f=OpenLayers.Util.rad(b.lon-a.lon),g=Math.atan((1-c)*Math.tan(OpenLayers.Util.rad(a.lat))),h=Math.atan((1-c)*Math.tan(OpenLayers.Util.rad(b.lat))),i=Math.sin(g),g=Math.cos(g),j=Math.sin(h),h=Math.cos(h),k=f,l=2*Math.PI,m=20;1e-12<Math.abs(k-l)&&0<--m;){var n=Math.sin(k),o=Math.cos(k),p=Math.sqrt(h*n*h*n+(g*j-i*h*o)*(g*j-i*h*o));if(0==p)return 0;var o=i*j+g*h*o,q=Math.atan2(p,o),r=Math.asin(g*h*n/p),s=Math.cos(r)*Math.cos(r),n=o-2*i*j/s,t=c/16*s*(4+c*(4-3*s)),l=k,k=f+(1-t)*c*Math.sin(r)*(q+t*p*(n+t*o*(-1+2*n*n)))}return 0==m?0/0:(d=s*(d*d-e*e)/(e*e),c=d/1024*(256+d*(-128+d*(74-47*d))),(e*(1+d/16384*(4096+d*(-768+d*(320-175*d))))*(q-c*p*(n+c/4*(o*(-1+2*n*n)-c/6*n*(-3+4*p*p)*(-3+4*n*n))))).toFixed(3)/1e3)},OpenLayers.Util.destinationVincenty=function(a,b,c){var d=OpenLayers.Util,e=d.VincentyConstants,f=e.a,g=e.b,h=e.f,e=a.lon;a=a.lat;var i=d.rad(b);b=Math.sin(i),i=Math.cos(i),a=(1-h)*Math.tan(d.rad(a));var j=1/Math.sqrt(1+a*a),k=a*j,l=Math.atan2(a,i);a=j*b;for(var m=1-a*a,f=m*(f*f-g*g)/(g*g),n=1+f/16384*(4096+f*(-768+f*(320-175*f))),o=f/1024*(256+f*(-128+f*(74-47*f))),f=c/(g*n),p=2*Math.PI;1e-12<Math.abs(f-p);)var q=Math.cos(2*l+f),r=Math.sin(f),s=Math.cos(f),t=o*r*(q+o/4*(s*(-1+2*q*q)-o/6*q*(-3+4*r*r)*(-3+4*q*q))),p=f,f=c/(g*n)+t;return c=k*r-j*s*i,g=Math.atan2(k*s+j*r*i,(1-h)*Math.sqrt(a*a+c*c)),b=Math.atan2(r*b,j*s-k*r*i),i=h/16*m*(4+h*(4-3*m)),q=b-(1-i)*h*a*(f+i*r*(q+i*s*(-1+2*q*q))),Math.atan2(a,-c),new OpenLayers.LonLat(e+d.deg(q),d.deg(g))},OpenLayers.Util.getParameters=function(a,b){b=b||{},a=null===a||void 0===a?window.location.href:a;var c="";if(OpenLayers.String.contains(a,"?"))var d=a.indexOf("?")+1,c=OpenLayers.String.contains(a,"#")?a.indexOf("#"):a.length,c=a.substring(d,c);for(var d={},c=c.split(/[&;]/),e=0,f=c.length;f>e;++e){var g=c[e].split("=");if(g[0]){var h=g[0];try{h=decodeURIComponent(h)}catch(i){h=unescape(h)}g=(g[1]||"").replace(/\+/g," ");try{g=decodeURIComponent(g)}catch(j){g=unescape(g)}!1!==b.splitArgs&&(g=g.split(",")),1==g.length&&(g=g[0]),d[h]=g}}return d},OpenLayers.Util.lastSeqID=0,OpenLayers.Util.createUniqueID=function(a){return a=null==a?"id_":a.replace(OpenLayers.Util.dotless,"_"),OpenLayers.Util.lastSeqID+=1,a+OpenLayers.Util.lastSeqID},OpenLayers.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.37,km:39370,dd:4374754,yd:36},OpenLayers.INCHES_PER_UNIT["in"]=OpenLayers.INCHES_PER_UNIT.inches,OpenLayers.INCHES_PER_UNIT.degrees=OpenLayers.INCHES_PER_UNIT.dd,OpenLayers.INCHES_PER_UNIT.nmi=1852*OpenLayers.INCHES_PER_UNIT.m,OpenLayers.METERS_PER_INCH=.0254000508001016,OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{Inch:OpenLayers.INCHES_PER_UNIT.inches,Meter:1/OpenLayers.METERS_PER_INCH,Foot:.3048006096012192/OpenLayers.METERS_PER_INCH,IFoot:.3048/OpenLayers.METERS_PER_INCH,ClarkeFoot:.3047972651151/OpenLayers.METERS_PER_INCH,SearsFoot:.30479947153867626/OpenLayers.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/OpenLayers.METERS_PER_INCH,IInch:.0254/OpenLayers.METERS_PER_INCH,MicroInch:254e-7/OpenLayers.METERS_PER_INCH,Mil:2.54e-8/OpenLayers.METERS_PER_INCH,Centimeter:.01/OpenLayers.METERS_PER_INCH,Kilometer:1e3/OpenLayers.METERS_PER_INCH,Yard:.9144018288036576/OpenLayers.METERS_PER_INCH,SearsYard:.914398414616029/OpenLayers.METERS_PER_INCH,IndianYard:.9143985307444408/OpenLayers.METERS_PER_INCH,IndianYd37:.91439523/OpenLayers.METERS_PER_INCH,IndianYd62:.9143988/OpenLayers.METERS_PER_INCH,IndianYd75:.9143985/OpenLayers.METERS_PER_INCH,IndianFoot:.30479951/OpenLayers.METERS_PER_INCH,IndianFt37:.30479841/OpenLayers.METERS_PER_INCH,IndianFt62:.3047996/OpenLayers.METERS_PER_INCH,IndianFt75:.3047995/OpenLayers.METERS_PER_INCH,Mile:1609.3472186944373/OpenLayers.METERS_PER_INCH,IYard:.9144/OpenLayers.METERS_PER_INCH,IMile:1609.344/OpenLayers.METERS_PER_INCH,NautM:1852/OpenLayers.METERS_PER_INCH,"Lat-66":110943.31648893273/OpenLayers.METERS_PER_INCH,"Lat-83":110946.25736872235/OpenLayers.METERS_PER_INCH,Decimeter:.1/OpenLayers.METERS_PER_INCH,Millimeter:.001/OpenLayers.METERS_PER_INCH,Dekameter:10/OpenLayers.METERS_PER_INCH,Decameter:10/OpenLayers.METERS_PER_INCH,Hectometer:100/OpenLayers.METERS_PER_INCH,GermanMeter:1.0000135965/OpenLayers.METERS_PER_INCH,CaGrid:.999738/OpenLayers.METERS_PER_INCH,ClarkeChain:20.1166194976/OpenLayers.METERS_PER_INCH,GunterChain:20.11684023368047/OpenLayers.METERS_PER_INCH,BenoitChain:20.116782494375872/OpenLayers.METERS_PER_INCH,SearsChain:20.11676512155/OpenLayers.METERS_PER_INCH,ClarkeLink:.201166194976/OpenLayers.METERS_PER_INCH,GunterLink:.2011684023368047/OpenLayers.METERS_PER_INCH,BenoitLink:.20116782494375873/OpenLayers.METERS_PER_INCH,SearsLink:.2011676512155/OpenLayers.METERS_PER_INCH,Rod:5.02921005842012/OpenLayers.METERS_PER_INCH,IntnlChain:20.1168/OpenLayers.METERS_PER_INCH,IntnlLink:.201168/OpenLayers.METERS_PER_INCH,Perch:5.02921005842012/OpenLayers.METERS_PER_INCH,Pole:5.02921005842012/OpenLayers.METERS_PER_INCH,Furlong:201.1684023368046/OpenLayers.METERS_PER_INCH,Rood:3.778266898/OpenLayers.METERS_PER_INCH,CapeFoot:.3047972615/OpenLayers.METERS_PER_INCH,Brealey:375/OpenLayers.METERS_PER_INCH,ModAmFt:.304812252984506/OpenLayers.METERS_PER_INCH,Fathom:1.8288/OpenLayers.METERS_PER_INCH,"NautM-UK":1853.184/OpenLayers.METERS_PER_INCH,"50kilometers":5e4/OpenLayers.METERS_PER_INCH,"150kilometers":15e4/OpenLayers.METERS_PER_INCH}),OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{mm:OpenLayers.INCHES_PER_UNIT.Meter/1e3,cm:OpenLayers.INCHES_PER_UNIT.Meter/100,dm:100*OpenLayers.INCHES_PER_UNIT.Meter,km:1e3*OpenLayers.INCHES_PER_UNIT.Meter,kmi:OpenLayers.INCHES_PER_UNIT.nmi,fath:OpenLayers.INCHES_PER_UNIT.Fathom,ch:OpenLayers.INCHES_PER_UNIT.IntnlChain,link:OpenLayers.INCHES_PER_UNIT.IntnlLink,"us-in":OpenLayers.INCHES_PER_UNIT.inches,"us-ft":OpenLayers.INCHES_PER_UNIT.Foot,"us-yd":OpenLayers.INCHES_PER_UNIT.Yard,"us-ch":OpenLayers.INCHES_PER_UNIT.GunterChain,"us-mi":OpenLayers.INCHES_PER_UNIT.Mile,"ind-yd":OpenLayers.INCHES_PER_UNIT.IndianYd37,"ind-ft":OpenLayers.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/OpenLayers.METERS_PER_INCH}),OpenLayers.DOTS_PER_INCH=72,OpenLayers.Util.normalizeScale=function(a){return a>1?1/a:a
},OpenLayers.Util.getResolutionFromScale=function(a,b){var c;return a&&(null==b&&(b="degrees"),c=1/(OpenLayers.Util.normalizeScale(a)*OpenLayers.INCHES_PER_UNIT[b]*OpenLayers.DOTS_PER_INCH)),c},OpenLayers.Util.getScaleFromResolution=function(a,b){return null==b&&(b="degrees"),a*OpenLayers.INCHES_PER_UNIT[b]*OpenLayers.DOTS_PER_INCH},OpenLayers.Util.pagePosition=function(a){var b=[0,0],c=OpenLayers.Util.getViewportElement();if(!a||a==window||a==c)return b;var d=OpenLayers.IS_GECKO&&document.getBoxObjectFor&&"absolute"==OpenLayers.Element.getStyle(a,"position")&&(""==a.style.top||""==a.style.left),e=null;if(a.getBoundingClientRect)a=a.getBoundingClientRect(),e=window.pageYOffset||c.scrollTop,b[0]=a.left+(window.pageXOffset||c.scrollLeft),b[1]=a.top+e;else if(document.getBoxObjectFor&&!d)a=document.getBoxObjectFor(a),c=document.getBoxObjectFor(c),b[0]=a.screenX-c.screenX,b[1]=a.screenY-c.screenY;else{if(b[0]=a.offsetLeft,b[1]=a.offsetTop,e=a.offsetParent,e!=a)for(;e;)b[0]+=e.offsetLeft,b[1]+=e.offsetTop,e=e.offsetParent;for(c=OpenLayers.BROWSER_NAME,("opera"==c||"safari"==c&&"absolute"==OpenLayers.Element.getStyle(a,"position"))&&(b[1]-=document.body.offsetTop),e=a.offsetParent;e&&e!=document.body;)b[0]-=e.scrollLeft,("opera"!=c||"TR"!=e.tagName)&&(b[1]-=e.scrollTop),e=e.offsetParent}return b},OpenLayers.Util.getViewportElement=function(){var a=arguments.callee.viewportElement;return void 0==a&&(a="msie"==OpenLayers.BROWSER_NAME&&"CSS1Compat"!=document.compatMode?document.body:document.documentElement,arguments.callee.viewportElement=a),a},OpenLayers.Util.isEquivalentUrl=function(a,b,c){c=c||{},OpenLayers.Util.applyDefaults(c,{ignoreCase:!0,ignorePort80:!0,ignoreHash:!0,splitArgs:!1}),a=OpenLayers.Util.createUrlObject(a,c),b=OpenLayers.Util.createUrlObject(b,c);for(var d in a)if("args"!==d&&a[d]!=b[d])return!1;for(d in a.args){if(a.args[d]!=b.args[d])return!1;delete b.args[d]}for(d in b.args)return!1;return!0},OpenLayers.Util.createUrlObject=function(a,b){if(b=b||{},!/^\w+:\/\//.test(a)){var c=window.location,d=c.port?":"+c.port:"",d=c.protocol+"//"+c.host.split(":").shift()+d;0===a.indexOf("/")?a=d+a:(c=c.pathname.split("/"),c.pop(),a=d+c.join("/")+"/"+a)}b.ignoreCase&&(a=a.toLowerCase()),c=document.createElement("a"),c.href=a,d={},d.host=c.host.split(":").shift(),d.protocol=c.protocol,d.port=b.ignorePort80?"80"==c.port||"0"==c.port?"":c.port:""==c.port||"0"==c.port?"80":c.port,d.hash=b.ignoreHash||"#"===c.hash?"":c.hash;var e=c.search;return e||(e=a.indexOf("?"),e=-1!=e?a.substr(e):""),d.args=OpenLayers.Util.getParameters(e,{splitArgs:b.splitArgs}),d.pathname="/"==c.pathname.charAt(0)?c.pathname:"/"+c.pathname,d},OpenLayers.Util.removeTail=function(a){var b=null,b=a.indexOf("?"),c=a.indexOf("#");return b=-1==b?-1!=c?a.substr(0,c):a:-1!=c?a.substr(0,Math.min(b,c)):a.substr(0,b)},OpenLayers.IS_GECKO=function(){var a=navigator.userAgent.toLowerCase();return-1==a.indexOf("webkit")&&-1!=a.indexOf("gecko")}(),OpenLayers.CANVAS_SUPPORTED=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}(),OpenLayers.BROWSER_NAME=function(){var a="",b=navigator.userAgent.toLowerCase();return-1!=b.indexOf("opera")?a="opera":-1!=b.indexOf("msie")?a="msie":-1!=b.indexOf("safari")?a="safari":-1!=b.indexOf("mozilla")&&(a=-1!=b.indexOf("firefox")?"firefox":"mozilla"),a}(),OpenLayers.Util.getBrowserName=function(){return OpenLayers.BROWSER_NAME},OpenLayers.Util.getRenderedDimensions=function(a,b,c){var d,e,f=document.createElement("div");f.style.visibility="hidden";for(var g=c&&c.containerElement?c.containerElement:document.body,h=!1,i=null,j=g;j&&"body"!=j.tagName.toLowerCase();){var k=OpenLayers.Element.getStyle(j,"position");if("absolute"==k){h=!0;break}if(k&&"static"!=k)break;j=j.parentNode}if(!h||0!==g.clientHeight&&0!==g.clientWidth||(i=document.createElement("div"),i.style.visibility="hidden",i.style.position="absolute",i.style.overflow="visible",i.style.width=document.body.clientWidth+"px",i.style.height=document.body.clientHeight+"px",i.appendChild(f)),f.style.position="absolute",b&&(b.w?(d=b.w,f.style.width=d+"px"):b.h&&(e=b.h,f.style.height=e+"px")),c&&c.displayClass&&(f.className=c.displayClass),b=document.createElement("div"),b.innerHTML=a,b.style.overflow="visible",b.childNodes)for(a=0,c=b.childNodes.length;c>a;a++)b.childNodes[a].style&&(b.childNodes[a].style.overflow="visible");return f.appendChild(b),g.appendChild(i?i:f),d||(d=parseInt(b.scrollWidth),f.style.width=d+"px"),e||(e=parseInt(b.scrollHeight)),f.removeChild(b),i?(i.removeChild(f),g.removeChild(i)):g.removeChild(f),new OpenLayers.Size(d,e)},OpenLayers.Util.getScrollbarWidth=function(){var a=OpenLayers.Util._scrollbarWidth;if(null==a){var b=null,c=null,b=a=0,b=document.createElement("div");b.style.position="absolute",b.style.top="-1000px",b.style.left="-1000px",b.style.width="100px",b.style.height="50px",b.style.overflow="hidden",c=document.createElement("div"),c.style.width="100%",c.style.height="200px",b.appendChild(c),document.body.appendChild(b),a=c.offsetWidth,b.style.overflow="scroll",b=c.offsetWidth,document.body.removeChild(document.body.lastChild),OpenLayers.Util._scrollbarWidth=a-b,a=OpenLayers.Util._scrollbarWidth}return a},OpenLayers.Util.getFormattedLonLat=function(a,b,c){c||(c="dms"),a=(a+540)%360-180;var d=Math.abs(a),e=Math.floor(d),f=d=(d-e)/(1/60),d=Math.floor(d),f=Math.round(10*((f-d)/(1/60))),f=f/10;return f>=60&&(f-=60,d+=1,d>=60&&(d-=60,e+=1)),10>e&&(e="0"+e),e+="°",0<=c.indexOf("dm")&&(10>d&&(d="0"+d),e+=d+"'",0<=c.indexOf("dms")&&(10>f&&(f="0"+f),e+=f+'"')),e="lon"==b?e+OpenLayers.i18n(0>a?"W":"E"):e+OpenLayers.i18n(0>a?"S":"N")},OpenLayers.Format=OpenLayers.Class({options:null,externalProjection:null,internalProjection:null,data:null,keepData:!1,initialize:function(a){OpenLayers.Util.extend(this,a),this.options=a},destroy:function(){},read:function(){throw Error("Read not implemented.")},write:function(){throw Error("Write not implemented.")},CLASS_NAME:"OpenLayers.Format"}),OpenLayers.Format.CSWGetRecords=function(a){a=OpenLayers.Util.applyDefaults(a,OpenLayers.Format.CSWGetRecords.DEFAULTS);var b=OpenLayers.Format.CSWGetRecords["v"+a.version.replace(/\./g,"_")];if(!b)throw"Unsupported CSWGetRecords version: "+a.version;return new b(a)},OpenLayers.Format.CSWGetRecords.DEFAULTS={version:"2.0.2"},OpenLayers.Control=OpenLayers.Class({id:null,map:null,div:null,type:null,allowSelection:!1,displayClass:"",title:"",autoActivate:!1,active:null,handlerOptions:null,handler:null,eventListeners:null,events:null,initialize:function(a){this.displayClass=this.CLASS_NAME.replace("OpenLayers.","ol").replace(/\./g,""),OpenLayers.Util.extend(this,a),this.events=new OpenLayers.Events(this),this.eventListeners instanceof Object&&this.events.on(this.eventListeners),null==this.id&&(this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_"))},destroy:function(){if(this.events&&(this.eventListeners&&this.events.un(this.eventListeners),this.events.destroy(),this.events=null),this.eventListeners=null,this.handler&&(this.handler.destroy(),this.handler=null),this.handlers){for(var a in this.handlers)this.handlers.hasOwnProperty(a)&&"function"==typeof this.handlers[a].destroy&&this.handlers[a].destroy();this.handlers=null}this.map&&(this.map.removeControl(this),this.map=null),this.div=null},setMap:function(a){this.map=a,this.handler&&this.handler.setMap(a)},draw:function(a){return null==this.div&&(this.div=OpenLayers.Util.createDiv(this.id),this.div.className=this.displayClass,this.allowSelection||(this.div.className+=" olControlNoSelect",this.div.setAttribute("unselectable","on",0),this.div.onselectstart=OpenLayers.Function.False),""!=this.title&&(this.div.title=this.title)),null!=a&&(this.position=a.clone()),this.moveTo(this.position),this.div},moveTo:function(a){null!=a&&null!=this.div&&(this.div.style.left=a.x+"px",this.div.style.top=a.y+"px")},activate:function(){return this.active?!1:(this.handler&&this.handler.activate(),this.active=!0,this.map&&OpenLayers.Element.addClass(this.map.viewPortDiv,this.displayClass.replace(/ /g,"")+"Active"),this.events.triggerEvent("activate"),!0)},deactivate:function(){return this.active?(this.handler&&this.handler.deactivate(),this.active=!1,this.map&&OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass.replace(/ /g,"")+"Active"),this.events.triggerEvent("deactivate"),!0):!1},CLASS_NAME:"OpenLayers.Control"}),OpenLayers.Control.TYPE_BUTTON=1,OpenLayers.Control.TYPE_TOGGLE=2,OpenLayers.Control.TYPE_TOOL=3,OpenLayers.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(a){return a.target||a.srcElement},isSingleTouch:function(a){return a.touches&&1==a.touches.length},isMultiTouch:function(a){return a.touches&&1<a.touches.length},isLeftClick:function(a){return a.which&&1==a.which||a.button&&1==a.button},isRightClick:function(a){return a.which&&3==a.which||a.button&&2==a.button},stop:function(a,b){b||OpenLayers.Event.preventDefault(a),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},findElement:function(a,b){for(var c=OpenLayers.Event.element(a);c.parentNode&&(!c.tagName||c.tagName.toUpperCase()!=b.toUpperCase());)c=c.parentNode;return c},observe:function(a,b,c,d){if(a=OpenLayers.Util.getElement(a),d=d||!1,"keypress"==b&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||a.attachEvent)&&(b="keydown"),this.observers||(this.observers={}),!a._eventCacheID){var e="eventCacheID_";a.id&&(e=a.id+"_"+e),a._eventCacheID=OpenLayers.Util.createUniqueID(e)}e=a._eventCacheID,this.observers[e]||(this.observers[e]=[]),this.observers[e].push({element:a,name:b,observer:c,useCapture:d}),a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},stopObservingElement:function(a){a=OpenLayers.Util.getElement(a)._eventCacheID,this._removeElementObservers(OpenLayers.Event.observers[a])},_removeElementObservers:function(a){if(a)for(var b=a.length-1;b>=0;b--){var c=a[b];OpenLayers.Event.stopObserving.apply(this,[c.element,c.name,c.observer,c.useCapture])}},stopObserving:function(a,b,c,d){d=d||!1,a=OpenLayers.Util.getElement(a);var e=a._eventCacheID;"keypress"==b&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||a.detachEvent)&&(b="keydown");var f=!1,g=OpenLayers.Event.observers[e];if(g)for(var h=0;!f&&h<g.length;){var i=g[h];if(i.name==b&&i.observer==c&&i.useCapture==d){g.splice(h,1),0==g.length&&delete OpenLayers.Event.observers[e],f=!0;break}h++}return f&&(a.removeEventListener?a.removeEventListener(b,c,d):a&&a.detachEvent&&a.detachEvent("on"+b,c)),f},unloadCache:function(){if(OpenLayers.Event&&OpenLayers.Event.observers){for(var a in OpenLayers.Event.observers)OpenLayers.Event._removeElementObservers.apply(this,[OpenLayers.Event.observers[a]]);OpenLayers.Event.observers=!1}},CLASS_NAME:"OpenLayers.Event"},OpenLayers.Event.observe(window,"unload",OpenLayers.Event.unloadCache,!1),OpenLayers.Events=OpenLayers.Class({BROWSER_EVENTS:"mouseover mouseout mousedown mouseup mousemove click dblclick rightclick dblrightclick resize focus blur touchstart touchmove touchend keydown".split(" "),listeners:null,object:null,element:null,eventHandler:null,fallThrough:null,includeXY:!1,extensions:null,extensionCount:null,clearMouseListener:null,initialize:function(a,b,c,d,e){OpenLayers.Util.extend(this,e),this.object=a,this.fallThrough=d,this.listeners={},this.extensions={},this.extensionCount={},this._msTouches=[],null!=b&&this.attachToElement(b)},destroy:function(){for(var a in this.extensions)"boolean"!=typeof this.extensions[a]&&this.extensions[a].destroy();this.extensions=null,this.element&&(OpenLayers.Event.stopObservingElement(this.element),this.element.hasScrollEvent&&OpenLayers.Event.stopObserving(window,"scroll",this.clearMouseListener)),this.eventHandler=this.fallThrough=this.object=this.listeners=this.element=null},addEventType:function(){},attachToElement:function(a){this.element?OpenLayers.Event.stopObservingElement(this.element):(this.eventHandler=OpenLayers.Function.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=OpenLayers.Function.bind(this.clearMouseCache,this)),this.element=a;for(var b,c=!!window.navigator.msMaxTouchPoints,d=0,e=this.BROWSER_EVENTS.length;e>d;d++)b=this.BROWSER_EVENTS[d],OpenLayers.Event.observe(a,b,this.eventHandler),c&&0===b.indexOf("touch")&&this.addMsTouchListener(a,b,this.eventHandler);OpenLayers.Event.observe(a,"dragstart",OpenLayers.Event.stop)},on:function(a){for(var b in a)"scope"!=b&&a.hasOwnProperty(b)&&this.register(b,a.scope,a[b])},register:function(a,b,c,d){if(a in OpenLayers.Events&&!this.extensions[a]&&(this.extensions[a]=new OpenLayers.Events[a](this)),null!=c){null==b&&(b=this.object);var e=this.listeners[a];e||(e=[],this.listeners[a]=e,this.extensionCount[a]=0),b={obj:b,func:c},d?(e.splice(this.extensionCount[a],0,b),"object"==typeof d&&d.extension&&this.extensionCount[a]++):e.push(b)}},registerPriority:function(a,b,c){this.register(a,b,c,!0)},un:function(a){for(var b in a)"scope"!=b&&a.hasOwnProperty(b)&&this.unregister(b,a.scope,a[b])},unregister:function(a,b,c){if(null==b&&(b=this.object),a=this.listeners[a],null!=a)for(var d=0,e=a.length;e>d;d++)if(a[d].obj==b&&a[d].func==c){a.splice(d,1);break}},remove:function(a){null!=this.listeners[a]&&(this.listeners[a]=[])},triggerEvent:function(a,b){var c=this.listeners[a];if(c&&0!=c.length){null==b&&(b={}),b.object=this.object,b.element=this.element,b.type||(b.type=a);for(var d,c=c.slice(),e=0,f=c.length;f>e&&(d=c[e],d=d.func.apply(d.obj,[b]),void 0==d||0!=d);e++);return this.fallThrough||OpenLayers.Event.stop(b,!0),d}},handleBrowserEvent:function(a){var b=a.type,c=this.listeners[b];if(c&&0!=c.length){if((c=a.touches)&&c[0]){for(var d,e=0,f=0,g=c.length,h=0;g>h;++h)d=this.getTouchClientXY(c[h]),e+=d.clientX,f+=d.clientY;a.clientX=e/g,a.clientY=f/g}this.includeXY&&(a.xy=this.getMousePosition(a)),this.triggerEvent(b,a)}},getTouchClientXY:function(a){var b=window.olMockWin||window,c=b.pageXOffset,b=b.pageYOffset,d=a.clientX,e=a.clientY;return 0===a.pageY&&Math.floor(e)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(d)>Math.floor(a.pageX)?(d-=c,e-=b):(e<a.pageY-b||d<a.pageX-c)&&(d=a.pageX-c,e=a.pageY-b),a.olClientX=d,a.olClientY=e,{clientX:d,clientY:e}},clearMouseCache:function(){this.element.scrolls=null,this.element.lefttop=null,this.element.offsets=null},getMousePosition:function(a){if(this.includeXY?this.element.hasScrollEvent||(OpenLayers.Event.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var b=OpenLayers.Util.getViewportElement();this.element.scrolls=[window.pageXOffset||b.scrollLeft,window.pageYOffset||b.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=OpenLayers.Util.pagePosition(this.element)),new OpenLayers.Pixel(a.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],a.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])},addMsTouchListener:function(a,b,c){function d(a){c(OpenLayers.Util.applyDefaults({stopPropagation:function(){for(var a=e.length-1;a>=0;--a)e[a].stopPropagation()},preventDefault:function(){for(var a=e.length-1;a>=0;--a)e[a].preventDefault()},type:b},a))}var e=this._msTouches;switch(b){case"touchstart":return this.addMsTouchListenerStart(a,b,d);case"touchend":return this.addMsTouchListenerEnd(a,b,d);case"touchmove":return this.addMsTouchListenerMove(a,b,d);default:throw"Unknown touch event type"}},addMsTouchListenerStart:function(a,b,c){var d=this._msTouches;OpenLayers.Event.observe(a,"MSPointerDown",function(a){for(var b=!1,e=0,f=d.length;f>e;++e)if(d[e].pointerId==a.pointerId){b=!0;break}b||d.push(a),a.touches=d.slice(),c(a)}),OpenLayers.Event.observe(a,"MSPointerUp",function(a){for(var b=0,c=d.length;c>b;++b)if(d[b].pointerId==a.pointerId){d.splice(b,1);break}})},addMsTouchListenerMove:function(a,b,c){var d=this._msTouches;OpenLayers.Event.observe(a,"MSPointerMove",function(a){if(!(a.pointerType==a.MSPOINTER_TYPE_MOUSE&&0==a.buttons||1==d.length&&d[0].pageX==a.pageX&&d[0].pageY==a.pageY)){for(var b=0,e=d.length;e>b;++b)if(d[b].pointerId==a.pointerId){d[b]=a;break}a.touches=d.slice(),c(a)}})},addMsTouchListenerEnd:function(a,b,c){var d=this._msTouches;OpenLayers.Event.observe(a,"MSPointerUp",function(a){for(var b=0,e=d.length;e>b;++b)if(d[b].pointerId==a.pointerId){d.splice(b,1);break}a.touches=d.slice(),c(a)})},CLASS_NAME:"OpenLayers.Events"}),OpenLayers.Events.buttonclick=OpenLayers.Class({target:null,events:"mousedown mouseup click dblclick touchstart touchmove touchend keydown".split(" "),startRegEx:/^mousedown|touchstart$/,cancelRegEx:/^touchmove$/,completeRegEx:/^mouseup|touchend$/,initialize:function(a){for(this.target=a,a=this.events.length-1;a>=0;--a)this.target.register(this.events[a],this,this.buttonClick,{extension:!0})},destroy:function(){for(var a=this.events.length-1;a>=0;--a)this.target.unregister(this.events[a],this,this.buttonClick);delete this.target},getPressedButton:function(a){var b,c=3;do{if(OpenLayers.Element.hasClass(a,"olButton")){b=a;break}a=a.parentNode}while(0<--c&&a);return b},ignore:function(a){var b=3,c=!1;do{if("a"===a.nodeName.toLowerCase()){c=!0;break}a=a.parentNode}while(0<--b&&a);return c},buttonClick:function(a){var b=!0,c=OpenLayers.Event.element(a);if(c&&(OpenLayers.Event.isLeftClick(a)||!~a.type.indexOf("mouse")))if(c=this.getPressedButton(c)){if("keydown"===a.type)switch(a.keyCode){case OpenLayers.Event.KEY_RETURN:case OpenLayers.Event.KEY_SPACE:this.target.triggerEvent("buttonclick",{buttonElement:c}),OpenLayers.Event.stop(a),b=!1}else if(this.startEvt){if(this.completeRegEx.test(a.type)){var b=OpenLayers.Util.pagePosition(c),d=OpenLayers.Util.getViewportElement(),e=window.pageYOffset||d.scrollTop;b[0]-=window.pageXOffset||d.scrollLeft,b[1]-=e,this.target.triggerEvent("buttonclick",{buttonElement:c,buttonXY:{x:this.startEvt.clientX-b[0],y:this.startEvt.clientY-b[1]}})}this.cancelRegEx.test(a.type)&&delete this.startEvt,OpenLayers.Event.stop(a),b=!1}this.startRegEx.test(a.type)&&(this.startEvt=a,OpenLayers.Event.stop(a),b=!1)}else b=!this.ignore(OpenLayers.Event.element(a)),delete this.startEvt;return b}}),OpenLayers.Util=OpenLayers.Util||{},OpenLayers.Util.vendorPrefix=function(){function a(a){return a?a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).replace(/^ms-/,"-ms-"):null}function b(a,b){if(void 0===g[b]){var c,e=0,f=d.length,h="undefined"!=typeof a.cssText;for(g[b]=null;f>e;e++)if((c=d[e])?(h||(c=c.toLowerCase()),c=c+b.charAt(0).toUpperCase()+b.slice(1)):c=b,void 0!==a[c]){g[b]=c;break}}return g[b]}function c(a){return b(e,a)}var d=["","O","ms","Moz","Webkit"],e=document.createElement("div").style,f={},g={};return{css:function(b){if(void 0===f[b]){var d=b.replace(/(-[\s\S])/g,function(a){return a.charAt(1).toUpperCase()}),d=c(d);f[b]=a(d)}return f[b]},js:b,style:c,cssCache:f,jsCache:g}}(),OpenLayers.Animation=function(a){var b=OpenLayers.Util.vendorPrefix.js(a,"requestAnimationFrame"),c=!!b,d=function(){var c=a[b]||function(b){a.setTimeout(b,16)};return function(b,d){c.apply(a,[b,d])}}(),e=0,f={};return{isNative:c,requestFrame:d,start:function(a,b,c){b=b>0?b:Number.POSITIVE_INFINITY;var g=++e,h=+new Date;return f[g]=function(){f[g]&&+new Date-h<=b?(a(),f[g]&&d(f[g],c)):delete f[g]},d(f[g],c),g},stop:function(a){delete f[a]}}}(window),OpenLayers.Tween=OpenLayers.Class({easing:null,begin:null,finish:null,duration:null,callbacks:null,time:null,minFrameRate:null,startTime:null,animationId:null,playing:!1,initialize:function(a){this.easing=a?a:OpenLayers.Easing.Expo.easeOut},start:function(a,b,c,d){this.playing=!0,this.begin=a,this.finish=b,this.duration=c,this.callbacks=d.callbacks,this.minFrameRate=d.minFrameRate||30,this.time=0,this.startTime=(new Date).getTime(),OpenLayers.Animation.stop(this.animationId),this.animationId=null,this.callbacks&&this.callbacks.start&&this.callbacks.start.call(this,this.begin),this.animationId=OpenLayers.Animation.start(OpenLayers.Function.bind(this.play,this))},stop:function(){this.playing&&(this.callbacks&&this.callbacks.done&&this.callbacks.done.call(this,this.finish),OpenLayers.Animation.stop(this.animationId),this.animationId=null,this.playing=!1)},play:function(){var a,b={};for(a in this.begin){var c=this.begin[a],d=this.finish[a];if(null==c||null==d||isNaN(c)||isNaN(d))throw new TypeError("invalid value for Tween");b[a]=this.easing.apply(this,[this.time,c,d-c,this.duration])}this.time++,this.callbacks&&this.callbacks.eachStep&&((new Date).getTime()-this.startTime)/this.time<=1e3/this.minFrameRate&&this.callbacks.eachStep.call(this,b),this.time>this.duration&&this.stop()},CLASS_NAME:"OpenLayers.Tween"}),OpenLayers.Easing={CLASS_NAME:"OpenLayers.Easing"},OpenLayers.Easing.Linear={easeIn:function(a,b,c,d){return c*a/d+b},easeOut:function(a,b,c,d){return c*a/d+b},easeInOut:function(a,b,c,d){return c*a/d+b},CLASS_NAME:"OpenLayers.Easing.Linear"},OpenLayers.Easing.Expo={easeIn:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOut:function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},CLASS_NAME:"OpenLayers.Easing.Expo"},OpenLayers.Easing.Quad={easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},CLASS_NAME:"OpenLayers.Easing.Quad"},OpenLayers.Projection=OpenLayers.Class({proj:null,projCode:null,titleRegEx:/\+title=[^\+]*/,initialize:function(a,b){OpenLayers.Util.extend(this,b),this.projCode=a,"object"==typeof Proj4js&&(this.proj=new Proj4js.Proj(a))},getCode:function(){return this.proj?this.proj.srsCode:this.projCode},getUnits:function(){return this.proj?this.proj.units:null},toString:function(){return this.getCode()},equals:function(a){var b=!1;return a&&(a instanceof OpenLayers.Projection||(a=new OpenLayers.Projection(a)),"object"==typeof Proj4js&&this.proj.defData&&a.proj.defData?b=this.proj.defData.replace(this.titleRegEx,"")==a.proj.defData.replace(this.titleRegEx,""):a.getCode&&(b=this.getCode(),a=a.getCode(),b=b==a||!!OpenLayers.Projection.transforms[b]&&OpenLayers.Projection.transforms[b][a]===OpenLayers.Projection.nullTransform)),b},destroy:function(){delete this.proj,delete this.projCode},CLASS_NAME:"OpenLayers.Projection"}),OpenLayers.Projection.transforms={},OpenLayers.Projection.defaults={"EPSG:4326":{units:"degrees",maxExtent:[-180,-90,180,90],yx:!0},"CRS:84":{units:"degrees",maxExtent:[-180,-90,180,90]},"EPSG:900913":{units:"m",maxExtent:[-20037508.34,-20037508.34,20037508.34,20037508.34]}},OpenLayers.Projection.addTransform=function(a,b,c){if(c===OpenLayers.Projection.nullTransform){var d=OpenLayers.Projection.defaults[a];d&&!OpenLayers.Projection.defaults[b]&&(OpenLayers.Projection.defaults[b]=d)}OpenLayers.Projection.transforms[a]||(OpenLayers.Projection.transforms[a]={}),OpenLayers.Projection.transforms[a][b]=c},OpenLayers.Projection.transform=function(a,b,c){if(b&&c)if(b instanceof OpenLayers.Projection||(b=new OpenLayers.Projection(b)),c instanceof OpenLayers.Projection||(c=new OpenLayers.Projection(c)),b.proj&&c.proj)a=Proj4js.transform(b.proj,c.proj,a);else{b=b.getCode(),c=c.getCode();var d=OpenLayers.Projection.transforms;d[b]&&d[b][c]&&d[b][c](a)}return a},OpenLayers.Projection.nullTransform=function(a){return a},function(){function a(a){return a.x=180*a.x/e,a.y=180/Math.PI*(2*Math.atan(Math.exp(a.y/e*Math.PI))-Math.PI/2),a}function b(a){a.x=a.x*e/180;var b=Math.log(Math.tan((90+a.y)*Math.PI/360))/Math.PI*e;return a.y=Math.max(-20037508.34,Math.min(b,20037508.34)),a}function c(c,d){var e,f,g,h,i,j=OpenLayers.Projection.addTransform,k=OpenLayers.Projection.nullTransform;for(e=0,f=d.length;f>e;++e)for(g=d[e],j(c,g,b),j(g,c,a),i=e+1;f>i;++i)h=d[i],j(g,h,k),j(h,g,k)}var d,e=20037508.34,f=["EPSG:900913","EPSG:3857","EPSG:102113","EPSG:102100"],g=["CRS:84","urn:ogc:def:crs:EPSG:6.6:4326","EPSG:4326"];for(d=f.length-1;d>=0;--d)c(f[d],g);for(d=g.length-1;d>=0;--d)c(g[d],f)}(),OpenLayers.Map=OpenLayers.Class({Z_INDEX_BASE:{BaseLayer:100,Overlay:325,Feature:725,Popup:750,Control:1e3},id:null,fractionalZoom:!1,events:null,allOverlays:!1,div:null,dragging:!1,size:null,viewPortDiv:null,layerContainerOrigin:null,layerContainerDiv:null,layers:null,controls:null,popups:null,baseLayer:null,center:null,resolution:null,zoom:0,panRatio:1.5,options:null,tileSize:null,projection:"EPSG:4326",units:null,resolutions:null,maxResolution:null,minResolution:null,maxScale:null,minScale:null,maxExtent:null,minExtent:null,restrictedExtent:null,numZoomLevels:16,theme:null,displayProjection:null,fallThrough:!1,autoUpdateSize:!0,eventListeners:null,panTween:null,panMethod:OpenLayers.Easing.Expo.easeOut,panDuration:50,zoomTween:null,zoomMethod:OpenLayers.Easing.Quad.easeOut,zoomDuration:20,paddingForPopups:null,layerContainerOriginPx:null,minPx:null,maxPx:null,initialize:function(a,b){1===arguments.length&&"object"==typeof a&&(a=(b=a)&&b.div),this.tileSize=new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH,OpenLayers.Map.TILE_HEIGHT),this.paddingForPopups=new OpenLayers.Bounds(15,15,15,15),this.theme=OpenLayers._getScriptLocation()+"theme/default/style.css",this.options=OpenLayers.Util.extend({},b),OpenLayers.Util.extend(this,b),OpenLayers.Util.applyDefaults(this,OpenLayers.Projection.defaults[this.projection instanceof OpenLayers.Projection?this.projection.projCode:this.projection]),!this.maxExtent||this.maxExtent instanceof OpenLayers.Bounds||(this.maxExtent=new OpenLayers.Bounds(this.maxExtent)),!this.minExtent||this.minExtent instanceof OpenLayers.Bounds||(this.minExtent=new OpenLayers.Bounds(this.minExtent)),!this.restrictedExtent||this.restrictedExtent instanceof OpenLayers.Bounds||(this.restrictedExtent=new OpenLayers.Bounds(this.restrictedExtent)),!this.center||this.center instanceof OpenLayers.LonLat||(this.center=new OpenLayers.LonLat(this.center)),this.layers=[],this.id=OpenLayers.Util.createUniqueID("OpenLayers.Map_"),this.div=OpenLayers.Util.getElement(a),this.div||(this.div=document.createElement("div"),this.div.style.height="1px",this.div.style.width="1px"),OpenLayers.Element.addClass(this.div,"olMap");var c=this.id+"_OpenLayers_ViewPort";if(this.viewPortDiv=OpenLayers.Util.createDiv(c,null,null,null,"relative",null,"hidden"),this.viewPortDiv.style.width="100%",this.viewPortDiv.style.height="100%",this.viewPortDiv.className="olMapViewport",this.div.appendChild(this.viewPortDiv),this.events=new OpenLayers.Events(this,this.viewPortDiv,null,this.fallThrough,{includeXY:!0}),OpenLayers.TileManager&&null!==this.tileManager&&(this.tileManager instanceof OpenLayers.TileManager||(this.tileManager=new OpenLayers.TileManager(this.tileManager)),this.tileManager.addMap(this)),c=this.id+"_OpenLayers_Container",this.layerContainerDiv=OpenLayers.Util.createDiv(c),this.layerContainerDiv.style.zIndex=this.Z_INDEX_BASE.Popup-1,this.layerContainerOriginPx={x:0,y:0},this.applyTransform(),this.viewPortDiv.appendChild(this.layerContainerDiv),this.updateSize(),this.eventListeners instanceof Object&&this.events.on(this.eventListeners),!0===this.autoUpdateSize&&(this.updateSizeDestroy=OpenLayers.Function.bind(this.updateSize,this),OpenLayers.Event.observe(window,"resize",this.updateSizeDestroy)),this.theme){for(var c=!0,d=document.getElementsByTagName("link"),e=0,f=d.length;f>e;++e)if(OpenLayers.Util.isEquivalentUrl(d[e].href,this.theme)){c=!1;break}c&&(c=document.createElement("link"),c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",this.theme),document.getElementsByTagName("head")[0].appendChild(c))}for(null==this.controls&&(this.controls=[],null!=OpenLayers.Control&&(OpenLayers.Control.Navigation?this.controls.push(new OpenLayers.Control.Navigation):OpenLayers.Control.TouchNavigation&&this.controls.push(new OpenLayers.Control.TouchNavigation),OpenLayers.Control.Zoom?this.controls.push(new OpenLayers.Control.Zoom):OpenLayers.Control.PanZoom&&this.controls.push(new OpenLayers.Control.PanZoom),OpenLayers.Control.ArgParser&&this.controls.push(new OpenLayers.Control.ArgParser),OpenLayers.Control.Attribution&&this.controls.push(new OpenLayers.Control.Attribution))),e=0,f=this.controls.length;f>e;e++)this.addControlToMap(this.controls[e]);this.popups=[],this.unloadDestroy=OpenLayers.Function.bind(this.destroy,this),OpenLayers.Event.observe(window,"unload",this.unloadDestroy),b&&b.layers&&(delete this.center,delete this.zoom,this.addLayers(b.layers),b.center&&!this.getCenter()&&this.setCenter(b.center,b.zoom)),this.panMethod&&(this.panTween=new OpenLayers.Tween(this.panMethod)),this.zoomMethod&&this.applyTransform.transform&&(this.zoomTween=new OpenLayers.Tween(this.zoomMethod))},getViewport:function(){return this.viewPortDiv},render:function(a){this.div=OpenLayers.Util.getElement(a),OpenLayers.Element.addClass(this.div,"olMap"),this.viewPortDiv.parentNode.removeChild(this.viewPortDiv),this.div.appendChild(this.viewPortDiv),this.updateSize()},unloadDestroy:null,updateSizeDestroy:null,destroy:function(){if(!this.unloadDestroy)return!1;if(this.panTween&&(this.panTween.stop(),this.panTween=null),this.zoomTween&&(this.zoomTween.stop(),this.zoomTween=null),OpenLayers.Event.stopObserving(window,"unload",this.unloadDestroy),this.unloadDestroy=null,this.updateSizeDestroy&&OpenLayers.Event.stopObserving(window,"resize",this.updateSizeDestroy),this.paddingForPopups=null,null!=this.controls){for(var a=this.controls.length-1;a>=0;--a)this.controls[a].destroy();this.controls=null}if(null!=this.layers){for(a=this.layers.length-1;a>=0;--a)this.layers[a].destroy(!1);this.layers=null}this.viewPortDiv&&this.viewPortDiv.parentNode&&this.viewPortDiv.parentNode.removeChild(this.viewPortDiv),this.viewPortDiv=null,this.tileManager&&(this.tileManager.removeMap(this),this.tileManager=null),this.eventListeners&&(this.events.un(this.eventListeners),this.eventListeners=null),this.events.destroy(),this.options=this.events=null},setOptions:function(a){var b=this.minPx&&a.restrictedExtent!=this.restrictedExtent;OpenLayers.Util.extend(this,a),b&&this.moveTo(this.getCachedCenter(),this.zoom,{forceZoomChange:!0})},getTileSize:function(){return this.tileSize},getBy:function(a,b,c){var d="function"==typeof c.test;return OpenLayers.Array.filter(this[a],function(a){return a[b]==c||d&&c.test(a[b])})},getLayersBy:function(a,b){return this.getBy("layers",a,b)},getLayersByName:function(a){return this.getLayersBy("name",a)},getLayersByClass:function(a){return this.getLayersBy("CLASS_NAME",a)},getControlsBy:function(a,b){return this.getBy("controls",a,b)},getControlsByClass:function(a){return this.getControlsBy("CLASS_NAME",a)},getLayer:function(a){for(var b=null,c=0,d=this.layers.length;d>c;c++){var e=this.layers[c];if(e.id==a){b=e;break}}return b},setLayerZIndex:function(a,b){a.setZIndex(this.Z_INDEX_BASE[a.isBaseLayer?"BaseLayer":"Overlay"]+5*b)},resetLayersZIndex:function(){for(var a=0,b=this.layers.length;b>a;a++)this.setLayerZIndex(this.layers[a],a)},addLayer:function(a){for(var b=0,c=this.layers.length;c>b;b++)if(this.layers[b]==a)return!1;return!1===this.events.triggerEvent("preaddlayer",{layer:a})?!1:(this.allOverlays&&(a.isBaseLayer=!1),a.div.className="olLayerDiv",a.div.style.overflow="",this.setLayerZIndex(a,this.layers.length),a.isFixed?this.viewPortDiv.appendChild(a.div):this.layerContainerDiv.appendChild(a.div),this.layers.push(a),a.setMap(this),a.isBaseLayer||this.allOverlays&&!this.baseLayer?null==this.baseLayer?this.setBaseLayer(a):a.setVisibility(!1):a.redraw(),this.events.triggerEvent("addlayer",{layer:a}),a.events.triggerEvent("added",{map:this,layer:a}),a.afterAdd(),!0)},addLayers:function(a){for(var b=0,c=a.length;c>b;b++)this.addLayer(a[b])
},removeLayer:function(a,b){if(!1!==this.events.triggerEvent("preremovelayer",{layer:a})){if(null==b&&(b=!0),a.isFixed?this.viewPortDiv.removeChild(a.div):this.layerContainerDiv.removeChild(a.div),OpenLayers.Util.removeItem(this.layers,a),a.removeMap(this),a.map=null,this.baseLayer==a&&(this.baseLayer=null,b))for(var c=0,d=this.layers.length;d>c;c++){var e=this.layers[c];if(e.isBaseLayer||this.allOverlays){this.setBaseLayer(e);break}}this.resetLayersZIndex(),this.events.triggerEvent("removelayer",{layer:a}),a.events.triggerEvent("removed",{map:this,layer:a})}},getNumLayers:function(){return this.layers.length},getLayerIndex:function(a){return OpenLayers.Util.indexOf(this.layers,a)},setLayerIndex:function(a,b){var c=this.getLayerIndex(a);if(0>b?b=0:b>this.layers.length&&(b=this.layers.length),c!=b){this.layers.splice(c,1),this.layers.splice(b,0,a);for(var c=0,d=this.layers.length;d>c;c++)this.setLayerZIndex(this.layers[c],c);this.events.triggerEvent("changelayer",{layer:a,property:"order"}),this.allOverlays&&(0===b?this.setBaseLayer(a):this.baseLayer!==this.layers[0]&&this.setBaseLayer(this.layers[0]))}},raiseLayer:function(a,b){var c=this.getLayerIndex(a)+b;this.setLayerIndex(a,c)},setBaseLayer:function(a){if(a!=this.baseLayer&&-1!=OpenLayers.Util.indexOf(this.layers,a)){var b=this.getCachedCenter(),c=OpenLayers.Util.getResolutionFromScale(this.getScale(),a.units);null==this.baseLayer||this.allOverlays||this.baseLayer.setVisibility(!1),this.baseLayer=a,(!this.allOverlays||this.baseLayer.visibility)&&(this.baseLayer.setVisibility(!0),!1===this.baseLayer.inRange&&this.baseLayer.redraw()),null!=b&&(a=this.getZoomForResolution(c||this.resolution,!0),this.setCenter(b,a,!1,!0)),this.events.triggerEvent("changebaselayer",{layer:this.baseLayer})}},addControl:function(a,b){this.controls.push(a),this.addControlToMap(a,b)},addControls:function(a,b){for(var c=1===arguments.length?[]:b,d=0,e=a.length;e>d;d++)this.addControl(a[d],c[d]?c[d]:null)},addControlToMap:function(a,b){a.outsideViewport=null!=a.div,this.displayProjection&&!a.displayProjection&&(a.displayProjection=this.displayProjection),a.setMap(this);var c=a.draw(b);c&&!a.outsideViewport&&(c.style.zIndex=this.Z_INDEX_BASE.Control+this.controls.length,this.viewPortDiv.appendChild(c)),a.autoActivate&&a.activate()},getControl:function(a){for(var b=null,c=0,d=this.controls.length;d>c;c++){var e=this.controls[c];if(e.id==a){b=e;break}}return b},removeControl:function(a){a&&a==this.getControl(a.id)&&(a.div&&a.div.parentNode==this.viewPortDiv&&this.viewPortDiv.removeChild(a.div),OpenLayers.Util.removeItem(this.controls,a))},addPopup:function(a,b){if(b)for(var c=this.popups.length-1;c>=0;--c)this.removePopup(this.popups[c]);a.map=this,this.popups.push(a),(c=a.draw())&&(c.style.zIndex=this.Z_INDEX_BASE.Popup+this.popups.length,this.layerContainerDiv.appendChild(c))},removePopup:function(a){if(OpenLayers.Util.removeItem(this.popups,a),a.div)try{this.layerContainerDiv.removeChild(a.div)}catch(b){}a.map=null},getSize:function(){var a=null;return null!=this.size&&(a=this.size.clone()),a},updateSize:function(){var a=this.getCurrentSize();if(a&&!isNaN(a.h)&&!isNaN(a.w)){this.events.clearMouseCache();var b=this.getSize();if(null==b&&(this.size=b=a),!a.equals(b)){for(this.size=a,a=0,b=this.layers.length;b>a;a++)this.layers[a].onMapResize();a=this.getCachedCenter(),null!=this.baseLayer&&null!=a&&(b=this.getZoom(),this.zoom=null,this.setCenter(a,b))}}this.events.triggerEvent("updatesize")},getCurrentSize:function(){var a=new OpenLayers.Size(this.div.clientWidth,this.div.clientHeight);return(0==a.w&&0==a.h||isNaN(a.w)&&isNaN(a.h))&&(a.w=this.div.offsetWidth,a.h=this.div.offsetHeight),(0==a.w&&0==a.h||isNaN(a.w)&&isNaN(a.h))&&(a.w=parseInt(this.div.style.width),a.h=parseInt(this.div.style.height)),a},calculateBounds:function(a,b){var c=null;if(null==a&&(a=this.getCachedCenter()),null==b&&(b=this.getResolution()),null!=a&&null!=b)var c=this.size.w*b/2,d=this.size.h*b/2,c=new OpenLayers.Bounds(a.lon-c,a.lat-d,a.lon+c,a.lat+d);return c},getCenter:function(){var a=null,b=this.getCachedCenter();return b&&(a=b.clone()),a},getCachedCenter:function(){return!this.center&&this.size&&(this.center=this.getLonLatFromViewPortPx({x:this.size.w/2,y:this.size.h/2})),this.center},getZoom:function(){return this.zoom},pan:function(a,b,c){if(c=OpenLayers.Util.applyDefaults(c,{animate:!0,dragging:!1}),c.dragging)0==a&&0==b||this.moveByPx(a,b);else{var d=this.getViewPortPxFromLonLat(this.getCachedCenter());a=d.add(a,b),(this.dragging||!a.equals(d))&&(d=this.getLonLatFromViewPortPx(a),c.animate?this.panTo(d):(this.moveTo(d),this.dragging&&(this.dragging=!1,this.events.triggerEvent("moveend"))))}},panTo:function(a){if(this.panTween&&this.getExtent().scale(this.panRatio).containsLonLat(a)){var b=this.getCachedCenter();if(!a.equals(b)){var b=this.getPixelFromLonLat(b),c=this.getPixelFromLonLat(a),d=0,e=0;this.panTween.start({x:0,y:0},{x:c.x-b.x,y:c.y-b.y},this.panDuration,{callbacks:{eachStep:OpenLayers.Function.bind(function(a){this.moveByPx(a.x-d,a.y-e),d=Math.round(a.x),e=Math.round(a.y)},this),done:OpenLayers.Function.bind(function(){this.moveTo(a),this.dragging=!1,this.events.triggerEvent("moveend")},this)}})}}else this.setCenter(a)},setCenter:function(a,b,c,d){this.panTween&&this.panTween.stop(),this.zoomTween&&this.zoomTween.stop(),this.moveTo(a,b,{dragging:c,forceZoomChange:d})},moveByPx:function(a,b){var c=this.size.w/2,d=this.size.h/2,e=c+a,f=d+b,g=this.baseLayer.wrapDateLine,h=0,i=0;if(this.restrictedExtent&&(h=c,i=d,g=!1),a=g||e<=this.maxPx.x-h&&e>=this.minPx.x+h?Math.round(a):0,b=f<=this.maxPx.y-i&&f>=this.minPx.y+i?Math.round(b):0,a||b){for(this.dragging||(this.dragging=!0,this.events.triggerEvent("movestart")),this.center=null,a&&(this.layerContainerOriginPx.x-=a,this.minPx.x-=a,this.maxPx.x-=a),b&&(this.layerContainerOriginPx.y-=b,this.minPx.y-=b,this.maxPx.y-=b),this.applyTransform(),d=0,e=this.layers.length;e>d;++d)c=this.layers[d],c.visibility&&(c===this.baseLayer||c.inRange)&&(c.moveByPx(a,b),c.events.triggerEvent("move"));this.events.triggerEvent("move")}},adjustZoom:function(a){if(this.baseLayer&&this.baseLayer.wrapDateLine){var b=this.baseLayer.resolutions,c=this.getMaxExtent().getWidth()/this.size.w;if(this.getResolutionForZoom(a)>c)if(this.fractionalZoom)a=this.getZoomForResolution(c);else for(var d=0|a,e=b.length;e>d;++d)if(b[d]<=c){a=d;break}}return a},getMinZoom:function(){return this.adjustZoom(0)},moveTo:function(a,b,c){null==a||a instanceof OpenLayers.LonLat||(a=new OpenLayers.LonLat(a)),c||(c={}),null!=b&&(b=parseFloat(b),this.fractionalZoom||(b=Math.round(b)));var d=b;b=this.adjustZoom(b),b!==d&&(a=this.getCenter());var d=c.dragging||this.dragging,e=c.forceZoomChange;if(this.getCachedCenter()||this.isValidLonLat(a)||(a=this.maxExtent.getCenterLonLat(),this.center=a.clone()),null!=this.restrictedExtent){null==a&&(a=this.center),null==b&&(b=this.getZoom());var f=this.getResolutionForZoom(b),f=this.calculateBounds(a,f);if(!this.restrictedExtent.containsBounds(f)){var g=this.restrictedExtent.getCenterLonLat();f.getWidth()>this.restrictedExtent.getWidth()?a=new OpenLayers.LonLat(g.lon,a.lat):f.left<this.restrictedExtent.left?a=a.add(this.restrictedExtent.left-f.left,0):f.right>this.restrictedExtent.right&&(a=a.add(this.restrictedExtent.right-f.right,0)),f.getHeight()>this.restrictedExtent.getHeight()?a=new OpenLayers.LonLat(a.lon,g.lat):f.bottom<this.restrictedExtent.bottom?a=a.add(0,this.restrictedExtent.bottom-f.bottom):f.top>this.restrictedExtent.top&&(a=a.add(0,this.restrictedExtent.top-f.top))}}if(e=e||this.isValidZoomLevel(b)&&b!=this.getZoom(),f=this.isValidLonLat(a)&&!a.equals(this.center),e||f||d){if(d||this.events.triggerEvent("movestart",{zoomChanged:e}),f&&(!e&&this.center&&this.centerLayerContainer(a),this.center=a.clone()),a=e?this.getResolutionForZoom(b):this.getResolution(),e||null==this.layerContainerOrigin){this.layerContainerOrigin=this.getCachedCenter(),this.layerContainerOriginPx.x=0,this.layerContainerOriginPx.y=0,this.applyTransform();var f=this.getMaxExtent({restricted:!0}),h=f.getCenterLonLat(),g=this.center.lon-h.lon,h=h.lat-this.center.lat,i=Math.round(f.getWidth()/a),j=Math.round(f.getHeight()/a);this.minPx={x:(this.size.w-i)/2-g/a,y:(this.size.h-j)/2-h/a},this.maxPx={x:this.minPx.x+Math.round(f.getWidth()/a),y:this.minPx.y+Math.round(f.getHeight()/a)}}for(e&&(this.zoom=b,this.resolution=a),a=this.getExtent(),this.baseLayer.visibility&&(this.baseLayer.moveTo(a,e,c.dragging),c.dragging||this.baseLayer.events.triggerEvent("moveend",{zoomChanged:e})),a=this.baseLayer.getExtent(),b=this.layers.length-1;b>=0;--b)f=this.layers[b],f===this.baseLayer||f.isBaseLayer||(g=f.calculateInRange(),f.inRange!=g&&((f.inRange=g)||f.display(!1),this.events.triggerEvent("changelayer",{layer:f,property:"visibility"})),g&&f.visibility&&(f.moveTo(a,e,c.dragging),c.dragging||f.events.triggerEvent("moveend",{zoomChanged:e})));if(this.events.triggerEvent("move"),d||this.events.triggerEvent("moveend"),e){for(b=0,c=this.popups.length;c>b;b++)this.popups[b].updatePosition();this.events.triggerEvent("zoomend")}}},centerLayerContainer:function(a){var b=this.getViewPortPxFromLonLat(this.layerContainerOrigin),c=this.getViewPortPxFromLonLat(a);if(null!=b&&null!=c){var d=this.layerContainerOriginPx.x;a=this.layerContainerOriginPx.y;var e=Math.round(b.x-c.x),b=Math.round(b.y-c.y);this.applyTransform(this.layerContainerOriginPx.x=e,this.layerContainerOriginPx.y=b),d-=e,a-=b,this.minPx.x-=d,this.maxPx.x-=d,this.minPx.y-=a,this.maxPx.y-=a}},isValidZoomLevel:function(a){return null!=a&&a>=0&&a<this.getNumZoomLevels()},isValidLonLat:function(a){var b=!1;return null!=a&&(b=this.getMaxExtent(),b=b.containsLonLat(a,{worldBounds:this.baseLayer.wrapDateLine&&b})),b},getProjection:function(){var a=this.getProjectionObject();return a?a.getCode():null},getProjectionObject:function(){var a=null;return null!=this.baseLayer&&(a=this.baseLayer.projection),a},getMaxResolution:function(){var a=null;return null!=this.baseLayer&&(a=this.baseLayer.maxResolution),a},getMaxExtent:function(a){var b=null;return a&&a.restricted&&this.restrictedExtent?b=this.restrictedExtent:null!=this.baseLayer&&(b=this.baseLayer.maxExtent),b},getNumZoomLevels:function(){var a=null;return null!=this.baseLayer&&(a=this.baseLayer.numZoomLevels),a},getExtent:function(){var a=null;return null!=this.baseLayer&&(a=this.baseLayer.getExtent()),a},getResolution:function(){var a=null;return null!=this.baseLayer?a=this.baseLayer.getResolution():!0===this.allOverlays&&0<this.layers.length&&(a=this.layers[0].getResolution()),a},getUnits:function(){var a=null;return null!=this.baseLayer&&(a=this.baseLayer.units),a},getScale:function(){var a=null;return null!=this.baseLayer&&(a=this.getResolution(),a=OpenLayers.Util.getScaleFromResolution(a,this.baseLayer.units)),a},getZoomForExtent:function(a,b){var c=null;return null!=this.baseLayer&&(c=this.baseLayer.getZoomForExtent(a,b)),c},getResolutionForZoom:function(a){var b=null;return this.baseLayer&&(b=this.baseLayer.getResolutionForZoom(a)),b},getZoomForResolution:function(a,b){var c=null;return null!=this.baseLayer&&(c=this.baseLayer.getZoomForResolution(a,b)),c},zoomTo:function(a,b){var c=this;if(c.isValidZoomLevel(a))if(c.baseLayer.wrapDateLine&&(a=c.adjustZoom(a)),c.zoomTween){var d=c.getResolution(),e=c.getResolutionForZoom(a),f={scale:1},d={scale:d/e};c.zoomTween.playing&&c.zoomTween.duration<3*c.zoomDuration?c.zoomTween.finish={scale:c.zoomTween.finish.scale*d.scale}:(b||(e=c.getSize(),b={x:e.w/2,y:e.h/2}),c.zoomTween.start(f,d,c.zoomDuration,{minFrameRate:50,callbacks:{eachStep:function(a){var d=c.layerContainerOriginPx;a=a.scale,c.applyTransform(d.x+((a-1)*(d.x-b.x)|0),d.y+((a-1)*(d.y-b.y)|0),a)},done:function(a){c.applyTransform(),a=c.getResolution()/a.scale;var d=c.getZoomForResolution(a,!0);c.moveTo(c.getZoomTargetCenter(b,a),d,!0)}}}))}else f=b?c.getZoomTargetCenter(b,c.getResolutionForZoom(a)):null,c.setCenter(f,a)},zoomIn:function(){this.zoomTo(this.getZoom()+1)},zoomOut:function(){this.zoomTo(this.getZoom()-1)},zoomToExtent:function(a,b){a instanceof OpenLayers.Bounds||(a=new OpenLayers.Bounds(a));var c=a.getCenterLonLat();if(this.baseLayer.wrapDateLine){for(c=this.getMaxExtent(),a=a.clone();a.right<a.left;)a.right+=c.getWidth();c=a.getCenterLonLat().wrapDateLine(c)}this.setCenter(c,this.getZoomForExtent(a,b))},zoomToMaxExtent:function(a){a=this.getMaxExtent({restricted:a?a.restricted:!0}),this.zoomToExtent(a)},zoomToScale:function(a,b){var c=OpenLayers.Util.getResolutionFromScale(a,this.baseLayer.units),d=this.size.w*c/2,c=this.size.h*c/2,e=this.getCachedCenter(),d=new OpenLayers.Bounds(e.lon-d,e.lat-c,e.lon+d,e.lat+c);this.zoomToExtent(d,b)},getLonLatFromViewPortPx:function(a){var b=null;return null!=this.baseLayer&&(b=this.baseLayer.getLonLatFromViewPortPx(a)),b},getViewPortPxFromLonLat:function(a){var b=null;return null!=this.baseLayer&&(b=this.baseLayer.getViewPortPxFromLonLat(a)),b},getZoomTargetCenter:function(a,b){var c=null,d=this.getSize(),e=d.w/2-a.x,d=a.y-d.h/2,f=this.getLonLatFromPixel(a);return f&&(c=new OpenLayers.LonLat(f.lon+e*b,f.lat+d*b)),c},getLonLatFromPixel:function(a){return this.getLonLatFromViewPortPx(a)},getPixelFromLonLat:function(a){return a=this.getViewPortPxFromLonLat(a),a.x=Math.round(a.x),a.y=Math.round(a.y),a},getGeodesicPixelSize:function(a){var b=a?this.getLonLatFromPixel(a):this.getCachedCenter()||new OpenLayers.LonLat(0,0),c=this.getResolution();a=b.add(-c/2,0);var d=b.add(c/2,0),e=b.add(0,-c/2),b=b.add(0,c/2),c=new OpenLayers.Projection("EPSG:4326"),f=this.getProjectionObject()||c;return f.equals(c)||(a.transform(f,c),d.transform(f,c),e.transform(f,c),b.transform(f,c)),new OpenLayers.Size(OpenLayers.Util.distVincenty(a,d),OpenLayers.Util.distVincenty(e,b))},getViewPortPxFromLayerPx:function(a){var b=null;return null!=a&&(b=a.add(this.layerContainerOriginPx.x,this.layerContainerOriginPx.y)),b},getLayerPxFromViewPortPx:function(a){var b=null;return null!=a&&(b=a.add(-this.layerContainerOriginPx.x,-this.layerContainerOriginPx.y),isNaN(b.x)||isNaN(b.y))&&(b=null),b},getLonLatFromLayerPx:function(a){return a=this.getViewPortPxFromLayerPx(a),this.getLonLatFromViewPortPx(a)},getLayerPxFromLonLat:function(a){return a=this.getPixelFromLonLat(a),this.getLayerPxFromViewPortPx(a)},applyTransform:function(a,b,c){c=c||1;var d=this.layerContainerOriginPx,e=1!==c;a=a||d.x,b=b||d.y;var f=this.layerContainerDiv.style,g=this.applyTransform.transform,h=this.applyTransform.template;if(void 0===g&&(g=OpenLayers.Util.vendorPrefix.style("transform"),this.applyTransform.transform=g)){var i=OpenLayers.Element.getStyle(this.viewPortDiv,OpenLayers.Util.vendorPrefix.css("transform"));i&&"none"===i||(h=["translate3d(",",0) ","scale3d(",",1)"],f[g]=[h[0],"0,0",h[1]].join("")),h&&~f[g].indexOf(h[0])||(h=["translate(",") ","scale(",")"]),this.applyTransform.template=h}null===g||"translate3d("!==h[0]&&!0!==e?(f.left=a+"px",f.top=b+"px",null!==g&&(f[g]="")):(!0===e&&"translate("===h[0]&&(a-=d.x,b-=d.y,f.left=d.x+"px",f.top=d.y+"px"),f[g]=[h[0],a,"px,",b,"px",h[1],h[2],c,",",c,h[3]].join(""))},CLASS_NAME:"OpenLayers.Map"}),OpenLayers.Map.TILE_WIDTH=256,OpenLayers.Map.TILE_HEIGHT=256,OpenLayers.Handler=OpenLayers.Class({id:null,control:null,map:null,keyMask:null,active:!1,evt:null,touch:!1,initialize:function(a,b,c){OpenLayers.Util.extend(this,c),this.control=a,this.callbacks=b,(a=this.map||a.map)&&this.setMap(a),this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},setMap:function(a){this.map=a},checkModifiers:function(a){return null==this.keyMask?!0:((a.shiftKey?OpenLayers.Handler.MOD_SHIFT:0)|(a.ctrlKey?OpenLayers.Handler.MOD_CTRL:0)|(a.altKey?OpenLayers.Handler.MOD_ALT:0)|(a.metaKey?OpenLayers.Handler.MOD_META:0))==this.keyMask},activate:function(){if(this.active)return!1;for(var a=OpenLayers.Events.prototype.BROWSER_EVENTS,b=0,c=a.length;c>b;b++)this[a[b]]&&this.register(a[b],this[a[b]]);return this.active=!0},deactivate:function(){if(!this.active)return!1;for(var a=OpenLayers.Events.prototype.BROWSER_EVENTS,b=0,c=a.length;c>b;b++)this[a[b]]&&this.unregister(a[b],this[a[b]]);return this.active=this.touch=!1,!0},startTouch:function(){if(!this.touch){this.touch=!0;for(var a="mousedown mouseup mousemove click dblclick mouseout".split(" "),b=0,c=a.length;c>b;b++)this[a[b]]&&this.unregister(a[b],this[a[b]])}},callback:function(a,b){a&&this.callbacks[a]&&this.callbacks[a].apply(this.control,b)},register:function(a,b){this.map.events.registerPriority(a,this,b),this.map.events.registerPriority(a,this,this.setEvent)},unregister:function(a,b){this.map.events.unregister(a,this,b),this.map.events.unregister(a,this,this.setEvent)},setEvent:function(a){return this.evt=a,!0},destroy:function(){this.deactivate(),this.control=this.map=null},CLASS_NAME:"OpenLayers.Handler"}),OpenLayers.Handler.MOD_NONE=0,OpenLayers.Handler.MOD_SHIFT=1,OpenLayers.Handler.MOD_CTRL=2,OpenLayers.Handler.MOD_ALT=4,OpenLayers.Handler.MOD_META=8,OpenLayers.Handler.Click=OpenLayers.Class(OpenLayers.Handler,{delay:300,single:!0,"double":!1,pixelTolerance:0,dblclickTolerance:13,stopSingle:!1,stopDouble:!1,timerId:null,down:null,last:null,first:null,rightclickTimerId:null,touchstart:function(a){return this.startTouch(),this.down=this.getEventInfo(a),this.last=this.getEventInfo(a),!0},touchmove:function(a){return this.last=this.getEventInfo(a),!0},touchend:function(a){return this.down&&(a.xy=this.last.xy,a.lastTouches=this.last.touches,this.handleSingle(a),this.down=null),!0},mousedown:function(a){return this.down=this.getEventInfo(a),this.last=this.getEventInfo(a),!0},mouseup:function(a){var b=!0;return this.checkModifiers(a)&&this.control.handleRightClicks&&OpenLayers.Event.isRightClick(a)&&(b=this.rightclick(a)),b},rightclick:function(a){if(this.passesTolerance(a)){if(null!=this.rightclickTimerId)return this.clearTimer(),this.callback("dblrightclick",[a]),!this.stopDouble;a=this["double"]?OpenLayers.Util.extend({},a):this.callback("rightclick",[a]),a=OpenLayers.Function.bind(this.delayedRightCall,this,a),this.rightclickTimerId=window.setTimeout(a,this.delay)}return!this.stopSingle},delayedRightCall:function(a){this.rightclickTimerId=null,a&&this.callback("rightclick",[a])},click:function(a){return this.last||(this.last=this.getEventInfo(a)),this.handleSingle(a),!this.stopSingle},dblclick:function(a){return this.handleDouble(a),!this.stopDouble},handleDouble:function(a){this.passesDblclickTolerance(a)&&(this["double"]&&this.callback("dblclick",[a]),this.clearTimer())},handleSingle:function(a){this.passesTolerance(a)&&(null!=this.timerId?(this.last.touches&&1===this.last.touches.length&&(this["double"]&&OpenLayers.Event.preventDefault(a),this.handleDouble(a)),this.last.touches&&2===this.last.touches.length||this.clearTimer()):(this.first=this.getEventInfo(a),a=this.single?OpenLayers.Util.extend({},a):null,this.queuePotentialClick(a)))},queuePotentialClick:function(a){this.timerId=window.setTimeout(OpenLayers.Function.bind(this.delayedCall,this,a),this.delay)},passesTolerance:function(a){var b=!0;if(null!=this.pixelTolerance&&this.down&&this.down.xy&&(b=this.pixelTolerance>=this.down.xy.distanceTo(a.xy))&&this.touch&&this.down.touches.length===this.last.touches.length){a=0;for(var c=this.down.touches.length;c>a;++a)if(this.getTouchDistance(this.down.touches[a],this.last.touches[a])>this.pixelTolerance){b=!1;break}}return b},getTouchDistance:function(a,b){return Math.sqrt(Math.pow(a.clientX-b.clientX,2)+Math.pow(a.clientY-b.clientY,2))},passesDblclickTolerance:function(a){return a=!0,this.down&&this.first&&(a=this.down.xy.distanceTo(this.first.xy)<=this.dblclickTolerance),a},clearTimer:function(){null!=this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null),null!=this.rightclickTimerId&&(window.clearTimeout(this.rightclickTimerId),this.rightclickTimerId=null)},delayedCall:function(a){this.timerId=null,a&&this.callback("click",[a])},getEventInfo:function(a){var b;if(a.touches){var c=a.touches.length;b=Array(c);for(var d,e=0;c>e;e++)d=a.touches[e],b[e]={clientX:d.olClientX,clientY:d.olClientY}}return{xy:a.xy,touches:b}},deactivate:function(){var a=!1;return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)&&(this.clearTimer(),this.last=this.first=this.down=null,a=!0),a},CLASS_NAME:"OpenLayers.Handler.Click"}),OpenLayers.Handler.Drag=OpenLayers.Class(OpenLayers.Handler,{started:!1,stopDown:!0,dragging:!1,last:null,start:null,lastMoveEvt:null,oldOnselectstart:null,interval:0,timeoutId:null,documentDrag:!1,documentEvents:null,initialize:function(){if(OpenLayers.Handler.prototype.initialize.apply(this,arguments),!0===this.documentDrag){var a=this;this._docMove=function(b){a.mousemove({xy:{x:b.clientX,y:b.clientY},element:document})},this._docUp=function(b){a.mouseup({xy:{x:b.clientX,y:b.clientY}})}}},dragstart:function(a){var b=!0;return this.dragging=!1,this.checkModifiers(a)&&(OpenLayers.Event.isLeftClick(a)||OpenLayers.Event.isSingleTouch(a))?(this.started=!0,this.last=this.start=a.xy,OpenLayers.Element.addClass(this.map.viewPortDiv,"olDragDown"),this.down(a),this.callback("down",[a.xy]),OpenLayers.Event.preventDefault(a),this.oldOnselectstart||(this.oldOnselectstart=document.onselectstart?document.onselectstart:OpenLayers.Function.True),document.onselectstart=OpenLayers.Function.False,b=!this.stopDown):(this.started=!1,this.last=this.start=null),b},dragmove:function(a){return this.lastMoveEvt=a,!this.started||this.timeoutId||a.xy.x==this.last.x&&a.xy.y==this.last.y||(!0===this.documentDrag&&this.documentEvents&&(a.element===document?(this.adjustXY(a),this.setEvent(a)):this.removeDocumentEvents()),0<this.interval&&(this.timeoutId=setTimeout(OpenLayers.Function.bind(this.removeTimeout,this),this.interval)),this.dragging=!0,this.move(a),this.callback("move",[a.xy]),this.oldOnselectstart||(this.oldOnselectstart=document.onselectstart,document.onselectstart=OpenLayers.Function.False),this.last=a.xy),!0},dragend:function(a){if(this.started){!0===this.documentDrag&&this.documentEvents&&(this.adjustXY(a),this.removeDocumentEvents());var b=this.start!=this.last;this.dragging=this.started=!1,OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown"),this.up(a),this.callback("up",[a.xy]),b&&this.callback("done",[a.xy]),document.onselectstart=this.oldOnselectstart}return!0},down:function(){},move:function(){},up:function(){},out:function(){},mousedown:function(a){return this.dragstart(a)},touchstart:function(a){return this.startTouch(),this.dragstart(a)},mousemove:function(a){return this.dragmove(a)},touchmove:function(a){return this.dragmove(a)},removeTimeout:function(){this.timeoutId=null,this.dragging&&this.mousemove(this.lastMoveEvt)},mouseup:function(a){return this.dragend(a)},touchend:function(a){return a.xy=this.last,this.dragend(a)},mouseout:function(a){if(this.started&&OpenLayers.Util.mouseLeft(a,this.map.viewPortDiv))if(!0===this.documentDrag)this.addDocumentEvents();else{var b=this.start!=this.last;this.dragging=this.started=!1,OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown"),this.out(a),this.callback("out",[]),b&&this.callback("done",[a.xy]),document.onselectstart&&(document.onselectstart=this.oldOnselectstart)}return!0},click:function(){return this.start==this.last},activate:function(){var a=!1;return OpenLayers.Handler.prototype.activate.apply(this,arguments)&&(this.dragging=!1,a=!0),a},deactivate:function(){var a=!1;return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)&&(this.dragging=this.started=!1,this.last=this.start=null,a=!0,OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown")),a},adjustXY:function(a){var b=OpenLayers.Util.pagePosition(this.map.viewPortDiv);a.xy.x-=b[0],a.xy.y-=b[1]},addDocumentEvents:function(){OpenLayers.Element.addClass(document.body,"olDragDown"),this.documentEvents=!0,OpenLayers.Event.observe(document,"mousemove",this._docMove),OpenLayers.Event.observe(document,"mouseup",this._docUp)},removeDocumentEvents:function(){OpenLayers.Element.removeClass(document.body,"olDragDown"),this.documentEvents=!1,OpenLayers.Event.stopObserving(document,"mousemove",this._docMove),OpenLayers.Event.stopObserving(document,"mouseup",this._docUp)},CLASS_NAME:"OpenLayers.Handler.Drag"}),OpenLayers.Control.OverviewMap=OpenLayers.Class(OpenLayers.Control,{element:null,ovmap:null,size:{w:180,h:90},layers:null,minRectSize:15,minRectDisplayClass:"RectReplacement",minRatio:8,maxRatio:32,mapOptions:null,autoPan:!1,handlers:null,resolutionFactor:1,maximized:!1,maximizeTitle:"",minimizeTitle:"",initialize:function(a){this.layers=[],this.handlers={},OpenLayers.Control.prototype.initialize.apply(this,[a])},destroy:function(){this.mapDiv&&(this.handlers.click&&this.handlers.click.destroy(),this.handlers.drag&&this.handlers.drag.destroy(),this.ovmap&&this.ovmap.viewPortDiv.removeChild(this.extentRectangle),this.extentRectangle=null,this.rectEvents&&(this.rectEvents.destroy(),this.rectEvents=null),this.ovmap&&(this.ovmap.destroy(),this.ovmap=null),this.element.removeChild(this.mapDiv),this.mapDiv=null,this.div.removeChild(this.element),this.element=null,this.maximizeDiv&&(this.div.removeChild(this.maximizeDiv),this.maximizeDiv=null),this.minimizeDiv&&(this.div.removeChild(this.minimizeDiv),this.minimizeDiv=null),this.map.events.un({buttonclick:this.onButtonClick,moveend:this.update,changebaselayer:this.baseLayerDraw,scope:this}),OpenLayers.Control.prototype.destroy.apply(this,arguments))},draw:function(){if(OpenLayers.Control.prototype.draw.apply(this,arguments),0===this.layers.length){if(!this.map.baseLayer)return this.map.events.register("changebaselayer",this,this.baseLayerDraw),this.div;this.layers=[this.map.baseLayer.clone()]}if(this.element=document.createElement("div"),this.element.className=this.displayClass+"Element",this.element.style.display="none",this.mapDiv=document.createElement("div"),this.mapDiv.style.width=this.size.w+"px",this.mapDiv.style.height=this.size.h+"px",this.mapDiv.style.position="relative",this.mapDiv.style.overflow="hidden",this.mapDiv.id=OpenLayers.Util.createUniqueID("overviewMap"),this.extentRectangle=document.createElement("div"),this.extentRectangle.style.position="absolute",this.extentRectangle.style.zIndex=1e3,this.extentRectangle.className=this.displayClass+"ExtentRectangle",this.element.appendChild(this.mapDiv),this.div.appendChild(this.element),this.outsideViewport)this.element.style.display="";else{this.div.className+=" "+this.displayClass+"Container";var a=OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");this.maximizeDiv=OpenLayers.Util.createAlphaImageDiv(this.displayClass+"MaximizeButton",null,null,a,"absolute"),this.maximizeDiv.style.display="none",this.maximizeDiv.className=this.displayClass+"MaximizeButton olButton",this.maximizeTitle&&(this.maximizeDiv.title=this.maximizeTitle),this.div.appendChild(this.maximizeDiv),a=OpenLayers.Util.getImageLocation("layer-switcher-minimize.png"),this.minimizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_minimizeDiv",null,null,a,"absolute"),this.minimizeDiv.style.display="none",this.minimizeDiv.className=this.displayClass+"MinimizeButton olButton",this.minimizeTitle&&(this.minimizeDiv.title=this.minimizeTitle),this.div.appendChild(this.minimizeDiv),this.minimizeControl()}return this.map.getExtent()&&this.update(),this.map.events.on({buttonclick:this.onButtonClick,moveend:this.update,scope:this}),this.maximized&&this.maximizeControl(),this.div},baseLayerDraw:function(){this.draw(),this.map.events.unregister("changebaselayer",this,this.baseLayerDraw)},rectDrag:function(a){var b=this.handlers.drag.last.x-a.x,c=this.handlers.drag.last.y-a.y;if(0!=b||0!=c){var d=this.rectPxBounds.top,e=this.rectPxBounds.left;a=Math.abs(this.rectPxBounds.getHeight());var f=this.rectPxBounds.getWidth(),c=Math.max(0,d-c),c=Math.min(c,this.ovmap.size.h-this.hComp-a),b=Math.max(0,e-b),b=Math.min(b,this.ovmap.size.w-this.wComp-f);this.setRectPxBounds(new OpenLayers.Bounds(b,c+a,b+f,c))}},mapDivClick:function(a){var b=this.rectPxBounds.getCenterPixel(),c=a.xy.x-b.x,d=a.xy.y-b.y,e=this.rectPxBounds.top,f=this.rectPxBounds.left;a=Math.abs(this.rectPxBounds.getHeight()),b=this.rectPxBounds.getWidth(),d=Math.max(0,e+d),d=Math.min(d,this.ovmap.size.h-a),c=Math.max(0,f+c),c=Math.min(c,this.ovmap.size.w-b),this.setRectPxBounds(new OpenLayers.Bounds(c,d+a,c+b,d)),this.updateMapToRect()},onButtonClick:function(a){a.buttonElement===this.minimizeDiv?this.minimizeControl():a.buttonElement===this.maximizeDiv&&this.maximizeControl()},maximizeControl:function(a){this.element.style.display="",this.showToggle(!1),null!=a&&OpenLayers.Event.stop(a)},minimizeControl:function(a){this.element.style.display="none",this.showToggle(!0),null!=a&&OpenLayers.Event.stop(a)},showToggle:function(a){this.maximizeDiv&&(this.maximizeDiv.style.display=a?"":"none"),this.minimizeDiv&&(this.minimizeDiv.style.display=a?"none":"")},update:function(){null==this.ovmap&&this.createMap(),!this.autoPan&&this.isSuitableOverview()||this.updateOverview(),this.updateRectToMap()},isSuitableOverview:function(){var a=this.map.getExtent(),b=this.map.getMaxExtent(),a=new OpenLayers.Bounds(Math.max(a.left,b.left),Math.max(a.bottom,b.bottom),Math.min(a.right,b.right),Math.min(a.top,b.top));return this.ovmap.getProjection()!=this.map.getProjection()&&(a=a.transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())),b=this.ovmap.getResolution()/this.map.getResolution(),b>this.minRatio&&b<=this.maxRatio&&this.ovmap.getExtent().containsBounds(a)},updateOverview:function(){var a=this.map.getResolution(),b=this.ovmap.getResolution(),c=b/a;c>this.maxRatio?b=this.minRatio*a:c<=this.minRatio&&(b=this.maxRatio*a),this.ovmap.getProjection()!=this.map.getProjection()?(a=this.map.center.clone(),a.transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())):a=this.map.center,this.ovmap.setCenter(a,this.ovmap.getZoomForResolution(b*this.resolutionFactor)),this.updateRectToMap()},createMap:function(){var a=OpenLayers.Util.extend({controls:[],maxResolution:"auto",fallThrough:!1},this.mapOptions);if(this.ovmap=new OpenLayers.Map(this.mapDiv,a),this.ovmap.viewPortDiv.appendChild(this.extentRectangle),OpenLayers.Event.stopObserving(window,"unload",this.ovmap.unloadDestroy),this.ovmap.addLayers(this.layers),this.ovmap.zoomToMaxExtent(),this.wComp=(this.wComp=parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-left-width"))+parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-right-width")))?this.wComp:2,this.hComp=(this.hComp=parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-top-width"))+parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-bottom-width")))?this.hComp:2,this.handlers.drag=new OpenLayers.Handler.Drag(this,{move:this.rectDrag,done:this.updateMapToRect},{map:this.ovmap}),this.handlers.click=new OpenLayers.Handler.Click(this,{click:this.mapDivClick},{single:!0,"double":!1,stopSingle:!0,stopDouble:!0,pixelTolerance:1,map:this.ovmap}),this.handlers.click.activate(),this.rectEvents=new OpenLayers.Events(this,this.extentRectangle,null,!0),this.rectEvents.register("mouseover",this,function(){this.handlers.drag.active||this.map.dragging||this.handlers.drag.activate()}),this.rectEvents.register("mouseout",this,function(){this.handlers.drag.dragging||this.handlers.drag.deactivate()}),this.ovmap.getProjection()!=this.map.getProjection()){var a=this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units,b=this.ovmap.getProjectionObject().getUnits()||this.ovmap.units||this.ovmap.baseLayer.units;this.resolutionFactor=a&&b?OpenLayers.INCHES_PER_UNIT[a]/OpenLayers.INCHES_PER_UNIT[b]:1}},updateRectToMap:function(){var a;a=this.ovmap.getProjection()!=this.map.getProjection()?this.map.getExtent().transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject()):this.map.getExtent(),(a=this.getRectBoundsFromMapBounds(a))&&this.setRectPxBounds(a)},updateMapToRect:function(){var a=this.getMapBoundsFromRectBounds(this.rectPxBounds);
this.ovmap.getProjection()!=this.map.getProjection()&&(a=a.transform(this.ovmap.getProjectionObject(),this.map.getProjectionObject())),this.map.panTo(a.getCenterLonLat())},setRectPxBounds:function(a){var b=Math.max(a.top,0),c=Math.max(a.left,0),d=Math.min(a.top+Math.abs(a.getHeight()),this.ovmap.size.h-this.hComp);a=Math.min(a.left+a.getWidth(),this.ovmap.size.w-this.wComp);var e=Math.max(a-c,0),f=Math.max(d-b,0);e<this.minRectSize||f<this.minRectSize?(this.extentRectangle.className=this.displayClass+this.minRectDisplayClass,e=c+e/2-this.minRectSize/2,this.extentRectangle.style.top=Math.round(b+f/2-this.minRectSize/2)+"px",this.extentRectangle.style.left=Math.round(e)+"px",this.extentRectangle.style.height=this.minRectSize+"px",this.extentRectangle.style.width=this.minRectSize+"px"):(this.extentRectangle.className=this.displayClass+"ExtentRectangle",this.extentRectangle.style.top=Math.round(b)+"px",this.extentRectangle.style.left=Math.round(c)+"px",this.extentRectangle.style.height=Math.round(f)+"px",this.extentRectangle.style.width=Math.round(e)+"px"),this.rectPxBounds=new OpenLayers.Bounds(Math.round(c),Math.round(d),Math.round(a),Math.round(b))},getRectBoundsFromMapBounds:function(a){var b=this.getOverviewPxFromLonLat({lon:a.left,lat:a.bottom});a=this.getOverviewPxFromLonLat({lon:a.right,lat:a.top});var c=null;return b&&a&&(c=new OpenLayers.Bounds(b.x,b.y,a.x,a.y)),c},getMapBoundsFromRectBounds:function(a){var b=this.getLonLatFromOverviewPx({x:a.left,y:a.bottom});return a=this.getLonLatFromOverviewPx({x:a.right,y:a.top}),new OpenLayers.Bounds(b.lon,b.lat,a.lon,a.lat)},getLonLatFromOverviewPx:function(a){var b=this.ovmap.size,c=this.ovmap.getResolution(),d=this.ovmap.getExtent().getCenterLonLat();return{lon:d.lon+(a.x-b.w/2)*c,lat:d.lat-(a.y-b.h/2)*c}},getOverviewPxFromLonLat:function(a){var b=this.ovmap.getResolution(),c=this.ovmap.getExtent();return c?{x:Math.round(1/b*(a.lon-c.left)),y:Math.round(1/b*(c.top-a.lat))}:void 0},CLASS_NAME:"OpenLayers.Control.OverviewMap"}),OpenLayers.Layer=OpenLayers.Class({id:null,name:null,div:null,opacity:1,alwaysInRange:null,RESOLUTION_PROPERTIES:"scales resolutions maxScale minScale maxResolution minResolution numZoomLevels maxZoomLevel".split(" "),events:null,map:null,isBaseLayer:!1,alpha:!1,displayInLayerSwitcher:!0,visibility:!0,attribution:null,inRange:!1,imageSize:null,options:null,eventListeners:null,gutter:0,projection:null,units:null,scales:null,resolutions:null,maxExtent:null,minExtent:null,maxResolution:null,minResolution:null,numZoomLevels:null,minScale:null,maxScale:null,displayOutsideMaxExtent:!1,wrapDateLine:!1,metadata:null,initialize:function(a,b){this.metadata={},b=OpenLayers.Util.extend({},b),null!=this.alwaysInRange&&(b.alwaysInRange=this.alwaysInRange),this.addOptions(b),this.name=a,null==this.id&&(this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_"),this.div=OpenLayers.Util.createDiv(this.id),this.div.style.width="100%",this.div.style.height="100%",this.div.dir="ltr",this.events=new OpenLayers.Events(this,this.div),this.eventListeners instanceof Object)&&this.events.on(this.eventListeners)},destroy:function(a){null==a&&(a=!0),null!=this.map&&this.map.removeLayer(this,a),this.options=this.div=this.name=this.map=this.projection=null,this.events&&(this.eventListeners&&this.events.un(this.eventListeners),this.events.destroy()),this.events=this.eventListeners=null},clone:function(a){return null==a&&(a=new OpenLayers.Layer(this.name,this.getOptions())),OpenLayers.Util.applyDefaults(a,this),a.map=null,a},getOptions:function(){var a,b={};for(a in this.options)b[a]=this[a];return b},setName:function(a){a!=this.name&&(this.name=a,null!=this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"name"}))},addOptions:function(a,b){if(null==this.options&&(this.options={}),a&&("string"==typeof a.projection&&(a.projection=new OpenLayers.Projection(a.projection)),a.projection&&OpenLayers.Util.applyDefaults(a,OpenLayers.Projection.defaults[a.projection.getCode()]),!a.maxExtent||a.maxExtent instanceof OpenLayers.Bounds||(a.maxExtent=new OpenLayers.Bounds(a.maxExtent)),!a.minExtent||a.minExtent instanceof OpenLayers.Bounds||(a.minExtent=new OpenLayers.Bounds(a.minExtent))),OpenLayers.Util.extend(this.options,a),OpenLayers.Util.extend(this,a),this.projection&&this.projection.getUnits()&&(this.units=this.projection.getUnits()),this.map){var c,d=this.map.getResolution(),e=this.RESOLUTION_PROPERTIES.concat(["projection","units","minExtent","maxExtent"]);for(c in a)if(a.hasOwnProperty(c)&&0<=OpenLayers.Util.indexOf(e,c)){this.initResolutions(),b&&this.map.baseLayer===this&&(this.map.setCenter(this.map.getCenter(),this.map.getZoomForResolution(d),!1,!0),this.map.events.triggerEvent("changebaselayer",{layer:this}));break}}},onMapResize:function(){},redraw:function(){var a=!1;if(this.map){this.inRange=this.calculateInRange();var b=this.getExtent();b&&this.inRange&&this.visibility&&(this.moveTo(b,!0,!1),this.events.triggerEvent("moveend",{zoomChanged:!0}),a=!0)}return a},moveTo:function(a){a=this.visibility,this.isBaseLayer||(a=a&&this.inRange),this.display(a)},moveByPx:function(){},setMap:function(a){null==this.map&&(this.map=a,this.maxExtent=this.maxExtent||this.map.maxExtent,this.minExtent=this.minExtent||this.map.minExtent,this.projection=this.projection||this.map.projection,"string"==typeof this.projection&&(this.projection=new OpenLayers.Projection(this.projection)),this.units=this.projection.getUnits()||this.units||this.map.units,this.initResolutions(),this.isBaseLayer||(this.inRange=this.calculateInRange(),this.div.style.display=this.visibility&&this.inRange?"":"none"),this.setTileSize())},afterAdd:function(){},removeMap:function(){},getImageSize:function(){return this.imageSize||this.tileSize},setTileSize:function(a){this.tileSize=a=a?a:this.tileSize?this.tileSize:this.map.getTileSize(),this.gutter&&(this.imageSize=new OpenLayers.Size(a.w+2*this.gutter,a.h+2*this.gutter))},getVisibility:function(){return this.visibility},setVisibility:function(a){a!=this.visibility&&(this.visibility=a,this.display(a),this.redraw(),null!=this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"visibility"}),this.events.triggerEvent("visibilitychanged"))},display:function(a){a!=("none"!=this.div.style.display)&&(this.div.style.display=a&&this.calculateInRange()?"block":"none")},calculateInRange:function(){var a=!1;return this.alwaysInRange?a=!0:this.map&&(a=this.map.getResolution(),a=a>=this.minResolution&&a<=this.maxResolution),a},setIsBaseLayer:function(a){a!=this.isBaseLayer&&(this.isBaseLayer=a,null!=this.map&&this.map.events.triggerEvent("changebaselayer",{layer:this}))},initResolutions:function(){var a,b,c,d={},e=!0;for(a=0,b=this.RESOLUTION_PROPERTIES.length;b>a;a++)c=this.RESOLUTION_PROPERTIES[a],d[c]=this.options[c],e&&this.options[c]&&(e=!1);if(null==this.options.alwaysInRange&&(this.alwaysInRange=e),null==d.resolutions&&(d.resolutions=this.resolutionsFromScales(d.scales)),null==d.resolutions&&(d.resolutions=this.calculateResolutions(d)),null==d.resolutions){for(a=0,b=this.RESOLUTION_PROPERTIES.length;b>a;a++)c=this.RESOLUTION_PROPERTIES[a],d[c]=null!=this.options[c]?this.options[c]:this.map[c];null==d.resolutions&&(d.resolutions=this.resolutionsFromScales(d.scales)),null==d.resolutions&&(d.resolutions=this.calculateResolutions(d))}var f;this.options.maxResolution&&"auto"!==this.options.maxResolution&&(f=this.options.maxResolution),this.options.minScale&&(f=OpenLayers.Util.getResolutionFromScale(this.options.minScale,this.units));var g;if(this.options.minResolution&&"auto"!==this.options.minResolution&&(g=this.options.minResolution),this.options.maxScale&&(g=OpenLayers.Util.getResolutionFromScale(this.options.maxScale,this.units)),d.resolutions&&(d.resolutions.sort(function(a,b){return b-a}),f||(f=d.resolutions[0]),g||(g=d.resolutions[d.resolutions.length-1])),this.resolutions=d.resolutions){for(b=this.resolutions.length,this.scales=Array(b),a=0;b>a;a++)this.scales[a]=OpenLayers.Util.getScaleFromResolution(this.resolutions[a],this.units);this.numZoomLevels=b}(this.minResolution=g)&&(this.maxScale=OpenLayers.Util.getScaleFromResolution(g,this.units)),(this.maxResolution=f)&&(this.minScale=OpenLayers.Util.getScaleFromResolution(f,this.units))},resolutionsFromScales:function(a){if(null!=a){var b,c,d;for(d=a.length,b=Array(d),c=0;d>c;c++)b[c]=OpenLayers.Util.getResolutionFromScale(a[c],this.units);return b}},calculateResolutions:function(a){var b,c,d=a.maxResolution;if(null!=a.minScale?d=OpenLayers.Util.getResolutionFromScale(a.minScale,this.units):"auto"==d&&null!=this.maxExtent&&(b=this.map.getSize(),c=this.maxExtent.getWidth()/b.w,b=this.maxExtent.getHeight()/b.h,d=Math.max(c,b)),c=a.minResolution,null!=a.maxScale?c=OpenLayers.Util.getResolutionFromScale(a.maxScale,this.units):"auto"==a.minResolution&&null!=this.minExtent&&(b=this.map.getSize(),c=this.minExtent.getWidth()/b.w,b=this.minExtent.getHeight()/b.h,c=Math.max(c,b)),"number"!=typeof d&&"number"!=typeof c&&null!=this.maxExtent&&(d=this.map.getTileSize(),d=Math.max(this.maxExtent.getWidth()/d.w,this.maxExtent.getHeight()/d.h)),b=a.maxZoomLevel,a=a.numZoomLevels,"number"==typeof c&&"number"==typeof d&&void 0===a?a=Math.floor(Math.log(d/c)/Math.log(2))+1:void 0===a&&null!=b&&(a=b+1),!("number"!=typeof a||0>=a||"number"!=typeof d&&"number"!=typeof c)){b=Array(a);var e=2;"number"==typeof c&&"number"==typeof d&&(e=Math.pow(d/c,1/(a-1)));var f;if("number"==typeof d)for(f=0;a>f;f++)b[f]=d/Math.pow(e,f);else for(f=0;a>f;f++)b[a-1-f]=c*Math.pow(e,f);return b}},getResolution:function(){var a=this.map.getZoom();return this.getResolutionForZoom(a)},getExtent:function(){return this.map.calculateBounds()},getZoomForExtent:function(a,b){var c=this.map.getSize(),c=Math.max(a.getWidth()/c.w,a.getHeight()/c.h);return this.getZoomForResolution(c,b)},getDataExtent:function(){},getResolutionForZoom:function(a){if(a=Math.max(0,Math.min(a,this.resolutions.length-1)),this.map.fractionalZoom){var b=Math.floor(a),c=Math.ceil(a);a=this.resolutions[b]-(a-b)*(this.resolutions[b]-this.resolutions[c])}else a=this.resolutions[Math.round(a)];return a},getZoomForResolution:function(a,b){var c,d;if(this.map.fractionalZoom){var e,f=0,g=this.resolutions[f],h=this.resolutions[this.resolutions.length-1];for(c=0,d=this.resolutions.length;d>c;++c)if(e=this.resolutions[c],e>=a&&(g=e,f=c),a>=e){h=e;break}c=g-h,c=c>0?f+(g-a)/c:f}else{for(g=Number.POSITIVE_INFINITY,c=0,d=this.resolutions.length;d>c;c++)if(b){if(f=Math.abs(this.resolutions[c]-a),f>g)break;g=f}else if(this.resolutions[c]<a)break;c=Math.max(0,c-1)}return c},getLonLatFromViewPortPx:function(a){var b=null,c=this.map;if(null!=a&&c.minPx){var b=c.getResolution(),d=c.getMaxExtent({restricted:!0}),b=new OpenLayers.LonLat((a.x-c.minPx.x)*b+d.left,(c.minPx.y-a.y)*b+d.top);this.wrapDateLine&&(b=b.wrapDateLine(this.maxExtent))}return b},getViewPortPxFromLonLat:function(a,b){var c=null;return null!=a&&(b=b||this.map.getResolution(),c=this.map.calculateBounds(null,b),c=new OpenLayers.Pixel(1/b*(a.lon-c.left),1/b*(c.top-a.lat))),c},setOpacity:function(a){if(a!=this.opacity){this.opacity=a;for(var b=this.div.childNodes,c=0,d=b.length;d>c;++c){var e=b[c].firstChild||b[c],f=b[c].lastChild;f&&"iframe"===f.nodeName.toLowerCase()&&(e=f.parentNode),OpenLayers.Util.modifyDOMElement(e,null,null,null,null,null,null,a)}null!=this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"opacity"})}},getZIndex:function(){return this.div.style.zIndex},setZIndex:function(a){this.div.style.zIndex=a},adjustBounds:function(a){if(this.gutter){var b=this.gutter*this.map.getResolution();a=new OpenLayers.Bounds(a.left-b,a.bottom-b,a.right+b,a.top+b)}return this.wrapDateLine&&(b={rightTolerance:this.getResolution(),leftTolerance:this.getResolution()},a=a.wrapDateLine(this.maxExtent,b)),a},CLASS_NAME:"OpenLayers.Layer"}),OpenLayers.Layer.SphericalMercator={getExtent:function(){var a=null;return a=this.sphericalMercator?this.map.calculateBounds():OpenLayers.Layer.FixedZoomLevels.prototype.getExtent.apply(this)},getLonLatFromViewPortPx:function(){return OpenLayers.Layer.prototype.getLonLatFromViewPortPx.apply(this,arguments)},getViewPortPxFromLonLat:function(){return OpenLayers.Layer.prototype.getViewPortPxFromLonLat.apply(this,arguments)},initMercatorParameters:function(){this.RESOLUTIONS=[];for(var a=0;a<=this.MAX_ZOOM_LEVEL;++a)this.RESOLUTIONS[a]=156543.03390625/Math.pow(2,a);this.units="m",this.projection=this.projection||"EPSG:900913"},forwardMercator:function(){var a=new OpenLayers.Projection("EPSG:4326"),b=new OpenLayers.Projection("EPSG:900913");return function(c,d){var e=OpenLayers.Projection.transform({x:c,y:d},a,b);return new OpenLayers.LonLat(e.x,e.y)}}(),inverseMercator:function(){var a=new OpenLayers.Projection("EPSG:4326"),b=new OpenLayers.Projection("EPSG:900913");return function(c,d){var e=OpenLayers.Projection.transform({x:c,y:d},b,a);return new OpenLayers.LonLat(e.x,e.y)}}()},OpenLayers.Layer.EventPane=OpenLayers.Class(OpenLayers.Layer,{smoothDragPan:!0,isBaseLayer:!0,isFixed:!0,pane:null,mapObject:null,initialize:function(){OpenLayers.Layer.prototype.initialize.apply(this,arguments),null==this.pane&&(this.pane=OpenLayers.Util.createDiv(this.div.id+"_EventPane"))},destroy:function(){this.pane=this.mapObject=null,OpenLayers.Layer.prototype.destroy.apply(this,arguments)},setMap:function(){OpenLayers.Layer.prototype.setMap.apply(this,arguments),this.pane.style.zIndex=parseInt(this.div.style.zIndex)+1,this.pane.style.display=this.div.style.display,this.pane.style.width="100%",this.pane.style.height="100%","msie"==OpenLayers.BROWSER_NAME&&(this.pane.style.background="url("+OpenLayers.Util.getImageLocation("blank.gif")+")"),this.isFixed?this.map.viewPortDiv.appendChild(this.pane):this.map.layerContainerDiv.appendChild(this.pane),this.loadMapObject(),null==this.mapObject&&this.loadWarningMessage()},removeMap:function(){this.pane&&this.pane.parentNode&&this.pane.parentNode.removeChild(this.pane),OpenLayers.Layer.prototype.removeMap.apply(this,arguments)},loadWarningMessage:function(){this.div.style.backgroundColor="darkblue";var a=this.map.getSize(),b=Math.min(a.w,300),c=Math.min(a.h,200),b=new OpenLayers.Size(b,c),a=new OpenLayers.Pixel(a.w/2,a.h/2).add(-b.w/2,-b.h/2),a=OpenLayers.Util.createDiv(this.name+"_warning",a,b,null,null,null,"auto");a.style.padding="7px",a.style.backgroundColor="yellow",a.innerHTML=this.getWarningHTML(),this.div.appendChild(a)},getWarningHTML:function(){return""},display:function(){OpenLayers.Layer.prototype.display.apply(this,arguments),this.pane.style.display=this.div.style.display},setZIndex:function(){OpenLayers.Layer.prototype.setZIndex.apply(this,arguments),this.pane.style.zIndex=parseInt(this.div.style.zIndex)+1},moveByPx:function(a,b){OpenLayers.Layer.prototype.moveByPx.apply(this,arguments),this.dragPanMapObject?this.dragPanMapObject(a,-b):this.moveTo(this.map.getCachedCenter())},moveTo:function(a,b,c){if(OpenLayers.Layer.prototype.moveTo.apply(this,arguments),null!=this.mapObject){var d=this.map.getCenter(),e=this.map.getZoom();if(null!=d){var f=this.getMapObjectCenter(),f=this.getOLLonLatFromMapObjectLonLat(f),g=this.getMapObjectZoom(),g=this.getOLZoomFromMapObjectZoom(g);d.equals(f)&&e==g||(!b&&f&&this.dragPanMapObject&&this.smoothDragPan?(e=this.map.getViewPortPxFromLonLat(f),d=this.map.getViewPortPxFromLonLat(d),this.dragPanMapObject(d.x-e.x,e.y-d.y)):(d=this.getMapObjectLonLatFromOLLonLat(d),e=this.getMapObjectZoomFromOLZoom(e),this.setMapObjectCenter(d,e,c)))}}},getLonLatFromViewPortPx:function(a){var b=null;return null!=this.mapObject&&null!=this.getMapObjectCenter()&&(a=this.getMapObjectPixelFromOLPixel(a),a=this.getMapObjectLonLatFromMapObjectPixel(a),b=this.getOLLonLatFromMapObjectLonLat(a)),b},getViewPortPxFromLonLat:function(a){var b=null;return null!=this.mapObject&&null!=this.getMapObjectCenter()&&(a=this.getMapObjectLonLatFromOLLonLat(a),a=this.getMapObjectPixelFromMapObjectLonLat(a),b=this.getOLPixelFromMapObjectPixel(a)),b},getOLLonLatFromMapObjectLonLat:function(a){var b=null;return null!=a&&(b=this.getLongitudeFromMapObjectLonLat(a),a=this.getLatitudeFromMapObjectLonLat(a),b=new OpenLayers.LonLat(b,a)),b},getMapObjectLonLatFromOLLonLat:function(a){var b=null;return null!=a&&(b=this.getMapObjectLonLatFromLonLat(a.lon,a.lat)),b},getOLPixelFromMapObjectPixel:function(a){var b=null;return null!=a&&(b=this.getXFromMapObjectPixel(a),a=this.getYFromMapObjectPixel(a),b=new OpenLayers.Pixel(b,a)),b},getMapObjectPixelFromOLPixel:function(a){var b=null;return null!=a&&(b=this.getMapObjectPixelFromXY(a.x,a.y)),b},CLASS_NAME:"OpenLayers.Layer.EventPane"}),OpenLayers.Layer.FixedZoomLevels=OpenLayers.Class({initialize:function(){},initResolutions:function(){for(var a=["minZoomLevel","maxZoomLevel","numZoomLevels"],b=0,c=a.length;c>b;b++){var d=a[b];this[d]=null!=this.options[d]?this.options[d]:this.map[d]}if((null==this.minZoomLevel||this.minZoomLevel<this.MIN_ZOOM_LEVEL)&&(this.minZoomLevel=this.MIN_ZOOM_LEVEL),a=this.MAX_ZOOM_LEVEL-this.minZoomLevel+1,b=null==this.options.numZoomLevels&&null!=this.options.maxZoomLevel||null==this.numZoomLevels&&null!=this.maxZoomLevel?this.maxZoomLevel-this.minZoomLevel+1:this.numZoomLevels,this.numZoomLevels=null!=b?Math.min(b,a):a,this.maxZoomLevel=this.minZoomLevel+this.numZoomLevels-1,null!=this.RESOLUTIONS){for(a=0,this.resolutions=[],b=this.minZoomLevel;b<=this.maxZoomLevel;b++)this.resolutions[a++]=this.RESOLUTIONS[b];this.maxResolution=this.resolutions[0],this.minResolution=this.resolutions[this.resolutions.length-1]}},getResolution:function(){if(null!=this.resolutions)return OpenLayers.Layer.prototype.getResolution.apply(this,arguments);var a=null,b=this.map.getSize(),c=this.getExtent();return null!=b&&null!=c&&(a=Math.max(c.getWidth()/b.w,c.getHeight()/b.h)),a},getExtent:function(){var a=this.map.getSize(),b=this.getLonLatFromViewPortPx({x:0,y:0}),a=this.getLonLatFromViewPortPx({x:a.w,y:a.h});return null!=b&&null!=a?new OpenLayers.Bounds(b.lon,a.lat,a.lon,b.lat):null},getZoomForResolution:function(){if(null!=this.resolutions)return OpenLayers.Layer.prototype.getZoomForResolution.apply(this,arguments);var a=OpenLayers.Layer.prototype.getExtent.apply(this,[]);return this.getZoomForExtent(a)},getOLZoomFromMapObjectZoom:function(a){var b=null;return null!=a&&(b=a-this.minZoomLevel,this.map.baseLayer!==this&&(b=this.map.baseLayer.getZoomForResolution(this.getResolutionForZoom(b)))),b},getMapObjectZoomFromOLZoom:function(a){var b=null;return null!=a&&(b=a+this.minZoomLevel,this.map.baseLayer!==this&&(b=this.getZoomForResolution(this.map.baseLayer.getResolutionForZoom(b)))),b},CLASS_NAME:"OpenLayers.Layer.FixedZoomLevels"}),OpenLayers.Layer.Google=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:0,MAX_ZOOM_LEVEL:21,RESOLUTIONS:[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,2145767211914062e-20,1072883605957031e-20,536441802978515e-20,268220901489257e-20,1341104507446289e-21,6.705522537231445e-7],type:null,wrapDateLine:!0,sphericalMercator:!1,version:null,initialize:function(a,b){b=b||{},b.version||(b.version="function"==typeof GMap2?"2":"3");var c=OpenLayers.Layer.Google["v"+b.version.replace(/\./g,"_")];if(!c)throw"Unsupported Google Maps API version: "+b.version;OpenLayers.Util.applyDefaults(b,c),OpenLayers.Util.applyDefaults(b,c.DEFAULTS),b.maxExtent&&(b.maxExtent=b.maxExtent.clone()),OpenLayers.Layer.EventPane.prototype.initialize.apply(this,[a,b]),OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,[a,b]),this.sphericalMercator&&(OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator),this.initMercatorParameters())},clone:function(){return new OpenLayers.Layer.Google(this.name,this.getOptions())},setVisibility:function(){var a=null==this.opacity?1:this.opacity;OpenLayers.Layer.EventPane.prototype.setVisibility.apply(this,arguments),this.setOpacity(a)},display:function(a){this._dragging||this.setGMapVisibility(a),OpenLayers.Layer.EventPane.prototype.display.apply(this,arguments)},moveTo:function(a,b,c){this._dragging=c,OpenLayers.Layer.EventPane.prototype.moveTo.apply(this,arguments),delete this._dragging},setOpacity:function(a){if(a!==this.opacity&&(null!=this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"opacity"}),this.opacity=a),this.getVisibility()){var b=this.getMapContainer();OpenLayers.Util.modifyDOMElement(b,null,null,null,null,null,null,a)}},destroy:function(){if(this.map){this.setGMapVisibility(!1);var a=OpenLayers.Layer.Google.cache[this.map.id];a&&1>=a.count&&this.removeGMapElements()}OpenLayers.Layer.EventPane.prototype.destroy.apply(this,arguments)},removeGMapElements:function(){var a=OpenLayers.Layer.Google.cache[this.map.id];if(a){var b=this.mapObject&&this.getMapContainer();b&&b.parentNode&&b.parentNode.removeChild(b),(b=a.termsOfUse)&&b.parentNode&&b.parentNode.removeChild(b),(a=a.poweredBy)&&a.parentNode&&a.parentNode.removeChild(a),this.mapObject&&window.google&&google.maps&&google.maps.event&&google.maps.event.clearListeners&&google.maps.event.clearListeners(this.mapObject,"tilesloaded")}},removeMap:function(a){this.visibility&&this.mapObject&&this.setGMapVisibility(!1);var b=OpenLayers.Layer.Google.cache[a.id];b&&(1>=b.count?(this.removeGMapElements(),delete OpenLayers.Layer.Google.cache[a.id]):--b.count),delete this.termsOfUse,delete this.poweredBy,delete this.mapObject,delete this.dragObject,OpenLayers.Layer.EventPane.prototype.removeMap.apply(this,arguments)},getOLBoundsFromMapObjectBounds:function(a){var b=null;return null!=a&&(b=a.getSouthWest(),a=a.getNorthEast(),this.sphericalMercator?(b=this.forwardMercator(b.lng(),b.lat()),a=this.forwardMercator(a.lng(),a.lat())):(b=new OpenLayers.LonLat(b.lng(),b.lat()),a=new OpenLayers.LonLat(a.lng(),a.lat())),b=new OpenLayers.Bounds(b.lon,b.lat,a.lon,a.lat)),b},getWarningHTML:function(){return OpenLayers.i18n("googleWarning")},getMapObjectCenter:function(){return this.mapObject.getCenter()},getMapObjectZoom:function(){return this.mapObject.getZoom()},getLongitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.lng(),a.lat()).lon:a.lng()},getLatitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.lng(),a.lat()).lat:a.lat()},getXFromMapObjectPixel:function(a){return a.x},getYFromMapObjectPixel:function(a){return a.y},CLASS_NAME:"OpenLayers.Layer.Google"}),OpenLayers.Layer.Google.cache={},OpenLayers.Layer.Google.v2={termsOfUse:null,poweredBy:null,dragObject:null,loadMapObject:function(){this.type||(this.type=G_NORMAL_MAP);var a,b,c,d=OpenLayers.Layer.Google.cache[this.map.id];if(d)a=d.mapObject,b=d.termsOfUse,c=d.poweredBy,++d.count;else{var d=this.map.viewPortDiv,e=document.createElement("div");e.id=this.map.id+"_GMap2Container",e.style.position="absolute",e.style.width="100%",e.style.height="100%",d.appendChild(e);try{a=new GMap2(e),b=e.lastChild,d.appendChild(b),b.style.zIndex="1100",b.style.right="",b.style.bottom="",b.className="olLayerGoogleCopyright",c=e.lastChild,d.appendChild(c),c.style.zIndex="1100",c.style.right="",c.style.bottom="",c.className="olLayerGooglePoweredBy gmnoprint"}catch(f){throw f}OpenLayers.Layer.Google.cache[this.map.id]={mapObject:a,termsOfUse:b,poweredBy:c,count:1}}this.mapObject=a,this.termsOfUse=b,this.poweredBy=c,-1===OpenLayers.Util.indexOf(this.mapObject.getMapTypes(),this.type)&&this.mapObject.addMapType(this.type),"function"==typeof a.getDragObject?this.dragObject=a.getDragObject():this.dragPanMapObject=null,!1===this.isBaseLayer&&this.setGMapVisibility("none"!==this.div.style.display)},onMapResize:function(){if(this.visibility&&this.mapObject.isLoaded())this.mapObject.checkResize();else{if(!this._resized)var a=this,b=GEvent.addListener(this.mapObject,"load",function(){GEvent.removeListener(b),delete a._resized,a.mapObject.checkResize(),a.moveTo(a.map.getCenter(),a.map.getZoom())});this._resized=!0}},setGMapVisibility:function(a){var b=OpenLayers.Layer.Google.cache[this.map.id];if(b){var c=this.mapObject.getContainer();!0===a?(this.mapObject.setMapType(this.type),c.style.display="",this.termsOfUse.style.left="",this.termsOfUse.style.display="",this.poweredBy.style.display="",b.displayed=this.id):(b.displayed===this.id&&delete b.displayed,b.displayed||(c.style.display="none",this.termsOfUse.style.display="none",this.termsOfUse.style.left="-9999px",this.poweredBy.style.display="none"))}},getMapContainer:function(){return this.mapObject.getContainer()},getMapObjectBoundsFromOLBounds:function(a){var b=null;return null!=a&&(b=this.sphericalMercator?this.inverseMercator(a.bottom,a.left):new OpenLayers.LonLat(a.bottom,a.left),a=this.sphericalMercator?this.inverseMercator(a.top,a.right):new OpenLayers.LonLat(a.top,a.right),b=new GLatLngBounds(new GLatLng(b.lat,b.lon),new GLatLng(a.lat,a.lon))),b},setMapObjectCenter:function(a,b){this.mapObject.setCenter(a,b)},dragPanMapObject:function(a,b){this.dragObject.moveBy(new GSize(-a,b))},getMapObjectLonLatFromMapObjectPixel:function(a){return this.mapObject.fromContainerPixelToLatLng(a)},getMapObjectPixelFromMapObjectLonLat:function(a){return this.mapObject.fromLatLngToContainerPixel(a)},getMapObjectZoomFromMapObjectBounds:function(a){return this.mapObject.getBoundsZoomLevel(a)},getMapObjectLonLatFromLonLat:function(a,b){var c;return this.sphericalMercator?(c=this.inverseMercator(a,b),c=new GLatLng(c.lat,c.lon)):c=new GLatLng(b,a),c},getMapObjectPixelFromXY:function(a,b){return new GPoint(a,b)}},OpenLayers.Format.XML=OpenLayers.Class(OpenLayers.Format,{namespaces:null,namespaceAlias:null,defaultPrefix:null,readers:{},writers:{},xmldom:null,initialize:function(a){window.ActiveXObject&&(this.xmldom=new ActiveXObject("Microsoft.XMLDOM")),OpenLayers.Format.prototype.initialize.apply(this,[a]),this.namespaces=OpenLayers.Util.extend({},this.namespaces),this.namespaceAlias={};for(var b in this.namespaces)this.namespaceAlias[this.namespaces[b]]=b},destroy:function(){this.xmldom=null,OpenLayers.Format.prototype.destroy.apply(this,arguments)},setNamespace:function(a,b){this.namespaces[a]=b,this.namespaceAlias[b]=a},read:function(a){var b=a.indexOf("<");return b>0&&(a=a.substring(b)),b=OpenLayers.Util.Try(OpenLayers.Function.bind(function(){var b;return b=window.ActiveXObject&&!this.xmldom?new ActiveXObject("Microsoft.XMLDOM"):this.xmldom,b.loadXML(a),b},this),function(){return(new DOMParser).parseFromString(a,"text/xml")},function(){var b=new XMLHttpRequest;return b.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(a),!1),b.overrideMimeType&&b.overrideMimeType("text/xml"),b.send(null),b.responseXML}),this.keepData&&(this.data=b),b},write:function(a){if(this.xmldom)a=a.xml;else{var b=new XMLSerializer;if(1==a.nodeType){var c=document.implementation.createDocument("","",null);c.importNode&&(a=c.importNode(a,!0)),c.appendChild(a),a=b.serializeToString(c)}else a=b.serializeToString(a)}return a},createElementNS:function(a,b){return this.xmldom?"string"==typeof a?this.xmldom.createNode(1,b,a):this.xmldom.createNode(1,b,""):document.createElementNS(a,b)},createDocumentFragment:function(){return this.xmldom?this.xmldom.createDocumentFragment():document.createDocumentFragment()},createTextNode:function(a){return"string"!=typeof a&&(a=String(a)),this.xmldom?this.xmldom.createTextNode(a):document.createTextNode(a)},getElementsByTagNameNS:function(a,b,c){var d=[];if(a.getElementsByTagNameNS)d=a.getElementsByTagNameNS(b,c);else{a=a.getElementsByTagName("*");for(var e,f,g=0,h=a.length;h>g;++g)e=a[g],f=e.prefix?e.prefix+":"+c:c,("*"==c||f==e.nodeName)&&("*"!=b&&b!=e.namespaceURI||d.push(e))}return d},getAttributeNodeNS:function(a,b,c){var d=null;if(a.getAttributeNodeNS)d=a.getAttributeNodeNS(b,c);else{a=a.attributes;for(var e,f,g=0,h=a.length;h>g;++g)if(e=a[g],e.namespaceURI==b&&(f=e.prefix?e.prefix+":"+c:c,f==e.nodeName)){d=e;break}}return d},getAttributeNS:function(a,b,c){var d="";return a.getAttributeNS?d=a.getAttributeNS(b,c)||"":(a=this.getAttributeNodeNS(a,b,c))&&(d=a.nodeValue),d},getChildValue:function(a,b){var c=b||"";if(a)for(var d=a.firstChild;d;d=d.nextSibling)switch(d.nodeType){case 3:case 4:c+=d.nodeValue}return c},isSimpleContent:function(a){var b=!0;for(a=a.firstChild;a;a=a.nextSibling)if(1===a.nodeType){b=!1;break}return b},contentType:function(a){var b=!1,c=!1,d=OpenLayers.Format.XML.CONTENT_TYPE.EMPTY;for(a=a.firstChild;a;a=a.nextSibling){switch(a.nodeType){case 1:c=!0;break;case 8:break;default:b=!0}if(c&&b)break}if(c&&b)d=OpenLayers.Format.XML.CONTENT_TYPE.MIXED;else{if(c)return OpenLayers.Format.XML.CONTENT_TYPE.COMPLEX;if(b)return OpenLayers.Format.XML.CONTENT_TYPE.SIMPLE}return d},hasAttributeNS:function(a,b,c){var d=!1;return d=a.hasAttributeNS?a.hasAttributeNS(b,c):!!this.getAttributeNodeNS(a,b,c)},setAttributeNS:function(a,b,c,d){if(a.setAttributeNS)a.setAttributeNS(b,c,d);else{if(!this.xmldom)throw"setAttributeNS not implemented";b?(b=a.ownerDocument.createNode(2,c,b),b.nodeValue=d,a.setAttributeNode(b)):a.setAttribute(c,d)}},createElementNSPlus:function(a,b){b=b||{};var c=b.uri||this.namespaces[b.prefix];c||(c=a.indexOf(":"),c=this.namespaces[a.substring(0,c)]),c||(c=this.namespaces[this.defaultPrefix]),c=this.createElementNS(c,a),b.attributes&&this.setAttributes(c,b.attributes);var d=b.value;return null!=d&&c.appendChild(this.createTextNode(d)),c},setAttributes:function(a,b){var c,d,e;for(e in b)null!=b[e]&&b[e].toString&&(c=b[e].toString(),d=this.namespaces[e.substring(0,e.indexOf(":"))]||null,this.setAttributeNS(a,d,e,c))},readNode:function(a,b){b||(b={});var c=this.readers[a.namespaceURI?this.namespaceAlias[a.namespaceURI]:this.defaultPrefix];if(c){var d=a.localName||a.nodeName.split(":").pop();(c=c[d]||c["*"])&&c.apply(this,[a,b])}return b},readChildNodes:function(a,b){b||(b={});for(var c,d=a.childNodes,e=0,f=d.length;f>e;++e)c=d[e],1==c.nodeType&&this.readNode(c,b);return b},writeNode:function(a,b,c){var d,e=a.indexOf(":");return e>0?(d=a.substring(0,e),a=a.substring(e+1)):d=c?this.namespaceAlias[c.namespaceURI]:this.defaultPrefix,b=this.writers[d][a].apply(this,[b]),c&&c.appendChild(b),b},getChildEl:function(a,b,c){return a&&this.getThisOrNextEl(a.firstChild,b,c)},getNextEl:function(a,b,c){return a&&this.getThisOrNextEl(a.nextSibling,b,c)},getThisOrNextEl:function(a,b,c){a:for(;a;a=a.nextSibling)switch(a.nodeType){case 1:if(!(b&&b!==(a.localName||a.nodeName.split(":").pop())||c&&c!==a.namespaceURI))break a;a=null;break a;case 3:if(/^\s*$/.test(a.nodeValue))break;case 4:case 6:case 12:case 10:case 11:a=null;break a}return a||null},lookupNamespaceURI:function(a,b){var c=null;if(a)if(a.lookupNamespaceURI)c=a.lookupNamespaceURI(b);else a:switch(a.nodeType){case 1:if(null!==a.namespaceURI&&a.prefix===b){c=a.namespaceURI;break a}if(c=a.attributes.length)for(var d,e=0;c>e;++e){if(d=a.attributes[e],"xmlns"===d.prefix&&d.name==="xmlns:"+b){c=d.value||null;break a}if("xmlns"===d.name&&null===b){c=d.value||null;break a}}c=this.lookupNamespaceURI(a.parentNode,b);break a;case 2:c=this.lookupNamespaceURI(a.ownerElement,b);break a;case 9:c=this.lookupNamespaceURI(a.documentElement,b);break a;case 6:case 12:case 10:case 11:break a;default:c=this.lookupNamespaceURI(a.parentNode,b)}return c},getXMLDoc:function(){return OpenLayers.Format.XML.document||this.xmldom||(document.implementation&&document.implementation.createDocument?OpenLayers.Format.XML.document=document.implementation.createDocument("","",null):!this.xmldom&&window.ActiveXObject&&(this.xmldom=new ActiveXObject("Microsoft.XMLDOM"))),OpenLayers.Format.XML.document||this.xmldom},CLASS_NAME:"OpenLayers.Format.XML"}),OpenLayers.Format.XML.CONTENT_TYPE={EMPTY:0,SIMPLE:1,COMPLEX:2,MIXED:3},OpenLayers.Format.XML.lookupNamespaceURI=OpenLayers.Function.bind(OpenLayers.Format.XML.prototype.lookupNamespaceURI,OpenLayers.Format.XML.prototype),OpenLayers.Format.XML.document=null,OpenLayers.Format.WFST=function(a){a=OpenLayers.Util.applyDefaults(a,OpenLayers.Format.WFST.DEFAULTS);
var b=OpenLayers.Format.WFST["v"+a.version.replace(/\./g,"_")];if(!b)throw"Unsupported WFST version: "+a.version;return new b(a)},OpenLayers.Format.WFST.DEFAULTS={version:"1.0.0"},OpenLayers.Feature=OpenLayers.Class({layer:null,id:null,lonlat:null,data:null,marker:null,popupClass:null,popup:null,initialize:function(a,b,c){this.layer=a,this.lonlat=b,this.data=null!=c?c:{},this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){null!=this.layer&&null!=this.layer.map&&null!=this.popup&&this.layer.map.removePopup(this.popup),null!=this.layer&&null!=this.marker&&this.layer.removeMarker(this.marker),this.data=this.lonlat=this.id=this.layer=null,null!=this.marker&&(this.destroyMarker(this.marker),this.marker=null),null!=this.popup&&(this.destroyPopup(this.popup),this.popup=null)},onScreen:function(){var a=!1;return null!=this.layer&&null!=this.layer.map&&(a=this.layer.map.getExtent().containsLonLat(this.lonlat)),a},createMarker:function(){return null!=this.lonlat&&(this.marker=new OpenLayers.Marker(this.lonlat,this.data.icon)),this.marker},destroyMarker:function(){this.marker.destroy()},createPopup:function(a){return null!=this.lonlat&&(this.popup||(this.popup=new(this.popupClass?this.popupClass:OpenLayers.Popup.Anchored)(this.id+"_popup",this.lonlat,this.data.popupSize,this.data.popupContentHTML,this.marker?this.marker.icon:null,a)),null!=this.data.overflow&&(this.popup.contentDiv.style.overflow=this.data.overflow),this.popup.feature=this),this.popup},destroyPopup:function(){this.popup&&(this.popup.feature=null,this.popup.destroy(),this.popup=null)},CLASS_NAME:"OpenLayers.Feature"}),OpenLayers.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},OpenLayers.Feature.Vector=OpenLayers.Class(OpenLayers.Feature,{fid:null,geometry:null,attributes:null,bounds:null,state:null,style:null,url:null,renderIntent:"default",modified:null,initialize:function(a,b,c){OpenLayers.Feature.prototype.initialize.apply(this,[null,null,b]),this.lonlat=null,this.geometry=a?a:null,this.state=null,this.attributes={},b&&(this.attributes=OpenLayers.Util.extend(this.attributes,b)),this.style=c?c:null},destroy:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.modified=this.geometry=null,OpenLayers.Feature.prototype.destroy.apply(this,arguments)},clone:function(){return new OpenLayers.Feature.Vector(this.geometry?this.geometry.clone():null,this.attributes,this.style)},onScreen:function(a){var b=!1;return this.layer&&this.layer.map&&(b=this.layer.map.getExtent(),a?(a=this.geometry.getBounds(),b=b.intersectsBounds(a)):b=b.toGeometry().intersects(this.geometry)),b},getVisibility:function(){return!(this.style&&"none"==this.style.display||!this.layer||this.layer&&this.layer.styleMap&&"none"==this.layer.styleMap.createSymbolizer(this,this.renderIntent).display||this.layer&&!this.layer.getVisibility())},createMarker:function(){return null},destroyMarker:function(){},createPopup:function(){return null},atPoint:function(a,b,c){var d=!1;return this.geometry&&(d=this.geometry.atPoint(a,b,c)),d},destroyPopup:function(){},move:function(a){if(this.layer&&this.geometry.move){a="OpenLayers.LonLat"==a.CLASS_NAME?this.layer.getViewPortPxFromLonLat(a):a;var b=this.layer.getViewPortPxFromLonLat(this.geometry.getBounds().getCenterLonLat()),c=this.layer.map.getResolution();return this.geometry.move(c*(a.x-b.x),c*(b.y-a.y)),this.layer.drawFeature(this),b}},toState:function(a){if(a==OpenLayers.State.UPDATE)switch(this.state){case OpenLayers.State.UNKNOWN:case OpenLayers.State.DELETE:this.state=a}else if(a==OpenLayers.State.INSERT)switch(this.state){case OpenLayers.State.UNKNOWN:break;default:this.state=a}else if(a==OpenLayers.State.DELETE)switch(this.state){case OpenLayers.State.UNKNOWN:case OpenLayers.State.UPDATE:this.state=a}else a==OpenLayers.State.UNKNOWN&&(this.state=a)},CLASS_NAME:"OpenLayers.Feature.Vector"}),OpenLayers.Feature.Vector.style={"default":{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},"delete":{display:"none"}},OpenLayers.Style=OpenLayers.Class({id:null,name:null,title:null,description:null,layerName:null,isDefault:!1,rules:null,context:null,defaultStyle:null,defaultsPerSymbolizer:!1,propertyStyles:null,initialize:function(a,b){OpenLayers.Util.extend(this,b),this.rules=[],b&&b.rules&&this.addRules(b.rules),this.setDefaultStyle(a||OpenLayers.Feature.Vector.style["default"]),this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var a=0,b=this.rules.length;b>a;a++)this.rules[a].destroy(),this.rules[a]=null;this.defaultStyle=this.rules=null},createSymbolizer:function(a){for(var b,c=this.defaultsPerSymbolizer?{}:this.createLiterals(OpenLayers.Util.extend({},this.defaultStyle),a),d=this.rules,e=[],f=!1,g=0,h=d.length;h>g;g++)b=d[g],b.evaluate(a)&&(b instanceof OpenLayers.Rule&&b.elseFilter?e.push(b):(f=!0,this.applySymbolizer(b,c,a)));if(0==f&&0<e.length)for(f=!0,g=0,h=e.length;h>g;g++)this.applySymbolizer(e[g],c,a);return 0<d.length&&0==f&&(c.display="none"),null!=c.label&&"string"!=typeof c.label&&(c.label=String(c.label)),c},applySymbolizer:function(a,b,c){var d=c.geometry?this.getSymbolizerPrefix(c.geometry):OpenLayers.Style.SYMBOLIZER_PREFIXES[0];return a=a.symbolizer[d]||a.symbolizer,!0===this.defaultsPerSymbolizer&&(d=this.defaultStyle,OpenLayers.Util.applyDefaults(a,{pointRadius:d.pointRadius}),!0!==a.stroke&&!0!==a.graphic||OpenLayers.Util.applyDefaults(a,{strokeWidth:d.strokeWidth,strokeColor:d.strokeColor,strokeOpacity:d.strokeOpacity,strokeDashstyle:d.strokeDashstyle,strokeLinecap:d.strokeLinecap}),!0!==a.fill&&!0!==a.graphic||OpenLayers.Util.applyDefaults(a,{fillColor:d.fillColor,fillOpacity:d.fillOpacity}),!0===a.graphic&&OpenLayers.Util.applyDefaults(a,{pointRadius:this.defaultStyle.pointRadius,externalGraphic:this.defaultStyle.externalGraphic,graphicName:this.defaultStyle.graphicName,graphicOpacity:this.defaultStyle.graphicOpacity,graphicWidth:this.defaultStyle.graphicWidth,graphicHeight:this.defaultStyle.graphicHeight,graphicXOffset:this.defaultStyle.graphicXOffset,graphicYOffset:this.defaultStyle.graphicYOffset})),this.createLiterals(OpenLayers.Util.extend(b,a),c)},createLiterals:function(a,b){var c=OpenLayers.Util.extend({},b.attributes||b.data);OpenLayers.Util.extend(c,this.context);for(var d in this.propertyStyles)a[d]=OpenLayers.Style.createLiteral(a[d],c,b,d);return a},findPropertyStyles:function(){var a={};this.addPropertyStyles(a,this.defaultStyle);for(var b,c,d=this.rules,e=0,f=d.length;f>e;e++){b=d[e].symbolizer;for(var g in b){if(c=b[g],"object"!=typeof c){this.addPropertyStyles(a,b);break}this.addPropertyStyles(a,c)}}return a},addPropertyStyles:function(a,b){var c,d;for(d in b)c=b[d],"string"==typeof c&&c.match(/\$\{\w+\}/)&&(a[d]=!0);return a},addRules:function(a){Array.prototype.push.apply(this.rules,a),this.propertyStyles=this.findPropertyStyles()},setDefaultStyle:function(a){this.defaultStyle=a,this.propertyStyles=this.findPropertyStyles()},getSymbolizerPrefix:function(a){for(var b=OpenLayers.Style.SYMBOLIZER_PREFIXES,c=0,d=b.length;d>c;c++)if(-1!=a.CLASS_NAME.indexOf(b[c]))return b[c]},clone:function(){var a=OpenLayers.Util.extend({},this);if(this.rules){a.rules=[];for(var b=0,c=this.rules.length;c>b;++b)a.rules.push(this.rules[b].clone())}return a.context=this.context&&OpenLayers.Util.extend({},this.context),b=OpenLayers.Util.extend({},this.defaultStyle),new OpenLayers.Style(b,a)},CLASS_NAME:"OpenLayers.Style"}),OpenLayers.Style.createLiteral=function(a,b,c,d){return"string"==typeof a&&-1!=a.indexOf("${")&&(a=OpenLayers.String.format(a,b,[c,d]),a=isNaN(a)||!a?a:parseFloat(a)),a},OpenLayers.Style.SYMBOLIZER_PREFIXES=["Point","Line","Polygon","Text","Raster"],OpenLayers.Filter=OpenLayers.Class({initialize:function(a){OpenLayers.Util.extend(this,a)},destroy:function(){},evaluate:function(){return!0},clone:function(){return null},toString:function(){return OpenLayers.Format&&OpenLayers.Format.CQL?OpenLayers.Format.CQL.prototype.write(this):Object.prototype.toString.call(this)},CLASS_NAME:"OpenLayers.Filter"}),OpenLayers.Filter.Spatial=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,distance:null,distanceUnits:null,evaluate:function(a){var b=!1;switch(this.type){case OpenLayers.Filter.Spatial.BBOX:case OpenLayers.Filter.Spatial.INTERSECTS:if(a.geometry){var c=this.value;"OpenLayers.Bounds"==this.value.CLASS_NAME&&(c=this.value.toGeometry()),a.geometry.intersects(c)&&(b=!0)}break;default:throw Error("evaluate is not implemented for this filter type.")}return b},clone:function(){var a=OpenLayers.Util.applyDefaults({value:this.value&&this.value.clone&&this.value.clone()},this);return new OpenLayers.Filter.Spatial(a)},CLASS_NAME:"OpenLayers.Filter.Spatial"}),OpenLayers.Filter.Spatial.BBOX="BBOX",OpenLayers.Filter.Spatial.INTERSECTS="INTERSECTS",OpenLayers.Filter.Spatial.DWITHIN="DWITHIN",OpenLayers.Filter.Spatial.WITHIN="WITHIN",OpenLayers.Filter.Spatial.CONTAINS="CONTAINS",OpenLayers.Filter.FeatureId=OpenLayers.Class(OpenLayers.Filter,{fids:null,type:"FID",initialize:function(a){this.fids=[],OpenLayers.Filter.prototype.initialize.apply(this,[a])},evaluate:function(a){for(var b=0,c=this.fids.length;c>b;b++)if((a.fid||a.id)==this.fids[b])return!0;return!1},clone:function(){var a=new OpenLayers.Filter.FeatureId;return OpenLayers.Util.extend(a,this),a.fids=this.fids.slice(),a},CLASS_NAME:"OpenLayers.Filter.FeatureId"}),OpenLayers.Format.WFST.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs",gml:"http://www.opengis.net/gml",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows"},defaultPrefix:"wfs",version:null,schemaLocations:null,srsName:null,extractAttributes:!0,xy:!0,stateName:null,initialize:function(a){this.stateName={},this.stateName[OpenLayers.State.INSERT]="wfs:Insert",this.stateName[OpenLayers.State.UPDATE]="wfs:Update",this.stateName[OpenLayers.State.DELETE]="wfs:Delete",OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},getSrsName:function(a,b){var c=b&&b.srsName;return c||(c=a&&a.layer?a.layer.projection.getCode():this.srsName),c},read:function(a,b){b=b||{},OpenLayers.Util.applyDefaults(b,{output:"features"}),"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var c={};return a&&this.readNode(a,c,!0),c.features&&"features"===b.output&&(c=c.features),c},readers:{wfs:{FeatureCollection:function(a,b){b.features=[],this.readChildNodes(a,b)}}},write:function(a,b){var c=this.writeNode("wfs:Transaction",{features:a,options:b}),d=this.schemaLocationAttr();return d&&this.setAttributeNS(c,this.namespaces.xsi,"xsi:schemaLocation",d),OpenLayers.Format.XML.prototype.write.apply(this,[c])},writers:{wfs:{GetFeature:function(a){var b=this.createElementNSPlus("wfs:GetFeature",{attributes:{service:"WFS",version:this.version,handle:a&&a.handle,outputFormat:a&&a.outputFormat,maxFeatures:a&&a.maxFeatures,"xsi:schemaLocation":this.schemaLocationAttr(a)}});if("string"==typeof this.featureType)this.writeNode("Query",a,b);else for(var c=0,d=this.featureType.length;d>c;c++)a.featureType=this.featureType[c],this.writeNode("Query",a,b);return b},Transaction:function(a){a=a||{};var b,c=a.options||{},d=this.createElementNSPlus("wfs:Transaction",{attributes:{service:"WFS",version:this.version,handle:c.handle}}),e=a.features;if(e){!0===c.multi&&OpenLayers.Util.extend(this.geometryTypes,{"OpenLayers.Geometry.Point":"MultiPoint","OpenLayers.Geometry.LineString":!0===this.multiCurve?"MultiCurve":"MultiLineString","OpenLayers.Geometry.Polygon":!0===this.multiSurface?"MultiSurface":"MultiPolygon"});var f,g;for(a=0,b=e.length;b>a;++a)g=e[a],(f=this.stateName[g.state])&&this.writeNode(f,{feature:g,options:c},d);!0===c.multi&&this.setGeometryTypes()}if(c.nativeElements)for(a=0,b=c.nativeElements.length;b>a;++a)this.writeNode("wfs:Native",c.nativeElements[a],d);return d},Native:function(a){return this.createElementNSPlus("wfs:Native",{attributes:{vendorId:a.vendorId,safeToIgnore:a.safeToIgnore},value:a.value})},Insert:function(a){var b=a.feature;return a=a.options,a=this.createElementNSPlus("wfs:Insert",{attributes:{handle:a&&a.handle}}),this.srsName=this.getSrsName(b),this.writeNode("feature:_typeName",b,a),a},Update:function(a){var b=a.feature;a=a.options,a=this.createElementNSPlus("wfs:Update",{attributes:{handle:a&&a.handle,typeName:(this.featureNS?this.featurePrefix+":":"")+this.featureType}}),this.featureNS&&a.setAttribute("xmlns:"+this.featurePrefix,this.featureNS);var c=b.modified;null===this.geometryName||c&&void 0===c.geometry||(this.srsName=this.getSrsName(b),this.writeNode("Property",{name:this.geometryName,value:b.geometry},a));for(var d in b.attributes)void 0===b.attributes[d]||c&&c.attributes&&(!c.attributes||void 0===c.attributes[d])||this.writeNode("Property",{name:d,value:b.attributes[d]},a);return this.writeNode("ogc:Filter",new OpenLayers.Filter.FeatureId({fids:[b.fid]}),a),a},Property:function(a){var b=this.createElementNSPlus("wfs:Property");return this.writeNode("Name",a.name,b),null!==a.value&&this.writeNode("Value",a.value,b),b},Name:function(a){return this.createElementNSPlus("wfs:Name",{value:a})},Value:function(a){var b;return a instanceof OpenLayers.Geometry?(b=this.createElementNSPlus("wfs:Value"),a=this.writeNode("feature:_geometry",a).firstChild,b.appendChild(a)):b=this.createElementNSPlus("wfs:Value",{value:a}),b},Delete:function(a){var b=a.feature;return a=a.options,a=this.createElementNSPlus("wfs:Delete",{attributes:{handle:a&&a.handle,typeName:(this.featureNS?this.featurePrefix+":":"")+this.featureType}}),this.featureNS&&a.setAttribute("xmlns:"+this.featurePrefix,this.featureNS),this.writeNode("ogc:Filter",new OpenLayers.Filter.FeatureId({fids:[b.fid]}),a),a}}},schemaLocationAttr:function(a){a=OpenLayers.Util.extend({featurePrefix:this.featurePrefix,schema:this.schema},a);var b=OpenLayers.Util.extend({},this.schemaLocations);a.schema&&(b[a.featurePrefix]=a.schema),a=[];var c,d;for(d in b)(c=this.namespaces[d])&&a.push(c+" "+b[d]);return a.join(" ")||void 0},setFilterProperty:function(a){if(a.filters)for(var b=0,c=a.filters.length;c>b;++b)OpenLayers.Format.WFST.v1.prototype.setFilterProperty.call(this,a.filters[b]);else a instanceof OpenLayers.Filter.Spatial&&!a.property&&(a.property=this.geometryName)},CLASS_NAME:"OpenLayers.Format.WFST.v1"}),OpenLayers.Format.OGCExceptionReport=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ogc:"http://www.opengis.net/ogc"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},defaultPrefix:"ogc",read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b={exceptionReport:null};return a.documentElement&&(this.readChildNodes(a,b),null===b.exceptionReport&&(b=(new OpenLayers.Format.OWSCommon).read(a))),b},readers:{ogc:{ServiceExceptionReport:function(a,b){b.exceptionReport={exceptions:[]},this.readChildNodes(a,b.exceptionReport)},ServiceException:function(a,b){var c={code:a.getAttribute("code"),locator:a.getAttribute("locator"),text:this.getChildValue(a)};b.exceptions.push(c)}}},CLASS_NAME:"OpenLayers.Format.OGCExceptionReport"}),OpenLayers.Format.XML.VersionedOGC=OpenLayers.Class(OpenLayers.Format.XML,{defaultVersion:null,version:null,profile:null,allowFallback:!1,name:null,stringifyOutput:!1,parser:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]),a=this.CLASS_NAME,this.name=a.substring(a.lastIndexOf(".")+1)},getVersion:function(a,b){var c;return a?(c=this.version,c||(c=a.getAttribute("version"),c||(c=this.defaultVersion))):c=b&&b.version||this.version||this.defaultVersion,c},getParser:function(a){a=a||this.defaultVersion;var b=this.profile?"_"+this.profile:"";if(!this.parser||this.parser.VERSION!=a){var c=OpenLayers.Format[this.name]["v"+a.replace(/\./g,"_")+b];if(!c&&(""!==b&&this.allowFallback&&(b="",c=OpenLayers.Format[this.name]["v"+a.replace(/\./g,"_")]),!c))throw"Can't find a "+this.name+" parser for version "+a+b;this.parser=new c(this.options)}return this.parser},write:function(a,b){var c=this.getVersion(null,b);return this.parser=this.getParser(c),c=this.parser.write(a,b),!1===this.stringifyOutput?c:OpenLayers.Format.XML.prototype.write.apply(this,[c])},read:function(a,b){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var c=this.getVersion(a.documentElement);this.parser=this.getParser(c);var d=this.parser.read(a,b),e=this.parser.errorProperty||null;return null!==e&&void 0===d[e]&&(e=new OpenLayers.Format.OGCExceptionReport,d.error=e.read(a)),d.version=c,d},CLASS_NAME:"OpenLayers.Format.XML.VersionedOGC"}),OpenLayers.Filter.Logical=OpenLayers.Class(OpenLayers.Filter,{filters:null,type:null,initialize:function(a){this.filters=[],OpenLayers.Filter.prototype.initialize.apply(this,[a])},destroy:function(){this.filters=null,OpenLayers.Filter.prototype.destroy.apply(this)},evaluate:function(a){var b,c;switch(this.type){case OpenLayers.Filter.Logical.AND:for(b=0,c=this.filters.length;c>b;b++)if(0==this.filters[b].evaluate(a))return!1;return!0;case OpenLayers.Filter.Logical.OR:for(b=0,c=this.filters.length;c>b;b++)if(1==this.filters[b].evaluate(a))return!0;return!1;case OpenLayers.Filter.Logical.NOT:return!this.filters[0].evaluate(a)}},clone:function(){for(var a=[],b=0,c=this.filters.length;c>b;++b)a.push(this.filters[b].clone());return new OpenLayers.Filter.Logical({type:this.type,filters:a})},CLASS_NAME:"OpenLayers.Filter.Logical"}),OpenLayers.Filter.Logical.AND="&&",OpenLayers.Filter.Logical.OR="||",OpenLayers.Filter.Logical.NOT="!",OpenLayers.Filter.Comparison=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,matchCase:!0,lowerBoundary:null,upperBoundary:null,initialize:function(a){OpenLayers.Filter.prototype.initialize.apply(this,[a]),this.type===OpenLayers.Filter.Comparison.LIKE&&void 0===a.matchCase&&(this.matchCase=null)},evaluate:function(a){a instanceof OpenLayers.Feature.Vector&&(a=a.attributes);var b=!1;switch(a=a[this.property],this.type){case OpenLayers.Filter.Comparison.EQUAL_TO:b=this.value,b=this.matchCase||"string"!=typeof a||"string"!=typeof b?a==b:a.toUpperCase()==b.toUpperCase();break;case OpenLayers.Filter.Comparison.NOT_EQUAL_TO:b=this.value,b=this.matchCase||"string"!=typeof a||"string"!=typeof b?a!=b:a.toUpperCase()!=b.toUpperCase();break;case OpenLayers.Filter.Comparison.LESS_THAN:b=a<this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN:b=a>this.value;break;case OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO:b=a<=this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO:b=a>=this.value;break;case OpenLayers.Filter.Comparison.BETWEEN:b=a>=this.lowerBoundary&&a<=this.upperBoundary;break;case OpenLayers.Filter.Comparison.LIKE:b=RegExp(this.value,"gi").test(a);break;case OpenLayers.Filter.Comparison.IS_NULL:b=null===a}return b},value2regex:function(a,b,c){if("."==a)throw Error("'.' is an unsupported wildCard character for OpenLayers.Filter.Comparison");return a=a?a:"*",b=b?b:".",this.value=this.value.replace(RegExp("\\"+(c?c:"!")+"(.|$)","g"),"\\$1"),this.value=this.value.replace(RegExp("\\"+b,"g"),"."),this.value=this.value.replace(RegExp("\\"+a,"g"),".*"),this.value=this.value.replace(RegExp("\\\\.\\*","g"),"\\"+a),this.value=this.value.replace(RegExp("\\\\\\.","g"),"\\"+b)},regex2value:function(){var a=this.value,a=a.replace(/!/g,"!!"),a=a.replace(/(\\)?\\\./g,function(a,b){return b?a:"!."}),a=a.replace(/(\\)?\\\*/g,function(a,b){return b?a:"!*"}),a=a.replace(/\\\\/g,"\\");return a=a.replace(/\.\*/g,"*")},clone:function(){return OpenLayers.Util.extend(new OpenLayers.Filter.Comparison,this)},CLASS_NAME:"OpenLayers.Filter.Comparison"}),OpenLayers.Filter.Comparison.EQUAL_TO="==",OpenLayers.Filter.Comparison.NOT_EQUAL_TO="!=",OpenLayers.Filter.Comparison.LESS_THAN="<",OpenLayers.Filter.Comparison.GREATER_THAN=">",OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO="<=",OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO=">=",OpenLayers.Filter.Comparison.BETWEEN="..",OpenLayers.Filter.Comparison.LIKE="~",OpenLayers.Filter.Comparison.IS_NULL="NULL",OpenLayers.Format.Filter=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.Filter"}),OpenLayers.Filter.Function=OpenLayers.Class(OpenLayers.Filter,{name:null,params:null,CLASS_NAME:"OpenLayers.Filter.Function"}),OpenLayers.Date={dateRegEx:/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/,toISOString:function(){return"toISOString"in Date.prototype?function(a){return a.toISOString()}:function(a){return isNaN(a.getTime())?"Invalid Date":a.getUTCFullYear()+"-"+OpenLayers.Number.zeroPad(a.getUTCMonth()+1,2)+"-"+OpenLayers.Number.zeroPad(a.getUTCDate(),2)+"T"+OpenLayers.Number.zeroPad(a.getUTCHours(),2)+":"+OpenLayers.Number.zeroPad(a.getUTCMinutes(),2)+":"+OpenLayers.Number.zeroPad(a.getUTCSeconds(),2)+"."+OpenLayers.Number.zeroPad(a.getUTCMilliseconds(),3)+"Z"}}(),parse:function(a){var b;if((a=a.match(this.dateRegEx))&&(a[1]||a[7])){b=parseInt(a[1],10)||0;var c=parseInt(a[2],10)-1||0,d=parseInt(a[3],10)||1;if(b=new Date(Date.UTC(b,c,d)),c=a[7]){var d=parseInt(a[4],10),e=parseInt(a[5],10),f=parseFloat(a[6]),g=0|f,f=Math.round(1e3*(f-g));b.setUTCHours(d,e,g,f),"Z"!==c&&(c=parseInt(c,10),a=parseInt(a[8],10)||0,a=-1e3*(3600*c+60*a),b=new Date(b.getTime()+a))}}else b=new Date("invalid");return b}},OpenLayers.Format.Filter.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ogc:"http://www.opengis.net/ogc",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"ogc",schemaLocation:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){var b={};return this.readers.ogc.Filter.apply(this,[a,b]),b.filter},readers:{ogc:{_expression:function(a){for(var b="",c=a.firstChild;c;c=c.nextSibling)switch(c.nodeType){case 1:a=this.readNode(c),a.property?b+="${"+a.property+"}":void 0!==a.value&&(b+=a.value);break;case 3:case 4:b+=c.nodeValue}return b},Filter:function(a,b){var c={fids:[],filters:[]};this.readChildNodes(a,c),0<c.fids.length?b.filter=new OpenLayers.Filter.FeatureId({fids:c.fids}):0<c.filters.length&&(b.filter=c.filters[0])},FeatureId:function(a,b){var c=a.getAttribute("fid");c&&b.fids.push(c)},And:function(a,b){var c=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND});this.readChildNodes(a,c),b.filters.push(c)},Or:function(a,b){var c=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.OR});this.readChildNodes(a,c),b.filters.push(c)},Not:function(a,b){var c=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.NOT});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsLessThan:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsGreaterThan:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsLessThanOrEqualTo:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsGreaterThanOrEqualTo:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsBetween:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.BETWEEN});this.readChildNodes(a,c),b.filters.push(c)},Literal:function(a,b){b.value=OpenLayers.String.numericIf(this.getChildValue(a),!0)},PropertyName:function(a,b){b.property=this.getChildValue(a)},LowerBoundary:function(a,b){b.lowerBoundary=OpenLayers.String.numericIf(this.readers.ogc._expression.call(this,a),!0)},UpperBoundary:function(a,b){b.upperBoundary=OpenLayers.String.numericIf(this.readers.ogc._expression.call(this,a),!0)},Intersects:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.INTERSECTS)},Within:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.WITHIN)},Contains:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.CONTAINS)},DWithin:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.DWITHIN)},Distance:function(a,b){b.distance=parseInt(this.getChildValue(a)),b.distanceUnits=a.getAttribute("units")},Function:function(){},PropertyIsNull:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.IS_NULL});this.readChildNodes(a,c),b.filters.push(c)}}},readSpatial:function(a,b,c){c=new OpenLayers.Filter.Spatial({type:c}),this.readChildNodes(a,c),c.value=c.components[0],delete c.components,b.filters.push(c)},encodeLiteral:function(a){return a instanceof Date&&(a=OpenLayers.Date.toISOString(a)),a},writeOgcExpression:function(a,b){return a instanceof OpenLayers.Filter.Function?this.writeNode("Function",a,b):this.writeNode("Literal",a,b),b},write:function(a){return this.writers.ogc.Filter.apply(this,[a])},writers:{ogc:{Filter:function(a){var b=this.createElementNSPlus("ogc:Filter");return this.writeNode(this.getFilterType(a),a,b),b},_featureIds:function(a){for(var b=this.createDocumentFragment(),c=0,d=a.fids.length;d>c;++c)this.writeNode("ogc:FeatureId",a.fids[c],b);return b},FeatureId:function(a){return this.createElementNSPlus("ogc:FeatureId",{attributes:{fid:a}})},And:function(a){for(var b,c=this.createElementNSPlus("ogc:And"),d=0,e=a.filters.length;e>d;++d)b=a.filters[d],this.writeNode(this.getFilterType(b),b,c);return c},Or:function(a){for(var b,c=this.createElementNSPlus("ogc:Or"),d=0,e=a.filters.length;e>d;++d)b=a.filters[d],this.writeNode(this.getFilterType(b),b,c);return c},Not:function(a){var b=this.createElementNSPlus("ogc:Not");return a=a.filters[0],this.writeNode(this.getFilterType(a),a,b),b},PropertyIsLessThan:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLessThan");return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsGreaterThan:function(a){var b=this.createElementNSPlus("ogc:PropertyIsGreaterThan");return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsLessThanOrEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLessThanOrEqualTo");return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsGreaterThanOrEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsGreaterThanOrEqualTo");return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsBetween:function(a){var b=this.createElementNSPlus("ogc:PropertyIsBetween");return this.writeNode("PropertyName",a,b),this.writeNode("LowerBoundary",a,b),this.writeNode("UpperBoundary",a,b),b},PropertyName:function(a){return this.createElementNSPlus("ogc:PropertyName",{value:a.property})},Literal:function(a){return this.createElementNSPlus("ogc:Literal",{value:(this.encodeLiteral||OpenLayers.Format.Filter.v1.prototype.encodeLiteral)(a)})},LowerBoundary:function(a){var b=this.createElementNSPlus("ogc:LowerBoundary");return this.writeOgcExpression(a.lowerBoundary,b),b},UpperBoundary:function(a){var b=this.createElementNSPlus("ogc:UpperBoundary");return this.writeNode("Literal",a.upperBoundary,b),b},INTERSECTS:function(a){return this.writeSpatial(a,"Intersects")},WITHIN:function(a){return this.writeSpatial(a,"Within")},CONTAINS:function(a){return this.writeSpatial(a,"Contains")},DWITHIN:function(a){var b=this.writeSpatial(a,"DWithin");return this.writeNode("Distance",a,b),b},Distance:function(a){return this.createElementNSPlus("ogc:Distance",{attributes:{units:a.distanceUnits},value:a.distance})},Function:function(a){var b=this.createElementNSPlus("ogc:Function",{attributes:{name:a.name}});a=a.params;for(var c=0,d=a.length;d>c;c++)this.writeOgcExpression(a[c],b);return b},PropertyIsNull:function(a){var b=this.createElementNSPlus("ogc:PropertyIsNull");return this.writeNode("PropertyName",a,b),b}}},getFilterType:function(a){var b=this.filterMap[a.type];if(!b)throw"Filter writing not supported for rule type: "+a.type;return b},filterMap:{"&&":"And","||":"Or","!":"Not","==":"PropertyIsEqualTo","!=":"PropertyIsNotEqualTo","<":"PropertyIsLessThan",">":"PropertyIsGreaterThan","<=":"PropertyIsLessThanOrEqualTo",">=":"PropertyIsGreaterThanOrEqualTo","..":"PropertyIsBetween","~":"PropertyIsLike",NULL:"PropertyIsNull",BBOX:"BBOX",DWITHIN:"DWITHIN",WITHIN:"WITHIN",CONTAINS:"CONTAINS",INTERSECTS:"INTERSECTS",FID:"_featureIds"},CLASS_NAME:"OpenLayers.Format.Filter.v1"}),OpenLayers.Geometry=OpenLayers.Class({id:null,parent:null,bounds:null,initialize:function(){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){this.bounds=this.id=null},clone:function(){return new OpenLayers.Geometry},setBounds:function(a){a&&(this.bounds=a.clone())},clearBounds:function(){this.bounds=null,this.parent&&this.parent.clearBounds()},extendBounds:function(a){this.getBounds()?this.bounds.extend(a):this.setBounds(a)},getBounds:function(){return null==this.bounds&&this.calculateBounds(),this.bounds},calculateBounds:function(){},distanceTo:function(){},getVertices:function(){},atPoint:function(a,b,c){var d=!1;return null!=this.getBounds()&&null!=a&&(b=null!=b?b:0,c=null!=c?c:0,d=new OpenLayers.Bounds(this.bounds.left-b,this.bounds.bottom-c,this.bounds.right+b,this.bounds.top+c).containsLonLat(a)),d},getLength:function(){return 0},getArea:function(){return 0},getCentroid:function(){return null},toString:function(){return OpenLayers.Format&&OpenLayers.Format.WKT?OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this)):Object.prototype.toString.call(this)},CLASS_NAME:"OpenLayers.Geometry"}),OpenLayers.Geometry.fromWKT=function(a){var b;if(OpenLayers.Format&&OpenLayers.Format.WKT){var c=OpenLayers.Geometry.fromWKT.format;if(c||(c=new OpenLayers.Format.WKT,OpenLayers.Geometry.fromWKT.format=c),a=c.read(a),a instanceof OpenLayers.Feature.Vector)b=a.geometry;else if(OpenLayers.Util.isArray(a)){b=a.length;for(var c=Array(b),d=0;b>d;++d)c[d]=a[d].geometry;b=new OpenLayers.Geometry.Collection(c)}}return b},OpenLayers.Geometry.segmentsIntersect=function(a,b,c){var d=c&&c.point;c=c&&c.tolerance;var e=!1,f=a.x1-b.x1,g=a.y1-b.y1,h=a.x2-a.x1,i=a.y2-a.y1,j=b.y2-b.y1,k=b.x2-b.x1,l=j*h-k*i,j=k*g-j*f,g=h*g-i*f;if(0==l?0==j&&0==g&&(e=!0):(f=j/l,l=g/l,f>=0&&1>=f&&l>=0&&1>=l&&(d?(h=a.x1+f*h,l=a.y1+f*i,e=new OpenLayers.Geometry.Point(h,l)):e=!0)),c)if(e){if(d)a:for(a=[a,b],b=0;2>b;++b)for(f=a[b],i=1;3>i;++i)if(h=f["x"+i],l=f["y"+i],d=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(l-e.y,2)),c>d){e.x=h,e.y=l;
break a}}else a:for(a=[a,b],b=0;2>b;++b)for(h=a[b],l=a[(b+1)%2],i=1;3>i;++i)if(f={x:h["x"+i],y:h["y"+i]},g=OpenLayers.Geometry.distanceToSegment(f,l),g.distance<c){e=d?new OpenLayers.Geometry.Point(f.x,f.y):!0;break a}return e},OpenLayers.Geometry.distanceToSegment=function(a,b){var c=OpenLayers.Geometry.distanceSquaredToSegment(a,b);return c.distance=Math.sqrt(c.distance),c},OpenLayers.Geometry.distanceSquaredToSegment=function(a,b){var c=a.x,d=a.y,e=b.x1,f=b.y1,g=b.x2,h=b.y2,i=g-e,j=h-f,k=(i*(c-e)+j*(d-f))/(Math.pow(i,2)+Math.pow(j,2));return 0>=k||(k>=1?(e=g,f=h):(e+=k*i,f+=k*j)),{distance:Math.pow(e-c,2)+Math.pow(f-d,2),x:e,y:f,along:k}},OpenLayers.Geometry.Point=OpenLayers.Class(OpenLayers.Geometry,{x:null,y:null,initialize:function(a,b){OpenLayers.Geometry.prototype.initialize.apply(this,arguments),this.x=parseFloat(a),this.y=parseFloat(b)},clone:function(a){return null==a&&(a=new OpenLayers.Geometry.Point(this.x,this.y)),OpenLayers.Util.applyDefaults(a,this),a},calculateBounds:function(){this.bounds=new OpenLayers.Bounds(this.x,this.y,this.x,this.y)},distanceTo:function(a,b){var c,d,e,f,g,h=!(b&&!1===b.edge)&&b&&b.details;return a instanceof OpenLayers.Geometry.Point?(d=this.x,e=this.y,f=a.x,g=a.y,c=Math.sqrt(Math.pow(d-f,2)+Math.pow(e-g,2)),c=h?{x0:d,y0:e,x1:f,y1:g,distance:c}:c):(c=a.distanceTo(this,b),h&&(c={x0:c.x1,y0:c.y1,x1:c.x0,y1:c.y0,distance:c.distance})),c},equals:function(a){var b=!1;return null!=a&&(b=this.x==a.x&&this.y==a.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)),b},toShortString:function(){return this.x+", "+this.y},move:function(a,b){this.x+=a,this.y+=b,this.clearBounds()},rotate:function(a,b){a*=Math.PI/180;var c=this.distanceTo(b),d=a+Math.atan2(this.y-b.y,this.x-b.x);this.x=b.x+c*Math.cos(d),this.y=b.y+c*Math.sin(d),this.clearBounds()},getCentroid:function(){return new OpenLayers.Geometry.Point(this.x,this.y)},resize:function(a,b,c){return this.x=b.x+a*(void 0==c?1:c)*(this.x-b.x),this.y=b.y+a*(this.y-b.y),this.clearBounds(),this},intersects:function(a){var b=!1;return b="OpenLayers.Geometry.Point"==a.CLASS_NAME?this.equals(a):a.intersects(this)},transform:function(a,b){return a&&b&&(OpenLayers.Projection.transform(this,a,b),this.bounds=null),this},getVertices:function(){return[this]},CLASS_NAME:"OpenLayers.Geometry.Point"}),OpenLayers.Geometry.Collection=OpenLayers.Class(OpenLayers.Geometry,{components:null,componentTypes:null,initialize:function(a){OpenLayers.Geometry.prototype.initialize.apply(this,arguments),this.components=[],null!=a&&this.addComponents(a)},destroy:function(){this.components.length=0,this.components=null,OpenLayers.Geometry.prototype.destroy.apply(this,arguments)},clone:function(){for(var a=eval("new "+this.CLASS_NAME+"()"),b=0,c=this.components.length;c>b;b++)a.addComponent(this.components[b].clone());return OpenLayers.Util.applyDefaults(a,this),a},getComponentsString:function(){for(var a=[],b=0,c=this.components.length;c>b;b++)a.push(this.components[b].toShortString());return a.join(",")},calculateBounds:function(){this.bounds=null;var a=new OpenLayers.Bounds,b=this.components;if(b)for(var c=0,d=b.length;d>c;c++)a.extend(b[c].getBounds());null!=a.left&&null!=a.bottom&&null!=a.right&&null!=a.top&&this.setBounds(a)},addComponents:function(a){OpenLayers.Util.isArray(a)||(a=[a]);for(var b=0,c=a.length;c>b;b++)this.addComponent(a[b])},addComponent:function(a,b){var c=!1;if(a&&(null==this.componentTypes||-1<OpenLayers.Util.indexOf(this.componentTypes,a.CLASS_NAME))){if(null!=b&&b<this.components.length){var c=this.components.slice(0,b),d=this.components.slice(b,this.components.length);c.push(a),this.components=c.concat(d)}else this.components.push(a);a.parent=this,this.clearBounds(),c=!0}return c},removeComponents:function(a){var b=!1;OpenLayers.Util.isArray(a)||(a=[a]);for(var c=a.length-1;c>=0;--c)b=this.removeComponent(a[c])||b;return b},removeComponent:function(a){return OpenLayers.Util.removeItem(this.components,a),this.clearBounds(),!0},getLength:function(){for(var a=0,b=0,c=this.components.length;c>b;b++)a+=this.components[b].getLength();return a},getArea:function(){for(var a=0,b=0,c=this.components.length;c>b;b++)a+=this.components[b].getArea();return a},getGeodesicArea:function(a){for(var b=0,c=0,d=this.components.length;d>c;c++)b+=this.components[c].getGeodesicArea(a);return b},getCentroid:function(a){if(!a)return this.components.length&&this.components[0].getCentroid();if(a=this.components.length,!a)return!1;for(var b,c=[],d=[],e=0,f=Number.MAX_VALUE,g=0;a>g;++g){b=this.components[g];var h=b.getArea();b=b.getCentroid(!0),isNaN(h)||isNaN(b.x)||isNaN(b.y)||(c.push(h),e+=h,f=f>h&&h>0?h:f,d.push(b))}if(a=c.length,0===e){for(g=0;a>g;++g)c[g]=1;e=c.length}else{for(g=0;a>g;++g)c[g]/=f;e/=f}for(var i=f=0,g=0;a>g;++g)b=d[g],h=c[g],f+=b.x*h,i+=b.y*h;return new OpenLayers.Geometry.Point(f/e,i/e)},getGeodesicLength:function(a){for(var b=0,c=0,d=this.components.length;d>c;c++)b+=this.components[c].getGeodesicLength(a);return b},move:function(a,b){for(var c=0,d=this.components.length;d>c;c++)this.components[c].move(a,b)},rotate:function(a,b){for(var c=0,d=this.components.length;d>c;++c)this.components[c].rotate(a,b)},resize:function(a,b,c){for(var d=0;d<this.components.length;++d)this.components[d].resize(a,b,c);return this},distanceTo:function(a,b){for(var c,d,e,f=!(b&&!1===b.edge)&&b&&b.details,g=Number.POSITIVE_INFINITY,h=0,i=this.components.length;i>h&&(c=this.components[h].distanceTo(a,b),e=f?c.distance:c,!(g>e&&(g=e,d=c,0==g)));++h);return d},equals:function(a){var b=!0;if(a&&a.CLASS_NAME&&this.CLASS_NAME==a.CLASS_NAME)if(OpenLayers.Util.isArray(a.components)&&a.components.length==this.components.length){for(var c=0,d=this.components.length;d>c;++c)if(!this.components[c].equals(a.components[c])){b=!1;break}}else b=!1;else b=!1;return b},transform:function(a,b){if(a&&b){for(var c=0,d=this.components.length;d>c;c++)this.components[c].transform(a,b);this.bounds=null}return this},intersects:function(a){for(var b=!1,c=0,d=this.components.length;d>c&&!(b=a.intersects(this.components[c]));++c);return b},getVertices:function(a){for(var b=[],c=0,d=this.components.length;d>c;++c)Array.prototype.push.apply(b,this.components[c].getVertices(a));return b},CLASS_NAME:"OpenLayers.Geometry.Collection"}),OpenLayers.Geometry.MultiPoint=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.Point"],addPoint:function(a,b){this.addComponent(a,b)},removePoint:function(a){this.removeComponent(a)},CLASS_NAME:"OpenLayers.Geometry.MultiPoint"}),OpenLayers.Geometry.Curve=OpenLayers.Class(OpenLayers.Geometry.MultiPoint,{componentTypes:["OpenLayers.Geometry.Point"],getLength:function(){var a=0;if(this.components&&1<this.components.length)for(var b=1,c=this.components.length;c>b;b++)a+=this.components[b-1].distanceTo(this.components[b]);return a},getGeodesicLength:function(a){var b=this;if(a){var c=new OpenLayers.Projection("EPSG:4326");c.equals(a)||(b=this.clone().transform(a,c))}if(a=0,b.components&&1<b.components.length)for(var d,e=1,f=b.components.length;f>e;e++)c=b.components[e-1],d=b.components[e],a+=OpenLayers.Util.distVincenty({lon:c.x,lat:c.y},{lon:d.x,lat:d.y});return 1e3*a},CLASS_NAME:"OpenLayers.Geometry.Curve"}),OpenLayers.Geometry.LineString=OpenLayers.Class(OpenLayers.Geometry.Curve,{removeComponent:function(){var a=this.components&&2<this.components.length;return a&&OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,arguments),a},intersects:function(a){var b=!1,c=a.CLASS_NAME;if("OpenLayers.Geometry.LineString"==c||"OpenLayers.Geometry.LinearRing"==c||"OpenLayers.Geometry.Point"==c){var d=this.getSortedSegments();a="OpenLayers.Geometry.Point"==c?[{x1:a.x,y1:a.y,x2:a.x,y2:a.y}]:a.getSortedSegments();var e,f,g,h,i,j,k,l=0,m=d.length;a:for(;m>l;++l){c=d[l],e=c.x1,f=c.x2,g=c.y1,h=c.y2;for(var n=0,o=a.length;o>n&&(i=a[n],!(i.x1>f));++n)if(!(i.x2<e||(j=i.y1,k=i.y2,Math.min(j,k)>Math.max(g,h)||Math.max(j,k)<Math.min(g,h)||!OpenLayers.Geometry.segmentsIntersect(c,i)))){b=!0;break a}}}else b=a.intersects(this);return b},getSortedSegments:function(){for(var a,b,c=this.components.length-1,d=Array(c),e=0;c>e;++e)a=this.components[e],b=this.components[e+1],d[e]=a.x<b.x?{x1:a.x,y1:a.y,x2:b.x,y2:b.y}:{x1:b.x,y1:b.y,x2:a.x,y2:a.y};return d.sort(function(a,b){return a.x1-b.x1})},splitWithSegment:function(a,b){for(var c,d,e,f=!(b&&!1===b.edge),g=b&&b.tolerance,h=[],i=this.getVertices(),j=[],k=[],l=!1,m={point:!0,tolerance:g},n=null,o=0,p=i.length-2;p>=o;++o)g=i[o],j.push(g.clone()),c=i[o+1],d={x1:g.x,y1:g.y,x2:c.x,y2:c.y},d=OpenLayers.Geometry.segmentsIntersect(a,d,m),d instanceof OpenLayers.Geometry.Point&&((e=d.x===a.x1&&d.y===a.y1||d.x===a.x2&&d.y===a.y2||d.equals(g)||d.equals(c)?!0:!1)||f)&&(d.equals(k[k.length-1])||k.push(d.clone()),0===o&&d.equals(g)||d.equals(c)||(l=!0,d.equals(g)||j.push(d),h.push(new OpenLayers.Geometry.LineString(j)),j=[d.clone()]));if(l&&(j.push(c.clone()),h.push(new OpenLayers.Geometry.LineString(j))),0<k.length)var q=a.x1<a.x2?1:-1,r=a.y1<a.y2?1:-1,n={lines:h,points:k.sort(function(a,b){return q*a.x-q*b.x||r*a.y-r*b.y})};return n},split:function(a,b){var c,d,e,f,g=null,h=b&&b.mutual;if(a instanceof OpenLayers.Geometry.LineString){var i,j,k,l,m,n=this.getVertices(),o=[];e=[];for(var p=0,q=n.length-2;q>=p;++p){i=n[p],j=n[p+1],k={x1:i.x,y1:i.y,x2:j.x,y2:j.y},f=f||[a],h&&o.push(i.clone());for(var r=0;r<f.length;++r)if((l=f[r].splitWithSegment(k,b))&&(m=l.lines,0<m.length&&(m.unshift(r,1),Array.prototype.splice.apply(f,m),r+=m.length-2),h))for(var s=0,t=l.points.length;t>s;++s)m=l.points[s],m.equals(i)||(o.push(m),e.push(new OpenLayers.Geometry.LineString(o)),o=m.equals(j)?[]:[m.clone()])}h&&0<e.length&&0<o.length&&(o.push(j.clone()),e.push(new OpenLayers.Geometry.LineString(o)))}else g=a.splitWith(this,b);return f&&1<f.length?d=!0:f=[],e&&1<e.length?c=!0:e=[],(d||c)&&(g=h?[e,f]:f),g},splitWith:function(a,b){return a.split(this,b)},getVertices:function(a){return!0===a?[this.components[0],this.components[this.components.length-1]]:!1===a?this.components.slice(1,this.components.length-1):this.components.slice()},distanceTo:function(a,b){var c,d=!(b&&!1===b.edge)&&b&&b.details,e={},f=Number.POSITIVE_INFINITY;if(a instanceof OpenLayers.Geometry.Point){for(var g,h=this.getSortedSegments(),i=a.x,j=a.y,k=0,l=h.length;l>k;++k)if(g=h[k],c=OpenLayers.Geometry.distanceToSegment(a,g),c.distance<f){if(f=c.distance,e=c,0===f)break}else if(g.x2>i&&(j>g.y1&&j<g.y2||j<g.y1&&j>g.y2))break;e=d?{distance:e.distance,x0:e.x,y0:e.y,x1:i,y1:j}:e.distance}else if(a instanceof OpenLayers.Geometry.LineString){var m,n,h=this.getSortedSegments(),i=a.getSortedSegments(),o=i.length,p={point:!0},k=0,l=h.length;a:for(;l>k;++k){j=h[k],g=j.x1,n=j.y1;for(var q=0;o>q;++q){if(c=i[q],m=OpenLayers.Geometry.segmentsIntersect(j,c,p)){f=0,e={distance:0,x0:m.x,y0:m.y,x1:m.x,y1:m.y};break a}c=OpenLayers.Geometry.distanceToSegment({x:g,y:n},c),c.distance<f&&(f=c.distance,e={distance:f,x0:g,y0:n,x1:c.x,y1:c.y})}}d||(e=e.distance),0!==f&&j&&(c=a.distanceTo(new OpenLayers.Geometry.Point(j.x2,j.y2),b),k=d?c.distance:c,f>k&&(e=d?{distance:f,x0:c.x1,y0:c.y1,x1:c.x0,y1:c.y0}:k))}else e=a.distanceTo(this,b),d&&(e={distance:e.distance,x0:e.x1,y0:e.y1,x1:e.x0,y1:e.y0});return e},simplify:function(a){if(this&&null!==this){var b=this.getVertices();if(3>b.length)return this;var c=function(a,b,d,f){for(var g,h=0,i=0,j=b;d>j;j++){g=a[b];var k=a[d],l=a[j],l=Math.abs(.5*(g.x*k.y+k.x*l.y+l.x*g.y-k.x*g.y-l.x*k.y-g.x*l.y));g=Math.sqrt(Math.pow(g.x-k.x,2)+Math.pow(g.y-k.y,2)),g=2*(l/g),g>h&&(h=g,i=j)}h>f&&i!=b&&(e.push(i),c(a,b,i,f),c(a,i,d,f))},d=b.length-1,e=[];for(e.push(0),e.push(d);b[0].equals(b[d]);)d--,e.push(d);for(c(b,0,d,a),a=[],e.sort(function(a,b){return a-b}),d=0;d<e.length;d++)a.push(b[e[d]]);return new OpenLayers.Geometry.LineString(a)}return this},CLASS_NAME:"OpenLayers.Geometry.LineString"}),OpenLayers.Geometry.MultiLineString=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.LineString"],split:function(a,b){for(var c,d,e,f,g=null,h=b&&b.mutual,i=[],j=[a],k=0,l=this.components.length;l>k;++k){d=this.components[k],e=!1;for(var m=0;m<j.length;++m)if(c=d.split(j[m],b)){if(h){e=c[0];for(var n=0,o=e.length;o>n;++n)0===n&&i.length?i[i.length-1].addComponent(e[n]):i.push(new OpenLayers.Geometry.MultiLineString([e[n]]));e=!0,c=c[1]}if(c.length){c.unshift(m,1),Array.prototype.splice.apply(j,c);break}}e||(i.length?i[i.length-1].addComponent(d.clone()):i=[new OpenLayers.Geometry.MultiLineString(d.clone())])}return i&&1<i.length?e=!0:i=[],j&&1<j.length?f=!0:j=[],(e||f)&&(g=h?[i,j]:j),g},splitWith:function(a,b){var c,d,e,f,g,h,i=null,j=b&&b.mutual;if(a instanceof OpenLayers.Geometry.LineString){h=[],g=[a];for(var k=0,l=this.components.length;l>k;++k){e=!1,d=this.components[k];for(var m=0;m<g.length;++m)if(c=g[m].split(d,b)){j&&(e=c[0],e.length&&(e.unshift(m,1),Array.prototype.splice.apply(g,e),m+=e.length-2),c=c[1],0===c.length&&(c=[d.clone()])),e=0;for(var n=c.length;n>e;++e)0===e&&h.length?h[h.length-1].addComponent(c[e]):h.push(new OpenLayers.Geometry.MultiLineString([c[e]]));e=!0}e||(h.length?h[h.length-1].addComponent(d.clone()):h=[new OpenLayers.Geometry.MultiLineString([d.clone()])])}}else i=a.split(this);return g&&1<g.length?f=!0:g=[],h&&1<h.length?e=!0:h=[],(f||e)&&(i=j?[g,h]:h),i},CLASS_NAME:"OpenLayers.Geometry.MultiLineString"}),OpenLayers.Geometry.LinearRing=OpenLayers.Class(OpenLayers.Geometry.LineString,{componentTypes:["OpenLayers.Geometry.Point"],addComponent:function(a,b){var c=!1,d=this.components.pop();return null==b&&a.equals(d)||(c=OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,arguments)),OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,[this.components[0]]),c},removeComponent:function(){var a=this.components&&3<this.components.length;return a&&(this.components.pop(),OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,arguments),OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,[this.components[0]])),a},move:function(a,b){for(var c=0,d=this.components.length;d-1>c;c++)this.components[c].move(a,b)},rotate:function(a,b){for(var c=0,d=this.components.length;d-1>c;++c)this.components[c].rotate(a,b)},resize:function(a,b,c){for(var d=0,e=this.components.length;e-1>d;++d)this.components[d].resize(a,b,c);return this},transform:function(a,b){if(a&&b){for(var c=0,d=this.components.length;d-1>c;c++)this.components[c].transform(a,b);this.bounds=null}return this},getCentroid:function(){if(this.components){var a=this.components.length;if(a>0&&2>=a)return this.components[0].clone();if(a>2){var b=0,c=0,d=this.components[0].x,e=this.components[0].y,f=-1*this.getArea();if(0!=f){for(var g=0;a-1>g;g++)var h=this.components[g],i=this.components[g+1],b=b+(h.x+i.x-2*d)*((h.x-d)*(i.y-e)-(i.x-d)*(h.y-e)),c=c+(h.y+i.y-2*e)*((h.x-d)*(i.y-e)-(i.x-d)*(h.y-e));b=d+b/(6*f),a=e+c/(6*f)}else{for(g=0;a-1>g;g++)b+=this.components[g].x,c+=this.components[g].y;b/=a-1,a=c/(a-1)}return new OpenLayers.Geometry.Point(b,a)}return null}},getArea:function(){var a=0;if(this.components&&2<this.components.length){for(var b=a=0,c=this.components.length;c-1>b;b++)var d=this.components[b],e=this.components[b+1],a=a+(d.x+e.x)*(e.y-d.y);a=-a/2}return a},getGeodesicArea:function(a){var b=this;if(a){var c=new OpenLayers.Projection("EPSG:4326");c.equals(a)||(b=this.clone().transform(a,c))}if(a=0,c=b.components&&b.components.length,c>2){for(var d,e,f=0;c-1>f;f++)d=b.components[f],e=b.components[f+1],a+=OpenLayers.Util.rad(e.x-d.x)*(2+Math.sin(OpenLayers.Util.rad(d.y))+Math.sin(OpenLayers.Util.rad(e.y)));a=40680631590769*a/2}return a},containsPoint:function(a){var b=OpenLayers.Number.limitSigDigs,c=b(a.x,14);a=b(a.y,14);for(var d,e,f,g,h,i=this.components.length-1,j=0,k=0;i>k;++k)if(d=this.components[k],f=b(d.x,14),d=b(d.y,14),e=this.components[k+1],g=b(e.x,14),e=b(e.y,14),d==e){if(a==d&&(g>=f&&c>=f&&g>=c||f>=g&&f>=c&&c>=g)){j=-1;break}}else{if(h=b((a-e)*((g-f)/(e-d))+g,14),h==c&&(e>d&&a>=d&&e>=a||d>e&&d>=a&&a>=e)){j=-1;break}c>=h||f!=g&&(h<Math.min(f,g)||h>Math.max(f,g))||(e>d&&a>=d&&e>a||d>e&&d>a&&a>=e)&&++j}return-1==j?1:!!(1&j)},intersects:function(a){var b=!1;if("OpenLayers.Geometry.Point"==a.CLASS_NAME)b=this.containsPoint(a);else if("OpenLayers.Geometry.LineString"==a.CLASS_NAME)b=a.intersects(this);else if("OpenLayers.Geometry.LinearRing"==a.CLASS_NAME)b=OpenLayers.Geometry.LineString.prototype.intersects.apply(this,[a]);else for(var c=0,d=a.components.length;d>c&&!(b=a.components[c].intersects(this));++c);return b},getVertices:function(a){return!0===a?[]:this.components.slice(0,this.components.length-1)},CLASS_NAME:"OpenLayers.Geometry.LinearRing"}),OpenLayers.Geometry.Polygon=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.LinearRing"],getArea:function(){var a=0;if(this.components&&0<this.components.length)for(var a=a+Math.abs(this.components[0].getArea()),b=1,c=this.components.length;c>b;b++)a-=Math.abs(this.components[b].getArea());return a},getGeodesicArea:function(a){var b=0;if(this.components&&0<this.components.length)for(var b=b+Math.abs(this.components[0].getGeodesicArea(a)),c=1,d=this.components.length;d>c;c++)b-=Math.abs(this.components[c].getGeodesicArea(a));return b},containsPoint:function(a){var b=this.components.length,c=!1;if(b>0&&(c=this.components[0].containsPoint(a),1!==c&&c&&b>1))for(var d,e=1;b>e;++e)if(d=this.components[e].containsPoint(a)){c=1===d?1:!1;break}return c},intersects:function(a){var b,c,d=!1;if("OpenLayers.Geometry.Point"==a.CLASS_NAME)d=this.containsPoint(a);else if("OpenLayers.Geometry.LineString"==a.CLASS_NAME||"OpenLayers.Geometry.LinearRing"==a.CLASS_NAME){for(b=0,c=this.components.length;c>b&&!(d=a.intersects(this.components[b]));++b);if(!d)for(b=0,c=a.components.length;c>b&&!(d=this.containsPoint(a.components[b]));++b);}else for(b=0,c=a.components.length;c>b&&!(d=this.intersects(a.components[b]));++b);if(!d&&"OpenLayers.Geometry.Polygon"==a.CLASS_NAME){var e=this.components[0];for(b=0,c=e.components.length;c>b&&!(d=a.containsPoint(e.components[b]));++b);}return d},distanceTo:function(a,b){return b&&!1===b.edge&&this.intersects(a)?0:OpenLayers.Geometry.Collection.prototype.distanceTo.apply(this,[a,b])},CLASS_NAME:"OpenLayers.Geometry.Polygon"}),OpenLayers.Geometry.Polygon.createRegularPolygon=function(a,b,c,d){var e=Math.PI*(1/c-.5);d&&(e+=d/180*Math.PI);for(var f,g=[],h=0;c>h;++h)f=e+2*h*Math.PI/c,d=a.x+b*Math.cos(f),f=a.y+b*Math.sin(f),g.push(new OpenLayers.Geometry.Point(d,f));return a=new OpenLayers.Geometry.LinearRing(g),new OpenLayers.Geometry.Polygon([a])},OpenLayers.Geometry.MultiPolygon=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.Polygon"],CLASS_NAME:"OpenLayers.Geometry.MultiPolygon"}),OpenLayers.Format.GML=OpenLayers.Class(OpenLayers.Format.XML,{featureNS:"http://mapserver.gis.umn.edu/mapserver",featurePrefix:"feature",featureName:"featureMember",layerName:"features",geometryName:"geometry",collectionName:"FeatureCollection",gmlns:"http://www.opengis.net/gml",extractAttributes:!0,xy:!0,initialize:function(a){this.regExes={trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a=this.getElementsByTagNameNS(a.documentElement,this.gmlns,this.featureName);for(var b=[],c=0;c<a.length;c++){var d=this.parseFeature(a[c]);d&&b.push(d)}return b},parseFeature:function(a){for(var b,c,d,e="MultiPolygon Polygon MultiLineString LineString MultiPoint Point Envelope".split(" "),f=0;f<e.length;++f)if(b=e[f],c=this.getElementsByTagNameNS(a,this.gmlns,b),0<c.length){if(!(d=this.parseGeometry[b.toLowerCase()]))throw new TypeError("Unsupported geometry type: "+b);d=d.apply(this,[c[0]]),this.internalProjection&&this.externalProjection&&d.transform(this.externalProjection,this.internalProjection);break}var g;for(b=this.getElementsByTagNameNS(a,this.gmlns,"Box"),f=0;f<b.length;++f)e=b[f],c=this.parseGeometry.box.apply(this,[e]),e=e.parentNode,"boundedBy"===(e.localName||e.nodeName.split(":").pop())?g=c:d=c.toGeometry();var h;this.extractAttributes&&(h=this.parseAttributes(a)),h=new OpenLayers.Feature.Vector(d,h),h.bounds=g,h.gml={featureType:a.firstChild.nodeName.split(":")[1],featureNS:a.firstChild.namespaceURI,featureNSPrefix:a.firstChild.prefix},a=a.firstChild;for(var i;a&&(1!=a.nodeType||!(i=a.getAttribute("fid")||a.getAttribute("id")));)a=a.nextSibling;return h.fid=i,h},parseGeometry:{point:function(a){var b,c;return c=[],b=this.getElementsByTagNameNS(a,this.gmlns,"pos"),0<b.length&&(c=b[0].firstChild.nodeValue,c=c.replace(this.regExes.trimSpace,""),c=c.split(this.regExes.splitSpace)),0==c.length&&(b=this.getElementsByTagNameNS(a,this.gmlns,"coordinates"),0<b.length&&(c=b[0].firstChild.nodeValue,c=c.replace(this.regExes.removeSpace,""),c=c.split(","))),0==c.length&&(b=this.getElementsByTagNameNS(a,this.gmlns,"coord"),0<b.length&&(a=this.getElementsByTagNameNS(b[0],this.gmlns,"X"),b=this.getElementsByTagNameNS(b[0],this.gmlns,"Y"),0<a.length&&0<b.length&&(c=[a[0].firstChild.nodeValue,b[0].firstChild.nodeValue]))),2==c.length&&(c[2]=null),this.xy?new OpenLayers.Geometry.Point(c[0],c[1],c[2]):new OpenLayers.Geometry.Point(c[1],c[0],c[2])},multipoint:function(a){a=this.getElementsByTagNameNS(a,this.gmlns,"Point");var b=[];if(0<a.length)for(var c,d=0;d<a.length;++d)(c=this.parseGeometry.point.apply(this,[a[d]]))&&b.push(c);return new OpenLayers.Geometry.MultiPoint(b)},linestring:function(a,b){var c,d;d=[];var e=[];if(c=this.getElementsByTagNameNS(a,this.gmlns,"posList"),0<c.length){d=this.getChildValue(c[0]),d=d.replace(this.regExes.trimSpace,""),d=d.split(this.regExes.splitSpace);var f,g,h,i=parseInt(c[0].getAttribute("dimension"));for(c=0;c<d.length/i;++c)f=c*i,g=d[f],h=d[f+1],f=2==i?null:d[f+2],e.push(this.xy?new OpenLayers.Geometry.Point(g,h,f):new OpenLayers.Geometry.Point(h,g,f))}if(0==d.length&&(c=this.getElementsByTagNameNS(a,this.gmlns,"coordinates"),0<c.length))for(d=this.getChildValue(c[0]),d=d.replace(this.regExes.trimSpace,""),d=d.replace(this.regExes.trimComma,","),i=d.split(this.regExes.splitSpace),c=0;c<i.length;++c)d=i[c].split(","),2==d.length&&(d[2]=null),e.push(this.xy?new OpenLayers.Geometry.Point(d[0],d[1],d[2]):new OpenLayers.Geometry.Point(d[1],d[0],d[2]));return d=null,0!=e.length&&(d=b?new OpenLayers.Geometry.LinearRing(e):new OpenLayers.Geometry.LineString(e)),d},multilinestring:function(a){a=this.getElementsByTagNameNS(a,this.gmlns,"LineString");var b=[];if(0<a.length)for(var c,d=0;d<a.length;++d)(c=this.parseGeometry.linestring.apply(this,[a[d]]))&&b.push(c);return new OpenLayers.Geometry.MultiLineString(b)},polygon:function(a){a=this.getElementsByTagNameNS(a,this.gmlns,"LinearRing");var b=[];if(0<a.length)for(var c,d=0;d<a.length;++d)(c=this.parseGeometry.linestring.apply(this,[a[d],!0]))&&b.push(c);return new OpenLayers.Geometry.Polygon(b)},multipolygon:function(a){a=this.getElementsByTagNameNS(a,this.gmlns,"Polygon");var b=[];if(0<a.length)for(var c,d=0;d<a.length;++d)(c=this.parseGeometry.polygon.apply(this,[a[d]]))&&b.push(c);return new OpenLayers.Geometry.MultiPolygon(b)},envelope:function(a){var b,c,d=[],e=this.getElementsByTagNameNS(a,this.gmlns,"lowerCorner");if(0<e.length){b=[],0<e.length&&(b=e[0].firstChild.nodeValue,b=b.replace(this.regExes.trimSpace,""),b=b.split(this.regExes.splitSpace)),2==b.length&&(b[2]=null);var f=this.xy?new OpenLayers.Geometry.Point(b[0],b[1],b[2]):new OpenLayers.Geometry.Point(b[1],b[0],b[2])}if(a=this.getElementsByTagNameNS(a,this.gmlns,"upperCorner"),0<a.length){b=[],0<a.length&&(b=a[0].firstChild.nodeValue,b=b.replace(this.regExes.trimSpace,""),b=b.split(this.regExes.splitSpace)),2==b.length&&(b[2]=null);var g=this.xy?new OpenLayers.Geometry.Point(b[0],b[1],b[2]):new OpenLayers.Geometry.Point(b[1],b[0],b[2])}return f&&g&&(d.push(new OpenLayers.Geometry.Point(f.x,f.y)),d.push(new OpenLayers.Geometry.Point(g.x,f.y)),d.push(new OpenLayers.Geometry.Point(g.x,g.y)),d.push(new OpenLayers.Geometry.Point(f.x,g.y)),d.push(new OpenLayers.Geometry.Point(f.x,f.y)),d=new OpenLayers.Geometry.LinearRing(d),c=new OpenLayers.Geometry.Polygon([d])),c},box:function(a){var b=this.getElementsByTagNameNS(a,this.gmlns,"coordinates"),c=a=null;return 0<b.length&&(b=b[0].firstChild.nodeValue,b=b.split(" "),2==b.length&&(a=b[0].split(","),c=b[1].split(","))),null!==a&&null!==c?new OpenLayers.Bounds(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])):void 0}},parseAttributes:function(a){var b={};a=a.firstChild;for(var c,d,e;a;){if(1==a.nodeType){for(a=a.childNodes,c=0;c<a.length;++c)d=a[c],1==d.nodeType&&(e=d.childNodes,1==e.length?(e=e[0],(3==e.nodeType||4==e.nodeType)&&(d=d.prefix?d.nodeName.split(":")[1]:d.nodeName,e=e.nodeValue.replace(this.regExes.trimSpace,""),b[d]=e)):b[d.nodeName.split(":").pop()]=null);break}a=a.nextSibling}return b},write:function(a){OpenLayers.Util.isArray(a)||(a=[a]);for(var b=this.createElementNS("http://www.opengis.net/wfs","wfs:"+this.collectionName),c=0;c<a.length;c++)b.appendChild(this.createFeatureXML(a[c]));return OpenLayers.Format.XML.prototype.write.apply(this,[b])},createFeatureXML:function(a){var b=this.buildGeometryNode(a.geometry),c=this.createElementNS(this.featureNS,this.featurePrefix+":"+this.geometryName);c.appendChild(b);var b=this.createElementNS(this.gmlns,"gml:"+this.featureName),d=this.createElementNS(this.featureNS,this.featurePrefix+":"+this.layerName);d.setAttribute("fid",a.fid||a.id),d.appendChild(c);for(var e in a.attributes){var c=this.createTextNode(a.attributes[e]),f=e.substring(e.lastIndexOf(":")+1),f=this.createElementNS(this.featureNS,this.featurePrefix+":"+f);f.appendChild(c),d.appendChild(f)}return b.appendChild(d),b},buildGeometryNode:function(a){this.externalProjection&&this.internalProjection&&(a=a.clone(),a.transform(this.internalProjection,this.externalProjection));var b=a.CLASS_NAME,b=b.substring(b.lastIndexOf(".")+1);return this.buildGeometry[b.toLowerCase()].apply(this,[a])},buildGeometry:{point:function(a){var b=this.createElementNS(this.gmlns,"gml:Point");return b.appendChild(this.buildCoordinatesNode(a)),b},multipoint:function(a){var b=this.createElementNS(this.gmlns,"gml:MultiPoint");a=a.components;for(var c,d,e=0;e<a.length;e++)c=this.createElementNS(this.gmlns,"gml:pointMember"),d=this.buildGeometry.point.apply(this,[a[e]]),c.appendChild(d),b.appendChild(c);return b},linestring:function(a){var b=this.createElementNS(this.gmlns,"gml:LineString");return b.appendChild(this.buildCoordinatesNode(a)),b},multilinestring:function(a){var b=this.createElementNS(this.gmlns,"gml:MultiLineString");a=a.components;for(var c,d,e=0;e<a.length;++e)c=this.createElementNS(this.gmlns,"gml:lineStringMember"),d=this.buildGeometry.linestring.apply(this,[a[e]]),c.appendChild(d),b.appendChild(c);return b},linearring:function(a){var b=this.createElementNS(this.gmlns,"gml:LinearRing");return b.appendChild(this.buildCoordinatesNode(a)),b},polygon:function(a){var b=this.createElementNS(this.gmlns,"gml:Polygon");a=a.components;for(var c,d,e=0;e<a.length;++e)c=0==e?"outerBoundaryIs":"innerBoundaryIs",c=this.createElementNS(this.gmlns,"gml:"+c),d=this.buildGeometry.linearring.apply(this,[a[e]]),c.appendChild(d),b.appendChild(c);return b},multipolygon:function(a){var b=this.createElementNS(this.gmlns,"gml:MultiPolygon");a=a.components;for(var c,d,e=0;e<a.length;++e)c=this.createElementNS(this.gmlns,"gml:polygonMember"),d=this.buildGeometry.polygon.apply(this,[a[e]]),c.appendChild(d),b.appendChild(c);return b},bounds:function(a){var b=this.createElementNS(this.gmlns,"gml:Box");return b.appendChild(this.buildCoordinatesNode(a)),b}},buildCoordinatesNode:function(a){var b=this.createElementNS(this.gmlns,"gml:coordinates");b.setAttribute("decimal","."),b.setAttribute("cs",","),b.setAttribute("ts"," ");var c=[];if(a instanceof OpenLayers.Bounds)c.push(a.left+","+a.bottom),c.push(a.right+","+a.top);else{a=a.components?a.components:[a];for(var d=0;d<a.length;d++)c.push(a[d].x+","+a[d].y)}return c=this.createTextNode(c.join(" ")),b.appendChild(c),b},CLASS_NAME:"OpenLayers.Format.GML"}),OpenLayers.Format.GML||(OpenLayers.Format.GML={}),OpenLayers.Format.GML.Base=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs"},defaultPrefix:"gml",schemaLocation:null,featureType:null,featureNS:null,geometryName:"geometry",extractAttributes:!0,srsName:null,xy:!0,geometryTypes:null,singleFeatureType:null,regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g,featureMember:/^(.*:)?featureMembers?$/},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]),this.setGeometryTypes(),a&&a.featureNS&&this.setNamespace("feature",a.featureNS),this.singleFeatureType=!a||"string"==typeof a.featureType},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b=[];if(this.readNode(a,{features:b},!0),0==b.length){var c=this.getElementsByTagNameNS(a,this.namespaces.gml,"featureMember");if(c.length){a=0;for(var d=c.length;d>a;++a)this.readNode(c[a],{features:b},!0)}else c=this.getElementsByTagNameNS(a,this.namespaces.gml,"featureMembers"),c.length&&this.readNode(c[0],{features:b},!0)}return b},readNode:function(a,b,c){return!0===c&&!0===this.autoConfig&&(this.featureType=null,delete this.namespaceAlias[this.featureNS],delete this.namespaces.feature,this.featureNS=null),this.featureNS||a.prefix in this.namespaces||a.parentNode.namespaceURI!=this.namespaces.gml||!this.regExes.featureMember.test(a.parentNode.nodeName)||(this.featureType=a.nodeName.split(":").pop(),this.setNamespace("feature",a.namespaceURI),this.featureNS=a.namespaceURI,this.autoConfig=!0),OpenLayers.Format.XML.prototype.readNode.apply(this,[a,b])},readers:{gml:{_inherit:function(){},featureMember:function(a,b){this.readChildNodes(a,b)},featureMembers:function(a,b){this.readChildNodes(a,b)},name:function(a,b){b.name=this.getChildValue(a)},boundedBy:function(a,b){var c={};this.readChildNodes(a,c),c.components&&0<c.components.length&&(b.bounds=c.components[0])},Point:function(a,b){var c={points:[]};this.readChildNodes(a,c),b.components||(b.components=[]),b.components.push(c.points[0])},coordinates:function(a,b){for(var c,d=this.getChildValue(a).replace(this.regExes.trimSpace,""),d=d.replace(this.regExes.trimComma,","),d=d.split(this.regExes.splitSpace),e=d.length,f=Array(e),g=0;e>g;++g)c=d[g].split(","),f[g]=this.xy?new OpenLayers.Geometry.Point(c[0],c[1],c[2]):new OpenLayers.Geometry.Point(c[1],c[0],c[2]);b.points=f},coord:function(a,b){var c={};this.readChildNodes(a,c),b.points||(b.points=[]),b.points.push(new OpenLayers.Geometry.Point(c.x,c.y,c.z))},X:function(a,b){b.x=this.getChildValue(a)},Y:function(a,b){b.y=this.getChildValue(a)},Z:function(a,b){b.z=this.getChildValue(a)},MultiPoint:function(a,b){var c={components:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),b.components=[new OpenLayers.Geometry.MultiPoint(c.components)]},pointMember:function(a,b){this.readChildNodes(a,b)},LineString:function(a,b){var c={};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),b.components||(b.components=[]),b.components.push(new OpenLayers.Geometry.LineString(c.points))},MultiLineString:function(a,b){var c={components:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),b.components=[new OpenLayers.Geometry.MultiLineString(c.components)]},lineStringMember:function(a,b){this.readChildNodes(a,b)},Polygon:function(a,b){var c={outer:null,inner:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),c.inner.unshift(c.outer),b.components||(b.components=[]),b.components.push(new OpenLayers.Geometry.Polygon(c.inner))
},LinearRing:function(a,b){var c={};this.readers.gml._inherit.apply(this,[a,c]),this.readChildNodes(a,c),b.components=[new OpenLayers.Geometry.LinearRing(c.points)]},MultiPolygon:function(a,b){var c={components:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),b.components=[new OpenLayers.Geometry.MultiPolygon(c.components)]},polygonMember:function(a,b){this.readChildNodes(a,b)},GeometryCollection:function(a,b){var c={components:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),b.components=[new OpenLayers.Geometry.Collection(c.components)]},geometryMember:function(a,b){this.readChildNodes(a,b)}},feature:{"*":function(a,b){var c,d=a.localName||a.nodeName.split(":").pop();b.features?this.singleFeatureType||-1===OpenLayers.Util.indexOf(this.featureType,d)?d===this.featureType&&(c="_typeName"):c="_typeName":0==a.childNodes.length||1==a.childNodes.length&&3==a.firstChild.nodeType?this.extractAttributes&&(c="_attribute"):c="_geometry",c&&this.readers.feature[c].apply(this,[a,b])},_typeName:function(a,b){var c={components:[],attributes:{}};this.readChildNodes(a,c),c.name&&(c.attributes.name=c.name);var d=new OpenLayers.Feature.Vector(c.components[0],c.attributes);this.singleFeatureType||(d.type=a.nodeName.split(":").pop(),d.namespace=a.namespaceURI);var e=a.getAttribute("fid")||this.getAttributeNS(a,this.namespaces.gml,"id");e&&(d.fid=e),this.internalProjection&&this.externalProjection&&d.geometry&&d.geometry.transform(this.externalProjection,this.internalProjection),c.bounds&&(d.bounds=c.bounds),b.features.push(d)},_geometry:function(a,b){this.geometryName||(this.geometryName=a.nodeName.split(":").pop()),this.readChildNodes(a,b)},_attribute:function(a,b){var c=a.localName||a.nodeName.split(":").pop(),d=this.getChildValue(a);b.attributes[c]=d}},wfs:{FeatureCollection:function(a,b){this.readChildNodes(a,b)}}},write:function(a){var b;return b=OpenLayers.Util.isArray(a)?"featureMembers":"featureMember",a=this.writeNode("gml:"+b,a),this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{gml:{featureMember:function(a){var b=this.createElementNSPlus("gml:featureMember");return this.writeNode("feature:_typeName",a,b),b},MultiPoint:function(a){var b=this.createElementNSPlus("gml:MultiPoint");a=a.components||[a];for(var c=0,d=a.length;d>c;++c)this.writeNode("pointMember",a[c],b);return b},pointMember:function(a){var b=this.createElementNSPlus("gml:pointMember");return this.writeNode("Point",a,b),b},MultiLineString:function(a){var b=this.createElementNSPlus("gml:MultiLineString");a=a.components||[a];for(var c=0,d=a.length;d>c;++c)this.writeNode("lineStringMember",a[c],b);return b},lineStringMember:function(a){var b=this.createElementNSPlus("gml:lineStringMember");return this.writeNode("LineString",a,b),b},MultiPolygon:function(a){var b=this.createElementNSPlus("gml:MultiPolygon");a=a.components||[a];for(var c=0,d=a.length;d>c;++c)this.writeNode("polygonMember",a[c],b);return b},polygonMember:function(a){var b=this.createElementNSPlus("gml:polygonMember");return this.writeNode("Polygon",a,b),b},GeometryCollection:function(a){for(var b=this.createElementNSPlus("gml:GeometryCollection"),c=0,d=a.components.length;d>c;++c)this.writeNode("geometryMember",a.components[c],b);return b},geometryMember:function(a){var b=this.createElementNSPlus("gml:geometryMember");return a=this.writeNode("feature:_geometry",a),b.appendChild(a.firstChild),b}},feature:{_typeName:function(a){var b=this.createElementNSPlus("feature:"+this.featureType,{attributes:{fid:a.fid}});a.geometry&&this.writeNode("feature:_geometry",a.geometry,b);for(var c in a.attributes){var d=a.attributes[c];null!=d&&this.writeNode("feature:_attribute",{name:c,value:d},b)}return b},_geometry:function(a){this.externalProjection&&this.internalProjection&&(a=a.clone().transform(this.internalProjection,this.externalProjection));var b=this.createElementNSPlus("feature:"+this.geometryName);return a=this.writeNode("gml:"+this.geometryTypes[a.CLASS_NAME],a,b),this.srsName&&a.setAttribute("srsName",this.srsName),b},_attribute:function(a){return this.createElementNSPlus("feature:"+a.name,{value:a.value})}},wfs:{FeatureCollection:function(a){for(var b=this.createElementNSPlus("wfs:FeatureCollection"),c=0,d=a.length;d>c;++c)this.writeNode("gml:featureMember",a[c],b);return b}}},setGeometryTypes:function(){this.geometryTypes={"OpenLayers.Geometry.Point":"Point","OpenLayers.Geometry.MultiPoint":"MultiPoint","OpenLayers.Geometry.LineString":"LineString","OpenLayers.Geometry.MultiLineString":"MultiLineString","OpenLayers.Geometry.Polygon":"Polygon","OpenLayers.Geometry.MultiPolygon":"MultiPolygon","OpenLayers.Geometry.Collection":"GeometryCollection"}},CLASS_NAME:"OpenLayers.Format.GML.Base"}),OpenLayers.Format.GML.v3=OpenLayers.Class(OpenLayers.Format.GML.Base,{schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",curve:!1,multiCurve:!0,surface:!1,multiSurface:!0,initialize:function(a){OpenLayers.Format.GML.Base.prototype.initialize.apply(this,[a])},readers:{gml:OpenLayers.Util.applyDefaults({_inherit:function(a,b,c){(a=parseInt(a.getAttribute("srsDimension"),10)||c&&c.srsDimension)&&(b.srsDimension=a)},featureMembers:function(a,b){this.readChildNodes(a,b)},Curve:function(a,b){var c={points:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),b.components||(b.components=[]),b.components.push(new OpenLayers.Geometry.LineString(c.points))},segments:function(a,b){this.readChildNodes(a,b)},LineStringSegment:function(a,b){var c={};this.readChildNodes(a,c),c.points&&Array.prototype.push.apply(b.points,c.points)},pos:function(a,b){var c=this.getChildValue(a).replace(this.regExes.trimSpace,"").split(this.regExes.splitSpace),c=this.xy?new OpenLayers.Geometry.Point(c[0],c[1],c[2]):new OpenLayers.Geometry.Point(c[1],c[0],c[2]);b.points=[c]},posList:function(a,b){for(var c,d,e,f=this.getChildValue(a).replace(this.regExes.trimSpace,"").split(this.regExes.splitSpace),g=b.srsDimension||parseInt(a.getAttribute("srsDimension")||a.getAttribute("dimension"),10)||2,h=Array(f.length/g),i=0,j=f.length;j>i;i+=g)c=f[i],d=f[i+1],e=2==g?void 0:f[i+2],h[i/g]=this.xy?new OpenLayers.Geometry.Point(c,d,e):new OpenLayers.Geometry.Point(d,c,e);b.points=h},Surface:function(a,b){this.readChildNodes(a,b)},patches:function(a,b){this.readChildNodes(a,b)},PolygonPatch:function(a,b){this.readers.gml.Polygon.apply(this,[a,b])},exterior:function(a,b){var c={};this.readChildNodes(a,c),b.outer=c.components[0]},interior:function(a,b){var c={};this.readChildNodes(a,c),b.inner.push(c.components[0])},MultiCurve:function(a,b){var c={components:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),0<c.components.length&&(b.components=[new OpenLayers.Geometry.MultiLineString(c.components)])},curveMember:function(a,b){this.readChildNodes(a,b)},MultiSurface:function(a,b){var c={components:[]};this.readers.gml._inherit.apply(this,[a,c,b]),this.readChildNodes(a,c),0<c.components.length&&(b.components=[new OpenLayers.Geometry.MultiPolygon(c.components)])},surfaceMember:function(a,b){this.readChildNodes(a,b)},surfaceMembers:function(a,b){this.readChildNodes(a,b)},pointMembers:function(a,b){this.readChildNodes(a,b)},lineStringMembers:function(a,b){this.readChildNodes(a,b)},polygonMembers:function(a,b){this.readChildNodes(a,b)},geometryMembers:function(a,b){this.readChildNodes(a,b)},Envelope:function(a,b){var c={points:Array(2)};this.readChildNodes(a,c),b.components||(b.components=[]);var d=c.points[0],c=c.points[1];b.components.push(new OpenLayers.Bounds(d.x,d.y,c.x,c.y))},lowerCorner:function(a,b){var c={};this.readers.gml.pos.apply(this,[a,c]),b.points[0]=c.points[0]},upperCorner:function(a,b){var c={};this.readers.gml.pos.apply(this,[a,c]),b.points[1]=c.points[0]}},OpenLayers.Format.GML.Base.prototype.readers.gml),feature:OpenLayers.Format.GML.Base.prototype.readers.feature,wfs:OpenLayers.Format.GML.Base.prototype.readers.wfs},write:function(a){var b;return b=OpenLayers.Util.isArray(a)?"featureMembers":"featureMember",a=this.writeNode("gml:"+b,a),this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{gml:OpenLayers.Util.applyDefaults({featureMembers:function(a){for(var b=this.createElementNSPlus("gml:featureMembers"),c=0,d=a.length;d>c;++c)this.writeNode("feature:_typeName",a[c],b);return b},Point:function(a){var b=this.createElementNSPlus("gml:Point");return this.writeNode("pos",a,b),b},pos:function(a){return this.createElementNSPlus("gml:pos",{value:this.xy?a.x+" "+a.y:a.y+" "+a.x})},LineString:function(a){var b=this.createElementNSPlus("gml:LineString");return this.writeNode("posList",a.components,b),b},Curve:function(a){var b=this.createElementNSPlus("gml:Curve");return this.writeNode("segments",a,b),b},segments:function(a){var b=this.createElementNSPlus("gml:segments");return this.writeNode("LineStringSegment",a,b),b},LineStringSegment:function(a){var b=this.createElementNSPlus("gml:LineStringSegment");return this.writeNode("posList",a.components,b),b},posList:function(a){for(var b,c=a.length,d=Array(c),e=0;c>e;++e)b=a[e],d[e]=this.xy?b.x+" "+b.y:b.y+" "+b.x;return this.createElementNSPlus("gml:posList",{value:d.join(" ")})},Surface:function(a){var b=this.createElementNSPlus("gml:Surface");return this.writeNode("patches",a,b),b},patches:function(a){var b=this.createElementNSPlus("gml:patches");return this.writeNode("PolygonPatch",a,b),b},PolygonPatch:function(a){var b=this.createElementNSPlus("gml:PolygonPatch",{attributes:{interpolation:"planar"}});this.writeNode("exterior",a.components[0],b);for(var c=1,d=a.components.length;d>c;++c)this.writeNode("interior",a.components[c],b);return b},Polygon:function(a){var b=this.createElementNSPlus("gml:Polygon");this.writeNode("exterior",a.components[0],b);for(var c=1,d=a.components.length;d>c;++c)this.writeNode("interior",a.components[c],b);return b},exterior:function(a){var b=this.createElementNSPlus("gml:exterior");return this.writeNode("LinearRing",a,b),b},interior:function(a){var b=this.createElementNSPlus("gml:interior");return this.writeNode("LinearRing",a,b),b},LinearRing:function(a){var b=this.createElementNSPlus("gml:LinearRing");return this.writeNode("posList",a.components,b),b},MultiCurve:function(a){var b=this.createElementNSPlus("gml:MultiCurve");a=a.components||[a];for(var c=0,d=a.length;d>c;++c)this.writeNode("curveMember",a[c],b);return b},curveMember:function(a){var b=this.createElementNSPlus("gml:curveMember");return this.curve?this.writeNode("Curve",a,b):this.writeNode("LineString",a,b),b},MultiSurface:function(a){var b=this.createElementNSPlus("gml:MultiSurface");a=a.components||[a];for(var c=0,d=a.length;d>c;++c)this.writeNode("surfaceMember",a[c],b);return b},surfaceMember:function(a){var b=this.createElementNSPlus("gml:surfaceMember");return this.surface?this.writeNode("Surface",a,b):this.writeNode("Polygon",a,b),b},Envelope:function(a){var b=this.createElementNSPlus("gml:Envelope");return this.writeNode("lowerCorner",a,b),this.writeNode("upperCorner",a,b),this.srsName&&b.setAttribute("srsName",this.srsName),b},lowerCorner:function(a){return this.createElementNSPlus("gml:lowerCorner",{value:this.xy?a.left+" "+a.bottom:a.bottom+" "+a.left})},upperCorner:function(a){return this.createElementNSPlus("gml:upperCorner",{value:this.xy?a.right+" "+a.top:a.top+" "+a.right})}},OpenLayers.Format.GML.Base.prototype.writers.gml),feature:OpenLayers.Format.GML.Base.prototype.writers.feature,wfs:OpenLayers.Format.GML.Base.prototype.writers.wfs},setGeometryTypes:function(){this.geometryTypes={"OpenLayers.Geometry.Point":"Point","OpenLayers.Geometry.MultiPoint":"MultiPoint","OpenLayers.Geometry.LineString":!0===this.curve?"Curve":"LineString","OpenLayers.Geometry.MultiLineString":!1===this.multiCurve?"MultiLineString":"MultiCurve","OpenLayers.Geometry.Polygon":!0===this.surface?"Surface":"Polygon","OpenLayers.Geometry.MultiPolygon":!1===this.multiSurface?"MultiPolygon":"MultiSurface","OpenLayers.Geometry.Collection":"GeometryCollection"}},CLASS_NAME:"OpenLayers.Format.GML.v3"}),OpenLayers.Format.Filter.v1_1_0=OpenLayers.Class(OpenLayers.Format.GML.v3,OpenLayers.Format.Filter.v1,{VERSION:"1.1.0",schemaLocation:"http://www.opengis.net/ogc/filter/1.1.0/filter.xsd",initialize:function(a){OpenLayers.Format.GML.v3.prototype.initialize.apply(this,[a])},readers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(a,b){var c=a.getAttribute("matchCase"),c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,matchCase:!("false"===c||"0"===c)});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsNotEqualTo:function(a,b){var c=a.getAttribute("matchCase"),c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.NOT_EQUAL_TO,matchCase:!("false"===c||"0"===c)});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsLike:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LIKE});this.readChildNodes(a,c);var d=a.getAttribute("wildCard"),e=a.getAttribute("singleChar"),f=a.getAttribute("escapeChar");c.value2regex(d,e,f),b.filters.push(c)}},OpenLayers.Format.Filter.v1.prototype.readers.ogc),gml:OpenLayers.Format.GML.v3.prototype.readers.gml,feature:OpenLayers.Format.GML.v3.prototype.readers.feature},writers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsEqualTo",{attributes:{matchCase:a.matchCase}});return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsNotEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsNotEqualTo",{attributes:{matchCase:a.matchCase}});return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsLike:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLike",{attributes:{matchCase:a.matchCase,wildCard:"*",singleChar:".",escapeChar:"!"}});return this.writeNode("PropertyName",a,b),this.writeNode("Literal",a.regex2value(),b),b},BBOX:function(a){var b=this.createElementNSPlus("ogc:BBOX");a.property&&this.writeNode("PropertyName",a,b);var c=this.writeNode("gml:Envelope",a.value);return a.projection&&c.setAttribute("srsName",a.projection),b.appendChild(c),b},SortBy:function(a){for(var b=this.createElementNSPlus("ogc:SortBy"),c=0,d=a.length;d>c;c++)this.writeNode("ogc:SortProperty",a[c],b);return b},SortProperty:function(a){var b=this.createElementNSPlus("ogc:SortProperty");return this.writeNode("ogc:PropertyName",a,b),this.writeNode("ogc:SortOrder","DESC"==a.order?"DESC":"ASC",b),b},SortOrder:function(a){return this.createElementNSPlus("ogc:SortOrder",{value:a})}},OpenLayers.Format.Filter.v1.prototype.writers.ogc),gml:OpenLayers.Format.GML.v3.prototype.writers.gml,feature:OpenLayers.Format.GML.v3.prototype.writers.feature},writeSpatial:function(a,b){var c=this.createElementNSPlus("ogc:"+b);if(this.writeNode("PropertyName",a,c),a.value instanceof OpenLayers.Filter.Function)this.writeNode("Function",a.value,c);else{var d;d=a.value instanceof OpenLayers.Geometry?this.writeNode("feature:_geometry",a.value).firstChild:this.writeNode("gml:Envelope",a.value),a.projection&&d.setAttribute("srsName",a.projection),c.appendChild(d)}return c},CLASS_NAME:"OpenLayers.Format.Filter.v1_1_0"}),OpenLayers.Format.OWSCommon=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",getVersion:function(a){var b=this.version;if(!b){var c=a.getAttribute("xmlns:ows");c&&"1.1"===c.substring(c.lastIndexOf("/")+1)&&(b="1.1.0"),b||(b=this.defaultVersion)}return b},CLASS_NAME:"OpenLayers.Format.OWSCommon"}),OpenLayers.Format.OWSCommon.v1=OpenLayers.Class(OpenLayers.Format.XML,{regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},read:function(a,b){OpenLayers.Util.applyDefaults(b,this.options);var c={};return this.readChildNodes(a,c),c},readers:{ows:{Exception:function(a,b){var c={code:a.getAttribute("exceptionCode"),locator:a.getAttribute("locator"),texts:[]};b.exceptions.push(c),this.readChildNodes(a,c)},ExceptionText:function(a,b){var c=this.getChildValue(a);b.texts.push(c)},ServiceIdentification:function(a,b){b.serviceIdentification={},this.readChildNodes(a,b.serviceIdentification)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b["abstract"]=this.getChildValue(a)},Keywords:function(a,b){b.keywords={},this.readChildNodes(a,b.keywords)},Keyword:function(a,b){b[this.getChildValue(a)]=!0},ServiceType:function(a,b){b.serviceType={codeSpace:a.getAttribute("codeSpace"),value:this.getChildValue(a)}},ServiceTypeVersion:function(a,b){b.serviceTypeVersion=this.getChildValue(a)},Fees:function(a,b){b.fees=this.getChildValue(a)},AccessConstraints:function(a,b){b.accessConstraints=this.getChildValue(a)},ServiceProvider:function(a,b){b.serviceProvider={},this.readChildNodes(a,b.serviceProvider)},ProviderName:function(a,b){b.providerName=this.getChildValue(a)},ProviderSite:function(a,b){b.providerSite=this.getAttributeNS(a,this.namespaces.xlink,"href")},ServiceContact:function(a,b){b.serviceContact={},this.readChildNodes(a,b.serviceContact)},IndividualName:function(a,b){b.individualName=this.getChildValue(a)},PositionName:function(a,b){b.positionName=this.getChildValue(a)},ContactInfo:function(a,b){b.contactInfo={},this.readChildNodes(a,b.contactInfo)},Phone:function(a,b){b.phone={},this.readChildNodes(a,b.phone)},Voice:function(a,b){b.voice=this.getChildValue(a)},Address:function(a,b){b.address={},this.readChildNodes(a,b.address)},DeliveryPoint:function(a,b){b.deliveryPoint=this.getChildValue(a)},City:function(a,b){b.city=this.getChildValue(a)},AdministrativeArea:function(a,b){b.administrativeArea=this.getChildValue(a)},PostalCode:function(a,b){b.postalCode=this.getChildValue(a)},Country:function(a,b){b.country=this.getChildValue(a)},ElectronicMailAddress:function(a,b){b.electronicMailAddress=this.getChildValue(a)},Role:function(a,b){b.role=this.getChildValue(a)},OperationsMetadata:function(a,b){b.operationsMetadata={},this.readChildNodes(a,b.operationsMetadata)},Operation:function(a,b){var c=a.getAttribute("name");b[c]={},this.readChildNodes(a,b[c])},DCP:function(a,b){b.dcp={},this.readChildNodes(a,b.dcp)},HTTP:function(a,b){b.http={},this.readChildNodes(a,b.http)},Get:function(a,b){b.get||(b.get=[]);var c={url:this.getAttributeNS(a,this.namespaces.xlink,"href")};this.readChildNodes(a,c),b.get.push(c)},Post:function(a,b){b.post||(b.post=[]);var c={url:this.getAttributeNS(a,this.namespaces.xlink,"href")};this.readChildNodes(a,c),b.post.push(c)},Parameter:function(a,b){b.parameters||(b.parameters={});var c=a.getAttribute("name");b.parameters[c]={},this.readChildNodes(a,b.parameters[c])},Constraint:function(a,b){b.constraints||(b.constraints={});var c=a.getAttribute("name");b.constraints[c]={},this.readChildNodes(a,b.constraints[c])},Value:function(a,b){b[this.getChildValue(a)]=!0},OutputFormat:function(a,b){b.formats.push({value:this.getChildValue(a)}),this.readChildNodes(a,b)},WGS84BoundingBox:function(a,b){var c={};c.crs=a.getAttribute("crs"),b.BoundingBox?b.BoundingBox.push(c):(b.projection=c.crs,c=b),this.readChildNodes(a,c)},BoundingBox:function(a,b){this.readers.ows.WGS84BoundingBox.apply(this,[a,b])},LowerCorner:function(a,b){var c=this.getChildValue(a).replace(this.regExes.trimSpace,""),c=c.replace(this.regExes.trimComma,","),c=c.split(this.regExes.splitSpace);b.left=c[0],b.bottom=c[1]},UpperCorner:function(a,b){var c=this.getChildValue(a).replace(this.regExes.trimSpace,""),c=c.replace(this.regExes.trimComma,","),c=c.split(this.regExes.splitSpace);b.right=c[0],b.top=c[1],b.bounds=new OpenLayers.Bounds(b.left,b.bottom,b.right,b.top),delete b.left,delete b.bottom,delete b.right,delete b.top},Language:function(a,b){b.language=this.getChildValue(a)}}},writers:{ows:{BoundingBox:function(a,b){var c=this.createElementNSPlus(b||"ows:BoundingBox",{attributes:{crs:a.projection}});return this.writeNode("ows:LowerCorner",a,c),this.writeNode("ows:UpperCorner",a,c),c},LowerCorner:function(a){return this.createElementNSPlus("ows:LowerCorner",{value:a.bounds.left+" "+a.bounds.bottom})},UpperCorner:function(a){return this.createElementNSPlus("ows:UpperCorner",{value:a.bounds.right+" "+a.bounds.top})},Identifier:function(a){return this.createElementNSPlus("ows:Identifier",{value:a})},Title:function(a){return this.createElementNSPlus("ows:Title",{value:a})},Abstract:function(a){return this.createElementNSPlus("ows:Abstract",{value:a})},OutputFormat:function(a){return this.createElementNSPlus("ows:OutputFormat",{value:a})}}},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1"}),OpenLayers.Format.OWSCommon.v1_0_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1,{namespaces:{ows:"http://www.opengis.net/ows",xlink:"http://www.w3.org/1999/xlink"},readers:{ows:OpenLayers.Util.applyDefaults({ExceptionReport:function(a,b){b.success=!1,b.exceptionReport={version:a.getAttribute("version"),language:a.getAttribute("language"),exceptions:[]},this.readChildNodes(a,b.exceptionReport)}},OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)},writers:{ows:OpenLayers.Format.OWSCommon.v1.prototype.writers.ows},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1_0_0"}),OpenLayers.Format.WFST.v1_1_0=OpenLayers.Class(OpenLayers.Format.Filter.v1_1_0,OpenLayers.Format.WFST.v1,{version:"1.1.0",schemaLocations:{wfs:"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"},initialize:function(a){OpenLayers.Format.Filter.v1_1_0.prototype.initialize.apply(this,[a]),OpenLayers.Format.WFST.v1.prototype.initialize.apply(this,[a])},readNode:function(){return OpenLayers.Format.GML.v3.prototype.readNode.apply(this,arguments)},readers:{wfs:OpenLayers.Util.applyDefaults({FeatureCollection:function(a,b){b.numberOfFeatures=parseInt(a.getAttribute("numberOfFeatures")),OpenLayers.Format.WFST.v1.prototype.readers.wfs.FeatureCollection.apply(this,arguments)},TransactionResponse:function(a,b){b.insertIds=[],b.success=!1,this.readChildNodes(a,b)},TransactionSummary:function(a,b){b.success=!0},InsertResults:function(a,b){this.readChildNodes(a,b)},Feature:function(a,b){var c={fids:[]};this.readChildNodes(a,c),b.insertIds.push(c.fids[0])}},OpenLayers.Format.WFST.v1.prototype.readers.wfs),gml:OpenLayers.Format.GML.v3.prototype.readers.gml,feature:OpenLayers.Format.GML.v3.prototype.readers.feature,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.readers.ogc,ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows},writers:{wfs:OpenLayers.Util.applyDefaults({GetFeature:function(a){var b=OpenLayers.Format.WFST.v1.prototype.writers.wfs.GetFeature.apply(this,arguments);return a&&this.setAttributes(b,{resultType:a.resultType,startIndex:a.startIndex,count:a.count}),b},Query:function(a){a=OpenLayers.Util.extend({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureType:this.featureType,srsName:this.srsName},a);var b=a.featurePrefix,c=this.createElementNSPlus("wfs:Query",{attributes:{typeName:(b?b+":":"")+a.featureType,srsName:a.srsName}});if(a.featureNS&&c.setAttribute("xmlns:"+b,a.featureNS),a.propertyNames)for(var b=0,d=a.propertyNames.length;d>b;b++)this.writeNode("wfs:PropertyName",{property:a.propertyNames[b]},c);return a.filter&&(OpenLayers.Format.WFST.v1_1_0.prototype.setFilterProperty.call(this,a.filter),this.writeNode("ogc:Filter",a.filter,c)),c},PropertyName:function(a){return this.createElementNSPlus("wfs:PropertyName",{value:a.property})}},OpenLayers.Format.WFST.v1.prototype.writers.wfs),gml:OpenLayers.Format.GML.v3.prototype.writers.gml,feature:OpenLayers.Format.GML.v3.prototype.writers.feature,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.WFST.v1_1_0"}),OpenLayers.Protocol=OpenLayers.Class({format:null,options:null,autoDestroy:!0,defaultFilter:null,initialize:function(a){a=a||{},OpenLayers.Util.extend(this,a),this.options=a},mergeWithDefaultFilter:function(a){return a&&this.defaultFilter?new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[this.defaultFilter,a]}):a||this.defaultFilter||void 0},destroy:function(){this.format=this.options=null},read:function(a){a=a||{},a.filter=this.mergeWithDefaultFilter(a.filter)},create:function(){},update:function(){},"delete":function(){},commit:function(){},abort:function(){},createCallback:function(a,b,c){return OpenLayers.Function.bind(function(){a.apply(this,[b,c])},this)},CLASS_NAME:"OpenLayers.Protocol"}),OpenLayers.Protocol.Response=OpenLayers.Class({code:null,requestType:null,last:!0,features:null,data:null,reqFeatures:null,priv:null,error:null,initialize:function(a){OpenLayers.Util.extend(this,a)},success:function(){return 0<this.code},CLASS_NAME:"OpenLayers.Protocol.Response"}),OpenLayers.Protocol.Response.SUCCESS=1,OpenLayers.Protocol.Response.FAILURE=0,OpenLayers.Format.JSON=OpenLayers.Class(OpenLayers.Format,{indent:"    ",space:" ",newline:"\n",level:0,pretty:!1,nativeJSON:function(){return!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify)}(),read:function(a,b){var c;if(this.nativeJSON)c=JSON.parse(a,b);else try{if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))&&(c=eval("("+a+")"),"function"==typeof b)){var d=function(a,c){if(c&&"object"==typeof c)for(var e in c)c.hasOwnProperty(e)&&(c[e]=d(e,c[e]));return b(a,c)};c=d("",c)}}catch(e){}return this.keepData&&(this.data=c),c},write:function(a,b){this.pretty=!!b;var c=null,d=typeof a;if(this.serialize[d])try{c=!this.pretty&&this.nativeJSON?JSON.stringify(a):this.serialize[d].apply(this,[a])}catch(e){OpenLayers.Console.error("Trouble serializing: "+e)}return c},writeIndent:function(){var a=[];if(this.pretty)for(var b=0;b<this.level;++b)a.push(this.indent);return a.join("")},writeNewline:function(){return this.pretty?this.newline:""},writeSpace:function(){return this.pretty?this.space:""},serialize:{object:function(a){if(null==a)return"null";if(a.constructor==Date)return this.serialize.date.apply(this,[a]);if(a.constructor==Array)return this.serialize.array.apply(this,[a]);var b=["{"];this.level+=1;var c,d,e,f=!1;for(c in a)a.hasOwnProperty(c)&&(d=OpenLayers.Format.JSON.prototype.write.apply(this,[c,this.pretty]),e=OpenLayers.Format.JSON.prototype.write.apply(this,[a[c],this.pretty]),null!=d&&null!=e&&(f&&b.push(","),b.push(this.writeNewline(),this.writeIndent(),d,":",this.writeSpace(),e),f=!0));return this.level-=1,b.push(this.writeNewline(),this.writeIndent(),"}"),b.join("")},array:function(a){var b,c=["["];this.level+=1;for(var d=0,e=a.length;e>d;++d)b=OpenLayers.Format.JSON.prototype.write.apply(this,[a[d],this.pretty]),null!=b&&(d>0&&c.push(","),c.push(this.writeNewline(),this.writeIndent(),b));return this.level-=1,c.push(this.writeNewline(),this.writeIndent(),"]"),c.join("")},string:function(a){var b={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(a)?'"'+a.replace(/([\x00-\x1f\\"])/g,function(a,c){var d=b[c];return d?d:(d=c.charCodeAt(),"\\u00"+Math.floor(d/16).toString(16)+(d%16).toString(16))})+'"':'"'+a+'"'},number:function(a){return isFinite(a)?String(a):"null"},"boolean":function(a){return String(a)},date:function(a){function b(a){return 10>a?"0"+a:a}return'"'+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+"T"+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+'"'}},CLASS_NAME:"OpenLayers.Format.JSON"}),OpenLayers.Format.GeoJSON=OpenLayers.Class(OpenLayers.Format.JSON,{ignoreExtraDims:!1,read:function(a,b,c){b=b?b:"FeatureCollection";var d=null,e=null,e="string"==typeof a?OpenLayers.Format.JSON.prototype.read.apply(this,[a,c]):a;if(e){if("string"!=typeof e.type)OpenLayers.Console.error("Bad GeoJSON - no type: "+a);else if(this.isValidType(e,b))switch(b){case"Geometry":try{d=this.parseGeometry(e)}catch(f){OpenLayers.Console.error(f)}break;case"Feature":try{d=this.parseFeature(e),d.type="Feature"}catch(g){OpenLayers.Console.error(g)}break;case"FeatureCollection":switch(d=[],e.type){case"Feature":try{d.push(this.parseFeature(e))}catch(h){d=null,OpenLayers.Console.error(h)}break;case"FeatureCollection":for(a=0,b=e.features.length;b>a;++a)try{d.push(this.parseFeature(e.features[a]))}catch(i){d=null,OpenLayers.Console.error(i)}break;default:try{var j=this.parseGeometry(e);d.push(new OpenLayers.Feature.Vector(j))}catch(k){d=null,OpenLayers.Console.error(k)}}}}else OpenLayers.Console.error("Bad JSON: "+a);return d},isValidType:function(a,b){var c=!1;switch(b){case"Geometry":-1==OpenLayers.Util.indexOf("Point MultiPoint LineString MultiLineString Polygon MultiPolygon Box GeometryCollection".split(" "),a.type)?OpenLayers.Console.error("Unsupported geometry type: "+a.type):c=!0;break;case"FeatureCollection":c=!0;break;default:a.type==b?c=!0:OpenLayers.Console.error("Cannot convert types from "+a.type+" to "+b)}return c},parseFeature:function(a){var b,c,d;c=a.properties?a.properties:{},d=a.geometry&&a.geometry.bbox||a.bbox;try{b=this.parseGeometry(a.geometry)}catch(e){throw e}return b=new OpenLayers.Feature.Vector(b,c),d&&(b.bounds=OpenLayers.Bounds.fromArray(d)),a.id&&(b.fid=a.id),b},parseGeometry:function(a){if(null==a)return null;var b,c=!1;if("GeometryCollection"==a.type){if(!OpenLayers.Util.isArray(a.geometries))throw"GeometryCollection must have geometries array: "+a;b=a.geometries.length;for(var c=Array(b),d=0;b>d;++d)c[d]=this.parseGeometry.apply(this,[a.geometries[d]]);b=new OpenLayers.Geometry.Collection(c),c=!0}else{if(!OpenLayers.Util.isArray(a.coordinates))throw"Geometry must have coordinates array: "+a;if(!this.parseCoords[a.type.toLowerCase()])throw"Unsupported geometry type: "+a.type;try{b=this.parseCoords[a.type.toLowerCase()].apply(this,[a.coordinates])}catch(e){throw e}}return this.internalProjection&&this.externalProjection&&!c&&b.transform(this.externalProjection,this.internalProjection),b},parseCoords:{point:function(a){if(0==this.ignoreExtraDims&&2!=a.length)throw"Only 2D points are supported: "+a;return new OpenLayers.Geometry.Point(a[0],a[1])},multipoint:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.point.apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new OpenLayers.Geometry.MultiPoint(b)},linestring:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.point.apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new OpenLayers.Geometry.LineString(b)},multilinestring:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.linestring.apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new OpenLayers.Geometry.MultiLineString(b)},polygon:function(a){for(var b,c,d=[],e=0,f=a.length;f>e;++e){try{c=this.parseCoords.linestring.apply(this,[a[e]])}catch(g){throw g}b=new OpenLayers.Geometry.LinearRing(c.components),d.push(b)}return new OpenLayers.Geometry.Polygon(d)},multipolygon:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.polygon.apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new OpenLayers.Geometry.MultiPolygon(b)},box:function(a){if(2!=a.length)throw"GeoJSON box coordinates must have 2 elements";return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(a[0][0],a[0][1]),new OpenLayers.Geometry.Point(a[1][0],a[0][1]),new OpenLayers.Geometry.Point(a[1][0],a[1][1]),new OpenLayers.Geometry.Point(a[0][0],a[1][1]),new OpenLayers.Geometry.Point(a[0][0],a[0][1])])])}},write:function(a,b){var c={type:null};if(OpenLayers.Util.isArray(a)){c.type="FeatureCollection";var d=a.length;c.features=Array(d);for(var e=0;d>e;++e){var f=a[e];if(!f instanceof OpenLayers.Feature.Vector)throw"FeatureCollection only supports collections of features: "+f;c.features[e]=this.extract.feature.apply(this,[f])}}else 0==a.CLASS_NAME.indexOf("OpenLayers.Geometry")?c=this.extract.geometry.apply(this,[a]):a instanceof OpenLayers.Feature.Vector&&(c=this.extract.feature.apply(this,[a]),a.layer&&a.layer.projection&&(c.crs=this.createCRSObject(a)));
return OpenLayers.Format.JSON.prototype.write.apply(this,[c,b])},createCRSObject:function(a){a=a.layer.projection.toString();var b={};return a.match(/epsg:/i)&&(a=parseInt(a.substring(a.indexOf(":")+1)),b=4326==a?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+a}}),b},extract:{feature:function(a){var b=this.extract.geometry.apply(this,[a.geometry]),b={type:"Feature",properties:a.attributes,geometry:b};return null!=a.fid&&(b.id=a.fid),b},geometry:function(a){if(null==a)return null;this.internalProjection&&this.externalProjection&&(a=a.clone(),a.transform(this.internalProjection,this.externalProjection));var b=a.CLASS_NAME.split(".")[2];return a=this.extract[b.toLowerCase()].apply(this,[a]),"Collection"==b?{type:"GeometryCollection",geometries:a}:{type:b,coordinates:a}},point:function(a){return[a.x,a.y]},multipoint:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b},linestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b},multilinestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.linestring.apply(this,[a.components[c]]));return b},polygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.linestring.apply(this,[a.components[c]]));return b},multipolygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.polygon.apply(this,[a.components[c]]));return b},collection:function(a){for(var b=a.components.length,c=Array(b),d=0;b>d;++d)c[d]=this.extract.geometry.apply(this,[a.components[d]]);return c}},CLASS_NAME:"OpenLayers.Format.GeoJSON"}),OpenLayers.Protocol.Script=OpenLayers.Class(OpenLayers.Protocol,{url:null,params:null,callback:null,callbackTemplate:"OpenLayers.Protocol.Script.registry.${id}",callbackKey:"callback",callbackPrefix:"",scope:null,format:null,pendingRequests:null,srsInBBOX:!1,initialize:function(a){if(a=a||{},this.params={},this.pendingRequests={},OpenLayers.Protocol.prototype.initialize.apply(this,arguments),this.format||(this.format=new OpenLayers.Format.GeoJSON),!this.filterToParams&&OpenLayers.Format.QueryStringFilter){var b=new OpenLayers.Format.QueryStringFilter({srsInBBOX:this.srsInBBOX});this.filterToParams=function(a,c){return b.write(a,c)}}},read:function(a){OpenLayers.Protocol.prototype.read.apply(this,arguments),a=OpenLayers.Util.applyDefaults(a,this.options),a.params=OpenLayers.Util.applyDefaults(a.params,this.options.params),a.filter&&this.filterToParams&&(a.params=this.filterToParams(a.filter,a.params));var b=new OpenLayers.Protocol.Response({requestType:"read"}),c=this.createRequest(a.url,a.params,OpenLayers.Function.bind(function(c){b.data=c,this.handleRead(b,a)},this));return b.priv=c,b},createRequest:function(a,b,c){c=OpenLayers.Protocol.Script.register(c);var d=OpenLayers.String.format(this.callbackTemplate,{id:c});return b=OpenLayers.Util.extend({},b),b[this.callbackKey]=this.callbackPrefix+d,a=OpenLayers.Util.urlAppend(a,OpenLayers.Util.getParameterString(b)),b=document.createElement("script"),b.type="text/javascript",b.src=a,b.id="OpenLayers_Protocol_Script_"+c,this.pendingRequests[b.id]=b,document.getElementsByTagName("head")[0].appendChild(b),b},destroyRequest:function(a){OpenLayers.Protocol.Script.unregister(a.id.split("_").pop()),delete this.pendingRequests[a.id],a.parentNode&&a.parentNode.removeChild(a)},handleRead:function(a,b){this.handleResponse(a,b)},handleResponse:function(a,b){b.callback&&(a.data?(a.features=this.parseFeatures(a.data),a.code=OpenLayers.Protocol.Response.SUCCESS):a.code=OpenLayers.Protocol.Response.FAILURE,this.destroyRequest(a.priv),b.callback.call(b.scope,a))},parseFeatures:function(a){return this.format.read(a)},abort:function(a){if(a)this.destroyRequest(a.priv);else for(var b in this.pendingRequests)this.destroyRequest(this.pendingRequests[b])},destroy:function(){this.abort(),delete this.params,delete this.format,OpenLayers.Protocol.prototype.destroy.apply(this)},CLASS_NAME:"OpenLayers.Protocol.Script"}),function(){var a=OpenLayers.Protocol.Script,b=0;a.registry={},a.register=function(c){var d="c"+ ++b;return a.registry[d]=function(){c.apply(this,arguments)},d},a.unregister=function(b){delete a.registry[b]}}(),OpenLayers.Format.EncodedPolyline=OpenLayers.Class(OpenLayers.Format,{geometryType:"linestring",initialize:function(a){OpenLayers.Format.prototype.initialize.apply(this,[a])},read:function(a){var b;if("linestring"==this.geometryType)b=OpenLayers.Geometry.LineString;else if("linearring"==this.geometryType)b=OpenLayers.Geometry.LinearRing;else if("multipoint"==this.geometryType)b=OpenLayers.Geometry.MultiPoint;else if("point"!=this.geometryType&&"polygon"!=this.geometryType)return null;a=this.decodeDeltas(a,2);for(var c=a.length,d=[],e=0;c>e+1;){var f=a[e++],g=a[e++];d.push(new OpenLayers.Geometry.Point(g,f))}return new OpenLayers.Feature.Vector("point"==this.geometryType?d[0]:"polygon"==this.geometryType?new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(d)]):new b(d))},decode:function(a,b,c){a=this.decodeDeltas(a,b,c||1e5),c=a.length;for(var d=[],e=0;c>e+(b-1);){for(var f=[],g=0;b>g;++g)f.push(a[e++]);d.push(f)}return d},write:function(a){a=(a.constructor==Array?a[0]:a).geometry;var b=a.CLASS_NAME.split(".")[2].toLowerCase();if("point"==b)a=Array(a);else if("linestring"==b||"linearring"==b||"multipoint"==b)a=a.components;else{if("polygon"!=b)return null;a=a.components[0].components}for(var b=[],c=a.length,d=0;c>d;++d){var e=a[d];b.push(e.y),b.push(e.x)}return this.encodeDeltas(b,2)},encode:function(a,b,c){c=c||1e5;for(var d=[],e=a.length,f=0;e>f;++f)for(var g=a[f],h=0;b>h;++h)d.push(g[h]);return this.encodeDeltas(d,b,c)},encodeDeltas:function(a,b,c){var d,e=Array(b);for(d=0;b>d;++d)e[d]=0;for(var f=a.length,g=0;f>g;)for(d=0;b>d;++d,++g){var h=a[g],i=h-e[d];e[d]=h,a[g]=i}return this.encodeFloats(a,c||1e5)},decodeDeltas:function(a,b,c){var d,e=Array(b);for(d=0;b>d;++d)e[d]=0;a=this.decodeFloats(a,c||1e5),c=a.length;for(var f=0;c>f;)for(d=0;b>d;++d,++f)e[d]+=a[f],a[f]=e[d];return a},encodeFloats:function(a,b){for(var c=b||1e5,d=a.length,e=0;d>e;++e)a[e]=Math.round(a[e]*c);return this.encodeSignedIntegers(a)},decodeFloats:function(a,b){for(var c=b||1e5,d=this.decodeSignedIntegers(a),e=d.length,f=0;e>f;++f)d[f]/=c;return d},encodeSignedIntegers:function(a){for(var b=a.length,c=0;b>c;++c){var d=a[c],e=d<<1;0>d&&(e=~e),a[c]=e}return this.encodeUnsignedIntegers(a)},decodeSignedIntegers:function(a){a=this.decodeUnsignedIntegers(a);for(var b=a.length,c=0;b>c;++c){var d=a[c];a[c]=1&d?~(d>>1):d>>1}return a},encodeUnsignedIntegers:function(a){for(var b="",c=a.length,d=0;c>d;++d)b+=this.encodeUnsignedInteger(a[d]);return b},decodeUnsignedIntegers:function(a){for(var b=[],c=0,d=0,e=a.length,f=0;e>f;++f){var g=a.charCodeAt(f)-63,c=c|(31&g)<<d;32>g?(b.push(c),d=c=0):d+=5}return b},encodeFloat:function(a,b){return a=Math.round(a*(b||1e5)),this.encodeSignedInteger(a)},decodeFloat:function(a,b){return this.decodeSignedInteger(a)/(b||1e5)},encodeSignedInteger:function(a){var b=a<<1;return 0>a&&(b=~b),this.encodeUnsignedInteger(b)},decodeSignedInteger:function(a){return a=this.decodeUnsignedInteger(a),1&a?~(a>>1):a>>1},encodeUnsignedInteger:function(a){for(var b,c="";a>=32;)b=(32|31&a)+63,c+=String.fromCharCode(b),a>>=5;return c+=String.fromCharCode(a+63)},decodeUnsignedInteger:function(a){for(var b=0,c=0,d=a.length,e=0;d>e;++e){var f=a.charCodeAt(e)-63,b=b|(31&f)<<c;if(32>f)break;c+=5}return b},CLASS_NAME:"OpenLayers.Format.EncodedPolyline"}),OpenLayers.Control.Panel=OpenLayers.Class(OpenLayers.Control,{controls:null,autoActivate:!0,defaultControl:null,saveState:!1,allowDepress:!1,activeState:null,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,[a]),this.controls=[],this.activeState={}},destroy:function(){this.map&&this.map.events.unregister("buttonclick",this,this.onButtonClick),OpenLayers.Control.prototype.destroy.apply(this,arguments);for(var a,b=this.controls.length-1;b>=0;b--)a=this.controls[b],a.events&&a.events.un({activate:this.iconOn,deactivate:this.iconOff}),a.panel_div=null;this.activeState=null},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){for(var a,b=0,c=this.controls.length;c>b;b++)a=this.controls[b],(a===this.defaultControl||this.saveState&&this.activeState[a.id])&&a.activate();return!0===this.saveState&&(this.defaultControl=null),this.redraw(),!0}return!1},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){for(var a,b=0,c=this.controls.length;c>b;b++)a=this.controls[b],this.activeState[a.id]=a.deactivate();return this.redraw(),!0}return!1},draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.outsideViewport?(this.events.attachToElement(this.div),this.events.register("buttonclick",this,this.onButtonClick)):this.map.events.register("buttonclick",this,this.onButtonClick),this.addControlsToMap(this.controls),this.div},redraw:function(){for(var a=this.div.childNodes.length-1;a>=0;a--)this.div.removeChild(this.div.childNodes[a]);if(this.div.innerHTML="",this.active)for(var a=0,b=this.controls.length;b>a;a++)this.div.appendChild(this.controls[a].panel_div)},activateControl:function(a){if(!this.active)return!1;if(a.type==OpenLayers.Control.TYPE_BUTTON)a.trigger();else if(a.type==OpenLayers.Control.TYPE_TOGGLE)a.active?a.deactivate():a.activate();else if(this.allowDepress&&a.active)a.deactivate();else{for(var b,c=0,d=this.controls.length;d>c;c++)b=this.controls[c],b==a||b.type!==OpenLayers.Control.TYPE_TOOL&&null!=b.type||b.deactivate();a.activate()}},addControls:function(a){OpenLayers.Util.isArray(a)||(a=[a]),this.controls=this.controls.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b],e=this.createControlMarkup(d);OpenLayers.Element.addClass(e,d.displayClass+"ItemInactive"),OpenLayers.Element.addClass(e,"olButton"),""==d.title||e.title||(e.title=d.title),d.panel_div=e}this.map&&(this.addControlsToMap(a),this.redraw())},createControlMarkup:function(){return document.createElement("div")},addControlsToMap:function(a){for(var b,c=0,d=a.length;d>c;c++)b=a[c],!0===b.autoActivate?(b.autoActivate=!1,this.map.addControl(b),b.autoActivate=!0):(this.map.addControl(b),b.deactivate()),b.events.on({activate:this.iconOn,deactivate:this.iconOff})},iconOn:function(){var a=this.panel_div;a.className=a.className.replace(RegExp("\\b("+this.displayClass+"Item)Inactive\\b"),"$1Active")},iconOff:function(){var a=this.panel_div;a.className=a.className.replace(RegExp("\\b("+this.displayClass+"Item)Active\\b"),"$1Inactive")},onButtonClick:function(a){var b=this.controls;a=a.buttonElement;for(var c=b.length-1;c>=0;--c)if(b[c].panel_div===a){this.activateControl(b[c]);break}},getControlsBy:function(a,b){var c="function"==typeof b.test;return OpenLayers.Array.filter(this.controls,function(d){return d[a]==b||c&&b.test(d[a])})},getControlsByName:function(a){return this.getControlsBy("name",a)},getControlsByClass:function(a){return this.getControlsBy("CLASS_NAME",a)},CLASS_NAME:"OpenLayers.Control.Panel"}),OpenLayers.Control.Button=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_BUTTON,trigger:function(){},CLASS_NAME:"OpenLayers.Control.Button"}),OpenLayers.Control.ZoomIn=OpenLayers.Class(OpenLayers.Control.Button,{trigger:function(){this.map&&this.map.zoomIn()},CLASS_NAME:"OpenLayers.Control.ZoomIn"}),OpenLayers.Control.ZoomOut=OpenLayers.Class(OpenLayers.Control.Button,{trigger:function(){this.map&&this.map.zoomOut()},CLASS_NAME:"OpenLayers.Control.ZoomOut"}),OpenLayers.Control.ZoomToMaxExtent=OpenLayers.Class(OpenLayers.Control.Button,{trigger:function(){this.map&&this.map.zoomToMaxExtent()},CLASS_NAME:"OpenLayers.Control.ZoomToMaxExtent"}),OpenLayers.Control.ZoomPanel=OpenLayers.Class(OpenLayers.Control.Panel,{initialize:function(a){OpenLayers.Control.Panel.prototype.initialize.apply(this,[a]),this.addControls([new OpenLayers.Control.ZoomIn,new OpenLayers.Control.ZoomToMaxExtent,new OpenLayers.Control.ZoomOut])},CLASS_NAME:"OpenLayers.Control.ZoomPanel"}),OpenLayers.Layer.HTTPRequest=OpenLayers.Class(OpenLayers.Layer,{URL_HASH_FACTOR:(Math.sqrt(5)-1)/2,url:null,params:null,reproject:!1,initialize:function(a,b,c,d){OpenLayers.Layer.prototype.initialize.apply(this,[a,d]),this.url=b,this.params||(this.params=OpenLayers.Util.extend({},c))},destroy:function(){this.params=this.url=null,OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.HTTPRequest(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.prototype.clone.apply(this,[a])},setUrl:function(a){this.url=a},mergeNewParams:function(a){return this.params=OpenLayers.Util.extend(this.params,a),a=this.redraw(),null!=this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"params"}),a},redraw:function(a){return a?this.mergeNewParams({_olSalt:Math.random()}):OpenLayers.Layer.prototype.redraw.apply(this,[])},selectUrl:function(a,b){for(var c=1,d=0,e=a.length;e>d;d++)c*=a.charCodeAt(d)*this.URL_HASH_FACTOR,c-=Math.floor(c);return b[Math.floor(c*b.length)]},getFullRequestString:function(a,b){var c=b||this.url,d=OpenLayers.Util.extend({},this.params),d=OpenLayers.Util.extend(d,a),e=OpenLayers.Util.getParameterString(d);OpenLayers.Util.isArray(c)&&(c=this.selectUrl(e,c));var f,e=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(c));for(f in d)f.toUpperCase()in e&&delete d[f];return e=OpenLayers.Util.getParameterString(d),OpenLayers.Util.urlAppend(c,e)},CLASS_NAME:"OpenLayers.Layer.HTTPRequest"}),OpenLayers.Tile=OpenLayers.Class({events:null,eventListeners:null,id:null,layer:null,url:null,bounds:null,size:null,position:null,isLoading:!1,initialize:function(a,b,c,d,e,f){this.layer=a,this.position=b.clone(),this.setBounds(c),this.url=d,e&&(this.size=e.clone()),this.id=OpenLayers.Util.createUniqueID("Tile_"),OpenLayers.Util.extend(this,f),this.events=new OpenLayers.Events(this),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)},unload:function(){this.isLoading&&(this.isLoading=!1,this.events.triggerEvent("unload"))},destroy:function(){this.position=this.size=this.bounds=this.layer=null,this.eventListeners&&this.events.un(this.eventListeners),this.events.destroy(),this.events=this.eventListeners=null},draw:function(a){a||this.clear();var b=this.shouldDraw();return b&&!a&&!1===this.events.triggerEvent("beforedraw")&&(b=null),b},shouldDraw:function(){var a=!1,b=this.layer.maxExtent;if(b){var c=this.layer.map,c=c.baseLayer.wrapDateLine&&c.getMaxExtent();this.bounds.intersectsBounds(b,{inclusive:!1,worldBounds:c})&&(a=!0)}return a||this.layer.displayOutsideMaxExtent},setBounds:function(a){if(a=a.clone(),this.layer.map.baseLayer.wrapDateLine){var b=this.layer.map.getMaxExtent(),c=this.layer.map.getResolution();a=a.wrapDateLine(b,{leftTolerance:c,rightTolerance:c})}this.bounds=a},moveTo:function(a,b,c){null==c&&(c=!0),this.setBounds(a),this.position=b.clone(),c&&this.draw()},clear:function(){},CLASS_NAME:"OpenLayers.Tile"}),OpenLayers.Tile.Image=OpenLayers.Class(OpenLayers.Tile,{url:null,imgDiv:null,frame:null,imageReloadAttempts:null,layerAlphaHack:null,asyncRequestId:null,maxGetUrlLength:null,canvasContext:null,crossOriginKeyword:null,initialize:function(a,b,c,d){OpenLayers.Tile.prototype.initialize.apply(this,arguments),this.url=d,this.layerAlphaHack=this.layer.alpha&&OpenLayers.Util.alphaHack(),(null!=this.maxGetUrlLength||this.layer.gutter||this.layerAlphaHack)&&(this.frame=document.createElement("div"),this.frame.style.position="absolute",this.frame.style.overflow="hidden"),null!=this.maxGetUrlLength&&OpenLayers.Util.extend(this,OpenLayers.Tile.Image.IFrame)},destroy:function(){this.imgDiv&&(this.clear(),this.frame=this.imgDiv=null),this.asyncRequestId=null,OpenLayers.Tile.prototype.destroy.apply(this,arguments)},draw:function(){var a=OpenLayers.Tile.prototype.draw.apply(this,arguments);return a?(this.layer!=this.layer.map.baseLayer&&this.layer.reproject&&(this.bounds=this.getBoundsFromBaseLayer(this.position)),this.isLoading?this._loadEvent="reload":(this.isLoading=!0,this._loadEvent="loadstart"),this.renderTile(),this.positionTile()):!1===a&&this.unload(),a},renderTile:function(){if(this.layer.async){var a=this.asyncRequestId=(this.asyncRequestId||0)+1;this.layer.getURLasync(this.bounds,function(b){a==this.asyncRequestId&&(this.url=b,this.initImage())},this)}else this.url=this.layer.getURL(this.bounds),this.initImage()},positionTile:function(){var a=this.getTile().style,b=this.frame?this.size:this.layer.getImageSize(this.bounds),c=1;this.layer instanceof OpenLayers.Layer.Grid&&(c=this.layer.getServerResolution()/this.layer.map.getResolution()),a.left=this.position.x+"px",a.top=this.position.y+"px",a.width=Math.round(c*b.w)+"px",a.height=Math.round(c*b.h)+"px"},clear:function(){OpenLayers.Tile.prototype.clear.apply(this,arguments);var a=this.imgDiv;if(a){var b=this.getTile();b.parentNode===this.layer.div&&this.layer.div.removeChild(b),this.setImgSrc(),!0===this.layerAlphaHack&&(a.style.filter=""),OpenLayers.Element.removeClass(a,"olImageLoadError")}this.canvasContext=null},getImage:function(){if(!this.imgDiv){this.imgDiv=OpenLayers.Tile.Image.IMAGE.cloneNode(!1);var a=this.imgDiv.style;if(this.frame){var b=0,c=0;this.layer.gutter&&(b=100*(this.layer.gutter/this.layer.tileSize.w),c=100*(this.layer.gutter/this.layer.tileSize.h)),a.left=-b+"%",a.top=-c+"%",a.width=2*b+100+"%",a.height=2*c+100+"%"}a.visibility="hidden",a.opacity=0,1>this.layer.opacity&&(a.filter="alpha(opacity="+100*this.layer.opacity+")"),a.position="absolute",this.layerAlphaHack&&(a.paddingTop=a.height,a.height="0",a.width="100%"),this.frame&&this.frame.appendChild(this.imgDiv)}return this.imgDiv},setImage:function(a){this.imgDiv=a},initImage:function(){if(this.url||this.imgDiv){this.events.triggerEvent("beforeload"),this.layer.div.appendChild(this.getTile()),this.events.triggerEvent(this._loadEvent);var a=this.getImage(),b=a.getAttribute("src")||"";this.url&&OpenLayers.Util.isEquivalentUrl(b,this.url)?this._loadTimeout=window.setTimeout(OpenLayers.Function.bind(this.onImageLoad,this),0):(this.stopLoading(),this.crossOriginKeyword&&a.removeAttribute("crossorigin"),OpenLayers.Event.observe(a,"load",OpenLayers.Function.bind(this.onImageLoad,this)),OpenLayers.Event.observe(a,"error",OpenLayers.Function.bind(this.onImageError,this)),this.imageReloadAttempts=0,this.setImgSrc(this.url))}else this.isLoading=!1},setImgSrc:function(a){var b=this.imgDiv;a?(b.style.visibility="hidden",b.style.opacity=0,this.crossOriginKeyword&&("data:"!==a.substr(0,5)?b.setAttribute("crossorigin",this.crossOriginKeyword):b.removeAttribute("crossorigin")),b.src=a):(this.stopLoading(),this.imgDiv=null,b.parentNode&&b.parentNode.removeChild(b))},getTile:function(){return this.frame?this.frame:this.getImage()},createBackBuffer:function(){if(this.imgDiv&&!this.isLoading){var a;return this.frame?(a=this.frame.cloneNode(!1),a.appendChild(this.imgDiv)):a=this.imgDiv,this.imgDiv=null,a}},onImageLoad:function(){var a=this.imgDiv;this.stopLoading(),a.style.visibility="inherit",a.style.opacity=this.layer.opacity,this.isLoading=!1,this.canvasContext=null,this.events.triggerEvent("loadend"),!0===this.layerAlphaHack&&(a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.src+"', sizingMethod='scale')")},onImageError:function(){var a=this.imgDiv;null!=a.src&&(this.imageReloadAttempts++,this.imageReloadAttempts<=OpenLayers.IMAGE_RELOAD_ATTEMPTS?this.setImgSrc(this.layer.getURL(this.bounds)):(OpenLayers.Element.addClass(a,"olImageLoadError"),this.events.triggerEvent("loaderror"),this.onImageLoad()))},stopLoading:function(){OpenLayers.Event.stopObservingElement(this.imgDiv),window.clearTimeout(this._loadTimeout),delete this._loadTimeout},getCanvasContext:function(){if(OpenLayers.CANVAS_SUPPORTED&&this.imgDiv&&!this.isLoading){if(!this.canvasContext){var a=document.createElement("canvas");a.width=this.size.w,a.height=this.size.h,this.canvasContext=a.getContext("2d"),this.canvasContext.drawImage(this.imgDiv,0,0)}return this.canvasContext}},CLASS_NAME:"OpenLayers.Tile.Image"}),OpenLayers.Tile.Image.IMAGE=function(){var a=new Image;return a.className="olTileImage",a.galleryImg="no",a}(),OpenLayers.Layer.Grid=OpenLayers.Class(OpenLayers.Layer.HTTPRequest,{tileSize:null,tileOriginCorner:"bl",tileOrigin:null,tileOptions:null,tileClass:OpenLayers.Tile.Image,grid:null,singleTile:!1,ratio:1.5,buffer:0,transitionEffect:"resize",numLoadingTiles:0,serverResolutions:null,loading:!1,backBuffer:null,gridResolution:null,backBufferResolution:null,backBufferLonLat:null,backBufferTimerId:null,removeBackBufferDelay:null,className:null,gridLayout:null,rowSign:null,transitionendEvents:["transitionend","webkitTransitionEnd","otransitionend","oTransitionEnd"],initialize:function(){OpenLayers.Layer.HTTPRequest.prototype.initialize.apply(this,arguments),this.grid=[],this._removeBackBuffer=OpenLayers.Function.bind(this.removeBackBuffer,this),this.initProperties(),this.rowSign="t"===this.tileOriginCorner.substr(0,1)?1:-1},initProperties:function(){void 0===this.options.removeBackBufferDelay&&(this.removeBackBufferDelay=this.singleTile?0:2500),void 0===this.options.className&&(this.className=this.singleTile?"olLayerGridSingleTile":"olLayerGrid")},setMap:function(a){OpenLayers.Layer.HTTPRequest.prototype.setMap.call(this,a),OpenLayers.Element.addClass(this.div,this.className)},removeMap:function(){this.removeBackBuffer()},destroy:function(){this.removeBackBuffer(),this.clearGrid(),this.tileSize=this.grid=null,OpenLayers.Layer.HTTPRequest.prototype.destroy.apply(this,arguments)},clearGrid:function(){if(this.grid){for(var a=0,b=this.grid.length;b>a;a++)for(var c=this.grid[a],d=0,e=c.length;e>d;d++)this.destroyTile(c[d]);this.grid=[],this.gridLayout=this.gridResolution=null}},addOptions:function(a){var b=void 0!==a.singleTile&&a.singleTile!==this.singleTile;OpenLayers.Layer.HTTPRequest.prototype.addOptions.apply(this,arguments),this.map&&b&&(this.initProperties(),this.clearGrid(),this.tileSize=this.options.tileSize,this.setTileSize(),this.moveTo(null,!0))},clone:function(a){return null==a&&(a=new OpenLayers.Layer.Grid(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.HTTPRequest.prototype.clone.apply(this,[a]),null!=this.tileSize&&(a.tileSize=this.tileSize.clone()),a.grid=[],a.gridResolution=null,a.backBuffer=null,a.backBufferTimerId=null,a.loading=!1,a.numLoadingTiles=0,a},moveTo:function(a,b,c){if(OpenLayers.Layer.HTTPRequest.prototype.moveTo.apply(this,arguments),a=a||this.map.getExtent(),null!=a){var d=!this.grid.length||b,e=this.getTilesBounds(),f=this.map.getResolution();this.getServerResolution(f),this.singleTile?(d||!c&&!e.containsBounds(a))&&(b&&"resize"!==this.transitionEffect&&this.removeBackBuffer(),b&&"resize"!==this.transitionEffect||this.applyBackBuffer(f),this.initSingleTile(a)):(d=d||!e.intersectsBounds(a,{worldBounds:this.map.baseLayer.wrapDateLine&&this.map.getMaxExtent()}))?(!b||"resize"!==this.transitionEffect&&this.gridResolution!==f||this.applyBackBuffer(f),this.initGriddedTiles(a)):this.moveGriddedTiles()}},getTileData:function(a){var b=null,c=a.lon,d=a.lat,e=this.grid.length;if(this.map&&e){var f=this.map.getResolution();a=this.tileSize.w;var g=this.tileSize.h,h=this.grid[0][0].bounds,i=h.left,h=h.top;if(i>c&&this.map.baseLayer.wrapDateLine)var j=this.map.getMaxExtent().getWidth(),k=Math.ceil((i-c)/j),c=c+j*k;c=(c-i)/(f*a),d=(h-d)/(f*g),f=Math.floor(c),i=Math.floor(d),i>=0&&e>i&&(e=this.grid[i][f])&&(b={tile:e,i:Math.floor((c-f)*a),j:Math.floor((d-i)*g)})}return b},destroyTile:function(a){this.removeTileMonitoringHooks(a),a.destroy()},getServerResolution:function(a){var b=Number.POSITIVE_INFINITY;if(a=a||this.map.getResolution(),this.serverResolutions&&-1===OpenLayers.Util.indexOf(this.serverResolutions,a)){var c,d,e,f;for(c=this.serverResolutions.length-1;c>=0&&(e=this.serverResolutions[c],d=Math.abs(e-a),!(d>b));c--)b=d,f=e;a=f}return a},getServerZoom:function(){var a=this.getServerResolution();return this.serverResolutions?OpenLayers.Util.indexOf(this.serverResolutions,a):this.map.getZoomForResolution(a)+(this.zoomOffset||0)},applyBackBuffer:function(a){null!==this.backBufferTimerId&&this.removeBackBuffer();var b=this.backBuffer;if(!b){if(b=this.createBackBuffer(),!b)return;a===this.gridResolution?this.div.insertBefore(b,this.div.firstChild):this.map.baseLayer.div.parentNode.insertBefore(b,this.map.baseLayer.div),this.backBuffer=b;var c=this.grid[0][0].bounds;this.backBufferLonLat={lon:c.left,lat:c.top},this.backBufferResolution=this.gridResolution}for(var d,c=this.backBufferResolution/a,e=b.childNodes,f=e.length-1;f>=0;--f)d=e[f],d.style.top=(c*d._i*d._h|0)+"px",d.style.left=(c*d._j*d._w|0)+"px",d.style.width=Math.round(c*d._w)+"px",d.style.height=Math.round(c*d._h)+"px";a=this.getViewPortPxFromLonLat(this.backBufferLonLat,a),c=this.map.layerContainerOriginPx.y,b.style.left=Math.round(a.x-this.map.layerContainerOriginPx.x)+"px",b.style.top=Math.round(a.y-c)+"px"},createBackBuffer:function(){var a;if(0<this.grid.length){a=document.createElement("div"),a.id=this.div.id+"_bb",a.className="olBackBuffer",a.style.position="absolute";var b=this.map;a.style.zIndex="resize"===this.transitionEffect?this.getZIndex()-1:b.Z_INDEX_BASE.BaseLayer-(b.getNumLayers()-b.getLayerIndex(this));for(var b=0,c=this.grid.length;c>b;b++)for(var d=0,e=this.grid[b].length;e>d;d++){var f=this.grid[b][d],g=this.grid[b][d].createBackBuffer();g&&(g._i=b,g._j=d,g._w=f.size.w,g._h=f.size.h,g.id=f.id+"_bb",a.appendChild(g))}}return a},removeBackBuffer:function(){if(this._transitionElement){for(var a=this.transitionendEvents.length-1;a>=0;--a)OpenLayers.Event.stopObserving(this._transitionElement,this.transitionendEvents[a],this._removeBackBuffer);delete this._transitionElement}this.backBuffer&&(this.backBuffer.parentNode&&this.backBuffer.parentNode.removeChild(this.backBuffer),this.backBufferResolution=this.backBuffer=null,null!==this.backBufferTimerId&&(window.clearTimeout(this.backBufferTimerId),this.backBufferTimerId=null))},moveByPx:function(){this.singleTile||this.moveGriddedTiles()},setTileSize:function(a){this.singleTile&&(a=this.map.getSize(),a.h=parseInt(a.h*this.ratio,10),a.w=parseInt(a.w*this.ratio,10)),OpenLayers.Layer.HTTPRequest.prototype.setTileSize.apply(this,[a])},getTilesBounds:function(){var a=null,b=this.grid.length;if(b)var a=this.grid[b-1][0].bounds,b=this.grid[0].length*a.getWidth(),c=this.grid.length*a.getHeight(),a=new OpenLayers.Bounds(a.left,a.bottom,a.left+b,a.bottom+c);return a},initSingleTile:function(a){this.events.triggerEvent("retile");var b=a.getCenterLonLat(),c=a.getWidth()*this.ratio;a=a.getHeight()*this.ratio,b=new OpenLayers.Bounds(b.lon-c/2,b.lat-a/2,b.lon+c/2,b.lat+a/2),c=this.map.getLayerPxFromLonLat({lon:b.left,lat:b.top}),this.grid.length||(this.grid[0]=[]),(a=this.grid[0][0])?a.moveTo(b,c):(a=this.addTile(b,c),this.addTileMonitoringHooks(a),a.draw(),this.grid[0][0]=a),this.removeExcessTiles(1,1),this.gridResolution=this.getServerResolution()},calculateGridLayout:function(a,b,c){var d=c*this.tileSize.w;c*=this.tileSize.h;var e=Math.floor((a.left-b.lon)/d)-this.buffer,f=this.rowSign;return a=Math[~f?"floor":"ceil"](f*(b.lat-a.top+c)/c)-this.buffer*f,{tilelon:d,tilelat:c,startcol:e,startrow:a}},getTileOrigin:function(){var a=this.tileOrigin;if(!a)var a=this.getMaxExtent(),b={tl:["left","top"],tr:["right","top"],bl:["left","bottom"],br:["right","bottom"]}[this.tileOriginCorner],a=new OpenLayers.LonLat(a[b[0]],a[b[1]]);return a},getTileBoundsForGridIndex:function(a,b){var c=this.getTileOrigin(),d=this.gridLayout,e=d.tilelon,f=d.tilelat,g=d.startcol,d=d.startrow,h=this.rowSign;return new OpenLayers.Bounds(c.lon+(g+b)*e,c.lat-(d+a*h)*f*h,c.lon+(g+b+1)*e,c.lat-(d+(a-1)*h)*f*h)},initGriddedTiles:function(a){this.events.triggerEvent("retile");var b=this.map.getSize(),c=this.getTileOrigin(),d=this.map.getResolution(),e=this.getServerResolution(),f=d/e,d=this.tileSize.w/f,f=this.tileSize.h/f,g=Math.ceil(b.h/f)+2*this.buffer+1,b=Math.ceil(b.w/d)+2*this.buffer+1;this.gridLayout=e=this.calculateGridLayout(a,c,e);var c=e.tilelon,h=e.tilelat,e=this.map.layerContainerOriginPx.x,i=this.map.layerContainerOriginPx.y,j=this.getTileBoundsForGridIndex(0,0),k=this.map.getViewPortPxFromLonLat(new OpenLayers.LonLat(j.left,j.top));k.x=Math.round(k.x)-e,k.y=Math.round(k.y)-i;var e=[],i=this.map.getCenter(),l=0;do{var m=this.grid[l];m||(m=[],this.grid.push(m));var n=0;do{var j=this.getTileBoundsForGridIndex(l,n),o=k.clone();o.x+=n*Math.round(d),o.y+=l*Math.round(f);var p=m[n];p?p.moveTo(j,o,!1):(p=this.addTile(j,o),this.addTileMonitoringHooks(p),m.push(p)),o=j.getCenterLonLat(),e.push({tile:p,distance:Math.pow(o.lon-i.lon,2)+Math.pow(o.lat-i.lat,2)}),n+=1}while(j.right<=a.right+c*this.buffer||b>n);l+=1}while(j.bottom>=a.bottom-h*this.buffer||g>l);for(this.removeExcessTiles(l,n),this.gridResolution=d=this.getServerResolution(),e.sort(function(a,b){return a.distance-b.distance}),a=0,d=e.length;d>a;++a)e[a].tile.draw()},getMaxExtent:function(){return this.maxExtent},addTile:function(a,b){var c=new this.tileClass(this,b,a,null,this.tileSize,this.tileOptions);return this.events.triggerEvent("addtile",{tile:c}),c},addTileMonitoringHooks:function(a){a.onLoadStart=function(){!1===this.loading&&(this.loading=!0,this.events.triggerEvent("loadstart")),this.events.triggerEvent("tileloadstart",{tile:a}),this.numLoadingTiles++,!this.singleTile&&this.backBuffer&&this.gridResolution===this.backBufferResolution&&OpenLayers.Element.addClass(a.getTile(),"olTileReplacing")},a.onLoadEnd=function(b){if(this.numLoadingTiles--,b="unload"===b.type,this.events.triggerEvent("tileloaded",{tile:a,aborted:b}),!this.singleTile&&!b&&this.backBuffer&&this.gridResolution===this.backBufferResolution){var c=a.getTile();if("none"===OpenLayers.Element.getStyle(c,"display")){var d=document.getElementById(a.id+"_bb");d&&d.parentNode.removeChild(d)}OpenLayers.Element.removeClass(c,"olTileReplacing")}if(0===this.numLoadingTiles){if(this.backBuffer)if(0===this.backBuffer.childNodes.length)this.removeBackBuffer();else{for(this._transitionElement=b?this.div.lastChild:a.imgDiv,b=this.transitionendEvents,c=b.length-1;c>=0;--c)OpenLayers.Event.observe(this._transitionElement,b[c],this._removeBackBuffer);this.backBufferTimerId=window.setTimeout(this._removeBackBuffer,this.removeBackBufferDelay)}this.loading=!1,this.events.triggerEvent("loadend")}},a.onLoadError=function(){this.events.triggerEvent("tileerror",{tile:a})},a.events.on({loadstart:a.onLoadStart,loadend:a.onLoadEnd,unload:a.onLoadEnd,loaderror:a.onLoadError,scope:this})},removeTileMonitoringHooks:function(a){a.unload(),a.events.un({loadstart:a.onLoadStart,loadend:a.onLoadEnd,unload:a.onLoadEnd,loaderror:a.onLoadError,scope:this})},moveGriddedTiles:function(){for(var a=this.buffer+1;;){var b=this.grid[0][0],c=b.position.x+this.map.layerContainerOriginPx.x,b=b.position.y+this.map.layerContainerOriginPx.y,d=this.getServerResolution()/this.map.getResolution(),d={w:Math.round(this.tileSize.w*d),h:Math.round(this.tileSize.h*d)};if(c>-d.w*(a-1))this.shiftColumn(!0,d);else if(c<-d.w*a)this.shiftColumn(!1,d);else if(b>-d.h*(a-1))this.shiftRow(!0,d);else{if(!(b<-d.h*a))break;this.shiftRow(!1,d)}}},shiftRow:function(a,b){var c=this.grid,d=a?0:c.length-1,e=a?-1:1;this.gridLayout.startrow+=e*this.rowSign;for(var f=c[d],g=c[a?"pop":"shift"](),h=0,i=g.length;i>h;h++){var j=g[h],k=f[h].position.clone();k.y+=b.h*e,j.moveTo(this.getTileBoundsForGridIndex(d,h),k)}c[a?"unshift":"push"](g)},shiftColumn:function(a,b){var c=this.grid,d=a?0:c[0].length-1,e=a?-1:1;this.gridLayout.startcol+=e;for(var f=0,g=c.length;g>f;f++){var h=c[f],i=h[d].position.clone(),j=h[a?"pop":"shift"]();i.x+=b.w*e,j.moveTo(this.getTileBoundsForGridIndex(f,d),i),h[a?"unshift":"push"](j)}},removeExcessTiles:function(a,b){for(var c,d;this.grid.length>a;){var e=this.grid.pop();
for(c=0,d=e.length;d>c;c++){var f=e[c];this.destroyTile(f)}}for(c=0,d=this.grid.length;d>c;c++)for(;this.grid[c].length>b;)e=this.grid[c],f=e.pop(),this.destroyTile(f)},onMapResize:function(){this.singleTile&&(this.clearGrid(),this.setTileSize())},getTileBounds:function(a){var b=this.maxExtent,c=this.getResolution(),d=c*this.tileSize.w,c=c*this.tileSize.h,e=this.getLonLatFromViewPortPx(a);return a=b.left+d*Math.floor((e.lon-b.left)/d),b=b.bottom+c*Math.floor((e.lat-b.bottom)/c),new OpenLayers.Bounds(a,b,a+d,b+c)},CLASS_NAME:"OpenLayers.Layer.Grid"}),OpenLayers.Format.ArcXML=OpenLayers.Class(OpenLayers.Format.XML,{fontStyleKeys:"antialiasing blockout font fontcolor fontsize fontstyle glowing interval outline printmode shadow transparency".split(" "),request:null,response:null,initialize:function(a){if(this.request=new OpenLayers.Format.ArcXML.Request,this.response=new OpenLayers.Format.ArcXML.Response,a)if("feature"==a.requesttype){this.request.get_image=null;var b=this.request.get_feature.query;this.addCoordSys(b.featurecoordsys,a.featureCoordSys),this.addCoordSys(b.filtercoordsys,a.filterCoordSys),a.polygon?(b.isspatial=!0,b.spatialfilter.polygon=a.polygon):a.envelope&&(b.isspatial=!0,b.spatialfilter.envelope={minx:0,miny:0,maxx:0,maxy:0},this.parseEnvelope(b.spatialfilter.envelope,a.envelope))}else"image"==a.requesttype?(this.request.get_feature=null,b=this.request.get_image.properties,this.parseEnvelope(b.envelope,a.envelope),this.addLayers(b.layerlist,a.layers),this.addImageSize(b.imagesize,a.tileSize),this.addCoordSys(b.featurecoordsys,a.featureCoordSys),this.addCoordSys(b.filtercoordsys,a.filterCoordSys)):this.request=null;OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},parseEnvelope:function(a,b){b&&4==b.length&&(a.minx=b[0],a.miny=b[1],a.maxx=b[2],a.maxy=b[3])},addLayers:function(a,b){for(var c=0,d=b.length;d>c;c++)a.push(b[c])},addImageSize:function(a,b){null!==b&&(a.width=b.w,a.height=b.h,a.printwidth=b.w,a.printheight=b.h)},addCoordSys:function(a,b){"string"==typeof b?(a.id=parseInt(b),a.string=b):"object"==typeof b&&null!==b.proj&&(a.id=b.proj.srsProjNumber,a.string=b.proj.srsCode)},iserror:function(a){var b=null;return a?(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]),a=a.documentElement.getElementsByTagName("ERROR"),b=null!==a&&0<a.length):b=""!==this.response.error,b},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b=null;if(a&&a.documentElement&&(b="ARCXML"==a.documentElement.nodeName?a.documentElement:a.documentElement.getElementsByTagName("ARCXML")[0]),!b||"parsererror"===b.firstChild.nodeName){var c,d;try{c=a.firstChild.nodeValue,d=a.firstChild.childNodes[1].firstChild.nodeValue}catch(e){}throw{message:"Error parsing the ArcXML request",error:c,source:d}}return this.parseResponse(b)},write:function(a){a||(a=this.request);var b=this.createElementNS("","ARCXML");b.setAttribute("version","1.1");var c=this.createElementNS("","REQUEST");if(null!=a.get_image){var d=this.createElementNS("","GET_IMAGE");c.appendChild(d);var e=this.createElementNS("","PROPERTIES");if(d.appendChild(e),a=a.get_image.properties,null!=a.featurecoordsys&&(d=this.createElementNS("","FEATURECOORDSYS"),e.appendChild(d),0===a.featurecoordsys.id?d.setAttribute("string",a.featurecoordsys.string):d.setAttribute("id",a.featurecoordsys.id)),null!=a.filtercoordsys&&(d=this.createElementNS("","FILTERCOORDSYS"),e.appendChild(d),0===a.filtercoordsys.id?d.setAttribute("string",a.filtercoordsys.string):d.setAttribute("id",a.filtercoordsys.id)),null!=a.envelope&&(d=this.createElementNS("","ENVELOPE"),e.appendChild(d),d.setAttribute("minx",a.envelope.minx),d.setAttribute("miny",a.envelope.miny),d.setAttribute("maxx",a.envelope.maxx),d.setAttribute("maxy",a.envelope.maxy)),d=this.createElementNS("","IMAGESIZE"),e.appendChild(d),d.setAttribute("height",a.imagesize.height),d.setAttribute("width",a.imagesize.width),(a.imagesize.height!=a.imagesize.printheight||a.imagesize.width!=a.imagesize.printwidth)&&(d.setAttribute("printheight",a.imagesize.printheight),d.setArrtibute("printwidth",a.imagesize.printwidth)),null!=a.background&&(d=this.createElementNS("","BACKGROUND"),e.appendChild(d),d.setAttribute("color",a.background.color.r+","+a.background.color.g+","+a.background.color.b),null!==a.background.transcolor&&d.setAttribute("transcolor",a.background.transcolor.r+","+a.background.transcolor.g+","+a.background.transcolor.b)),null!=a.layerlist&&0<a.layerlist.length)for(d=this.createElementNS("","LAYERLIST"),e.appendChild(d),e=0;e<a.layerlist.length;e++){var f=this.createElementNS("","LAYERDEF");if(d.appendChild(f),f.setAttribute("id",a.layerlist[e].id),f.setAttribute("visible",a.layerlist[e].visible),"object"==typeof a.layerlist[e].query){var g=a.layerlist[e].query;if(0>g.where.length)continue;var h=null,h="boolean"==typeof g.spatialfilter&&g.spatialfilter?this.createElementNS("","SPATIALQUERY"):this.createElementNS("","QUERY");h.setAttribute("where",g.where),"number"==typeof g.accuracy&&0<g.accuracy&&h.setAttribute("accuracy",g.accuracy),"number"==typeof g.featurelimit&&2e3>g.featurelimit&&h.setAttribute("featurelimit",g.featurelimit),"string"==typeof g.subfields&&"#ALL#"!=g.subfields&&h.setAttribute("subfields",g.subfields),"string"==typeof g.joinexpression&&0<g.joinexpression.length&&h.setAttribute("joinexpression",g.joinexpression),"string"==typeof g.jointables&&0<g.jointables.length&&h.setAttribute("jointables",g.jointables),f.appendChild(h)}"object"==typeof a.layerlist[e].renderer&&this.addRenderer(f,a.layerlist[e].renderer)}}else null!=a.get_feature&&(d=this.createElementNS("","GET_FEATURES"),d.setAttribute("outputmode","newxml"),d.setAttribute("checkesc","true"),a.get_feature.geometry?d.setAttribute("geometry",a.get_feature.geometry):d.setAttribute("geometry","false"),a.get_feature.compact&&d.setAttribute("compact",a.get_feature.compact),"number"==a.get_feature.featurelimit&&d.setAttribute("featurelimit",a.get_feature.featurelimit),d.setAttribute("globalenvelope","true"),c.appendChild(d),null!=a.get_feature.layer&&0<a.get_feature.layer.length&&(e=this.createElementNS("","LAYER"),e.setAttribute("id",a.get_feature.layer),d.appendChild(e)),a=a.get_feature.query,null!=a&&(e=null,e=a.isspatial?this.createElementNS("","SPATIALQUERY"):this.createElementNS("","QUERY"),d.appendChild(e),"number"==typeof a.accuracy&&e.setAttribute("accuracy",a.accuracy),null!=a.featurecoordsys&&(d=this.createElementNS("","FEATURECOORDSYS"),0==a.featurecoordsys.id?d.setAttribute("string",a.featurecoordsys.string):d.setAttribute("id",a.featurecoordsys.id),e.appendChild(d)),null!=a.filtercoordsys&&(d=this.createElementNS("","FILTERCOORDSYS"),0===a.filtercoordsys.id?d.setAttribute("string",a.filtercoordsys.string):d.setAttribute("id",a.filtercoordsys.id),e.appendChild(d)),0<a.buffer&&(d=this.createElementNS("","BUFFER"),d.setAttribute("distance",a.buffer),e.appendChild(d)),a.isspatial&&(d=this.createElementNS("","SPATIALFILTER"),d.setAttribute("relation",a.spatialfilter.relation),e.appendChild(d),a.spatialfilter.envelope?(f=this.createElementNS("","ENVELOPE"),f.setAttribute("minx",a.spatialfilter.envelope.minx),f.setAttribute("miny",a.spatialfilter.envelope.miny),f.setAttribute("maxx",a.spatialfilter.envelope.maxx),f.setAttribute("maxy",a.spatialfilter.envelope.maxy),d.appendChild(f)):"object"==typeof a.spatialfilter.polygon&&d.appendChild(this.writePolygonGeometry(a.spatialfilter.polygon))),null!=a.where&&0<a.where.length&&e.setAttribute("where",a.where)));return b.appendChild(c),OpenLayers.Format.XML.prototype.write.apply(this,[b])},addGroupRenderer:function(a,b){var c=this.createElementNS("","GROUPRENDERER");a.appendChild(c);for(var d=0;d<b.length;d++)this.addRenderer(c,b[d])},addRenderer:function(a,b){if(OpenLayers.Util.isArray(b))this.addGroupRenderer(a,b);else{var c=this.createElementNS("",b.type.toUpperCase()+"RENDERER");a.appendChild(c),"VALUEMAPRENDERER"==c.tagName?this.addValueMapRenderer(c,b):"VALUEMAPLABELRENDERER"==c.tagName?this.addValueMapLabelRenderer(c,b):"SIMPLELABELRENDERER"==c.tagName?this.addSimpleLabelRenderer(c,b):"SCALEDEPENDENTRENDERER"==c.tagName&&this.addScaleDependentRenderer(c,b)}},addScaleDependentRenderer:function(a,b){"string"!=typeof b.lower&&"number"!=typeof b.lower||a.setAttribute("lower",b.lower),"string"!=typeof b.upper&&"number"!=typeof b.upper||a.setAttribute("upper",b.upper),this.addRenderer(a,b.renderer)},addValueMapLabelRenderer:function(a,b){if(a.setAttribute("lookupfield",b.lookupfield),a.setAttribute("labelfield",b.labelfield),"object"==typeof b.exacts)for(var c=0,d=b.exacts.length;d>c;c++){var e=b.exacts[c],f=this.createElementNS("","EXACT");if("string"==typeof e.value&&f.setAttribute("value",e.value),"string"==typeof e.label&&f.setAttribute("label",e.label),"string"==typeof e.method&&f.setAttribute("method",e.method),a.appendChild(f),"object"==typeof e.symbol){var g=null;if("text"==e.symbol.type&&(g=this.createElementNS("","TEXTSYMBOL")),null!=g){for(var h=this.fontStyleKeys,i=0,j=h.length;j>i;i++){var k=h[i];e.symbol[k]&&g.setAttribute(k,e.symbol[k])}f.appendChild(g)}}}},addValueMapRenderer:function(a,b){if(a.setAttribute("lookupfield",b.lookupfield),"object"==typeof b.ranges)for(var c=0,d=b.ranges.length;d>c;c++){var e=b.ranges[c],f=this.createElementNS("","RANGE");if(f.setAttribute("lower",e.lower),f.setAttribute("upper",e.upper),a.appendChild(f),"object"==typeof e.symbol){var g=null;"simplepolygon"==e.symbol.type&&(g=this.createElementNS("","SIMPLEPOLYGONSYMBOL")),null!=g&&("string"==typeof e.symbol.boundarycolor&&g.setAttribute("boundarycolor",e.symbol.boundarycolor),"string"==typeof e.symbol.fillcolor&&g.setAttribute("fillcolor",e.symbol.fillcolor),"number"==typeof e.symbol.filltransparency&&g.setAttribute("filltransparency",e.symbol.filltransparency),f.appendChild(g))}}else if("object"==typeof b.exacts)for(c=0,d=b.exacts.length;d>c;c++)e=b.exacts[c],f=this.createElementNS("","EXACT"),"string"==typeof e.value&&f.setAttribute("value",e.value),"string"==typeof e.label&&f.setAttribute("label",e.label),"string"==typeof e.method&&f.setAttribute("method",e.method),a.appendChild(f),"object"==typeof e.symbol&&(g=null,"simplemarker"==e.symbol.type&&(g=this.createElementNS("","SIMPLEMARKERSYMBOL")),null!=g&&("string"==typeof e.symbol.antialiasing&&g.setAttribute("antialiasing",e.symbol.antialiasing),"string"==typeof e.symbol.color&&g.setAttribute("color",e.symbol.color),"string"==typeof e.symbol.outline&&g.setAttribute("outline",e.symbol.outline),"string"==typeof e.symbol.overlap&&g.setAttribute("overlap",e.symbol.overlap),"string"==typeof e.symbol.shadow&&g.setAttribute("shadow",e.symbol.shadow),"number"==typeof e.symbol.transparency&&g.setAttribute("transparency",e.symbol.transparency),"string"==typeof e.symbol.usecentroid&&g.setAttribute("usecentroid",e.symbol.usecentroid),"number"==typeof e.symbol.width&&g.setAttribute("width",e.symbol.width),f.appendChild(g)))},addSimpleLabelRenderer:function(a,b){a.setAttribute("field",b.field);for(var c="featureweight howmanylabels labelbufferratio labelpriorities labelweight linelabelposition rotationalangles".split(" "),d=0,e=c.length;e>d;d++){var f=c[d];b[f]&&a.setAttribute(f,b[f])}if("text"==b.symbol.type){var g=b.symbol,h=this.createElementNS("","TEXTSYMBOL");for(a.appendChild(h),c=this.fontStyleKeys,d=0,e=c.length;e>d;d++)f=c[d],g[f]&&h.setAttribute(f,b[f])}},writePolygonGeometry:function(a){if(!(a instanceof OpenLayers.Geometry.Polygon))throw{message:"Cannot write polygon geometry to ArcXML with an "+a.CLASS_NAME+" object.",geometry:a};for(var b=this.createElementNS("","POLYGON"),c=0,d=a.components.length;d>c;c++){for(var e=a.components[c],f=this.createElementNS("","RING"),g=0,h=e.components.length;h>g;g++){var i=e.components[g],j=this.createElementNS("","POINT");j.setAttribute("x",i.x),j.setAttribute("y",i.y),f.appendChild(j)}b.appendChild(f)}return b},parseResponse:function(a){"string"==typeof a&&(a=(new OpenLayers.Format.XML).read(a));var b=new OpenLayers.Format.ArcXML.Response,c=a.getElementsByTagName("ERROR");if(null!=c&&0<c.length)b.error=this.getChildValue(c,"Unknown error.");else{if(c=a.getElementsByTagName("RESPONSE"),null==c||0==c.length)return b.error="No RESPONSE tag found in ArcXML response.",b;var d=c[0].firstChild.nodeName;if("#text"==d&&(d=c[0].firstChild.nextSibling.nodeName),"IMAGE"==d)c=a.getElementsByTagName("ENVELOPE"),a=a.getElementsByTagName("OUTPUT"),null==c||0==c.length?b.error="No ENVELOPE tag found in ArcXML response.":null==a||0==a.length?b.error="No OUTPUT tag found in ArcXML response.":(c=this.parseAttributes(c[0]),d=this.parseAttributes(a[0]),b.image="string"==typeof d.type?{envelope:c,output:{type:d.type,data:this.getChildValue(a[0])}}:{envelope:c,output:d});else if("FEATURES"==d){if(a=c[0].getElementsByTagName("FEATURES"),c=a[0].getElementsByTagName("FEATURECOUNT"),b.features.featurecount=c[0].getAttribute("count"),0<b.features.featurecount)for(c=a[0].getElementsByTagName("ENVELOPE"),b.features.envelope=this.parseAttributes(c[0],"number"),a=a[0].getElementsByTagName("FEATURE"),c=0;c<a.length;c++){for(var d=new OpenLayers.Feature.Vector,e=a[c].getElementsByTagName("FIELD"),f=0;f<e.length;f++){var g=e[f].getAttribute("name"),h=e[f].getAttribute("value");d.attributes[g]=h}if(e=a[c].getElementsByTagName("POLYGON"),0<e.length){for(e=e[0].getElementsByTagName("RING"),f=[],g=0;g<e.length;g++){h=[],h.push(this.parsePointGeometry(e[g]));for(var i=e[g].getElementsByTagName("HOLE"),j=0;j<i.length;j++)h.push(this.parsePointGeometry(i[j]));f.push(new OpenLayers.Geometry.Polygon(h))}d.geometry=1==f.length?f[0]:new OpenLayers.Geometry.MultiPolygon(f)}b.features.feature.push(d)}}else b.error="Unidentified response type."}return b},parseAttributes:function(a,b){for(var c={},d=0;d<a.attributes.length;d++)c[a.attributes[d].nodeName]="number"==b?parseFloat(a.attributes[d].nodeValue):a.attributes[d].nodeValue;return c},parsePointGeometry:function(a){var b=[],c=a.getElementsByTagName("COORDS");if(0<c.length)for(a=this.getChildValue(c[0]),a=a.split(/;/),c=0;c<a.length;c++){var d=a[c].split(/ /);b.push(new OpenLayers.Geometry.Point(d[0],d[1]))}else if(a=a.getElementsByTagName("POINT"),0<a.length)for(c=0;c<a.length;c++)b.push(new OpenLayers.Geometry.Point(parseFloat(a[c].getAttribute("x")),parseFloat(a[c].getAttribute("y"))));return new OpenLayers.Geometry.LinearRing(b)},CLASS_NAME:"OpenLayers.Format.ArcXML"}),OpenLayers.Format.ArcXML.Request=OpenLayers.Class({initialize:function(){return OpenLayers.Util.extend(this,{get_image:{properties:{background:null,draw:!0,envelope:{minx:0,miny:0,maxx:0,maxy:0},featurecoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},filtercoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},imagesize:{height:0,width:0,dpi:96,printheight:0,printwidth:0,scalesymbols:!1},layerlist:[],output:{baseurl:"",legendbaseurl:"",legendname:"",legendpath:"",legendurl:"",name:"",path:"",type:"jpg",url:""}}},get_feature:{layer:"",query:{isspatial:!1,featurecoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},filtercoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},buffer:0,where:"",spatialfilter:{relation:"envelope_intersection",envelope:null}}},environment:{separators:{cs:" ",ts:";"}},layer:[],workspaces:[]})},CLASS_NAME:"OpenLayers.Format.ArcXML.Request"}),OpenLayers.Format.ArcXML.Response=OpenLayers.Class({initialize:function(){return OpenLayers.Util.extend(this,{image:{envelope:null,output:""},features:{featurecount:0,envelope:null,feature:[]},error:""})},CLASS_NAME:"OpenLayers.Format.ArcXML.Response"}),function(){function a(){this._object=f&&!i?new f:new window.ActiveXObject("Microsoft.XMLHTTP"),this._listeners=[]}function b(){return new a}function c(a){b.onreadystatechange&&b.onreadystatechange.apply(a),a.dispatchEvent({type:"readystatechange",bubbles:!1,cancelable:!1,timeStamp:new Date+0})}function d(a){try{a.responseText=a._object.responseText}catch(b){}try{var c,d=a._object,e=d.responseXML,f=d.responseText;h&&f&&e&&!e.documentElement&&d.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)&&(e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.validateOnParse=!1,e.loadXML(f)),c=e&&(h&&0!=e.parseError||!e.documentElement||e.documentElement&&"parsererror"==e.documentElement.tagName)?null:e,a.responseXML=c}catch(g){}try{a.status=a._object.status}catch(i){}try{a.statusText=a._object.statusText}catch(j){}}function e(a){a._object.onreadystatechange=new window.Function}var f=window.XMLHttpRequest,g=!!window.controllers,h=window.document.all&&!window.opera,i=h&&window.navigator.userAgent.match(/MSIE 7.0/);b.prototype=a.prototype,g&&f.wrapped&&(b.wrapped=f.wrapped),b.UNSENT=0,b.OPENED=1,b.HEADERS_RECEIVED=2,b.LOADING=3,b.DONE=4,b.prototype.readyState=b.UNSENT,b.prototype.responseText="",b.prototype.responseXML=null,b.prototype.status=0,b.prototype.statusText="",b.prototype.priority="NORMAL",b.prototype.onreadystatechange=null,b.onreadystatechange=null,b.onopen=null,b.onsend=null,b.onabort=null,b.prototype.open=function(a,f,i,j,k){delete this._headers,3>arguments.length&&(i=!0),this._async=i;var l,m=this,n=this.readyState;h&&i&&(l=function(){n!=b.DONE&&(e(m),m.abort())},window.attachEvent("onunload",l)),b.onopen&&b.onopen.apply(this,arguments),4<arguments.length?this._object.open(a,f,i,j,k):3<arguments.length?this._object.open(a,f,i,j):this._object.open(a,f,i),this.readyState=b.OPENED,c(this),this._object.onreadystatechange=function(){(!g||i)&&(m.readyState=m._object.readyState,d(m),m._aborted?m.readyState=b.UNSENT:(m.readyState==b.DONE&&(delete m._data,e(m),h&&i&&window.detachEvent("onunload",l)),n!=m.readyState&&c(m),n=m.readyState))}},b.prototype.send=function(a){b.onsend&&b.onsend.apply(this,arguments),arguments.length||(a=null),a&&a.nodeType&&(a=window.XMLSerializer?(new window.XMLSerializer).serializeToString(a):a.xml,this._headers["Content-Type"]||this._object.setRequestHeader("Content-Type","application/xml")),this._data=a;a:if(this._object.send(this._data),g&&!this._async)for(this.readyState=b.OPENED,d(this);this.readyState<b.DONE;)if(this.readyState++,c(this),this._aborted)break a},b.prototype.abort=function(){b.onabort&&b.onabort.apply(this,arguments),this.readyState>b.UNSENT&&(this._aborted=!0),this._object.abort(),e(this),this.readyState=b.UNSENT,delete this._data},b.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()},b.prototype.getResponseHeader=function(a){return this._object.getResponseHeader(a)},b.prototype.setRequestHeader=function(a,b){return this._headers||(this._headers={}),this._headers[a]=b,this._object.setRequestHeader(a,b)},b.prototype.addEventListener=function(a,b,c){for(var d,e=0;d=this._listeners[e];e++)if(d[0]==a&&d[1]==b&&d[2]==c)return;this._listeners.push([a,b,c])},b.prototype.removeEventListener=function(a,b,c){for(var d,e=0;(d=this._listeners[e])&&(d[0]!=a||d[1]!=b||d[2]!=c);e++);d&&this._listeners.splice(e,1)},b.prototype.dispatchEvent=function(a){a={type:a.type,target:this,currentTarget:this,eventPhase:2,bubbles:a.bubbles,cancelable:a.cancelable,timeStamp:a.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}},"readystatechange"==a.type&&this.onreadystatechange&&(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[a]);for(var b,c=0;b=this._listeners[c];c++)b[0]!=a.type||b[2]||(b[1].handleEvent||b[1]).apply(this,[a])},b.prototype.toString=function(){return"[object XMLHttpRequest]"},b.toString=function(){return"[XMLHttpRequest]"},window.Function.prototype.apply||(window.Function.prototype.apply=function(a,b){b||(b=[]),a.__func=this,a.__func(b[0],b[1],b[2],b[3],b[4]),delete a.__func}),OpenLayers.Request||(OpenLayers.Request={}),OpenLayers.Request.XMLHttpRequest=b}(),OpenLayers.ProxyHost="",OpenLayers.Request||(OpenLayers.Request={}),OpenLayers.Util.extend(OpenLayers.Request,{DEFAULT_CONFIG:{method:"GET",url:window.location.href,async:!0,user:void 0,password:void 0,params:null,proxy:OpenLayers.ProxyHost,headers:{},data:null,callback:function(){},success:null,failure:null,scope:null},URL_SPLIT_REGEX:/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/,events:new OpenLayers.Events(this),makeSameOrigin:function(a,b){var c=0!==a.indexOf("http"),d=!c&&a.match(this.URL_SPLIT_REGEX);if(d){var e=window.location,c=d[1]==e.protocol&&d[3]==e.hostname,d=d[4],e=e.port;(80!=d&&""!=d||"80"!=e&&""!=e)&&(c=c&&d==e)}return c||b&&(a="function"==typeof b?b(a):b+encodeURIComponent(a)),a},issue:function(a){var b=OpenLayers.Util.extend(this.DEFAULT_CONFIG,{proxy:OpenLayers.ProxyHost});a=a||{},a.headers=a.headers||{},a=OpenLayers.Util.applyDefaults(a,b),a.headers=OpenLayers.Util.applyDefaults(a.headers,b.headers);var c,b=!1;for(c in a.headers)a.headers.hasOwnProperty(c)&&"x-requested-with"===c.toLowerCase()&&(b=!0);!1===b&&(a.headers["X-Requested-With"]="XMLHttpRequest");var d=new OpenLayers.Request.XMLHttpRequest,e=OpenLayers.Util.urlAppend(a.url,OpenLayers.Util.getParameterString(a.params||{})),e=OpenLayers.Request.makeSameOrigin(e,a.proxy);d.open(a.method,e,a.async,a.user,a.password);for(var f in a.headers)d.setRequestHeader(f,a.headers[f]);var g=this.events,h=this;return d.onreadystatechange=function(){d.readyState==OpenLayers.Request.XMLHttpRequest.DONE&&!1!==g.triggerEvent("complete",{request:d,config:a,requestUrl:e})&&h.runCallbacks({request:d,config:a,requestUrl:e})},!1===a.async?d.send(a.data):window.setTimeout(function(){0!==d.readyState&&d.send(a.data)},0),d},runCallbacks:function(a){var b,c=a.request,d=a.config,e=d.scope?OpenLayers.Function.bind(d.callback,d.scope):d.callback;d.success&&(b=d.scope?OpenLayers.Function.bind(d.success,d.scope):d.success);var f;d.failure&&(f=d.scope?OpenLayers.Function.bind(d.failure,d.scope):d.failure),"file:"==OpenLayers.Util.createUrlObject(d.url).protocol&&c.responseText&&(c.status=200),e(c),(!c.status||200<=c.status&&300>c.status)&&(this.events.triggerEvent("success",a),b&&b(c)),c.status&&(200>c.status||300<=c.status)&&(this.events.triggerEvent("failure",a),f&&f(c))},GET:function(a){return a=OpenLayers.Util.extend(a,{method:"GET"}),OpenLayers.Request.issue(a)},POST:function(a){return a=OpenLayers.Util.extend(a,{method:"POST"}),a.headers=a.headers?a.headers:{},"CONTENT-TYPE"in OpenLayers.Util.upperCaseObject(a.headers)||(a.headers["Content-Type"]="application/xml"),OpenLayers.Request.issue(a)},PUT:function(a){return a=OpenLayers.Util.extend(a,{method:"PUT"}),a.headers=a.headers?a.headers:{},"CONTENT-TYPE"in OpenLayers.Util.upperCaseObject(a.headers)||(a.headers["Content-Type"]="application/xml"),OpenLayers.Request.issue(a)},DELETE:function(a){return a=OpenLayers.Util.extend(a,{method:"DELETE"}),OpenLayers.Request.issue(a)},HEAD:function(a){return a=OpenLayers.Util.extend(a,{method:"HEAD"}),OpenLayers.Request.issue(a)},OPTIONS:function(a){return a=OpenLayers.Util.extend(a,{method:"OPTIONS"}),OpenLayers.Request.issue(a)}}),OpenLayers.Layer.ArcIMS=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{ClientVersion:"9.2",ServiceName:""},featureCoordSys:"4326",filterCoordSys:"4326",layers:null,async:!0,name:"ArcIMS",isBaseLayer:!0,DEFAULT_OPTIONS:{tileSize:new OpenLayers.Size(512,512),featureCoordSys:"4326",filterCoordSys:"4326",layers:null,isBaseLayer:!0,async:!0,name:"ArcIMS"},initialize:function(a,b,c){this.tileSize=new OpenLayers.Size(512,512),this.params=OpenLayers.Util.applyDefaults({ServiceName:c.serviceName},this.DEFAULT_PARAMS),this.options=OpenLayers.Util.applyDefaults(c,this.DEFAULT_OPTIONS),OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a,b,this.params,c]),this.transparent&&(this.isBaseLayer||(this.isBaseLayer=!1),"image/jpeg"==this.format&&(this.format=OpenLayers.Util.alphaHack()?"image/gif":"image/png")),null===this.options.layers&&(this.options.layers=[])},getURL:function(a){var b="";return a=this.adjustBounds(a),a=new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options,{requesttype:"image",envelope:a.toArray(),tileSize:this.tileSize})),a=new OpenLayers.Request.POST({url:this.getFullRequestString(),data:a.write(),async:!1}),null!=a&&(b=a.responseXML,b&&b.documentElement||(b=a.responseText),b=(new OpenLayers.Format.ArcXML).read(b),b=this.getUrlOrImage(b.image.output)),b},getURLasync:function(a,b,c){a=this.adjustBounds(a),a=new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options,{requesttype:"image",envelope:a.toArray(),tileSize:this.tileSize})),OpenLayers.Request.POST({url:this.getFullRequestString(),async:!0,data:a.write(),callback:function(a){var d=a.responseXML;d&&d.documentElement||(d=a.responseText),a=(new OpenLayers.Format.ArcXML).read(d),b.call(c,this.getUrlOrImage(a.image.output))},scope:this})},getUrlOrImage:function(a){var b="";return a.url?b=a.url:a.data&&(b="data:image/"+a.type+";base64,"+a.data),b},setLayerQuery:function(a,b){for(var c=0;c<this.options.layers.length;c++)if(a==this.options.layers[c].id)return void(this.options.layers[c].query=b);this.options.layers.push({id:a,visible:!0,query:b})},getFeatureInfo:function(a,b,c){var d=c.buffer||1,e=c.callback||function(){},f=c.scope||window,g={};OpenLayers.Util.extend(g,this.options),g.requesttype="feature",a instanceof OpenLayers.LonLat?(g.polygon=null,g.envelope=[a.lon-d,a.lat-d,a.lon+d,a.lat+d]):a instanceof OpenLayers.Geometry.Polygon&&(g.envelope=null,g.polygon=a);var h=new OpenLayers.Format.ArcXML(g);OpenLayers.Util.extend(h.request.get_feature,c),h.request.get_feature.layer=b.id,"number"==typeof b.query.accuracy?h.request.get_feature.query.accuracy=b.query.accuracy:(a=this.map.getCenter(),c=this.map.getViewPortPxFromLonLat(a),c.x++,c=this.map.getLonLatFromPixel(c),h.request.get_feature.query.accuracy=c.lon-a.lon),h.request.get_feature.query.where=b.query.where,h.request.get_feature.query.spatialfilter.relation="area_intersection",OpenLayers.Request.POST({url:this.getFullRequestString({CustomService:"Query"}),data:h.write(),callback:function(a){a=h.parseResponse(a.responseText),h.iserror()?e.call(f,null):e.call(f,a.features)}})},clone:function(a){return null==a&&(a=new OpenLayers.Layer.ArcIMS(this.name,this.url,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},CLASS_NAME:"OpenLayers.Layer.ArcIMS"}),OpenLayers.Control.PanZoom=OpenLayers.Class(OpenLayers.Control,{slideFactor:50,slideRatio:null,buttons:null,position:null,initialize:function(){this.position=new OpenLayers.Pixel(OpenLayers.Control.PanZoom.X,OpenLayers.Control.PanZoom.Y),OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.map&&this.map.events.unregister("buttonclick",this,this.onButtonClick),this.removeButtons(),this.position=this.buttons=null,OpenLayers.Control.prototype.destroy.apply(this,arguments)},setMap:function(){OpenLayers.Control.prototype.setMap.apply(this,arguments),this.map.events.register("buttonclick",this,this.onButtonClick)},draw:function(a){OpenLayers.Control.prototype.draw.apply(this,arguments),a=this.position,this.buttons=[];var b={w:18,h:18},c=new OpenLayers.Pixel(a.x+b.w/2,a.y);return this._addButton("panup","north-mini.png",c,b),a.y=c.y+b.h,this._addButton("panleft","west-mini.png",a,b),this._addButton("panright","east-mini.png",a.add(b.w,0),b),this._addButton("pandown","south-mini.png",c.add(0,2*b.h),b),this._addButton("zoomin","zoom-plus-mini.png",c.add(0,3*b.h+5),b),this._addButton("zoomworld","zoom-world-mini.png",c.add(0,4*b.h+5),b),this._addButton("zoomout","zoom-minus-mini.png",c.add(0,5*b.h+5),b),this.div},_addButton:function(a,b,c,d){return b=OpenLayers.Util.getImageLocation(b),c=OpenLayers.Util.createAlphaImageDiv(this.id+"_"+a,c,d,b,"absolute"),c.style.cursor="pointer",this.div.appendChild(c),c.action=a,c.className="olButton",this.buttons.push(c),c},_removeButton:function(a){this.div.removeChild(a),OpenLayers.Util.removeItem(this.buttons,a)},removeButtons:function(){for(var a=this.buttons.length-1;a>=0;--a)this._removeButton(this.buttons[a])},onButtonClick:function(a){switch(a.buttonElement.action){case"panup":this.map.pan(0,-this.getSlideFactor("h"));break;case"pandown":this.map.pan(0,this.getSlideFactor("h"));break;case"panleft":this.map.pan(-this.getSlideFactor("w"),0);break;case"panright":this.map.pan(this.getSlideFactor("w"),0);break;case"zoomin":this.map.zoomIn();break;case"zoomout":this.map.zoomOut();break;case"zoomworld":this.map.zoomToMaxExtent()}},getSlideFactor:function(a){return this.slideRatio?this.map.getSize()[a]*this.slideRatio:this.slideFactor},CLASS_NAME:"OpenLayers.Control.PanZoom"}),OpenLayers.Control.PanZoom.X=4,OpenLayers.Control.PanZoom.Y=4,OpenLayers.Control.PanZoomBar=OpenLayers.Class(OpenLayers.Control.PanZoom,{zoomStopWidth:18,zoomStopHeight:11,slider:null,sliderEvents:null,zoombarDiv:null,zoomWorldIcon:!1,panIcons:!0,forceFixedZoomLevel:!1,mouseDragStart:null,deltaY:null,zoomStart:null,destroy:function(){this._removeZoomBar(),this.map.events.un({changebaselayer:this.redraw,updatesize:this.redraw,scope:this}),OpenLayers.Control.PanZoom.prototype.destroy.apply(this,arguments),delete this.mouseDragStart,delete this.zoomStart},setMap:function(){OpenLayers.Control.PanZoom.prototype.setMap.apply(this,arguments),this.map.events.on({changebaselayer:this.redraw,updatesize:this.redraw,scope:this})},redraw:function(){null!=this.div&&(this.removeButtons(),this._removeZoomBar()),this.draw()},draw:function(a){OpenLayers.Control.prototype.draw.apply(this,arguments),a=this.position.clone(),this.buttons=[];var b={w:18,h:18};if(this.panIcons){var c=new OpenLayers.Pixel(a.x+b.w/2,a.y),d=b.w;this.zoomWorldIcon&&(c=new OpenLayers.Pixel(a.x+b.w,a.y)),this._addButton("panup","north-mini.png",c,b),a.y=c.y+b.h,this._addButton("panleft","west-mini.png",a,b),this.zoomWorldIcon&&(this._addButton("zoomworld","zoom-world-mini.png",a.add(b.w,0),b),d*=2),this._addButton("panright","east-mini.png",a.add(d,0),b),this._addButton("pandown","south-mini.png",c.add(0,2*b.h),b),this._addButton("zoomin","zoom-plus-mini.png",c.add(0,3*b.h+5),b),c=this._addZoomBar(c.add(0,4*b.h+5)),this._addButton("zoomout","zoom-minus-mini.png",c,b)}else this._addButton("zoomin","zoom-plus-mini.png",a,b),c=this._addZoomBar(a.add(0,b.h)),this._addButton("zoomout","zoom-minus-mini.png",c,b),this.zoomWorldIcon&&(c=c.add(0,b.h+3),this._addButton("zoomworld","zoom-world-mini.png",c,b));return this.div},_addZoomBar:function(a){var b=OpenLayers.Util.getImageLocation("slider.png"),c=this.id+"_"+this.map.id,d=this.map.getMinZoom(),e=this.map.getNumZoomLevels()-1-this.map.getZoom(),e=OpenLayers.Util.createAlphaImageDiv(c,a.add(-1,e*this.zoomStopHeight),{w:20,h:9},b,"absolute");e.style.cursor="move",this.slider=e,this.sliderEvents=new OpenLayers.Events(this,e,null,!0,{includeXY:!0}),this.sliderEvents.on({touchstart:this.zoomBarDown,touchmove:this.zoomBarDrag,touchend:this.zoomBarUp,mousedown:this.zoomBarDown,mousemove:this.zoomBarDrag,mouseup:this.zoomBarUp});var f={w:this.zoomStopWidth,h:this.zoomStopHeight*(this.map.getNumZoomLevels()-d)},b=OpenLayers.Util.getImageLocation("zoombar.png"),c=null;return OpenLayers.Util.alphaHack()?(c=this.id+"_"+this.map.id,c=OpenLayers.Util.createAlphaImageDiv(c,a,{w:f.w,h:this.zoomStopHeight},b,"absolute",null,"crop"),c.style.height=f.h+"px"):c=OpenLayers.Util.createDiv("OpenLayers_Control_PanZoomBar_Zoombar"+this.map.id,a,f,b),c.style.cursor="pointer",c.className="olButton",this.zoombarDiv=c,this.div.appendChild(c),this.startTop=parseInt(c.style.top),this.div.appendChild(e),this.map.events.register("zoomend",this,this.moveZoomBar),a=a.add(0,this.zoomStopHeight*(this.map.getNumZoomLevels()-d))},_removeZoomBar:function(){this.sliderEvents.un({touchstart:this.zoomBarDown,touchmove:this.zoomBarDrag,touchend:this.zoomBarUp,mousedown:this.zoomBarDown,mousemove:this.zoomBarDrag,mouseup:this.zoomBarUp}),this.sliderEvents.destroy(),this.div.removeChild(this.zoombarDiv),this.zoombarDiv=null,this.div.removeChild(this.slider),this.slider=null,this.map.events.unregister("zoomend",this,this.moveZoomBar)},onButtonClick:function(a){if(OpenLayers.Control.PanZoom.prototype.onButtonClick.apply(this,arguments),a.buttonElement===this.zoombarDiv){var b=a.buttonXY.y/this.zoomStopHeight;
(this.forceFixedZoomLevel||!this.map.fractionalZoom)&&(b=Math.floor(b)),b=this.map.getNumZoomLevels()-1-b,b=Math.min(Math.max(b,0),this.map.getNumZoomLevels()-1),this.map.zoomTo(b)}},passEventToSlider:function(a){this.sliderEvents.handleBrowserEvent(a)},zoomBarDown:function(a){(OpenLayers.Event.isLeftClick(a)||OpenLayers.Event.isSingleTouch(a))&&(this.map.events.on({touchmove:this.passEventToSlider,mousemove:this.passEventToSlider,mouseup:this.passEventToSlider,scope:this}),this.mouseDragStart=a.xy.clone(),this.zoomStart=a.xy.clone(),this.div.style.cursor="move",this.zoombarDiv.offsets=null,OpenLayers.Event.stop(a))},zoomBarDrag:function(a){if(null!=this.mouseDragStart){var b=this.mouseDragStart.y-a.xy.y,c=OpenLayers.Util.pagePosition(this.zoombarDiv);0<a.clientY-c[1]&&a.clientY-c[1]<parseInt(this.zoombarDiv.style.height)-2&&(b=parseInt(this.slider.style.top)-b,this.slider.style.top=b+"px",this.mouseDragStart=a.xy.clone()),this.deltaY=this.zoomStart.y-a.xy.y,OpenLayers.Event.stop(a)}},zoomBarUp:function(a){if((OpenLayers.Event.isLeftClick(a)||"touchend"===a.type)&&this.mouseDragStart){this.div.style.cursor="",this.map.events.un({touchmove:this.passEventToSlider,mouseup:this.passEventToSlider,mousemove:this.passEventToSlider,scope:this});var b=this.map.zoom;!this.forceFixedZoomLevel&&this.map.fractionalZoom?(b+=this.deltaY/this.zoomStopHeight,b=Math.min(Math.max(b,0),this.map.getNumZoomLevels()-1)):(b+=this.deltaY/this.zoomStopHeight,b=Math.max(Math.round(b),0)),this.map.zoomTo(b),this.zoomStart=this.mouseDragStart=null,this.deltaY=0,OpenLayers.Event.stop(a)}},moveZoomBar:function(){var a=(this.map.getNumZoomLevels()-1-this.map.getZoom())*this.zoomStopHeight+this.startTop+1;this.slider.style.top=a+"px"},CLASS_NAME:"OpenLayers.Control.PanZoomBar"}),OpenLayers.Format.WFSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.0",CLASS_NAME:"OpenLayers.Format.WFSCapabilities"}),OpenLayers.Format.WFSCapabilities.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{wfs:"http://www.opengis.net/wfs",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",ows:"http://www.opengis.net/ows"},errorProperty:"featureTypeList",defaultPrefix:"wfs",read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},readers:{wfs:{WFS_Capabilities:function(a,b){this.readChildNodes(a,b)},FeatureTypeList:function(a,b){b.featureTypeList={featureTypes:[]},this.readChildNodes(a,b.featureTypeList)},FeatureType:function(a,b){var c={};this.readChildNodes(a,c),b.featureTypes.push(c)},Name:function(a,b){var c=this.getChildValue(a);c&&(c=c.split(":"),b.name=c.pop(),0<c.length&&(b.featureNS=this.lookupNamespaceURI(a,c[0])))},Title:function(a,b){var c=this.getChildValue(a);c&&(b.title=c)},Abstract:function(a,b){var c=this.getChildValue(a);c&&(b["abstract"]=c)}}},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1"}),OpenLayers.Format.WFSCapabilities.v1_1_0=OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1,{regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},readers:{wfs:OpenLayers.Util.applyDefaults({DefaultSRS:function(a,b){var c=this.getChildValue(a);c&&(b.srs=c)}},OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs),ows:OpenLayers.Format.OWSCommon.v1.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1_1_0"}),OpenLayers.Layer.Image=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:!0,url:null,extent:null,size:null,tile:null,aspectRatio:null,initialize:function(a,b,c,d,e){this.url=b,this.maxExtent=this.extent=c,this.size=d,OpenLayers.Layer.prototype.initialize.apply(this,[a,e]),this.aspectRatio=this.extent.getHeight()/this.size.h/(this.extent.getWidth()/this.size.w)},destroy:function(){this.tile&&(this.removeTileMonitoringHooks(this.tile),this.tile.destroy(),this.tile=null),OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.Image(this.name,this.url,this.extent,this.size,this.getOptions())),a=OpenLayers.Layer.prototype.clone.apply(this,[a])},setMap:function(){null==this.options.maxResolution&&(this.options.maxResolution=this.aspectRatio*this.extent.getWidth()/this.size.w),OpenLayers.Layer.prototype.setMap.apply(this,arguments)},moveTo:function(a,b){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);var c=null==this.tile;if(b||c){this.setTileSize();var d=this.map.getLayerPxFromLonLat({lon:this.extent.left,lat:this.extent.top});c?(this.tile=new OpenLayers.Tile.Image(this,d,this.extent,null,this.tileSize),this.addTileMonitoringHooks(this.tile)):(this.tile.size=this.tileSize.clone(),this.tile.position=d.clone()),this.tile.draw()}},setTileSize:function(){var a=this.extent.getWidth()/this.map.getResolution(),b=this.extent.getHeight()/this.map.getResolution();this.tileSize=new OpenLayers.Size(a,b)},addTileMonitoringHooks:function(a){a.onLoadStart=function(){this.events.triggerEvent("loadstart")},a.events.register("loadstart",this,a.onLoadStart),a.onLoadEnd=function(){this.events.triggerEvent("loadend")},a.events.register("loadend",this,a.onLoadEnd),a.events.register("unload",this,a.onLoadEnd)},removeTileMonitoringHooks:function(a){a.unload(),a.events.un({loadstart:a.onLoadStart,loadend:a.onLoadEnd,unload:a.onLoadEnd,scope:this})},setUrl:function(a){this.url=a,this.tile.draw()},getURL:function(){return this.url},CLASS_NAME:"OpenLayers.Layer.Image"}),OpenLayers.Strategy=OpenLayers.Class({layer:null,options:null,active:null,autoActivate:!0,autoDestroy:!0,initialize:function(a){OpenLayers.Util.extend(this,a),this.options=a,this.active=!1},destroy:function(){this.deactivate(),this.options=this.layer=null},setLayer:function(a){this.layer=a},activate:function(){return this.active?!1:this.active=!0},deactivate:function(){return this.active?(this.active=!1,!0):!1},CLASS_NAME:"OpenLayers.Strategy"}),OpenLayers.Strategy.Save=OpenLayers.Class(OpenLayers.Strategy,{events:null,auto:!1,timer:null,initialize:function(a){OpenLayers.Strategy.prototype.initialize.apply(this,[a]),this.events=new OpenLayers.Events(this)},activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);return a&&this.auto&&("number"==typeof this.auto?this.timer=window.setInterval(OpenLayers.Function.bind(this.save,this),1e3*this.auto):this.layer.events.on({featureadded:this.triggerSave,afterfeaturemodified:this.triggerSave,scope:this})),a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);return a&&this.auto&&("number"==typeof this.auto?window.clearInterval(this.timer):this.layer.events.un({featureadded:this.triggerSave,afterfeaturemodified:this.triggerSave,scope:this})),a},triggerSave:function(a){var b=a.feature;b.state!==OpenLayers.State.INSERT&&b.state!==OpenLayers.State.UPDATE&&b.state!==OpenLayers.State.DELETE||this.save([a.feature])},save:function(a){a||(a=this.layer.features),this.events.triggerEvent("start",{features:a});var b=this.layer.projection,c=this.layer.map.getProjectionObject();if(!c.equals(b)){for(var d,e,f=a.length,g=Array(f),h=0;f>h;++h)d=a[h],e=d.clone(),e.fid=d.fid,e.state=d.state,d.url&&(e.url=d.url),e._original=d,e.geometry.transform(c,b),g[h]=e;a=g}this.layer.protocol.commit(a,{callback:this.onCommit,scope:this})},onCommit:function(a){var b={response:a};if(a.success()){for(var c,d=a.reqFeatures,e=[],f=a.insertIds||[],g=0,h=0,i=d.length;i>h;++h)c=d[h],c=c._original||c,(a=c.state)&&(a==OpenLayers.State.DELETE?e.push(c):a==OpenLayers.State.INSERT&&(c.fid=f[g],++g),c.state=null);0<e.length&&this.layer.destroyFeatures(e),this.events.triggerEvent("success",b)}else this.events.triggerEvent("fail",b)},CLASS_NAME:"OpenLayers.Strategy.Save"}),OpenLayers.Events.featureclick=OpenLayers.Class({cache:null,map:null,provides:["featureclick","nofeatureclick","featureover","featureout"],initialize:function(a){if(this.target=a,a.object instanceof OpenLayers.Map)this.setMap(a.object);else{if(!(a.object instanceof OpenLayers.Layer.Vector))throw"Listeners for '"+this.provides.join("', '")+"' events can only be registered for OpenLayers.Layer.Vector or OpenLayers.Map instances";a.object.map?this.setMap(a.object.map):a.object.events.register("added",this,function(){this.setMap(a.object.map)})}for(var b=this.provides.length-1;b>=0;--b)a.extensions[this.provides[b]]=!0},setMap:function(a){this.map=a,this.cache={},a.events.register("mousedown",this,this.start,{extension:!0}),a.events.register("mouseup",this,this.onClick,{extension:!0}),a.events.register("touchstart",this,this.start,{extension:!0}),a.events.register("touchmove",this,this.cancel,{extension:!0}),a.events.register("touchend",this,this.onClick,{extension:!0}),a.events.register("mousemove",this,this.onMousemove,{extension:!0})},start:function(a){this.startEvt=a},cancel:function(){delete this.startEvt},onClick:function(a){if(this.startEvt&&("touchend"===a.type||OpenLayers.Event.isLeftClick(a))){a=this.getFeatures(this.startEvt),delete this.startEvt;for(var b,c,d={},e=0,f=a.length;f>e&&(b=a[e],c=b.layer,d[c.id]=!0,b=this.triggerEvent("featureclick",{feature:b}),!1!==b);++e);for(e=0,f=this.map.layers.length;f>e;++e)c=this.map.layers[e],c instanceof OpenLayers.Layer.Vector&&!d[c.id]&&this.triggerEvent("nofeatureclick",{layer:c})}},onMousemove:function(a){delete this.startEvt;var b=this.getFeatures(a),c={};a=[];for(var d,e=0,f=b.length;f>e;++e)d=b[e],c[d.id]=d,this.cache[d.id]||a.push(d);var g,b=[];for(g in this.cache)d=this.cache[g],d.layer&&d.layer.map?c[d.id]||b.push(d):delete this.cache[g];for(e=0,f=a.length;f>e&&(d=a[e],this.cache[d.id]=d,g=this.triggerEvent("featureover",{feature:d}),!1!==g);++e);for(e=0,f=b.length;f>e&&(d=b[e],delete this.cache[d.id],g=this.triggerEvent("featureout",{feature:d}),!1!==g);++e);},triggerEvent:function(a,b){var c=b.feature?b.feature.layer:b.layer,d=this.target.object;return d instanceof OpenLayers.Map||d===c?this.target.triggerEvent(a,b):void 0},getFeatures:function(a){var b,c,d,e,f=a.clientX,g=a.clientY,h=[],i=[],j=[];for(e=this.map.layers.length-1;e>=0;--e)if(b=this.map.layers[e],"none"!==b.div.style.display)if(b.renderer instanceof OpenLayers.Renderer.Elements){if(b instanceof OpenLayers.Layer.Vector)for(c=document.elementFromPoint(f,g);c&&c._featureId;)(d=b.getFeatureById(c._featureId))?(h.push(d),c.style.display="none",i.push(c),c=document.elementFromPoint(f,g)):c=!1;j.push(b),b.div.style.display="none"}else b.renderer instanceof OpenLayers.Renderer.Canvas&&(d=b.renderer.getFeatureIdFromEvent(a))&&(h.push(d),j.push(b));for(e=0,a=i.length;a>e;++e)i[e].style.display="";for(e=j.length-1;e>=0;--e)j[e].div.style.display="block";return h},destroy:function(){for(var a=this.provides.length-1;a>=0;--a)delete this.target.extensions[this.provides[a]];this.map.events.un({mousemove:this.onMousemove,mousedown:this.start,mouseup:this.onClick,touchstart:this.start,touchmove:this.cancel,touchend:this.onClick,scope:this}),delete this.cache,delete this.map,delete this.target}}),OpenLayers.Events.nofeatureclick=OpenLayers.Events.featureclick,OpenLayers.Events.featureover=OpenLayers.Events.featureclick,OpenLayers.Events.featureout=OpenLayers.Events.featureclick,OpenLayers.Format.GPX=OpenLayers.Class(OpenLayers.Format.XML,{defaultDesc:"No description available",extractWaypoints:!0,extractTracks:!0,extractRoutes:!0,extractAttributes:!0,namespaces:{gpx:"http://www.topografix.com/GPX/1/1",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",creator:"OpenLayers",initialize:function(a){this.externalProjection=new OpenLayers.Projection("EPSG:4326"),OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b=[];if(this.extractTracks)for(var c=a.getElementsByTagName("trk"),d=0,e=c.length;e>d;d++){var f={};this.extractAttributes&&(f=this.parseAttributes(c[d]));for(var g=this.getElementsByTagNameNS(c[d],c[d].namespaceURI,"trkseg"),h=0,i=g.length;i>h;h++){var j=this.extractSegment(g[h],"trkpt");b.push(new OpenLayers.Feature.Vector(j,f))}}if(this.extractRoutes)for(e=a.getElementsByTagName("rte"),c=0,d=e.length;d>c;c++)f={},this.extractAttributes&&(f=this.parseAttributes(e[c])),g=this.extractSegment(e[c],"rtept"),b.push(new OpenLayers.Feature.Vector(g,f));if(this.extractWaypoints)for(a=a.getElementsByTagName("wpt"),c=0,e=a.length;e>c;c++)f={},this.extractAttributes&&(f=this.parseAttributes(a[c])),d=new OpenLayers.Geometry.Point(a[c].getAttribute("lon"),a[c].getAttribute("lat")),b.push(new OpenLayers.Feature.Vector(d,f));if(this.internalProjection&&this.externalProjection)for(f=0,a=b.length;a>f;f++)b[f].geometry.transform(this.externalProjection,this.internalProjection);return b},extractSegment:function(a,b){for(var c=this.getElementsByTagNameNS(a,a.namespaceURI,b),d=[],e=0,f=c.length;f>e;e++)d.push(new OpenLayers.Geometry.Point(c[e].getAttribute("lon"),c[e].getAttribute("lat")));return new OpenLayers.Geometry.LineString(d)},parseAttributes:function(a){var b={};a=a.firstChild;for(var c,d;a;)1==a.nodeType&&a.firstChild&&(c=a.firstChild,3==c.nodeType||4==c.nodeType)&&(d=a.prefix?a.nodeName.split(":")[1]:a.nodeName,"trkseg"!=d&&"rtept"!=d&&(b[d]=c.nodeValue)),a=a.nextSibling;return b},write:function(a,b){a=OpenLayers.Util.isArray(a)?a:[a];var c=this.createElementNS(this.namespaces.gpx,"gpx");c.setAttribute("version","1.1"),c.setAttribute("creator",this.creator),this.setAttributes(c,{"xsi:schemaLocation":this.schemaLocation}),b&&"object"==typeof b&&c.appendChild(this.buildMetadataNode(b));for(var d=0,e=a.length;e>d;d++)c.appendChild(this.buildFeatureNode(a[d]));return OpenLayers.Format.XML.prototype.write.apply(this,[c])},buildMetadataNode:function(a){for(var b=["name","desc","author"],c=this.createElementNS(this.namespaces.gpx,"metadata"),d=0;d<b.length;d++){var e=b[d];if(a[e]){var f=this.createElementNS(this.namespaces.gpx,e);f.appendChild(this.createTextNode(a[e])),c.appendChild(f)}}return c},buildFeatureNode:function(a){var b=a.geometry,b=b.clone();if(this.internalProjection&&this.externalProjection&&b.transform(this.internalProjection,this.externalProjection),"OpenLayers.Geometry.Point"==b.CLASS_NAME){var c=this.buildWptNode(b);return this.appendAttributesNode(c,a),c}c=this.createElementNS(this.namespaces.gpx,"trk"),this.appendAttributesNode(c,a),a=this.buildTrkSegNode(b),a=OpenLayers.Util.isArray(a)?a:[a];for(var b=0,d=a.length;d>b;b++)c.appendChild(a[b]);return c},buildTrkSegNode:function(a){var b,c,d,e;if("OpenLayers.Geometry.LineString"==a.CLASS_NAME||"OpenLayers.Geometry.LinearRing"==a.CLASS_NAME){for(b=this.createElementNS(this.namespaces.gpx,"trkseg"),c=0,d=a.components.length;d>c;c++)e=a.components[c],b.appendChild(this.buildTrkPtNode(e));return b}for(b=[],c=0,d=a.components.length;d>c;c++)b.push(this.buildTrkSegNode(a.components[c]));return b},buildTrkPtNode:function(a){var b=this.createElementNS(this.namespaces.gpx,"trkpt");return b.setAttribute("lon",a.x),b.setAttribute("lat",a.y),b},buildWptNode:function(a){var b=this.createElementNS(this.namespaces.gpx,"wpt");return b.setAttribute("lon",a.x),b.setAttribute("lat",a.y),b},appendAttributesNode:function(a,b){var c=this.createElementNS(this.namespaces.gpx,"name");c.appendChild(this.createTextNode(b.attributes.name||b.id)),a.appendChild(c),c=this.createElementNS(this.namespaces.gpx,"desc"),c.appendChild(this.createTextNode(b.attributes.description||this.defaultDesc)),a.appendChild(c)},CLASS_NAME:"OpenLayers.Format.GPX"}),OpenLayers.Format.WMSDescribeLayer=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.1",CLASS_NAME:"OpenLayers.Format.WMSDescribeLayer"}),OpenLayers.Format.WMSDescribeLayer.v1_1_1=OpenLayers.Class(OpenLayers.Format.WMSDescribeLayer,{initialize:function(a){OpenLayers.Format.WMSDescribeLayer.prototype.initialize.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));for(var b,c,d=a.documentElement.childNodes,e={layerDescriptions:[]},f=0;f<d.length;++f)if(b=d[f],c=b.nodeName,"LayerDescription"==c){c=b.getAttribute("name");var g="",h="",i="";b.getAttribute("owsType")?(g=b.getAttribute("owsType"),h=b.getAttribute("owsURL")):""!=b.getAttribute("wfs")?(g="WFS",h=b.getAttribute("wfs")):""!=b.getAttribute("wcs")&&(g="WCS",h=b.getAttribute("wcs")),b=b.getElementsByTagName("Query"),0<b.length&&((i=b[0].getAttribute("typeName"))||(i=b[0].getAttribute("typename"))),b={layerName:c,owsType:g,owsURL:h,typeName:i},e.layerDescriptions.push(b),e.length=e.layerDescriptions.length,e[e.length-1]=b}else if("ServiceException"==c)return{error:(new OpenLayers.Format.OGCExceptionReport).read(a)};return e},CLASS_NAME:"OpenLayers.Format.WMSDescribeLayer.v1_1_1"}),OpenLayers.Format.WMSDescribeLayer.v1_1_0=OpenLayers.Format.WMSDescribeLayer.v1_1_1,OpenLayers.Layer.XYZ=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:!0,sphericalMercator:!1,zoomOffset:0,serverResolutions:null,initialize:function(a,b,c){(c&&c.sphericalMercator||this.sphericalMercator)&&(c=OpenLayers.Util.extend({projection:"EPSG:900913",numZoomLevels:19},c)),OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a||this.name,b||this.url,{},c])},clone:function(a){return null==a&&(a=new OpenLayers.Layer.XYZ(this.name,this.url,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){a=this.getXYZ(a);var b=this.url;return OpenLayers.Util.isArray(b)&&(b=this.selectUrl(""+a.x+a.y+a.z,b)),OpenLayers.String.format(b,a)},getXYZ:function(a){var b=this.getServerResolution(),c=Math.round((a.left-this.maxExtent.left)/(b*this.tileSize.w));if(a=Math.round((this.maxExtent.top-a.top)/(b*this.tileSize.h)),b=this.getServerZoom(),this.wrapDateLine)var d=Math.pow(2,b),c=(c%d+d)%d;return{x:c,y:a,z:b}},setMap:function(){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments),this.tileOrigin||(this.tileOrigin=new OpenLayers.LonLat(this.maxExtent.left,this.maxExtent.bottom))},CLASS_NAME:"OpenLayers.Layer.XYZ"}),OpenLayers.Layer.OSM=OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"OpenStreetMap",url:["http://a.tile.openstreetmap.org/${z}/${x}/${y}.png","http://b.tile.openstreetmap.org/${z}/${x}/${y}.png","http://c.tile.openstreetmap.org/${z}/${x}/${y}.png"],attribution:"&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors",sphericalMercator:!0,wrapDateLine:!0,tileOptions:null,initialize:function(){OpenLayers.Layer.XYZ.prototype.initialize.apply(this,arguments),this.tileOptions=OpenLayers.Util.extend({crossOriginKeyword:"anonymous"},this.options&&this.options.tileOptions)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.OSM(this.name,this.url,this.getOptions())),a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a])},CLASS_NAME:"OpenLayers.Layer.OSM"}),OpenLayers.Renderer=OpenLayers.Class({container:null,root:null,extent:null,locked:!1,size:null,resolution:null,map:null,featureDx:0,initialize:function(a,b){this.container=OpenLayers.Util.getElement(a),OpenLayers.Util.extend(this,b)},destroy:function(){this.map=this.resolution=this.size=this.extent=this.container=null},supported:function(){return!1},setExtent:function(a,b){if(this.extent=a.clone(),this.map.baseLayer&&this.map.baseLayer.wrapDateLine){var c=a.getWidth()/this.map.getExtent().getWidth();a=a.scale(1/c),this.extent=a.wrapDateLine(this.map.getMaxExtent()).scale(c)}return b&&(this.resolution=null),!0},setSize:function(a){this.size=a.clone(),this.resolution=null},getResolution:function(){return this.resolution=this.resolution||this.map.getResolution()},drawFeature:function(a,b){if(null==b&&(b=a.style),a.geometry){var c=a.geometry.getBounds();if(c){var d;if(this.map.baseLayer&&this.map.baseLayer.wrapDateLine&&(d=this.map.getMaxExtent()),c.intersectsBounds(this.extent,{worldBounds:d})?this.calculateFeatureDx(c,d):b={display:"none"},c=this.drawGeometry(a.geometry,b,a.id),"none"!=b.display&&b.label&&!1!==c){if(d=a.geometry.getCentroid(),b.labelXOffset||b.labelYOffset){var e=isNaN(b.labelXOffset)?0:b.labelXOffset,f=isNaN(b.labelYOffset)?0:b.labelYOffset,g=this.getResolution();d.move(e*g,f*g)}this.drawText(a.id,b,d)}else this.removeText(a.id);return c}}},calculateFeatureDx:function(a,b){if(this.featureDx=0,b){var c=b.getWidth();this.featureDx=Math.round(((a.left+a.right)/2-(this.extent.left+this.extent.right)/2)/c)*c}},drawGeometry:function(){},drawText:function(){},removeText:function(){},clear:function(){},getFeatureIdFromEvent:function(){},eraseFeatures:function(a){OpenLayers.Util.isArray(a)||(a=[a]);for(var b=0,c=a.length;c>b;++b){var d=a[b];this.eraseGeometry(d.geometry,d.id),this.removeText(d.id)}},eraseGeometry:function(){},moveRoot:function(){},getRenderLayerId:function(){return this.container.id},applyDefaultSymbolizer:function(a){var b=OpenLayers.Util.extend({},OpenLayers.Renderer.defaultSymbolizer);return!1===a.stroke&&(delete b.strokeWidth,delete b.strokeColor),!1===a.fill&&delete b.fillColor,OpenLayers.Util.extend(b,a),b},CLASS_NAME:"OpenLayers.Renderer"}),OpenLayers.Renderer.defaultSymbolizer={fillColor:"#000000",strokeColor:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,pointRadius:0,labelAlign:"cm"},OpenLayers.Renderer.symbol={star:[350,75,379,161,469,161,397,215,423,301,350,250,277,301,303,215,231,161,321,161,350,75],cross:[4,0,6,0,6,4,10,4,10,6,6,6,6,10,4,10,4,6,0,6,0,4,4,4,4,0],x:[0,0,25,0,50,35,75,0,100,0,65,50,100,100,75,100,50,65,25,100,0,100,35,50,0,0],square:[0,0,0,1,1,1,1,0,0,0],triangle:[0,10,10,10,5,0,0,10]},OpenLayers.Renderer.Canvas=OpenLayers.Class(OpenLayers.Renderer,{hitDetection:!0,hitOverflow:0,canvas:null,features:null,pendingRedraw:!1,cachedSymbolBounds:{},initialize:function(){OpenLayers.Renderer.prototype.initialize.apply(this,arguments),this.root=document.createElement("canvas"),this.container.appendChild(this.root),this.canvas=this.root.getContext("2d"),this.features={},this.hitDetection&&(this.hitCanvas=document.createElement("canvas"),this.hitContext=this.hitCanvas.getContext("2d"))},setExtent:function(){return OpenLayers.Renderer.prototype.setExtent.apply(this,arguments),!1},eraseGeometry:function(a,b){this.eraseFeatures(this.features[b][0])},supported:function(){return OpenLayers.CANVAS_SUPPORTED},setSize:function(a){this.size=a.clone();var b=this.root;b.style.width=a.w+"px",b.style.height=a.h+"px",b.width=a.w,b.height=a.h,this.resolution=null,this.hitDetection&&(b=this.hitCanvas,b.style.width=a.w+"px",b.style.height=a.h+"px",b.width=a.w,b.height=a.h)},drawFeature:function(a,b){var c;if(a.geometry){b=this.applyDefaultSymbolizer(b||a.style),c=a.geometry.getBounds();var d;this.map.baseLayer&&this.map.baseLayer.wrapDateLine&&(d=this.map.getMaxExtent()),d=c&&c.intersectsBounds(this.extent,{worldBounds:d}),(c="none"!==b.display&&!!c&&d)?this.features[a.id]=[a,b]:delete this.features[a.id],this.pendingRedraw=!0}return this.pendingRedraw&&!this.locked&&(this.redraw(),this.pendingRedraw=!1),c},drawGeometry:function(a,b,c){var d=a.CLASS_NAME;if("OpenLayers.Geometry.Collection"==d||"OpenLayers.Geometry.MultiPoint"==d||"OpenLayers.Geometry.MultiLineString"==d||"OpenLayers.Geometry.MultiPolygon"==d)for(d=0;d<a.components.length;d++)this.drawGeometry(a.components[d],b,c);else switch(a.CLASS_NAME){case"OpenLayers.Geometry.Point":this.drawPoint(a,b,c);break;case"OpenLayers.Geometry.LineString":this.drawLineString(a,b,c);break;case"OpenLayers.Geometry.LinearRing":this.drawLinearRing(a,b,c);break;case"OpenLayers.Geometry.Polygon":this.drawPolygon(a,b,c)}},drawExternalGraphic:function(a,b,c){var d=new Image,e=b.title||b.graphicTitle;e&&(d.title=e);var f=b.graphicWidth||b.graphicHeight,g=b.graphicHeight||b.graphicWidth,f=f?f:2*b.pointRadius,g=g?g:2*b.pointRadius,h=void 0!=b.graphicXOffset?b.graphicXOffset:-(.5*f),i=void 0!=b.graphicYOffset?b.graphicYOffset:-(.5*g),j=b.graphicOpacity||b.fillOpacity;d.onload=OpenLayers.Function.bind(function(){if(this.features[c]){var b=this.getLocalXY(a),e=b[0],b=b[1];if(!isNaN(e)&&!isNaN(b)){var e=e+h|0,b=b+i|0,k=this.canvas;k.globalAlpha=j;var l=OpenLayers.Renderer.Canvas.drawImageScaleFactor||(OpenLayers.Renderer.Canvas.drawImageScaleFactor=/android 2.1/.test(navigator.userAgent.toLowerCase())?320/window.screen.width:1);k.drawImage(d,e*l,b*l,f*l,g*l),this.hitDetection&&(this.setHitContextStyle("fill",c),this.hitContext.fillRect(e,b,f,g))}}},this),d.src=b.externalGraphic},drawNamedSymbol:function(a,b,c){var d,e,f,g;f=Math.PI/180;var h=OpenLayers.Renderer.symbol[b.graphicName];if(!h)throw Error(b.graphicName+" is not a valid symbol name");if(!(!h.length||2>h.length||(a=this.getLocalXY(a),e=a[0],g=a[1],isNaN(e)||isNaN(g)))){if(this.canvas.lineCap="round",this.canvas.lineJoin="round",this.hitDetection&&(this.hitContext.lineCap="round",this.hitContext.lineJoin="round"),b.graphicName in this.cachedSymbolBounds)d=this.cachedSymbolBounds[b.graphicName];else{for(d=new OpenLayers.Bounds,a=0;a<h.length;a+=2)d.extend(new OpenLayers.LonLat(h[a],h[a+1]));this.cachedSymbolBounds[b.graphicName]=d}if(this.canvas.save(),this.hitDetection&&this.hitContext.save(),this.canvas.translate(e,g),this.hitDetection&&this.hitContext.translate(e,g),a=f*b.rotation,isNaN(a)||(this.canvas.rotate(a),this.hitDetection&&this.hitContext.rotate(a)),f=2*b.pointRadius/Math.max(d.getWidth(),d.getHeight()),this.canvas.scale(f,f),this.hitDetection&&this.hitContext.scale(f,f),a=d.getCenterLonLat().lon,d=d.getCenterLonLat().lat,this.canvas.translate(-a,-d),this.hitDetection&&this.hitContext.translate(-a,-d),g=b.strokeWidth,b.strokeWidth=g/f,!1!==b.fill){for(this.setCanvasStyle("fill",b),this.canvas.beginPath(),a=0;a<h.length;a+=2)d=h[a],e=h[a+1],0==a&&this.canvas.moveTo(d,e),this.canvas.lineTo(d,e);if(this.canvas.closePath(),this.canvas.fill(),this.hitDetection){for(this.setHitContextStyle("fill",c,b),this.hitContext.beginPath(),a=0;a<h.length;a+=2)d=h[a],e=h[a+1],0==a&&this.canvas.moveTo(d,e),this.hitContext.lineTo(d,e);this.hitContext.closePath(),this.hitContext.fill()}}if(!1!==b.stroke){for(this.setCanvasStyle("stroke",b),this.canvas.beginPath(),a=0;a<h.length;a+=2)d=h[a],e=h[a+1],0==a&&this.canvas.moveTo(d,e),this.canvas.lineTo(d,e);if(this.canvas.closePath(),this.canvas.stroke(),this.hitDetection){for(this.setHitContextStyle("stroke",c,b,f),this.hitContext.beginPath(),a=0;a<h.length;a+=2)d=h[a],e=h[a+1],0==a&&this.hitContext.moveTo(d,e),this.hitContext.lineTo(d,e);this.hitContext.closePath(),this.hitContext.stroke()}}b.strokeWidth=g,this.canvas.restore(),this.hitDetection&&this.hitContext.restore(),this.setCanvasStyle("reset")}},setCanvasStyle:function(a,b){"fill"===a?(this.canvas.globalAlpha=b.fillOpacity,this.canvas.fillStyle=b.fillColor):"stroke"===a?(this.canvas.globalAlpha=b.strokeOpacity,this.canvas.strokeStyle=b.strokeColor,this.canvas.lineWidth=b.strokeWidth):(this.canvas.globalAlpha=0,this.canvas.lineWidth=1)},featureIdToHex:function(a){a=Number(a.split("_").pop())+1,a>=16777216&&(this.hitOverflow=a-16777215,a=a%16777216+1),a="000000"+a.toString(16);var b=a.length;return a="#"+a.substring(b-6,b)},setHitContextStyle:function(a,b,c,d){b=this.featureIdToHex(b),"fill"==a?(this.hitContext.globalAlpha=1,this.hitContext.fillStyle=b):"stroke"==a?(this.hitContext.globalAlpha=1,this.hitContext.strokeStyle=b,"undefined"==typeof d?this.hitContext.lineWidth=c.strokeWidth+2:isNaN(d)||(this.hitContext.lineWidth=c.strokeWidth+2/d)):(this.hitContext.globalAlpha=0,this.hitContext.lineWidth=1)},drawPoint:function(a,b,c){if(!1!==b.graphic)if(b.externalGraphic)this.drawExternalGraphic(a,b,c);else if(b.graphicName&&"circle"!=b.graphicName)this.drawNamedSymbol(a,b,c);else{var d=this.getLocalXY(a);if(a=d[0],d=d[1],!isNaN(a)&&!isNaN(d)){var e=2*Math.PI,f=b.pointRadius;!1!==b.fill&&(this.setCanvasStyle("fill",b),this.canvas.beginPath(),this.canvas.arc(a,d,f,0,e,!0),this.canvas.fill(),this.hitDetection&&(this.setHitContextStyle("fill",c,b),this.hitContext.beginPath(),this.hitContext.arc(a,d,f,0,e,!0),this.hitContext.fill())),!1!==b.stroke&&(this.setCanvasStyle("stroke",b),this.canvas.beginPath(),this.canvas.arc(a,d,f,0,e,!0),this.canvas.stroke(),this.hitDetection&&(this.setHitContextStyle("stroke",c,b),this.hitContext.beginPath(),this.hitContext.arc(a,d,f,0,e,!0),this.hitContext.stroke()),this.setCanvasStyle("reset"))}}},drawLineString:function(a,b,c){b=OpenLayers.Util.applyDefaults({fill:!1},b),this.drawLinearRing(a,b,c)},drawLinearRing:function(a,b,c){!1!==b.fill&&(this.setCanvasStyle("fill",b),this.renderPath(this.canvas,a,b,c,"fill"),this.hitDetection&&(this.setHitContextStyle("fill",c,b),this.renderPath(this.hitContext,a,b,c,"fill"))),!1!==b.stroke&&(this.setCanvasStyle("stroke",b),this.renderPath(this.canvas,a,b,c,"stroke"),this.hitDetection&&(this.setHitContextStyle("stroke",c,b),this.renderPath(this.hitContext,a,b,c,"stroke"))),this.setCanvasStyle("reset")},renderPath:function(a,b,c,d,e){b=b.components,c=b.length,a.beginPath(),d=this.getLocalXY(b[0]);var f=d[1];if(!isNaN(d[0])&&!isNaN(f)){for(a.moveTo(d[0],d[1]),d=1;c>d;++d)f=this.getLocalXY(b[d]),a.lineTo(f[0],f[1]);"fill"===e?a.fill():a.stroke()}},drawPolygon:function(a,b,c){a=a.components;var d=a.length;this.drawLinearRing(a[0],b,c);for(var e=1;d>e;++e)this.canvas.globalCompositeOperation="destination-out",this.hitDetection&&(this.hitContext.globalCompositeOperation="destination-out"),this.drawLinearRing(a[e],OpenLayers.Util.applyDefaults({stroke:!1,fillOpacity:1},b),c),this.canvas.globalCompositeOperation="source-over",this.hitDetection&&(this.hitContext.globalCompositeOperation="source-over"),this.drawLinearRing(a[e],OpenLayers.Util.applyDefaults({fill:!1},b),c)},drawText:function(a,b){var c=this.getLocalXY(a);this.setCanvasStyle("reset"),this.canvas.fillStyle=b.fontColor,this.canvas.globalAlpha=b.fontOpacity||1;var d=[b.fontStyle?b.fontStyle:"normal","normal",b.fontWeight?b.fontWeight:"normal",b.fontSize?b.fontSize:"1em",b.fontFamily?b.fontFamily:"sans-serif"].join(" "),e=b.label.split("\n"),f=e.length;if(this.canvas.fillText){this.canvas.font=d,this.canvas.textAlign=OpenLayers.Renderer.Canvas.LABEL_ALIGN[b.labelAlign[0]]||"center",this.canvas.textBaseline=OpenLayers.Renderer.Canvas.LABEL_ALIGN[b.labelAlign[1]]||"middle";var g=OpenLayers.Renderer.Canvas.LABEL_FACTOR[b.labelAlign[1]];for(null==g&&(g=-.5),d=this.canvas.measureText("Mg").height||this.canvas.measureText("xx").width,c[1]+=d*g*(f-1),g=0;f>g;g++)b.labelOutlineWidth&&(this.canvas.save(),this.canvas.globalAlpha=b.labelOutlineOpacity||b.fontOpacity||1,this.canvas.strokeStyle=b.labelOutlineColor,this.canvas.lineWidth=b.labelOutlineWidth,this.canvas.strokeText(e[g],c[0],c[1]+d*g+1),this.canvas.restore()),this.canvas.fillText(e[g],c[0],c[1]+d*g)}else if(this.canvas.mozDrawText){this.canvas.mozTextStyle=d;var h=OpenLayers.Renderer.Canvas.LABEL_FACTOR[b.labelAlign[0]];for(null==h&&(h=-.5),g=OpenLayers.Renderer.Canvas.LABEL_FACTOR[b.labelAlign[1]],null==g&&(g=-.5),d=this.canvas.mozMeasureText("xx"),c[1]+=d*(1+g*f),g=0;f>g;g++){var i=c[0]+h*this.canvas.mozMeasureText(e[g]),j=c[1]+g*d;this.canvas.translate(i,j),this.canvas.mozDrawText(e[g]),this.canvas.translate(-i,-j)}}this.setCanvasStyle("reset")},getLocalXY:function(a){var b=this.getResolution(),c=this.extent;return[(a.x-this.featureDx)/b+-c.left/b,c.top/b-a.y/b]},clear:function(){var a=this.root.height,b=this.root.width;this.canvas.clearRect(0,0,b,a),this.features={},this.hitDetection&&this.hitContext.clearRect(0,0,b,a)},getFeatureIdFromEvent:function(a){var b;if(this.hitDetection&&"none"!==this.root.style.display&&!this.map.dragging&&(a=a.xy,a=this.hitContext.getImageData(0|a.x,0|a.y,1,1).data,255===a[3]&&(a=a[2]+256*(a[1]+256*a[0])))){a="OpenLayers_Feature_Vector_"+(a-1+this.hitOverflow);try{b=this.features[a][0]}catch(c){}}return b},eraseFeatures:function(a){OpenLayers.Util.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b)delete this.features[a[b].id];this.redraw()},redraw:function(){if(!this.locked){var a=this.root.height,b=this.root.width;this.canvas.clearRect(0,0,b,a),this.hitDetection&&this.hitContext.clearRect(0,0,b,a);
var c,d,e,a=[],f=this.map.baseLayer&&this.map.baseLayer.wrapDateLine&&this.map.getMaxExtent();for(e in this.features)this.features.hasOwnProperty(e)&&(b=this.features[e][0],c=b.geometry,this.calculateFeatureDx(c.getBounds(),f),d=this.features[e][1],this.drawGeometry(c,d,b.id),d.label&&a.push([b,d]));for(b=0,c=a.length;c>b;++b)e=a[b],this.drawText(e[0].geometry.getCentroid(),e[1])}},CLASS_NAME:"OpenLayers.Renderer.Canvas"}),OpenLayers.Renderer.Canvas.LABEL_ALIGN={l:"left",r:"right",t:"top",b:"bottom"},OpenLayers.Renderer.Canvas.LABEL_FACTOR={l:0,r:-1,t:0,b:-1},OpenLayers.Renderer.Canvas.drawImageScaleFactor=null,OpenLayers.Format.OSM=OpenLayers.Class(OpenLayers.Format.XML,{checkTags:!1,interestingTagsExclude:null,areaTags:null,initialize:function(a){var b={interestingTagsExclude:"source source_ref source:ref history attribution created_by".split(" "),areaTags:"area building leisure tourism ruins historic landuse military natural sport".split(" ")},b=OpenLayers.Util.extend(b,a),c={};for(a=0;a<b.interestingTagsExclude.length;a++)c[b.interestingTagsExclude[a]]=!0;for(b.interestingTagsExclude=c,c={},a=0;a<b.areaTags.length;a++)c[b.areaTags[a]]=!0;b.areaTags=c,this.externalProjection=new OpenLayers.Projection("EPSG:4326"),OpenLayers.Format.XML.prototype.initialize.apply(this,[b])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b=this.getNodes(a),c=this.getWays(a);a=Array(c.length);for(var d=0;d<c.length;d++){for(var e=Array(c[d].nodes.length),f=this.isWayArea(c[d])?1:0,g=0;g<c[d].nodes.length;g++){var h=b[c[d].nodes[g]],i=new OpenLayers.Geometry.Point(h.lon,h.lat);i.osm_id=parseInt(c[d].nodes[g]),e[g]=i,h.used=!0}h=null,h=f?new OpenLayers.Geometry.Polygon(new OpenLayers.Geometry.LinearRing(e)):new OpenLayers.Geometry.LineString(e),this.internalProjection&&this.externalProjection&&h.transform(this.externalProjection,this.internalProjection),e=new OpenLayers.Feature.Vector(h,c[d].tags),e.osm_id=parseInt(c[d].id),e.fid="way."+e.osm_id,a[d]=e}for(var j in b){if(h=b[j],!h.used||this.checkTags){if(c=null,this.checkTags){if(c=this.getTags(h.node,!0),h.used&&!c[1])continue;c=c[0]}else c=this.getTags(h.node);e=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(h.lon,h.lat),c),this.internalProjection&&this.externalProjection&&e.geometry.transform(this.externalProjection,this.internalProjection),e.osm_id=parseInt(j),e.fid="node."+e.osm_id,a.push(e)}h.node=null}return a},getNodes:function(a){a=a.getElementsByTagName("node");for(var b={},c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("id");b[e]={lat:d.getAttribute("lat"),lon:d.getAttribute("lon"),node:d}}return b},getWays:function(a){a=a.getElementsByTagName("way");for(var b=[],c=0;c<a.length;c++){var d=a[c],e={id:d.getAttribute("id")};e.tags=this.getTags(d),d=d.getElementsByTagName("nd"),e.nodes=Array(d.length);for(var f=0;f<d.length;f++)e.nodes[f]=d[f].getAttribute("ref");b.push(e)}return b},getTags:function(a,b){for(var c=a.getElementsByTagName("tag"),d={},e=!1,f=0;f<c.length;f++){var g=c[f].getAttribute("k");d[g]=c[f].getAttribute("v"),b&&(this.interestingTagsExclude[g]||(e=!0))}return b?[d,e]:d},isWayArea:function(a){var b=!1,c=!1;if(a.nodes[0]==a.nodes[a.nodes.length-1]&&(b=!0),this.checkTags)for(var d in a.tags)if(this.areaTags[d]){c=!0;break}return b&&(this.checkTags?c:!0)},write:function(a){OpenLayers.Util.isArray(a)||(a=[a]),this.osm_id=1,this.created_nodes={};var b=this.createElementNS(null,"osm");b.setAttribute("version","0.5"),b.setAttribute("generator","OpenLayers "+OpenLayers.VERSION_NUMBER);for(var c=a.length-1;c>=0;c--)for(var d=this.createFeatureNodes(a[c]),e=0;e<d.length;e++)b.appendChild(d[e]);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},createFeatureNodes:function(a){var b=[],c=a.geometry.CLASS_NAME,c=c.substring(c.lastIndexOf(".")+1),c=c.toLowerCase();return(c=this.createXML[c])&&(b=c.apply(this,[a])),b},createXML:{point:function(a){var b=null,c=a.geometry?a.geometry:a;this.internalProjection&&this.externalProjection&&(c=c.clone(),c.transform(this.internalProjection,this.externalProjection));var d=!1;a.osm_id?(b=a.osm_id,this.created_nodes[b]&&(d=!0)):(b=-this.osm_id,this.osm_id++);var e=d?this.created_nodes[b]:this.createElementNS(null,"node");return this.created_nodes[b]=e,e.setAttribute("id",b),e.setAttribute("lon",c.x),e.setAttribute("lat",c.y),a.attributes&&this.serializeTags(a,e),this.setState(a,e),d?[]:[e]},linestring:function(a){var b,c=[],d=a.geometry;a.osm_id?b=a.osm_id:(b=-this.osm_id,this.osm_id++);var e=this.createElementNS(null,"way");for(e.setAttribute("id",b),b=0;b<d.components.length;b++){var f=this.createXML.point.apply(this,[d.components[b]]);if(f.length){var f=f[0],g=f.getAttribute("id");c.push(f)}else g=d.components[b].osm_id,f=this.created_nodes[g];this.setState(a,f),f=this.createElementNS(null,"nd"),f.setAttribute("ref",g),e.appendChild(f)}return this.serializeTags(a,e),c.push(e),c},polygon:function(a){var b=OpenLayers.Util.extend({area:"yes"},a.attributes),b=new OpenLayers.Feature.Vector(a.geometry.components[0],b);return b.osm_id=a.osm_id,this.createXML.linestring.apply(this,[b])}},serializeTags:function(a,b){for(var c in a.attributes){var d=this.createElementNS(null,"tag");d.setAttribute("k",c),d.setAttribute("v",a.attributes[c]),b.appendChild(d)}},setState:function(a,b){if(a.state){var c=null;switch(a.state){case OpenLayers.State.UPDATE:case OpenLayers.State.DELETE:c="delete"}c&&b.setAttribute("action",c)}},CLASS_NAME:"OpenLayers.Format.OSM"}),OpenLayers.Handler.Keyboard=OpenLayers.Class(OpenLayers.Handler,{KEY_EVENTS:["keydown","keyup"],eventListener:null,observeElement:null,initialize:function(){OpenLayers.Handler.prototype.initialize.apply(this,arguments),this.eventListener=OpenLayers.Function.bindAsEventListener(this.handleKeyEvent,this)},destroy:function(){this.deactivate(),this.eventListener=null,OpenLayers.Handler.prototype.destroy.apply(this,arguments)},activate:function(){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.observeElement=this.observeElement||document;for(var a=0,b=this.KEY_EVENTS.length;b>a;a++)OpenLayers.Event.observe(this.observeElement,this.KEY_EVENTS[a],this.eventListener);return!0}return!1},deactivate:function(){var a=!1;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){for(var a=0,b=this.KEY_EVENTS.length;b>a;a++)OpenLayers.Event.stopObserving(this.observeElement,this.KEY_EVENTS[a],this.eventListener);a=!0}return a},handleKeyEvent:function(a){this.checkModifiers(a)&&this.callback(a.type,[a])},CLASS_NAME:"OpenLayers.Handler.Keyboard"}),OpenLayers.Control.ModifyFeature=OpenLayers.Class(OpenLayers.Control,{documentDrag:!1,geometryTypes:null,clickout:!0,toggle:!0,standalone:!1,layer:null,feature:null,vertex:null,vertices:null,virtualVertices:null,handlers:null,deleteCodes:null,virtualStyle:null,vertexRenderIntent:null,mode:null,createVertices:!0,modified:!1,radiusHandle:null,dragHandle:null,onModificationStart:function(){},onModification:function(){},onModificationEnd:function(){},initialize:function(a,b){b=b||{},this.layer=a,this.vertices=[],this.virtualVertices=[],this.virtualStyle=OpenLayers.Util.extend({},this.layer.style||this.layer.styleMap.createSymbolizer(null,b.vertexRenderIntent)),this.virtualStyle.fillOpacity=.3,this.virtualStyle.strokeOpacity=.3,this.deleteCodes=[46,68],this.mode=OpenLayers.Control.ModifyFeature.RESHAPE,OpenLayers.Control.prototype.initialize.apply(this,[b]),OpenLayers.Util.isArray(this.deleteCodes)||(this.deleteCodes=[this.deleteCodes]);var c={documentDrag:this.documentDrag,stopDown:!1};this.handlers={keyboard:new OpenLayers.Handler.Keyboard(this,{keydown:this.handleKeypress}),drag:new OpenLayers.Handler.Drag(this,{down:function(a){this.vertex=null,(a=this.layer.getFeatureFromEvent(this.handlers.drag.evt))?this.dragStart(a):this.clickout&&(this._unselect=this.feature)},move:function(a){delete this._unselect,this.vertex&&this.dragVertex(this.vertex,a)},up:function(){this.handlers.drag.stopDown=!1,this._unselect&&(this.unselectFeature(this._unselect),delete this._unselect)},done:function(){this.vertex&&this.dragComplete(this.vertex)}},c)}},destroy:function(){this.map&&this.map.events.un({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this}),this.layer=null,OpenLayers.Control.prototype.destroy.apply(this,[])},activate:function(){return this.moveLayerToTop(),this.map.events.on({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this}),this.handlers.keyboard.activate()&&this.handlers.drag.activate()&&OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){var a=!1;return OpenLayers.Control.prototype.deactivate.apply(this,arguments)&&(this.moveLayerBack(),this.map.events.un({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this}),this.layer.removeFeatures(this.vertices,{silent:!0}),this.layer.removeFeatures(this.virtualVertices,{silent:!0}),this.vertices=[],this.handlers.drag.deactivate(),this.handlers.keyboard.deactivate(),(a=this.feature)&&a.geometry&&a.layer&&this.unselectFeature(a),a=!0),a},beforeSelectFeature:function(a){return this.layer.events.triggerEvent("beforefeaturemodified",{feature:a})},selectFeature:function(a){if(!(this.feature===a||this.geometryTypes&&-1==OpenLayers.Util.indexOf(this.geometryTypes,a.geometry.CLASS_NAME))){!1!==this.beforeSelectFeature(a)&&(this.feature&&this.unselectFeature(this.feature),this.feature=a,this.layer.selectedFeatures.push(a),this.layer.drawFeature(a,"select"),this.modified=!1,this.resetVertices(),this.onModificationStart(this.feature));var b=a.modified;!a.geometry||b&&b.geometry||(this._originalGeometry=a.geometry.clone())}},unselectFeature:function(a){this.layer.removeFeatures(this.vertices,{silent:!0}),this.vertices=[],this.layer.destroyFeatures(this.virtualVertices,{silent:!0}),this.virtualVertices=[],this.dragHandle&&(this.layer.destroyFeatures([this.dragHandle],{silent:!0}),delete this.dragHandle),this.radiusHandle&&(this.layer.destroyFeatures([this.radiusHandle],{silent:!0}),delete this.radiusHandle),this.layer.drawFeature(this.feature,"default"),this.feature=null,OpenLayers.Util.removeItem(this.layer.selectedFeatures,a),this.onModificationEnd(a),this.layer.events.triggerEvent("afterfeaturemodified",{feature:a,modified:this.modified}),this.modified=!1},dragStart:function(a){var b="OpenLayers.Geometry.Point"==a.geometry.CLASS_NAME;this.standalone||(a._sketch||!b)&&a._sketch||(this.toggle&&this.feature===a&&(this._unselect=a),this.selectFeature(a)),(a._sketch||b)&&(this.vertex=a,this.handlers.drag.stopDown=!0)},dragVertex:function(a,b){var c=this.map.getLonLatFromViewPortPx(b),d=a.geometry;d.move(c.lon-d.x,c.lat-d.y),this.modified=!0,"OpenLayers.Geometry.Point"==this.feature.geometry.CLASS_NAME?this.layer.events.triggerEvent("vertexmodified",{vertex:a.geometry,feature:this.feature,pixel:b}):(a._index?(a.geometry.parent.addComponent(a.geometry,a._index),delete a._index,OpenLayers.Util.removeItem(this.virtualVertices,a),this.vertices.push(a)):a==this.dragHandle?(this.layer.removeFeatures(this.vertices,{silent:!0}),this.vertices=[],this.radiusHandle&&(this.layer.destroyFeatures([this.radiusHandle],{silent:!0}),this.radiusHandle=null)):a!==this.radiusHandle&&this.layer.events.triggerEvent("vertexmodified",{vertex:a.geometry,feature:this.feature,pixel:b}),0<this.virtualVertices.length&&(this.layer.destroyFeatures(this.virtualVertices,{silent:!0}),this.virtualVertices=[]),this.layer.drawFeature(this.feature,this.standalone?void 0:"select")),this.layer.drawFeature(a)},dragComplete:function(){this.resetVertices(),this.setFeatureState(),this.onModification(this.feature),this.layer.events.triggerEvent("featuremodified",{feature:this.feature})},setFeatureState:function(){if(this.feature.state!=OpenLayers.State.INSERT&&this.feature.state!=OpenLayers.State.DELETE&&(this.feature.state=OpenLayers.State.UPDATE,this.modified&&this._originalGeometry)){var a=this.feature;a.modified=OpenLayers.Util.extend(a.modified,{geometry:this._originalGeometry}),delete this._originalGeometry}},resetVertices:function(){0<this.vertices.length&&(this.layer.removeFeatures(this.vertices,{silent:!0}),this.vertices=[]),0<this.virtualVertices.length&&(this.layer.removeFeatures(this.virtualVertices,{silent:!0}),this.virtualVertices=[]),this.dragHandle&&(this.layer.destroyFeatures([this.dragHandle],{silent:!0}),this.dragHandle=null),this.radiusHandle&&(this.layer.destroyFeatures([this.radiusHandle],{silent:!0}),this.radiusHandle=null),this.feature&&"OpenLayers.Geometry.Point"!=this.feature.geometry.CLASS_NAME&&(this.mode&OpenLayers.Control.ModifyFeature.DRAG&&this.collectDragHandle(),this.mode&(OpenLayers.Control.ModifyFeature.ROTATE|OpenLayers.Control.ModifyFeature.RESIZE)&&this.collectRadiusHandle(),this.mode&OpenLayers.Control.ModifyFeature.RESHAPE&&(this.mode&OpenLayers.Control.ModifyFeature.RESIZE||this.collectVertices()))},handleKeypress:function(a){var b=a.keyCode;this.feature&&-1!=OpenLayers.Util.indexOf(this.deleteCodes,b)&&(b=this.layer.getFeatureFromEvent(this.handlers.drag.evt))&&-1!=OpenLayers.Util.indexOf(this.vertices,b)&&!this.handlers.drag.dragging&&b.geometry.parent&&(b.geometry.parent.removeComponent(b.geometry),this.layer.events.triggerEvent("vertexremoved",{vertex:b.geometry,feature:this.feature,pixel:a.xy}),this.layer.drawFeature(this.feature,this.standalone?void 0:"select"),this.modified=!0,this.resetVertices(),this.setFeatureState(),this.onModification(this.feature),this.layer.events.triggerEvent("featuremodified",{feature:this.feature}))},collectVertices:function(){function a(c){var d,e,f;if("OpenLayers.Geometry.Point"==c.CLASS_NAME)e=new OpenLayers.Feature.Vector(c),e._sketch=!0,e.renderIntent=b.vertexRenderIntent,b.vertices.push(e);else{for(f=c.components.length,"OpenLayers.Geometry.LinearRing"==c.CLASS_NAME&&(f-=1),d=0;f>d;++d)e=c.components[d],"OpenLayers.Geometry.Point"==e.CLASS_NAME?(e=new OpenLayers.Feature.Vector(e),e._sketch=!0,e.renderIntent=b.vertexRenderIntent,b.vertices.push(e)):a(e);if(b.createVertices&&"OpenLayers.Geometry.MultiPoint"!=c.CLASS_NAME)for(d=0,f=c.components.length;f-1>d;++d){e=c.components[d];var g=c.components[d+1];"OpenLayers.Geometry.Point"==e.CLASS_NAME&&"OpenLayers.Geometry.Point"==g.CLASS_NAME&&(e=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point((e.x+g.x)/2,(e.y+g.y)/2),null,b.virtualStyle),e.geometry.parent=c,e._index=d+1,e._sketch=!0,b.virtualVertices.push(e))}}}this.vertices=[],this.virtualVertices=[];var b=this;a.call(this,this.feature.geometry),this.layer.addFeatures(this.virtualVertices,{silent:!0}),this.layer.addFeatures(this.vertices,{silent:!0})},collectDragHandle:function(){var a=this.feature.geometry,b=a.getBounds().getCenterLonLat(),b=new OpenLayers.Geometry.Point(b.lon,b.lat),c=new OpenLayers.Feature.Vector(b);b.move=function(b,c){OpenLayers.Geometry.Point.prototype.move.call(this,b,c),a.move(b,c)},c._sketch=!0,this.dragHandle=c,this.dragHandle.renderIntent=this.vertexRenderIntent,this.layer.addFeatures([this.dragHandle],{silent:!0})},collectRadiusHandle:function(){var a=this.feature.geometry,b=a.getBounds(),c=b.getCenterLonLat(),d=new OpenLayers.Geometry.Point(c.lon,c.lat),b=new OpenLayers.Geometry.Point(b.right,b.bottom),c=new OpenLayers.Feature.Vector(b),e=this.mode&OpenLayers.Control.ModifyFeature.RESIZE,f=this.mode&OpenLayers.Control.ModifyFeature.RESHAPE,g=this.mode&OpenLayers.Control.ModifyFeature.ROTATE;b.move=function(b,c){OpenLayers.Geometry.Point.prototype.move.call(this,b,c);var h=this.x-d.x,i=this.y-d.y,j=h-b,k=i-c;if(g){var l=Math.atan2(k,j),l=Math.atan2(i,h)-l,l=l*(180/Math.PI);a.rotate(l,d)}if(e){var m;f?(i/=k,m=h/j/i):(j=Math.sqrt(j*j+k*k),i=Math.sqrt(h*h+i*i)/j),a.resize(i,d,m)}},c._sketch=!0,this.radiusHandle=c,this.radiusHandle.renderIntent=this.vertexRenderIntent,this.layer.addFeatures([this.radiusHandle],{silent:!0})},setMap:function(a){this.handlers.drag.setMap(a),OpenLayers.Control.prototype.setMap.apply(this,arguments)},handleMapEvents:function(a){"removelayer"!=a.type&&"order"!=a.property||this.moveLayerToTop()},moveLayerToTop:function(){var a=Math.max(this.map.Z_INDEX_BASE.Feature-1,this.layer.getZIndex())+1;this.layer.setZIndex(a)},moveLayerBack:function(){var a=this.layer.getZIndex()-1;a>=this.map.Z_INDEX_BASE.Feature?this.layer.setZIndex(a):this.map.setLayerZIndex(this.layer,this.map.getLayerIndex(this.layer))},CLASS_NAME:"OpenLayers.Control.ModifyFeature"}),OpenLayers.Control.ModifyFeature.RESHAPE=1,OpenLayers.Control.ModifyFeature.RESIZE=2,OpenLayers.Control.ModifyFeature.ROTATE=4,OpenLayers.Control.ModifyFeature.DRAG=8,OpenLayers.Layer.Bing=OpenLayers.Class(OpenLayers.Layer.XYZ,{key:null,serverResolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135,.29858214169740677,.14929107084870338,.07464553542435169],attributionTemplate:'<span class="olBingAttribution ${type}"><div><a target="_blank" href="http://www.bing.com/maps/"><img src="${logo}" /></a></div>${copyrights}<a style="white-space: nowrap" target="_blank" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a></span>',metadata:null,protocolRegex:/^http:/i,type:"Road",culture:"en-US",metadataParams:null,tileOptions:null,protocol:~window.location.href.indexOf("http")?"":"http:",initialize:function(a){a=OpenLayers.Util.applyDefaults({sphericalMercator:!0},a),OpenLayers.Layer.XYZ.prototype.initialize.apply(this,[a.name||"Bing "+(a.type||this.type),null,a]),this.tileOptions=OpenLayers.Util.extend({crossOriginKeyword:"anonymous"},this.options.tileOptions),this.loadMetadata()},loadMetadata:function(){this._callbackId="_callback_"+this.id.replace(/\./g,"_"),window[this._callbackId]=OpenLayers.Function.bind(OpenLayers.Layer.Bing.processMetadata,this);var a=OpenLayers.Util.applyDefaults({key:this.key,jsonp:this._callbackId,include:"ImageryProviders"},this.metadataParams),a=this.protocol+"//dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.type+"?"+OpenLayers.Util.getParameterString(a),b=document.createElement("script");b.type="text/javascript",b.src=a,b.id=this._callbackId,document.getElementsByTagName("head")[0].appendChild(b)},initLayer:function(){var a=this.metadata.resourceSets[0].resources[0],b=a.imageUrl.replace("{quadkey}","${quadkey}"),b=b.replace("{culture}",this.culture),b=b.replace(this.protocolRegex,this.protocol);this.url=[];for(var c=0;c<a.imageUrlSubdomains.length;++c)this.url.push(b.replace("{subdomain}",a.imageUrlSubdomains[c]));this.addOptions({maxResolution:Math.min(this.serverResolutions[a.zoomMin],this.maxResolution||Number.POSITIVE_INFINITY),numZoomLevels:Math.min(a.zoomMax+1-a.zoomMin,this.numZoomLevels)},!0),this.isBaseLayer||this.redraw(),this.updateAttribution()},getURL:function(a){if(this.url){var b=this.getXYZ(a);a=b.x;for(var c=b.y,b=b.z,d=[],e=b;e>0;--e){var f="0",g=1<<e-1;0!=(a&g)&&f++,0!=(c&g)&&(f++,f++),d.push(f)}return d=d.join(""),a=this.selectUrl(""+a+c+b,this.url),OpenLayers.String.format(a,{quadkey:d})}},updateAttribution:function(){var a=this.metadata;if(a.resourceSets&&this.map&&this.map.center){var b,c,d,e,f,g,h,i=a.resourceSets[0].resources[0],j=this.map.getExtent().transform(this.map.getProjectionObject(),new OpenLayers.Projection("EPSG:4326")),k=i.imageryProviders||[],l=OpenLayers.Util.indexOf(this.serverResolutions,this.getServerResolution()),i="";for(c=0,d=k.length;d>c;++c)for(b=k[c],e=0,f=b.coverageAreas.length;f>e;++e)h=b.coverageAreas[e],g=OpenLayers.Bounds.fromArray(h.bbox,!0),j.intersectsBounds(g)&&l<=h.zoomMax&&l>=h.zoomMin&&(i+=b.attribution+" ");a=a.brandLogoUri.replace(this.protocolRegex,this.protocol),this.attribution=OpenLayers.String.format(this.attributionTemplate,{type:this.type.toLowerCase(),logo:a,copyrights:i}),this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"attribution"})}},setMap:function(){OpenLayers.Layer.XYZ.prototype.setMap.apply(this,arguments),this.map.events.register("moveend",this,this.updateAttribution)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.Bing(this.options)),a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a])},destroy:function(){this.map&&this.map.events.unregister("moveend",this,this.updateAttribution),OpenLayers.Layer.XYZ.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Layer.Bing"}),OpenLayers.Layer.Bing.processMetadata=function(a){this.metadata=a,this.initLayer(),a=document.getElementById(this._callbackId),a.parentNode.removeChild(a),window[this._callbackId]=void 0,delete this._callbackId},OpenLayers.StyleMap=OpenLayers.Class({styles:null,extendDefault:!0,initialize:function(a,b){if(this.styles={"default":new OpenLayers.Style(OpenLayers.Feature.Vector.style["default"]),select:new OpenLayers.Style(OpenLayers.Feature.Vector.style.select),temporary:new OpenLayers.Style(OpenLayers.Feature.Vector.style.temporary),"delete":new OpenLayers.Style(OpenLayers.Feature.Vector.style["delete"])},a instanceof OpenLayers.Style)this.styles["default"]=a,this.styles.select=a,this.styles.temporary=a,this.styles["delete"]=a;else if("object"==typeof a)for(var c in a)if(a[c]instanceof OpenLayers.Style)this.styles[c]=a[c];else{if("object"!=typeof a[c]){this.styles["default"]=new OpenLayers.Style(a),this.styles.select=new OpenLayers.Style(a),this.styles.temporary=new OpenLayers.Style(a),this.styles["delete"]=new OpenLayers.Style(a);break}this.styles[c]=new OpenLayers.Style(a[c])}OpenLayers.Util.extend(this,b)},destroy:function(){for(var a in this.styles)this.styles[a].destroy();this.styles=null},createSymbolizer:function(a,b){a||(a=new OpenLayers.Feature.Vector),this.styles[b]||(b="default"),a.renderIntent=b;var c={};return this.extendDefault&&"default"!=b&&(c=this.styles["default"].createSymbolizer(a)),OpenLayers.Util.extend(c,this.styles[b].createSymbolizer(a))},addUniqueValueRules:function(a,b,c,d){var e,f=[];for(e in c)f.push(new OpenLayers.Rule({symbolizer:c[e],context:d,filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:b,value:e})}));this.styles[a].addRules(f)},CLASS_NAME:"OpenLayers.StyleMap"}),OpenLayers.Layer.Vector=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:!1,isFixed:!1,features:null,filter:null,selectedFeatures:null,unrenderedFeatures:null,reportError:!0,style:null,styleMap:null,strategies:null,protocol:null,renderers:["SVG","VML","Canvas"],renderer:null,rendererOptions:null,geometryType:null,drawn:!1,ratio:1,initialize:function(){if(OpenLayers.Layer.prototype.initialize.apply(this,arguments),this.renderer&&this.renderer.supported()||this.assignRenderer(),this.renderer&&this.renderer.supported()||(this.renderer=null,this.displayError()),this.styleMap||(this.styleMap=new OpenLayers.StyleMap),this.features=[],this.selectedFeatures=[],this.unrenderedFeatures={},this.strategies)for(var a=0,b=this.strategies.length;b>a;a++)this.strategies[a].setLayer(this)},destroy:function(){if(this.strategies){var a,b,c;for(b=0,c=this.strategies.length;c>b;b++)a=this.strategies[b],a.autoDestroy&&a.destroy();this.strategies=null}this.protocol&&(this.protocol.autoDestroy&&this.protocol.destroy(),this.protocol=null),this.destroyFeatures(),this.unrenderedFeatures=this.selectedFeatures=this.features=null,this.renderer&&this.renderer.destroy(),this.drawn=this.geometryType=this.renderer=null,OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(a){null==a&&(a=new OpenLayers.Layer.Vector(this.name,this.getOptions())),a=OpenLayers.Layer.prototype.clone.apply(this,[a]);for(var b=this.features,c=b.length,d=Array(c),e=0;c>e;++e)d[e]=b[e].clone();return a.features=d,a},refresh:function(a){this.calculateInRange()&&this.visibility&&this.events.triggerEvent("refresh",a)},assignRenderer:function(){for(var a=0,b=this.renderers.length;b>a;a++){var c=this.renderers[a];if((c="function"==typeof c?c:OpenLayers.Renderer[c])&&c.prototype.supported()){this.renderer=new c(this.div,this.rendererOptions);break}}},displayError:function(){this.reportError&&OpenLayers.Console.userError(OpenLayers.i18n("browserNotSupported",{renderers:this.renderers.join("\n")}))},setMap:function(){if(OpenLayers.Layer.prototype.setMap.apply(this,arguments),this.renderer){this.renderer.map=this.map;var a=this.map.getSize();a.w*=this.ratio,a.h*=this.ratio,this.renderer.setSize(a)}else this.map.removeLayer(this)},afterAdd:function(){if(this.strategies){var a,b,c;for(b=0,c=this.strategies.length;c>b;b++)a=this.strategies[b],a.autoActivate&&a.activate()}},removeMap:function(a){if(this.drawn=!1,this.strategies){var b,c;for(b=0,c=this.strategies.length;c>b;b++)a=this.strategies[b],a.autoActivate&&a.deactivate()}},onMapResize:function(){OpenLayers.Layer.prototype.onMapResize.apply(this,arguments);var a=this.map.getSize();a.w*=this.ratio,a.h*=this.ratio,this.renderer.setSize(a)},moveTo:function(a,b,c){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);var d=!0;if(!c){this.renderer.root.style.visibility="hidden";var d=this.map.getSize(),e=d.w,d=d.h,e=e/2*this.ratio-e/2,d=d/2*this.ratio-d/2,e=e+this.map.layerContainerOriginPx.x,e=-Math.round(e),d=d+this.map.layerContainerOriginPx.y,d=-Math.round(d);if(this.div.style.left=e+"px",this.div.style.top=d+"px",e=this.map.getExtent().scale(this.ratio),d=this.renderer.setExtent(e,b),this.renderer.root.style.visibility="visible",!0===OpenLayers.IS_GECKO&&(this.div.scrollLeft=this.div.scrollLeft),!b&&d)for(var f in this.unrenderedFeatures)e=this.unrenderedFeatures[f],this.drawFeature(e)}if(!this.drawn||b||!d)for(this.drawn=!0,f=0,d=this.features.length;d>f;f++)this.renderer.locked=f!==d-1,e=this.features[f],this.drawFeature(e)},display:function(){OpenLayers.Layer.prototype.display.apply(this,arguments);var a=this.div.style.display;a!=this.renderer.root.style.display&&(this.renderer.root.style.display=a)},addFeatures:function(a,b){OpenLayers.Util.isArray(a)||(a=[a]);var c=!b||!b.silent;if(c){var d={features:a};if(!1===this.events.triggerEvent("beforefeaturesadded",d))return;a=d.features}for(var d=[],e=0,f=a.length;f>e;e++){this.renderer.locked=e!=a.length-1?!0:!1;var g=a[e];if(this.geometryType&&!(g.geometry instanceof this.geometryType))throw new TypeError("addFeatures: component should be an "+this.geometryType.prototype.CLASS_NAME);if(g.layer=this,!g.style&&this.style&&(g.style=OpenLayers.Util.extend({},this.style)),c){if(!1===this.events.triggerEvent("beforefeatureadded",{feature:g}))continue;this.preFeatureInsert(g)}d.push(g),this.features.push(g),this.drawFeature(g),c&&(this.events.triggerEvent("featureadded",{feature:g}),this.onFeatureInsert(g))}c&&this.events.triggerEvent("featuresadded",{features:d})},removeFeatures:function(a,b){if(a&&0!==a.length){if(a===this.features)return this.removeAllFeatures(b);OpenLayers.Util.isArray(a)||(a=[a]),a===this.selectedFeatures&&(a=a.slice());var c=!b||!b.silent;c&&this.events.triggerEvent("beforefeaturesremoved",{features:a});for(var d=a.length-1;d>=0;d--){this.renderer.locked=0!=d&&a[d-1].geometry?!0:!1;var e=a[d];delete this.unrenderedFeatures[e.id],c&&this.events.triggerEvent("beforefeatureremoved",{feature:e}),this.features=OpenLayers.Util.removeItem(this.features,e),e.layer=null,e.geometry&&this.renderer.eraseFeatures(e),-1!=OpenLayers.Util.indexOf(this.selectedFeatures,e)&&OpenLayers.Util.removeItem(this.selectedFeatures,e),c&&this.events.triggerEvent("featureremoved",{feature:e})}c&&this.events.triggerEvent("featuresremoved",{features:a})}},removeAllFeatures:function(a){a=!a||!a.silent;var b=this.features;a&&this.events.triggerEvent("beforefeaturesremoved",{features:b});for(var c,d=b.length-1;d>=0;d--)c=b[d],a&&this.events.triggerEvent("beforefeatureremoved",{feature:c}),c.layer=null,a&&this.events.triggerEvent("featureremoved",{feature:c});this.renderer.clear(),this.features=[],this.unrenderedFeatures={},this.selectedFeatures=[],a&&this.events.triggerEvent("featuresremoved",{features:b})},destroyFeatures:function(a,b){if(void 0==a&&(a=this.features),a){this.removeFeatures(a,b);for(var c=a.length-1;c>=0;c--)a[c].destroy()}},drawFeature:function(a,b){if(this.drawn){if("object"!=typeof b){b||a.state!==OpenLayers.State.DELETE||(b="delete");var c=b||a.renderIntent;(b=a.style||this.style)||(b=this.styleMap.createSymbolizer(a,c))}c=this.renderer.drawFeature(a,b),!1===c||null===c?this.unrenderedFeatures[a.id]=a:delete this.unrenderedFeatures[a.id]}},eraseFeatures:function(a){this.renderer.eraseFeatures(a)},getFeatureFromEvent:function(a){if(!this.renderer)throw Error("getFeatureFromEvent called on layer with no renderer. This usually means you destroyed a layer, but not some handler which is associated with it.");var b=null;return(a=this.renderer.getFeatureIdFromEvent(a))&&(b="string"==typeof a?this.getFeatureById(a):a),b},getFeatureBy:function(a,b){for(var c=null,d=0,e=this.features.length;e>d;++d)if(this.features[d][a]==b){c=this.features[d];break}return c},getFeatureById:function(a){return this.getFeatureBy("id",a)},getFeatureByFid:function(a){return this.getFeatureBy("fid",a)},getFeaturesByAttribute:function(a,b){var c,d,e=this.features.length,f=[];for(c=0;e>c;c++)(d=this.features[c])&&d.attributes&&d.attributes[a]===b&&f.push(d);return f},onFeatureInsert:function(){},preFeatureInsert:function(){},getDataExtent:function(){var a=null,b=this.features;if(b&&0<b.length)for(var c=null,d=0,e=b.length;e>d;d++)(c=b[d].geometry)&&(null===a&&(a=new OpenLayers.Bounds),a.extend(c.getBounds()));return a},CLASS_NAME:"OpenLayers.Layer.Vector"}),OpenLayers.Layer.PointGrid=OpenLayers.Class(OpenLayers.Layer.Vector,{dx:null,dy:null,ratio:1.5,maxFeatures:250,rotation:0,origin:null,gridBounds:null,initialize:function(a){a=a||{},OpenLayers.Layer.Vector.prototype.initialize.apply(this,[a.name,a])},setMap:function(a){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments),a.events.register("moveend",this,this.onMoveEnd)},removeMap:function(a){a.events.unregister("moveend",this,this.onMoveEnd),OpenLayers.Layer.Vector.prototype.removeMap.apply(this,arguments)},setRatio:function(a){this.ratio=a,this.updateGrid(!0)},setMaxFeatures:function(a){this.maxFeatures=a,this.updateGrid(!0)},setSpacing:function(a,b){this.dx=a,this.dy=b||a,this.updateGrid(!0)},setOrigin:function(a){this.origin=a,this.updateGrid(!0)},getOrigin:function(){return this.origin||(this.origin=this.map.getExtent().getCenterLonLat()),this.origin},setRotation:function(a){this.rotation=a,this.updateGrid(!0)},onMoveEnd:function(){this.updateGrid()},getViewBounds:function(){var a=this.map.getExtent();if(this.rotation){var b=this.getOrigin(),b=new OpenLayers.Geometry.Point(b.lon,b.lat),a=a.toGeometry();a.rotate(-this.rotation,b),a=a.getBounds()}return a},updateGrid:function(a){if(a||this.invalidBounds()){var b=this.getViewBounds(),c=this.getOrigin();a=new OpenLayers.Geometry.Point(c.lon,c.lat);var d=b.getWidth(),e=b.getHeight(),f=d/e,g=Math.sqrt(this.dx*this.dy*this.maxFeatures/f),d=Math.min(d*this.ratio,g*f),e=Math.min(e*this.ratio,g),b=b.getCenterLonLat();this.gridBounds=new OpenLayers.Bounds(b.lon-d/2,b.lat-e/2,b.lon+d/2,b.lat+e/2);for(var h,b=Math.floor(e/this.dy),d=Math.floor(d/this.dx),e=c.lon+this.dx*Math.ceil((this.gridBounds.left-c.lon)/this.dx),c=c.lat+this.dy*Math.ceil((this.gridBounds.bottom-c.lat)/this.dy),g=Array(b*d),i=0;d>i;++i)for(var f=e+i*this.dx,j=0;b>j;++j)h=c+j*this.dy,h=new OpenLayers.Geometry.Point(f,h),this.rotation&&h.rotate(this.rotation,a),g[i*b+j]=new OpenLayers.Feature.Vector(h);this.destroyFeatures(this.features,{silent:!0}),this.addFeatures(g,{silent:!0})}},invalidBounds:function(){return!this.gridBounds||!this.gridBounds.containsBounds(this.getViewBounds())},CLASS_NAME:"OpenLayers.Layer.PointGrid"}),OpenLayers.Handler.MouseWheel=OpenLayers.Class(OpenLayers.Handler,{wheelListener:null,interval:0,maxDelta:Number.POSITIVE_INFINITY,delta:0,cumulative:!0,initialize:function(){OpenLayers.Handler.prototype.initialize.apply(this,arguments),this.wheelListener=OpenLayers.Function.bindAsEventListener(this.onWheelEvent,this)
},destroy:function(){OpenLayers.Handler.prototype.destroy.apply(this,arguments),this.wheelListener=null},onWheelEvent:function(a){if(this.map&&this.checkModifiers(a)){for(var b=!1,c=!1,d=!1,e=OpenLayers.Event.element(a);null!=e&&!d&&!b;){if(!b)try{var f,b=(f=e.currentStyle?e.currentStyle.overflow:document.defaultView.getComputedStyle(e,null).getPropertyValue("overflow"))&&"auto"==f||"scroll"==f}catch(g){}if(!c&&(c=OpenLayers.Element.hasClass(e,"olScrollable"),!c))for(var d=0,h=this.map.layers.length;h>d;d++){var i=this.map.layers[d];if(e==i.div||e==i.pane){c=!0;break}}d=e==this.map.div,e=e.parentNode}if(!b&&d){if(c)if(b=0,a.wheelDelta?(b=a.wheelDelta,0===b%160&&(b*=.75),b/=120):a.detail&&(b=-(a.detail/Math.abs(a.detail))),this.delta+=b,window.clearTimeout(this._timeoutId),this.interval&&Math.abs(this.delta)<this.maxDelta){var j=OpenLayers.Util.extend({},a);this._timeoutId=window.setTimeout(OpenLayers.Function.bind(function(){this.wheelZoom(j)},this),this.interval)}else this.wheelZoom(a);OpenLayers.Event.stop(a)}}},wheelZoom:function(a){var b=this.delta;this.delta=0,b&&(a.xy=this.map.events.getMousePosition(a),0>b?this.callback("down",[a,this.cumulative?Math.max(-this.maxDelta,b):-1]):this.callback("up",[a,this.cumulative?Math.min(this.maxDelta,b):1]))},activate:function(){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){var a=this.wheelListener;return OpenLayers.Event.observe(window,"DOMMouseScroll",a),OpenLayers.Event.observe(window,"mousewheel",a),OpenLayers.Event.observe(document,"mousewheel",a),!0}return!1},deactivate:function(){if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){var a=this.wheelListener;return OpenLayers.Event.stopObserving(window,"DOMMouseScroll",a),OpenLayers.Event.stopObserving(window,"mousewheel",a),OpenLayers.Event.stopObserving(document,"mousewheel",a),!0}return!1},CLASS_NAME:"OpenLayers.Handler.MouseWheel"}),OpenLayers.Symbolizer=OpenLayers.Class({zIndex:0,initialize:function(a){OpenLayers.Util.extend(this,a)},clone:function(){return new(eval(this.CLASS_NAME))(OpenLayers.Util.extend({},this))},CLASS_NAME:"OpenLayers.Symbolizer"}),OpenLayers.Symbolizer.Raster=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Raster"}),OpenLayers.Rule=OpenLayers.Class({id:null,name:null,title:null,description:null,context:null,filter:null,elseFilter:!1,symbolizer:null,symbolizers:null,minScaleDenominator:null,maxScaleDenominator:null,initialize:function(a){this.symbolizer={},OpenLayers.Util.extend(this,a),this.symbolizers&&delete this.symbolizer,this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var a in this.symbolizer)this.symbolizer[a]=null;this.symbolizer=null,delete this.symbolizers},evaluate:function(a){var b=this.getContext(a),c=!0;if(this.minScaleDenominator||this.maxScaleDenominator)var d=a.layer.map.getScale();return this.minScaleDenominator&&(c=d>=OpenLayers.Style.createLiteral(this.minScaleDenominator,b)),c&&this.maxScaleDenominator&&(c=d<OpenLayers.Style.createLiteral(this.maxScaleDenominator,b)),c&&this.filter&&(c=this.filter.evaluate("OpenLayers.Filter.FeatureId"==this.filter.CLASS_NAME?a:b)),c},getContext:function(a){var b=this.context;return b||(b=a.attributes||a.data),"function"==typeof this.context&&(b=this.context(a)),b},clone:function(){var a=OpenLayers.Util.extend({},this);if(this.symbolizers){var b=this.symbolizers.length;a.symbolizers=Array(b);for(var c=0;b>c;++c)a.symbolizers[c]=this.symbolizers[c].clone()}else{a.symbolizer={};for(var d in this.symbolizer)b=this.symbolizer[d],c=typeof b,"object"===c?a.symbolizer[d]=OpenLayers.Util.extend({},b):"string"===c&&(a.symbolizer[d]=b)}return a.filter=this.filter&&this.filter.clone(),a.context=this.context&&OpenLayers.Util.extend({},this.context),new OpenLayers.Rule(a)},CLASS_NAME:"OpenLayers.Rule"}),OpenLayers.Format.SLD=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{profile:null,defaultVersion:"1.0.0",stringifyOutput:!0,namedLayersAsArray:!1,CLASS_NAME:"OpenLayers.Format.SLD"}),OpenLayers.Symbolizer.Polygon=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Polygon"}),OpenLayers.Format.GML.v2=OpenLayers.Class(OpenLayers.Format.GML.Base,{schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",initialize:function(a){OpenLayers.Format.GML.Base.prototype.initialize.apply(this,[a])},readers:{gml:OpenLayers.Util.applyDefaults({outerBoundaryIs:function(a,b){var c={};this.readChildNodes(a,c),b.outer=c.components[0]},innerBoundaryIs:function(a,b){var c={};this.readChildNodes(a,c),b.inner.push(c.components[0])},Box:function(a,b){var c={};this.readChildNodes(a,c),b.components||(b.components=[]);var d=c.points[0],c=c.points[1];b.components.push(new OpenLayers.Bounds(d.x,d.y,c.x,c.y))}},OpenLayers.Format.GML.Base.prototype.readers.gml),feature:OpenLayers.Format.GML.Base.prototype.readers.feature,wfs:OpenLayers.Format.GML.Base.prototype.readers.wfs},write:function(a){var b;return b=OpenLayers.Util.isArray(a)?"wfs:FeatureCollection":"gml:featureMember",a=this.writeNode(b,a),this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{gml:OpenLayers.Util.applyDefaults({Point:function(a){var b=this.createElementNSPlus("gml:Point");return this.writeNode("coordinates",[a],b),b},coordinates:function(a){for(var b,c=a.length,d=Array(c),e=0;c>e;++e)b=a[e],d[e]=this.xy?b.x+","+b.y:b.y+","+b.x,void 0!=b.z&&(d[e]+=","+b.z);return this.createElementNSPlus("gml:coordinates",{attributes:{decimal:".",cs:",",ts:" "},value:1==c?d[0]:d.join(" ")})},LineString:function(a){var b=this.createElementNSPlus("gml:LineString");return this.writeNode("coordinates",a.components,b),b},Polygon:function(a){var b=this.createElementNSPlus("gml:Polygon");this.writeNode("outerBoundaryIs",a.components[0],b);for(var c=1;c<a.components.length;++c)this.writeNode("innerBoundaryIs",a.components[c],b);return b},outerBoundaryIs:function(a){var b=this.createElementNSPlus("gml:outerBoundaryIs");return this.writeNode("LinearRing",a,b),b},innerBoundaryIs:function(a){var b=this.createElementNSPlus("gml:innerBoundaryIs");return this.writeNode("LinearRing",a,b),b},LinearRing:function(a){var b=this.createElementNSPlus("gml:LinearRing");return this.writeNode("coordinates",a.components,b),b},Box:function(a){var b=this.createElementNSPlus("gml:Box");return this.writeNode("coordinates",[{x:a.left,y:a.bottom},{x:a.right,y:a.top}],b),this.srsName&&b.setAttribute("srsName",this.srsName),b}},OpenLayers.Format.GML.Base.prototype.writers.gml),feature:OpenLayers.Format.GML.Base.prototype.writers.feature,wfs:OpenLayers.Format.GML.Base.prototype.writers.wfs},CLASS_NAME:"OpenLayers.Format.GML.v2"}),OpenLayers.Format.Filter.v1_0_0=OpenLayers.Class(OpenLayers.Format.GML.v2,OpenLayers.Format.Filter.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/ogc/filter/1.0.0/filter.xsd",initialize:function(a){OpenLayers.Format.GML.v2.prototype.initialize.apply(this,[a])},readers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsNotEqualTo:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.NOT_EQUAL_TO});this.readChildNodes(a,c),b.filters.push(c)},PropertyIsLike:function(a,b){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LIKE});this.readChildNodes(a,c);var d=a.getAttribute("wildCard"),e=a.getAttribute("singleChar"),f=a.getAttribute("escape");c.value2regex(d,e,f),b.filters.push(c)}},OpenLayers.Format.Filter.v1.prototype.readers.ogc),gml:OpenLayers.Format.GML.v2.prototype.readers.gml,feature:OpenLayers.Format.GML.v2.prototype.readers.feature},writers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsEqualTo");return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsNotEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsNotEqualTo");return this.writeNode("PropertyName",a,b),this.writeOgcExpression(a.value,b),b},PropertyIsLike:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLike",{attributes:{wildCard:"*",singleChar:".",escape:"!"}});return this.writeNode("PropertyName",a,b),this.writeNode("Literal",a.regex2value(),b),b},BBOX:function(a){var b=this.createElementNSPlus("ogc:BBOX");a.property&&this.writeNode("PropertyName",a,b);var c=this.writeNode("gml:Box",a.value,b);return a.projection&&c.setAttribute("srsName",a.projection),b}},OpenLayers.Format.Filter.v1.prototype.writers.ogc),gml:OpenLayers.Format.GML.v2.prototype.writers.gml,feature:OpenLayers.Format.GML.v2.prototype.writers.feature},writeSpatial:function(a,b){var c=this.createElementNSPlus("ogc:"+b);if(this.writeNode("PropertyName",a,c),a.value instanceof OpenLayers.Filter.Function)this.writeNode("Function",a.value,c);else{var d;d=a.value instanceof OpenLayers.Geometry?this.writeNode("feature:_geometry",a.value).firstChild:this.writeNode("gml:Box",a.value),a.projection&&d.setAttribute("srsName",a.projection),c.appendChild(d)}return c},CLASS_NAME:"OpenLayers.Format.Filter.v1_0_0"}),OpenLayers.Format.WFST.v1_0_0=OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0,OpenLayers.Format.WFST.v1,{version:"1.0.0",srsNameInQuery:!1,schemaLocations:{wfs:"http://schemas.opengis.net/wfs/1.0.0/WFS-transaction.xsd"},initialize:function(a){OpenLayers.Format.Filter.v1_0_0.prototype.initialize.apply(this,[a]),OpenLayers.Format.WFST.v1.prototype.initialize.apply(this,[a])},readNode:function(){return OpenLayers.Format.GML.v2.prototype.readNode.apply(this,arguments)},readers:{wfs:OpenLayers.Util.applyDefaults({WFS_TransactionResponse:function(a,b){b.insertIds=[],b.success=!1,this.readChildNodes(a,b)},InsertResult:function(a,b){var c={fids:[]};this.readChildNodes(a,c),b.insertIds=b.insertIds.concat(c.fids)},TransactionResult:function(a,b){this.readChildNodes(a,b)},Status:function(a,b){this.readChildNodes(a,b)},SUCCESS:function(a,b){b.success=!0}},OpenLayers.Format.WFST.v1.prototype.readers.wfs),gml:OpenLayers.Format.GML.v2.prototype.readers.gml,feature:OpenLayers.Format.GML.v2.prototype.readers.feature,ogc:OpenLayers.Format.Filter.v1_0_0.prototype.readers.ogc},writers:{wfs:OpenLayers.Util.applyDefaults({Query:function(a){a=OpenLayers.Util.extend({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureType:this.featureType,srsName:this.srsName,srsNameInQuery:this.srsNameInQuery},a);var b=a.featurePrefix,c=this.createElementNSPlus("wfs:Query",{attributes:{typeName:(b?b+":":"")+a.featureType}});if(a.srsNameInQuery&&a.srsName&&c.setAttribute("srsName",a.srsName),a.featureNS&&c.setAttribute("xmlns:"+b,a.featureNS),a.propertyNames)for(var b=0,d=a.propertyNames.length;d>b;b++)this.writeNode("ogc:PropertyName",{property:a.propertyNames[b]},c);return a.filter&&(this.setFilterProperty(a.filter),this.writeNode("ogc:Filter",a.filter,c)),c}},OpenLayers.Format.WFST.v1.prototype.writers.wfs),gml:OpenLayers.Format.GML.v2.prototype.writers.gml,feature:OpenLayers.Format.GML.v2.prototype.writers.feature,ogc:OpenLayers.Format.Filter.v1_0_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.WFST.v1_0_0"}),OpenLayers.ElementsIndexer=OpenLayers.Class({maxZIndex:null,order:null,indices:null,compare:null,initialize:function(a){this.compare=a?OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_Y_ORDER:OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_DRAWING_ORDER,this.clear()},insert:function(a){this.exists(a)&&this.remove(a);var b=a.id;this.determineZIndex(a);for(var c,d=-1,e=this.order.length;e-d>1;)c=parseInt((d+e)/2),0<this.compare(this,a,OpenLayers.Util.getElement(this.order[c]))?d=c:e=c;return this.order.splice(e,0,b),this.indices[b]=this.getZIndex(a),this.getNextElement(e)},remove:function(a){a=a.id;var b=OpenLayers.Util.indexOf(this.order,a);b>=0&&(this.order.splice(b,1),delete this.indices[a],this.maxZIndex=0<this.order.length?this.indices[this.order[this.order.length-1]]:0)},clear:function(){this.order=[],this.indices={},this.maxZIndex=0},exists:function(a){return null!=this.indices[a.id]},getZIndex:function(a){return a._style.graphicZIndex},determineZIndex:function(a){var b=a._style.graphicZIndex;null==b?(b=this.maxZIndex,a._style.graphicZIndex=b):b>this.maxZIndex&&(this.maxZIndex=b)},getNextElement:function(a){if(a+=1,a<this.order.length){var b=OpenLayers.Util.getElement(this.order[a]);return void 0==b&&(b=this.getNextElement(a)),b}return null},CLASS_NAME:"OpenLayers.ElementsIndexer"}),OpenLayers.ElementsIndexer.IndexingMethods={Z_ORDER:function(a,b,c){b=a.getZIndex(b);var d=0;return c&&(a=a.getZIndex(c),d=b-a),d},Z_ORDER_DRAWING_ORDER:function(a,b,c){return a=OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(a,b,c),c&&0==a&&(a=1),a},Z_ORDER_Y_ORDER:function(a,b,c){return a=OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(a,b,c),c&&0===a&&(b=c._boundsBottom-b._boundsBottom,a=0===b?1:b),a}},OpenLayers.Renderer.Elements=OpenLayers.Class(OpenLayers.Renderer,{rendererRoot:null,root:null,vectorRoot:null,textRoot:null,xmlns:null,xOffset:0,indexer:null,BACKGROUND_ID_SUFFIX:"_background",LABEL_ID_SUFFIX:"_label",LABEL_OUTLINE_SUFFIX:"_outline",initialize:function(a,b){OpenLayers.Renderer.prototype.initialize.apply(this,arguments),this.rendererRoot=this.createRenderRoot(),this.root=this.createRoot("_root"),this.vectorRoot=this.createRoot("_vroot"),this.textRoot=this.createRoot("_troot"),this.root.appendChild(this.vectorRoot),this.root.appendChild(this.textRoot),this.rendererRoot.appendChild(this.root),this.container.appendChild(this.rendererRoot),b&&(b.zIndexing||b.yOrdering)&&(this.indexer=new OpenLayers.ElementsIndexer(b.yOrdering))},destroy:function(){this.clear(),this.xmlns=this.root=this.rendererRoot=null,OpenLayers.Renderer.prototype.destroy.apply(this,arguments)},clear:function(){var a,b=this.vectorRoot;if(b)for(;a=b.firstChild;)b.removeChild(a);if(b=this.textRoot)for(;a=b.firstChild;)b.removeChild(a);this.indexer&&this.indexer.clear()},setExtent:function(a,b){var c=OpenLayers.Renderer.prototype.setExtent.apply(this,arguments),d=this.getResolution();if(this.map.baseLayer&&this.map.baseLayer.wrapDateLine){var e,f=a.getWidth()/this.map.getExtent().getWidth();a=a.scale(1/f),f=this.map.getMaxExtent(),f.right>a.left&&f.right<a.right?e=!0:f.left>a.left&&f.left<a.right&&(e=!1),(e!==this.rightOfDateLine||b)&&(c=!1,this.xOffset=!0===e?f.getWidth()/d:0),this.rightOfDateLine=e}return c},getNodeType:function(){},drawGeometry:function(a,b,c){var d=a.CLASS_NAME,e=!0;if("OpenLayers.Geometry.Collection"==d||"OpenLayers.Geometry.MultiPoint"==d||"OpenLayers.Geometry.MultiLineString"==d||"OpenLayers.Geometry.MultiPolygon"==d){for(var d=0,f=a.components.length;f>d;d++)e=this.drawGeometry(a.components[d],b,c)&&e;return e}return d=e=!1,"none"!=b.display&&(b.backgroundGraphic?this.redrawBackgroundNode(a.id,a,b,c):d=!0,e=this.redrawNode(a.id,a,b,c)),0==e&&(b=document.getElementById(a.id))&&(b._style.backgroundGraphic&&(d=!0),b.parentNode.removeChild(b)),d&&(b=document.getElementById(a.id+this.BACKGROUND_ID_SUFFIX))&&b.parentNode.removeChild(b),e},redrawNode:function(a,b,c,d){return c=this.applyDefaultSymbolizer(c),a=this.nodeFactory(a,this.getNodeType(b,c)),a._featureId=d,a._boundsBottom=b.getBounds().bottom,a._geometryClass=b.CLASS_NAME,a._style=c,b=this.drawGeometryNode(a,b,c),!1===b?!1:(a=b.node,this.indexer?(c=this.indexer.insert(a))?this.vectorRoot.insertBefore(a,c):this.vectorRoot.appendChild(a):a.parentNode!==this.vectorRoot&&this.vectorRoot.appendChild(a),this.postDraw(a),b.complete)},redrawBackgroundNode:function(a,b,c){return c=OpenLayers.Util.extend({},c),c.externalGraphic=c.backgroundGraphic,c.graphicXOffset=c.backgroundXOffset,c.graphicYOffset=c.backgroundYOffset,c.graphicZIndex=c.backgroundGraphicZIndex,c.graphicWidth=c.backgroundWidth||c.graphicWidth,c.graphicHeight=c.backgroundHeight||c.graphicHeight,c.backgroundGraphic=null,c.backgroundXOffset=null,c.backgroundYOffset=null,c.backgroundGraphicZIndex=null,this.redrawNode(a+this.BACKGROUND_ID_SUFFIX,b,c,null)},drawGeometryNode:function(a,b,c){c=c||a._style;var d,e={isFilled:void 0===c.fill?!0:c.fill,isStroked:void 0===c.stroke?!!c.strokeWidth:c.stroke};switch(b.CLASS_NAME){case"OpenLayers.Geometry.Point":!1===c.graphic&&(e.isFilled=!1,e.isStroked=!1),d=this.drawPoint(a,b);break;case"OpenLayers.Geometry.LineString":e.isFilled=!1,d=this.drawLineString(a,b);break;case"OpenLayers.Geometry.LinearRing":d=this.drawLinearRing(a,b);break;case"OpenLayers.Geometry.Polygon":d=this.drawPolygon(a,b);break;case"OpenLayers.Geometry.Rectangle":d=this.drawRectangle(a,b)}return a._options=e,0!=d?{node:this.setStyle(a,c,e,b),complete:d}:!1},postDraw:function(){},drawPoint:function(){},drawLineString:function(){},drawLinearRing:function(){},drawPolygon:function(){},drawRectangle:function(){},drawCircle:function(){},removeText:function(a){var b=document.getElementById(a+this.LABEL_ID_SUFFIX);b&&this.textRoot.removeChild(b),(a=document.getElementById(a+this.LABEL_OUTLINE_SUFFIX))&&this.textRoot.removeChild(a)},getFeatureIdFromEvent:function(a){var b=a.target,c=b&&b.correspondingUseElement;return(c?c:b||a.srcElement)._featureId},eraseGeometry:function(a,b){if("OpenLayers.Geometry.MultiPoint"==a.CLASS_NAME||"OpenLayers.Geometry.MultiLineString"==a.CLASS_NAME||"OpenLayers.Geometry.MultiPolygon"==a.CLASS_NAME||"OpenLayers.Geometry.Collection"==a.CLASS_NAME)for(var c=0,d=a.components.length;d>c;c++)this.eraseGeometry(a.components[c],b);else(c=OpenLayers.Util.getElement(a.id))&&c.parentNode&&(c.geometry&&(c.geometry.destroy(),c.geometry=null),c.parentNode.removeChild(c),this.indexer&&this.indexer.remove(c),c._style.backgroundGraphic&&(c=OpenLayers.Util.getElement(a.id+this.BACKGROUND_ID_SUFFIX))&&c.parentNode&&c.parentNode.removeChild(c))},nodeFactory:function(a,b){var c=OpenLayers.Util.getElement(a);return c?this.nodeTypeCompare(c,b)||(c.parentNode.removeChild(c),c=this.nodeFactory(a,b)):c=this.createNode(b,a),c},nodeTypeCompare:function(){},createNode:function(){},moveRoot:function(a){var b=this.root;a.root.parentNode==this.rendererRoot&&(b=a.root),b.parentNode.removeChild(b),a.rendererRoot.appendChild(b)},getRenderLayerId:function(){return this.root.parentNode.parentNode.id},isComplexSymbol:function(a){return"circle"!=a&&!!a},CLASS_NAME:"OpenLayers.Renderer.Elements"}),OpenLayers.Control.ArgParser=OpenLayers.Class(OpenLayers.Control,{center:null,zoom:null,layers:null,displayProjection:null,getParameters:function(a){a=a||window.location.href;var b=OpenLayers.Util.getParameters(a),c=a.indexOf("#");return c>0&&(a="?"+a.substring(c+1,a.length),OpenLayers.Util.extend(b,OpenLayers.Util.getParameters(a))),b},setMap:function(){OpenLayers.Control.prototype.setMap.apply(this,arguments);for(var a=0,b=this.map.controls.length;b>a;a++){var c=this.map.controls[a];if(c!=this&&"OpenLayers.Control.ArgParser"==c.CLASS_NAME){c.displayProjection!=this.displayProjection&&(this.displayProjection=c.displayProjection);break}}a==this.map.controls.length&&(a=this.getParameters(),a.layers&&(this.layers=a.layers,this.map.events.register("addlayer",this,this.configureLayers),this.configureLayers()),a.lat&&a.lon&&(this.center=new OpenLayers.LonLat(parseFloat(a.lon),parseFloat(a.lat)),a.zoom&&(this.zoom=parseFloat(a.zoom)),this.map.events.register("changebaselayer",this,this.setCenter),this.setCenter()))},setCenter:function(){this.map.baseLayer&&(this.map.events.unregister("changebaselayer",this,this.setCenter),this.displayProjection&&this.center.transform(this.displayProjection,this.map.getProjectionObject()),this.map.setCenter(this.center,this.zoom))},configureLayers:function(){if(this.layers.length==this.map.layers.length){this.map.events.unregister("addlayer",this,this.configureLayers);for(var a=0,b=this.layers.length;b>a;a++){var c=this.map.layers[a],d=this.layers.charAt(a);"B"==d?this.map.setBaseLayer(c):"T"!=d&&"F"!=d||c.setVisibility("T"==d)}}},CLASS_NAME:"OpenLayers.Control.ArgParser"}),OpenLayers.Control.Permalink=OpenLayers.Class(OpenLayers.Control,{argParserClass:OpenLayers.Control.ArgParser,element:null,anchor:!1,base:"",displayProjection:null,initialize:function(a,b,c){null===a||"object"!=typeof a||OpenLayers.Util.isElement(a)?(OpenLayers.Control.prototype.initialize.apply(this,[c]),this.element=OpenLayers.Util.getElement(a),this.base=b||document.location.href):(this.base=document.location.href,OpenLayers.Control.prototype.initialize.apply(this,[a]),null!=this.element&&(this.element=OpenLayers.Util.getElement(this.element)))},destroy:function(){this.element&&this.element.parentNode==this.div&&(this.div.removeChild(this.element),this.element=null),this.map&&this.map.events.unregister("moveend",this,this.updateLink),OpenLayers.Control.prototype.destroy.apply(this,arguments)},setMap:function(){OpenLayers.Control.prototype.setMap.apply(this,arguments);for(var a=0,b=this.map.controls.length;b>a;a++){var c=this.map.controls[a];if(c.CLASS_NAME==this.argParserClass.CLASS_NAME){c.displayProjection!=this.displayProjection&&(this.displayProjection=c.displayProjection);break}}a==this.map.controls.length&&this.map.addControl(new this.argParserClass({displayProjection:this.displayProjection}))},draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.element||this.anchor||(this.element=document.createElement("a"),this.element.innerHTML=OpenLayers.i18n("Permalink"),this.element.href="",this.div.appendChild(this.element)),this.map.events.on({moveend:this.updateLink,changelayer:this.updateLink,changebaselayer:this.updateLink,scope:this}),this.updateLink(),this.div},updateLink:function(){var a=this.anchor?"#":"?",b=this.base,c=null;-1!=b.indexOf("#")&&0==this.anchor&&(c=b.substring(b.indexOf("#"),b.length)),-1!=b.indexOf(a)&&(b=b.substring(0,b.indexOf(a))),b=b.split("#")[0]+a+OpenLayers.Util.getParameterString(this.createParams()),c&&(b+=c),this.anchor&&!this.element?window.location.href=b:this.element.href=b},createParams:function(a,b,c){a=a||this.map.getCenter();var d=OpenLayers.Util.getParameters(this.base);if(a)for(d.zoom=b||this.map.getZoom(),b=a.lat,a=a.lon,this.displayProjection&&(b=OpenLayers.Projection.transform({x:a,y:b},this.map.getProjectionObject(),this.displayProjection),a=b.x,b=b.y),d.lat=Math.round(1e5*b)/1e5,d.lon=Math.round(1e5*a)/1e5,c=c||this.map.layers,d.layers="",a=0,b=c.length;b>a;a++){var e=c[a];d.layers=e.isBaseLayer?d.layers+(e==this.map.baseLayer?"B":"0"):d.layers+(e.getVisibility()?"T":"F")}return d},CLASS_NAME:"OpenLayers.Control.Permalink"}),OpenLayers.Layer.TMS=OpenLayers.Class(OpenLayers.Layer.Grid,{serviceVersion:"1.0.0",layername:null,type:null,isBaseLayer:!0,tileOrigin:null,serverResolutions:null,zoomOffset:0,initialize:function(a,b,c){var d=[];d.push(a,b,{},c),OpenLayers.Layer.Grid.prototype.initialize.apply(this,d)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.TMS(this.name,this.url,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){a=this.adjustBounds(a);var b=this.getServerResolution(),c=Math.round((a.left-this.tileOrigin.lon)/(b*this.tileSize.w));return a=Math.round((a.bottom-this.tileOrigin.lat)/(b*this.tileSize.h)),b=this.getServerZoom(),c=this.serviceVersion+"/"+this.layername+"/"+b+"/"+c+"/"+a+"."+this.type,a=this.url,OpenLayers.Util.isArray(a)&&(a=this.selectUrl(c,a)),a+c},setMap:function(){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments),this.tileOrigin||(this.tileOrigin=new OpenLayers.LonLat(this.map.maxExtent.left,this.map.maxExtent.bottom))},CLASS_NAME:"OpenLayers.Layer.TMS"}),OpenLayers.Format.WCSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.0",CLASS_NAME:"OpenLayers.Format.WCSCapabilities"}),OpenLayers.Format.WCSCapabilities.v1=OpenLayers.Class(OpenLayers.Format.XML,{regExes:{trimSpace:/^\s*|\s*$/g,splitSpace:/\s+/},defaultPrefix:"wcs",read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},CLASS_NAME:"OpenLayers.Format.WCSCapabilities.v1"}),OpenLayers.Format.WCSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.WCSCapabilities.v1,{namespaces:{wcs:"http://www.opengis.net/wcs",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",ows:"http://www.opengis.net/ows"},errorProperty:"service",readers:{wcs:{WCS_Capabilities:function(a,b){this.readChildNodes(a,b)},Service:function(a,b){b.service={},this.readChildNodes(a,b.service)},name:function(a,b){b.name=this.getChildValue(a)},label:function(a,b){b.label=this.getChildValue(a)},keywords:function(a,b){b.keywords=[],this.readChildNodes(a,b.keywords)},keyword:function(a,b){b.push(this.getChildValue(a))},responsibleParty:function(a,b){b.responsibleParty={},this.readChildNodes(a,b.responsibleParty)},individualName:function(a,b){b.individualName=this.getChildValue(a)},organisationName:function(a,b){b.organisationName=this.getChildValue(a)},positionName:function(a,b){b.positionName=this.getChildValue(a)},contactInfo:function(a,b){b.contactInfo={},this.readChildNodes(a,b.contactInfo)},phone:function(a,b){b.phone={},this.readChildNodes(a,b.phone)},voice:function(a,b){b.voice=this.getChildValue(a)},facsimile:function(a,b){b.facsimile=this.getChildValue(a)},address:function(a,b){b.address={},this.readChildNodes(a,b.address)},deliveryPoint:function(a,b){b.deliveryPoint=this.getChildValue(a)},city:function(a,b){b.city=this.getChildValue(a)},postalCode:function(a,b){b.postalCode=this.getChildValue(a)},country:function(a,b){b.country=this.getChildValue(a)},electronicMailAddress:function(a,b){b.electronicMailAddress=this.getChildValue(a)},fees:function(a,b){b.fees=this.getChildValue(a)},accessConstraints:function(a,b){b.accessConstraints=this.getChildValue(a)},ContentMetadata:function(a,b){b.contentMetadata=[],this.readChildNodes(a,b.contentMetadata)},CoverageOfferingBrief:function(a,b){var c={};this.readChildNodes(a,c),b.push(c)},name:function(a,b){b.name=this.getChildValue(a)},label:function(a,b){b.label=this.getChildValue(a)},lonLatEnvelope:function(a,b){var c=this.getElementsByTagNameNS(a,"http://www.opengis.net/gml","pos");if(2==c.length){var d={},e={};OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this,[c[0],d]),OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this,[c[1],e]),b.lonLatEnvelope={},b.lonLatEnvelope.srsName=a.getAttribute("srsName"),b.lonLatEnvelope.min=d.points[0],b.lonLatEnvelope.max=e.points[0]}}}},CLASS_NAME:"OpenLayers.Format.WCSCapabilities.v1_0_0"}),OpenLayers.Strategy.Fixed=OpenLayers.Class(OpenLayers.Strategy,{preload:!1,activate:function(){var a=OpenLayers.Strategy.prototype.activate.apply(this,arguments);return a&&(this.layer.events.on({refresh:this.load,scope:this}),1==this.layer.visibility||this.preload?this.load():this.layer.events.on({visibilitychanged:this.load,scope:this})),a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);return a&&this.layer.events.un({refresh:this.load,visibilitychanged:this.load,scope:this}),a},load:function(a){var b=this.layer;b.events.triggerEvent("loadstart",{filter:b.filter}),b.protocol.read(OpenLayers.Util.applyDefaults({callback:this.merge,filter:b.filter,scope:this},a)),b.events.un({visibilitychanged:this.load,scope:this})},merge:function(a){var b=this.layer;b.destroyFeatures();var c=a.features;if(c&&0<c.length){var d=b.projection,e=b.map.getProjectionObject();if(!e.equals(d))for(var f,g=0,h=c.length;h>g;++g)(f=c[g].geometry)&&f.transform(d,e);b.addFeatures(c)}b.events.triggerEvent("loadend",{response:a})},CLASS_NAME:"OpenLayers.Strategy.Fixed"}),OpenLayers.Control.Zoom=OpenLayers.Class(OpenLayers.Control,{zoomInText:"+",zoomInId:"olZoomInLink",zoomOutText:"−",zoomOutId:"olZoomOutLink",draw:function(){var a=OpenLayers.Control.prototype.draw.apply(this),b=this.getOrCreateLinks(a),c=b.zoomIn,b=b.zoomOut,d=this.map.events;return b.parentNode!==a&&(d=this.events,d.attachToElement(b.parentNode)),d.register("buttonclick",this,this.onZoomClick),this.zoomInLink=c,this.zoomOutLink=b,a},getOrCreateLinks:function(a){var b=document.getElementById(this.zoomInId),c=document.getElementById(this.zoomOutId);return b||(b=document.createElement("a"),b.href="#zoomIn",b.appendChild(document.createTextNode(this.zoomInText)),b.className="olControlZoomIn",a.appendChild(b)),OpenLayers.Element.addClass(b,"olButton"),c||(c=document.createElement("a"),c.href="#zoomOut",c.appendChild(document.createTextNode(this.zoomOutText)),c.className="olControlZoomOut",a.appendChild(c)),OpenLayers.Element.addClass(c,"olButton"),{zoomIn:b,zoomOut:c}},onZoomClick:function(a){a=a.buttonElement,a===this.zoomInLink?this.map.zoomIn():a===this.zoomOutLink&&this.map.zoomOut()},destroy:function(){this.map&&this.map.events.unregister("buttonclick",this,this.onZoomClick),delete this.zoomInLink,delete this.zoomOutLink,OpenLayers.Control.prototype.destroy.apply(this)},CLASS_NAME:"OpenLayers.Control.Zoom"}),OpenLayers.Layer.PointTrack=OpenLayers.Class(OpenLayers.Layer.Vector,{dataFrom:null,styleFrom:null,addNodes:function(a,b){if(2>a.length)throw Error("At least two point features have to be added to create a line from");for(var c,d,e,f=Array(a.length-1),g=0,h=a.length;h>g;g++){if(c=a[g],e=c.geometry){if("OpenLayers.Geometry.Point"!=e.CLASS_NAME)throw new TypeError("Only features with point geometries are supported.")}else e=c.lonlat,e=new OpenLayers.Geometry.Point(e.lon,e.lat);if(g>0){c=null!=this.dataFrom?a[g+this.dataFrom].data||a[g+this.dataFrom].attributes:null;var i=null!=this.styleFrom?a[g+this.styleFrom].style:null;d=new OpenLayers.Geometry.LineString([d,e]),f[g-1]=new OpenLayers.Feature.Vector(d,c,i)}d=e}this.addFeatures(f,b)},CLASS_NAME:"OpenLayers.Layer.PointTrack"}),OpenLayers.Layer.PointTrack.SOURCE_NODE=-1,OpenLayers.Layer.PointTrack.TARGET_NODE=0,OpenLayers.Layer.PointTrack.dataFrom={SOURCE_NODE:-1,TARGET_NODE:0},OpenLayers.Protocol.WFS=function(a){a=OpenLayers.Util.applyDefaults(a,OpenLayers.Protocol.WFS.DEFAULTS);var b=OpenLayers.Protocol.WFS["v"+a.version.replace(/\./g,"_")];if(!b)throw"Unsupported WFS version: "+a.version;return new b(a)},OpenLayers.Protocol.WFS.fromWMSLayer=function(a,b){var c,d;return c=a.params.LAYERS,c=(OpenLayers.Util.isArray(c)?c[0]:c).split(":"),1<c.length&&(d=c[0]),c=c.pop(),d={url:a.url,featureType:c,featurePrefix:d,srsName:a.projection&&a.projection.getCode()||a.map&&a.map.getProjectionObject().getCode(),version:"1.1.0"},new OpenLayers.Protocol.WFS(OpenLayers.Util.applyDefaults(b,d))},OpenLayers.Protocol.WFS.DEFAULTS={version:"1.0.0"},OpenLayers.Layer.Markers=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:!1,markers:null,drawn:!1,initialize:function(){OpenLayers.Layer.prototype.initialize.apply(this,arguments),this.markers=[]},destroy:function(){this.clearMarkers(),this.markers=null,OpenLayers.Layer.prototype.destroy.apply(this,arguments)},setOpacity:function(a){if(a!=this.opacity){this.opacity=a,a=0;for(var b=this.markers.length;b>a;a++)this.markers[a].setOpacity(this.opacity)}},moveTo:function(a,b){if(OpenLayers.Layer.prototype.moveTo.apply(this,arguments),b||!this.drawn){for(var c=0,d=this.markers.length;d>c;c++)this.drawMarker(this.markers[c]);this.drawn=!0}},addMarker:function(a){this.markers.push(a),1>this.opacity&&a.setOpacity(this.opacity),this.map&&this.map.getExtent()&&(a.map=this.map,this.drawMarker(a))},removeMarker:function(a){this.markers&&this.markers.length&&(OpenLayers.Util.removeItem(this.markers,a),a.erase())},clearMarkers:function(){if(null!=this.markers)for(;0<this.markers.length;)this.removeMarker(this.markers[0])},drawMarker:function(a){var b=this.map.getLayerPxFromLonLat(a.lonlat);null==b?a.display(!1):a.isDrawn()?a.icon&&a.icon.moveTo(b):(a=a.draw(b),this.div.appendChild(a))
},getDataExtent:function(){var a=null;if(this.markers&&0<this.markers.length)for(var a=new OpenLayers.Bounds,b=0,c=this.markers.length;c>b;b++)a.extend(this.markers[b].lonlat);return a},CLASS_NAME:"OpenLayers.Layer.Markers"}),OpenLayers.Control.Pan=OpenLayers.Class(OpenLayers.Control.Button,{slideFactor:50,slideRatio:null,direction:null,initialize:function(a,b){this.direction=a,this.CLASS_NAME+=this.direction,OpenLayers.Control.prototype.initialize.apply(this,[b])},trigger:function(){if(this.map){var a=OpenLayers.Function.bind(function(a){return this.slideRatio?this.map.getSize()[a]*this.slideRatio:this.slideFactor},this);switch(this.direction){case OpenLayers.Control.Pan.NORTH:this.map.pan(0,-a("h"));break;case OpenLayers.Control.Pan.SOUTH:this.map.pan(0,a("h"));break;case OpenLayers.Control.Pan.WEST:this.map.pan(-a("w"),0);break;case OpenLayers.Control.Pan.EAST:this.map.pan(a("w"),0)}}},CLASS_NAME:"OpenLayers.Control.Pan"}),OpenLayers.Control.Pan.NORTH="North",OpenLayers.Control.Pan.SOUTH="South",OpenLayers.Control.Pan.EAST="East",OpenLayers.Control.Pan.WEST="West",OpenLayers.Format.CSWGetDomain=function(a){a=OpenLayers.Util.applyDefaults(a,OpenLayers.Format.CSWGetDomain.DEFAULTS);var b=OpenLayers.Format.CSWGetDomain["v"+a.version.replace(/\./g,"_")];if(!b)throw"Unsupported CSWGetDomain version: "+a.version;return new b(a)},OpenLayers.Format.CSWGetDomain.DEFAULTS={version:"2.0.2"},OpenLayers.Format.CSWGetDomain.v2_0_2=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",csw:"http://www.opengis.net/cat/csw/2.0.2"},defaultPrefix:"csw",version:"2.0.2",schemaLocation:"http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",PropertyName:null,ParameterName:null,read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},readers:{csw:{GetDomainResponse:function(a,b){this.readChildNodes(a,b)},DomainValues:function(a,b){OpenLayers.Util.isArray(b.DomainValues)||(b.DomainValues=[]);for(var c=a.attributes,d={},e=0,f=c.length;f>e;++e)d[c[e].name]=c[e].nodeValue;this.readChildNodes(a,d),b.DomainValues.push(d)},PropertyName:function(a,b){b.PropertyName=this.getChildValue(a)},ParameterName:function(a,b){b.ParameterName=this.getChildValue(a)},ListOfValues:function(a,b){OpenLayers.Util.isArray(b.ListOfValues)||(b.ListOfValues=[]),this.readChildNodes(a,b.ListOfValues)},Value:function(a,b){for(var c=a.attributes,d={},e=0,f=c.length;f>e;++e)d[c[e].name]=c[e].nodeValue;d.value=this.getChildValue(a),b.push({Value:d})},ConceptualScheme:function(a,b){b.ConceptualScheme={},this.readChildNodes(a,b.ConceptualScheme)},Name:function(a,b){b.Name=this.getChildValue(a)},Document:function(a,b){b.Document=this.getChildValue(a)},Authority:function(a,b){b.Authority=this.getChildValue(a)},RangeOfValues:function(a,b){b.RangeOfValues={},this.readChildNodes(a,b.RangeOfValues)},MinValue:function(a,b){for(var c=a.attributes,d={},e=0,f=c.length;f>e;++e)d[c[e].name]=c[e].nodeValue;d.value=this.getChildValue(a),b.MinValue=d},MaxValue:function(a,b){for(var c=a.attributes,d={},e=0,f=c.length;f>e;++e)d[c[e].name]=c[e].nodeValue;d.value=this.getChildValue(a),b.MaxValue=d}}},write:function(a){return a=this.writeNode("csw:GetDomain",a),OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{csw:{GetDomain:function(a){var b=this.createElementNSPlus("csw:GetDomain",{attributes:{service:"CSW",version:this.version}});return a.PropertyName||this.PropertyName?this.writeNode("csw:PropertyName",a.PropertyName||this.PropertyName,b):(a.ParameterName||this.ParameterName)&&this.writeNode("csw:ParameterName",a.ParameterName||this.ParameterName,b),this.readChildNodes(b,a),b},PropertyName:function(a){return this.createElementNSPlus("csw:PropertyName",{value:a})},ParameterName:function(a){return this.createElementNSPlus("csw:ParameterName",{value:a})}}},CLASS_NAME:"OpenLayers.Format.CSWGetDomain.v2_0_2"}),OpenLayers.Format.ArcXML.Features=OpenLayers.Class(OpenLayers.Format.XML,{read:function(a){return(new OpenLayers.Format.ArcXML).read(a).features.feature}}),OpenLayers.Control.Snapping=OpenLayers.Class(OpenLayers.Control,{DEFAULTS:{tolerance:10,node:!0,edge:!0,vertex:!0},greedy:!0,precedence:["node","vertex","edge"],resolution:null,geoToleranceCache:null,layer:null,feature:null,point:null,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,[a]),this.options=a||{},this.options.layer&&this.setLayer(this.options.layer),a=OpenLayers.Util.extend({},this.options.defaults),this.defaults=OpenLayers.Util.applyDefaults(a,this.DEFAULTS),this.setTargets(this.options.targets),0===this.targets.length&&this.layer&&this.addTargetLayer(this.layer),this.geoToleranceCache={}},setLayer:function(a){this.active?(this.deactivate(),this.layer=a,this.activate()):this.layer=a},setTargets:function(a){if(this.targets=[],a&&a.length)for(var b,c=0,d=a.length;d>c;++c)b=a[c],b instanceof OpenLayers.Layer.Vector?this.addTargetLayer(b):this.addTarget(b)},addTargetLayer:function(a){this.addTarget({layer:a})},addTarget:function(a){a=OpenLayers.Util.applyDefaults(a,this.defaults),a.nodeTolerance=a.nodeTolerance||a.tolerance,a.vertexTolerance=a.vertexTolerance||a.tolerance,a.edgeTolerance=a.edgeTolerance||a.tolerance,this.targets.push(a)},removeTargetLayer:function(a){for(var b,c=this.targets.length-1;c>=0;--c)b=this.targets[c],b.layer===a&&this.removeTarget(b)},removeTarget:function(a){return OpenLayers.Util.removeItem(this.targets,a)},activate:function(){var a=OpenLayers.Control.prototype.activate.call(this);return a&&this.layer&&this.layer.events&&this.layer.events.on({sketchstarted:this.onSketchModified,sketchmodified:this.onSketchModified,vertexmodified:this.onVertexModified,scope:this}),a},deactivate:function(){var a=OpenLayers.Control.prototype.deactivate.call(this);return a&&this.layer&&this.layer.events&&this.layer.events.un({sketchstarted:this.onSketchModified,sketchmodified:this.onSketchModified,vertexmodified:this.onVertexModified,scope:this}),this.point=this.feature=null,a},onSketchModified:function(a){this.feature=a.feature,this.considerSnapping(a.vertex,a.vertex)},onVertexModified:function(a){this.feature=a.feature;var b=this.layer.map.getLonLatFromViewPortPx(a.pixel);this.considerSnapping(a.vertex,new OpenLayers.Geometry.Point(b.lon,b.lat))},considerSnapping:function(a,b){for(var c,d,e={rank:Number.POSITIVE_INFINITY,dist:Number.POSITIVE_INFINITY,x:null,y:null},f=!1,g=0,h=this.targets.length;h>g;++g)if(d=this.targets[g],c=this.testTarget(d,b)){if(this.greedy){e=c,e.target=d,f=!0;break}(c.rank<e.rank||c.rank===e.rank&&c.dist<e.dist)&&(e=c,e.target=d,f=!0)}f&&(!1!==this.events.triggerEvent("beforesnap",{point:a,x:e.x,y:e.y,distance:e.dist,layer:e.target.layer,snapType:this.precedence[e.rank]})?(a.x=e.x,a.y=e.y,this.point=a,this.events.triggerEvent("snap",{point:a,snapType:this.precedence[e.rank],layer:e.target.layer,distance:e.dist})):f=!1),this.point&&!f&&(a.x=b.x,a.y=b.y,this.point=null,this.events.triggerEvent("unsnap",{point:a}))},testTarget:function(a,b){var c=this.layer.map.getResolution();if("minResolution"in a&&c<a.minResolution||"maxResolution"in a&&c>=a.maxResolution)return null;for(var d,e,f,g,h,i,c={node:this.getGeoTolerance(a.nodeTolerance,c),vertex:this.getGeoTolerance(a.vertexTolerance,c),edge:this.getGeoTolerance(a.edgeTolerance,c)},j=Math.max(c.node,c.vertex,c.edge),k={rank:Number.POSITIVE_INFINITY,dist:Number.POSITIVE_INFINITY},l=!1,m=a.layer.features,n=this.precedence.length,o=new OpenLayers.LonLat(b.x,b.y),p=0,q=m.length;q>p;++p)if(d=m[p],d!==this.feature&&!d._sketch&&d.state!==OpenLayers.State.DELETE&&(!a.filter||a.filter.evaluate(d))&&d.atPoint(o,j,j))for(var r=0,s=Math.min(k.rank+1,n);s>r;++r)if(e=this.precedence[r],a[e])if("edge"===e){if(f=d.geometry.distanceTo(b,{details:!0}),h=f.distance,h<=c[e]&&h<k.dist){k={rank:r,dist:h,x:f.x0,y:f.y0},l=!0;break}}else{f=d.geometry.getVertices("node"===e),i=!1;for(var t=0,u=f.length;u>t;++t)g=f[t],h=g.distanceTo(b),h<=c[e]&&(r<k.rank||r===k.rank&&h<k.dist)&&(k={rank:r,dist:h,x:g.x,y:g.y},i=l=!0);if(i)break}return l?k:null},getGeoTolerance:function(a,b){b!==this.resolution&&(this.resolution=b,this.geoToleranceCache={});var c=this.geoToleranceCache[a];return void 0===c&&(c=a*b,this.geoToleranceCache[a]=c),c},destroy:function(){this.active&&this.deactivate(),delete this.layer,delete this.targets,OpenLayers.Control.prototype.destroy.call(this)},CLASS_NAME:"OpenLayers.Control.Snapping"}),OpenLayers.Format.OWSCommon.v1_1_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1,{namespaces:{ows:"http://www.opengis.net/ows/1.1",xlink:"http://www.w3.org/1999/xlink"},readers:{ows:OpenLayers.Util.applyDefaults({ExceptionReport:function(a,b){b.exceptionReport={version:a.getAttribute("version"),language:a.getAttribute("xml:lang"),exceptions:[]},this.readChildNodes(a,b.exceptionReport)},AllowedValues:function(a,b){b.allowedValues={},this.readChildNodes(a,b.allowedValues)},AnyValue:function(a,b){b.anyValue=!0},DataType:function(a,b){b.dataType=this.getChildValue(a)},Range:function(a,b){b.range={},this.readChildNodes(a,b.range)},MinimumValue:function(a,b){b.minValue=this.getChildValue(a)},MaximumValue:function(a,b){b.maxValue=this.getChildValue(a)},Identifier:function(a,b){b.identifier=this.getChildValue(a)},SupportedCRS:function(a,b){b.supportedCRS=this.getChildValue(a)}},OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)},writers:{ows:OpenLayers.Util.applyDefaults({Range:function(a){var b=this.createElementNSPlus("ows:Range",{attributes:{"ows:rangeClosure":a.closure}});return this.writeNode("ows:MinimumValue",a.minValue,b),this.writeNode("ows:MaximumValue",a.maxValue,b),b},MinimumValue:function(a){return this.createElementNSPlus("ows:MinimumValue",{value:a})},MaximumValue:function(a){return this.createElementNSPlus("ows:MaximumValue",{value:a})},Value:function(a){return this.createElementNSPlus("ows:Value",{value:a})}},OpenLayers.Format.OWSCommon.v1.prototype.writers.ows)},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1_1_0"}),OpenLayers.Format.WCSGetCoverage=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows/1.1",wcs:"http://www.opengis.net/wcs/1.1",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},VERSION:"1.1.2",schemaLocation:"http://www.opengis.net/wcs/1.1 http://schemas.opengis.net/wcs/1.1/wcsGetCoverage.xsd",write:function(a){return a=this.writeNode("wcs:GetCoverage",a),this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{wcs:{GetCoverage:function(a){var b=this.createElementNSPlus("wcs:GetCoverage",{attributes:{version:a.version||this.VERSION,service:"WCS"}});return this.writeNode("ows:Identifier",a.identifier,b),this.writeNode("wcs:DomainSubset",a.domainSubset,b),this.writeNode("wcs:Output",a.output,b),b},DomainSubset:function(a){var b=this.createElementNSPlus("wcs:DomainSubset",{});return this.writeNode("ows:BoundingBox",a.boundingBox,b),a.temporalSubset&&this.writeNode("wcs:TemporalSubset",a.temporalSubset,b),b},TemporalSubset:function(a){for(var b=this.createElementNSPlus("wcs:TemporalSubset",{}),c=0,d=a.timePeriods.length;d>c;++c)this.writeNode("wcs:TimePeriod",a.timePeriods[c],b);return b},TimePeriod:function(a){var b=this.createElementNSPlus("wcs:TimePeriod",{});return this.writeNode("wcs:BeginPosition",a.begin,b),this.writeNode("wcs:EndPosition",a.end,b),a.resolution&&this.writeNode("wcs:TimeResolution",a.resolution,b),b},BeginPosition:function(a){return this.createElementNSPlus("wcs:BeginPosition",{value:a})},EndPosition:function(a){return this.createElementNSPlus("wcs:EndPosition",{value:a})},TimeResolution:function(a){return this.createElementNSPlus("wcs:TimeResolution",{value:a})},Output:function(a){var b=this.createElementNSPlus("wcs:Output",{attributes:{format:a.format,store:a.store}});return a.gridCRS&&this.writeNode("wcs:GridCRS",a.gridCRS,b),b},GridCRS:function(a){var b=this.createElementNSPlus("wcs:GridCRS",{});return this.writeNode("wcs:GridBaseCRS",a.baseCRS,b),a.type&&this.writeNode("wcs:GridType",a.type,b),a.origin&&this.writeNode("wcs:GridOrigin",a.origin,b),this.writeNode("wcs:GridOffsets",a.offsets,b),a.CS&&this.writeNode("wcs:GridCS",a.CS,b),b},GridBaseCRS:function(a){return this.createElementNSPlus("wcs:GridBaseCRS",{value:a})},GridOrigin:function(a){return this.createElementNSPlus("wcs:GridOrigin",{value:a})},GridType:function(a){return this.createElementNSPlus("wcs:GridType",{value:a})},GridOffsets:function(a){return this.createElementNSPlus("wcs:GridOffsets",{value:a})},GridCS:function(a){return this.createElementNSPlus("wcs:GridCS",{value:a})}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows},CLASS_NAME:"OpenLayers.Format.WCSGetCoverage"}),OpenLayers.Format.KML=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{kml:"http://www.opengis.net/kml/2.2",gx:"http://www.google.com/kml/ext/2.2"},kmlns:"http://earth.google.com/kml/2.0",placemarksDesc:"No description available",foldersName:"OpenLayers export",foldersDesc:"Exported on "+new Date,extractAttributes:!0,kvpAttributes:!1,extractStyles:!1,extractTracks:!1,trackAttributes:null,internalns:null,features:null,styles:null,styleBaseUrl:"",fetched:null,maxDepth:0,initialize:function(a){this.regExes={trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g,kmlColor:/(\w{2})(\w{2})(\w{2})(\w{2})/,kmlIconPalette:/root:\/\/icons\/palette-(\d+)(\.\w+)/,straightBracket:/\$\[(.*?)\]/g},this.externalProjection=new OpenLayers.Projection("EPSG:4326"),OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){return this.features=[],this.styles={},this.fetched={},this.parseData(a,{depth:0,styleBaseUrl:this.styleBaseUrl})},parseData:function(a,b){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));for(var c=["Link","NetworkLink","Style","StyleMap","Placemark"],d=0,e=c.length;e>d;++d){var f=c[d],g=this.getElementsByTagNameNS(a,"*",f);if(0!=g.length)switch(f.toLowerCase()){case"link":case"networklink":this.parseLinks(g,b);break;case"style":this.extractStyles&&this.parseStyles(g,b);break;case"stylemap":this.extractStyles&&this.parseStyleMaps(g,b);break;case"placemark":this.parseFeatures(g,b)}}return this.features},parseLinks:function(a,b){if(b.depth>=this.maxDepth)return!1;var c=OpenLayers.Util.extend({},b);c.depth++;for(var d=0,e=a.length;e>d;d++){var f=this.parseProperty(a[d],"*","href");f&&!this.fetched[f]&&(this.fetched[f]=!0,(f=this.fetchLink(f))&&this.parseData(f,c))}},fetchLink:function(a){return(a=OpenLayers.Request.GET({url:a,async:!1}))?a.responseText:void 0},parseStyles:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=this.parseStyle(a[c]);e&&(this.styles[(b.styleBaseUrl||"")+"#"+e.id]=e)}},parseKmlColor:function(a){var b=null;return a&&(a=a.match(this.regExes.kmlColor))&&(b={color:"#"+a[4]+a[3]+a[2],opacity:parseInt(a[1],16)/255}),b},parseStyle:function(a){for(var b,c,d={},e=["LineStyle","PolyStyle","IconStyle","BalloonStyle","LabelStyle"],f=0,g=e.length;g>f;++f)if(b=e[f],c=this.getElementsByTagNameNS(a,"*",b)[0])switch(b.toLowerCase()){case"linestyle":b=this.parseProperty(c,"*","color"),(b=this.parseKmlColor(b))&&(d.strokeColor=b.color,d.strokeOpacity=b.opacity),(b=this.parseProperty(c,"*","width"))&&(d.strokeWidth=b);break;case"polystyle":b=this.parseProperty(c,"*","color"),(b=this.parseKmlColor(b))&&(d.fillOpacity=b.opacity,d.fillColor=b.color),"0"==this.parseProperty(c,"*","fill")&&(d.fillColor="none"),"0"==this.parseProperty(c,"*","outline")&&(d.strokeWidth="0");break;case"iconstyle":var h=parseFloat(this.parseProperty(c,"*","scale")||1);b=32*h;var i=32*h,j=this.getElementsByTagNameNS(c,"*","Icon")[0];if(j){var k=this.parseProperty(j,"*","href");if(k){var l=this.parseProperty(j,"*","w"),m=this.parseProperty(j,"*","h");!OpenLayers.String.startsWith(k,"http://maps.google.com/mapfiles/kml")||l||m||(m=l=64,h/=2),l=l||m,m=m||l,l&&(b=parseInt(l)*h),m&&(i=parseInt(m)*h),(m=k.match(this.regExes.kmlIconPalette))&&(l=m[1],m=m[2],k=this.parseProperty(j,"*","x"),j=this.parseProperty(j,"*","y"),k="http://maps.google.com/mapfiles/kml/pal"+l+"/icon"+(8*(j?7-j/32:7)+(k?k/32:0))+m),d.graphicOpacity=1,d.externalGraphic=k}}(c=this.getElementsByTagNameNS(c,"*","hotSpot")[0])&&(k=parseFloat(c.getAttribute("x")),j=parseFloat(c.getAttribute("y")),l=c.getAttribute("xunits"),"pixels"==l?d.graphicXOffset=-k*h:"insetPixels"==l?d.graphicXOffset=-b+k*h:"fraction"==l&&(d.graphicXOffset=-b*k),c=c.getAttribute("yunits"),"pixels"==c?d.graphicYOffset=-i+j*h+1:"insetPixels"==c?d.graphicYOffset=-(j*h)+1:"fraction"==c&&(d.graphicYOffset=-i*(1-j)+1)),d.graphicWidth=b,d.graphicHeight=i;break;case"balloonstyle":(c=OpenLayers.Util.getXmlNodeValue(c))&&(d.balloonStyle=c.replace(this.regExes.straightBracket,"${$1}"));break;case"labelstyle":b=this.parseProperty(c,"*","color"),(b=this.parseKmlColor(b))&&(d.fontColor=b.color,d.fontOpacity=b.opacity)}return!d.strokeColor&&d.fillColor&&(d.strokeColor=d.fillColor),(a=a.getAttribute("id"))&&d&&(d.id=a),d},parseStyleMaps:function(a,b){for(var c=0,d=a.length;d>c;c++)for(var e=a[c],f=this.getElementsByTagNameNS(e,"*","Pair"),e=e.getAttribute("id"),g=0,h=f.length;h>g;g++){var i=f[g],j=this.parseProperty(i,"*","key");(i=this.parseProperty(i,"*","styleUrl"))&&"normal"==j&&(this.styles[(b.styleBaseUrl||"")+"#"+e]=this.styles[(b.styleBaseUrl||"")+i])}},parseFeatures:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this.parseFeature.apply(this,[f]);if(!g)throw"Bad Placemark: "+d;if(this.extractStyles&&g.attributes&&g.attributes.styleUrl&&(g.style=this.getStyle(g.attributes.styleUrl,b)),this.extractStyles){var h=this.getElementsByTagNameNS(f,"*","Style")[0];h&&(h=this.parseStyle(h))&&(g.style=OpenLayers.Util.extend(g.style,h))}this.extractTracks?(f=this.getElementsByTagNameNS(f,this.namespaces.gx,"Track"))&&0<f.length&&(g={features:[],feature:g},this.readNode(f[0],g),0<g.features.length&&c.push.apply(c,g.features)):c.push(g)}this.features=this.features.concat(c)},readers:{kml:{when:function(a,b){b.whens.push(OpenLayers.Date.parse(this.getChildValue(a)))},_trackPointAttribute:function(a,b){var c=a.nodeName.split(":").pop();b.attributes[c].push(this.getChildValue(a))}},gx:{Track:function(a,b){var c={whens:[],points:[],angles:[]};if(this.trackAttributes){var d;c.attributes={};for(var e=0,f=this.trackAttributes.length;f>e;++e)d=this.trackAttributes[e],c.attributes[d]=[],d in this.readers.kml||(this.readers.kml[d]=this.readers.kml._trackPointAttribute)}if(this.readChildNodes(a,c),c.whens.length!==c.points.length)throw Error("gx:Track with unequal number of when ("+c.whens.length+") and gx:coord ("+c.points.length+") elements.");var g=0<c.angles.length;if(g&&c.whens.length!==c.angles.length)throw Error("gx:Track with unequal number of when ("+c.whens.length+") and gx:angles ("+c.angles.length+") elements.");for(var h,e=0,f=c.whens.length;f>e;++e){if(h=b.feature.clone(),h.fid=b.feature.fid||b.feature.id,d=c.points[e],h.geometry=d,"z"in d&&(h.attributes.altitude=d.z),this.internalProjection&&this.externalProjection&&h.geometry.transform(this.externalProjection,this.internalProjection),this.trackAttributes)for(var i=0,j=this.trackAttributes.length;j>i;++i)d=this.trackAttributes[i],h.attributes[d]=c.attributes[d][e];h.attributes.when=c.whens[e],h.attributes.trackId=b.feature.id,g&&(d=c.angles[e],h.attributes.heading=parseFloat(d[0]),h.attributes.tilt=parseFloat(d[1]),h.attributes.roll=parseFloat(d[2])),b.features.push(h)}},coord:function(a,b){var c=this.getChildValue(a).replace(this.regExes.trimSpace,"").split(/\s+/),d=new OpenLayers.Geometry.Point(c[0],c[1]);2<c.length&&(d.z=parseFloat(c[2])),b.points.push(d)},angles:function(a,b){var c=this.getChildValue(a).replace(this.regExes.trimSpace,"").split(/\s+/);b.angles.push(c)}}},parseFeature:function(a){for(var b,c,d,e=["MultiGeometry","Polygon","LineString","Point"],f=0,g=e.length;g>f;++f)if(b=e[f],this.internalns=a.namespaceURI?a.namespaceURI:this.kmlns,c=this.getElementsByTagNameNS(a,this.internalns,b),0<c.length){if(!(e=this.parseGeometry[b.toLowerCase()]))throw new TypeError("Unsupported geometry type: "+b);d=e.apply(this,[c[0]]),this.internalProjection&&this.externalProjection&&d.transform(this.externalProjection,this.internalProjection);break}var h;return this.extractAttributes&&(h=this.parseAttributes(a)),b=new OpenLayers.Feature.Vector(d,h),a=a.getAttribute("id")||a.getAttribute("name"),null!=a&&(b.fid=a),b},getStyle:function(a,b){var c=OpenLayers.Util.removeTail(a),d=OpenLayers.Util.extend({},b);return d.depth++,d.styleBaseUrl=c,!this.styles[a]&&!OpenLayers.String.startsWith(a,"#")&&d.depth<=this.maxDepth&&!this.fetched[c]&&(c=this.fetchLink(c))&&this.parseData(c,d),OpenLayers.Util.extend({},this.styles[a])},parseGeometry:{point:function(a){var b=this.getElementsByTagNameNS(a,this.internalns,"coordinates");if(a=[],0<b.length){var c=b[0].firstChild.nodeValue,c=c.replace(this.regExes.removeSpace,"");a=c.split(",")}if(b=null,!(1<a.length))throw"Bad coordinate string: "+c;return 2==a.length&&(a[2]=null),b=new OpenLayers.Geometry.Point(a[0],a[1],a[2])},linestring:function(a,b){var c=this.getElementsByTagNameNS(a,this.internalns,"coordinates"),d=null;if(0<c.length){for(var e,f,c=this.getChildValue(c[0]),c=c.replace(this.regExes.trimSpace,""),c=c.replace(this.regExes.trimComma,","),d=c.split(this.regExes.splitSpace),g=d.length,h=Array(g),i=0;g>i;++i){if(e=d[i].split(","),f=e.length,!(f>1))throw"Bad LineString point coordinates: "+d[i];2==e.length&&(e[2]=null),h[i]=new OpenLayers.Geometry.Point(e[0],e[1],e[2])}if(!g)throw"Bad LineString coordinates: "+c;d=b?new OpenLayers.Geometry.LinearRing(h):new OpenLayers.Geometry.LineString(h)}return d},polygon:function(a){a=this.getElementsByTagNameNS(a,this.internalns,"LinearRing");var b=a.length,c=Array(b);if(b>0)for(var d=0,e=a.length;e>d;++d){if(!(b=this.parseGeometry.linestring.apply(this,[a[d],!0])))throw"Bad LinearRing geometry: "+d;c[d]=b}return new OpenLayers.Geometry.Polygon(c)},multigeometry:function(a){for(var b,c=[],d=a.childNodes,e=0,f=d.length;f>e;++e)a=d[e],1==a.nodeType&&(b=a.prefix?a.nodeName.split(":")[1]:a.nodeName,(b=this.parseGeometry[b.toLowerCase()])&&c.push(b.apply(this,[a])));return new OpenLayers.Geometry.Collection(c)}},parseAttributes:function(a){var b={},c=a.getElementsByTagName("ExtendedData");c.length&&(b=this.parseExtendedData(c[0]));var d,e,f;a=a.childNodes;for(var c=0,g=a.length;g>c;++c)if(d=a[c],1==d.nodeType&&(e=d.childNodes,1<=e.length&&3>=e.length)){switch(e.length){case 1:f=e[0];break;case 2:f=e[0],e=e[1],f=3==f.nodeType||4==f.nodeType?f:e;break;default:f=e[1]}(3==f.nodeType||4==f.nodeType)&&(d=d.prefix?d.nodeName.split(":")[1]:d.nodeName,(f=OpenLayers.Util.getXmlNodeValue(f))&&(f=f.replace(this.regExes.trimSpace,""),b[d]=f))}return b},parseExtendedData:function(a){var b,c,d,e,f={},g=a.getElementsByTagName("Data");for(b=0,c=g.length;c>b;b++){d=g[b],e=d.getAttribute("name");var h={},i=d.getElementsByTagName("value");i.length&&(h.value=this.getChildValue(i[0])),this.kvpAttributes?f[e]=h.value:(d=d.getElementsByTagName("displayName"),d.length&&(h.displayName=this.getChildValue(d[0])),f[e]=h)}for(a=a.getElementsByTagName("SimpleData"),b=0,c=a.length;c>b;b++)h={},d=a[b],e=d.getAttribute("name"),h.value=this.getChildValue(d),this.kvpAttributes?f[e]=h.value:(h.displayName=e,f[e]=h);return f},parseProperty:function(a,b,c){var d;a=this.getElementsByTagNameNS(a,b,c);try{d=OpenLayers.Util.getXmlNodeValue(a[0])}catch(e){d=null}return d},write:function(a){OpenLayers.Util.isArray(a)||(a=[a]);for(var b=this.createElementNS(this.kmlns,"kml"),c=this.createFolderXML(),d=0,e=a.length;e>d;++d)c.appendChild(this.createPlacemarkXML(a[d]));return b.appendChild(c),OpenLayers.Format.XML.prototype.write.apply(this,[b])},createFolderXML:function(){var a=this.createElementNS(this.kmlns,"Folder");if(this.foldersName){var b=this.createElementNS(this.kmlns,"name"),c=this.createTextNode(this.foldersName);b.appendChild(c),a.appendChild(b)}return this.foldersDesc&&(b=this.createElementNS(this.kmlns,"description"),c=this.createTextNode(this.foldersDesc),b.appendChild(c),a.appendChild(b)),a},createPlacemarkXML:function(a){var b=this.createElementNS(this.kmlns,"name"),c=a.style&&a.style.label?a.style.label:a.id;b.appendChild(this.createTextNode(a.attributes.name||c));var d=this.createElementNS(this.kmlns,"description");return d.appendChild(this.createTextNode(a.attributes.description||this.placemarksDesc)),c=this.createElementNS(this.kmlns,"Placemark"),null!=a.fid&&c.setAttribute("id",a.fid),c.appendChild(b),c.appendChild(d),b=this.buildGeometryNode(a.geometry),c.appendChild(b),a.attributes&&(a=this.buildExtendedData(a.attributes))&&c.appendChild(a),c},buildGeometryNode:function(a){var b=a.CLASS_NAME,b=b.substring(b.lastIndexOf(".")+1),b=this.buildGeometry[b.toLowerCase()],c=null;return b&&(c=b.apply(this,[a])),c},buildGeometry:{point:function(a){var b=this.createElementNS(this.kmlns,"Point");return b.appendChild(this.buildCoordinatesNode(a)),b},multipoint:function(a){return this.buildGeometry.collection.apply(this,[a])},linestring:function(a){var b=this.createElementNS(this.kmlns,"LineString");return b.appendChild(this.buildCoordinatesNode(a)),b},multilinestring:function(a){return this.buildGeometry.collection.apply(this,[a])},linearring:function(a){var b=this.createElementNS(this.kmlns,"LinearRing");return b.appendChild(this.buildCoordinatesNode(a)),b},polygon:function(a){var b=this.createElementNS(this.kmlns,"Polygon");a=a.components;for(var c,d,e=0,f=a.length;f>e;++e)c=0==e?"outerBoundaryIs":"innerBoundaryIs",c=this.createElementNS(this.kmlns,c),d=this.buildGeometry.linearring.apply(this,[a[e]]),c.appendChild(d),b.appendChild(c);return b},multipolygon:function(a){return this.buildGeometry.collection.apply(this,[a])},collection:function(a){for(var b,c=this.createElementNS(this.kmlns,"MultiGeometry"),d=0,e=a.components.length;e>d;++d)(b=this.buildGeometryNode.apply(this,[a.components[d]]))&&c.appendChild(b);return c}},buildCoordinatesNode:function(a){var b,c=this.createElementNS(this.kmlns,"coordinates");if(b=a.components){for(var d=b.length,e=Array(d),f=0;d>f;++f)a=b[f],e[f]=this.buildCoordinates(a);b=e.join(" ")}else b=this.buildCoordinates(a);return b=this.createTextNode(b),c.appendChild(b),c},buildCoordinates:function(a){return this.internalProjection&&this.externalProjection&&(a=a.clone(),a.transform(this.internalProjection,this.externalProjection)),a.x+","+a.y},buildExtendedData:function(a){var b,c=this.createElementNS(this.kmlns,"ExtendedData");for(b in a)if(a[b]&&"name"!=b&&"description"!=b&&"styleUrl"!=b){var d=this.createElementNS(this.kmlns,"Data");d.setAttribute("name",b);var e=this.createElementNS(this.kmlns,"value");if("object"==typeof a[b]){if(a[b].value&&e.appendChild(this.createTextNode(a[b].value)),a[b].displayName){var f=this.createElementNS(this.kmlns,"displayName");f.appendChild(this.getXMLDoc().createCDATASection(a[b].displayName)),d.appendChild(f)}}else e.appendChild(this.createTextNode(a[b]));d.appendChild(e),c.appendChild(d)}return this.isSimpleContent(c)?null:c},CLASS_NAME:"OpenLayers.Format.KML"}),OpenLayers.Format.WMSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.1",profile:null,CLASS_NAME:"OpenLayers.Format.WMSCapabilities"}),OpenLayers.Format.WMSCapabilities.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{wms:"http://www.opengis.net/wms",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"wms",read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b=a;a&&9==a.nodeType&&(a=a.documentElement);var c={};return this.readNode(a,c),void 0===c.service&&(a=new OpenLayers.Format.OGCExceptionReport,c.error=a.read(b)),c},readers:{wms:{Service:function(a,b){b.service={},this.readChildNodes(a,b.service)},Name:function(a,b){b.name=this.getChildValue(a)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b["abstract"]=this.getChildValue(a)},BoundingBox:function(a){var b={};b.bbox=[parseFloat(a.getAttribute("minx")),parseFloat(a.getAttribute("miny")),parseFloat(a.getAttribute("maxx")),parseFloat(a.getAttribute("maxy"))];var c={x:parseFloat(a.getAttribute("resx")),y:parseFloat(a.getAttribute("resy"))};return isNaN(c.x)&&isNaN(c.y)||(b.res=c),b},OnlineResource:function(a,b){b.href=this.getAttributeNS(a,this.namespaces.xlink,"href")},ContactInformation:function(a,b){b.contactInformation={},this.readChildNodes(a,b.contactInformation)},ContactPersonPrimary:function(a,b){b.personPrimary={},this.readChildNodes(a,b.personPrimary)},ContactPerson:function(a,b){b.person=this.getChildValue(a)},ContactOrganization:function(a,b){b.organization=this.getChildValue(a)},ContactPosition:function(a,b){b.position=this.getChildValue(a)},ContactAddress:function(a,b){b.contactAddress={},this.readChildNodes(a,b.contactAddress)},AddressType:function(a,b){b.type=this.getChildValue(a)},Address:function(a,b){b.address=this.getChildValue(a)},City:function(a,b){b.city=this.getChildValue(a)},StateOrProvince:function(a,b){b.stateOrProvince=this.getChildValue(a)},PostCode:function(a,b){b.postcode=this.getChildValue(a)},Country:function(a,b){b.country=this.getChildValue(a)},ContactVoiceTelephone:function(a,b){b.phone=this.getChildValue(a)},ContactFacsimileTelephone:function(a,b){b.fax=this.getChildValue(a)},ContactElectronicMailAddress:function(a,b){b.email=this.getChildValue(a)},Fees:function(a,b){var c=this.getChildValue(a);c&&"none"!=c.toLowerCase()&&(b.fees=c)},AccessConstraints:function(a,b){var c=this.getChildValue(a);c&&"none"!=c.toLowerCase()&&(b.accessConstraints=c)},Capability:function(a,b){b.capability={nestedLayers:[],layers:[]},this.readChildNodes(a,b.capability)},Request:function(a,b){b.request={},this.readChildNodes(a,b.request)},GetCapabilities:function(a,b){b.getcapabilities={formats:[]},this.readChildNodes(a,b.getcapabilities)},Format:function(a,b){OpenLayers.Util.isArray(b.formats)?b.formats.push(this.getChildValue(a)):b.format=this.getChildValue(a)},DCPType:function(a,b){this.readChildNodes(a,b)},HTTP:function(a,b){this.readChildNodes(a,b)},Get:function(a,b){b.get={},this.readChildNodes(a,b.get),b.href||(b.href=b.get.href)},Post:function(a,b){b.post={},this.readChildNodes(a,b.post),b.href||(b.href=b.get.href)},GetMap:function(a,b){b.getmap={formats:[]},this.readChildNodes(a,b.getmap)},GetFeatureInfo:function(a,b){b.getfeatureinfo={formats:[]},this.readChildNodes(a,b.getfeatureinfo)},Exception:function(a,b){b.exception={formats:[]},this.readChildNodes(a,b.exception)},Layer:function(a,b){var c,d;b.capability?(d=b.capability,c=b):d=b;var e=a.getAttributeNode("queryable"),f=e&&e.specified?a.getAttribute("queryable"):null,g=(e=a.getAttributeNode("cascaded"))&&e.specified?a.getAttribute("cascaded"):null,e=(e=a.getAttributeNode("opaque"))&&e.specified?a.getAttribute("opaque"):null,h=a.getAttribute("noSubsets"),i=a.getAttribute("fixedWidth"),j=a.getAttribute("fixedHeight"),k=c||{},l=OpenLayers.Util.extend;c={nestedLayers:[],styles:c?[].concat(c.styles):[],srs:c?l({},k.srs):{},metadataURLs:[],bbox:c?l({},k.bbox):{},llbbox:k.llbbox,dimensions:c?l({},k.dimensions):{},authorityURLs:c?l({},k.authorityURLs):{},identifiers:{},keywords:[],queryable:f&&""!==f?"1"===f||"true"===f:k.queryable||!1,cascaded:null!==g?parseInt(g):k.cascaded||0,opaque:e?"1"===e||"true"===e:k.opaque||!1,noSubsets:null!==h?"1"===h||"true"===h:k.noSubsets||!1,fixedWidth:null!=i?parseInt(i):k.fixedWidth||0,fixedHeight:null!=j?parseInt(j):k.fixedHeight||0,minScale:k.minScale,maxScale:k.maxScale,attribution:k.attribution},b.nestedLayers.push(c),c.capability=d,this.readChildNodes(a,c),delete c.capability,c.name&&(f=c.name.split(":"),g=d.request,e=g.getfeatureinfo,0<f.length&&(c.prefix=f[0]),d.layers.push(c),void 0===c.formats&&(c.formats=g.getmap.formats),void 0===c.infoFormats&&e&&(c.infoFormats=e.formats))
},Attribution:function(a,b){b.attribution={},this.readChildNodes(a,b.attribution)},LogoURL:function(a,b){b.logo={width:a.getAttribute("width"),height:a.getAttribute("height")},this.readChildNodes(a,b.logo)},Style:function(a,b){var c={};b.styles.push(c),this.readChildNodes(a,c)},LegendURL:function(a,b){var c={width:a.getAttribute("width"),height:a.getAttribute("height")};b.legend=c,this.readChildNodes(a,c)},MetadataURL:function(a,b){var c={type:a.getAttribute("type")};b.metadataURLs.push(c),this.readChildNodes(a,c)},DataURL:function(a,b){b.dataURL={},this.readChildNodes(a,b.dataURL)},FeatureListURL:function(a,b){b.featureListURL={},this.readChildNodes(a,b.featureListURL)},AuthorityURL:function(a,b){var c=a.getAttribute("name"),d={};this.readChildNodes(a,d),b.authorityURLs[c]=d.href},Identifier:function(a,b){var c=a.getAttribute("authority");b.identifiers[c]=this.getChildValue(a)},KeywordList:function(a,b){this.readChildNodes(a,b)},SRS:function(a,b){b.srs[this.getChildValue(a)]=!0}}},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1"}),OpenLayers.Format.WMSCapabilities.v1_1=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1,{readers:{wms:OpenLayers.Util.applyDefaults({WMT_MS_Capabilities:function(a,b){this.readChildNodes(a,b)},Keyword:function(a,b){b.keywords&&b.keywords.push(this.getChildValue(a))},DescribeLayer:function(a,b){b.describelayer={formats:[]},this.readChildNodes(a,b.describelayer)},GetLegendGraphic:function(a,b){b.getlegendgraphic={formats:[]},this.readChildNodes(a,b.getlegendgraphic)},GetStyles:function(a,b){b.getstyles={formats:[]},this.readChildNodes(a,b.getstyles)},PutStyles:function(a,b){b.putstyles={formats:[]},this.readChildNodes(a,b.putstyles)},UserDefinedSymbolization:function(a,b){var c={supportSLD:1==parseInt(a.getAttribute("SupportSLD")),userLayer:1==parseInt(a.getAttribute("UserLayer")),userStyle:1==parseInt(a.getAttribute("UserStyle")),remoteWFS:1==parseInt(a.getAttribute("RemoteWFS"))};b.userSymbols=c},LatLonBoundingBox:function(a,b){b.llbbox=[parseFloat(a.getAttribute("minx")),parseFloat(a.getAttribute("miny")),parseFloat(a.getAttribute("maxx")),parseFloat(a.getAttribute("maxy"))]},BoundingBox:function(a,b){var c=OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this,[a,b]);c.srs=a.getAttribute("SRS"),b.bbox[c.srs]=c},ScaleHint:function(a,b){var c=a.getAttribute("min"),d=a.getAttribute("max"),e=Math.pow(2,.5),f=OpenLayers.INCHES_PER_UNIT.m;0!=c&&(b.maxScale=parseFloat((c/e*f*OpenLayers.DOTS_PER_INCH).toPrecision(13))),d!=Number.POSITIVE_INFINITY&&(b.minScale=parseFloat((d/e*f*OpenLayers.DOTS_PER_INCH).toPrecision(13)))},Dimension:function(a,b){var c={name:a.getAttribute("name").toLowerCase(),units:a.getAttribute("units"),unitsymbol:a.getAttribute("unitSymbol")};b.dimensions[c.name]=c},Extent:function(a,b){var c=a.getAttribute("name").toLowerCase();if(c in b.dimensions){c=b.dimensions[c],c.nearestVal="1"===a.getAttribute("nearestValue"),c.multipleVal="1"===a.getAttribute("multipleValues"),c.current="1"===a.getAttribute("current"),c["default"]=a.getAttribute("default")||"";var d=this.getChildValue(a);c.values=d.split(",")}}},OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1"}),OpenLayers.Format.WMSCapabilities.v1_1_0=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1,{version:"1.1.0",readers:{wms:OpenLayers.Util.applyDefaults({SRS:function(a,b){for(var c=this.getChildValue(a).split(/ +/),d=0,e=c.length;e>d;d++)b.srs[c[d]]=!0}},OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1_0"}),OpenLayers.Protocol.WFS.v1=OpenLayers.Class(OpenLayers.Protocol,{version:null,srsName:"EPSG:4326",featureType:null,featureNS:null,geometryName:"the_geom",schema:null,featurePrefix:"feature",formatOptions:null,readFormat:null,readOptions:null,initialize:function(a){OpenLayers.Protocol.prototype.initialize.apply(this,[a]),a.format||(this.format=OpenLayers.Format.WFST(OpenLayers.Util.extend({version:this.version,featureType:this.featureType,featureNS:this.featureNS,featurePrefix:this.featurePrefix,geometryName:this.geometryName,srsName:this.srsName,schema:this.schema},this.formatOptions))),!a.geometryName&&1<parseFloat(this.format.version)&&this.setGeometryName(null)},destroy:function(){this.options&&!this.options.format&&this.format.destroy(),this.format=null,OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(a){OpenLayers.Protocol.prototype.read.apply(this,arguments),a=OpenLayers.Util.extend({},a),OpenLayers.Util.applyDefaults(a,this.options||{});var b=new OpenLayers.Protocol.Response({requestType:"read"}),c=OpenLayers.Format.XML.prototype.write.apply(this.format,[this.format.writeNode("wfs:GetFeature",a)]);return b.priv=OpenLayers.Request.POST({url:a.url,callback:this.createCallback(this.handleRead,b,a),params:a.params,headers:a.headers,data:c}),b},setFeatureType:function(a){this.featureType=a,this.format.featureType=a},setGeometryName:function(a){this.geometryName=a,this.format.geometryName=a},handleRead:function(a,b){if(b=OpenLayers.Util.extend({},b),OpenLayers.Util.applyDefaults(b,this.options),b.callback){var c=a.priv;200<=c.status&&300>c.status?(c=this.parseResponse(c,b.readOptions))&&!1!==c.success?(b.readOptions&&"object"==b.readOptions.output?OpenLayers.Util.extend(a,c):a.features=c,a.code=OpenLayers.Protocol.Response.SUCCESS):(a.code=OpenLayers.Protocol.Response.FAILURE,a.error=c):a.code=OpenLayers.Protocol.Response.FAILURE,b.callback.call(b.scope,a)}},parseResponse:function(a,b){var c=a.responseXML;if(c&&c.documentElement||(c=a.responseText),!c||0>=c.length)return null;if(c=null!==this.readFormat?this.readFormat.read(c):this.format.read(c,b),!this.featureNS){var d=this.readFormat||this.format;this.featureNS=d.featureNS,d.autoConfig=!1,this.geometryName||this.setGeometryName(d.geometryName)}return c},commit:function(a,b){b=OpenLayers.Util.extend({},b),OpenLayers.Util.applyDefaults(b,this.options);var c=new OpenLayers.Protocol.Response({requestType:"commit",reqFeatures:a});return c.priv=OpenLayers.Request.POST({url:b.url,headers:b.headers,data:this.format.write(a,b),callback:this.createCallback(this.handleCommit,c,b)}),c},handleCommit:function(a,b){if(b.callback){var c=a.priv,d=c.responseXML;d&&d.documentElement||(d=c.responseText),c=this.format.read(d)||{},a.insertIds=c.insertIds||[],c.success?a.code=OpenLayers.Protocol.Response.SUCCESS:(a.code=OpenLayers.Protocol.Response.FAILURE,a.error=c),b.callback.call(b.scope,a)}},filterDelete:function(a,b){b=OpenLayers.Util.extend({},b),OpenLayers.Util.applyDefaults(b,this.options),new OpenLayers.Protocol.Response({requestType:"commit"});var c=this.format.createElementNSPlus("wfs:Transaction",{attributes:{service:"WFS",version:this.version}}),d=this.format.createElementNSPlus("wfs:Delete",{attributes:{typeName:(b.featureNS?this.featurePrefix+":":"")+b.featureType}});b.featureNS&&d.setAttribute("xmlns:"+this.featurePrefix,b.featureNS);var e=this.format.writeNode("ogc:Filter",a);return d.appendChild(e),c.appendChild(d),c=OpenLayers.Format.XML.prototype.write.apply(this.format,[c]),OpenLayers.Request.POST({url:this.url,callback:b.callback||function(){},data:c})},abort:function(a){a&&a.priv.abort()},CLASS_NAME:"OpenLayers.Protocol.WFS.v1"}),OpenLayers.Handler.Feature=OpenLayers.Class(OpenLayers.Handler,{EVENTMAP:{click:{"in":"click",out:"clickout"},mousemove:{"in":"over",out:"out"},dblclick:{"in":"dblclick",out:null},mousedown:{"in":null,out:null},mouseup:{"in":null,out:null},touchstart:{"in":"click",out:"clickout"}},feature:null,lastFeature:null,down:null,up:null,clickTolerance:4,geometryTypes:null,stopClick:!0,stopDown:!0,stopUp:!1,initialize:function(a,b,c,d){OpenLayers.Handler.prototype.initialize.apply(this,[a,c,d]),this.layer=b},touchstart:function(a){return this.startTouch(),OpenLayers.Event.isMultiTouch(a)?!0:this.mousedown(a)},touchmove:function(a){OpenLayers.Event.preventDefault(a)},mousedown:function(a){return(OpenLayers.Event.isLeftClick(a)||OpenLayers.Event.isSingleTouch(a))&&(this.down=a.xy),this.handle(a)?!this.stopDown:!0},mouseup:function(a){return this.up=a.xy,this.handle(a)?!this.stopUp:!0},click:function(a){return this.handle(a)?!this.stopClick:!0},mousemove:function(a){return this.callbacks.over||this.callbacks.out?(this.handle(a),!0):!0},dblclick:function(a){return!this.handle(a)},geometryTypeMatches:function(a){return null==this.geometryTypes||-1<OpenLayers.Util.indexOf(this.geometryTypes,a.geometry.CLASS_NAME)},handle:function(a){this.feature&&!this.feature.layer&&(this.feature=null);var b=a.type,c=!1,d=!!this.feature,e="click"==b||"dblclick"==b||"touchstart"==b;return(this.feature=this.layer.getFeatureFromEvent(a))&&!this.feature.layer&&(this.feature=null),this.lastFeature&&!this.lastFeature.layer&&(this.lastFeature=null),this.feature?("touchstart"===b&&OpenLayers.Event.preventDefault(a),a=this.feature!=this.lastFeature,this.geometryTypeMatches(this.feature)?(d&&a?(this.lastFeature&&this.triggerCallback(b,"out",[this.lastFeature]),this.triggerCallback(b,"in",[this.feature])):d&&!e||this.triggerCallback(b,"in",[this.feature]),this.lastFeature=this.feature,c=!0):(this.lastFeature&&(d&&a||e)&&this.triggerCallback(b,"out",[this.lastFeature]),this.feature=null)):this.lastFeature&&(d||e)&&this.triggerCallback(b,"out",[this.lastFeature]),c},triggerCallback:function(a,b,c){(b=this.EVENTMAP[a][b])&&("click"==a&&this.up&&this.down?(Math.sqrt(Math.pow(this.up.x-this.down.x,2)+Math.pow(this.up.y-this.down.y,2))<=this.clickTolerance&&this.callback(b,c),this.up=this.down=null):this.callback(b,c))},activate:function(){var a=!1;return OpenLayers.Handler.prototype.activate.apply(this,arguments)&&(this.moveLayerToTop(),this.map.events.on({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this}),a=!0),a},deactivate:function(){var a=!1;return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)&&(this.moveLayerBack(),this.up=this.down=this.lastFeature=this.feature=null,this.map.events.un({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this}),a=!0),a},handleMapEvents:function(a){"removelayer"!=a.type&&"order"!=a.property||this.moveLayerToTop()},moveLayerToTop:function(){var a=Math.max(this.map.Z_INDEX_BASE.Feature-1,this.layer.getZIndex())+1;this.layer.setZIndex(a)},moveLayerBack:function(){var a=this.layer.getZIndex()-1;a>=this.map.Z_INDEX_BASE.Feature?this.layer.setZIndex(a):this.map.setLayerZIndex(this.layer,this.map.getLayerIndex(this.layer))},CLASS_NAME:"OpenLayers.Handler.Feature"}),OpenLayers.Layer.Vector.RootContainer=OpenLayers.Class(OpenLayers.Layer.Vector,{displayInLayerSwitcher:!1,layers:null,display:function(){},getFeatureFromEvent:function(a){for(var b,c=this.layers,d=0;d<c.length;d++)if(b=c[d].getFeatureFromEvent(a))return b},setMap:function(a){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments),this.collectRoots(),a.events.register("changelayer",this,this.handleChangeLayer)},removeMap:function(a){a.events.unregister("changelayer",this,this.handleChangeLayer),this.resetRoots(),OpenLayers.Layer.Vector.prototype.removeMap.apply(this,arguments)},collectRoots:function(){for(var a,b=0;b<this.map.layers.length;++b)a=this.map.layers[b],-1!=OpenLayers.Util.indexOf(this.layers,a)&&a.renderer.moveRoot(this.renderer)},resetRoots:function(){for(var a,b=0;b<this.layers.length;++b)a=this.layers[b],this.renderer&&a.renderer.getRenderLayerId()==this.id&&this.renderer.moveRoot(a.renderer)},handleChangeLayer:function(a){var b=a.layer;"order"==a.property&&-1!=OpenLayers.Util.indexOf(this.layers,b)&&(this.resetRoots(),this.collectRoots())},CLASS_NAME:"OpenLayers.Layer.Vector.RootContainer"}),OpenLayers.Control.SelectFeature=OpenLayers.Class(OpenLayers.Control,{multipleKey:null,toggleKey:null,multiple:!1,clickout:!0,toggle:!1,hover:!1,highlightOnly:!1,box:!1,onBeforeSelect:function(){},onSelect:function(){},onUnselect:function(){},scope:null,geometryTypes:null,layer:null,layers:null,callbacks:null,selectStyle:null,renderIntent:"select",handlers:null,initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,[b]),null===this.scope&&(this.scope=this),this.initLayer(a);var c={click:this.clickFeature,clickout:this.clickoutFeature};this.hover&&(c.over=this.overFeature,c.out=this.outFeature),this.callbacks=OpenLayers.Util.extend(c,this.callbacks),this.handlers={feature:new OpenLayers.Handler.Feature(this,this.layer,this.callbacks,{geometryTypes:this.geometryTypes})},this.box&&(this.handlers.box=new OpenLayers.Handler.Box(this,{done:this.selectBox},{boxDivClassName:"olHandlerBoxSelectFeature"}))},initLayer:function(a){OpenLayers.Util.isArray(a)?(this.layers=a,this.layer=new OpenLayers.Layer.Vector.RootContainer(this.id+"_container",{layers:a})):this.layer=a},destroy:function(){this.active&&this.layers&&this.map.removeLayer(this.layer),OpenLayers.Control.prototype.destroy.apply(this,arguments),this.layers&&this.layer.destroy()},activate:function(){return this.active||(this.layers&&this.map.addLayer(this.layer),this.handlers.feature.activate(),this.box&&this.handlers.box&&this.handlers.box.activate()),OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){return this.active&&(this.handlers.feature.deactivate(),this.handlers.box&&this.handlers.box.deactivate(),this.layers&&this.map.removeLayer(this.layer)),OpenLayers.Control.prototype.deactivate.apply(this,arguments)},unselectAll:function(a){var b,c,d,e,f=this.layers||[this.layer];for(d=0;d<f.length;++d)if(b=f[d],e=0,null!=b.selectedFeatures)for(;b.selectedFeatures.length>e;)c=b.selectedFeatures[e],a&&a.except==c?++e:this.unselect(c)},clickFeature:function(a){this.hover||(-1<OpenLayers.Util.indexOf(a.layer.selectedFeatures,a)?this.toggleSelect()?this.unselect(a):this.multipleSelect()||this.unselectAll({except:a}):(this.multipleSelect()||this.unselectAll({except:a}),this.select(a)))},multipleSelect:function(){return this.multiple||this.handlers.feature.evt&&this.handlers.feature.evt[this.multipleKey]},toggleSelect:function(){return this.toggle||this.handlers.feature.evt&&this.handlers.feature.evt[this.toggleKey]},clickoutFeature:function(){!this.hover&&this.clickout&&this.unselectAll()},overFeature:function(a){var b=a.layer;this.hover&&(this.highlightOnly?this.highlight(a):-1==OpenLayers.Util.indexOf(b.selectedFeatures,a)&&this.select(a))},outFeature:function(a){if(this.hover)if(this.highlightOnly){if(a._lastHighlighter==this.id)if(a._prevHighlighter&&a._prevHighlighter!=this.id){delete a._lastHighlighter;var b=this.map.getControl(a._prevHighlighter);b&&b.highlight(a)}else this.unhighlight(a)}else this.unselect(a)},highlight:function(a){var b=a.layer;!1!==this.events.triggerEvent("beforefeaturehighlighted",{feature:a})&&(a._prevHighlighter=a._lastHighlighter,a._lastHighlighter=this.id,b.drawFeature(a,this.selectStyle||this.renderIntent),this.events.triggerEvent("featurehighlighted",{feature:a}))},unhighlight:function(a){var b=a.layer;void 0==a._prevHighlighter?delete a._lastHighlighter:(a._prevHighlighter!=this.id&&(a._lastHighlighter=a._prevHighlighter),delete a._prevHighlighter),b.drawFeature(a,a.style||a.layer.style||"default"),this.events.triggerEvent("featureunhighlighted",{feature:a})},select:function(a){var b=this.onBeforeSelect.call(this.scope,a),c=a.layer;!1!==b&&(b=c.events.triggerEvent("beforefeatureselected",{feature:a}),!1!==b&&(c.selectedFeatures.push(a),this.highlight(a),this.handlers.feature.lastFeature||(this.handlers.feature.lastFeature=c.selectedFeatures[0]),c.events.triggerEvent("featureselected",{feature:a}),this.onSelect.call(this.scope,a)))},unselect:function(a){var b=a.layer;this.unhighlight(a),OpenLayers.Util.removeItem(b.selectedFeatures,a),b.events.triggerEvent("featureunselected",{feature:a}),this.onUnselect.call(this.scope,a)},selectBox:function(a){if(a instanceof OpenLayers.Bounds){var b=this.map.getLonLatFromPixel({x:a.left,y:a.bottom});a=this.map.getLonLatFromPixel({x:a.right,y:a.top}),b=new OpenLayers.Bounds(b.lon,b.lat,a.lon,a.lat),this.multipleSelect()||this.unselectAll(),a=this.multiple,this.multiple=!0;var c=this.layers||[this.layer];this.events.triggerEvent("boxselectionstart",{layers:c});for(var d,e=0;e<c.length;++e){d=c[e];for(var f=0,g=d.features.length;g>f;++f){var h=d.features[f];h.getVisibility()&&(null==this.geometryTypes||-1<OpenLayers.Util.indexOf(this.geometryTypes,h.geometry.CLASS_NAME))&&b.toGeometry().intersects(h.geometry)&&-1==OpenLayers.Util.indexOf(d.selectedFeatures,h)&&this.select(h)}}this.multiple=a,this.events.triggerEvent("boxselectionend",{layers:c})}},setMap:function(a){this.handlers.feature.setMap(a),this.box&&this.handlers.box.setMap(a),OpenLayers.Control.prototype.setMap.apply(this,arguments)},setLayer:function(a){var b=this.active;this.unselectAll(),this.deactivate(),this.layers&&(this.layer.destroy(),this.layers=null),this.initLayer(a),this.handlers.feature.layer=this.layer,b&&this.activate()},CLASS_NAME:"OpenLayers.Control.SelectFeature"}),OpenLayers.Handler.Point=OpenLayers.Class(OpenLayers.Handler,{point:null,layer:null,multi:!1,citeCompliant:!1,mouseDown:!1,stoppedDown:null,lastDown:null,lastUp:null,persist:!1,stopDown:!1,stopUp:!1,layerOptions:null,pixelTolerance:5,lastTouchPx:null,initialize:function(a,b,c){c&&c.layerOptions&&c.layerOptions.styleMap||(this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})),OpenLayers.Handler.prototype.initialize.apply(this,arguments)},activate:function(){if(!OpenLayers.Handler.prototype.activate.apply(this,arguments))return!1;var a=OpenLayers.Util.extend({displayInLayerSwitcher:!1,calculateInRange:OpenLayers.Function.True,wrapDateLine:this.citeCompliant},this.layerOptions);return this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,a),this.map.addLayer(this.layer),!0},createFeature:function(a){a=this.layer.getLonLatFromViewPortPx(a),a=new OpenLayers.Geometry.Point(a.lon,a.lat),this.point=new OpenLayers.Feature.Vector(a),this.callback("create",[this.point.geometry,this.point]),this.point.geometry.clearBounds(),this.layer.addFeatures([this.point],{silent:!0})},deactivate:function(){return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)?(this.cancel(),null!=this.layer.map&&(this.destroyFeature(!0),this.layer.destroy(!1)),this.layer=null,!0):!1},destroyFeature:function(a){!this.layer||!a&&this.persist||this.layer.destroyFeatures(),this.point=null},destroyPersistedFeature:function(){var a=this.layer;a&&1<a.features.length&&this.layer.features[0].destroy()},finalize:function(a){this.mouseDown=!1,this.lastTouchPx=this.lastUp=this.lastDown=null,this.callback(a?"cancel":"done",[this.geometryClone()]),this.destroyFeature(a)},cancel:function(){this.finalize(!0)},click:function(a){return OpenLayers.Event.stop(a),!1},dblclick:function(a){return OpenLayers.Event.stop(a),!1},modifyFeature:function(a){this.point||this.createFeature(a),a=this.layer.getLonLatFromViewPortPx(a),this.point.geometry.x=a.lon,this.point.geometry.y=a.lat,this.callback("modify",[this.point.geometry,this.point,!1]),this.point.geometry.clearBounds(),this.drawFeature()},drawFeature:function(){this.layer.drawFeature(this.point,this.style)},getGeometry:function(){var a=this.point&&this.point.geometry;return a&&this.multi&&(a=new OpenLayers.Geometry.MultiPoint([a])),a},geometryClone:function(){var a=this.getGeometry();return a&&a.clone()},mousedown:function(a){return this.down(a)},touchstart:function(a){return this.startTouch(),this.lastTouchPx=a.xy,this.down(a)},mousemove:function(a){return this.move(a)},touchmove:function(a){return this.lastTouchPx=a.xy,this.move(a)},mouseup:function(a){return this.up(a)},touchend:function(a){return a.xy=this.lastTouchPx,this.up(a)},down:function(a){return this.mouseDown=!0,this.lastDown=a.xy,this.touch||this.modifyFeature(a.xy),this.stoppedDown=this.stopDown,!this.stopDown},move:function(a){return this.touch||this.mouseDown&&!this.stoppedDown||this.modifyFeature(a.xy),!0},up:function(a){return this.mouseDown=!1,this.stoppedDown=this.stopDown,!this.checkModifiers(a)||this.lastUp&&this.lastUp.equals(a.xy)||!this.lastDown||!this.passesTolerance(this.lastDown,a.xy,this.pixelTolerance)?!0:(this.touch&&this.modifyFeature(a.xy),this.persist&&this.destroyPersistedFeature(),this.lastUp=a.xy,this.finalize(),!this.stopUp)},mouseout:function(a){OpenLayers.Util.mouseLeft(a,this.map.viewPortDiv)&&(this.stoppedDown=this.stopDown,this.mouseDown=!1)},passesTolerance:function(a,b,c){var d=!0;return null!=c&&a&&b&&a.distanceTo(b)>c&&(d=!1),d},CLASS_NAME:"OpenLayers.Handler.Point"}),OpenLayers.Handler.Path=OpenLayers.Class(OpenLayers.Handler.Point,{line:null,maxVertices:null,doubleTouchTolerance:20,freehand:!1,freehandToggle:"shiftKey",timerId:null,redoStack:null,createFeature:function(a){a=this.layer.getLonLatFromViewPortPx(a),a=new OpenLayers.Geometry.Point(a.lon,a.lat),this.point=new OpenLayers.Feature.Vector(a),this.line=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([this.point.geometry])),this.callback("create",[this.point.geometry,this.getSketch()]),this.point.geometry.clearBounds(),this.layer.addFeatures([this.line,this.point],{silent:!0})},destroyFeature:function(a){OpenLayers.Handler.Point.prototype.destroyFeature.call(this,a),this.line=null},destroyPersistedFeature:function(){var a=this.layer;a&&2<a.features.length&&this.layer.features[0].destroy()},removePoint:function(){this.point&&this.layer.removeFeatures([this.point])},addPoint:function(a){this.layer.removeFeatures([this.point]),a=this.layer.getLonLatFromViewPortPx(a),this.point=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(a.lon,a.lat)),this.line.geometry.addComponent(this.point.geometry,this.line.geometry.components.length),this.layer.addFeatures([this.point]),this.callback("point",[this.point.geometry,this.getGeometry()]),this.callback("modify",[this.point.geometry,this.getSketch()]),this.drawFeature(),delete this.redoStack},insertXY:function(a,b){this.line.geometry.addComponent(new OpenLayers.Geometry.Point(a,b),this.getCurrentPointIndex()),this.drawFeature(),delete this.redoStack},insertDeltaXY:function(a,b){var c=this.getCurrentPointIndex()-1,c=this.line.geometry.components[c];!c||isNaN(c.x)||isNaN(c.y)||this.insertXY(c.x+a,c.y+b)},insertDirectionLength:function(a,b){a*=Math.PI/180;var c=b*Math.cos(a),d=b*Math.sin(a);this.insertDeltaXY(c,d)},insertDeflectionLength:function(a,b){var c=this.getCurrentPointIndex()-1;if(c>0){var d=this.line.geometry.components[c],c=this.line.geometry.components[c-1],d=Math.atan2(d.y-c.y,d.x-c.x);this.insertDirectionLength(180*d/Math.PI+a,b)}},getCurrentPointIndex:function(){return this.line.geometry.components.length-1},undo:function(){var a=this.line.geometry,b=a.components,c=this.getCurrentPointIndex()-1,d=b[c],e=a.removeComponent(d);return e&&(this.touch&&c>0&&(b=a.components,a=b[c-1],c=this.getCurrentPointIndex(),b=b[c],b.x=a.x,b.y=a.y),this.redoStack||(this.redoStack=[]),this.redoStack.push(d),this.drawFeature()),e},redo:function(){var a=this.redoStack&&this.redoStack.pop();return a&&(this.line.geometry.addComponent(a,this.getCurrentPointIndex()),this.drawFeature()),!!a},freehandMode:function(a){return this.freehandToggle&&a[this.freehandToggle]?!this.freehand:this.freehand},modifyFeature:function(a,b){this.line||this.createFeature(a);var c=this.layer.getLonLatFromViewPortPx(a);this.point.geometry.x=c.lon,this.point.geometry.y=c.lat,this.callback("modify",[this.point.geometry,this.getSketch(),b]),this.point.geometry.clearBounds(),this.drawFeature()},drawFeature:function(){this.layer.drawFeature(this.line,this.style),this.layer.drawFeature(this.point,this.style)},getSketch:function(){return this.line},getGeometry:function(){var a=this.line&&this.line.geometry;return a&&this.multi&&(a=new OpenLayers.Geometry.MultiLineString([a])),a},touchstart:function(a){return this.timerId&&this.passesTolerance(this.lastTouchPx,a.xy,this.doubleTouchTolerance)?(this.finishGeometry(),window.clearTimeout(this.timerId),this.timerId=null,!1):(this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null),this.timerId=window.setTimeout(OpenLayers.Function.bind(function(){this.timerId=null},this),300),OpenLayers.Handler.Point.prototype.touchstart.call(this,a))},down:function(a){var b=this.stopDown;return this.freehandMode(a)&&(b=!0,this.touch&&(this.modifyFeature(a.xy,!!this.lastUp),OpenLayers.Event.stop(a))),this.touch||this.lastDown&&this.passesTolerance(this.lastDown,a.xy,this.pixelTolerance)||this.modifyFeature(a.xy,!!this.lastUp),this.mouseDown=!0,this.lastDown=a.xy,this.stoppedDown=b,!b},move:function(a){return this.stoppedDown&&this.freehandMode(a)?(this.persist&&this.destroyPersistedFeature(),this.maxVertices&&this.line&&this.line.geometry.components.length===this.maxVertices?(this.removePoint(),this.finalize()):this.addPoint(a.xy),!1):(this.touch||this.mouseDown&&!this.stoppedDown||this.modifyFeature(a.xy,!!this.lastUp),!0)},up:function(a){return!this.mouseDown||this.lastUp&&this.lastUp.equals(a.xy)||(this.stoppedDown&&this.freehandMode(a)?(this.persist&&this.destroyPersistedFeature(),this.removePoint(),this.finalize()):this.passesTolerance(this.lastDown,a.xy,this.pixelTolerance)&&(this.touch&&this.modifyFeature(a.xy),null==this.lastUp&&this.persist&&this.destroyPersistedFeature(),this.addPoint(a.xy),this.lastUp=a.xy,this.line.geometry.components.length===this.maxVertices+1&&this.finishGeometry())),this.stoppedDown=this.stopDown,this.mouseDown=!1,!this.stopUp},finishGeometry:function(){this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length-1]),this.removePoint(),this.finalize()},dblclick:function(a){return this.freehandMode(a)||this.finishGeometry(),!1},CLASS_NAME:"OpenLayers.Handler.Path"}),OpenLayers.Spherical=OpenLayers.Spherical||{},OpenLayers.Spherical.DEFAULT_RADIUS=6378137,OpenLayers.Spherical.computeDistanceBetween=function(a,b,c){c=c||OpenLayers.Spherical.DEFAULT_RADIUS;var d=Math.sin(Math.PI*(b.lon-a.lon)/360),e=Math.sin(Math.PI*(b.lat-a.lat)/360);return a=e*e+d*d*Math.cos(Math.PI*a.lat/180)*Math.cos(Math.PI*b.lat/180),2*c*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},OpenLayers.Spherical.computeHeading=function(a,b){var c=Math.sin(Math.PI*(a.lon-b.lon)/180)*Math.cos(Math.PI*b.lat/180),d=Math.cos(Math.PI*a.lat/180)*Math.sin(Math.PI*b.lat/180)-Math.sin(Math.PI*a.lat/180)*Math.cos(Math.PI*b.lat/180)*Math.cos(Math.PI*(a.lon-b.lon)/180);return 180*Math.atan2(c,d)/Math.PI},OpenLayers.Control.CacheWrite=OpenLayers.Class(OpenLayers.Control,{layers:null,imageFormat:"image/png",quotaRegEx:/quota/i,setMap:function(a){OpenLayers.Control.prototype.setMap.apply(this,arguments);var b,c=this.layers||a.layers;for(b=c.length-1;b>=0;--b)this.addLayer({layer:c[b]});this.layers||a.events.on({addlayer:this.addLayer,removeLayer:this.removeLayer,scope:this})},addLayer:function(a){a.layer.events.on({tileloadstart:this.makeSameOrigin,tileloaded:this.onTileLoaded,scope:this})},removeLayer:function(a){a.layer.events.un({tileloadstart:this.makeSameOrigin,tileloaded:this.onTileLoaded,scope:this})},makeSameOrigin:function(a){if(this.active&&(a=a.tile,a instanceof OpenLayers.Tile.Image&&!a.crossOriginKeyword&&"data:"!==a.url.substr(0,5))){var b=OpenLayers.Request.makeSameOrigin(a.url,OpenLayers.ProxyHost);OpenLayers.Control.CacheWrite.urlMap[b]=a.url,a.url=b}},onTileLoaded:function(a){this.active&&!a.aborted&&a.tile instanceof OpenLayers.Tile.Image&&"data:"!==a.tile.url.substr(0,5)&&(this.cache({tile:a.tile}),delete OpenLayers.Control.CacheWrite.urlMap[a.tile.url])},cache:function(a){if(window.localStorage){a=a.tile;try{var b=a.getCanvasContext();b&&window.localStorage.setItem("olCache_"+(OpenLayers.Control.CacheWrite.urlMap[a.url]||a.url),b.canvas.toDataURL(this.imageFormat))}catch(c){(b=c.name||c.message)&&this.quotaRegEx.test(b)?this.events.triggerEvent("cachefull",{tile:a}):OpenLayers.Console.error(c.toString())}}},destroy:function(){if(this.layers||this.map){var a,b=this.layers||this.map.layers;for(a=b.length-1;a>=0;--a)this.removeLayer({layer:b[a]})}this.map&&this.map.events.un({addlayer:this.addLayer,removeLayer:this.removeLayer,scope:this}),OpenLayers.Control.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.CacheWrite"}),OpenLayers.Control.CacheWrite.clearCache=function(){if(window.localStorage){var a,b;for(a=window.localStorage.length-1;a>=0;--a)b=window.localStorage.key(a),"olCache_"===b.substr(0,8)&&window.localStorage.removeItem(b)}},OpenLayers.Control.CacheWrite.urlMap={},OpenLayers.Format.Context=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{layerOptions:null,layerParams:null,read:function(a,b){var c=OpenLayers.Format.XML.VersionedOGC.prototype.read.apply(this,arguments);if(b&&b.map)if(this.context=c,b.map instanceof OpenLayers.Map)c=this.mergeContextToMap(c,b.map);else{var d=b.map;(OpenLayers.Util.isElement(d)||"string"==typeof d)&&(d={div:d}),c=this.contextToMap(c,d)}return c},getLayerFromContext:function(a){var b,c,d={queryable:a.queryable,visibility:a.visibility,maxExtent:a.maxExtent,metadata:OpenLayers.Util.applyDefaults(a.metadata,{styles:a.styles,formats:a.formats,"abstract":a["abstract"],dataURL:a.dataURL}),numZoomLevels:a.numZoomLevels,units:a.units,isBaseLayer:a.isBaseLayer,opacity:a.opacity,displayInLayerSwitcher:a.displayInLayerSwitcher,singleTile:a.singleTile,tileSize:a.tileSize?new OpenLayers.Size(a.tileSize.width,a.tileSize.height):void 0,minScale:a.minScale||a.maxScaleDenominator,maxScale:a.maxScale||a.minScaleDenominator,srs:a.srs,dimensions:a.dimensions,metadataURL:a.metadataURL};this.layerOptions&&OpenLayers.Util.applyDefaults(d,this.layerOptions);var e={layers:a.name,transparent:a.transparent,version:a.version};if(a.formats&&0<a.formats.length)for(e.format=a.formats[0].value,b=0,c=a.formats.length;c>b;b++){var f=a.formats[b];if(1==f.current){e.format=f.value;break}}if(a.styles&&0<a.styles.length)for(b=0,c=a.styles.length;c>b;b++)if(f=a.styles[b],1==f.current){f.href?e.sld=f.href:f.body?e.sld_body=f.body:e.styles=f.name;break}return this.layerParams&&OpenLayers.Util.applyDefaults(e,this.layerParams),b=null,c=a.service,c==OpenLayers.Format.Context.serviceTypes.WFS?(d.strategies=[new OpenLayers.Strategy.BBOX],d.protocol=new OpenLayers.Protocol.WFS({url:a.url,featurePrefix:a.name.split(":")[0],featureType:a.name.split(":").pop()}),b=new OpenLayers.Layer.Vector(a.title||a.name,d)):c==OpenLayers.Format.Context.serviceTypes.KML?(d.strategies=[new OpenLayers.Strategy.Fixed],d.protocol=new OpenLayers.Protocol.HTTP({url:a.url,format:new OpenLayers.Format.KML}),b=new OpenLayers.Layer.Vector(a.title||a.name,d)):c==OpenLayers.Format.Context.serviceTypes.GML?(d.strategies=[new OpenLayers.Strategy.Fixed],d.protocol=new OpenLayers.Protocol.HTTP({url:a.url,format:new OpenLayers.Format.GML}),b=new OpenLayers.Layer.Vector(a.title||a.name,d)):a.features?(b=new OpenLayers.Layer.Vector(a.title||a.name,d),b.addFeatures(a.features)):!0!==a.categoryLayer&&(b=new OpenLayers.Layer.WMS(a.title||a.name,a.url,e,d)),b},getLayersFromContext:function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=this.getLayerFromContext(a[c]);null!==e&&b.push(e)}return b},contextToMap:function(a,b){b=OpenLayers.Util.applyDefaults({maxExtent:a.maxExtent,projection:a.projection,units:a.units},b),b.maxExtent&&(b.maxResolution=b.maxExtent.getWidth()/OpenLayers.Map.TILE_WIDTH),b.metadata={contactInformation:a.contactInformation,"abstract":a["abstract"],keywords:a.keywords,logo:a.logo,descriptionURL:a.descriptionURL};var c=new OpenLayers.Map(b);return c.addLayers(this.getLayersFromContext(a.layersContext)),c.setCenter(a.bounds.getCenterLonLat(),c.getZoomForExtent(a.bounds,!0)),c},mergeContextToMap:function(a,b){return b.addLayers(this.getLayersFromContext(a.layersContext)),b},write:function(a){return a=this.toContext(a),OpenLayers.Format.XML.VersionedOGC.prototype.write.apply(this,arguments)},CLASS_NAME:"OpenLayers.Format.Context"}),OpenLayers.Format.Context.serviceTypes={WMS:"urn:ogc:serviceType:WMS",WFS:"urn:ogc:serviceType:WFS",WCS:"urn:ogc:serviceType:WCS",GML:"urn:ogc:serviceType:GML",SLD:"urn:ogc:serviceType:SLD",FES:"urn:ogc:serviceType:FES",KML:"urn:ogc:serviceType:KML"},OpenLayers.Format.WMC=OpenLayers.Class(OpenLayers.Format.Context,{defaultVersion:"1.1.0",layerToContext:function(a){var b=this.getParser(),c={queryable:a.queryable,visibility:a.visibility,name:a.params.LAYERS,title:a.name,"abstract":a.metadata["abstract"],dataURL:a.metadata.dataURL,metadataURL:a.metadataURL,server:{version:a.params.VERSION,url:a.url},maxExtent:a.maxExtent,transparent:a.params.TRANSPARENT,numZoomLevels:a.numZoomLevels,units:a.units,isBaseLayer:a.isBaseLayer,opacity:1==a.opacity?void 0:a.opacity,displayInLayerSwitcher:a.displayInLayerSwitcher,singleTile:a.singleTile,tileSize:a.singleTile||!a.tileSize?void 0:{width:a.tileSize.w,height:a.tileSize.h},minScale:a.options.resolutions||a.options.scales||a.options.maxResolution||a.options.minScale?a.minScale:void 0,maxScale:a.options.resolutions||a.options.scales||a.options.minResolution||a.options.maxScale?a.maxScale:void 0,formats:[],styles:[],srs:a.srs,dimensions:a.dimensions};
if(a.metadata.servertitle&&(c.server.title=a.metadata.servertitle),a.metadata.formats&&0<a.metadata.formats.length)for(var d=0,e=a.metadata.formats.length;e>d;d++){var f=a.metadata.formats[d];c.formats.push({value:f.value,current:f.value==a.params.FORMAT})}else c.formats.push({value:a.params.FORMAT,current:!0});if(a.metadata.styles&&0<a.metadata.styles.length)for(d=0,e=a.metadata.styles.length;e>d;d++)b=a.metadata.styles[d],b.current=b.href==a.params.SLD||b.body==a.params.SLD_BODY||b.name==a.params.STYLES?!0:!1,c.styles.push(b);else c.styles.push({href:a.params.SLD,body:a.params.SLD_BODY,name:a.params.STYLES||b.defaultStyleName,title:b.defaultStyleTitle,current:!0});return c},toContext:function(a){var b={},c=a.layers;if("OpenLayers.Map"==a.CLASS_NAME){var d=a.metadata||{};b.size=a.getSize(),b.bounds=a.getExtent(),b.projection=a.projection,b.title=a.title,b.keywords=d.keywords,b["abstract"]=d["abstract"],b.logo=d.logo,b.descriptionURL=d.descriptionURL,b.contactInformation=d.contactInformation,b.maxExtent=a.maxExtent}else OpenLayers.Util.applyDefaults(b,a),void 0!=b.layers&&delete b.layers;if(void 0==b.layersContext&&(b.layersContext=[]),void 0!=c&&OpenLayers.Util.isArray(c))for(a=0,d=c.length;d>a;a++){var e=c[a];e instanceof OpenLayers.Layer.WMS&&b.layersContext.push(this.layerToContext(e))}return b},CLASS_NAME:"OpenLayers.Format.WMC"}),OpenLayers.Format.WMC.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ol:"http://openlayers.org/context",wmc:"http://www.opengis.net/context",sld:"http://www.opengis.net/sld",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"",getNamespacePrefix:function(a){var b=null;if(null==a)b=this.namespaces[this.defaultPrefix];else for(b in this.namespaces)if(this.namespaces[b]==a)break;return b},defaultPrefix:"wmc",rootPrefix:null,defaultStyleName:"",defaultStyleTitle:"Default",initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a=a.documentElement,this.rootPrefix=a.prefix;var b={version:a.getAttribute("version")};return this.runChildNodes(b,a),b},runChildNodes:function(a,b){for(var c,d,e,f=b.childNodes,g=0,h=f.length;h>g;++g)c=f[g],1==c.nodeType&&(d=this.getNamespacePrefix(c.namespaceURI),e=c.nodeName.split(":").pop(),(d=this["read_"+d+"_"+e])&&d.apply(this,[a,c]))},read_wmc_General:function(a,b){this.runChildNodes(a,b)},read_wmc_BoundingBox:function(a,b){a.projection=b.getAttribute("SRS"),a.bounds=new OpenLayers.Bounds(b.getAttribute("minx"),b.getAttribute("miny"),b.getAttribute("maxx"),b.getAttribute("maxy"))},read_wmc_LayerList:function(a,b){a.layersContext=[],this.runChildNodes(a,b)},read_wmc_Layer:function(a,b){var c={visibility:"1"!=b.getAttribute("hidden"),queryable:"1"==b.getAttribute("queryable"),formats:[],styles:[],metadata:{}};this.runChildNodes(c,b),a.layersContext.push(c)},read_wmc_Extension:function(a,b){this.runChildNodes(a,b)},read_ol_units:function(a,b){a.units=this.getChildValue(b)},read_ol_maxExtent:function(a,b){var c=new OpenLayers.Bounds(b.getAttribute("minx"),b.getAttribute("miny"),b.getAttribute("maxx"),b.getAttribute("maxy"));a.maxExtent=c},read_ol_transparent:function(a,b){a.transparent=this.getChildValue(b)},read_ol_numZoomLevels:function(a,b){a.numZoomLevels=parseInt(this.getChildValue(b))},read_ol_opacity:function(a,b){a.opacity=parseFloat(this.getChildValue(b))},read_ol_singleTile:function(a,b){a.singleTile="true"==this.getChildValue(b)},read_ol_tileSize:function(a,b){var c={width:b.getAttribute("width"),height:b.getAttribute("height")};a.tileSize=c},read_ol_isBaseLayer:function(a,b){a.isBaseLayer="true"==this.getChildValue(b)},read_ol_displayInLayerSwitcher:function(a,b){a.displayInLayerSwitcher="true"==this.getChildValue(b)},read_wmc_Server:function(a,b){a.version=b.getAttribute("version"),a.url=this.getOnlineResource_href(b),a.metadata.servertitle=b.getAttribute("title")},read_wmc_FormatList:function(a,b){this.runChildNodes(a,b)},read_wmc_Format:function(a,b){var c={value:this.getChildValue(b)};"1"==b.getAttribute("current")&&(c.current=!0),a.formats.push(c)},read_wmc_StyleList:function(a,b){this.runChildNodes(a,b)},read_wmc_Style:function(a,b){var c={};this.runChildNodes(c,b),"1"==b.getAttribute("current")&&(c.current=!0),a.styles.push(c)},read_wmc_SLD:function(a,b){this.runChildNodes(a,b)},read_sld_StyledLayerDescriptor:function(a,b){var c=OpenLayers.Format.XML.prototype.write.apply(this,[b]);a.body=c},read_sld_FeatureTypeStyle:function(a,b){var c=OpenLayers.Format.XML.prototype.write.apply(this,[b]);a.body=c},read_wmc_OnlineResource:function(a,b){a.href=this.getAttributeNS(b,this.namespaces.xlink,"href")},read_wmc_Name:function(a,b){var c=this.getChildValue(b);c&&(a.name=c)},read_wmc_Title:function(a,b){var c=this.getChildValue(b);c&&(a.title=c)},read_wmc_MetadataURL:function(a,b){a.metadataURL=this.getOnlineResource_href(b)},read_wmc_KeywordList:function(a,b){a.keywords=[],this.runChildNodes(a.keywords,b)},read_wmc_Keyword:function(a,b){a.push(this.getChildValue(b))},read_wmc_Abstract:function(a,b){var c=this.getChildValue(b);c&&(a["abstract"]=c)},read_wmc_LogoURL:function(a,b){a.logo={width:b.getAttribute("width"),height:b.getAttribute("height"),format:b.getAttribute("format"),href:this.getOnlineResource_href(b)}},read_wmc_DescriptionURL:function(a,b){a.descriptionURL=this.getOnlineResource_href(b)},read_wmc_ContactInformation:function(a,b){var c={};this.runChildNodes(c,b),a.contactInformation=c},read_wmc_ContactPersonPrimary:function(a,b){var c={};this.runChildNodes(c,b),a.personPrimary=c},read_wmc_ContactPerson:function(a,b){var c=this.getChildValue(b);c&&(a.person=c)},read_wmc_ContactOrganization:function(a,b){var c=this.getChildValue(b);c&&(a.organization=c)},read_wmc_ContactPosition:function(a,b){var c=this.getChildValue(b);c&&(a.position=c)},read_wmc_ContactAddress:function(a,b){var c={};this.runChildNodes(c,b),a.contactAddress=c},read_wmc_AddressType:function(a,b){var c=this.getChildValue(b);c&&(a.type=c)},read_wmc_Address:function(a,b){var c=this.getChildValue(b);c&&(a.address=c)},read_wmc_City:function(a,b){var c=this.getChildValue(b);c&&(a.city=c)},read_wmc_StateOrProvince:function(a,b){var c=this.getChildValue(b);c&&(a.stateOrProvince=c)},read_wmc_PostCode:function(a,b){var c=this.getChildValue(b);c&&(a.postcode=c)},read_wmc_Country:function(a,b){var c=this.getChildValue(b);c&&(a.country=c)},read_wmc_ContactVoiceTelephone:function(a,b){var c=this.getChildValue(b);c&&(a.phone=c)},read_wmc_ContactFacsimileTelephone:function(a,b){var c=this.getChildValue(b);c&&(a.fax=c)},read_wmc_ContactElectronicMailAddress:function(a,b){var c=this.getChildValue(b);c&&(a.email=c)},read_wmc_DataURL:function(a,b){a.dataURL=this.getOnlineResource_href(b)},read_wmc_LegendURL:function(a,b){var c={width:b.getAttribute("width"),height:b.getAttribute("height"),format:b.getAttribute("format"),href:this.getOnlineResource_href(b)};a.legend=c},read_wmc_DimensionList:function(a,b){a.dimensions={},this.runChildNodes(a.dimensions,b)},read_wmc_Dimension:function(a,b){var c={name:b.getAttribute("name").toLowerCase(),units:b.getAttribute("units")||"",unitSymbol:b.getAttribute("unitSymbol")||"",userValue:b.getAttribute("userValue")||"",nearestValue:"1"===b.getAttribute("nearestValue"),multipleValues:"1"===b.getAttribute("multipleValues"),current:"1"===b.getAttribute("current"),"default":b.getAttribute("default")||""},d=this.getChildValue(b);c.values=d.split(","),a[c.name]=c},write:function(a,b){var c=this.createElementDefaultNS("ViewContext");return this.setAttributes(c,{version:this.VERSION,id:b&&"string"==typeof b.id?b.id:OpenLayers.Util.createUniqueID("OpenLayers_Context_")}),this.setAttributeNS(c,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),c.appendChild(this.write_wmc_General(a)),c.appendChild(this.write_wmc_LayerList(a)),OpenLayers.Format.XML.prototype.write.apply(this,[c])},createElementDefaultNS:function(a,b,c){return a=this.createElementNS(this.namespaces[this.defaultPrefix],a),b&&a.appendChild(this.createTextNode(b)),c&&this.setAttributes(a,c),a},setAttributes:function(a,b){var c,d;for(d in b)c=b[d].toString(),c.match(/[A-Z]/)?this.setAttributeNS(a,null,d,c):a.setAttribute(d,c)},write_wmc_General:function(a){var b=this.createElementDefaultNS("General");a.size&&b.appendChild(this.createElementDefaultNS("Window",null,{width:a.size.w,height:a.size.h}));var c=a.bounds;return b.appendChild(this.createElementDefaultNS("BoundingBox",null,{minx:c.left.toPrecision(18),miny:c.bottom.toPrecision(18),maxx:c.right.toPrecision(18),maxy:c.top.toPrecision(18),SRS:a.projection})),b.appendChild(this.createElementDefaultNS("Title",a.title)),a.keywords&&b.appendChild(this.write_wmc_KeywordList(a.keywords)),a["abstract"]&&b.appendChild(this.createElementDefaultNS("Abstract",a["abstract"])),a.logo&&b.appendChild(this.write_wmc_URLType("LogoURL",a.logo.href,a.logo)),a.descriptionURL&&b.appendChild(this.write_wmc_URLType("DescriptionURL",a.descriptionURL)),a.contactInformation&&b.appendChild(this.write_wmc_ContactInformation(a.contactInformation)),b.appendChild(this.write_ol_MapExtension(a)),b},write_wmc_KeywordList:function(a){for(var b=this.createElementDefaultNS("KeywordList"),c=0,d=a.length;d>c;c++)b.appendChild(this.createElementDefaultNS("Keyword",a[c]));return b},write_wmc_ContactInformation:function(a){var b=this.createElementDefaultNS("ContactInformation");return a.personPrimary&&b.appendChild(this.write_wmc_ContactPersonPrimary(a.personPrimary)),a.position&&b.appendChild(this.createElementDefaultNS("ContactPosition",a.position)),a.contactAddress&&b.appendChild(this.write_wmc_ContactAddress(a.contactAddress)),a.phone&&b.appendChild(this.createElementDefaultNS("ContactVoiceTelephone",a.phone)),a.fax&&b.appendChild(this.createElementDefaultNS("ContactFacsimileTelephone",a.fax)),a.email&&b.appendChild(this.createElementDefaultNS("ContactElectronicMailAddress",a.email)),b},write_wmc_ContactPersonPrimary:function(a){var b=this.createElementDefaultNS("ContactPersonPrimary");return a.person&&b.appendChild(this.createElementDefaultNS("ContactPerson",a.person)),a.organization&&b.appendChild(this.createElementDefaultNS("ContactOrganization",a.organization)),b},write_wmc_ContactAddress:function(a){var b=this.createElementDefaultNS("ContactAddress");return a.type&&b.appendChild(this.createElementDefaultNS("AddressType",a.type)),a.address&&b.appendChild(this.createElementDefaultNS("Address",a.address)),a.city&&b.appendChild(this.createElementDefaultNS("City",a.city)),a.stateOrProvince&&b.appendChild(this.createElementDefaultNS("StateOrProvince",a.stateOrProvince)),a.postcode&&b.appendChild(this.createElementDefaultNS("PostCode",a.postcode)),a.country&&b.appendChild(this.createElementDefaultNS("Country",a.country)),b},write_ol_MapExtension:function(a){var b=this.createElementDefaultNS("Extension");if(a=a.maxExtent){var c=this.createElementNS(this.namespaces.ol,"ol:maxExtent");this.setAttributes(c,{minx:a.left.toPrecision(18),miny:a.bottom.toPrecision(18),maxx:a.right.toPrecision(18),maxy:a.top.toPrecision(18)}),b.appendChild(c)}return b},write_wmc_LayerList:function(a){for(var b=this.createElementDefaultNS("LayerList"),c=0,d=a.layersContext.length;d>c;++c)b.appendChild(this.write_wmc_Layer(a.layersContext[c]));return b},write_wmc_Layer:function(a){var b=this.createElementDefaultNS("Layer",null,{queryable:a.queryable?"1":"0",hidden:a.visibility?"0":"1"});return b.appendChild(this.write_wmc_Server(a)),b.appendChild(this.createElementDefaultNS("Name",a.name)),b.appendChild(this.createElementDefaultNS("Title",a.title)),a["abstract"]&&b.appendChild(this.createElementDefaultNS("Abstract",a["abstract"])),a.dataURL&&b.appendChild(this.write_wmc_URLType("DataURL",a.dataURL)),a.metadataURL&&b.appendChild(this.write_wmc_URLType("MetadataURL",a.metadataURL)),b},write_wmc_LayerExtension:function(a){var b=this.createElementDefaultNS("Extension"),c=a.maxExtent,d=this.createElementNS(this.namespaces.ol,"ol:maxExtent");this.setAttributes(d,{minx:c.left.toPrecision(18),miny:c.bottom.toPrecision(18),maxx:c.right.toPrecision(18),maxy:c.top.toPrecision(18)}),b.appendChild(d),a.tileSize&&!a.singleTile&&(c=this.createElementNS(this.namespaces.ol,"ol:tileSize"),this.setAttributes(c,a.tileSize),b.appendChild(c));for(var c="transparent numZoomLevels units isBaseLayer opacity displayInLayerSwitcher singleTile".split(" "),e=0,f=c.length;f>e;++e)(d=this.createOLPropertyNode(a,c[e]))&&b.appendChild(d);return b},createOLPropertyNode:function(a,b){var c=null;return null!=a[b]&&(c=this.createElementNS(this.namespaces.ol,"ol:"+b),c.appendChild(this.createTextNode(a[b].toString()))),c},write_wmc_Server:function(a){a=a.server;var b=this.createElementDefaultNS("Server"),c={service:"OGC:WMS",version:a.version};return a.title&&(c.title=a.title),this.setAttributes(b,c),b.appendChild(this.write_wmc_OnlineResource(a.url)),b},write_wmc_URLType:function(a,b,c){if(a=this.createElementDefaultNS(a),a.appendChild(this.write_wmc_OnlineResource(b)),c){b=["width","height","format"];for(var d=0;d<b.length;d++)b[d]in c&&a.setAttribute(b[d],c[b[d]])}return a},write_wmc_DimensionList:function(a){var b,c=this.createElementDefaultNS("DimensionList");for(b in a.dimensions){var d,e={},f=a.dimensions[b];for(d in f)e[d]="boolean"==typeof f[d]?Number(f[d]):f[d];f="",e.values&&(f=e.values.join(","),delete e.values),c.appendChild(this.createElementDefaultNS("Dimension",f,e))}return c},write_wmc_FormatList:function(a){for(var b=this.createElementDefaultNS("FormatList"),c=0,d=a.formats.length;d>c;c++){var e=a.formats[c];b.appendChild(this.createElementDefaultNS("Format",e.value,e.current&&1==e.current?{current:"1"}:null))}return b},write_wmc_StyleList:function(a){var b=this.createElementDefaultNS("StyleList");if((a=a.styles)&&OpenLayers.Util.isArray(a))for(var c,d=0,e=a.length;e>d;d++){var f=a[d],g=this.createElementDefaultNS("Style",null,f.current&&1==f.current?{current:"1"}:null);f.href?(c=this.createElementDefaultNS("SLD"),f.name&&c.appendChild(this.createElementDefaultNS("Name",f.name)),f.title&&c.appendChild(this.createElementDefaultNS("Title",f.title)),f.legend&&c.appendChild(this.write_wmc_URLType("LegendURL",f.legend.href,f.legend)),f=this.write_wmc_OnlineResource(f.href),c.appendChild(f),g.appendChild(c)):f.body?(c=this.createElementDefaultNS("SLD"),f.name&&c.appendChild(this.createElementDefaultNS("Name",f.name)),f.title&&c.appendChild(this.createElementDefaultNS("Title",f.title)),f.legend&&c.appendChild(this.write_wmc_URLType("LegendURL",f.legend.href,f.legend)),f=OpenLayers.Format.XML.prototype.read.apply(this,[f.body]).documentElement,c.ownerDocument&&c.ownerDocument.importNode&&(f=c.ownerDocument.importNode(f,!0)),c.appendChild(f),g.appendChild(c)):(g.appendChild(this.createElementDefaultNS("Name",f.name)),g.appendChild(this.createElementDefaultNS("Title",f.title)),f["abstract"]&&g.appendChild(this.createElementDefaultNS("Abstract",f["abstract"])),f.legend&&g.appendChild(this.write_wmc_URLType("LegendURL",f.legend.href,f.legend))),b.appendChild(g)}return b},write_wmc_OnlineResource:function(a){var b=this.createElementDefaultNS("OnlineResource");return this.setAttributeNS(b,this.namespaces.xlink,"xlink:type","simple"),this.setAttributeNS(b,this.namespaces.xlink,"xlink:href",a),b},getOnlineResource_href:function(a){var b={};return a=a.getElementsByTagName("OnlineResource"),0<a.length&&this.read_wmc_OnlineResource(b,a[0]),b.href},CLASS_NAME:"OpenLayers.Format.WMC.v1"}),OpenLayers.Control.PanPanel=OpenLayers.Class(OpenLayers.Control.Panel,{slideFactor:50,slideRatio:null,initialize:function(a){OpenLayers.Control.Panel.prototype.initialize.apply(this,[a]),a={slideFactor:this.slideFactor,slideRatio:this.slideRatio},this.addControls([new OpenLayers.Control.Pan(OpenLayers.Control.Pan.NORTH,a),new OpenLayers.Control.Pan(OpenLayers.Control.Pan.SOUTH,a),new OpenLayers.Control.Pan(OpenLayers.Control.Pan.EAST,a),new OpenLayers.Control.Pan(OpenLayers.Control.Pan.WEST,a)])},CLASS_NAME:"OpenLayers.Control.PanPanel"}),OpenLayers.Control.Attribution=OpenLayers.Class(OpenLayers.Control,{separator:", ",template:"${layers}",destroy:function(){this.map.events.un({removelayer:this.updateAttribution,addlayer:this.updateAttribution,changelayer:this.updateAttribution,changebaselayer:this.updateAttribution,scope:this}),OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.map.events.on({changebaselayer:this.updateAttribution,changelayer:this.updateAttribution,addlayer:this.updateAttribution,removelayer:this.updateAttribution,scope:this}),this.updateAttribution(),this.div},updateAttribution:function(){var a=[];if(this.map&&this.map.layers){for(var b=0,c=this.map.layers.length;c>b;b++){var d=this.map.layers[b];d.attribution&&d.getVisibility()&&-1===OpenLayers.Util.indexOf(a,d.attribution)&&a.push(d.attribution)}this.div.innerHTML=OpenLayers.String.format(this.template,{layers:a.join(this.separator)})}},CLASS_NAME:"OpenLayers.Control.Attribution"}),OpenLayers.Kinetic=OpenLayers.Class({threshold:0,deceleration:.0035,nbPoints:100,delay:200,points:void 0,timerId:void 0,initialize:function(a){OpenLayers.Util.extend(this,a)},begin:function(){OpenLayers.Animation.stop(this.timerId),this.timerId=void 0,this.points=[]},update:function(a){this.points.unshift({xy:a,tick:(new Date).getTime()}),this.points.length>this.nbPoints&&this.points.pop()},end:function(a){for(var b,c,d=(new Date).getTime(),e=0,f=this.points.length;f>e&&(c=this.points[e],!(d-c.tick>this.delay));e++)b=c;return!b||(e=(new Date).getTime()-b.tick,d=Math.sqrt(Math.pow(a.x-b.xy.x,2)+Math.pow(a.y-b.xy.y,2)),e=d/e,0==e||e<this.threshold)?void 0:(d=Math.asin((a.y-b.xy.y)/d),b.xy.x<=a.x&&(d=Math.PI-d),{speed:e,theta:d})},move:function(a,b){var c=a.speed,d=Math.cos(a.theta),e=-Math.sin(a.theta),f=(new Date).getTime(),g=0,h=0;this.timerId=OpenLayers.Animation.start(OpenLayers.Function.bind(function(){if(null!=this.timerId){var a,i,j=(new Date).getTime()-f,k=-this.deceleration*Math.pow(j,2)/2+c*j,l=k*d,k=k*e;a=!1,0>=-this.deceleration*j+c&&(OpenLayers.Animation.stop(this.timerId),this.timerId=null,a=!0),j=l-g,i=k-h,g=l,h=k,b(j,i,a)}},this))},CLASS_NAME:"OpenLayers.Kinetic"}),OpenLayers.Format.WPSExecute=OpenLayers.Class(OpenLayers.Format.XML,OpenLayers.Format.Filter.v1_1_0,{namespaces:{ows:"http://www.opengis.net/ows/1.1",gml:"http://www.opengis.net/gml",wps:"http://www.opengis.net/wps/1.0.0",wfs:"http://www.opengis.net/wfs",ogc:"http://www.opengis.net/ogc",wcs:"http://www.opengis.net/wcs",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",schemaLocationAttr:function(){},write:function(a){var b;return window.ActiveXObject?this.xmldom=b=new ActiveXObject("Microsoft.XMLDOM"):b=document.implementation.createDocument("","",null),a=this.writeNode("wps:Execute",a,b),this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},writers:{wps:{Execute:function(a){var b=this.createElementNSPlus("wps:Execute",{attributes:{version:this.VERSION,service:"WPS"}});return this.writeNode("ows:Identifier",a.identifier,b),this.writeNode("wps:DataInputs",a.dataInputs,b),this.writeNode("wps:ResponseForm",a.responseForm,b),b},ResponseForm:function(a){var b=this.createElementNSPlus("wps:ResponseForm",{});return a.rawDataOutput&&this.writeNode("wps:RawDataOutput",a.rawDataOutput,b),a.responseDocument&&this.writeNode("wps:ResponseDocument",a.responseDocument,b),b},ResponseDocument:function(a){var b=this.createElementNSPlus("wps:ResponseDocument",{attributes:{storeExecuteResponse:a.storeExecuteResponse,lineage:a.lineage,status:a.status}});if(a.outputs)for(var c=0,d=a.outputs.length;d>c;c++)this.writeNode("wps:Output",a.outputs[c],b);return b},Output:function(a){var b=this.createElementNSPlus("wps:Output",{attributes:{asReference:a.asReference,mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}});return this.writeNode("ows:Identifier",a.identifier,b),this.writeNode("ows:Title",a.title,b),this.writeNode("ows:Abstract",a["abstract"],b),b},RawDataOutput:function(a){var b=this.createElementNSPlus("wps:RawDataOutput",{attributes:{mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}});return this.writeNode("ows:Identifier",a.identifier,b),b},DataInputs:function(a){for(var b=this.createElementNSPlus("wps:DataInputs",{}),c=0,d=a.length;d>c;++c)this.writeNode("wps:Input",a[c],b);return b},Input:function(a){var b=this.createElementNSPlus("wps:Input",{});return this.writeNode("ows:Identifier",a.identifier,b),a.title&&this.writeNode("ows:Title",a.title,b),a.data&&this.writeNode("wps:Data",a.data,b),a.reference&&this.writeNode("wps:Reference",a.reference,b),a.boundingBoxData&&this.writeNode("wps:BoundingBoxData",a.boundingBoxData,b),b},Data:function(a){var b=this.createElementNSPlus("wps:Data",{});return a.literalData?this.writeNode("wps:LiteralData",a.literalData,b):a.complexData?this.writeNode("wps:ComplexData",a.complexData,b):a.boundingBoxData&&this.writeNode("ows:BoundingBox",a.boundingBoxData,b),b},LiteralData:function(a){return this.createElementNSPlus("wps:LiteralData",{attributes:{uom:a.uom},value:a.value})},ComplexData:function(a){var b=this.createElementNSPlus("wps:ComplexData",{attributes:{mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}}),c=a.value;return b.appendChild("string"==typeof c?this.getXMLDoc().createCDATASection(a.value):c),b},Reference:function(a){var b=this.createElementNSPlus("wps:Reference",{attributes:{mimeType:a.mimeType,"xlink:href":a.href,method:a.method,encoding:a.encoding,schema:a.schema}});return a.body&&this.writeNode("wps:Body",a.body,b),b},BoundingBoxData:function(a,b){this.writers.ows.BoundingBox.apply(this,[a,b,"wps:BoundingBoxData"])},Body:function(a){var b=this.createElementNSPlus("wps:Body",{});return a.wcs?this.writeNode("wcs:GetCoverage",a.wcs,b):a.wfs?(this.featureType=a.wfs.featureType,this.version=a.wfs.version,this.writeNode("wfs:GetFeature",a.wfs,b)):this.writeNode("wps:Execute",a,b),b}},wcs:OpenLayers.Format.WCSGetCoverage.prototype.writers.wcs,wfs:OpenLayers.Format.WFST.v1_1_0.prototype.writers.wfs,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc,ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows},readers:{wps:{ExecuteResponse:function(a,b){b.executeResponse={lang:a.getAttribute("lang"),statusLocation:a.getAttribute("statusLocation"),serviceInstance:a.getAttribute("serviceInstance"),service:a.getAttribute("service")},this.readChildNodes(a,b.executeResponse)},Process:function(a,b){b.process={},this.readChildNodes(a,b.process)},Status:function(a,b){b.status={creationTime:a.getAttribute("creationTime")},this.readChildNodes(a,b.status)},ProcessSucceeded:function(a,b){b.processSucceeded=!0},ProcessOutputs:function(a,b){b.processOutputs=[],this.readChildNodes(a,b.processOutputs)},Output:function(a,b){var c={};this.readChildNodes(a,c),b.push(c)},Reference:function(a,b){b.reference={href:a.getAttribute("href"),mimeType:a.getAttribute("mimeType"),encoding:a.getAttribute("encoding"),schema:a.getAttribute("schema")}},Data:function(a,b){b.data={},this.readChildNodes(a,b)},LiteralData:function(a,b){b.literalData={dataType:a.getAttribute("dataType"),uom:a.getAttribute("uom"),value:this.getChildValue(a)}},ComplexData:function(a,b){if(b.complexData={mimeType:a.getAttribute("mimeType"),schema:a.getAttribute("schema"),encoding:a.getAttribute("encoding"),value:""},this.isSimpleContent(a)){var c;for(c=a.firstChild;c;c=c.nextSibling)switch(c.nodeType){case 3:case 4:b.complexData.value+=c.nodeValue}}else for(c=a.firstChild;c;c=c.nextSibling)1==c.nodeType&&(b.complexData.value=c)},BoundingBox:function(a,b){b.boundingBoxData={dimensions:a.getAttribute("dimensions"),crs:a.getAttribute("crs")},this.readChildNodes(a,b.boundingBoxData)}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WPSExecute"}),OpenLayers.Layer.GeoRSS=OpenLayers.Class(OpenLayers.Layer.Markers,{location:null,features:null,formatOptions:null,selectedFeature:null,icon:null,popupSize:null,useFeedTitle:!0,initialize:function(a,b,c){OpenLayers.Layer.Markers.prototype.initialize.apply(this,[a,c]),this.location=b,this.features=[]},destroy:function(){OpenLayers.Layer.Markers.prototype.destroy.apply(this,arguments),this.clearFeatures(),this.features=null},loadRSS:function(){this.loaded||(this.events.triggerEvent("loadstart"),OpenLayers.Request.GET({url:this.location,success:this.parseData,scope:this}),this.loaded=!0)},moveTo:function(){OpenLayers.Layer.Markers.prototype.moveTo.apply(this,arguments),this.visibility&&!this.loaded&&this.loadRSS()},parseData:function(a){var b=a.responseXML;if(b&&b.documentElement||(b=OpenLayers.Format.XML.prototype.read(a.responseText)),this.useFeedTitle){a=null;try{a=b.getElementsByTagNameNS("*","title")[0].firstChild.nodeValue}catch(c){a=b.getElementsByTagName("title")[0].firstChild.nodeValue}a&&this.setName(a)}a={},OpenLayers.Util.extend(a,this.formatOptions),this.map&&!this.projection.equals(this.map.getProjectionObject())&&(a.externalProjection=this.projection,a.internalProjection=this.map.getProjectionObject()),b=new OpenLayers.Format.GeoRSS(a).read(b),a=0;for(var d=b.length;d>a;a++){var e={},f=b[a];if(f.geometry){var g=f.attributes.title?f.attributes.title:"Untitled",h=f.attributes.description?f.attributes.description:"No description.",i=f.attributes.link?f.attributes.link:"",f=f.geometry.getBounds().getCenterLonLat();if(e.icon=null==this.icon?OpenLayers.Marker.defaultIcon():this.icon.clone(),e.popupSize=this.popupSize?this.popupSize.clone():new OpenLayers.Size(250,120),g||h){e.title=g,e.description=h;var j='<div class="olLayerGeoRSSClose">[x]</div>',j=j+'<div class="olLayerGeoRSSTitle">';i&&(j+='<a class="link" href="'+i+'" target="_blank">'),j+=g,i&&(j+="</a>"),j+="</div>",j+='<div style="" class="olLayerGeoRSSDescription">',j+=h,j+="</div>",e.popupContentHTML=j}f=new OpenLayers.Feature(this,f,e),this.features.push(f),e=f.createMarker(),e.events.register("click",f,this.markerClick),this.addMarker(e)}}this.events.triggerEvent("loadend")},markerClick:function(a){var b=this==this.layer.selectedFeature;this.layer.selectedFeature=b?null:this;for(var c=0,d=this.layer.map.popups.length;d>c;c++)this.layer.map.removePopup(this.layer.map.popups[c]);b||(b=this.createPopup(),OpenLayers.Event.observe(b.div,"click",OpenLayers.Function.bind(function(){for(var a=0,b=this.layer.map.popups.length;b>a;a++)this.layer.map.removePopup(this.layer.map.popups[a])},this)),this.layer.map.addPopup(b)),OpenLayers.Event.stop(a)},clearFeatures:function(){if(null!=this.features)for(;0<this.features.length;){var a=this.features[0];OpenLayers.Util.removeItem(this.features,a),a.destroy()}},CLASS_NAME:"OpenLayers.Layer.GeoRSS"}),OpenLayers.Symbolizer.Point=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Point"}),OpenLayers.Symbolizer.Line=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Line"}),OpenLayers.Symbolizer.Text=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Text"}),OpenLayers.Format.SLD.v1=OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0,{namespaces:{sld:"http://www.opengis.net/sld",ogc:"http://www.opengis.net/ogc",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"sld",schemaLocation:null,multipleSymbolizers:!1,featureTypeCounter:null,defaultSymbolizer:{fillColor:"#808080",fillOpacity:1,strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,strokeDashstyle:"solid",pointRadius:3,graphicName:"square"},read:function(a,b){b=OpenLayers.Util.applyDefaults(b,this.options);var c={namedLayers:!0===b.namedLayersAsArray?[]:{}};return this.readChildNodes(a,c),c},readers:OpenLayers.Util.applyDefaults({sld:{StyledLayerDescriptor:function(a,b){b.version=a.getAttribute("version"),this.readChildNodes(a,b)},Name:function(a,b){b.name=this.getChildValue(a)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b.description=this.getChildValue(a)},NamedLayer:function(a,b){var c={userStyles:[],namedStyles:[]};this.readChildNodes(a,c);for(var d=0,e=c.userStyles.length;e>d;++d)c.userStyles[d].layerName=c.name;OpenLayers.Util.isArray(b.namedLayers)?b.namedLayers.push(c):b.namedLayers[c.name]=c},NamedStyle:function(a,b){b.namedStyles.push(this.getChildName(a.firstChild))},UserStyle:function(a,b){var c={defaultsPerSymbolizer:!0,rules:[]};this.featureTypeCounter=-1,this.readChildNodes(a,c),this.multipleSymbolizers?(delete c.defaultsPerSymbolizer,c=new OpenLayers.Style2(c)):c=new OpenLayers.Style(this.defaultSymbolizer,c),b.userStyles.push(c)},IsDefault:function(a,b){"1"==this.getChildValue(a)&&(b.isDefault=!0)},FeatureTypeStyle:function(a,b){++this.featureTypeCounter;var c={rules:this.multipleSymbolizers?b.rules:[]};this.readChildNodes(a,c),this.multipleSymbolizers||(b.rules=c.rules)},Rule:function(a,b){var c;this.multipleSymbolizers&&(c={symbolizers:[]}),c=new OpenLayers.Rule(c),this.readChildNodes(a,c),b.rules.push(c)},ElseFilter:function(a,b){b.elseFilter=!0},MinScaleDenominator:function(a,b){b.minScaleDenominator=parseFloat(this.getChildValue(a))},MaxScaleDenominator:function(a,b){b.maxScaleDenominator=parseFloat(this.getChildValue(a))},TextSymbolizer:function(a,b){var c={};this.readChildNodes(a,c),this.multipleSymbolizers?(c.zIndex=this.featureTypeCounter,b.symbolizers.push(new OpenLayers.Symbolizer.Text(c))):b.symbolizer.Text=OpenLayers.Util.applyDefaults(c,b.symbolizer.Text)},LabelPlacement:function(a,b){this.readChildNodes(a,b)},PointPlacement:function(a,b){var c={};this.readChildNodes(a,c),c.labelRotation=c.rotation,delete c.rotation;var d,e=b.labelAnchorPointX,f=b.labelAnchorPointY;1/3>=e?d="l":e>1/3&&2/3>e?d="c":e>=2/3&&(d="r"),1/3>=f?d+="b":f>1/3&&2/3>f?d+="m":f>=2/3&&(d+="t"),c.labelAlign=d,OpenLayers.Util.applyDefaults(b,c)},AnchorPoint:function(a,b){this.readChildNodes(a,b)},AnchorPointX:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.labelAnchorPointX=c)},AnchorPointY:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.labelAnchorPointY=c)},Displacement:function(a,b){this.readChildNodes(a,b)},DisplacementX:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.labelXOffset=c)},DisplacementY:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.labelYOffset=c)},LinePlacement:function(a,b){this.readChildNodes(a,b)},PerpendicularOffset:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.labelPerpendicularOffset=c)},Label:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.label=c)},Font:function(a,b){this.readChildNodes(a,b)},Halo:function(a,b){var c={};this.readChildNodes(a,c),b.haloRadius=c.haloRadius,b.haloColor=c.fillColor,b.haloOpacity=c.fillOpacity},Radius:function(a,b){var c=this.readers.ogc._expression.call(this,a);null!=c&&(b.haloRadius=c)},RasterSymbolizer:function(a,b){var c={};this.readChildNodes(a,c),this.multipleSymbolizers?(c.zIndex=this.featureTypeCounter,b.symbolizers.push(new OpenLayers.Symbolizer.Raster(c))):b.symbolizer.Raster=OpenLayers.Util.applyDefaults(c,b.symbolizer.Raster)},Geometry:function(a,b){b.geometry={},this.readChildNodes(a,b.geometry)},ColorMap:function(a,b){b.colorMap=[],this.readChildNodes(a,b.colorMap)
},ColorMapEntry:function(a,b){var c=a.getAttribute("quantity"),d=a.getAttribute("opacity");b.push({color:a.getAttribute("color"),quantity:null!==c?parseFloat(c):void 0,label:a.getAttribute("label")||void 0,opacity:null!==d?parseFloat(d):void 0})},LineSymbolizer:function(a,b){var c={};this.readChildNodes(a,c),this.multipleSymbolizers?(c.zIndex=this.featureTypeCounter,b.symbolizers.push(new OpenLayers.Symbolizer.Line(c))):b.symbolizer.Line=OpenLayers.Util.applyDefaults(c,b.symbolizer.Line)},PolygonSymbolizer:function(a,b){var c={fill:!1,stroke:!1};this.multipleSymbolizers||(c=b.symbolizer.Polygon||c),this.readChildNodes(a,c),this.multipleSymbolizers?(c.zIndex=this.featureTypeCounter,b.symbolizers.push(new OpenLayers.Symbolizer.Polygon(c))):b.symbolizer.Polygon=c},PointSymbolizer:function(a,b){var c={fill:!1,stroke:!1,graphic:!1};this.multipleSymbolizers||(c=b.symbolizer.Point||c),this.readChildNodes(a,c),this.multipleSymbolizers?(c.zIndex=this.featureTypeCounter,b.symbolizers.push(new OpenLayers.Symbolizer.Point(c))):b.symbolizer.Point=c},Stroke:function(a,b){b.stroke=!0,this.readChildNodes(a,b)},Fill:function(a,b){b.fill=!0,this.readChildNodes(a,b)},CssParameter:function(a,b){var c=a.getAttribute("name"),d=this.cssMap[c];b.label&&("fill"===c?d="fontColor":"fill-opacity"===c&&(d="fontOpacity")),d&&(c=this.readers.ogc._expression.call(this,a))&&(b[d]=c)},Graphic:function(a,b){b.graphic=!0;var c={};this.readChildNodes(a,c);for(var d,e,f="stroke strokeColor strokeWidth strokeOpacity strokeLinecap fill fillColor fillOpacity graphicName rotation graphicFormat".split(" "),g=0,h=f.length;h>g;++g)d=f[g],e=c[d],void 0!=e&&(b[d]=e);void 0!=c.opacity&&(b.graphicOpacity=c.opacity),void 0!=c.size&&(isNaN(c.size/2)?b.graphicWidth=c.size:b.pointRadius=c.size/2),void 0!=c.href&&(b.externalGraphic=c.href),void 0!=c.rotation&&(b.rotation=c.rotation)},ExternalGraphic:function(a,b){this.readChildNodes(a,b)},Mark:function(a,b){this.readChildNodes(a,b)},WellKnownName:function(a,b){b.graphicName=this.getChildValue(a)},Opacity:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.opacity=c)},Size:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.size=c)},Rotation:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.rotation=c)},OnlineResource:function(a,b){b.href=this.getAttributeNS(a,this.namespaces.xlink,"href")},Format:function(a,b){b.graphicFormat=this.getChildValue(a)}}},OpenLayers.Format.Filter.v1_0_0.prototype.readers),cssMap:{stroke:"strokeColor","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","stroke-linecap":"strokeLinecap","stroke-dasharray":"strokeDashstyle",fill:"fillColor","fill-opacity":"fillOpacity","font-family":"fontFamily","font-size":"fontSize","font-weight":"fontWeight","font-style":"fontStyle"},getCssProperty:function(a){var b,c=null;for(b in this.cssMap)if(this.cssMap[b]==a){c=b;break}return c},getGraphicFormat:function(a){var b,c;for(c in this.graphicFormats)if(this.graphicFormats[c].test(a)){b=c;break}return b||this.defaultGraphicFormat},defaultGraphicFormat:"image/png",graphicFormats:{"image/jpeg":/\.jpe?g$/i,"image/gif":/\.gif$/i,"image/png":/\.png$/i},write:function(a){return this.writers.sld.StyledLayerDescriptor.apply(this,[a])},writers:OpenLayers.Util.applyDefaults({sld:{_OGCExpression:function(a,b){var c=this.createElementNSPlus(a),d="string"==typeof b?b.split("${"):[b];c.appendChild(this.createTextNode(d[0]));for(var e,f,g=1,h=d.length;h>g;g++)e=d[g],f=e.indexOf("}"),f>0?(this.writeNode("ogc:PropertyName",{property:e.substring(0,f)},c),c.appendChild(this.createTextNode(e.substring(++f)))):c.appendChild(this.createTextNode("${"+e));return c},StyledLayerDescriptor:function(a){var b=this.createElementNSPlus("sld:StyledLayerDescriptor",{attributes:{version:this.VERSION,"xsi:schemaLocation":this.schemaLocation}});if(b.setAttribute("xmlns:ogc",this.namespaces.ogc),b.setAttribute("xmlns:gml",this.namespaces.gml),a.name&&this.writeNode("Name",a.name,b),a.title&&this.writeNode("Title",a.title,b),a.description&&this.writeNode("Abstract",a.description,b),OpenLayers.Util.isArray(a.namedLayers))for(var c=0,d=a.namedLayers.length;d>c;++c)this.writeNode("NamedLayer",a.namedLayers[c],b);else for(c in a.namedLayers)this.writeNode("NamedLayer",a.namedLayers[c],b);return b},Name:function(a){return this.createElementNSPlus("sld:Name",{value:a})},Title:function(a){return this.createElementNSPlus("sld:Title",{value:a})},Abstract:function(a){return this.createElementNSPlus("sld:Abstract",{value:a})},NamedLayer:function(a){var b=this.createElementNSPlus("sld:NamedLayer");if(this.writeNode("Name",a.name,b),a.namedStyles)for(var c=0,d=a.namedStyles.length;d>c;++c)this.writeNode("NamedStyle",a.namedStyles[c],b);if(a.userStyles)for(c=0,d=a.userStyles.length;d>c;++c)this.writeNode("UserStyle",a.userStyles[c],b);return b},NamedStyle:function(a){var b=this.createElementNSPlus("sld:NamedStyle");return this.writeNode("Name",a,b),b},UserStyle:function(a){var b=this.createElementNSPlus("sld:UserStyle");if(a.name&&this.writeNode("Name",a.name,b),a.title&&this.writeNode("Title",a.title,b),a.description&&this.writeNode("Abstract",a.description,b),a.isDefault&&this.writeNode("IsDefault",a.isDefault,b),this.multipleSymbolizers&&a.rules){for(var c,d,e,f,g,h={0:[]},i=[0],j=0,k=a.rules.length;k>j;++j)if(c=a.rules[j],c.symbolizers){d={};for(var l=0,m=c.symbolizers.length;m>l;++l)e=c.symbolizers[l],f=e.zIndex,f in d||(g=c.clone(),g.symbolizers=[],d[f]=g),d[f].symbolizers.push(e.clone());for(f in d)f in h||(i.push(f),h[f]=[]),h[f].push(d[f])}else h[0].push(c.clone());for(i.sort(),j=0,k=i.length;k>j;++j)c=h[i[j]],0<c.length&&(g=a.clone(),g.rules=h[i[j]],this.writeNode("FeatureTypeStyle",g,b))}else this.writeNode("FeatureTypeStyle",a,b);return b},IsDefault:function(a){return this.createElementNSPlus("sld:IsDefault",{value:a?"1":"0"})},FeatureTypeStyle:function(a){for(var b=this.createElementNSPlus("sld:FeatureTypeStyle"),c=0,d=a.rules.length;d>c;++c)this.writeNode("Rule",a.rules[c],b);return b},Rule:function(a){var b=this.createElementNSPlus("sld:Rule");a.name&&this.writeNode("Name",a.name,b),a.title&&this.writeNode("Title",a.title,b),a.description&&this.writeNode("Abstract",a.description,b),a.elseFilter?this.writeNode("ElseFilter",null,b):a.filter&&this.writeNode("ogc:Filter",a.filter,b),void 0!=a.minScaleDenominator&&this.writeNode("MinScaleDenominator",a.minScaleDenominator,b),void 0!=a.maxScaleDenominator&&this.writeNode("MaxScaleDenominator",a.maxScaleDenominator,b);var c,d;if(this.multipleSymbolizers&&a.symbolizers)for(var e=0,f=a.symbolizers.length;f>e;++e)d=a.symbolizers[e],c=d.CLASS_NAME.split(".").pop(),this.writeNode(c+"Symbolizer",d,b);else for(var f=OpenLayers.Style.SYMBOLIZER_PREFIXES,e=0,g=f.length;g>e;++e)c=f[e],(d=a.symbolizer[c])&&this.writeNode(c+"Symbolizer",d,b);return b},ElseFilter:function(){return this.createElementNSPlus("sld:ElseFilter")},MinScaleDenominator:function(a){return this.createElementNSPlus("sld:MinScaleDenominator",{value:a})},MaxScaleDenominator:function(a){return this.createElementNSPlus("sld:MaxScaleDenominator",{value:a})},LineSymbolizer:function(a){var b=this.createElementNSPlus("sld:LineSymbolizer");return this.writeNode("Stroke",a,b),b},Stroke:function(a){var b=this.createElementNSPlus("sld:Stroke");return void 0!=a.strokeColor&&this.writeNode("CssParameter",{symbolizer:a,key:"strokeColor"},b),void 0!=a.strokeOpacity&&this.writeNode("CssParameter",{symbolizer:a,key:"strokeOpacity"},b),void 0!=a.strokeWidth&&this.writeNode("CssParameter",{symbolizer:a,key:"strokeWidth"},b),void 0!=a.strokeDashstyle&&"solid"!==a.strokeDashstyle&&this.writeNode("CssParameter",{symbolizer:a,key:"strokeDashstyle"},b),void 0!=a.strokeLinecap&&this.writeNode("CssParameter",{symbolizer:a,key:"strokeLinecap"},b),b},CssParameter:function(a){return this.createElementNSPlus("sld:CssParameter",{attributes:{name:this.getCssProperty(a.key)},value:a.symbolizer[a.key]})},TextSymbolizer:function(a){var b=this.createElementNSPlus("sld:TextSymbolizer");return null!=a.label&&this.writeNode("Label",a.label,b),null==a.fontFamily&&null==a.fontSize&&null==a.fontWeight&&null==a.fontStyle||this.writeNode("Font",a,b),null==a.labelAnchorPointX&&null==a.labelAnchorPointY&&null==a.labelAlign&&null==a.labelXOffset&&null==a.labelYOffset&&null==a.labelRotation&&null==a.labelPerpendicularOffset||this.writeNode("LabelPlacement",a,b),null==a.haloRadius&&null==a.haloColor&&null==a.haloOpacity||this.writeNode("Halo",a,b),null==a.fontColor&&null==a.fontOpacity||this.writeNode("Fill",{fillColor:a.fontColor,fillOpacity:a.fontOpacity},b),b},LabelPlacement:function(a){var b=this.createElementNSPlus("sld:LabelPlacement");return null==a.labelAnchorPointX&&null==a.labelAnchorPointY&&null==a.labelAlign&&null==a.labelXOffset&&null==a.labelYOffset&&null==a.labelRotation||null!=a.labelPerpendicularOffset||this.writeNode("PointPlacement",a,b),null!=a.labelPerpendicularOffset&&this.writeNode("LinePlacement",a,b),b},LinePlacement:function(a){var b=this.createElementNSPlus("sld:LinePlacement");return this.writeNode("PerpendicularOffset",a.labelPerpendicularOffset,b),b},PerpendicularOffset:function(a){return this.createElementNSPlus("sld:PerpendicularOffset",{value:a})},PointPlacement:function(a){var b=this.createElementNSPlus("sld:PointPlacement");return null==a.labelAnchorPointX&&null==a.labelAnchorPointY&&null==a.labelAlign||this.writeNode("AnchorPoint",a,b),null==a.labelXOffset&&null==a.labelYOffset||this.writeNode("Displacement",a,b),null!=a.labelRotation&&this.writeNode("Rotation",a.labelRotation,b),b},AnchorPoint:function(a){var b=this.createElementNSPlus("sld:AnchorPoint"),c=a.labelAnchorPointX,d=a.labelAnchorPointY;if(null!=c&&this.writeNode("AnchorPointX",c,b),null!=d&&this.writeNode("AnchorPointY",d,b),null==c&&null==d){var e=a.labelAlign.substr(0,1);a=a.labelAlign.substr(1,1),"l"===e?c=0:"c"===e?c=.5:"r"===e&&(c=1),"b"===a?d=0:"m"===a?d=.5:"t"===a&&(d=1),this.writeNode("AnchorPointX",c,b),this.writeNode("AnchorPointY",d,b)}return b},AnchorPointX:function(a){return this.createElementNSPlus("sld:AnchorPointX",{value:a})},AnchorPointY:function(a){return this.createElementNSPlus("sld:AnchorPointY",{value:a})},Displacement:function(a){var b=this.createElementNSPlus("sld:Displacement");return null!=a.labelXOffset&&this.writeNode("DisplacementX",a.labelXOffset,b),null!=a.labelYOffset&&this.writeNode("DisplacementY",a.labelYOffset,b),b},DisplacementX:function(a){return this.createElementNSPlus("sld:DisplacementX",{value:a})},DisplacementY:function(a){return this.createElementNSPlus("sld:DisplacementY",{value:a})},Font:function(a){var b=this.createElementNSPlus("sld:Font");return a.fontFamily&&this.writeNode("CssParameter",{symbolizer:a,key:"fontFamily"},b),a.fontSize&&this.writeNode("CssParameter",{symbolizer:a,key:"fontSize"},b),a.fontWeight&&this.writeNode("CssParameter",{symbolizer:a,key:"fontWeight"},b),a.fontStyle&&this.writeNode("CssParameter",{symbolizer:a,key:"fontStyle"},b),b},Label:function(a){return this.writers.sld._OGCExpression.call(this,"sld:Label",a)},Halo:function(a){var b=this.createElementNSPlus("sld:Halo");return a.haloRadius&&this.writeNode("Radius",a.haloRadius,b),(a.haloColor||a.haloOpacity)&&this.writeNode("Fill",{fillColor:a.haloColor,fillOpacity:a.haloOpacity},b),b},Radius:function(a){return this.createElementNSPlus("sld:Radius",{value:a})},RasterSymbolizer:function(a){var b=this.createElementNSPlus("sld:RasterSymbolizer");return a.geometry&&this.writeNode("Geometry",a.geometry,b),a.opacity&&this.writeNode("Opacity",a.opacity,b),a.colorMap&&this.writeNode("ColorMap",a.colorMap,b),b},Geometry:function(a){var b=this.createElementNSPlus("sld:Geometry");return a.property&&this.writeNode("ogc:PropertyName",a,b),b},ColorMap:function(a){for(var b=this.createElementNSPlus("sld:ColorMap"),c=0,d=a.length;d>c;++c)this.writeNode("ColorMapEntry",a[c],b);return b},ColorMapEntry:function(a){var b=this.createElementNSPlus("sld:ColorMapEntry");return b.setAttribute("color",a.color),void 0!==a.opacity&&b.setAttribute("opacity",parseFloat(a.opacity)),void 0!==a.quantity&&b.setAttribute("quantity",parseFloat(a.quantity)),void 0!==a.label&&b.setAttribute("label",a.label),b},PolygonSymbolizer:function(a){var b=this.createElementNSPlus("sld:PolygonSymbolizer");return!1!==a.fill&&this.writeNode("Fill",a,b),!1!==a.stroke&&this.writeNode("Stroke",a,b),b},Fill:function(a){var b=this.createElementNSPlus("sld:Fill");return a.fillColor&&this.writeNode("CssParameter",{symbolizer:a,key:"fillColor"},b),null!=a.fillOpacity&&this.writeNode("CssParameter",{symbolizer:a,key:"fillOpacity"},b),b},PointSymbolizer:function(a){var b=this.createElementNSPlus("sld:PointSymbolizer");return this.writeNode("Graphic",a,b),b},Graphic:function(a){var b=this.createElementNSPlus("sld:Graphic");return void 0!=a.externalGraphic?this.writeNode("ExternalGraphic",a,b):this.writeNode("Mark",a,b),void 0!=a.graphicOpacity&&this.writeNode("Opacity",a.graphicOpacity,b),void 0!=a.pointRadius?this.writeNode("Size",2*a.pointRadius,b):void 0!=a.graphicWidth&&this.writeNode("Size",a.graphicWidth,b),void 0!=a.rotation&&this.writeNode("Rotation",a.rotation,b),b},ExternalGraphic:function(a){var b=this.createElementNSPlus("sld:ExternalGraphic");return this.writeNode("OnlineResource",a.externalGraphic,b),a=a.graphicFormat||this.getGraphicFormat(a.externalGraphic),this.writeNode("Format",a,b),b},Mark:function(a){var b=this.createElementNSPlus("sld:Mark");return a.graphicName&&this.writeNode("WellKnownName",a.graphicName,b),!1!==a.fill&&this.writeNode("Fill",a,b),!1!==a.stroke&&this.writeNode("Stroke",a,b),b},WellKnownName:function(a){return this.createElementNSPlus("sld:WellKnownName",{value:a})},Opacity:function(a){return this.createElementNSPlus("sld:Opacity",{value:a})},Size:function(a){return this.writers.sld._OGCExpression.call(this,"sld:Size",a)},Rotation:function(a){return this.createElementNSPlus("sld:Rotation",{value:a})},OnlineResource:function(a){return this.createElementNSPlus("sld:OnlineResource",{attributes:{"xlink:type":"simple","xlink:href":a}})},Format:function(a){return this.createElementNSPlus("sld:Format",{value:a})}}},OpenLayers.Format.Filter.v1_0_0.prototype.writers),CLASS_NAME:"OpenLayers.Format.SLD.v1"}),OpenLayers.Layer.WMS=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"},isBaseLayer:!0,encodeBBOX:!1,noMagic:!1,yx:{},initialize:function(a,b,c,d){var e=[];c=OpenLayers.Util.upperCaseObject(c),1.3<=parseFloat(c.VERSION)&&!c.EXCEPTIONS&&(c.EXCEPTIONS="INIMAGE"),e.push(a,b,c,d),OpenLayers.Layer.Grid.prototype.initialize.apply(this,e),OpenLayers.Util.applyDefaults(this.params,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS)),!this.noMagic&&this.params.TRANSPARENT&&"true"==this.params.TRANSPARENT.toString().toLowerCase()&&(null!=d&&d.isBaseLayer||(this.isBaseLayer=!1),"image/jpeg"==this.params.FORMAT&&(this.params.FORMAT=OpenLayers.Util.alphaHack()?"image/gif":"image/png"))},clone:function(a){return null==a&&(a=new OpenLayers.Layer.WMS(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},reverseAxisOrder:function(){var a=this.projection.getCode();return 1.3<=parseFloat(this.params.VERSION)&&!!(this.yx[a]||OpenLayers.Projection.defaults[a]&&OpenLayers.Projection.defaults[a].yx)},getURL:function(a){a=this.adjustBounds(a);var b=this.getImageSize(),c={},d=this.reverseAxisOrder();return c.BBOX=this.encodeBBOX?a.toBBOX(null,d):a.toArray(d),c.WIDTH=b.w,c.HEIGHT=b.h,this.getFullRequestString(c)},mergeNewParams:function(a){return a=[OpenLayers.Util.upperCaseObject(a)],OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,a)},getFullRequestString:function(a){var b=this.map.getProjectionObject(),b=this.projection&&this.projection.equals(b)?this.projection.getCode():b.getCode(),b="none"==b?null:b;return 1.3<=parseFloat(this.params.VERSION)?this.params.CRS=b:this.params.SRS=b,"boolean"==typeof this.params.TRANSPARENT&&(a.TRANSPARENT=this.params.TRANSPARENT?"TRUE":"FALSE"),OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)},CLASS_NAME:"OpenLayers.Layer.WMS"}),OpenLayers.Layer.KaMap=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:!0,DEFAULT_PARAMS:{i:"jpeg",map:""},initialize:function(){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments),this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS)},getURL:function(a){a=this.adjustBounds(a);var b=this.map.getResolution(),c=Math.round(1e4*this.map.getScale())/1e4,d=Math.round(a.left/b);return a=-Math.round(a.top/b),this.getFullRequestString({t:a,l:d,s:c})},calculateGridLayout:function(a,b,c){return b=c*this.tileSize.w,c*=this.tileSize.h,{tilelon:b,tilelat:c,startcol:Math.floor(a.left/b)-this.buffer,startrow:Math.floor(a.top/c)+this.buffer}},getTileBoundsForGridIndex:function(a,b){this.getTileOrigin();var c=this.gridLayout,d=c.tilelon,e=c.tilelat,f=(c.startcol+b)*d,c=(c.startrow-a)*e;return new OpenLayers.Bounds(f,c,f+d,c+e)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.KaMap(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]),null!=this.tileSize&&(a.tileSize=this.tileSize.clone()),a.grid=[],a},getTileBounds:function(a){var b=this.getResolution(),c=b*this.tileSize.w,b=b*this.tileSize.h,d=this.getLonLatFromViewPortPx(a);return a=c*Math.floor(d.lon/c),d=b*Math.floor(d.lat/b),new OpenLayers.Bounds(a,d,a+c,d+b)},CLASS_NAME:"OpenLayers.Layer.KaMap"}),OpenLayers.Format.WMC.v1_1_0=OpenLayers.Class(OpenLayers.Format.WMC.v1,{VERSION:"1.1.0",schemaLocation:"http://www.opengis.net/context http://schemas.opengis.net/context/1.1.0/context.xsd",initialize:function(a){OpenLayers.Format.WMC.v1.prototype.initialize.apply(this,[a])},read_sld_MinScaleDenominator:function(a,b){var c=parseFloat(this.getChildValue(b));c>0&&(a.maxScale=c)},read_sld_MaxScaleDenominator:function(a,b){a.minScale=parseFloat(this.getChildValue(b))},read_wmc_SRS:function(a,b){"srs"in a||(a.srs={}),a.srs[this.getChildValue(b)]=!0},write_wmc_Layer:function(a){var b=OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this,[a]);if(a.maxScale){var c=this.createElementNS(this.namespaces.sld,"sld:MinScaleDenominator");c.appendChild(this.createTextNode(a.maxScale.toPrecision(16))),b.appendChild(c)}if(a.minScale&&(c=this.createElementNS(this.namespaces.sld,"sld:MaxScaleDenominator"),c.appendChild(this.createTextNode(a.minScale.toPrecision(16))),b.appendChild(c)),a.srs)for(var d in a.srs)b.appendChild(this.createElementDefaultNS("SRS",d));return b.appendChild(this.write_wmc_FormatList(a)),b.appendChild(this.write_wmc_StyleList(a)),a.dimensions&&b.appendChild(this.write_wmc_DimensionList(a)),b.appendChild(this.write_wmc_LayerExtension(a)),b},CLASS_NAME:"OpenLayers.Format.WMC.v1_1_0"}),OpenLayers.Format.XLS=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.0",stringifyOutput:!0,CLASS_NAME:"OpenLayers.Format.XLS"}),OpenLayers.Format.XLS.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xls:"http://www.opengis.net/xls",gml:"http://www.opengis.net/gml",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},xy:!0,defaultPrefix:"xls",schemaLocation:null,read:function(a,b){OpenLayers.Util.applyDefaults(b,this.options);var c={};return this.readChildNodes(a,c),c},readers:{xls:{XLS:function(a,b){b.version=a.getAttribute("version"),this.readChildNodes(a,b)},Response:function(a,b){this.readChildNodes(a,b)},GeocodeResponse:function(a,b){b.responseLists=[],this.readChildNodes(a,b)},GeocodeResponseList:function(a,b){var c={features:[],numberOfGeocodedAddresses:parseInt(a.getAttribute("numberOfGeocodedAddresses"))};b.responseLists.push(c),this.readChildNodes(a,c)},GeocodedAddress:function(a,b){var c=new OpenLayers.Feature.Vector;b.features.push(c),this.readChildNodes(a,c),c.geometry=c.components[0]},GeocodeMatchCode:function(a,b){b.attributes.matchCode={accuracy:parseFloat(a.getAttribute("accuracy")),matchType:a.getAttribute("matchType")}},Address:function(a,b){var c={countryCode:a.getAttribute("countryCode"),addressee:a.getAttribute("addressee"),street:[],place:[]};b.attributes.address=c,this.readChildNodes(a,c)},freeFormAddress:function(a,b){b.freeFormAddress=this.getChildValue(a)},StreetAddress:function(a,b){this.readChildNodes(a,b)},Building:function(a,b){b.building={number:a.getAttribute("number"),subdivision:a.getAttribute("subdivision"),buildingName:a.getAttribute("buildingName")}},Street:function(a,b){b.street.push(this.getChildValue(a))},Place:function(a,b){b.place[a.getAttribute("type")]=this.getChildValue(a)},PostalCode:function(a,b){b.postalCode=this.getChildValue(a)}},gml:OpenLayers.Format.GML.v3.prototype.readers.gml},write:function(a){return this.writers.xls.XLS.apply(this,[a])},writers:{xls:{XLS:function(a){var b=this.createElementNSPlus("xls:XLS",{attributes:{version:this.VERSION,"xsi:schemaLocation":this.schemaLocation}});return this.writeNode("RequestHeader",a.header,b),this.writeNode("Request",a,b),b},RequestHeader:function(){return this.createElementNSPlus("xls:RequestHeader")},Request:function(a){var b=this.createElementNSPlus("xls:Request",{attributes:{methodName:"GeocodeRequest",requestID:a.requestID||"",version:this.VERSION}});return this.writeNode("GeocodeRequest",a.addresses,b),b},GeocodeRequest:function(a){for(var b=this.createElementNSPlus("xls:GeocodeRequest"),c=0,d=a.length;d>c;c++)this.writeNode("Address",a[c],b);return b},Address:function(a){var b=this.createElementNSPlus("xls:Address",{attributes:{countryCode:a.countryCode}});return a.freeFormAddress?this.writeNode("freeFormAddress",a.freeFormAddress,b):(a.street&&this.writeNode("StreetAddress",a,b),a.municipality&&this.writeNode("Municipality",a.municipality,b),a.countrySubdivision&&this.writeNode("CountrySubdivision",a.countrySubdivision,b),a.postalCode&&this.writeNode("PostalCode",a.postalCode,b)),b},freeFormAddress:function(a){return this.createElementNSPlus("freeFormAddress",{value:a})},StreetAddress:function(a){var b=this.createElementNSPlus("xls:StreetAddress");a.building&&this.writeNode(b,"Building",a.building),a=a.street,OpenLayers.Util.isArray(a)||(a=[a]);for(var c=0,d=a.length;d>c;c++)this.writeNode("Street",a[c],b);return b},Building:function(a){return this.createElementNSPlus("xls:Building",{attributes:{number:a.number,subdivision:a.subdivision,buildingName:a.buildingName}})},Street:function(a){return this.createElementNSPlus("xls:Street",{value:a})},Municipality:function(a){return this.createElementNSPlus("xls:Place",{attributes:{type:"Municipality"},value:a})},CountrySubdivision:function(a){return this.createElementNSPlus("xls:Place",{attributes:{type:"CountrySubdivision"},value:a})},PostalCode:function(a){return this.createElementNSPlus("xls:PostalCode",{value:a})}}},CLASS_NAME:"OpenLayers.Format.XLS.v1"}),OpenLayers.Format.XLS.v1_1_0=OpenLayers.Class(OpenLayers.Format.XLS.v1,{VERSION:"1.1",schemaLocation:"http://www.opengis.net/xls http://schemas.opengis.net/ols/1.1.0/LocationUtilityService.xsd",CLASS_NAME:"OpenLayers.Format.XLS.v1_1_0"}),OpenLayers.Format.XLS.v1_1=OpenLayers.Format.XLS.v1_1_0,OpenLayers.Renderer.SVG=OpenLayers.Class(OpenLayers.Renderer.Elements,{xmlns:"http://www.w3.org/2000/svg",xlinkns:"http://www.w3.org/1999/xlink",MAX_PIXEL:15e3,translationParameters:null,symbolMetrics:null,initialize:function(){this.supported()&&(OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments),this.translationParameters={x:0,y:0},this.symbolMetrics={})},supported:function(){return document.implementation&&(document.implementation.hasFeature("org.w3c.svg","1.0")||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#SVG","1.1")||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))},inValidRange:function(a,b,c){return a+=c?0:this.translationParameters.x,b+=c?0:this.translationParameters.y,a>=-this.MAX_PIXEL&&a<=this.MAX_PIXEL&&b>=-this.MAX_PIXEL&&b<=this.MAX_PIXEL},setExtent:function(a,b){var c=OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments),d=this.getResolution(),e=-a.left/d,d=a.top/d;return b?(this.left=e,this.top=d,this.rendererRoot.setAttributeNS(null,"viewBox","0 0 "+this.size.w+" "+this.size.h),this.translate(this.xOffset,0),!0):((e=this.translate(e-this.left+this.xOffset,d-this.top))||this.setExtent(a,!0),c&&e)},translate:function(a,b){if(this.inValidRange(a,b,!0)){var c="";return(a||b)&&(c="translate("+a+","+b+")"),this.root.setAttributeNS(null,"transform",c),this.translationParameters={x:a,y:b},!0}return!1},setSize:function(){OpenLayers.Renderer.prototype.setSize.apply(this,arguments),this.rendererRoot.setAttributeNS(null,"width",this.size.w),this.rendererRoot.setAttributeNS(null,"height",this.size.h)},getNodeType:function(a,b){var c=null;switch(a.CLASS_NAME){case"OpenLayers.Geometry.Point":c=b.externalGraphic?"image":this.isComplexSymbol(b.graphicName)?"svg":"circle";break;case"OpenLayers.Geometry.Rectangle":c="rect";break;case"OpenLayers.Geometry.LineString":c="polyline";break;case"OpenLayers.Geometry.LinearRing":c="polygon";break;case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":c="path"}return c},setStyle:function(a,b,c){b=b||a._style,c=c||a._options;var d=b.title||b.graphicTitle;if(d){a.setAttributeNS(null,"title",d);var e=a.getElementsByTagName("title");0<e.length?e[0].firstChild.textContent=d:(e=this.nodeFactory(null,"title"),e.textContent=d,a.appendChild(e))}var f,e=parseFloat(a.getAttributeNS(null,"r")),d=1;if("OpenLayers.Geometry.Point"==a._geometryClass&&e){if(a.style.visibility="",!1===b.graphic)a.style.visibility="hidden";else if(b.externalGraphic){f=this.getPosition(a),b.graphicWidth&&b.graphicHeight&&a.setAttributeNS(null,"preserveAspectRatio","none");var e=b.graphicWidth||b.graphicHeight,g=b.graphicHeight||b.graphicWidth,e=e?e:2*b.pointRadius,g=g?g:2*b.pointRadius,h=void 0!=b.graphicYOffset?b.graphicYOffset:-(.5*g),i=b.graphicOpacity||b.fillOpacity;a.setAttributeNS(null,"x",(f.x+(void 0!=b.graphicXOffset?b.graphicXOffset:-(.5*e))).toFixed()),a.setAttributeNS(null,"y",(f.y+h).toFixed()),a.setAttributeNS(null,"width",e),a.setAttributeNS(null,"height",g),a.setAttributeNS(this.xlinkns,"xlink:href",b.externalGraphic),a.setAttributeNS(null,"style","opacity: "+i),a.onclick=OpenLayers.Event.preventDefault}else if(this.isComplexSymbol(b.graphicName)){var e=3*b.pointRadius,g=2*e,j=this.importSymbol(b.graphicName);f=this.getPosition(a),d=3*this.symbolMetrics[j.id][0]/g,h=a.parentNode,i=a.nextSibling,h&&h.removeChild(a),a.firstChild&&a.removeChild(a.firstChild),a.appendChild(j.firstChild.cloneNode(!0)),a.setAttributeNS(null,"viewBox",j.getAttributeNS(null,"viewBox")),a.setAttributeNS(null,"width",g),a.setAttributeNS(null,"height",g),a.setAttributeNS(null,"x",f.x-e),a.setAttributeNS(null,"y",f.y-e),i?h.insertBefore(a,i):h&&h.appendChild(a)}else a.setAttributeNS(null,"r",b.pointRadius);e=b.rotation,void 0===e&&void 0===a._rotation||!f||(a._rotation=e,e|=0,"svg"!==a.nodeName?a.setAttributeNS(null,"transform","rotate("+e+" "+f.x+" "+f.y+")"):(f=this.symbolMetrics[j.id],a.firstChild.setAttributeNS(null,"transform","rotate("+e+" "+f[1]+" "+f[2]+")")))}return c.isFilled?(a.setAttributeNS(null,"fill",b.fillColor),a.setAttributeNS(null,"fill-opacity",b.fillOpacity)):a.setAttributeNS(null,"fill","none"),c.isStroked?(a.setAttributeNS(null,"stroke",b.strokeColor),a.setAttributeNS(null,"stroke-opacity",b.strokeOpacity),a.setAttributeNS(null,"stroke-width",b.strokeWidth*d),a.setAttributeNS(null,"stroke-linecap",b.strokeLinecap||"round"),a.setAttributeNS(null,"stroke-linejoin","round"),b.strokeDashstyle&&a.setAttributeNS(null,"stroke-dasharray",this.dashStyle(b,d))):a.setAttributeNS(null,"stroke","none"),b.pointerEvents&&a.setAttributeNS(null,"pointer-events",b.pointerEvents),null!=b.cursor&&a.setAttributeNS(null,"cursor",b.cursor),a},dashStyle:function(a,b){var c=a.strokeWidth*b,d=a.strokeDashstyle;switch(d){case"solid":return"none";case"dot":return[1,4*c].join();case"dash":return[4*c,4*c].join();case"dashdot":return[4*c,4*c,1,4*c].join();case"longdash":return[8*c,4*c].join();case"longdashdot":return[8*c,4*c,1,4*c].join();default:return OpenLayers.String.trim(d).replace(/\s+/g,",")}},createNode:function(a,b){var c=document.createElementNS(this.xmlns,a);return b&&c.setAttributeNS(null,"id",b),c},nodeTypeCompare:function(a,b){return b==a.nodeName},createRenderRoot:function(){var a=this.nodeFactory(this.container.id+"_svgRoot","svg");return a.style.display="block",a},createRoot:function(a){return this.nodeFactory(this.container.id+a,"g")},createDefs:function(){var a=this.nodeFactory(this.container.id+"_defs","defs");return this.rendererRoot.appendChild(a),a},drawPoint:function(a,b){return this.drawCircle(a,b,1)},drawCircle:function(a,b,c){var d=this.getResolution(),e=(b.x-this.featureDx)/d+this.left;return b=this.top-b.y/d,this.inValidRange(e,b)?(a.setAttributeNS(null,"cx",e),a.setAttributeNS(null,"cy",b),a.setAttributeNS(null,"r",c),a):!1},drawLineString:function(a,b){var c=this.getComponentsString(b.components);return c.path?(a.setAttributeNS(null,"points",c.path),c.complete?a:null):!1},drawLinearRing:function(a,b){var c=this.getComponentsString(b.components);return c.path?(a.setAttributeNS(null,"points",c.path),c.complete?a:null):!1},drawPolygon:function(a,b){for(var c,d,e="",f=!0,g=!0,h=0,i=b.components.length;i>h;h++)e+=" M",c=this.getComponentsString(b.components[h].components," "),(d=c.path)?(e+=" "+d,g=c.complete&&g):f=!1;return f?(a.setAttributeNS(null,"d",e+" z"),a.setAttributeNS(null,"fill-rule","evenodd"),g?a:null):!1},drawRectangle:function(a,b){var c=this.getResolution(),d=(b.x-this.featureDx)/c+this.left,e=this.top-b.y/c;return this.inValidRange(d,e)?(a.setAttributeNS(null,"x",d),a.setAttributeNS(null,"y",e),a.setAttributeNS(null,"width",b.width/c),a.setAttributeNS(null,"height",b.height/c),a):!1},drawText:function(a,b,c){var d=!!b.labelOutlineWidth;if(d){var e=OpenLayers.Util.extend({},b);e.fontColor=e.labelOutlineColor,e.fontStrokeColor=e.labelOutlineColor,e.fontStrokeWidth=b.labelOutlineWidth,b.labelOutlineOpacity&&(e.fontOpacity=b.labelOutlineOpacity),delete e.labelOutlineWidth,this.drawText(a,e,c)}var f=this.getResolution(),e=(c.x-this.featureDx)/f+this.left,g=c.y/f-this.top,d=d?this.LABEL_OUTLINE_SUFFIX:this.LABEL_ID_SUFFIX,f=this.nodeFactory(a+d,"text");f.setAttributeNS(null,"x",e),f.setAttributeNS(null,"y",-g),b.fontColor&&f.setAttributeNS(null,"fill",b.fontColor),b.fontStrokeColor&&f.setAttributeNS(null,"stroke",b.fontStrokeColor),b.fontStrokeWidth&&f.setAttributeNS(null,"stroke-width",b.fontStrokeWidth),b.fontOpacity&&f.setAttributeNS(null,"opacity",b.fontOpacity),b.fontFamily&&f.setAttributeNS(null,"font-family",b.fontFamily),b.fontSize&&f.setAttributeNS(null,"font-size",b.fontSize),b.fontWeight&&f.setAttributeNS(null,"font-weight",b.fontWeight),b.fontStyle&&f.setAttributeNS(null,"font-style",b.fontStyle),!0===b.labelSelect?(f.setAttributeNS(null,"pointer-events","visible"),f._featureId=a):f.setAttributeNS(null,"pointer-events","none"),g=b.labelAlign||OpenLayers.Renderer.defaultSymbolizer.labelAlign,f.setAttributeNS(null,"text-anchor",OpenLayers.Renderer.SVG.LABEL_ALIGN[g[0]]||"middle"),!0===OpenLayers.IS_GECKO&&f.setAttributeNS(null,"dominant-baseline",OpenLayers.Renderer.SVG.LABEL_ALIGN[g[1]]||"central");for(var h=b.label.split("\n"),i=h.length;f.childNodes.length>i;)f.removeChild(f.lastChild);for(var j=0;i>j;j++){var k=this.nodeFactory(a+d+"_tspan_"+j,"tspan");if(!0===b.labelSelect&&(k._featureId=a,k._geometry=c,k._geometryClass=c.CLASS_NAME),!1===OpenLayers.IS_GECKO&&k.setAttributeNS(null,"baseline-shift",OpenLayers.Renderer.SVG.LABEL_VSHIFT[g[1]]||"-35%"),k.setAttribute("x",e),0==j){var l=OpenLayers.Renderer.SVG.LABEL_VFACTOR[g[1]];null==l&&(l=-.5),k.setAttribute("dy",l*(i-1)+"em")}else k.setAttribute("dy","1em");k.textContent=""===h[j]?" ":h[j],k.parentNode||f.appendChild(k)
}f.parentNode||this.textRoot.appendChild(f)},getComponentsString:function(a,b){for(var c,d=[],e=!0,f=a.length,g=[],h=0;f>h;h++)c=a[h],d.push(c),(c=this.getShortString(c))?g.push(c):(h>0&&this.getShortString(a[h-1])&&g.push(this.clipLine(a[h],a[h-1])),f-1>h&&this.getShortString(a[h+1])&&g.push(this.clipLine(a[h],a[h+1])),e=!1);return{path:g.join(b||","),complete:e}},clipLine:function(a,b){if(b.equals(a))return"";var c,d=this.getResolution(),e=this.MAX_PIXEL-this.translationParameters.x,f=this.MAX_PIXEL-this.translationParameters.y,g=(b.x-this.featureDx)/d+this.left,h=this.top-b.y/d,i=(a.x-this.featureDx)/d+this.left,d=this.top-a.y/d;return(-e>i||i>e)&&(c=(d-h)/(i-g),i=0>i?-e:e,d=h+(i-g)*c),(-f>d||d>f)&&(c=(i-g)/(d-h),d=0>d?-f:f,i=g+(d-h)*c),i+","+d},getShortString:function(a){var b=this.getResolution(),c=(a.x-this.featureDx)/b+this.left;return a=this.top-a.y/b,this.inValidRange(c,a)?c+","+a:!1},getPosition:function(a){return{x:parseFloat(a.getAttributeNS(null,"cx")),y:parseFloat(a.getAttributeNS(null,"cy"))}},importSymbol:function(a){this.defs||(this.defs=this.createDefs());var b=this.container.id+"-"+a,c=document.getElementById(b);if(null!=c)return c;var d=OpenLayers.Renderer.symbol[a];if(!d)throw Error(a+" is not a valid symbol name");a=this.nodeFactory(b,"symbol");var e=this.nodeFactory(null,"polygon");a.appendChild(e);for(var f,g,c=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0),h=[],i=0;i<d.length;i+=2)f=d[i],g=d[i+1],c.left=Math.min(c.left,f),c.bottom=Math.min(c.bottom,g),c.right=Math.max(c.right,f),c.top=Math.max(c.top,g),h.push(f,",",g);return e.setAttributeNS(null,"points",h.join(" ")),d=c.getWidth(),e=c.getHeight(),a.setAttributeNS(null,"viewBox",[c.left-d,c.bottom-e,3*d,3*e].join(" ")),this.symbolMetrics[b]=[Math.max(d,e),c.getCenterLonLat().lon,c.getCenterLonLat().lat],this.defs.appendChild(a),a},getFeatureIdFromEvent:function(a){var b=OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this,arguments);return b||(b=a.target,b=b.parentNode&&b!=this.rendererRoot?b.parentNode._featureId:void 0),b},CLASS_NAME:"OpenLayers.Renderer.SVG"}),OpenLayers.Renderer.SVG.LABEL_ALIGN={l:"start",r:"end",b:"bottom",t:"hanging"},OpenLayers.Renderer.SVG.LABEL_VSHIFT={t:"-70%",b:"0"},OpenLayers.Renderer.SVG.LABEL_VFACTOR={t:0,b:-1},OpenLayers.Renderer.SVG.preventDefault=function(a){OpenLayers.Event.preventDefault(a)},OpenLayers.Format.SLD.v1_0_0=OpenLayers.Class(OpenLayers.Format.SLD.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd",CLASS_NAME:"OpenLayers.Format.SLD.v1_0_0"}),OpenLayers.Format.OWSContext=OpenLayers.Class(OpenLayers.Format.Context,{defaultVersion:"0.3.1",getVersion:function(){var a=OpenLayers.Format.XML.VersionedOGC.prototype.getVersion.apply(this,arguments);return"0.3.0"===a&&(a=this.defaultVersion),a},toContext:function(a){var b={};return"OpenLayers.Map"==a.CLASS_NAME&&(b.bounds=a.getExtent(),b.maxExtent=a.maxExtent,b.projection=a.projection,b.size=a.getSize(),b.layers=a.layers),b},CLASS_NAME:"OpenLayers.Format.OWSContext"}),OpenLayers.Format.OWSContext.v0_3_1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{owc:"http://www.opengis.net/ows-context",gml:"http://www.opengis.net/gml",kml:"http://www.opengis.net/kml/2.2",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows",sld:"http://www.opengis.net/sld",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},VERSION:"0.3.1",schemaLocation:"http://www.opengis.net/ows-context http://www.ogcnetwork.net/schemas/owc/0.3.1/owsContext.xsd",defaultPrefix:"owc",extractAttributes:!0,xy:!0,regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},featureNS:"http://mapserver.gis.umn.edu/mapserver",featureType:"vector",geometryName:"geometry",nestingLayerLookup:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]),OpenLayers.Format.GML.v2.prototype.setGeometryTypes.call(this)},setNestingPath:function(a){if(a.layersContext)for(var b=0,c=a.layersContext.length;c>b;b++){var d=a.layersContext[b],e=[],f=a.title||"";a.metadata&&a.metadata.nestingPath&&(e=a.metadata.nestingPath.slice()),""!=f&&e.push(f),d.metadata.nestingPath=e,d.layersContext&&this.setNestingPath(d)}},decomposeNestingPath:function(a){var b=[];if(OpenLayers.Util.isArray(a)){for(a=a.slice();0<a.length;)b.push(a.slice()),a.pop();b.reverse()}return b},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),this.setNestingPath({layersContext:b.layersContext}),a=[],this.processLayer(a,b),delete b.layersContext,b.layersContext=a,b},processLayer:function(a,b){if(b.layersContext)for(var c=0,d=b.layersContext.length;d>c;c++){var e=b.layersContext[c];a.push(e),e.layersContext&&this.processLayer(a,e)}},write:function(a,b){this.nestingLayerLookup={},b=b||{},OpenLayers.Util.applyDefaults(b,a);var c=this.writeNode("OWSContext",b);return this.nestingLayerLookup=null,this.setAttributeNS(c,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[c])},readers:{kml:{Document:function(a,b){b.features=new OpenLayers.Format.KML({kmlns:this.namespaces.kml,extractStyles:!0}).read(a)}},owc:{OWSContext:function(a,b){this.readChildNodes(a,b)},General:function(a,b){this.readChildNodes(a,b)},ResourceList:function(a,b){this.readChildNodes(a,b)},Layer:function(a,b){var c={metadata:{},visibility:"1"!=a.getAttribute("hidden"),queryable:"1"==a.getAttribute("queryable"),opacity:null!=a.getAttribute("opacity")?parseFloat(a.getAttribute("opacity")):null,name:a.getAttribute("name"),categoryLayer:null==a.getAttribute("name"),formats:[],styles:[]};b.layersContext||(b.layersContext=[]),b.layersContext.push(c),this.readChildNodes(a,c)},InlineGeometry:function(a,b){b.features=[];var c,d=this.getElementsByTagNameNS(a,this.namespaces.gml,"featureMember");1<=d.length&&(c=d[0]),c&&c.firstChild&&(d=c.firstChild.nextSibling?c.firstChild.nextSibling:c.firstChild,this.setNamespace("feature",d.namespaceURI),this.featureType=d.localName||d.nodeName.split(":").pop(),this.readChildNodes(a,b))},Server:function(a,b){(!b.service&&!b.version||b.service!=OpenLayers.Format.Context.serviceTypes.WMS)&&(b.service=a.getAttribute("service"),b.version=a.getAttribute("version"),this.readChildNodes(a,b))},Name:function(a,b){b.name=this.getChildValue(a),this.readChildNodes(a,b)},Title:function(a,b){b.title=this.getChildValue(a),this.readChildNodes(a,b)},StyleList:function(a,b){this.readChildNodes(a,b.styles)},Style:function(a,b){var c={};b.push(c),this.readChildNodes(a,c)},LegendURL:function(a,b){var c={};b.legend=c,this.readChildNodes(a,c)},OnlineResource:function(a,b){b.url=this.getAttributeNS(a,this.namespaces.xlink,"href"),this.readChildNodes(a,b)}},ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows,gml:OpenLayers.Format.GML.v2.prototype.readers.gml,sld:OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld,feature:OpenLayers.Format.GML.v2.prototype.readers.feature},writers:{owc:{OWSContext:function(a){var b=this.createElementNSPlus("OWSContext",{attributes:{version:this.VERSION,id:a.id||OpenLayers.Util.createUniqueID("OpenLayers_OWSContext_")}});return this.writeNode("General",a,b),this.writeNode("ResourceList",a,b),b},General:function(a){var b=this.createElementNSPlus("General");return this.writeNode("ows:BoundingBox",a,b),this.writeNode("ows:Title",a.title||"OpenLayers OWSContext",b),b},ResourceList:function(a){for(var b=this.createElementNSPlus("ResourceList"),c=0,d=a.layers.length;d>c;c++){var e=a.layers[c],f=this.decomposeNestingPath(e.metadata.nestingPath);this.writeNode("_Layer",{layer:e,subPaths:f},b)}return b},Server:function(a){var b=this.createElementNSPlus("Server",{attributes:{version:a.version,service:a.service}});return this.writeNode("OnlineResource",a,b),b},OnlineResource:function(a){return this.createElementNSPlus("OnlineResource",{attributes:{"xlink:href":a.url}})},InlineGeometry:function(a){var b=this.createElementNSPlus("InlineGeometry"),c=a.getDataExtent();null!==c&&this.writeNode("gml:boundedBy",c,b);for(var c=0,d=a.features.length;d>c;c++)this.writeNode("gml:featureMember",a.features[c],b);return b},StyleList:function(a){for(var b=this.createElementNSPlus("StyleList"),c=0,d=a.length;d>c;c++)this.writeNode("Style",a[c],b);return b},Style:function(a){var b=this.createElementNSPlus("Style");return this.writeNode("Name",a,b),this.writeNode("Title",a,b),a.legend&&this.writeNode("LegendURL",a,b),b},Name:function(a){return this.createElementNSPlus("Name",{value:a.name})},Title:function(a){return this.createElementNSPlus("Title",{value:a.title})},LegendURL:function(a){var b=this.createElementNSPlus("LegendURL");return this.writeNode("OnlineResource",a.legend,b),b},_WMS:function(a){var b=this.createElementNSPlus("Layer",{attributes:{name:a.params.LAYERS,queryable:a.queryable?"1":"0",hidden:a.visibility?"0":"1",opacity:a.hasOwnProperty("opacity")?a.opacity:null}});return this.writeNode("ows:Title",a.name,b),this.writeNode("ows:OutputFormat",a.params.FORMAT,b),this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.WMS,version:a.params.VERSION,url:a.url},b),a.metadata.styles&&0<a.metadata.styles.length&&this.writeNode("StyleList",a.metadata.styles,b),b},_Layer:function(a){var b,c,d;return b=a.layer,c=a.subPaths,d=null,0<c.length?(b=c[0].join("/"),c=b.lastIndexOf("/"),d=this.nestingLayerLookup[b],c=c>0?b.substring(c+1,b.length):b,d||(d=this.createElementNSPlus("Layer"),this.writeNode("ows:Title",c,d),this.nestingLayerLookup[b]=d),a.subPaths.shift(),this.writeNode("_Layer",a,d)):(b instanceof OpenLayers.Layer.WMS?d=this.writeNode("_WMS",b):b instanceof OpenLayers.Layer.Vector&&(b.protocol instanceof OpenLayers.Protocol.WFS.v1?d=this.writeNode("_WFS",b):b.protocol instanceof OpenLayers.Protocol.HTTP?b.protocol.format instanceof OpenLayers.Format.GML?(b.protocol.format.version="2.1.2",d=this.writeNode("_GML",b)):b.protocol.format instanceof OpenLayers.Format.KML&&(b.protocol.format.version="2.2",d=this.writeNode("_KML",b)):(this.setNamespace("feature",this.featureNS),d=this.writeNode("_InlineGeometry",b))),b.options.maxScale&&this.writeNode("sld:MinScaleDenominator",b.options.maxScale,d),b.options.minScale&&this.writeNode("sld:MaxScaleDenominator",b.options.minScale,d),this.nestingLayerLookup[b.name]=d),d},_WFS:function(a){var b=this.createElementNSPlus("Layer",{attributes:{name:a.protocol.featurePrefix+":"+a.protocol.featureType,hidden:a.visibility?"0":"1"}});return this.writeNode("ows:Title",a.name,b),this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.WFS,version:a.protocol.version,url:a.protocol.url},b),b},_InlineGeometry:function(a){var b=this.createElementNSPlus("Layer",{attributes:{name:this.featureType,hidden:a.visibility?"0":"1"}});return this.writeNode("ows:Title",a.name,b),this.writeNode("InlineGeometry",a,b),b},_GML:function(a){var b=this.createElementNSPlus("Layer");return this.writeNode("ows:Title",a.name,b),this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.GML,url:a.protocol.url,version:a.protocol.format.version},b),b},_KML:function(a){var b=this.createElementNSPlus("Layer");return this.writeNode("ows:Title",a.name,b),this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.KML,version:a.protocol.format.version,url:a.protocol.url},b),b}},gml:OpenLayers.Util.applyDefaults({boundedBy:function(a){var b=this.createElementNSPlus("gml:boundedBy");return this.writeNode("gml:Box",a,b),b}},OpenLayers.Format.GML.v2.prototype.writers.gml),ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.writers.ows,sld:OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld,feature:OpenLayers.Format.GML.v2.prototype.writers.feature},CLASS_NAME:"OpenLayers.Format.OWSContext.v0_3_1"}),OpenLayers.Popup=OpenLayers.Class({events:null,id:"",lonlat:null,div:null,contentSize:null,size:null,contentHTML:null,backgroundColor:"",opacity:"",border:"",contentDiv:null,groupDiv:null,closeDiv:null,autoSize:!1,minSize:null,maxSize:null,displayClass:"olPopup",contentDisplayClass:"olPopupContent",padding:0,disableFirefoxOverflowHack:!1,fixPadding:function(){"number"==typeof this.padding&&(this.padding=new OpenLayers.Bounds(this.padding,this.padding,this.padding,this.padding))},panMapIfOutOfView:!1,keepInMap:!1,closeOnMove:!1,map:null,initialize:function(a,b,c,d,e,f){null==a&&(a=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")),this.id=a,this.lonlat=b,this.contentSize=null!=c?c:new OpenLayers.Size(OpenLayers.Popup.WIDTH,OpenLayers.Popup.HEIGHT),null!=d&&(this.contentHTML=d),this.backgroundColor=OpenLayers.Popup.COLOR,this.opacity=OpenLayers.Popup.OPACITY,this.border=OpenLayers.Popup.BORDER,this.div=OpenLayers.Util.createDiv(this.id,null,null,null,null,null,"hidden"),this.div.className=this.displayClass,this.groupDiv=OpenLayers.Util.createDiv(this.id+"_GroupDiv",null,null,null,"relative",null,"hidden"),a=this.div.id+"_contentDiv",this.contentDiv=OpenLayers.Util.createDiv(a,null,this.contentSize.clone(),null,"relative"),this.contentDiv.className=this.contentDisplayClass,this.groupDiv.appendChild(this.contentDiv),this.div.appendChild(this.groupDiv),e&&this.addCloseBox(f),this.registerEvents()},destroy:function(){this.border=this.opacity=this.backgroundColor=this.contentHTML=this.size=this.lonlat=this.id=null,this.closeOnMove&&this.map&&this.map.events.unregister("movestart",this,this.hide),this.events.destroy(),this.events=null,this.closeDiv&&(OpenLayers.Event.stopObservingElement(this.closeDiv),this.groupDiv.removeChild(this.closeDiv)),this.closeDiv=null,this.div.removeChild(this.groupDiv),this.groupDiv=null,null!=this.map&&this.map.removePopup(this),this.panMapIfOutOfView=this.padding=this.maxSize=this.minSize=this.autoSize=this.div=this.map=null},draw:function(a){return null==a&&null!=this.lonlat&&null!=this.map&&(a=this.map.getLayerPxFromLonLat(this.lonlat)),this.closeOnMove&&this.map.events.register("movestart",this,this.hide),this.disableFirefoxOverflowHack||"firefox"!=OpenLayers.BROWSER_NAME||(this.map.events.register("movestart",this,function(){var a=document.defaultView.getComputedStyle(this.contentDiv,null).getPropertyValue("overflow");"hidden"!=a&&(this.contentDiv._oldOverflow=a,this.contentDiv.style.overflow="hidden")}),this.map.events.register("moveend",this,function(){var a=this.contentDiv._oldOverflow;a&&(this.contentDiv.style.overflow=a,this.contentDiv._oldOverflow=null)})),this.moveTo(a),this.autoSize||this.size||this.setSize(this.contentSize),this.setBackgroundColor(),this.setOpacity(),this.setBorder(),this.setContentHTML(),this.panMapIfOutOfView&&this.panIntoView(),this.div},updatePosition:function(){if(this.lonlat&&this.map){var a=this.map.getLayerPxFromLonLat(this.lonlat);a&&this.moveTo(a)}},moveTo:function(a){null!=a&&null!=this.div&&(this.div.style.left=a.x+"px",this.div.style.top=a.y+"px")},visible:function(){return OpenLayers.Element.visible(this.div)},toggle:function(){this.visible()?this.hide():this.show()},show:function(){this.div.style.display="",this.panMapIfOutOfView&&this.panIntoView()},hide:function(){this.div.style.display="none"},setSize:function(a){this.size=a.clone();var b=this.getContentDivPadding(),c=b.left+b.right,d=b.top+b.bottom;if(this.fixPadding(),c+=this.padding.left+this.padding.right,d+=this.padding.top+this.padding.bottom,this.closeDiv)var e=parseInt(this.closeDiv.style.width),c=c+(e+b.right);this.size.w+=c,this.size.h+=d,"msie"==OpenLayers.BROWSER_NAME&&(this.contentSize.w+=b.left+b.right,this.contentSize.h+=b.bottom+b.top),null!=this.div&&(this.div.style.width=this.size.w+"px",this.div.style.height=this.size.h+"px"),null!=this.contentDiv&&(this.contentDiv.style.width=a.w+"px",this.contentDiv.style.height=a.h+"px")},updateSize:function(){var a="<div class='"+this.contentDisplayClass+"'>"+this.contentDiv.innerHTML+"</div>",b=this.map?this.map.div:document.body,c=OpenLayers.Util.getRenderedDimensions(a,null,{displayClass:this.displayClass,containerElement:b}),d=this.getSafeContentSize(c),e=null;d.equals(c)?e=c:(c={w:d.w<c.w?d.w:null,h:d.h<c.h?d.h:null},c.w&&c.h?e=d:(a=OpenLayers.Util.getRenderedDimensions(a,c,{displayClass:this.contentDisplayClass,containerElement:b}),"hidden"!=OpenLayers.Element.getStyle(this.contentDiv,"overflow")&&a.equals(d)&&(d=OpenLayers.Util.getScrollbarWidth(),c.w?a.h+=d:a.w+=d),e=this.getSafeContentSize(a))),this.setSize(e)},setBackgroundColor:function(a){void 0!=a&&(this.backgroundColor=a),null!=this.div&&(this.div.style.backgroundColor=this.backgroundColor)},setOpacity:function(a){void 0!=a&&(this.opacity=a),null!=this.div&&(this.div.style.opacity=this.opacity,this.div.style.filter="alpha(opacity="+100*this.opacity+")")},setBorder:function(a){void 0!=a&&(this.border=a),null!=this.div&&(this.div.style.border=this.border)},setContentHTML:function(a){null!=a&&(this.contentHTML=a),null!=this.contentDiv&&null!=this.contentHTML&&this.contentHTML!=this.contentDiv.innerHTML&&(this.contentDiv.innerHTML=this.contentHTML,this.autoSize&&(this.registerImageListeners(),this.updateSize()))},registerImageListeners:function(){for(var a=function(){null!==this.popup.id&&(this.popup.updateSize(),this.popup.visible()&&this.popup.panMapIfOutOfView&&this.popup.panIntoView(),OpenLayers.Event.stopObserving(this.img,"load",this.img._onImgLoad))},b=this.contentDiv.getElementsByTagName("img"),c=0,d=b.length;d>c;c++){var e=b[c];(0==e.width||0==e.height)&&(e._onImgLoad=OpenLayers.Function.bind(a,{popup:this,img:e}),OpenLayers.Event.observe(e,"load",e._onImgLoad))}},getSafeContentSize:function(a){a=a.clone();var b=this.getContentDivPadding(),c=b.left+b.right,d=b.top+b.bottom;if(this.fixPadding(),c+=this.padding.left+this.padding.right,d+=this.padding.top+this.padding.bottom,this.closeDiv)var e=parseInt(this.closeDiv.style.width),c=c+(e+b.right);if(this.minSize&&(a.w=Math.max(a.w,this.minSize.w-c),a.h=Math.max(a.h,this.minSize.h-d)),this.maxSize&&(a.w=Math.min(a.w,this.maxSize.w-c),a.h=Math.min(a.h,this.maxSize.h-d)),this.map&&this.map.size){if(e=b=0,this.keepInMap&&!this.panMapIfOutOfView)switch(e=this.map.getPixelFromLonLat(this.lonlat),this.relativePosition){case"tr":b=e.x,e=this.map.size.h-e.y;break;case"tl":b=this.map.size.w-e.x,e=this.map.size.h-e.y;break;case"bl":b=this.map.size.w-e.x,e=e.y;break;case"br":b=e.x,e=e.y;break;default:b=e.x,e=this.map.size.h-e.y}d=this.map.size.h-this.map.paddingForPopups.top-this.map.paddingForPopups.bottom-d-e,a.w=Math.min(a.w,this.map.size.w-this.map.paddingForPopups.left-this.map.paddingForPopups.right-c-b),a.h=Math.min(a.h,d)}return a},getContentDivPadding:function(){var a=this._contentDivPadding;return a||(null==this.div.parentNode&&(this.div.style.display="none",document.body.appendChild(this.div)),this._contentDivPadding=a=new OpenLayers.Bounds(OpenLayers.Element.getStyle(this.contentDiv,"padding-left"),OpenLayers.Element.getStyle(this.contentDiv,"padding-bottom"),OpenLayers.Element.getStyle(this.contentDiv,"padding-right"),OpenLayers.Element.getStyle(this.contentDiv,"padding-top")),this.div.parentNode==document.body&&(document.body.removeChild(this.div),this.div.style.display="")),a},addCloseBox:function(a){this.closeDiv=OpenLayers.Util.createDiv(this.id+"_close",null,{w:17,h:17}),this.closeDiv.className="olPopupCloseBox";var b=this.getContentDivPadding();this.closeDiv.style.right=b.right+"px",this.closeDiv.style.top=b.top+"px",this.groupDiv.appendChild(this.closeDiv),a=a||function(a){this.hide(),OpenLayers.Event.stop(a)},OpenLayers.Event.observe(this.closeDiv,"touchend",OpenLayers.Function.bindAsEventListener(a,this)),OpenLayers.Event.observe(this.closeDiv,"click",OpenLayers.Function.bindAsEventListener(a,this))},panIntoView:function(){var a=this.map.getSize(),b=this.map.getViewPortPxFromLayerPx(new OpenLayers.Pixel(parseInt(this.div.style.left),parseInt(this.div.style.top))),c=b.clone();b.x<this.map.paddingForPopups.left?c.x=this.map.paddingForPopups.left:b.x+this.size.w>a.w-this.map.paddingForPopups.right&&(c.x=a.w-this.map.paddingForPopups.right-this.size.w),b.y<this.map.paddingForPopups.top?c.y=this.map.paddingForPopups.top:b.y+this.size.h>a.h-this.map.paddingForPopups.bottom&&(c.y=a.h-this.map.paddingForPopups.bottom-this.size.h),this.map.pan(b.x-c.x,b.y-c.y)},registerEvents:function(){this.events=new OpenLayers.Events(this,this.div,null,!0),this.events.on({mousedown:this.onmousedown,mousemove:this.onmousemove,mouseup:this.onmouseup,click:this.onclick,mouseout:this.onmouseout,dblclick:this.ondblclick,touchstart:function(a){OpenLayers.Event.stop(a,!0)},scope:this})},onmousedown:function(a){this.mousedown=!0,OpenLayers.Event.stop(a,!0)},onmousemove:function(a){this.mousedown&&OpenLayers.Event.stop(a,!0)},onmouseup:function(a){this.mousedown&&(this.mousedown=!1,OpenLayers.Event.stop(a,!0))},onclick:function(a){OpenLayers.Event.stop(a,!0)},onmouseout:function(){this.mousedown=!1},ondblclick:function(a){OpenLayers.Event.stop(a,!0)},CLASS_NAME:"OpenLayers.Popup"}),OpenLayers.Popup.WIDTH=200,OpenLayers.Popup.HEIGHT=200,OpenLayers.Popup.COLOR="white",OpenLayers.Popup.OPACITY=1,OpenLayers.Popup.BORDER="0px",OpenLayers.Control.ScaleLine=OpenLayers.Class(OpenLayers.Control,{maxWidth:100,topOutUnits:"km",topInUnits:"m",bottomOutUnits:"mi",bottomInUnits:"ft",eTop:null,eBottom:null,geodesic:!1,draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.eTop||(this.eTop=document.createElement("div"),this.eTop.className=this.displayClass+"Top",this.div.appendChild(this.eTop),this.eTop.style.visibility=""==this.topOutUnits||""==this.topInUnits?"hidden":"visible",this.eBottom=document.createElement("div"),this.eBottom.className=this.displayClass+"Bottom",this.div.appendChild(this.eBottom),this.eBottom.style.visibility=""==this.bottomOutUnits||""==this.bottomInUnits?"hidden":"visible"),this.map.events.register("moveend",this,this.update),this.update(),this.div},getBarLen:function(a){var b=parseInt(Math.log(a)/Math.log(10)),b=Math.pow(10,b);return a=parseInt(a/b),(a>5?5:a>2?2:1)*b},update:function(){var a=this.map.getResolution();if(a){var b=this.map.getUnits(),c=OpenLayers.INCHES_PER_UNIT,d=this.maxWidth*a*c[b],e=1;!0===this.geodesic&&(e=(this.map.getGeodesicPixelSize().w||1e-6)*this.maxWidth/(d/c.km),d*=e);var f,g;d>1e5?(f=this.topOutUnits,g=this.bottomOutUnits):(f=this.topInUnits,g=this.bottomInUnits);var h=d/c[f],i=d/c[g],d=this.getBarLen(h),j=this.getBarLen(i),h=d/c[b]*c[f],i=j/c[b]*c[g],b=h/a/e,a=i/a/e;"visible"==this.eBottom.style.visibility&&(this.eBottom.style.width=Math.round(a)+"px",this.eBottom.innerHTML=j+" "+g),"visible"==this.eTop.style.visibility&&(this.eTop.style.width=Math.round(b)+"px",this.eTop.innerHTML=d+" "+f)}},CLASS_NAME:"OpenLayers.Control.ScaleLine"}),OpenLayers.Icon=OpenLayers.Class({url:null,size:null,offset:null,calculateOffset:null,imageDiv:null,px:null,initialize:function(a,b,c,d){this.url=a,this.size=b||{w:20,h:20},this.offset=c||{x:-(this.size.w/2),y:-(this.size.h/2)},this.calculateOffset=d,a=OpenLayers.Util.createUniqueID("OL_Icon_"),this.imageDiv=OpenLayers.Util.createAlphaImageDiv(a)},destroy:function(){this.erase(),OpenLayers.Event.stopObservingElement(this.imageDiv.firstChild),this.imageDiv.innerHTML="",this.imageDiv=null},clone:function(){return new OpenLayers.Icon(this.url,this.size,this.offset,this.calculateOffset)},setSize:function(a){null!=a&&(this.size=a),this.draw()},setUrl:function(a){null!=a&&(this.url=a),this.draw()},draw:function(a){return OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,null,this.size,this.url,"absolute"),this.moveTo(a),this.imageDiv},erase:function(){null!=this.imageDiv&&null!=this.imageDiv.parentNode&&OpenLayers.Element.remove(this.imageDiv)},setOpacity:function(a){OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,null,null,null,null,null,null,a)},moveTo:function(a){null!=a&&(this.px=a),null!=this.imageDiv&&(null==this.px?this.display(!1):(this.calculateOffset&&(this.offset=this.calculateOffset(this.size)),OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,{x:this.px.x+this.offset.x,y:this.px.y+this.offset.y})))},display:function(a){this.imageDiv.style.display=a?"":"none"},isDrawn:function(){return this.imageDiv&&this.imageDiv.parentNode&&11!=this.imageDiv.parentNode.nodeType},CLASS_NAME:"OpenLayers.Icon"}),OpenLayers.Marker=OpenLayers.Class({icon:null,lonlat:null,events:null,map:null,initialize:function(a,b){this.lonlat=a;var c=b?b:OpenLayers.Marker.defaultIcon();null==this.icon?this.icon=c:(this.icon.url=c.url,this.icon.size=c.size,this.icon.offset=c.offset,this.icon.calculateOffset=c.calculateOffset),this.events=new OpenLayers.Events(this,this.icon.imageDiv)},destroy:function(){this.erase(),this.map=null,this.events.destroy(),this.events=null,null!=this.icon&&(this.icon.destroy(),this.icon=null)},draw:function(a){return this.icon.draw(a)},erase:function(){null!=this.icon&&this.icon.erase()},moveTo:function(a){null!=a&&null!=this.icon&&this.icon.moveTo(a),this.lonlat=this.map.getLonLatFromLayerPx(a)},isDrawn:function(){return this.icon&&this.icon.isDrawn()},onScreen:function(){var a=!1;return this.map&&(a=this.map.getExtent().containsLonLat(this.lonlat)),a},inflate:function(a){this.icon&&this.icon.setSize({w:this.icon.size.w*a,h:this.icon.size.h*a})},setOpacity:function(a){this.icon.setOpacity(a)},setUrl:function(a){this.icon.setUrl(a)},display:function(a){this.icon.display(a)},CLASS_NAME:"OpenLayers.Marker"}),OpenLayers.Marker.defaultIcon=function(){return new OpenLayers.Icon(OpenLayers.Util.getImageLocation("marker.png"),{w:21,h:25},{x:-10.5,y:-25})},OpenLayers.Layer.TileCache=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:!0,format:"image/png",serverResolutions:null,initialize:function(a,b,c,d){this.layername=c,OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a,b,{},d]),this.extension=this.format.split("/")[1].toLowerCase(),this.extension="jpg"==this.extension?"jpeg":this.extension},clone:function(a){return null==a&&(a=new OpenLayers.Layer.TileCache(this.name,this.url,this.layername,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){var b=this.getServerResolution(),c=this.maxExtent,d=this.tileSize,e=Math.round((a.left-c.left)/(b*d.w));return a=Math.round((a.bottom-c.bottom)/(b*d.h)),b=null!=this.serverResolutions?OpenLayers.Util.indexOf(this.serverResolutions,b):this.map.getZoom(),e=[this.layername,OpenLayers.Number.zeroPad(b,2),OpenLayers.Number.zeroPad(parseInt(e/1e6),3),OpenLayers.Number.zeroPad(parseInt(e/1e3)%1e3,3),OpenLayers.Number.zeroPad(parseInt(e)%1e3,3),OpenLayers.Number.zeroPad(parseInt(a/1e6),3),OpenLayers.Number.zeroPad(parseInt(a/1e3)%1e3,3),OpenLayers.Number.zeroPad(parseInt(a)%1e3,3)+"."+this.extension].join("/"),b=this.url,OpenLayers.Util.isArray(b)&&(b=this.selectUrl(e,b)),b="/"==b.charAt(b.length-1)?b:b+"/",b+e},CLASS_NAME:"OpenLayers.Layer.TileCache"}),OpenLayers.Strategy.Paging=OpenLayers.Class(OpenLayers.Strategy,{features:null,length:10,num:null,paging:!1,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);return a&&this.layer.events.on({beforefeaturesadded:this.cacheFeatures,scope:this}),a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);return a&&(this.clearCache(),this.layer.events.un({beforefeaturesadded:this.cacheFeatures,scope:this})),a},cacheFeatures:function(a){this.paging||(this.clearCache(),this.features=a.features,this.pageNext(a))},clearCache:function(){if(this.features)for(var a=0;a<this.features.length;++a)this.features[a].destroy();this.num=this.features=null},pageCount:function(){return Math.ceil((this.features?this.features.length:0)/this.length)},pageNum:function(){return this.num},pageLength:function(a){return a&&a>0&&(this.length=a),this.length},pageNext:function(a){var b=!1;return this.features&&(null===this.num&&(this.num=-1),b=this.page((this.num+1)*this.length,a)),b},pagePrevious:function(){var a=!1;return this.features&&(null===this.num&&(this.num=this.pageCount()),a=this.page((this.num-1)*this.length)),a},page:function(a,b){var c=!1;if(this.features&&a>=0&&a<this.features.length){var d=Math.floor(a/this.length);d!=this.num&&(this.paging=!0,c=this.features.slice(a,a+this.length),this.layer.removeFeatures(this.layer.features),this.num=d,b&&b.features?b.features=c:this.layer.addFeatures(c),this.paging=!1,c=!0)}return c},CLASS_NAME:"OpenLayers.Strategy.Paging"}),OpenLayers.Control.DragFeature=OpenLayers.Class(OpenLayers.Control,{geometryTypes:null,onStart:function(){},onDrag:function(){},onComplete:function(){},onEnter:function(){},onLeave:function(){},documentDrag:!1,layer:null,feature:null,dragCallbacks:{},featureCallbacks:{},lastPixel:null,initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,[b]),this.layer=a,this.handlers={drag:new OpenLayers.Handler.Drag(this,OpenLayers.Util.extend({down:this.downFeature,move:this.moveFeature,up:this.upFeature,out:this.cancel,done:this.doneDragging},this.dragCallbacks),{documentDrag:this.documentDrag}),feature:new OpenLayers.Handler.Feature(this,this.layer,OpenLayers.Util.extend({click:this.clickFeature,clickout:this.clickoutFeature,over:this.overFeature,out:this.outFeature},this.featureCallbacks),{geometryTypes:this.geometryTypes})}},clickFeature:function(a){this.handlers.feature.touch&&!this.over&&this.overFeature(a)&&(this.handlers.drag.dragstart(this.handlers.feature.evt),this.handlers.drag.stopDown=!1)},clickoutFeature:function(a){this.handlers.feature.touch&&this.over&&(this.outFeature(a),this.handlers.drag.stopDown=!0)},destroy:function(){this.layer=null,OpenLayers.Control.prototype.destroy.apply(this,[])},activate:function(){return this.handlers.feature.activate()&&OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){return this.handlers.drag.deactivate(),this.handlers.feature.deactivate(),this.feature=null,this.dragging=!1,this.lastPixel=null,OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass+"Over"),OpenLayers.Control.prototype.deactivate.apply(this,arguments)},overFeature:function(a){var b=!1;return this.handlers.drag.dragging?this.over=this.feature.id==a.id?!0:!1:(this.feature=a,this.handlers.drag.activate(),this.over=b=!0,OpenLayers.Element.addClass(this.map.viewPortDiv,this.displayClass+"Over"),this.onEnter(a)),b},downFeature:function(a){this.lastPixel=a,this.onStart(this.feature,a)},moveFeature:function(a){var b=this.map.getResolution();this.feature.geometry.move(b*(a.x-this.lastPixel.x),b*(this.lastPixel.y-a.y)),this.layer.drawFeature(this.feature),this.lastPixel=a,this.onDrag(this.feature,a)},upFeature:function(){this.over||this.handlers.drag.deactivate()},doneDragging:function(a){this.onComplete(this.feature,a)},outFeature:function(a){this.handlers.drag.dragging?this.feature.id==a.id&&(this.over=!1):(this.over=!1,this.handlers.drag.deactivate(),OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass+"Over"),this.onLeave(a),this.feature=null)},cancel:function(){this.handlers.drag.deactivate(),this.over=!1},setMap:function(a){this.handlers.drag.setMap(a),this.handlers.feature.setMap(a),OpenLayers.Control.prototype.setMap.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.DragFeature"}),OpenLayers.Control.TransformFeature=OpenLayers.Class(OpenLayers.Control,{geometryTypes:null,layer:null,preserveAspectRatio:!1,rotate:!0,feature:null,renderIntent:"temporary",rotationHandleSymbolizer:null,box:null,center:null,scale:1,ratio:1,rotation:0,handles:null,rotationHandles:null,dragControl:null,irregular:!1,initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,[b]),this.layer=a,this.rotationHandleSymbolizer||(this.rotationHandleSymbolizer={stroke:!1,pointRadius:10,fillOpacity:0,cursor:"pointer"}),this.createBox(),this.createControl()},activate:function(){var a=!1;return OpenLayers.Control.prototype.activate.apply(this,arguments)&&(this.dragControl.activate(),this.layer.addFeatures([this.box]),this.rotate&&this.layer.addFeatures(this.rotationHandles),this.layer.addFeatures(this.handles),a=!0),a
},deactivate:function(){var a=!1;return OpenLayers.Control.prototype.deactivate.apply(this,arguments)&&(this.layer.removeFeatures(this.handles),this.rotate&&this.layer.removeFeatures(this.rotationHandles),this.layer.removeFeatures([this.box]),this.dragControl.deactivate(),a=!0),a},setMap:function(a){this.dragControl.setMap(a),OpenLayers.Control.prototype.setMap.apply(this,arguments)},setFeature:function(a,b){b=OpenLayers.Util.applyDefaults(b,{rotation:0,scale:1,ratio:1});var c=this.rotation,d=this.center;if(OpenLayers.Util.extend(this,b),!1!==this.events.triggerEvent("beforesetfeature",{feature:a})){this.feature=a,this.activate(),this._setfeature=!0;var e=this.feature.geometry.getBounds();this.box.move(e.getCenterLonLat()),this.box.geometry.rotate(-c,d),this._angle=0,this.rotation?(c=a.geometry.clone(),c.rotate(-this.rotation,this.center),c=new OpenLayers.Feature.Vector(c.getBounds().toGeometry()),c.geometry.rotate(this.rotation,this.center),this.box.geometry.rotate(this.rotation,this.center),this.box.move(c.geometry.getBounds().getCenterLonLat()),c=c.geometry.components[0].components[0].getBounds().getCenterLonLat()):c=new OpenLayers.LonLat(e.left,e.bottom),this.handles[0].move(c),delete this._setfeature,this.events.triggerEvent("setfeature",{feature:a})}},unsetFeature:function(){this.active?this.deactivate():(this.feature=null,this.rotation=0,this.ratio=this.scale=1)},createBox:function(){var a=this;this.center=new OpenLayers.Geometry.Point(0,0),this.box=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([new OpenLayers.Geometry.Point(-1,-1),new OpenLayers.Geometry.Point(0,-1),new OpenLayers.Geometry.Point(1,-1),new OpenLayers.Geometry.Point(1,0),new OpenLayers.Geometry.Point(1,1),new OpenLayers.Geometry.Point(0,1),new OpenLayers.Geometry.Point(-1,1),new OpenLayers.Geometry.Point(-1,0),new OpenLayers.Geometry.Point(-1,-1)]),null,"string"==typeof this.renderIntent?null:this.renderIntent),this.box.geometry.move=function(b,c){a._moving=!0,OpenLayers.Geometry.LineString.prototype.move.apply(this,arguments),a.center.move(b,c),delete a._moving};for(var b,c,d,e=function(a,b){OpenLayers.Geometry.Point.prototype.move.apply(this,arguments),this._rotationHandle&&this._rotationHandle.geometry.move(a,b),this._handle.geometry.move(a,b)},f=function(a,b,c){OpenLayers.Geometry.Point.prototype.resize.apply(this,arguments),this._rotationHandle&&this._rotationHandle.geometry.resize(a,b,c),this._handle.geometry.resize(a,b,c)},g=function(a,b){OpenLayers.Geometry.Point.prototype.rotate.apply(this,arguments),this._rotationHandle&&this._rotationHandle.geometry.rotate(a,b),this._handle.geometry.rotate(a,b)},h=function(b,c){var d=this.x,e=this.y;if(OpenLayers.Geometry.Point.prototype.move.call(this,b,c),!a._moving){var f=a.dragControl.handlers.drag.evt,g=!(!a._setfeature&&a.preserveAspectRatio||f&&f.shiftKey),h=new OpenLayers.Geometry.Point(d,e),f=a.center;this.rotate(-a.rotation,f),h.rotate(-a.rotation,f);var i=this.x-f.x,j=this.y-f.y,k=i-(this.x-h.x),l=j-(this.y-h.y);a.irregular&&!a._setfeature&&(i-=(this.x-h.x)/2,j-=(this.y-h.y)/2),this.x=d,this.y=e,h=1,g?(j=1e-5>Math.abs(l)?1:j/l,h=(1e-5>Math.abs(k)?1:i/k)/j):(k=Math.sqrt(k*k+l*l),j=Math.sqrt(i*i+j*j)/k),a._moving=!0,a.box.geometry.rotate(-a.rotation,f),delete a._moving,a.box.geometry.resize(j,f,h),a.box.geometry.rotate(a.rotation,f),a.transformFeature({scale:j,ratio:h}),a.irregular&&!a._setfeature&&(i=f.clone(),i.x+=1e-5>Math.abs(d-f.x)?0:this.x-d,i.y+=1e-5>Math.abs(e-f.y)?0:this.y-e,a.box.geometry.move(this.x-d,this.y-e),a.transformFeature({center:i}))}},i=function(b,c){var d=this.x,e=this.y;if(OpenLayers.Geometry.Point.prototype.move.call(this,b,c),!a._moving){var f=a.dragControl.handlers.drag.evt,f=f&&f.shiftKey?45:1,g=a.center,h=this.x-g.x,i=this.y-g.y;this.x=d,this.y=e,d=Math.atan2(i-c,h-b),d=Math.atan2(i,h)-d,d*=180/Math.PI,a._angle=(a._angle+d)%360,d=a.rotation%f,(Math.abs(a._angle)>=f||0!==d)&&(d=Math.round(a._angle/f)*f-d,a._angle=0,a.box.geometry.rotate(d,g),a.transformFeature({rotation:d}))}},j=Array(8),k=Array(4),l="sw s se e ne n nw w".split(" "),m=0;8>m;++m)b=this.box.geometry.components[m],c=new OpenLayers.Feature.Vector(b.clone(),{role:l[m]+"-resize"},"string"==typeof this.renderIntent?null:this.renderIntent),0==m%2&&(d=new OpenLayers.Feature.Vector(b.clone(),{role:l[m]+"-rotate"},"string"==typeof this.rotationHandleSymbolizer?null:this.rotationHandleSymbolizer),d.geometry.move=i,b._rotationHandle=d,k[m/2]=d),b.move=e,b.resize=f,b.rotate=g,c.geometry.move=h,b._handle=c,j[m]=c;this.rotationHandles=k,this.handles=j},createControl:function(){var a=this;this.dragControl=new OpenLayers.Control.DragFeature(this.layer,{documentDrag:!0,moveFeature:function(){this.feature===a.feature&&(this.feature=a.box),OpenLayers.Control.DragFeature.prototype.moveFeature.apply(this,arguments)},onDrag:function(b){b===a.box&&a.transformFeature({center:a.center})},onStart:function(b){var c=!a.geometryTypes||-1!==OpenLayers.Util.indexOf(a.geometryTypes,b.geometry.CLASS_NAME),d=OpenLayers.Util.indexOf(a.handles,b),d=d+OpenLayers.Util.indexOf(a.rotationHandles,b);b!==a.feature&&b!==a.box&&-2==d&&c&&a.setFeature(b)},onComplete:function(){a.events.triggerEvent("transformcomplete",{feature:a.feature})}})},drawHandles:function(){for(var a=this.layer,b=0;8>b;++b)this.rotate&&0===b%2&&a.drawFeature(this.rotationHandles[b/2],this.rotationHandleSymbolizer),a.drawFeature(this.handles[b],this.renderIntent)},transformFeature:function(a){if(!this._setfeature){this.scale*=a.scale||1,this.ratio*=a.ratio||1;var b=this.rotation;if(this.rotation=(this.rotation+(a.rotation||0))%360,!1!==this.events.triggerEvent("beforetransform",a)){var c=this.feature,d=c.geometry,e=this.center;d.rotate(-b,e),a.scale||a.ratio?d.resize(a.scale,e,a.ratio):a.center&&c.move(a.center.getBounds().getCenterLonLat()),d.rotate(this.rotation,e),this.layer.drawFeature(c),c.toState(OpenLayers.State.UPDATE),this.events.triggerEvent("transform",a)}}this.layer.drawFeature(this.box,this.renderIntent),this.drawHandles()},destroy:function(){for(var a,b=0;8>b;++b)a=this.box.geometry.components[b],a._handle.destroy(),a._handle=null,a._rotationHandle&&a._rotationHandle.destroy(),a._rotationHandle=null;this.rotationHandles=this.rotationHandleSymbolizer=this.handles=this.feature=this.center=null,this.box.destroy(),this.layer=this.box=null,this.dragControl.destroy(),this.dragControl=null,OpenLayers.Control.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.TransformFeature"}),OpenLayers.Handler.Box=OpenLayers.Class(OpenLayers.Handler,{dragHandler:null,boxDivClassName:"olHandlerBoxZoomBox",boxOffsets:null,initialize:function(){OpenLayers.Handler.prototype.initialize.apply(this,arguments),this.dragHandler=new OpenLayers.Handler.Drag(this,{down:this.startBox,move:this.moveBox,out:this.removeBox,up:this.endBox},{keyMask:this.keyMask})},destroy:function(){OpenLayers.Handler.prototype.destroy.apply(this,arguments),this.dragHandler&&(this.dragHandler.destroy(),this.dragHandler=null)},setMap:function(a){OpenLayers.Handler.prototype.setMap.apply(this,arguments),this.dragHandler&&this.dragHandler.setMap(a)},startBox:function(){this.callback("start",[]),this.zoomBox=OpenLayers.Util.createDiv("zoomBox",{x:-9999,y:-9999}),this.zoomBox.className=this.boxDivClassName,this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1,this.map.viewPortDiv.appendChild(this.zoomBox),OpenLayers.Element.addClass(this.map.viewPortDiv,"olDrawBox")},moveBox:function(a){var b=this.dragHandler.start.x,c=this.dragHandler.start.y,d=Math.abs(b-a.x),e=Math.abs(c-a.y),f=this.getBoxOffsets();this.zoomBox.style.width=d+f.width+1+"px",this.zoomBox.style.height=e+f.height+1+"px",this.zoomBox.style.left=(a.x<b?b-d-f.left:b-f.left)+"px",this.zoomBox.style.top=(a.y<c?c-e-f.top:c-f.top)+"px"},endBox:function(a){var b;if(5<Math.abs(this.dragHandler.start.x-a.x)||5<Math.abs(this.dragHandler.start.y-a.y)){var c=this.dragHandler.start;b=Math.min(c.y,a.y);var d=Math.max(c.y,a.y),e=Math.min(c.x,a.x);a=Math.max(c.x,a.x),b=new OpenLayers.Bounds(e,d,a,b)}else b=this.dragHandler.start.clone();this.removeBox(),this.callback("done",[b])},removeBox:function(){this.map.viewPortDiv.removeChild(this.zoomBox),this.boxOffsets=this.zoomBox=null,OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDrawBox")},activate:function(){return OpenLayers.Handler.prototype.activate.apply(this,arguments)?(this.dragHandler.activate(),!0):!1},deactivate:function(){return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)?(this.dragHandler.deactivate()&&this.zoomBox&&this.removeBox(),!0):!1},getBoxOffsets:function(){if(!this.boxOffsets){var a=document.createElement("div");a.style.position="absolute",a.style.border="1px solid black",a.style.width="3px",document.body.appendChild(a);var b=3==a.clientWidth;document.body.removeChild(a);var a=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-left-width")),c=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-right-width")),d=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-top-width")),e=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-bottom-width"));this.boxOffsets={left:a,right:c,top:d,bottom:e,width:!1===b?a+c:0,height:!1===b?d+e:0}}return this.boxOffsets},CLASS_NAME:"OpenLayers.Handler.Box"}),OpenLayers.Control.ZoomBox=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,out:!1,keyMask:null,alwaysZoom:!1,zoomOnClick:!0,draw:function(){this.handler=new OpenLayers.Handler.Box(this,{done:this.zoomBox},{keyMask:this.keyMask})},zoomBox:function(a){if(a instanceof OpenLayers.Bounds){var b,c=a.getCenterPixel();if(this.out){b=Math.min(this.map.size.h/(a.bottom-a.top),this.map.size.w/(a.right-a.left));var d=this.map.getExtent(),e=this.map.getLonLatFromPixel(c),f=e.lon-d.getWidth()/2*b;a=e.lon+d.getWidth()/2*b;var g=e.lat-d.getHeight()/2*b;b=e.lat+d.getHeight()/2*b,b=new OpenLayers.Bounds(f,g,a,b)}else f=this.map.getLonLatFromPixel({x:a.left,y:a.bottom}),a=this.map.getLonLatFromPixel({x:a.right,y:a.top}),b=new OpenLayers.Bounds(f.lon,f.lat,a.lon,a.lat);f=this.map.getZoom(),g=this.map.getSize(),a=g.w/2,g=g.h/2,b=this.map.getZoomForExtent(b),d=this.map.getResolution(),e=this.map.getResolutionForZoom(b),d==e?this.map.setCenter(this.map.getLonLatFromPixel(c)):this.map.zoomTo(b,{x:(d*c.x-e*a)/(d-e),y:(d*c.y-e*g)/(d-e)}),f==this.map.getZoom()&&1==this.alwaysZoom&&this.map.zoomTo(f+(this.out?-1:1))}else this.zoomOnClick&&(this.out?this.map.zoomTo(this.map.getZoom()-1,a):this.map.zoomTo(this.map.getZoom()+1,a))},CLASS_NAME:"OpenLayers.Control.ZoomBox"}),OpenLayers.Control.DragPan=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,panned:!1,interval:0,documentDrag:!1,kinetic:null,enableKinetic:!0,kineticInterval:10,draw:function(){if(this.enableKinetic&&OpenLayers.Kinetic){var a={interval:this.kineticInterval};"object"==typeof this.enableKinetic&&(a=OpenLayers.Util.extend(a,this.enableKinetic)),this.kinetic=new OpenLayers.Kinetic(a)}this.handler=new OpenLayers.Handler.Drag(this,{move:this.panMap,done:this.panMapDone,down:this.panMapStart},{interval:this.interval,documentDrag:this.documentDrag})},panMapStart:function(){this.kinetic&&this.kinetic.begin()},panMap:function(a){this.kinetic&&this.kinetic.update(a),this.panned=!0,this.map.pan(this.handler.last.x-a.x,this.handler.last.y-a.y,{dragging:!0,animate:!1})},panMapDone:function(a){if(this.panned){var b=null;if(this.kinetic&&(b=this.kinetic.end(a)),this.map.pan(this.handler.last.x-a.x,this.handler.last.y-a.y,{dragging:!!b,animate:!1}),b){var c=this;this.kinetic.move(b,function(a,b,d){c.map.pan(a,b,{dragging:!d,animate:!1})})}this.panned=!1}},CLASS_NAME:"OpenLayers.Control.DragPan"}),OpenLayers.Control.Navigation=OpenLayers.Class(OpenLayers.Control,{dragPan:null,dragPanOptions:null,pinchZoom:null,pinchZoomOptions:null,documentDrag:!1,zoomBox:null,zoomBoxEnabled:!0,zoomWheelEnabled:!0,mouseWheelOptions:null,handleRightClicks:!1,zoomBoxKeyMask:OpenLayers.Handler.MOD_SHIFT,autoActivate:!0,initialize:function(){this.handlers={},OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.deactivate(),this.dragPan&&this.dragPan.destroy(),this.dragPan=null,this.zoomBox&&this.zoomBox.destroy(),this.zoomBox=null,this.pinchZoom&&this.pinchZoom.destroy(),this.pinchZoom=null,OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){return this.dragPan.activate(),this.zoomWheelEnabled&&this.handlers.wheel.activate(),this.handlers.click.activate(),this.zoomBoxEnabled&&this.zoomBox.activate(),this.pinchZoom&&this.pinchZoom.activate(),OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){return this.pinchZoom&&this.pinchZoom.deactivate(),this.zoomBox.deactivate(),this.dragPan.deactivate(),this.handlers.click.deactivate(),this.handlers.wheel.deactivate(),OpenLayers.Control.prototype.deactivate.apply(this,arguments)},draw:function(){this.handleRightClicks&&(this.map.viewPortDiv.oncontextmenu=OpenLayers.Function.False),this.handlers.click=new OpenLayers.Handler.Click(this,{click:this.defaultClick,dblclick:this.defaultDblClick,dblrightclick:this.defaultDblRightClick},{"double":!0,stopDouble:!0}),this.dragPan=new OpenLayers.Control.DragPan(OpenLayers.Util.extend({map:this.map,documentDrag:this.documentDrag},this.dragPanOptions)),this.zoomBox=new OpenLayers.Control.ZoomBox({map:this.map,keyMask:this.zoomBoxKeyMask}),this.dragPan.draw(),this.zoomBox.draw(),this.handlers.wheel=new OpenLayers.Handler.MouseWheel(this,{up:this.wheelUp,down:this.wheelDown},OpenLayers.Util.extend(this.map.fractionalZoom?{}:{cumulative:!1,interval:50,maxDelta:6},this.mouseWheelOptions)),OpenLayers.Control.PinchZoom&&(this.pinchZoom=new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({map:this.map},this.pinchZoomOptions)))},defaultClick:function(a){a.lastTouches&&2==a.lastTouches.length&&this.map.zoomOut()},defaultDblClick:function(a){this.map.zoomTo(this.map.zoom+1,a.xy)},defaultDblRightClick:function(a){this.map.zoomTo(this.map.zoom-1,a.xy)},wheelChange:function(a,b){this.map.fractionalZoom||(b=Math.round(b));var c,d=this.map.getZoom();c=Math.max(d+b,0),c=Math.min(c,this.map.getNumZoomLevels()),c!==d&&this.map.zoomTo(c,a.xy)},wheelUp:function(a,b){this.wheelChange(a,b||1)},wheelDown:function(a,b){this.wheelChange(a,b||-1)},disableZoomBox:function(){this.zoomBoxEnabled=!1,this.zoomBox.deactivate()},enableZoomBox:function(){this.zoomBoxEnabled=!0,this.active&&this.zoomBox.activate()},disableZoomWheel:function(){this.zoomWheelEnabled=!1,this.handlers.wheel.deactivate()},enableZoomWheel:function(){this.zoomWheelEnabled=!0,this.active&&this.handlers.wheel.activate()},CLASS_NAME:"OpenLayers.Control.Navigation"}),OpenLayers.Control.DrawFeature=OpenLayers.Class(OpenLayers.Control,{layer:null,callbacks:null,multi:!1,featureAdded:function(){},initialize:function(a,b,c){OpenLayers.Control.prototype.initialize.apply(this,[c]),this.callbacks=OpenLayers.Util.extend({done:this.drawFeature,modify:function(a,b){this.layer.events.triggerEvent("sketchmodified",{vertex:a,feature:b})},create:function(a,b){this.layer.events.triggerEvent("sketchstarted",{vertex:a,feature:b})}},this.callbacks),this.layer=a,this.handlerOptions=this.handlerOptions||{},this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{renderers:a.renderers,rendererOptions:a.rendererOptions}),"multi"in this.handlerOptions||(this.handlerOptions.multi=this.multi),(a=this.layer.styleMap&&this.layer.styleMap.styles.temporary)&&(this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":a})})),this.handler=new b(this,this.callbacks,this.handlerOptions)},drawFeature:function(a){a=new OpenLayers.Feature.Vector(a),!1!==this.layer.events.triggerEvent("sketchcomplete",{feature:a})&&(a.state=OpenLayers.State.INSERT,this.layer.addFeatures([a]),this.featureAdded(a),this.events.triggerEvent("featureadded",{feature:a}))},insertXY:function(a,b){this.handler&&this.handler.line&&this.handler.insertXY(a,b)},insertDeltaXY:function(a,b){this.handler&&this.handler.line&&this.handler.insertDeltaXY(a,b)},insertDirectionLength:function(a,b){this.handler&&this.handler.line&&this.handler.insertDirectionLength(a,b)},insertDeflectionLength:function(a,b){this.handler&&this.handler.line&&this.handler.insertDeflectionLength(a,b)},undo:function(){return this.handler.undo&&this.handler.undo()},redo:function(){return this.handler.redo&&this.handler.redo()},finishSketch:function(){this.handler.finishGeometry()},cancel:function(){this.handler.cancel()},CLASS_NAME:"OpenLayers.Control.DrawFeature"}),OpenLayers.Handler.Polygon=OpenLayers.Class(OpenLayers.Handler.Path,{holeModifier:null,drawingHole:!1,polygon:null,createFeature:function(a){a=this.layer.getLonLatFromViewPortPx(a),a=new OpenLayers.Geometry.Point(a.lon,a.lat),this.point=new OpenLayers.Feature.Vector(a),this.line=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LinearRing([this.point.geometry])),this.polygon=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([this.line.geometry])),this.callback("create",[this.point.geometry,this.getSketch()]),this.point.geometry.clearBounds(),this.layer.addFeatures([this.polygon,this.point],{silent:!0})},addPoint:function(){if(!this.drawingHole&&this.holeModifier&&this.evt&&this.evt[this.holeModifier])for(var a,b=this.point.geometry,c=this.control.layer.features,d=c.length-1;d>=0;--d)if(a=c[d].geometry,(a instanceof OpenLayers.Geometry.Polygon||a instanceof OpenLayers.Geometry.MultiPolygon)&&a.intersects(b)){b=c[d],this.control.layer.removeFeatures([b],{silent:!0}),this.control.layer.events.registerPriority("sketchcomplete",this,this.finalizeInteriorRing),this.control.layer.events.registerPriority("sketchmodified",this,this.enforceTopology),b.geometry.addComponent(this.line.geometry),this.polygon=b,this.drawingHole=!0;break}OpenLayers.Handler.Path.prototype.addPoint.apply(this,arguments)},getCurrentPointIndex:function(){return this.line.geometry.components.length-2},enforceTopology:function(a){a=a.vertex;var b=this.line.geometry.components;this.polygon.geometry.intersects(a)||(b=b[b.length-3],a.x=b.x,a.y=b.y)},finishGeometry:function(){this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length-2]),this.removePoint(),this.finalize()},finalizeInteriorRing:function(){var a=this.line.geometry,b=0!==a.getArea();if(b){for(var c=this.polygon.geometry.components,d=c.length-2;d>=0;--d)if(a.intersects(c[d])){b=!1;break}if(b)a:for(d=c.length-2;d>0;--d)for(var e=c[d].components,f=0,g=e.length;g>f;++f)if(a.containsPoint(e[f])){b=!1;break a}}return b?this.polygon.state!==OpenLayers.State.INSERT&&(this.polygon.state=OpenLayers.State.UPDATE):this.polygon.geometry.removeComponent(a),this.restoreFeature(),!1},cancel:function(){return this.drawingHole&&(this.polygon.geometry.removeComponent(this.line.geometry),this.restoreFeature(!0)),OpenLayers.Handler.Path.prototype.cancel.apply(this,arguments)},restoreFeature:function(a){this.control.layer.events.unregister("sketchcomplete",this,this.finalizeInteriorRing),this.control.layer.events.unregister("sketchmodified",this,this.enforceTopology),this.layer.removeFeatures([this.polygon],{silent:!0}),this.control.layer.addFeatures([this.polygon],{silent:!0}),this.drawingHole=!1,a||this.control.layer.events.triggerEvent("sketchcomplete",{feature:this.polygon})},destroyFeature:function(a){OpenLayers.Handler.Path.prototype.destroyFeature.call(this,a),this.polygon=null},drawFeature:function(){this.layer.drawFeature(this.polygon,this.style),this.layer.drawFeature(this.point,this.style)},getSketch:function(){return this.polygon},getGeometry:function(){var a=this.polygon&&this.polygon.geometry;return a&&this.multi&&(a=new OpenLayers.Geometry.MultiPolygon([a])),a},CLASS_NAME:"OpenLayers.Handler.Polygon"}),OpenLayers.Control.EditingToolbar=OpenLayers.Class(OpenLayers.Control.Panel,{citeCompliant:!1,initialize:function(a,b){OpenLayers.Control.Panel.prototype.initialize.apply(this,[b]),this.addControls([new OpenLayers.Control.Navigation]);var c=[new OpenLayers.Control.DrawFeature(a,OpenLayers.Handler.Point,{displayClass:"olControlDrawFeaturePoint",handlerOptions:{citeCompliant:this.citeCompliant}}),new OpenLayers.Control.DrawFeature(a,OpenLayers.Handler.Path,{displayClass:"olControlDrawFeaturePath",handlerOptions:{citeCompliant:this.citeCompliant}}),new OpenLayers.Control.DrawFeature(a,OpenLayers.Handler.Polygon,{displayClass:"olControlDrawFeaturePolygon",handlerOptions:{citeCompliant:this.citeCompliant}})];this.addControls(c)},draw:function(){var a=OpenLayers.Control.Panel.prototype.draw.apply(this,arguments);return null===this.defaultControl&&(this.defaultControl=this.controls[0]),a},CLASS_NAME:"OpenLayers.Control.EditingToolbar"}),OpenLayers.Strategy.BBOX=OpenLayers.Class(OpenLayers.Strategy,{bounds:null,resolution:null,ratio:2,resFactor:null,response:null,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);return a&&(this.layer.events.on({moveend:this.update,refresh:this.update,visibilitychanged:this.update,scope:this}),this.update()),a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);return a&&this.layer.events.un({moveend:this.update,refresh:this.update,visibilitychanged:this.update,scope:this}),a},update:function(a){var b=this.getMapBounds();null!==b&&(a&&a.force||this.layer.visibility&&this.layer.calculateInRange()&&this.invalidBounds(b))&&(this.calculateBounds(b),this.resolution=this.layer.map.getResolution(),this.triggerRead(a))},getMapBounds:function(){if(null===this.layer.map)return null;var a=this.layer.map.getExtent();return a&&!this.layer.projection.equals(this.layer.map.getProjectionObject())&&(a=a.clone().transform(this.layer.map.getProjectionObject(),this.layer.projection)),a},invalidBounds:function(a){return a||(a=this.getMapBounds()),a=!this.bounds||!this.bounds.containsBounds(a),!a&&this.resFactor&&(a=this.resolution/this.layer.map.getResolution(),a=a>=this.resFactor||a<=1/this.resFactor),a},calculateBounds:function(a){a||(a=this.getMapBounds());var b=a.getCenterLonLat(),c=a.getWidth()*this.ratio;a=a.getHeight()*this.ratio,this.bounds=new OpenLayers.Bounds(b.lon-c/2,b.lat-a/2,b.lon+c/2,b.lat+a/2)},triggerRead:function(a){!this.response||a&&!0===a.noAbort||(this.layer.protocol.abort(this.response),this.layer.events.triggerEvent("loadend"));var b={filter:this.createFilter()};this.layer.events.triggerEvent("loadstart",b),this.response=this.layer.protocol.read(OpenLayers.Util.applyDefaults({filter:b.filter,callback:this.merge,scope:this},a))},createFilter:function(){var a=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,value:this.bounds,projection:this.layer.projection});return this.layer.filter&&(a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[this.layer.filter,a]})),a},merge:function(a){if(this.layer.destroyFeatures(),a.success()){var b=a.features;if(b&&0<b.length){var c=this.layer.projection,d=this.layer.map.getProjectionObject();if(!d.equals(c))for(var e,f=0,g=b.length;g>f;++f)(e=b[f].geometry)&&e.transform(c,d);this.layer.addFeatures(b)}}else this.bounds=null;this.response=null,this.layer.events.triggerEvent("loadend",{response:a})},CLASS_NAME:"OpenLayers.Strategy.BBOX"}),OpenLayers.Layer.WorldWind=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{},isBaseLayer:!0,lzd:null,zoomLevels:null,initialize:function(a,b,c,d,e,f){this.lzd=c,this.zoomLevels=d,c=[],c.push(a,b,e,f),OpenLayers.Layer.Grid.prototype.initialize.apply(this,c),this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS)},getZoom:function(){var a=this.map.getZoom();return this.map.getMaxExtent(),a-=Math.log(this.maxResolution/(this.lzd/512))/Math.log(2)},getURL:function(a){a=this.adjustBounds(a);var b=this.getZoom(),c=this.map.getMaxExtent(),d=this.lzd/Math.pow(2,this.getZoom()),e=Math.floor((a.left-c.left)/d);return a=Math.floor((a.bottom-c.bottom)/d),this.map.getResolution()<=this.lzd/512&&this.getZoom()<=this.zoomLevels?this.getFullRequestString({L:b,X:e,Y:a}):OpenLayers.Util.getImageLocation("blank.gif")},CLASS_NAME:"OpenLayers.Layer.WorldWind"}),OpenLayers.Protocol.CSW=function(a){a=OpenLayers.Util.applyDefaults(a,OpenLayers.Protocol.CSW.DEFAULTS);var b=OpenLayers.Protocol.CSW["v"+a.version.replace(/\./g,"_")];if(!b)throw"Unsupported CSW version: "+a.version;return new b(a)},OpenLayers.Protocol.CSW.DEFAULTS={version:"2.0.2"},OpenLayers.Format.WMTSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",yx:{"urn:ogc:def:crs:EPSG::4326":!0},createLayer:function(a,b){if(!("layer"in b))throw Error("Missing property 'layer' in configuration.");for(var c,d=a.contents,e=0,f=d.layers.length;f>e;++e)if(d.layers[e].identifier===b.layer){c=d.layers[e];break}if(!c)throw Error("Layer not found");var g=b.format;!g&&c.formats&&c.formats.length&&(g=c.formats[0]);var h;if(b.matrixSet?h=d.tileMatrixSets[b.matrixSet]:1<=c.tileMatrixSetLinks.length&&(h=d.tileMatrixSets[c.tileMatrixSetLinks[0].tileMatrixSet]),!h)throw Error("matrixSet not found");for(var i,e=0,f=c.styles.length;f>e&&(i=c.styles[e],!i.isDefault);++e);if(d=b.requestEncoding,!d&&(d="KVP",a.operationsMetadata.GetTile.dcp.http)){var j=a.operationsMetadata.GetTile.dcp.http;j.get[0].constraints&&(j=j.get[0].constraints.GetEncoding.allowedValues,j.KVP||!j.REST&&!j.RESTful||(d="REST"))}var j=[],k=b.params||{};delete b.params;for(var l=0,m=c.dimensions.length;m>l;l++){var n=c.dimensions[l];j.push(n.identifier),k.hasOwnProperty(n.identifier)||(k[n.identifier]=n["default"])}var o,l=b.projection||h.supportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),m=b.units||("EPSG:4326"===l?"degrees":"m"),n=[];for(o in h.matrixIds)h.matrixIds.hasOwnProperty(o)&&n.push(28e-5*h.matrixIds[o].scaleDenominator/OpenLayers.METERS_PER_INCH/OpenLayers.INCHES_PER_UNIT[m]);if("REST"===d&&c.resourceUrls){o=[];for(var f=0,p=c.resourceUrls.length;p>f;++f)e=c.resourceUrls[f],e.format===g&&"tile"===e.resourceType&&o.push(e.template)}else{p=a.operationsMetadata.GetTile.dcp.http.get,o=[];for(var q,e=0,f=p.length;f>e;e++)q=p[e].constraints,(!q||q&&q.GetEncoding.allowedValues[d])&&o.push(p[e].url)}return new OpenLayers.Layer.WMTS(OpenLayers.Util.applyDefaults(b,{url:o,requestEncoding:d,name:c.title,style:i.identifier,format:g,matrixIds:h.matrixIds,matrixSet:h.identifier,projection:l,units:m,resolutions:!1===b.isBaseLayer?void 0:n,serverResolutions:n,tileFullExtent:h.bounds,dimensions:j,params:k}))},CLASS_NAME:"OpenLayers.Format.WMTSCapabilities"}),OpenLayers.Layer.Google.v3={DEFAULTS:{sphericalMercator:!0,projection:"EPSG:900913"},animationEnabled:!0,loadMapObject:function(){this.type||(this.type=google.maps.MapTypeId.ROADMAP);var a,b=OpenLayers.Layer.Google.cache[this.map.id];b?(a=b.mapObject,++b.count):(a=this.map.getCenter(),b=document.createElement("div"),b.className="olForeignContainer",b.style.width="100%",b.style.height="100%",a=new google.maps.Map(b,{center:a?new google.maps.LatLng(a.lat,a.lon):new google.maps.LatLng(0,0),zoom:this.map.getZoom()||0,mapTypeId:this.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1}),b=document.createElement("div"),b.style.width="100%",b.style.height="100%",a.controls[google.maps.ControlPosition.TOP_LEFT].push(b),b={googleControl:b,mapObject:a,count:1},OpenLayers.Layer.Google.cache[this.map.id]=b),this.mapObject=a,this.setGMapVisibility(this.visibility)},onMapResize:function(){this.visibility&&google.maps.event.trigger(this.mapObject,"resize")},setGMapVisibility:function(a){var b=OpenLayers.Layer.Google.cache[this.map.id],c=this.map;if(b){for(var d,e=this.type,f=c.layers,g=f.length-1;g>=0;--g)if(d=f[g],d instanceof OpenLayers.Layer.Google&&!0===d.visibility&&!0===d.inRange){e=d.type,a=!0;break}if(f=this.mapObject.getDiv(),!0===a){if(f.parentNode!==c.div)if(b.rendered)c.div.appendChild(f),b.googleControl.appendChild(c.viewPortDiv),google.maps.event.trigger(this.mapObject,"resize");else{var h=this;google.maps.event.addListenerOnce(this.mapObject,"tilesloaded",function(){b.rendered=!0,h.setGMapVisibility(h.getVisibility()),h.moveTo(h.map.getCenter())})}this.mapObject.setMapTypeId(e)}else b.googleControl.hasChildNodes()&&(c.div.appendChild(c.viewPortDiv),c.div.removeChild(f))}},getMapContainer:function(){return this.mapObject.getDiv()},getMapObjectBoundsFromOLBounds:function(a){var b=null;return null!=a&&(b=this.sphericalMercator?this.inverseMercator(a.bottom,a.left):new OpenLayers.LonLat(a.bottom,a.left),a=this.sphericalMercator?this.inverseMercator(a.top,a.right):new OpenLayers.LonLat(a.top,a.right),b=new google.maps.LatLngBounds(new google.maps.LatLng(b.lat,b.lon),new google.maps.LatLng(a.lat,a.lon))),b},getMapObjectLonLatFromMapObjectPixel:function(a){var b=this.map.getSize(),c=this.getLongitudeFromMapObjectLonLat(this.mapObject.center),d=this.getLatitudeFromMapObjectLonLat(this.mapObject.center),e=this.map.getResolution();return a=new OpenLayers.LonLat(c+(a.x-b.w/2)*e,d-(a.y-b.h/2)*e),this.wrapDateLine&&(a=a.wrapDateLine(this.maxExtent)),this.getMapObjectLonLatFromLonLat(a.lon,a.lat)},getMapObjectPixelFromMapObjectLonLat:function(a){var b=this.getLongitudeFromMapObjectLonLat(a);a=this.getLatitudeFromMapObjectLonLat(a);var c=this.map.getResolution(),d=this.map.getExtent();return this.getMapObjectPixelFromXY(1/c*(b-d.left),1/c*(d.top-a))},setMapObjectCenter:function(a,b){if(!1===this.animationEnabled&&b!=this.mapObject.zoom){var c=this.getMapContainer();google.maps.event.addListenerOnce(this.mapObject,"idle",function(){c.style.visibility=""}),c.style.visibility="hidden"}this.mapObject.setOptions({center:a,zoom:b})},getMapObjectZoomFromMapObjectBounds:function(a){return this.mapObject.getBoundsZoomLevel(a)},getMapObjectLonLatFromLonLat:function(a,b){var c;return this.sphericalMercator?(c=this.inverseMercator(a,b),c=new google.maps.LatLng(c.lat,c.lon)):c=new google.maps.LatLng(b,a),c},getMapObjectPixelFromXY:function(a,b){return new google.maps.Point(a,b)}},OpenLayers.Format.WPSDescribeProcess=OpenLayers.Class(OpenLayers.Format.XML,{VERSION:"1.0.0",namespaces:{wps:"http://www.opengis.net/wps/1.0.0",ows:"http://www.opengis.net/ows/1.1",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",defaultPrefix:"wps",regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},readers:{wps:{ProcessDescriptions:function(a,b){b.processDescriptions={},this.readChildNodes(a,b.processDescriptions)},ProcessDescription:function(a,b){var c={processVersion:this.getAttributeNS(a,this.namespaces.wps,"processVersion"),statusSupported:"true"===a.getAttribute("statusSupported"),storeSupported:"true"===a.getAttribute("storeSupported")};this.readChildNodes(a,c),b[c.identifier]=c},DataInputs:function(a,b){b.dataInputs=[],this.readChildNodes(a,b.dataInputs)},ProcessOutputs:function(a,b){b.processOutputs=[],this.readChildNodes(a,b.processOutputs)},Output:function(a,b){var c={};this.readChildNodes(a,c),b.push(c)},ComplexOutput:function(a,b){b.complexOutput={},this.readChildNodes(a,b.complexOutput)},LiteralOutput:function(a,b){b.literalOutput={},this.readChildNodes(a,b.literalOutput)},Input:function(a,b){var c={maxOccurs:parseInt(a.getAttribute("maxOccurs")),minOccurs:parseInt(a.getAttribute("minOccurs"))};this.readChildNodes(a,c),b.push(c)},BoundingBoxData:function(a,b){b.boundingBoxData={},this.readChildNodes(a,b.boundingBoxData)},CRS:function(a,b){b.CRSs||(b.CRSs={}),b.CRSs[this.getChildValue(a)]=!0},LiteralData:function(a,b){b.literalData={},this.readChildNodes(a,b.literalData)},ComplexData:function(a,b){b.complexData={},this.readChildNodes(a,b.complexData)
},Default:function(a,b){b["default"]={},this.readChildNodes(a,b["default"])},Supported:function(a,b){b.supported={},this.readChildNodes(a,b.supported)},Format:function(a,b){var c={};this.readChildNodes(a,c),b.formats||(b.formats={}),b.formats[c.mimeType]=!0},MimeType:function(a,b){b.mimeType=this.getChildValue(a)}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WPSDescribeProcess"}),OpenLayers.Format.WKT=OpenLayers.Class(OpenLayers.Format,{initialize:function(a){this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},OpenLayers.Format.prototype.initialize.apply(this,[a])},read:function(a){var b,c;if(a=a.replace(/[\n\r]/g," "),(c=this.regExes.typeStr.exec(a))&&(a=c[1].toLowerCase(),c=c[2],this.parse[a]&&(b=this.parse[a].apply(this,[c])),this.internalProjection&&this.externalProjection))if(b&&"OpenLayers.Feature.Vector"==b.CLASS_NAME)b.geometry.transform(this.externalProjection,this.internalProjection);else if(b&&"geometrycollection"!=a&&"object"==typeof b)for(a=0,c=b.length;c>a;a++)b[a].geometry.transform(this.externalProjection,this.internalProjection);return b},write:function(a){var b,c;a.constructor==Array?c=!0:(a=[a],c=!1);var d=[];c&&d.push("GEOMETRYCOLLECTION(");for(var e=0,f=a.length;f>e;++e)c&&e>0&&d.push(","),b=a[e].geometry,d.push(this.extractGeometry(b));return c&&d.push(")"),d.join("")},extractGeometry:function(a){var b=a.CLASS_NAME.split(".")[2].toLowerCase();return this.extract[b]?(this.internalProjection&&this.externalProjection&&(a=a.clone(),a.transform(this.internalProjection,this.externalProjection)),("collection"==b?"GEOMETRYCOLLECTION":b.toUpperCase())+"("+this.extract[b].apply(this,[a])+")"):null},extract:{point:function(a){return a.x+" "+a.y},multipoint:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.point.apply(this,[a.components[c]])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.linestring.apply(this,[a.components[c]])+")");return b.join(",")},polygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.linestring.apply(this,[a.components[c]])+")");return b.join(",")},multipolygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.polygon.apply(this,[a.components[c]])+")");return b.join(",")},collection:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extractGeometry.apply(this,[a.components[c]]));return b.join(",")}},parse:{point:function(a){return a=OpenLayers.String.trim(a).split(this.regExes.spaces),new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(a[0],a[1]))},multipoint:function(a){for(var b=OpenLayers.String.trim(a).split(","),c=[],d=0,e=b.length;e>d;++d)a=b[d].replace(this.regExes.trimParens,"$1"),c.push(this.parse.point.apply(this,[a]).geometry);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPoint(c))},linestring:function(a){a=OpenLayers.String.trim(a).split(",");for(var b=[],c=0,d=a.length;d>c;++c)b.push(this.parse.point.apply(this,[a[c]]).geometry);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString(b))},multilinestring:function(a){for(var b=OpenLayers.String.trim(a).split(this.regExes.parenComma),c=[],d=0,e=b.length;e>d;++d)a=b[d].replace(this.regExes.trimParens,"$1"),c.push(this.parse.linestring.apply(this,[a]).geometry);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiLineString(c))},polygon:function(a){var b;a=OpenLayers.String.trim(a).split(this.regExes.parenComma);for(var c=[],d=0,e=a.length;e>d;++d)b=a[d].replace(this.regExes.trimParens,"$1"),b=this.parse.linestring.apply(this,[b]).geometry,b=new OpenLayers.Geometry.LinearRing(b.components),c.push(b);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon(c))},multipolygon:function(a){for(var b=OpenLayers.String.trim(a).split(this.regExes.doubleParenComma),c=[],d=0,e=b.length;e>d;++d)a=b[d].replace(this.regExes.trimParens,"$1"),c.push(this.parse.polygon.apply(this,[a]).geometry);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPolygon(c))},geometrycollection:function(a){a=a.replace(/,\s*([A-Za-z])/g,"|$1"),a=OpenLayers.String.trim(a).split("|");for(var b=[],c=0,d=a.length;d>c;++c)b.push(OpenLayers.Format.WKT.prototype.read.apply(this,[a[c]]));return b}},CLASS_NAME:"OpenLayers.Format.WKT"}),OpenLayers.WPSProcess=OpenLayers.Class({client:null,server:null,identifier:null,description:null,localWPS:"http://geoserver/wps",formats:null,chained:0,executeCallbacks:null,initialize:function(a){OpenLayers.Util.extend(this,a),this.executeCallbacks=[],this.formats={"application/wkt":new OpenLayers.Format.WKT,"application/json":new OpenLayers.Format.GeoJSON}},describe:function(a){if(a=a||{},this.description){if(a.callback){var b=this.description;window.setTimeout(function(){a.callback.call(a.scope,b)},0)}}else this.client.describeProcess(this.server,this.identifier,function(b){this.description||this.parseDescription(b),a.callback&&a.callback.call(a.scope,this.description)},this)},configure:function(a){return this.describe({callback:function(){var b,c,d,e=this.description,f=a.inputs;for(c=0,d=e.dataInputs.length;d>c;++c)b=e.dataInputs[c],this.setInputData(b,f[b.identifier]);a.callback&&a.callback.call(a.scope)},scope:this}),this},execute:function(a){this.configure({inputs:a.inputs,callback:function(){var b=this,c=this.getOutputIndex(b.description.processOutputs,a.output);b.setResponseForm({outputIndex:c}),function d(){OpenLayers.Util.removeItem(b.executeCallbacks,d),0!==b.chained?b.executeCallbacks.push(d):OpenLayers.Request.POST({url:b.client.servers[b.server].url,data:(new OpenLayers.Format.WPSExecute).write(b.description),success:function(d){var e=b.findMimeType(b.description.processOutputs[c].complexOutput.supported.formats);d=b.formats[e].read(d.responseText),d instanceof OpenLayers.Feature.Vector&&(d=[d]),a.success&&(e={},e[a.output||"result"]=d,a.success.call(a.scope,e))},scope:b})}()},scope:this})},output:function(a){return new OpenLayers.WPSProcess.ChainLink({process:this,output:a})},parseDescription:function(a){a=this.client.servers[this.server],this.description=(new OpenLayers.Format.WPSDescribeProcess).read(a.processDescription[this.identifier]).processDescriptions[this.identifier]},setInputData:function(a,b){if(delete a.data,delete a.reference,b instanceof OpenLayers.WPSProcess.ChainLink)++this.chained,a.reference={method:"POST",href:b.process.server===this.server?this.localWPS:this.client.servers[b.process.server].url},b.process.describe({callback:function(){--this.chained,this.chainProcess(a,b)},scope:this});else{a.data={};var c=a.complexData;c?(c=this.findMimeType(c.supported.formats),a.data.complexData={mimeType:c,value:this.formats[c].write(this.toFeatures(b))}):a.data.literalData={value:b}}},setResponseForm:function(a){a=a||{};var b=this.description.processOutputs[a.outputIndex||0];this.description.responseForm={rawDataOutput:{identifier:b.identifier,mimeType:this.findMimeType(b.complexOutput.supported.formats,a.supportedFormats)}}},getOutputIndex:function(a,b){var c;if(b){for(var d=a.length-1;d>=0;--d)if(a[d].identifier===b){c=d;break}}else c=0;return c},chainProcess:function(a,b){var c=this.getOutputIndex(b.process.description.processOutputs,b.output);a.reference.mimeType=this.findMimeType(a.complexData.supported.formats,b.process.description.processOutputs[c].complexOutput.supported.formats);var d={};for(d[a.reference.mimeType]=!0,b.process.setResponseForm({outputIndex:c,supportedFormats:d}),a.reference.body=b.process.description;0<this.executeCallbacks.length;)this.executeCallbacks[0]()},toFeatures:function(a){var b=OpenLayers.Util.isArray(a);b||(a=[a]);for(var c,d=Array(a.length),e=0,f=a.length;f>e;++e)c=a[e],d[e]=c instanceof OpenLayers.Feature.Vector?c:new OpenLayers.Feature.Vector(c);return b?d:d[0]},findMimeType:function(a,b){b=b||this.formats;for(var c in a)if(c in b)return c},CLASS_NAME:"OpenLayers.WPSProcess"}),OpenLayers.WPSProcess.ChainLink=OpenLayers.Class({process:null,output:null,initialize:function(a){OpenLayers.Util.extend(this,a)},CLASS_NAME:"OpenLayers.WPSProcess.ChainLink"}),OpenLayers.WPSClient=OpenLayers.Class({servers:null,version:"1.0.0",lazy:!1,events:null,initialize:function(a){OpenLayers.Util.extend(this,a),this.events=new OpenLayers.Events(this),this.servers={};for(var b in a.servers)this.servers[b]="string"==typeof a.servers[b]?{url:a.servers[b],version:this.version,processDescription:{}}:a.servers[b]},execute:function(a){this.getProcess(a.server,a.process).execute({inputs:a.inputs,success:a.success,scope:a.scope})},getProcess:function(a,b){var c=new OpenLayers.WPSProcess({client:this,server:a,identifier:b});return this.lazy||c.describe(),c},describeProcess:function(a,b,c,d){var e=this.servers[a];e.processDescription[b]?window.setTimeout(function(){c.call(d,e.processDescription[b])},0):b in e.processDescription?this.events.register("describeprocess",this,function f(a){a.identifier===b&&(this.events.unregister("describeprocess",this,f),c.call(d,a.raw))}):(e.processDescription[b]=null,OpenLayers.Request.GET({url:e.url,params:{SERVICE:"WPS",VERSION:e.version,REQUEST:"DescribeProcess",IDENTIFIER:b},success:function(a){e.processDescription[b]=a.responseText,this.events.triggerEvent("describeprocess",{identifier:b,raw:a.responseText})},scope:this}))},destroy:function(){this.events.destroy(),this.servers=this.events=null},CLASS_NAME:"OpenLayers.WPSClient"}),OpenLayers.Format.CSWGetRecords.v2_0_2=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{csw:"http://www.opengis.net/cat/csw/2.0.2",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",gmd:"http://www.isotc211.org/2005/gmd",geonet:"http://www.fao.org/geonetwork",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"csw",version:"2.0.2",schemaLocation:"http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",requestId:null,resultType:null,outputFormat:null,outputSchema:null,startPosition:null,maxRecords:null,DistributedSearch:null,ResponseHandler:null,Query:null,regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},readers:{csw:{GetRecordsResponse:function(a,b){b.records=[],this.readChildNodes(a,b);var c=this.getAttributeNS(a,"","version");""!=c&&(b.version=c)},RequestId:function(a,b){b.RequestId=this.getChildValue(a)},SearchStatus:function(a,b){b.SearchStatus={};var c=this.getAttributeNS(a,"","timestamp");""!=c&&(b.SearchStatus.timestamp=c)},SearchResults:function(a,b){this.readChildNodes(a,b);for(var c=a.attributes,d={},e=0,f=c.length;f>e;++e)d[c[e].name]="numberOfRecordsMatched"==c[e].name||"numberOfRecordsReturned"==c[e].name||"nextRecord"==c[e].name?parseInt(c[e].nodeValue):c[e].nodeValue;b.SearchResults=d},SummaryRecord:function(a,b){var c={type:"SummaryRecord"};this.readChildNodes(a,c),b.records.push(c)},BriefRecord:function(a,b){var c={type:"BriefRecord"};this.readChildNodes(a,c),b.records.push(c)},DCMIRecord:function(a,b){var c={type:"DCMIRecord"};this.readChildNodes(a,c),b.records.push(c)},Record:function(a,b){var c={type:"Record"};this.readChildNodes(a,c),b.records.push(c)},"*":function(a,b){var c=a.localName||a.nodeName.split(":").pop();b[c]=this.getChildValue(a)}},geonet:{info:function(a,b){var c={};this.readChildNodes(a,c),b.gninfo=c}},dc:{"*":function(a,b){var c=a.localName||a.nodeName.split(":").pop();OpenLayers.Util.isArray(b[c])||(b[c]=[]);for(var d={},e=a.attributes,f=0,g=e.length;g>f;++f)d[e[f].name]=e[f].nodeValue;d.value=this.getChildValue(a),""!=d.value&&b[c].push(d)}},dct:{"*":function(a,b){var c=a.localName||a.nodeName.split(":").pop();OpenLayers.Util.isArray(b[c])||(b[c]=[]),b[c].push(this.getChildValue(a))}},ows:OpenLayers.Util.applyDefaults({BoundingBox:function(a,b){b.bounds&&(b.BoundingBox=[{crs:b.projection,value:[b.bounds.left,b.bounds.bottom,b.bounds.right,b.bounds.top]}],delete b.projection,delete b.bounds),OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows.BoundingBox.apply(this,arguments)}},OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows)},write:function(a){return a=this.writeNode("csw:GetRecords",a),a.setAttribute("xmlns:gmd",this.namespaces.gmd),OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{csw:{GetRecords:function(a){a||(a={});var b=this.createElementNSPlus("csw:GetRecords",{attributes:{service:"CSW",version:this.version,requestId:a.requestId||this.requestId,resultType:a.resultType||this.resultType,outputFormat:a.outputFormat||this.outputFormat,outputSchema:a.outputSchema||this.outputSchema,startPosition:a.startPosition||this.startPosition,maxRecords:a.maxRecords||this.maxRecords}});(a.DistributedSearch||this.DistributedSearch)&&this.writeNode("csw:DistributedSearch",a.DistributedSearch||this.DistributedSearch,b);var c=a.ResponseHandler||this.ResponseHandler;if(OpenLayers.Util.isArray(c)&&0<c.length)for(var d=0,e=c.length;e>d;d++)this.writeNode("csw:ResponseHandler",c[d],b);return this.writeNode("Query",a.Query||this.Query,b),b},DistributedSearch:function(a){return this.createElementNSPlus("csw:DistributedSearch",{attributes:{hopCount:a.hopCount}})},ResponseHandler:function(a){return this.createElementNSPlus("csw:ResponseHandler",{value:a.value})},Query:function(a){a||(a={});var b=this.createElementNSPlus("csw:Query",{attributes:{typeNames:a.typeNames||"csw:Record"}}),c=a.ElementName;if(OpenLayers.Util.isArray(c)&&0<c.length)for(var d=0,e=c.length;e>d;d++)this.writeNode("csw:ElementName",c[d],b);else this.writeNode("csw:ElementSetName",a.ElementSetName||{value:"summary"},b);return a.Constraint&&this.writeNode("csw:Constraint",a.Constraint,b),a.SortBy&&this.writeNode("ogc:SortBy",a.SortBy,b),b},ElementName:function(a){return this.createElementNSPlus("csw:ElementName",{value:a.value})},ElementSetName:function(a){return this.createElementNSPlus("csw:ElementSetName",{attributes:{typeNames:a.typeNames},value:a.value})},Constraint:function(a){var b=this.createElementNSPlus("csw:Constraint",{attributes:{version:a.version}});if(a.Filter){var c=new OpenLayers.Format.Filter({version:a.version});b.appendChild(c.write(a.Filter))}else a.CqlText&&(a=this.createElementNSPlus("CqlText",{value:a.CqlText.value}),b.appendChild(a));return b}},ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.CSWGetRecords.v2_0_2"}),OpenLayers.Marker.Box=OpenLayers.Class(OpenLayers.Marker,{bounds:null,div:null,initialize:function(a,b,c){this.bounds=a,this.div=OpenLayers.Util.createDiv(),this.div.style.overflow="hidden",this.events=new OpenLayers.Events(this,this.div),this.setBorder(b,c)},destroy:function(){this.div=this.bounds=null,OpenLayers.Marker.prototype.destroy.apply(this,arguments)},setBorder:function(a,b){a||(a="red"),b||(b=2),this.div.style.border=b+"px solid "+a},draw:function(a,b){return OpenLayers.Util.modifyDOMElement(this.div,null,a,b),this.div},onScreen:function(){var a=!1;return this.map&&(a=this.map.getExtent().containsBounds(this.bounds,!0,!0)),a},display:function(a){this.div.style.display=a?"":"none"},CLASS_NAME:"OpenLayers.Marker.Box"}),OpenLayers.Format.Text=OpenLayers.Class(OpenLayers.Format,{defaultStyle:null,extractStyles:!0,initialize:function(a){a=a||{},!1!==a.extractStyles&&(a.defaultStyle={externalGraphic:OpenLayers.Util.getImageLocation("marker.png"),graphicWidth:21,graphicHeight:25,graphicXOffset:-10.5,graphicYOffset:-12.5}),OpenLayers.Format.prototype.initialize.apply(this,[a])},read:function(a){a=a.split("\n");for(var b,c=[],d=0;d<a.length-1;d++){var e=a[d].replace(/^\s*/,"").replace(/\s*$/,"");if("#"!=e.charAt(0))if(b){for(var e=e.split("	"),f=new OpenLayers.Geometry.Point(0,0),g={},h=this.defaultStyle?OpenLayers.Util.applyDefaults({},this.defaultStyle):null,i=!1,j=0;j<e.length;j++)if(e[j])if("point"==b[j])i=e[j].split(","),f.y=parseFloat(i[0]),f.x=parseFloat(i[1]),i=!0;else if("lat"==b[j])f.y=parseFloat(e[j]),i=!0;else if("lon"==b[j])f.x=parseFloat(e[j]),i=!0;else if("title"==b[j])g.title=e[j];else if("image"==b[j]||"icon"==b[j]&&h)h.externalGraphic=e[j];else if("iconSize"==b[j]&&h){var k=e[j].split(",");h.graphicWidth=parseFloat(k[0]),h.graphicHeight=parseFloat(k[1])}else"iconOffset"==b[j]&&h?(k=e[j].split(","),h.graphicXOffset=parseFloat(k[0]),h.graphicYOffset=parseFloat(k[1])):"description"==b[j]?g.description=e[j]:"overflow"==b[j]?g.overflow=e[j]:g[b[j]]=e[j];i&&(this.internalProjection&&this.externalProjection&&f.transform(this.externalProjection,this.internalProjection),e=new OpenLayers.Feature.Vector(f,g,h),c.push(e))}else b=e.split("	")}return c},CLASS_NAME:"OpenLayers.Format.Text"}),OpenLayers.Layer.Text=OpenLayers.Class(OpenLayers.Layer.Markers,{location:null,features:null,formatOptions:null,selectedFeature:null,initialize:function(){OpenLayers.Layer.Markers.prototype.initialize.apply(this,arguments),this.features=[]},destroy:function(){OpenLayers.Layer.Markers.prototype.destroy.apply(this,arguments),this.clearFeatures(),this.features=null},loadText:function(){this.loaded||null==this.location||(this.events.triggerEvent("loadstart"),OpenLayers.Request.GET({url:this.location,success:this.parseData,failure:function(){this.events.triggerEvent("loadend")},scope:this}),this.loaded=!0)},moveTo:function(){OpenLayers.Layer.Markers.prototype.moveTo.apply(this,arguments),this.visibility&&!this.loaded&&this.loadText()},parseData:function(a){a=a.responseText;var b={};OpenLayers.Util.extend(b,this.formatOptions),this.map&&!this.projection.equals(this.map.getProjectionObject())&&(b.externalProjection=this.projection,b.internalProjection=this.map.getProjectionObject()),a=new OpenLayers.Format.Text(b).read(a);for(var b=0,c=a.length;c>b;b++){var d,e,f,g={},h=a[b];d=new OpenLayers.LonLat(h.geometry.x,h.geometry.y),h.style.graphicWidth&&h.style.graphicHeight&&(e=new OpenLayers.Size(h.style.graphicWidth,h.style.graphicHeight)),void 0!==h.style.graphicXOffset&&void 0!==h.style.graphicYOffset&&(f=new OpenLayers.Pixel(h.style.graphicXOffset,h.style.graphicYOffset)),null!=h.style.externalGraphic?g.icon=new OpenLayers.Icon(h.style.externalGraphic,e,f):(g.icon=OpenLayers.Marker.defaultIcon(),null!=e&&g.icon.setSize(e)),null!=h.attributes.title&&null!=h.attributes.description&&(g.popupContentHTML="<h2>"+h.attributes.title+"</h2><p>"+h.attributes.description+"</p>"),g.overflow=h.attributes.overflow||"auto",g=new OpenLayers.Feature(this,d,g),this.features.push(g),d=g.createMarker(),null!=h.attributes.title&&null!=h.attributes.description&&d.events.register("click",g,this.markerClick),this.addMarker(d)}this.events.triggerEvent("loadend")},markerClick:function(a){var b=this==this.layer.selectedFeature;this.layer.selectedFeature=b?null:this;for(var c=0,d=this.layer.map.popups.length;d>c;c++)this.layer.map.removePopup(this.layer.map.popups[c]);b||this.layer.map.addPopup(this.createPopup()),OpenLayers.Event.stop(a)},clearFeatures:function(){if(null!=this.features)for(;0<this.features.length;){var a=this.features[0];OpenLayers.Util.removeItem(this.features,a),a.destroy()}},CLASS_NAME:"OpenLayers.Layer.Text"}),OpenLayers.Handler.RegularPolygon=OpenLayers.Class(OpenLayers.Handler.Drag,{sides:4,radius:null,snapAngle:null,snapToggle:"shiftKey",layerOptions:null,persist:!1,irregular:!1,citeCompliant:!1,angle:null,fixedRadius:!1,feature:null,layer:null,origin:null,initialize:function(a,b,c){c&&c.layerOptions&&c.layerOptions.styleMap||(this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})),OpenLayers.Handler.Drag.prototype.initialize.apply(this,[a,b,c]),this.options=c?c:{}},setOptions:function(a){OpenLayers.Util.extend(this.options,a),OpenLayers.Util.extend(this,a)},activate:function(){var a=!1;return OpenLayers.Handler.Drag.prototype.activate.apply(this,arguments)&&(a=OpenLayers.Util.extend({displayInLayerSwitcher:!1,calculateInRange:OpenLayers.Function.True,wrapDateLine:this.citeCompliant},this.layerOptions),this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,a),this.map.addLayer(this.layer),a=!0),a},deactivate:function(){var a=!1;return OpenLayers.Handler.Drag.prototype.deactivate.apply(this,arguments)&&(this.dragging&&this.cancel(),null!=this.layer.map&&(this.layer.destroy(!1),this.feature&&this.feature.destroy()),this.feature=this.layer=null,a=!0),a},down:function(a){this.fixedRadius=!!this.radius,a=this.layer.getLonLatFromViewPortPx(a.xy),this.origin=new OpenLayers.Geometry.Point(a.lon,a.lat),(!this.fixedRadius||this.irregular)&&(this.radius=this.map.getResolution()),this.persist&&this.clear(),this.feature=new OpenLayers.Feature.Vector,this.createGeometry(),this.callback("create",[this.origin,this.feature]),this.layer.addFeatures([this.feature],{silent:!0}),this.layer.drawFeature(this.feature,this.style)},move:function(a){var b=this.layer.getLonLatFromViewPortPx(a.xy),b=new OpenLayers.Geometry.Point(b.lon,b.lat);if(this.irregular?(a=Math.sqrt(2)*Math.abs(b.y-this.origin.y)/2,this.radius=Math.max(this.map.getResolution()/2,a)):this.fixedRadius?this.origin=b:(this.calculateAngle(b,a),this.radius=Math.max(this.map.getResolution()/2,b.distanceTo(this.origin))),this.modifyGeometry(),this.irregular){a=b.x-this.origin.x;var c,b=b.y-this.origin.y;c=0==b?a/(this.radius*Math.sqrt(2)):a/b,this.feature.geometry.resize(1,this.origin,c),this.feature.geometry.move(a/2,b/2)}this.layer.drawFeature(this.feature,this.style)},up:function(a){this.finalize(),this.start==this.last&&this.callback("done",[a.xy])},out:function(){this.finalize()},createGeometry:function(){this.angle=Math.PI*(1/this.sides-.5),this.snapAngle&&(this.angle+=this.snapAngle*(Math.PI/180)),this.feature.geometry=OpenLayers.Geometry.Polygon.createRegularPolygon(this.origin,this.radius,this.sides,this.snapAngle)},modifyGeometry:function(){var a,b,c=this.feature.geometry.components[0];c.components.length!=this.sides+1&&(this.createGeometry(),c=this.feature.geometry.components[0]);for(var d=0;d<this.sides;++d)b=c.components[d],a=this.angle+2*d*Math.PI/this.sides,b.x=this.origin.x+this.radius*Math.cos(a),b.y=this.origin.y+this.radius*Math.sin(a),b.clearBounds()},calculateAngle:function(a,b){var c=Math.atan2(a.y-this.origin.y,a.x-this.origin.x);if(this.snapAngle&&this.snapToggle&&!b[this.snapToggle]){var d=Math.PI/180*this.snapAngle;this.angle=Math.round(c/d)*d}else this.angle=c},cancel:function(){this.callback("cancel",null),this.finalize()},finalize:function(){this.origin=null,this.radius=this.options.radius},clear:function(){this.layer&&(this.layer.renderer.clear(),this.layer.destroyFeatures())},callback:function(a){this.callbacks[a]&&this.callbacks[a].apply(this.control,[this.feature.geometry.clone()]),this.persist||"done"!=a&&"cancel"!=a||this.clear()},CLASS_NAME:"OpenLayers.Handler.RegularPolygon"}),OpenLayers.Control.SLDSelect=OpenLayers.Class(OpenLayers.Control,{clearOnDeactivate:!1,layers:null,callbacks:null,selectionSymbolizer:{Polygon:{fillColor:"#FF0000",stroke:!1},Line:{strokeColor:"#FF0000",strokeWidth:2},Point:{graphicName:"square",fillColor:"#FF0000",pointRadius:5}},layerOptions:null,sketchStyle:null,wfsCache:{},layerCache:{},initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,[b]),this.callbacks=OpenLayers.Util.extend({done:this.select,click:this.select},this.callbacks),this.handlerOptions=this.handlerOptions||{},this.layerOptions=OpenLayers.Util.applyDefaults(this.layerOptions,{displayInLayerSwitcher:!1,tileOptions:{maxGetUrlLength:2048}}),this.sketchStyle&&(this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":this.sketchStyle})})),this.handler=new a(this,this.callbacks,this.handlerOptions)},destroy:function(){for(var a in this.layerCache)delete this.layerCache[a];for(a in this.wfsCache)delete this.wfsCache[a];OpenLayers.Control.prototype.destroy.apply(this,arguments)},coupleLayerVisiblity:function(a){this.setVisibility(a.object.getVisibility())},createSelectionLayer:function(a){var b;return this.layerCache[a.id]?b=this.layerCache[a.id]:(b=new OpenLayers.Layer.WMS(a.name,a.url,a.params,OpenLayers.Util.applyDefaults(this.layerOptions,a.getOptions())),this.layerCache[a.id]=b,!1===this.layerOptions.displayInLayerSwitcher&&a.events.on({visibilitychanged:this.coupleLayerVisiblity,scope:b}),this.map.addLayer(b)),b},createSLD:function(a,b,c){for(var d={version:"1.0.0",namedLayers:{}},e=(""+a.params.LAYERS).split(","),f=0,g=e.length;g>f;f++){var h=e[f];d.namedLayers[h]={name:h,userStyles:[]};var i=this.selectionSymbolizer,j=c[f];0<=j.type.indexOf("Polygon")?i={Polygon:this.selectionSymbolizer.Polygon}:0<=j.type.indexOf("LineString")?i={Line:this.selectionSymbolizer.Line}:0<=j.type.indexOf("Point")&&(i={Point:this.selectionSymbolizer.Point}),d.namedLayers[h].userStyles.push({name:"default",rules:[new OpenLayers.Rule({symbolizer:i,filter:b[f],maxScaleDenominator:a.options.minScale})]})}return new OpenLayers.Format.SLD({srsName:this.map.getProjection()}).write(d)},parseDescribeLayer:function(a){var b=new OpenLayers.Format.WMSDescribeLayer,c=a.responseXML;c&&c.documentElement||(c=a.responseText),a=b.read(c);for(var b=[],c=null,d=0,e=a.length;e>d;d++)"WFS"==a[d].owsType&&(b.push(a[d].typeName),c=a[d].owsURL);OpenLayers.Request.GET({url:c,params:{SERVICE:"WFS",TYPENAME:b.toString(),REQUEST:"DescribeFeatureType",VERSION:"1.0.0"},callback:function(a){var b=new OpenLayers.Format.WFSDescribeFeatureType,c=a.responseXML;c&&c.documentElement||(c=a.responseText),a=b.read(c),this.control.wfsCache[this.layer.id]=a,this.control._queue&&this.control.applySelection()},scope:this})},getGeometryAttributes:function(a){var b=[];a=this.wfsCache[a.id];for(var c=0,d=a.featureTypes.length;d>c;c++)for(var e=a.featureTypes[c].properties,f=0,g=e.length;g>f;f++){var h=e[f],i=h.type;(0<=i.indexOf("LineString")||0<=i.indexOf("GeometryAssociationType")||0<=i.indexOf("GeometryPropertyType")||0<=i.indexOf("Point")||0<=i.indexOf("Polygon"))&&b.push(h)}return b},activate:function(){var a=OpenLayers.Control.prototype.activate.call(this);if(a)for(var b=0,c=this.layers.length;c>b;b++){var d=this.layers[b];d&&!this.wfsCache[d.id]&&OpenLayers.Request.GET({url:d.url,params:{SERVICE:"WMS",VERSION:d.params.VERSION,LAYERS:d.params.LAYERS,REQUEST:"DescribeLayer"},callback:this.parseDescribeLayer,scope:{layer:d,control:this}})}return a},deactivate:function(){var a=OpenLayers.Control.prototype.deactivate.call(this);if(a)for(var b=0,c=this.layers.length;c>b;b++){var d=this.layers[b];if(d&&!0===this.clearOnDeactivate){var e=this.layerCache,f=e[d.id];f&&(d.events.un({visibilitychanged:this.coupleLayerVisiblity,scope:f}),f.destroy(),delete e[d.id])}}return a},setLayers:function(a){this.active?(this.deactivate(),this.layers=a,this.activate()):this.layers=a},createFilter:function(a,b){var c=null;return this.handler instanceof OpenLayers.Handler.RegularPolygon?c=new OpenLayers.Filter.Spatial(!0===this.handler.irregular?{type:OpenLayers.Filter.Spatial.BBOX,property:a.name,value:b.getBounds()}:{type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:b}):this.handler instanceof OpenLayers.Handler.Polygon?c=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:b}):this.handler instanceof OpenLayers.Handler.Path?c=new OpenLayers.Filter.Spatial(0<=a.type.indexOf("Point")?{type:OpenLayers.Filter.Spatial.DWITHIN,property:a.name,distance:.01*this.map.getExtent().getWidth(),distanceUnits:this.map.getUnits(),value:b}:{type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:b}):this.handler instanceof OpenLayers.Handler.Click&&(c=new OpenLayers.Filter.Spatial(0<=a.type.indexOf("Polygon")?{type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:b}:{type:OpenLayers.Filter.Spatial.DWITHIN,property:a.name,distance:.01*this.map.getExtent().getWidth(),distanceUnits:this.map.getUnits(),value:b})),c},select:function(a){this._queue=function(){for(var b=0,c=this.layers.length;c>b;b++){for(var d=this.layers[b],e=this.getGeometryAttributes(d),f=[],g=0,h=e.length;h>g;g++){var i=e[g];if(null!==i){if(!(a instanceof OpenLayers.Geometry)){var j=this.map.getLonLatFromPixel(a.xy);a=new OpenLayers.Geometry.Point(j.lon,j.lat)}i=this.createFilter(i,a),null!==i&&f.push(i)}}g=this.createSelectionLayer(d),this.events.triggerEvent("selected",{layer:d,filters:f}),d=this.createSLD(d,f,e),g.mergeNewParams({SLD_BODY:d}),delete this._queue}},this.applySelection()},applySelection:function(){for(var a=!0,b=0,c=this.layers.length;c>b;b++)if(!this.wfsCache[this.layers[b].id]){a=!1;break}a&&this._queue.call(this)},CLASS_NAME:"OpenLayers.Control.SLDSelect"}),OpenLayers.Control.Scale=OpenLayers.Class(OpenLayers.Control,{element:null,geodesic:!1,initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,[b]),this.element=OpenLayers.Util.getElement(a)},draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.element||(this.element=document.createElement("div"),this.div.appendChild(this.element)),this.map.events.register("moveend",this,this.updateScale),this.updateScale(),this.div},updateScale:function(){var a;if(!0===this.geodesic){if(!this.map.getUnits())return;a=OpenLayers.INCHES_PER_UNIT,a=(this.map.getGeodesicPixelSize().w||1e-6)*a.km*OpenLayers.DOTS_PER_INCH}else a=this.map.getScale();a&&(a=a>=9500&&95e4>=a?Math.round(a/1e3)+"K":a>=95e4?Math.round(a/1e6)+"M":Math.round(a),this.element.innerHTML=OpenLayers.i18n("Scale = 1 : ${scaleDenom}",{scaleDenom:a}))},CLASS_NAME:"OpenLayers.Control.Scale"}),OpenLayers.Layer.MapGuide=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:!0,useHttpTile:!1,singleTile:!1,useOverlay:!1,useAsyncOverlay:!0,TILE_PARAMS:{operation:"GETTILEIMAGE",version:"1.2.0"},SINGLE_TILE_PARAMS:{operation:"GETMAPIMAGE",format:"PNG",locale:"en",clip:"1",version:"1.0.0"},OVERLAY_PARAMS:{operation:"GETDYNAMICMAPOVERLAYIMAGE",format:"PNG",locale:"en",clip:"1",version:"2.0.0"},FOLDER_PARAMS:{tileColumnsPerFolder:30,tileRowsPerFolder:30,format:"png",querystring:null},defaultSize:new OpenLayers.Size(300,300),tileOriginCorner:"tl",initialize:function(a,b,c,d){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments),(null==d||null==d.isBaseLayer)&&(this.isBaseLayer="true"!=this.transparent&&1!=this.transparent),d&&null!=d.useOverlay&&(this.useOverlay=d.useOverlay),this.singleTile?this.useOverlay?(OpenLayers.Util.applyDefaults(this.params,this.OVERLAY_PARAMS),this.useAsyncOverlay||(this.params.version="1.0.0")):OpenLayers.Util.applyDefaults(this.params,this.SINGLE_TILE_PARAMS):(this.useHttpTile?OpenLayers.Util.applyDefaults(this.params,this.FOLDER_PARAMS):OpenLayers.Util.applyDefaults(this.params,this.TILE_PARAMS),this.setTileSize(this.defaultSize))},clone:function(a){return null==a&&(a=new OpenLayers.Layer.MapGuide(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){var b;b=a.getCenterLonLat();var c=this.map.getSize();return this.singleTile?(a={setdisplaydpi:OpenLayers.DOTS_PER_INCH,setdisplayheight:c.h*this.ratio,setdisplaywidth:c.w*this.ratio,setviewcenterx:b.lon,setviewcentery:b.lat,setviewscale:this.map.getScale()},this.useOverlay&&!this.useAsyncOverlay&&(b={},b=OpenLayers.Util.extend(b,a),b.operation="GETVISIBLEMAPEXTENT",b.version="1.0.0",b.session=this.params.session,b.mapName=this.params.mapName,b.format="text/xml",b=this.getFullRequestString(b),OpenLayers.Request.GET({url:b,async:!1})),b=this.getFullRequestString(a)):(c=this.map.getResolution(),b=Math.floor((a.left-this.maxExtent.left)/c),b=Math.round(b/this.tileSize.w),a=Math.floor((this.maxExtent.top-a.top)/c),a=Math.round(a/this.tileSize.h),b=this.useHttpTile?this.getImageFilePath({tilecol:b,tilerow:a,scaleindex:this.resolutions.length-this.map.zoom-1}):this.getFullRequestString({tilecol:b,tilerow:a,scaleindex:this.resolutions.length-this.map.zoom-1})),b
},getFullRequestString:function(a,b){var c=null==b?this.url:b;"object"==typeof c&&(c=c[Math.floor(Math.random()*c.length)]);var d,e=c,f=OpenLayers.Util.extend({},this.params),f=OpenLayers.Util.extend(f,a),g=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(c));for(d in f)d.toUpperCase()in g&&delete f[d];return f=OpenLayers.Util.getParameterString(f),f=f.replace(/,/g,"+"),""!=f&&(g=c.charAt(c.length-1),e="&"==g||"?"==g?e+f:-1==c.indexOf("?")?e+("?"+f):e+("&"+f)),e},getImageFilePath:function(a,b){var c=null==b?this.url:b;"object"==typeof c&&(c=c[Math.floor(Math.random()*c.length)]);var d="",e="";return 0>a.tilerow&&(d="-"),d=0==a.tilerow?d+"0":d+Math.floor(Math.abs(a.tilerow/this.params.tileRowsPerFolder))*this.params.tileRowsPerFolder,0>a.tilecol&&(e="-"),e=0==a.tilecol?e+"0":e+Math.floor(Math.abs(a.tilecol/this.params.tileColumnsPerFolder))*this.params.tileColumnsPerFolder,d="/S"+Math.floor(a.scaleindex)+"/"+this.params.basemaplayergroupname+"/R"+d+"/C"+e+"/"+a.tilerow%this.params.tileRowsPerFolder+"_"+a.tilecol%this.params.tileColumnsPerFolder+"."+this.params.format,this.params.querystring&&(d+="?"+this.params.querystring),c+d},CLASS_NAME:"OpenLayers.Layer.MapGuide"}),OpenLayers.Control.Measure=OpenLayers.Class(OpenLayers.Control,{callbacks:null,displaySystem:"metric",geodesic:!1,displaySystemUnits:{geographic:["dd"],english:["mi","ft","in"],metric:["km","m"]},partialDelay:300,delayedTrigger:null,persist:!1,immediate:!1,initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,[b]);var c={done:this.measureComplete,point:this.measurePartial};this.immediate&&(c.modify=this.measureImmediate),this.callbacks=OpenLayers.Util.extend(c,this.callbacks),this.handlerOptions=OpenLayers.Util.extend({persist:this.persist},this.handlerOptions),this.handler=new a(this,this.callbacks,this.handlerOptions)},deactivate:function(){return this.cancelDelay(),OpenLayers.Control.prototype.deactivate.apply(this,arguments)},cancel:function(){this.cancelDelay(),this.handler.cancel()},setImmediate:function(a){(this.immediate=a)?this.callbacks.modify=this.measureImmediate:delete this.callbacks.modify},updateHandler:function(a,b){var c=this.active;c&&this.deactivate(),this.handler=new a(this,this.callbacks,b),c&&this.activate()},measureComplete:function(a){this.cancelDelay(),this.measure(a,"measure")},measurePartial:function(a,b){this.cancelDelay(),b=b.clone(),this.handler.freehandMode(this.handler.evt)?this.measure(b,"measurepartial"):this.delayedTrigger=window.setTimeout(OpenLayers.Function.bind(function(){this.delayedTrigger=null,this.measure(b,"measurepartial")},this),this.partialDelay)},measureImmediate:function(a,b,c){c&&!this.handler.freehandMode(this.handler.evt)&&(this.cancelDelay(),this.measure(b.geometry,"measurepartial"))},cancelDelay:function(){null!==this.delayedTrigger&&(window.clearTimeout(this.delayedTrigger),this.delayedTrigger=null)},measure:function(a,b){var c,d;-1<a.CLASS_NAME.indexOf("LineString")?(c=this.getBestLength(a),d=1):(c=this.getBestArea(a),d=2),this.events.triggerEvent(b,{measure:c[0],units:c[1],order:d,geometry:a})},getBestArea:function(a){for(var b,c,d=this.displaySystemUnits[this.displaySystem],e=0,f=d.length;f>e&&(b=d[e],c=this.getArea(a,b),!(c>1));++e);return[c,b]},getArea:function(a,b){var c,d;this.geodesic?(c=a.getGeodesicArea(this.map.getProjectionObject()),d="m"):(c=a.getArea(),d=this.map.getUnits());var e=OpenLayers.INCHES_PER_UNIT[b];return e&&(c*=Math.pow(OpenLayers.INCHES_PER_UNIT[d]/e,2)),c},getBestLength:function(a){for(var b,c,d=this.displaySystemUnits[this.displaySystem],e=0,f=d.length;f>e&&(b=d[e],c=this.getLength(a,b),!(c>1));++e);return[c,b]},getLength:function(a,b){var c,d;this.geodesic?(c=a.getGeodesicLength(this.map.getProjectionObject()),d="m"):(c=a.getLength(),d=this.map.getUnits());var e=OpenLayers.INCHES_PER_UNIT[b];return e&&(c*=OpenLayers.INCHES_PER_UNIT[d]/e),c},CLASS_NAME:"OpenLayers.Control.Measure"}),OpenLayers.Format.WMC.v1_0_0=OpenLayers.Class(OpenLayers.Format.WMC.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/context http://schemas.opengis.net/context/1.0.0/context.xsd",initialize:function(a){OpenLayers.Format.WMC.v1.prototype.initialize.apply(this,[a])},read_wmc_SRS:function(a,b){var c=this.getChildValue(b);"object"!=typeof a.projections&&(a.projections={});for(var c=c.split(/ +/),d=0,e=c.length;e>d;d++)a.projections[c[d]]=!0},write_wmc_Layer:function(a){var b=OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this,[a]);if(a.srs){var c,d=[];for(c in a.srs)d.push(c);b.appendChild(this.createElementDefaultNS("SRS",d.join(" ")))}b.appendChild(this.write_wmc_FormatList(a)),b.appendChild(this.write_wmc_StyleList(a)),a.dimensions&&b.appendChild(this.write_wmc_DimensionList(a)),b.appendChild(this.write_wmc_LayerExtension(a))},CLASS_NAME:"OpenLayers.Format.WMC.v1_0_0"}),OpenLayers.Popup.Anchored=OpenLayers.Class(OpenLayers.Popup,{relativePosition:null,keepInMap:!0,anchor:null,initialize:function(a,b,c,d,e,f,g){OpenLayers.Popup.prototype.initialize.apply(this,[a,b,c,d,f,g]),this.anchor=null!=e?e:{size:new OpenLayers.Size(0,0),offset:new OpenLayers.Pixel(0,0)}},destroy:function(){this.relativePosition=this.anchor=null,OpenLayers.Popup.prototype.destroy.apply(this,arguments)},show:function(){this.updatePosition(),OpenLayers.Popup.prototype.show.apply(this,arguments)},moveTo:function(a){var b=this.relativePosition;this.relativePosition=this.calculateRelativePosition(a),OpenLayers.Popup.prototype.moveTo.call(this,this.calculateNewPx(a)),this.relativePosition!=b&&this.updateRelativePosition()},setSize:function(){if(OpenLayers.Popup.prototype.setSize.apply(this,arguments),this.lonlat&&this.map){var a=this.map.getLayerPxFromLonLat(this.lonlat);this.moveTo(a)}},calculateRelativePosition:function(a){return a=this.map.getLonLatFromLayerPx(a),a=this.map.getExtent().determineQuadrant(a),OpenLayers.Bounds.oppositeQuadrant(a)},updateRelativePosition:function(){},calculateNewPx:function(a){a=a.offset(this.anchor.offset);var b=this.size||this.contentSize,c="t"==this.relativePosition.charAt(0);return a.y+=c?-b.h:this.anchor.size.h,c="l"==this.relativePosition.charAt(1),a.x+=c?-b.w:this.anchor.size.w,a},CLASS_NAME:"OpenLayers.Popup.Anchored"}),OpenLayers.Popup.Framed=OpenLayers.Class(OpenLayers.Popup.Anchored,{imageSrc:null,imageSize:null,isAlphaImage:!1,positionBlocks:null,blocks:null,fixedRelativePosition:!1,initialize:function(a,b,c,d,e,f){OpenLayers.Popup.Anchored.prototype.initialize.apply(this,arguments),this.fixedRelativePosition&&(this.updateRelativePosition(),this.calculateRelativePosition=function(){return this.relativePosition}),this.contentDiv.style.position="absolute",this.contentDiv.style.zIndex=1,f&&(this.closeDiv.style.zIndex=1),this.groupDiv.style.position="absolute",this.groupDiv.style.top="0px",this.groupDiv.style.left="0px",this.groupDiv.style.height="100%",this.groupDiv.style.width="100%"},destroy:function(){this.isAlphaImage=this.imageSize=this.imageSrc=null,this.fixedRelativePosition=!1,this.positionBlocks=null;for(var a=0;a<this.blocks.length;a++){var b=this.blocks[a];b.image&&b.div.removeChild(b.image),b.image=null,b.div&&this.groupDiv.removeChild(b.div),b.div=null}this.blocks=null,OpenLayers.Popup.Anchored.prototype.destroy.apply(this,arguments)},setBackgroundColor:function(){},setBorder:function(){},setOpacity:function(){},setSize:function(){OpenLayers.Popup.Anchored.prototype.setSize.apply(this,arguments),this.updateBlocks()},updateRelativePosition:function(){if(this.padding=this.positionBlocks[this.relativePosition].padding,this.closeDiv){var a=this.getContentDivPadding();this.closeDiv.style.right=a.right+this.padding.right+"px",this.closeDiv.style.top=a.top+this.padding.top+"px"}this.updateBlocks()},calculateNewPx:function(){var a=OpenLayers.Popup.Anchored.prototype.calculateNewPx.apply(this,arguments);return a=a.offset(this.positionBlocks[this.relativePosition].offset)},createBlocks:function(){this.blocks=[];var a,b=null;for(a in this.positionBlocks){b=a;break}for(b=this.positionBlocks[b],a=0;a<b.blocks.length;a++){var c={};this.blocks.push(c),c.div=OpenLayers.Util.createDiv(this.id+"_FrameDecorationDiv_"+a,null,null,null,"absolute",null,"hidden",null),c.image=(this.isAlphaImage?OpenLayers.Util.createAlphaImageDiv:OpenLayers.Util.createImage)(this.id+"_FrameDecorationImg_"+a,null,this.imageSize,this.imageSrc,"absolute",null,null,null),c.div.appendChild(c.image),this.groupDiv.appendChild(c.div)}},updateBlocks:function(){if(this.blocks||this.createBlocks(),this.size&&this.relativePosition){for(var a=this.positionBlocks[this.relativePosition],b=0;b<a.blocks.length;b++){var c=a.blocks[b],d=this.blocks[b],e=c.anchor.left,f=c.anchor.bottom,g=c.anchor.right,h=c.anchor.top,i=isNaN(c.size.w)?this.size.w-(g+e):c.size.w,j=isNaN(c.size.h)?this.size.h-(f+h):c.size.h;d.div.style.width=(0>i?0:i)+"px",d.div.style.height=(0>j?0:j)+"px",d.div.style.left=null!=e?e+"px":"",d.div.style.bottom=null!=f?f+"px":"",d.div.style.right=null!=g?g+"px":"",d.div.style.top=null!=h?h+"px":"",d.image.style.left=c.position.x+"px",d.image.style.top=c.position.y+"px"}this.contentDiv.style.left=this.padding.left+"px",this.contentDiv.style.top=this.padding.top+"px"}},CLASS_NAME:"OpenLayers.Popup.Framed"}),OpenLayers.Popup.FramedCloud=OpenLayers.Class(OpenLayers.Popup.Framed,{contentDisplayClass:"olFramedCloudPopupContent",autoSize:!0,panMapIfOutOfView:!0,imageSize:new OpenLayers.Size(1276,736),isAlphaImage:!1,fixedRelativePosition:!1,positionBlocks:{tl:{offset:new OpenLayers.Pixel(44,0),padding:new OpenLayers.Bounds(8,40,8,9),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,51,22,0),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,50,0,0),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",19),anchor:new OpenLayers.Bounds(0,32,22,null),position:new OpenLayers.Pixel(0,-631)},{size:new OpenLayers.Size(22,18),anchor:new OpenLayers.Bounds(null,32,0,null),position:new OpenLayers.Pixel(-1238,-632)},{size:new OpenLayers.Size(81,35),anchor:new OpenLayers.Bounds(null,0,0,null),position:new OpenLayers.Pixel(0,-688)}]},tr:{offset:new OpenLayers.Pixel(-45,0),padding:new OpenLayers.Bounds(8,40,8,9),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,51,22,0),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,50,0,0),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",19),anchor:new OpenLayers.Bounds(0,32,22,null),position:new OpenLayers.Pixel(0,-631)},{size:new OpenLayers.Size(22,19),anchor:new OpenLayers.Bounds(null,32,0,null),position:new OpenLayers.Pixel(-1238,-631)},{size:new OpenLayers.Size(81,35),anchor:new OpenLayers.Bounds(0,0,null,null),position:new OpenLayers.Pixel(-215,-687)}]},bl:{offset:new OpenLayers.Pixel(45,0),padding:new OpenLayers.Bounds(8,9,8,40),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,21,22,32),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,21,0,32),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",21),anchor:new OpenLayers.Bounds(0,0,22,null),position:new OpenLayers.Pixel(0,-629)},{size:new OpenLayers.Size(22,21),anchor:new OpenLayers.Bounds(null,0,0,null),position:new OpenLayers.Pixel(-1238,-629)},{size:new OpenLayers.Size(81,33),anchor:new OpenLayers.Bounds(null,null,0,0),position:new OpenLayers.Pixel(-101,-674)}]},br:{offset:new OpenLayers.Pixel(-44,0),padding:new OpenLayers.Bounds(8,9,8,40),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,21,22,32),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,21,0,32),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",21),anchor:new OpenLayers.Bounds(0,0,22,null),position:new OpenLayers.Pixel(0,-629)},{size:new OpenLayers.Size(22,21),anchor:new OpenLayers.Bounds(null,0,0,null),position:new OpenLayers.Pixel(-1238,-629)},{size:new OpenLayers.Size(81,33),anchor:new OpenLayers.Bounds(0,null,null,0),position:new OpenLayers.Pixel(-311,-674)}]}},minSize:new OpenLayers.Size(105,10),maxSize:new OpenLayers.Size(1200,660),initialize:function(){this.imageSrc=OpenLayers.Util.getImageLocation("cloud-popup-relative.png"),OpenLayers.Popup.Framed.prototype.initialize.apply(this,arguments),this.contentDiv.className=this.contentDisplayClass},CLASS_NAME:"OpenLayers.Popup.FramedCloud"}),OpenLayers.Tile.Image.IFrame={useIFrame:null,blankImageUrl:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7",draw:function(){if(OpenLayers.Tile.Image.prototype.shouldDraw.call(this)){var a=this.layer.getURL(this.bounds),b=this.useIFrame;this.useIFrame=null!==this.maxGetUrlLength&&!this.layer.async&&a.length>this.maxGetUrlLength,a=b&&!this.useIFrame,b=!b&&this.useIFrame,(a||b)&&(this.imgDiv&&this.imgDiv.parentNode===this.frame&&this.frame.removeChild(this.imgDiv),this.imgDiv=null,a&&this.frame.removeChild(this.frame.firstChild))}return OpenLayers.Tile.Image.prototype.draw.apply(this,arguments)},getImage:function(){if(!0===this.useIFrame){if(!this.frame.childNodes.length){var a=document.createElement("div"),b=a.style;b.position="absolute",b.width="100%",b.height="100%",b.zIndex=1,b.backgroundImage="url("+this.blankImageUrl+")",this.frame.appendChild(a)}return a=this.id+"_iFrame",9>parseFloat(navigator.appVersion.split("MSIE")[1])?(b=document.createElement('<iframe name="'+a+'">'),b.style.backgroundColor="#FFFFFF",b.style.filter="chroma(color=#FFFFFF)"):(b=document.createElement("iframe"),b.style.backgroundColor="transparent",b.name=a),b.scrolling="no",b.marginWidth="0px",b.marginHeight="0px",b.frameBorder="0",b.style.position="absolute",b.style.width="100%",b.style.height="100%",1>this.layer.opacity&&OpenLayers.Util.modifyDOMElement(b,null,null,null,null,null,null,this.layer.opacity),this.frame.appendChild(b),this.imgDiv=b}return OpenLayers.Tile.Image.prototype.getImage.apply(this,arguments)},createRequestForm:function(){var a=document.createElement("form");a.method="POST";var b=this.layer.params._OLSALT,b=(b?b+"_":"")+this.bounds.toBBOX();a.action=OpenLayers.Util.urlAppend(this.layer.url,b),a.target=this.id+"_iFrame",this.layer.getImageSize();var c,d,b=OpenLayers.Util.getParameters(this.url);for(d in b)c=document.createElement("input"),c.type="hidden",c.name=d,c.value=b[d],a.appendChild(c);return a},setImgSrc:function(a){if(!0===this.useIFrame)if(a){var b=this.createRequestForm();this.frame.appendChild(b),b.submit(),this.frame.removeChild(b)}else this.imgDiv.parentNode===this.frame&&(this.frame.removeChild(this.imgDiv),this.imgDiv=null);else OpenLayers.Tile.Image.prototype.setImgSrc.apply(this,arguments)},onImageLoad:function(){OpenLayers.Tile.Image.prototype.onImageLoad.apply(this,arguments),!0===this.useIFrame&&(this.imgDiv.style.opacity=1,this.frame.style.opacity=this.layer.opacity)},createBackBuffer:function(){var a;return!1===this.useIFrame&&(a=OpenLayers.Tile.Image.prototype.createBackBuffer.call(this)),a}},OpenLayers.Format.SOSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.SOSCapabilities"}),OpenLayers.Format.SOSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.SOSCapabilities,{namespaces:{ows:"http://www.opengis.net/ows/1.1",sos:"http://www.opengis.net/sos/1.0",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]),this.options=a},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},readers:{gml:OpenLayers.Util.applyDefaults({name:function(a,b){b.name=this.getChildValue(a)},TimePeriod:function(a,b){b.timePeriod={},this.readChildNodes(a,b.timePeriod)},beginPosition:function(a,b){b.beginPosition=this.getChildValue(a)},endPosition:function(a,b){b.endPosition=this.getChildValue(a)}},OpenLayers.Format.GML.v3.prototype.readers.gml),sos:{Capabilities:function(a,b){this.readChildNodes(a,b)},Contents:function(a,b){b.contents={},this.readChildNodes(a,b.contents)},ObservationOfferingList:function(a,b){b.offeringList={},this.readChildNodes(a,b.offeringList)},ObservationOffering:function(a,b){var c=this.getAttributeNS(a,this.namespaces.gml,"id");b[c]={procedures:[],observedProperties:[],featureOfInterestIds:[],responseFormats:[],resultModels:[],responseModes:[]},this.readChildNodes(a,b[c])},time:function(a,b){b.time={},this.readChildNodes(a,b.time)},procedure:function(a,b){b.procedures.push(this.getAttributeNS(a,this.namespaces.xlink,"href"))},observedProperty:function(a,b){b.observedProperties.push(this.getAttributeNS(a,this.namespaces.xlink,"href"))},featureOfInterest:function(a,b){b.featureOfInterestIds.push(this.getAttributeNS(a,this.namespaces.xlink,"href"))},responseFormat:function(a,b){b.responseFormats.push(this.getChildValue(a))},resultModel:function(a,b){b.resultModels.push(this.getChildValue(a))},responseMode:function(a,b){b.responseModes.push(this.getChildValue(a))}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.SOSCapabilities.v1_0_0"}),OpenLayers.Handler.Pinch=OpenLayers.Class(OpenLayers.Handler,{started:!1,stopDown:!1,pinching:!1,last:null,start:null,touchstart:function(a){var b=!0;if(this.pinching=!1,OpenLayers.Event.isMultiTouch(a))this.started=!0,this.last=this.start={distance:this.getDistance(a.touches),delta:0,scale:1},this.callback("start",[a,this.start]),b=!this.stopDown;else{if(this.started)return!1;this.started=!1,this.last=this.start=null}return OpenLayers.Event.preventDefault(a),b},touchmove:function(a){if(this.started&&OpenLayers.Event.isMultiTouch(a)){this.pinching=!0;var b=this.getPinchData(a);this.callback("move",[a,b]),this.last=b,OpenLayers.Event.stop(a)}else if(this.started)return!1;return!0},touchend:function(a){return this.started&&!OpenLayers.Event.isMultiTouch(a)?(this.pinching=this.started=!1,this.callback("done",[a,this.start,this.last]),this.last=this.start=null,!1):!0},activate:function(){var a=!1;return OpenLayers.Handler.prototype.activate.apply(this,arguments)&&(this.pinching=!1,a=!0),a},deactivate:function(){var a=!1;return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)&&(this.pinching=this.started=!1,this.last=this.start=null,a=!0),a},getDistance:function(a){var b=a[0];return a=a[1],Math.sqrt(Math.pow(b.olClientX-a.olClientX,2)+Math.pow(b.olClientY-a.olClientY,2))},getPinchData:function(a){return a=this.getDistance(a.touches),{distance:a,delta:this.last.distance-a,scale:a/this.start.distance}},CLASS_NAME:"OpenLayers.Handler.Pinch"}),OpenLayers.Control.NavToolbar=OpenLayers.Class(OpenLayers.Control.Panel,{initialize:function(a){OpenLayers.Control.Panel.prototype.initialize.apply(this,[a]),this.addControls([new OpenLayers.Control.Navigation,new OpenLayers.Control.ZoomBox])},draw:function(){var a=OpenLayers.Control.Panel.prototype.draw.apply(this,arguments);return null===this.defaultControl&&(this.defaultControl=this.controls[0]),a},CLASS_NAME:"OpenLayers.Control.NavToolbar"}),OpenLayers.Strategy.Refresh=OpenLayers.Class(OpenLayers.Strategy,{force:!1,interval:0,timer:null,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);return a&&(!0===this.layer.visibility&&this.start(),this.layer.events.on({visibilitychanged:this.reset,scope:this})),a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);return a&&(this.stop(),this.layer.events.un({visibilitychanged:this.reset,scope:this})),a},reset:function(){!0===this.layer.visibility?this.start():this.stop()},start:function(){this.interval&&"number"==typeof this.interval&&0<this.interval&&(this.timer=window.setInterval(OpenLayers.Function.bind(this.refresh,this),this.interval))},refresh:function(){this.layer&&this.layer.refresh&&"function"==typeof this.layer.refresh&&this.layer.refresh({force:this.force})},stop:function(){null!==this.timer&&(window.clearInterval(this.timer),this.timer=null)},CLASS_NAME:"OpenLayers.Strategy.Refresh"}),OpenLayers.Layer.ArcGIS93Rest=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{format:"png"},isBaseLayer:!0,initialize:function(a,b,c,d){var e=[];c=OpenLayers.Util.upperCaseObject(c),e.push(a,b,c,d),OpenLayers.Layer.Grid.prototype.initialize.apply(this,e),OpenLayers.Util.applyDefaults(this.params,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS)),this.params.TRANSPARENT&&"true"==this.params.TRANSPARENT.toString().toLowerCase()&&(null!=d&&d.isBaseLayer||(this.isBaseLayer=!1),"jpg"==this.params.FORMAT&&(this.params.FORMAT=OpenLayers.Util.alphaHack()?"gif":"png"))},clone:function(a){return null==a&&(a=new OpenLayers.Layer.ArcGIS93Rest(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){a=this.adjustBounds(a);var b=this.projection.getCode().split(":"),b=b[b.length-1],c=this.getImageSize();if(a={BBOX:a.toBBOX(),SIZE:c.w+","+c.h,F:"image",BBOXSR:b,IMAGESR:b},this.layerDefs){var d,b=[];for(d in this.layerDefs)this.layerDefs.hasOwnProperty(d)&&this.layerDefs[d]&&(b.push(d),b.push(":"),b.push(this.layerDefs[d]),b.push(";"));0<b.length&&(a.LAYERDEFS=b.join(""))}return this.getFullRequestString(a)},setLayerFilter:function(a,b){this.layerDefs||(this.layerDefs={}),b?this.layerDefs[a]=b:delete this.layerDefs[a]},clearLayerFilter:function(a){a?delete this.layerDefs[a]:delete this.layerDefs},mergeNewParams:function(a){return a=[OpenLayers.Util.upperCaseObject(a)],OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,a)},CLASS_NAME:"OpenLayers.Layer.ArcGIS93Rest"}),OpenLayers.Handler.Hover=OpenLayers.Class(OpenLayers.Handler,{delay:500,pixelTolerance:null,stopMove:!1,px:null,timerId:null,mousemove:function(a){return this.passesTolerance(a.xy)&&(this.clearTimer(),this.callback("move",[a]),this.px=a.xy,a=OpenLayers.Util.extend({},a),this.timerId=window.setTimeout(OpenLayers.Function.bind(this.delayedCall,this,a),this.delay)),!this.stopMove},mouseout:function(a){return OpenLayers.Util.mouseLeft(a,this.map.viewPortDiv)&&(this.clearTimer(),this.callback("move",[a])),!0},passesTolerance:function(a){var b=!0;return this.pixelTolerance&&this.px&&Math.sqrt(Math.pow(this.px.x-a.x,2)+Math.pow(this.px.y-a.y,2))<this.pixelTolerance&&(b=!1),b},clearTimer:function(){null!=this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null)},delayedCall:function(a){this.callback("pause",[a])},deactivate:function(){var a=!1;return OpenLayers.Handler.prototype.deactivate.apply(this,arguments)&&(this.clearTimer(),a=!0),a},CLASS_NAME:"OpenLayers.Handler.Hover"}),OpenLayers.Control.GetFeature=OpenLayers.Class(OpenLayers.Control,{protocol:null,multipleKey:null,toggleKey:null,modifiers:null,multiple:!1,click:!0,single:!0,clickout:!0,toggle:!1,clickTolerance:5,hover:!1,box:!1,maxFeatures:10,features:null,hoverFeature:null,handlers:null,hoverResponse:null,filterType:OpenLayers.Filter.Spatial.BBOX,initialize:function(a){a.handlerOptions=a.handlerOptions||{},OpenLayers.Control.prototype.initialize.apply(this,[a]),this.features={},this.handlers={},this.click&&(this.handlers.click=new OpenLayers.Handler.Click(this,{click:this.selectClick},this.handlerOptions.click||{})),this.box&&(this.handlers.box=new OpenLayers.Handler.Box(this,{done:this.selectBox},OpenLayers.Util.extend(this.handlerOptions.box,{boxDivClassName:"olHandlerBoxSelectFeature"}))),this.hover&&(this.handlers.hover=new OpenLayers.Handler.Hover(this,{move:this.cancelHover,pause:this.selectHover},OpenLayers.Util.extend(this.handlerOptions.hover,{delay:250,pixelTolerance:2})))},activate:function(){if(!this.active)for(var a in this.handlers)this.handlers[a].activate();return OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){if(this.active)for(var a in this.handlers)this.handlers[a].deactivate();return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},selectClick:function(a){var b=this.pixelToBounds(a.xy);this.setModifiers(a),this.request(b,{single:this.single})},selectBox:function(a){var b;if(a instanceof OpenLayers.Bounds)b=this.map.getLonLatFromPixel({x:a.left,y:a.bottom}),a=this.map.getLonLatFromPixel({x:a.right,y:a.top}),b=new OpenLayers.Bounds(b.lon,b.lat,a.lon,a.lat);else{if(this.click)return;b=this.pixelToBounds(a)}this.setModifiers(this.handlers.box.dragHandler.evt),this.request(b)},selectHover:function(a){a=this.pixelToBounds(a.xy),this.request(a,{single:!0,hover:!0})},cancelHover:function(){this.hoverResponse&&(this.protocol.abort(this.hoverResponse),this.hoverResponse=null,OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait"))},request:function(a,b){b=b||{};var c=new OpenLayers.Filter.Spatial({type:this.filterType,value:a});OpenLayers.Element.addClass(this.map.viewPortDiv,"olCursorWait"),c=this.protocol.read({maxFeatures:1==b.single?this.maxFeatures:void 0,filter:c,callback:function(c){c.success()&&(c.features.length?1==b.single?this.selectBestFeature(c.features,a.getCenterLonLat(),b):this.select(c.features):b.hover?this.hoverSelect():(this.events.triggerEvent("clickout"),this.clickout&&this.unselectAll())),OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait")},scope:this}),1==b.hover&&(this.hoverResponse=c)},selectBestFeature:function(a,b,c){if(c=c||{},a.length){b=new OpenLayers.Geometry.Point(b.lon,b.lat);for(var d,e,f,g=Number.MAX_VALUE,h=0;h<a.length&&(d=a[h],!(d.geometry&&(f=b.distanceTo(d.geometry,{edge:!1}),g>f&&(g=f,e=d,0==g))));++h);1==c.hover?this.hoverSelect(e):this.select(e||a)}},setModifiers:function(a){this.modifiers={multiple:this.multiple||this.multipleKey&&a[this.multipleKey],toggle:this.toggle||this.toggleKey&&a[this.toggleKey]}},select:function(a){this.modifiers.multiple||this.modifiers.toggle||this.unselectAll(),OpenLayers.Util.isArray(a)||(a=[a]);var b=this.events.triggerEvent("beforefeaturesselected",{features:a});if(!1!==b){for(var c,d=[],e=0,f=a.length;f>e;++e)c=a[e],this.features[c.fid||c.id]?this.modifiers.toggle&&this.unselect(this.features[c.fid||c.id]):(b=this.events.triggerEvent("beforefeatureselected",{feature:c}),!1!==b&&(this.features[c.fid||c.id]=c,d.push(c),this.events.triggerEvent("featureselected",{feature:c})));this.events.triggerEvent("featuresselected",{features:d})}},hoverSelect:function(a){var b=a?a.fid||a.id:null,c=this.hoverFeature?this.hoverFeature.fid||this.hoverFeature.id:null;c&&c!=b&&(this.events.triggerEvent("outfeature",{feature:this.hoverFeature}),this.hoverFeature=null),b&&b!=c&&(this.events.triggerEvent("hoverfeature",{feature:a}),this.hoverFeature=a)},unselect:function(a){delete this.features[a.fid||a.id],this.events.triggerEvent("featureunselected",{feature:a})},unselectAll:function(){for(var a in this.features)this.unselect(this.features[a])},setMap:function(a){for(var b in this.handlers)this.handlers[b].setMap(a);OpenLayers.Control.prototype.setMap.apply(this,arguments)},pixelToBounds:function(a){var b=a.add(-this.clickTolerance/2,this.clickTolerance/2);return a=a.add(this.clickTolerance/2,-this.clickTolerance/2),b=this.map.getLonLatFromPixel(b),a=this.map.getLonLatFromPixel(a),new OpenLayers.Bounds(b.lon,b.lat,a.lon,a.lat)},CLASS_NAME:"OpenLayers.Control.GetFeature"}),OpenLayers.Format.QueryStringFilter=function(){function a(a){return a=a.replace(/%/g,"\\%"),a=a.replace(/\\\\\.(\*)?/g,function(a,b){return b?a:"\\\\_"}),a=a.replace(/\\\\\.\*/g,"\\\\%"),a=a.replace(/(\\)?\.(\*)?/g,function(a,b,c){return b||c?a:"_"}),a=a.replace(/(\\)?\.\*/g,function(a,b){return b?a:"%"}),a=a.replace(/\\\./g,"."),a=a.replace(/(\\)?\\\*/g,function(a,b){return b?a:"*"})}var b={};return b[OpenLayers.Filter.Comparison.EQUAL_TO]="eq",b[OpenLayers.Filter.Comparison.NOT_EQUAL_TO]="ne",b[OpenLayers.Filter.Comparison.LESS_THAN]="lt",b[OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO]="lte",b[OpenLayers.Filter.Comparison.GREATER_THAN]="gt",b[OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO]="gte",b[OpenLayers.Filter.Comparison.LIKE]="ilike",OpenLayers.Class(OpenLayers.Format,{wildcarded:!1,srsInBBOX:!1,write:function(c,d){d=d||{};var e=c.CLASS_NAME,e=e.substring(e.lastIndexOf(".")+1);switch(e){case"Spatial":switch(c.type){case OpenLayers.Filter.Spatial.BBOX:d.bbox=c.value.toArray(),this.srsInBBOX&&c.projection&&d.bbox.push(c.projection.getCode());break;case OpenLayers.Filter.Spatial.DWITHIN:d.tolerance=c.distance;case OpenLayers.Filter.Spatial.WITHIN:d.lon=c.value.x,d.lat=c.value.y;break;default:OpenLayers.Console.warn("Unknown spatial filter type "+c.type)}break;case"Comparison":if(e=b[c.type],void 0!==e){var f=c.value;c.type==OpenLayers.Filter.Comparison.LIKE&&(f=a(f),this.wildcarded&&(f="%"+f+"%")),d[c.property+"__"+e]=f,d.queryable=d.queryable||[],d.queryable.push(c.property)}else OpenLayers.Console.warn("Unknown comparison filter type "+c.type);break;case"Logical":if(c.type===OpenLayers.Filter.Logical.AND)for(e=0,f=c.filters.length;f>e;e++)d=this.write(c.filters[e],d);else OpenLayers.Console.warn("Unsupported logical filter type "+c.type);break;default:OpenLayers.Console.warn("Unknown filter type "+e)}return d},CLASS_NAME:"OpenLayers.Format.QueryStringFilter"})}(),OpenLayers.Control.MousePosition=OpenLayers.Class(OpenLayers.Control,{autoActivate:!0,element:null,prefix:"",separator:", ",suffix:"",numDigits:5,granularity:10,emptyString:null,lastXy:null,displayProjection:null,destroy:function(){this.deactivate(),OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){return OpenLayers.Control.prototype.activate.apply(this,arguments)?(this.map.events.register("mousemove",this,this.redraw),this.map.events.register("mouseout",this,this.reset),this.redraw(),!0):!1},deactivate:function(){return OpenLayers.Control.prototype.deactivate.apply(this,arguments)?(this.map.events.unregister("mousemove",this,this.redraw),this.map.events.unregister("mouseout",this,this.reset),this.element.innerHTML="",!0):!1},draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.element||(this.div.left="",this.div.top="",this.element=this.div),this.div},redraw:function(a){var b;null==a?this.reset():null==this.lastXy||Math.abs(a.xy.x-this.lastXy.x)>this.granularity||Math.abs(a.xy.y-this.lastXy.y)>this.granularity?this.lastXy=a.xy:(b=this.map.getLonLatFromPixel(a.xy))&&(this.displayProjection&&b.transform(this.map.getProjectionObject(),this.displayProjection),this.lastXy=a.xy,a=this.formatOutput(b),a!=this.element.innerHTML&&(this.element.innerHTML=a))},reset:function(){null!=this.emptyString&&(this.element.innerHTML=this.emptyString)},formatOutput:function(a){var b=parseInt(this.numDigits);return this.prefix+a.lon.toFixed(b)+this.separator+a.lat.toFixed(b)+this.suffix},CLASS_NAME:"OpenLayers.Control.MousePosition"}),OpenLayers.Control.Geolocate=OpenLayers.Class(OpenLayers.Control,{geolocation:null,available:"geolocation"in navigator,bind:!0,watch:!1,geolocationOptions:null,destroy:function(){this.deactivate(),OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){return this.available&&!this.geolocation&&(this.geolocation=navigator.geolocation),this.geolocation?OpenLayers.Control.prototype.activate.apply(this,arguments)?(this.watch?this.watchId=this.geolocation.watchPosition(OpenLayers.Function.bind(this.geolocate,this),OpenLayers.Function.bind(this.failure,this),this.geolocationOptions):this.getCurrentLocation(),!0):!1:(this.events.triggerEvent("locationuncapable"),!1)},deactivate:function(){return this.active&&null!==this.watchId&&this.geolocation.clearWatch(this.watchId),OpenLayers.Control.prototype.deactivate.apply(this,arguments)},geolocate:function(a){var b=new OpenLayers.LonLat(a.coords.longitude,a.coords.latitude).transform(new OpenLayers.Projection("EPSG:4326"),this.map.getProjectionObject());
this.bind&&this.map.setCenter(b),this.events.triggerEvent("locationupdated",{position:a,point:new OpenLayers.Geometry.Point(b.lon,b.lat)})},getCurrentLocation:function(){return!this.active||this.watch?!1:(this.geolocation.getCurrentPosition(OpenLayers.Function.bind(this.geolocate,this),OpenLayers.Function.bind(this.failure,this),this.geolocationOptions),!0)},failure:function(a){this.events.triggerEvent("locationfailed",{error:a})},CLASS_NAME:"OpenLayers.Control.Geolocate"}),OpenLayers.Tile.UTFGrid=OpenLayers.Class(OpenLayers.Tile,{url:null,utfgridResolution:2,json:null,format:null,destroy:function(){this.clear(),OpenLayers.Tile.prototype.destroy.apply(this,arguments)},draw:function(){var a=OpenLayers.Tile.prototype.draw.apply(this,arguments);if(a)if(this.isLoading?(this.abortLoading(),this.events.triggerEvent("reload")):(this.isLoading=!0,this.events.triggerEvent("loadstart")),this.url=this.layer.getURL(this.bounds),this.layer.useJSONP){var b=new OpenLayers.Protocol.Script({url:this.url,callback:function(a){this.isLoading=!1,this.events.triggerEvent("loadend"),this.json=a.data},scope:this});b.read(),this.request=b}else this.request=OpenLayers.Request.GET({url:this.url,callback:function(a){this.isLoading=!1,this.events.triggerEvent("loadend"),200===a.status&&this.parseData(a.responseText)},scope:this});else this.unload();return a},abortLoading:function(){this.request&&(this.request.abort(),delete this.request),this.isLoading=!1},getFeatureInfo:function(a,b){var c=null;if(this.json){var d=this.getFeatureId(a,b);null!==d&&(c={id:d,data:this.json.data[d]})}return c},getFeatureId:function(a,b){var c=null;if(this.json){var d=this.utfgridResolution,d=this.json.grid[Math.floor(b/d)].charCodeAt(Math.floor(a/d)),d=this.indexFromCharCode(d),e=this.json.keys;!isNaN(d)&&d in e&&(c=e[d])}return c},indexFromCharCode:function(a){return a>=93&&a--,a>=35&&a--,a-32},parseData:function(a){this.format||(this.format=new OpenLayers.Format.JSON),this.json=this.format.read(a)},clear:function(){this.json=null},CLASS_NAME:"OpenLayers.Tile.UTFGrid"}),OpenLayers.Protocol.HTTP=OpenLayers.Class(OpenLayers.Protocol,{url:null,headers:null,params:null,callback:null,scope:null,readWithPOST:!1,updateWithPOST:!1,deleteWithPOST:!1,wildcarded:!1,srsInBBOX:!1,initialize:function(a){if(a=a||{},this.params={},this.headers={},OpenLayers.Protocol.prototype.initialize.apply(this,arguments),!this.filterToParams&&OpenLayers.Format.QueryStringFilter){var b=new OpenLayers.Format.QueryStringFilter({wildcarded:this.wildcarded,srsInBBOX:this.srsInBBOX});this.filterToParams=function(a,c){return b.write(a,c)}}},destroy:function(){this.headers=this.params=null,OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(a){OpenLayers.Protocol.prototype.read.apply(this,arguments),a=a||{},a.params=OpenLayers.Util.applyDefaults(a.params,this.options.params),a=OpenLayers.Util.applyDefaults(a,this.options),a.filter&&this.filterToParams&&(a.params=this.filterToParams(a.filter,a.params));var b=void 0!==a.readWithPOST?a.readWithPOST:this.readWithPOST,c=new OpenLayers.Protocol.Response({requestType:"read"});return b?(b=a.headers||{},b["Content-Type"]="application/x-www-form-urlencoded",c.priv=OpenLayers.Request.POST({url:a.url,callback:this.createCallback(this.handleRead,c,a),data:OpenLayers.Util.getParameterString(a.params),headers:b})):c.priv=OpenLayers.Request.GET({url:a.url,callback:this.createCallback(this.handleRead,c,a),params:a.params,headers:a.headers}),c},handleRead:function(a,b){this.handleResponse(a,b)},create:function(a,b){b=OpenLayers.Util.applyDefaults(b,this.options);var c=new OpenLayers.Protocol.Response({reqFeatures:a,requestType:"create"});return c.priv=OpenLayers.Request.POST({url:b.url,callback:this.createCallback(this.handleCreate,c,b),headers:b.headers,data:this.format.write(a)}),c},handleCreate:function(a,b){this.handleResponse(a,b)},update:function(a,b){b=b||{};var c=b.url||a.url||this.options.url+"/"+a.fid;b=OpenLayers.Util.applyDefaults(b,this.options);var d=new OpenLayers.Protocol.Response({reqFeatures:a,requestType:"update"});return d.priv=OpenLayers.Request[this.updateWithPOST?"POST":"PUT"]({url:c,callback:this.createCallback(this.handleUpdate,d,b),headers:b.headers,data:this.format.write(a)}),d},handleUpdate:function(a,b){this.handleResponse(a,b)},"delete":function(a,b){b=b||{};var c=b.url||a.url||this.options.url+"/"+a.fid;b=OpenLayers.Util.applyDefaults(b,this.options);var d=new OpenLayers.Protocol.Response({reqFeatures:a,requestType:"delete"}),e=this.deleteWithPOST?"POST":"DELETE",c={url:c,callback:this.createCallback(this.handleDelete,d,b),headers:b.headers};return this.deleteWithPOST&&(c.data=this.format.write(a)),d.priv=OpenLayers.Request[e](c),d},handleDelete:function(a,b){this.handleResponse(a,b)},handleResponse:function(a,b){var c=a.priv;b.callback&&(200<=c.status&&300>c.status?("delete"!=a.requestType&&(a.features=this.parseFeatures(c)),a.code=OpenLayers.Protocol.Response.SUCCESS):a.code=OpenLayers.Protocol.Response.FAILURE,b.callback.call(b.scope,a))},parseFeatures:function(a){var b=a.responseXML;return b&&b.documentElement||(b=a.responseText),!b||0>=b.length?null:this.format.read(b)},commit:function(a,b){function c(a){for(var b=a.features?a.features.length:0,c=Array(b),e=0;b>e;++e)c[e]=a.features[e].fid;o.insertIds=c,d.apply(this,[a])}function d(a){this.callUserCallback(a,b),n=n&&a.success(),f++,f>=m&&b.callback&&(o.code=n?OpenLayers.Protocol.Response.SUCCESS:OpenLayers.Protocol.Response.FAILURE,b.callback.apply(b.scope,[o]))}b=OpenLayers.Util.applyDefaults(b,this.options);var e=[],f=0,g={};g[OpenLayers.State.INSERT]=[],g[OpenLayers.State.UPDATE]=[],g[OpenLayers.State.DELETE]=[];for(var h,i,j=[],k=0,l=a.length;l>k;++k)h=a[k],(i=g[h.state])&&(i.push(h),j.push(h));var m=(0<g[OpenLayers.State.INSERT].length?1:0)+g[OpenLayers.State.UPDATE].length+g[OpenLayers.State.DELETE].length,n=!0,o=new OpenLayers.Protocol.Response({reqFeatures:j});for(h=g[OpenLayers.State.INSERT],0<h.length&&e.push(this.create(h,OpenLayers.Util.applyDefaults({callback:c,scope:this},b.create))),h=g[OpenLayers.State.UPDATE],k=h.length-1;k>=0;--k)e.push(this.update(h[k],OpenLayers.Util.applyDefaults({callback:d,scope:this},b.update)));for(h=g[OpenLayers.State.DELETE],k=h.length-1;k>=0;--k)e.push(this["delete"](h[k],OpenLayers.Util.applyDefaults({callback:d,scope:this},b["delete"])));return e},abort:function(a){a&&a.priv.abort()},callUserCallback:function(a,b){var c=b[a.requestType];c&&c.callback&&c.callback.call(c.scope,a)},CLASS_NAME:"OpenLayers.Protocol.HTTP"}),OpenLayers.Strategy.Cluster=OpenLayers.Class(OpenLayers.Strategy,{distance:20,threshold:null,features:null,clusters:null,clustering:!1,resolution:null,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);return a&&this.layer.events.on({beforefeaturesadded:this.cacheFeatures,featuresremoved:this.clearCache,moveend:this.cluster,scope:this}),a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);return a&&(this.clearCache(),this.layer.events.un({beforefeaturesadded:this.cacheFeatures,featuresremoved:this.clearCache,moveend:this.cluster,scope:this})),a},cacheFeatures:function(a){var b=!0;return this.clustering||(this.clearCache(),this.features=a.features,this.cluster(),b=!1),b},clearCache:function(){this.clustering||(this.features=null)},cluster:function(a){if((!a||a.zoomChanged)&&this.features&&(a=this.layer.map.getResolution(),a!=this.resolution||!this.clustersExist())){this.resolution=a,a=[];for(var b,c,d,e=0;e<this.features.length;++e)if(b=this.features[e],b.geometry){c=!1;for(var f=a.length-1;f>=0;--f)if(d=a[f],this.shouldCluster(d,b)){this.addToCluster(d,b),c=!0;break}c||a.push(this.createCluster(this.features[e]))}if(this.clustering=!0,this.layer.removeAllFeatures(),this.clustering=!1,0<a.length){if(1<this.threshold)for(b=a.slice(),a=[],e=0,d=b.length;d>e;++e)c=b[e],c.attributes.count<this.threshold?Array.prototype.push.apply(a,c.cluster):a.push(c);this.clustering=!0,this.layer.addFeatures(a),this.clustering=!1}this.clusters=a}},clustersExist:function(){var a=!1;if(this.clusters&&0<this.clusters.length&&this.clusters.length==this.layer.features.length)for(var a=!0,b=0;b<this.clusters.length;++b)if(this.clusters[b]!=this.layer.features[b]){a=!1;break}return a},shouldCluster:function(a,b){var c=a.geometry.getBounds().getCenterLonLat(),d=b.geometry.getBounds().getCenterLonLat();return Math.sqrt(Math.pow(c.lon-d.lon,2)+Math.pow(c.lat-d.lat,2))/this.resolution<=this.distance},addToCluster:function(a,b){a.cluster.push(b),a.attributes.count+=1},createCluster:function(a){var b=a.geometry.getBounds().getCenterLonLat(),b=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(b.lon,b.lat),{count:1});return b.cluster=[a],b},CLASS_NAME:"OpenLayers.Strategy.Cluster"}),OpenLayers.Strategy.Filter=OpenLayers.Class(OpenLayers.Strategy,{filter:null,cache:null,caching:!1,activate:function(){var a=OpenLayers.Strategy.prototype.activate.apply(this,arguments);return a&&(this.cache=[],this.layer.events.on({beforefeaturesadded:this.handleAdd,beforefeaturesremoved:this.handleRemove,scope:this})),a},deactivate:function(){return this.cache=null,this.layer&&this.layer.events&&this.layer.events.un({beforefeaturesadded:this.handleAdd,beforefeaturesremoved:this.handleRemove,scope:this}),OpenLayers.Strategy.prototype.deactivate.apply(this,arguments)},handleAdd:function(a){if(!this.caching&&this.filter){var b=a.features;a.features=[];for(var c,d=0,e=b.length;e>d;++d)c=b[d],this.filter.evaluate(c)?a.features.push(c):this.cache.push(c)}},handleRemove:function(){this.caching||(this.cache=[])},setFilter:function(a){this.filter=a,a=this.cache,this.cache=[],this.handleAdd({features:this.layer.features}),0<this.cache.length&&(this.caching=!0,this.layer.removeFeatures(this.cache.slice()),this.caching=!1),0<a.length&&(a={features:a},this.handleAdd(a),0<a.features.length&&(this.caching=!0,this.layer.addFeatures(a.features),this.caching=!1))},CLASS_NAME:"OpenLayers.Strategy.Filter"}),OpenLayers.Protocol.SOS=function(a){a=OpenLayers.Util.applyDefaults(a,OpenLayers.Protocol.SOS.DEFAULTS);var b=OpenLayers.Protocol.SOS["v"+a.version.replace(/\./g,"_")];if(!b)throw"Unsupported SOS version: "+a.version;return new b(a)},OpenLayers.Protocol.SOS.DEFAULTS={version:"1.0.0"},OpenLayers.Format.WFSDescribeFeatureType=OpenLayers.Class(OpenLayers.Format.XML,{regExes:{trimSpace:/^\s*|\s*$/g},namespaces:{xsd:"http://www.w3.org/2001/XMLSchema"},readers:{xsd:{schema:function(a,b){var c,d,e=[],f={};this.readChildNodes(a,{complexTypes:e,customTypes:f});var g,h,i=a.attributes;for(c=0,d=i.length;d>c;++c)g=i[c],h=g.name,0===h.indexOf("xmlns")?this.setNamespace(h.split(":")[1]||"",g.value):b[h]=g.value;for(b.featureTypes=e,b.targetPrefix=this.namespaceAlias[b.targetNamespace],c=0,d=e.length;d>c;++c)i=e[c],g=f[i.typeName],f[i.typeName]&&(i.typeName=g.name)},complexType:function(a,b){var c={typeName:a.getAttribute("name")};this.readChildNodes(a,c),b.complexTypes.push(c)},complexContent:function(a,b){this.readChildNodes(a,b)},extension:function(a,b){this.readChildNodes(a,b)},sequence:function(a,b){var c={elements:[]};this.readChildNodes(a,c),b.properties=c.elements},element:function(a,b){var c;if(b.elements){var d={};c=a.attributes;for(var e,f=0,g=c.length;g>f;++f)e=c[f],d[e.name]=e.value;c=d.type,c||(c={},this.readChildNodes(a,c),d.restriction=c,d.type=c.base),d.localType=(c.base||c).split(":").pop(),b.elements.push(d),this.readChildNodes(a,d)}b.complexTypes&&(c=a.getAttribute("type"),d=c.split(":").pop(),b.customTypes[d]={name:a.getAttribute("name"),type:c})},annotation:function(a,b){b.annotation={},this.readChildNodes(a,b.annotation)},appinfo:function(a,b){b.appinfo||(b.appinfo=[]),b.appinfo.push(this.getChildValue(a))},documentation:function(a,b){b.documentation||(b.documentation=[]);var c=this.getChildValue(a);b.documentation.push({lang:a.getAttribute("xml:lang"),textContent:c.replace(this.regExes.trimSpace,"")})},simpleType:function(a,b){this.readChildNodes(a,b)},restriction:function(a,b){b.base=a.getAttribute("base"),this.readRestriction(a,b)}}},readRestriction:function(a,b){for(var c,d,e=a.childNodes,f=0,g=e.length;g>f;++f)c=e[f],1==c.nodeType&&(d=c.nodeName.split(":").pop(),c=c.getAttribute("value"),b[d]?("string"==typeof b[d]&&(b[d]=[b[d]]),b[d].push(c)):b[d]=c)},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};if("ExceptionReport"===a.nodeName.split(":").pop()){var c=new OpenLayers.Format.OGCExceptionReport;b.error=c.read(a)}else this.readNode(a,b);return b},CLASS_NAME:"OpenLayers.Format.WFSDescribeFeatureType"}),OpenLayers.Format.GeoRSS=OpenLayers.Class(OpenLayers.Format.XML,{rssns:"http://backend.userland.com/rss2",featureNS:"http://mapserver.gis.umn.edu/mapserver",georssns:"http://www.georss.org/georss",geons:"http://www.w3.org/2003/01/geo/wgs84_pos#",featureTitle:"Untitled",featureDescription:"No Description",gmlParser:null,xy:!1,createGeometryFromItem:function(a){var b=this.getElementsByTagNameNS(a,this.georssns,"point"),c=this.getElementsByTagNameNS(a,this.geons,"lat"),d=this.getElementsByTagNameNS(a,this.geons,"long"),e=this.getElementsByTagNameNS(a,this.georssns,"line"),f=this.getElementsByTagNameNS(a,this.georssns,"polygon"),g=this.getElementsByTagNameNS(a,this.georssns,"where");if(a=this.getElementsByTagNameNS(a,this.georssns,"box"),0<b.length||0<c.length&&0<d.length){0<b.length?(c=OpenLayers.String.trim(b[0].firstChild.nodeValue).split(/\s+/),2!=c.length&&(c=OpenLayers.String.trim(b[0].firstChild.nodeValue).split(/\s*,\s*/))):c=[parseFloat(c[0].firstChild.nodeValue),parseFloat(d[0].firstChild.nodeValue)];var h=new OpenLayers.Geometry.Point(c[1],c[0])}else if(0<e.length){for(c=OpenLayers.String.trim(this.getChildValue(e[0])).split(/\s+/),d=[],e=0,f=c.length;f>e;e+=2)b=new OpenLayers.Geometry.Point(c[e+1],c[e]),d.push(b);h=new OpenLayers.Geometry.LineString(d)}else if(0<f.length){for(c=OpenLayers.String.trim(this.getChildValue(f[0])).split(/\s+/),d=[],e=0,f=c.length;f>e;e+=2)b=new OpenLayers.Geometry.Point(c[e+1],c[e]),d.push(b);h=new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(d)])}else 0<g.length?(this.gmlParser||(this.gmlParser=new OpenLayers.Format.GML({xy:this.xy})),h=this.gmlParser.parseFeature(g[0]).geometry):0<a.length&&(c=OpenLayers.String.trim(a[0].firstChild.nodeValue).split(/\s+/),d=[],3<c.length&&(b=new OpenLayers.Geometry.Point(c[1],c[0]),d.push(b),b=new OpenLayers.Geometry.Point(c[1],c[2]),d.push(b),b=new OpenLayers.Geometry.Point(c[3],c[2]),d.push(b),b=new OpenLayers.Geometry.Point(c[3],c[0]),d.push(b),b=new OpenLayers.Geometry.Point(c[1],c[0]),d.push(b)),h=new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(d)]));return h&&this.internalProjection&&this.externalProjection&&h.transform(this.externalProjection,this.internalProjection),h},createFeatureFromItem:function(a){var b=this.createGeometryFromItem(a),c=this._getChildValue(a,"*","title",this.featureTitle),d=this._getChildValue(a,"*","description",this._getChildValue(a,"*","content",this._getChildValue(a,"*","summary",this.featureDescription))),e=this._getChildValue(a,"*","link");if(!e)try{e=this.getElementsByTagNameNS(a,"*","link")[0].getAttribute("href")}catch(f){e=null}return a=this._getChildValue(a,"*","id",null),b=new OpenLayers.Feature.Vector(b,{title:c,description:d,link:e}),b.fid=a,b},_getChildValue:function(a,b,c,d){return(a=this.getElementsByTagNameNS(a,b,c))&&a[0]&&a[0].firstChild&&a[0].firstChild.nodeValue?this.getChildValue(a[0]):void 0==d?"":d},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b=null,b=this.getElementsByTagNameNS(a,"*","item");0==b.length&&(b=this.getElementsByTagNameNS(a,"*","entry")),a=b.length;for(var c=Array(a),d=0;a>d;d++)c[d]=this.createFeatureFromItem(b[d]);return c},write:function(a){var b;if(OpenLayers.Util.isArray(a)){b=this.createElementNS(this.rssns,"rss");for(var c=0,d=a.length;d>c;c++)b.appendChild(this.createFeatureXML(a[c]))}else b=this.createFeatureXML(a);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},createFeatureXML:function(a){var b=this.buildGeometryNode(a.geometry),c=this.createElementNS(this.rssns,"item"),d=this.createElementNS(this.rssns,"title");d.appendChild(this.createTextNode(a.attributes.title?a.attributes.title:""));var e=this.createElementNS(this.rssns,"description");e.appendChild(this.createTextNode(a.attributes.description?a.attributes.description:"")),c.appendChild(d),c.appendChild(e),a.attributes.link&&(d=this.createElementNS(this.rssns,"link"),d.appendChild(this.createTextNode(a.attributes.link)),c.appendChild(d));for(var f in a.attributes)"link"!=f&&"title"!=f&&"description"!=f&&(d=this.createTextNode(a.attributes[f]),e=f,-1!=f.search(":")&&(e=f.split(":")[1]),e=this.createElementNS(this.featureNS,"feature:"+e),e.appendChild(d),c.appendChild(e));return c.appendChild(b),c},buildGeometryNode:function(a){this.internalProjection&&this.externalProjection&&(a=a.clone(),a.transform(this.internalProjection,this.externalProjection));var b;if("OpenLayers.Geometry.Polygon"==a.CLASS_NAME)b=this.createElementNS(this.georssns,"georss:polygon"),b.appendChild(this.buildCoordinatesNode(a.components[0]));else if("OpenLayers.Geometry.LineString"==a.CLASS_NAME)b=this.createElementNS(this.georssns,"georss:line"),b.appendChild(this.buildCoordinatesNode(a));else{if("OpenLayers.Geometry.Point"!=a.CLASS_NAME)throw"Couldn't parse "+a.CLASS_NAME;b=this.createElementNS(this.georssns,"georss:point"),b.appendChild(this.buildCoordinatesNode(a))}return b},buildCoordinatesNode:function(a){var b=null;if(a.components&&(b=a.components),b){a=b.length;for(var c=Array(a),d=0;a>d;d++)c[d]=b[d].y+" "+b[d].x;b=c.join(" ")}else b=a.y+" "+a.x;return this.createTextNode(b)},CLASS_NAME:"OpenLayers.Format.GeoRSS"}),OpenLayers.Format.WPSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.WPSCapabilities"}),OpenLayers.Format.WPSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows/1.1",wps:"http://www.opengis.net/wps/1.0.0",xlink:"http://www.w3.org/1999/xlink"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b},readers:{wps:{Capabilities:function(a,b){this.readChildNodes(a,b)},ProcessOfferings:function(a,b){b.processOfferings={},this.readChildNodes(a,b.processOfferings)},Process:function(a,b){var c={processVersion:this.getAttributeNS(a,this.namespaces.wps,"processVersion")};this.readChildNodes(a,c),b[c.identifier]=c},Languages:function(a,b){b.languages=[],this.readChildNodes(a,b.languages)},Default:function(a,b){var c={isDefault:!0};this.readChildNodes(a,c),b.push(c)},Supported:function(a,b){var c={};this.readChildNodes(a,c),b.push(c)}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WPSCapabilities.v1_0_0"}),OpenLayers.Control.PinchZoom=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,pinchOrigin:null,currentCenter:null,autoActivate:!0,preserveCenter:!1,initialize:function(){OpenLayers.Control.prototype.initialize.apply(this,arguments),this.handler=new OpenLayers.Handler.Pinch(this,{start:this.pinchStart,move:this.pinchMove,done:this.pinchDone},this.handlerOptions)},pinchStart:function(a){var b=this.preserveCenter?this.map.getPixelFromLonLat(this.map.getCenter()):a.xy;this.currentCenter=this.pinchOrigin=b},pinchMove:function(a,b){var c=b.scale,d=this.map.layerContainerOriginPx,e=this.pinchOrigin,f=this.preserveCenter?this.map.getPixelFromLonLat(this.map.getCenter()):a.xy,g=Math.round(d.x+f.x-e.x+(c-1)*(d.x-e.x)),d=Math.round(d.y+f.y-e.y+(c-1)*(d.y-e.y));this.map.applyTransform(g,d,c),this.currentCenter=f},pinchDone:function(a,b,c){if(this.map.applyTransform(),a=this.map.getZoomForResolution(this.map.getResolution()/c.scale,!0),a!==this.map.getZoom()||!this.currentCenter.equals(this.pinchOrigin)){b=this.map.getResolutionForZoom(a),c=this.map.getLonLatFromPixel(this.pinchOrigin);var d=this.currentCenter,e=this.map.getSize();c.lon+=b*(e.w/2-d.x),c.lat-=b*(e.h/2-d.y),this.map.div.clientWidth=this.map.div.clientWidth,this.map.setCenter(c,a)}},CLASS_NAME:"OpenLayers.Control.PinchZoom"}),OpenLayers.Control.TouchNavigation=OpenLayers.Class(OpenLayers.Control,{dragPan:null,dragPanOptions:null,pinchZoom:null,pinchZoomOptions:null,clickHandlerOptions:null,documentDrag:!1,autoActivate:!0,initialize:function(){this.handlers={},OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.deactivate(),this.dragPan&&this.dragPan.destroy(),this.dragPan=null,this.pinchZoom&&(this.pinchZoom.destroy(),delete this.pinchZoom),OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){return OpenLayers.Control.prototype.activate.apply(this,arguments)?(this.dragPan.activate(),this.handlers.click.activate(),this.pinchZoom.activate(),!0):!1},deactivate:function(){return OpenLayers.Control.prototype.deactivate.apply(this,arguments)?(this.dragPan.deactivate(),this.handlers.click.deactivate(),this.pinchZoom.deactivate(),!0):!1},draw:function(){var a={click:this.defaultClick,dblclick:this.defaultDblClick},b=OpenLayers.Util.extend({"double":!0,stopDouble:!0,pixelTolerance:2},this.clickHandlerOptions);this.handlers.click=new OpenLayers.Handler.Click(this,a,b),this.dragPan=new OpenLayers.Control.DragPan(OpenLayers.Util.extend({map:this.map,documentDrag:this.documentDrag},this.dragPanOptions)),this.dragPan.draw(),this.pinchZoom=new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({map:this.map},this.pinchZoomOptions))},defaultClick:function(a){a.lastTouches&&2==a.lastTouches.length&&this.map.zoomOut()},defaultDblClick:function(a){this.map.zoomTo(this.map.zoom+1,a.xy)},CLASS_NAME:"OpenLayers.Control.TouchNavigation"}),OpenLayers.Console.warn("OpenLayers.Rico is deprecated"),OpenLayers.Rico=OpenLayers.Rico||{},OpenLayers.Rico.Color=OpenLayers.Class({initialize:function(a,b,c){this.rgb={r:a,g:b,b:c}},setRed:function(a){this.rgb.r=a},setGreen:function(a){this.rgb.g=a},setBlue:function(a){this.rgb.b=a},setHue:function(a){var b=this.asHSB();b.h=a,this.rgb=OpenLayers.Rico.Color.HSBtoRGB(b.h,b.s,b.b)},setSaturation:function(a){var b=this.asHSB();b.s=a,this.rgb=OpenLayers.Rico.Color.HSBtoRGB(b.h,b.s,b.b)},setBrightness:function(a){var b=this.asHSB();b.b=a,this.rgb=OpenLayers.Rico.Color.HSBtoRGB(b.h,b.s,b.b)},darken:function(a){var b=this.asHSB();this.rgb=OpenLayers.Rico.Color.HSBtoRGB(b.h,b.s,Math.max(b.b-a,0))},brighten:function(a){var b=this.asHSB();this.rgb=OpenLayers.Rico.Color.HSBtoRGB(b.h,b.s,Math.min(b.b+a,1))},blend:function(a){this.rgb.r=Math.floor((this.rgb.r+a.rgb.r)/2),this.rgb.g=Math.floor((this.rgb.g+a.rgb.g)/2),this.rgb.b=Math.floor((this.rgb.b+a.rgb.b)/2)},isBright:function(){return this.asHSB(),.5<this.asHSB().b},isDark:function(){return!this.isBright()},asRGB:function(){return"rgb("+this.rgb.r+","+this.rgb.g+","+this.rgb.b+")"},asHex:function(){return"#"+this.rgb.r.toColorPart()+this.rgb.g.toColorPart()+this.rgb.b.toColorPart()},asHSB:function(){return OpenLayers.Rico.Color.RGBtoHSB(this.rgb.r,this.rgb.g,this.rgb.b)},toString:function(){return this.asHex()}}),OpenLayers.Rico.Color.createFromHex=function(a){if(4==a.length){var b=a;a="#";for(var c=1;4>c;c++)a+=b.charAt(c)+b.charAt(c)}return 0==a.indexOf("#")&&(a=a.substring(1)),b=a.substring(0,2),c=a.substring(2,4),a=a.substring(4,6),new OpenLayers.Rico.Color(parseInt(b,16),parseInt(c,16),parseInt(a,16))},OpenLayers.Rico.Color.createColorFromBackground=function(a){var b=OpenLayers.Element.getStyle(OpenLayers.Util.getElement(a),"backgroundColor");return"transparent"==b&&a.parentNode?OpenLayers.Rico.Color.createColorFromBackground(a.parentNode):null==b?new OpenLayers.Rico.Color(255,255,255):0==b.indexOf("rgb(")?(a=b.substring(4,b.length-1).split(","),new OpenLayers.Rico.Color(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]))):0==b.indexOf("#")?OpenLayers.Rico.Color.createFromHex(b):new OpenLayers.Rico.Color(255,255,255)},OpenLayers.Rico.Color.HSBtoRGB=function(a,b,c){var d=0,e=0,f=0;if(0==b)f=e=d=parseInt(255*c+.5);else{a=6*(a-Math.floor(a));var g=a-Math.floor(a),h=c*(1-b),i=c*(1-b*g);switch(b=c*(1-b*(1-g)),parseInt(a)){case 0:d=255*c+.5,e=255*b+.5,f=255*h+.5;break;case 1:d=255*i+.5,e=255*c+.5,f=255*h+.5;break;case 2:d=255*h+.5,e=255*c+.5,f=255*b+.5;break;case 3:d=255*h+.5,e=255*i+.5,f=255*c+.5;break;case 4:d=255*b+.5,e=255*h+.5,f=255*c+.5;break;case 5:d=255*c+.5,e=255*h+.5,f=255*i+.5}}return{r:parseInt(d),g:parseInt(e),b:parseInt(f)}},OpenLayers.Rico.Color.RGBtoHSB=function(a,b,c){var d,e=a>b?a:b;c>e&&(e=c);var f=b>a?a:b;if(f>c&&(f=c),d=0!=e?(e-f)/e:0,0==d)a=0;else{var g=(e-a)/(e-f),h=(e-b)/(e-f);c=(e-c)/(e-f),a=(a==e?c-h:b==e?2+g-c:4+h-g)/6,0>a&&(a+=1)}return{h:a,s:d,b:e/255}},OpenLayers.Style2=OpenLayers.Class({id:null,name:null,title:null,description:null,layerName:null,isDefault:!1,rules:null,initialize:function(a){OpenLayers.Util.extend(this,a),this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var a=0,b=this.rules.length;b>a;a++)this.rules[a].destroy();delete this.rules},clone:function(){var a=OpenLayers.Util.extend({},this);if(this.rules){a.rules=[];for(var b=0,c=this.rules.length;c>b;++b)a.rules.push(this.rules[b].clone())}return new OpenLayers.Style2(a)},CLASS_NAME:"OpenLayers.Style2"}),OpenLayers.Format.WFS=OpenLayers.Class(OpenLayers.Format.GML,{layer:null,wfsns:"http://www.opengis.net/wfs",ogcns:"http://www.opengis.net/ogc",initialize:function(a,b){OpenLayers.Format.GML.prototype.initialize.apply(this,[a]),this.layer=b,this.layer.featureNS&&(this.featureNS=this.layer.featureNS),this.layer.options.geometry_column&&(this.geometryName=this.layer.options.geometry_column),this.layer.options.typename&&(this.featureName=this.layer.options.typename)},write:function(a){var b=this.createElementNS(this.wfsns,"wfs:Transaction");b.setAttribute("version","1.0.0"),b.setAttribute("service","WFS");for(var c=0;c<a.length;c++)switch(a[c].state){case OpenLayers.State.INSERT:b.appendChild(this.insert(a[c]));break;case OpenLayers.State.UPDATE:b.appendChild(this.update(a[c]));break;case OpenLayers.State.DELETE:b.appendChild(this.remove(a[c]))}return OpenLayers.Format.XML.prototype.write.apply(this,[b])},createFeatureXML:function(a){var b=this.buildGeometryNode(a.geometry),c=this.createElementNS(this.featureNS,"feature:"+this.geometryName);c.appendChild(b),b=this.createElementNS(this.featureNS,"feature:"+this.featureName),b.appendChild(c);for(var d in a.attributes){var c=this.createTextNode(a.attributes[d]),e=d;-1!=d.search(":")&&(e=d.split(":")[1]),e=this.createElementNS(this.featureNS,"feature:"+e),e.appendChild(c),b.appendChild(e)}return b},insert:function(a){var b=this.createElementNS(this.wfsns,"wfs:Insert");return b.appendChild(this.createFeatureXML(a)),b},update:function(a){a.fid||OpenLayers.Console.userError(OpenLayers.i18n("noFID"));var b=this.createElementNS(this.wfsns,"wfs:Update");b.setAttribute("typeName",this.featurePrefix+":"+this.featureName),b.setAttribute("xmlns:"+this.featurePrefix,this.featureNS);var c=this.createElementNS(this.wfsns,"wfs:Property"),d=this.createElementNS(this.wfsns,"wfs:Name"),e=this.createTextNode(this.geometryName);d.appendChild(e),c.appendChild(d),d=this.createElementNS(this.wfsns,"wfs:Value"),e=this.buildGeometryNode(a.geometry),a.layer&&e.setAttribute("srsName",a.layer.projection.getCode()),d.appendChild(e),c.appendChild(d),b.appendChild(c);for(var f in a.attributes)c=this.createElementNS(this.wfsns,"wfs:Property"),d=this.createElementNS(this.wfsns,"wfs:Name"),d.appendChild(this.createTextNode(f)),c.appendChild(d),d=this.createElementNS(this.wfsns,"wfs:Value"),d.appendChild(this.createTextNode(a.attributes[f])),c.appendChild(d),b.appendChild(c);return c=this.createElementNS(this.ogcns,"ogc:Filter"),f=this.createElementNS(this.ogcns,"ogc:FeatureId"),f.setAttribute("fid",a.fid),c.appendChild(f),b.appendChild(c),b},remove:function(a){if(!a.fid)return OpenLayers.Console.userError(OpenLayers.i18n("noFID")),!1;var b=this.createElementNS(this.wfsns,"wfs:Delete");b.setAttribute("typeName",this.featurePrefix+":"+this.featureName),b.setAttribute("xmlns:"+this.featurePrefix,this.featureNS);var c=this.createElementNS(this.ogcns,"ogc:Filter"),d=this.createElementNS(this.ogcns,"ogc:FeatureId");return d.setAttribute("fid",a.fid),c.appendChild(d),b.appendChild(c),b},destroy:function(){this.layer=null},CLASS_NAME:"OpenLayers.Format.WFS"}),OpenLayers.Format.SLD.v1_0_0_GeoServer=OpenLayers.Class(OpenLayers.Format.SLD.v1_0_0,{version:"1.0.0",profile:"GeoServer",readers:OpenLayers.Util.applyDefaults({sld:OpenLayers.Util.applyDefaults({Priority:function(a,b){var c=this.readers.ogc._expression.call(this,a);c&&(b.priority=c)},VendorOption:function(a,b){b.vendorOptions||(b.vendorOptions={}),b.vendorOptions[a.getAttribute("name")]=this.getChildValue(a)},TextSymbolizer:function(a,b){OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld.TextSymbolizer.apply(this,arguments);var c=this.multipleSymbolizers?b.symbolizers[b.symbolizers.length-1]:b.symbolizer.Text;void 0===c.graphic&&(c.graphic=!1)}},OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld)},OpenLayers.Format.SLD.v1_0_0.prototype.readers),writers:OpenLayers.Util.applyDefaults({sld:OpenLayers.Util.applyDefaults({Priority:function(a){return this.writers.sld._OGCExpression.call(this,"sld:Priority",a)},VendorOption:function(a){return this.createElementNSPlus("sld:VendorOption",{attributes:{name:a.name},value:a.value})},TextSymbolizer:function(a){var b=OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.TextSymbolizer.apply(this,arguments);return!1!==a.graphic&&(a.externalGraphic||a.graphicName)&&this.writeNode("Graphic",a,b),"priority"in a&&this.writeNode("Priority",a.priority,b),this.addVendorOptions(b,a)},PointSymbolizer:function(a){var b=OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.PointSymbolizer.apply(this,arguments);return this.addVendorOptions(b,a)},LineSymbolizer:function(a){var b=OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.LineSymbolizer.apply(this,arguments);return this.addVendorOptions(b,a)},PolygonSymbolizer:function(a){var b=OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.PolygonSymbolizer.apply(this,arguments);return this.addVendorOptions(b,a)}},OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld)},OpenLayers.Format.SLD.v1_0_0.prototype.writers),addVendorOptions:function(a,b){if(b.vendorOptions)for(var c in b.vendorOptions)this.writeNode("VendorOption",{name:c,value:b.vendorOptions[c]},a);return a},CLASS_NAME:"OpenLayers.Format.SLD.v1_0_0_GeoServer"}),OpenLayers.Layer.Boxes=OpenLayers.Class(OpenLayers.Layer.Markers,{drawMarker:function(a){var b=this.map.getLayerPxFromLonLat({lon:a.bounds.left,lat:a.bounds.top}),c=this.map.getLayerPxFromLonLat({lon:a.bounds.right,lat:a.bounds.bottom});null==c||null==b?a.display(!1):(b=a.draw(b,{w:Math.max(1,c.x-b.x),h:Math.max(1,c.y-b.y)}),a.drawn||(this.div.appendChild(b),a.drawn=!0))},removeMarker:function(a){OpenLayers.Util.removeItem(this.markers,a),null!=a.div&&a.div.parentNode==this.div&&this.div.removeChild(a.div)},CLASS_NAME:"OpenLayers.Layer.Boxes"}),OpenLayers.Format.WFSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1,{readers:{wfs:OpenLayers.Util.applyDefaults({Service:function(a,b){b.service={},this.readChildNodes(a,b.service)},Fees:function(a,b){var c=this.getChildValue(a);c&&"none"!=c.toLowerCase()&&(b.fees=c)},AccessConstraints:function(a,b){var c=this.getChildValue(a);c&&"none"!=c.toLowerCase()&&(b.accessConstraints=c)},OnlineResource:function(a,b){var c=this.getChildValue(a);c&&"none"!=c.toLowerCase()&&(b.onlineResource=c)},Keywords:function(a,b){var c=this.getChildValue(a);
c&&"none"!=c.toLowerCase()&&(b.keywords=c.split(", "))},Capability:function(a,b){b.capability={},this.readChildNodes(a,b.capability)},Request:function(a,b){b.request={},this.readChildNodes(a,b.request)},GetFeature:function(a,b){b.getfeature={href:{},formats:[]},this.readChildNodes(a,b.getfeature)},ResultFormat:function(a,b){for(var c,d=a.childNodes,e=0;e<d.length;e++)c=d[e],1==c.nodeType&&b.formats.push(c.nodeName)},DCPType:function(a,b){this.readChildNodes(a,b)},HTTP:function(a,b){this.readChildNodes(a,b.href)},Get:function(a,b){b.get=a.getAttribute("onlineResource")},Post:function(a,b){b.post=a.getAttribute("onlineResource")},SRS:function(a,b){var c=this.getChildValue(a);c&&(b.srs=c)}},OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs)},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1_0_0"}),OpenLayers.Format.WMSCapabilities.v1_3=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1,{readers:{wms:OpenLayers.Util.applyDefaults({WMS_Capabilities:function(a,b){this.readChildNodes(a,b)},LayerLimit:function(a,b){b.layerLimit=parseInt(this.getChildValue(a))},MaxWidth:function(a,b){b.maxWidth=parseInt(this.getChildValue(a))},MaxHeight:function(a,b){b.maxHeight=parseInt(this.getChildValue(a))},BoundingBox:function(a,b){var c=OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this,[a,b]);c.srs=a.getAttribute("CRS"),b.bbox[c.srs]=c},CRS:function(a,b){this.readers.wms.SRS.apply(this,[a,b])},EX_GeographicBoundingBox:function(a,b){b.llbbox=[],this.readChildNodes(a,b.llbbox)},westBoundLongitude:function(a,b){b[0]=this.getChildValue(a)},eastBoundLongitude:function(a,b){b[2]=this.getChildValue(a)},southBoundLatitude:function(a,b){b[1]=this.getChildValue(a)},northBoundLatitude:function(a,b){b[3]=this.getChildValue(a)},MinScaleDenominator:function(a,b){b.maxScale=parseFloat(this.getChildValue(a)).toPrecision(16)},MaxScaleDenominator:function(a,b){b.minScale=parseFloat(this.getChildValue(a)).toPrecision(16)},Dimension:function(a,b){var c={name:a.getAttribute("name").toLowerCase(),units:a.getAttribute("units"),unitsymbol:a.getAttribute("unitSymbol"),nearestVal:"1"===a.getAttribute("nearestValue"),multipleVal:"1"===a.getAttribute("multipleValues"),"default":a.getAttribute("default")||"",current:"1"===a.getAttribute("current"),values:this.getChildValue(a).split(",")};b.dimensions[c.name]=c},Keyword:function(a,b){var c={value:this.getChildValue(a),vocabulary:a.getAttribute("vocabulary")};b.keywords&&b.keywords.push(c)}},OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms),sld:{UserDefinedSymbolization:function(a,b){this.readers.wms.UserDefinedSymbolization.apply(this,[a,b]),b.userSymbols.inlineFeature=1==parseInt(a.getAttribute("InlineFeature")),b.userSymbols.remoteWCS=1==parseInt(a.getAttribute("RemoteWCS"))},DescribeLayer:function(a,b){this.readers.wms.DescribeLayer.apply(this,[a,b])},GetLegendGraphic:function(a,b){this.readers.wms.GetLegendGraphic.apply(this,[a,b])}}},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_3"}),OpenLayers.Layer.Zoomify=OpenLayers.Class(OpenLayers.Layer.Grid,{size:null,isBaseLayer:!0,standardTileSize:256,tileOriginCorner:"tl",numberOfTiers:0,tileCountUpToTier:null,tierSizeInTiles:null,tierImageSize:null,initialize:function(a,b,c,d){this.initializeZoomify(c),OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a,b,c,{},d])},initializeZoomify:function(a){var b=a.clone();for(this.size=a.clone(),a=new OpenLayers.Size(Math.ceil(b.w/this.standardTileSize),Math.ceil(b.h/this.standardTileSize)),this.tierSizeInTiles=[a],this.tierImageSize=[b];b.w>this.standardTileSize||b.h>this.standardTileSize;)b=new OpenLayers.Size(Math.floor(b.w/2),Math.floor(b.h/2)),a=new OpenLayers.Size(Math.ceil(b.w/this.standardTileSize),Math.ceil(b.h/this.standardTileSize)),this.tierSizeInTiles.push(a),this.tierImageSize.push(b);for(this.tierSizeInTiles.reverse(),this.tierImageSize.reverse(),this.numberOfTiers=this.tierSizeInTiles.length,b=[1],this.tileCountUpToTier=[0],a=1;a<this.numberOfTiers;a++)b.unshift(Math.pow(2,a)),this.tileCountUpToTier.push(this.tierSizeInTiles[a-1].w*this.tierSizeInTiles[a-1].h+this.tileCountUpToTier[a-1]);this.serverResolutions||(this.serverResolutions=b)},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments),this.tileCountUpToTier.length=0,this.tierSizeInTiles.length=0,this.tierImageSize.length=0},clone:function(a){return null==a&&(a=new OpenLayers.Layer.Zoomify(this.name,this.url,this.size,this.options)),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){a=this.adjustBounds(a);var b=this.getServerResolution(),c=Math.round((a.left-this.tileOrigin.lon)/(b*this.tileSize.w));return a=Math.round((this.tileOrigin.lat-a.top)/(b*this.tileSize.h)),b=this.getZoomForResolution(b),c="TileGroup"+Math.floor((c+a*this.tierSizeInTiles[b].w+this.tileCountUpToTier[b])/256)+"/"+b+"-"+c+"-"+a+".jpg",b=this.url,OpenLayers.Util.isArray(b)&&(b=this.selectUrl(c,b)),b+c},getImageSize:function(){if(0<arguments.length){var a=this.adjustBounds(arguments[0]),b=this.getServerResolution(),c=Math.round((a.left-this.tileOrigin.lon)/(b*this.tileSize.w)),a=Math.round((this.tileOrigin.lat-a.top)/(b*this.tileSize.h)),b=this.getZoomForResolution(b),d=this.standardTileSize,e=this.standardTileSize;return c==this.tierSizeInTiles[b].w-1&&(d=this.tierImageSize[b].w%this.standardTileSize),a==this.tierSizeInTiles[b].h-1&&(e=this.tierImageSize[b].h%this.standardTileSize),new OpenLayers.Size(d,e)}return this.tileSize},setMap:function(){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments),this.tileOrigin=new OpenLayers.LonLat(this.map.maxExtent.left,this.map.maxExtent.top)},CLASS_NAME:"OpenLayers.Layer.Zoomify"}),OpenLayers.Layer.MapServer=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{mode:"map",map_imagetype:"png"},initialize:function(a,b,c,d){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments),this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS),(null==d||null==d.isBaseLayer)&&(this.isBaseLayer="true"!=this.params.transparent&&1!=this.params.transparent)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.MapServer(this.name,this.url,this.params,this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getURL:function(a){a=this.adjustBounds(a),a=[a.left,a.bottom,a.right,a.top];var b=this.getImageSize();return this.getFullRequestString({mapext:a,imgext:a,map_size:[b.w,b.h],imgx:b.w/2,imgy:b.h/2,imgxy:[b.w,b.h]})},getFullRequestString:function(a,b){var c=null==b?this.url:b,d=OpenLayers.Util.extend({},this.params),d=OpenLayers.Util.extend(d,a),e=OpenLayers.Util.getParameterString(d);OpenLayers.Util.isArray(c)&&(c=this.selectUrl(e,c));var f,e=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(c));for(f in d)f.toUpperCase()in e&&delete d[f];return e=OpenLayers.Util.getParameterString(d),d=c,e=e.replace(/,/g,"+"),""!=e&&(f=c.charAt(c.length-1),d="&"==f||"?"==f?d+e:-1==c.indexOf("?")?d+("?"+e):d+("&"+e)),d},CLASS_NAME:"OpenLayers.Layer.MapServer"}),OpenLayers.Renderer.VML=OpenLayers.Class(OpenLayers.Renderer.Elements,{xmlns:"urn:schemas-microsoft-com:vml",symbolCache:{},offset:null,initialize:function(){if(this.supported()){if(!document.namespaces.olv){document.namespaces.add("olv",this.xmlns);for(var a=document.createStyleSheet(),b="shape rect oval fill stroke imagedata group textbox".split(" "),c=0,d=b.length;d>c;c++)a.addRule("olv\\:"+b[c],"behavior: url(#default#VML); position: absolute; display: inline-block;")}OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments)}},supported:function(){return!!document.namespaces},setExtent:function(a,b){var c=OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments),d=this.getResolution(),e=a.left/d|0,d=a.top/d-this.size.h|0;b||!this.offset?(this.offset={x:e,y:d},d=e=0):(e-=this.offset.x,d-=this.offset.y),this.root.coordorigin=e-this.xOffset+" "+d;for(var e=[this.root,this.vectorRoot,this.textRoot],f=0,g=e.length;g>f;++f)d=e[f],d.coordsize=this.size.w+" "+this.size.h;return this.root.style.flip="y",c},setSize:function(){OpenLayers.Renderer.prototype.setSize.apply(this,arguments);for(var a,b=[this.rendererRoot,this.root,this.vectorRoot,this.textRoot],c=this.size.w+"px",d=this.size.h+"px",e=0,f=b.length;f>e;++e)a=b[e],a.style.width=c,a.style.height=d},getNodeType:function(a,b){var c=null;switch(a.CLASS_NAME){case"OpenLayers.Geometry.Point":c=b.externalGraphic?"olv:rect":this.isComplexSymbol(b.graphicName)?"olv:shape":"olv:oval";break;case"OpenLayers.Geometry.Rectangle":c="olv:rect";break;case"OpenLayers.Geometry.LineString":case"OpenLayers.Geometry.LinearRing":case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":c="olv:shape"}return c},setStyle:function(a,b,c,d){b=b||a._style,c=c||a._options;var e=b.fillColor,f=b.title||b.graphicTitle;if(f&&(a.title=f),"OpenLayers.Geometry.Point"===a._geometryClass)if(b.externalGraphic){c.isFilled=!0;var e=b.graphicWidth||b.graphicHeight,f=b.graphicHeight||b.graphicWidth,e=e?e:2*b.pointRadius,f=f?f:2*b.pointRadius,g=this.getResolution(),h=void 0!=b.graphicXOffset?b.graphicXOffset:-(.5*e),i=void 0!=b.graphicYOffset?b.graphicYOffset:-(.5*f);a.style.left=((d.x-this.featureDx)/g-this.offset.x+h|0)+"px",a.style.top=(d.y/g-this.offset.y-(i+f)|0)+"px",a.style.width=e+"px",a.style.height=f+"px",a.style.flip="y",e="none",c.isStroked=!1}else this.isComplexSymbol(b.graphicName)?(f=this.importSymbol(b.graphicName),a.path=f.path,a.coordorigin=f.left+","+f.bottom,f=f.size,a.coordsize=f+","+f,this.drawCircle(a,d,b.pointRadius),a.style.flip="y"):this.drawCircle(a,d,b.pointRadius);return c.isFilled?a.fillcolor=e:a.filled="false",d=a.getElementsByTagName("fill"),d=0==d.length?null:d[0],c.isFilled?(d||(d=this.createNode("olv:fill",a.id+"_fill")),d.opacity=b.fillOpacity,"OpenLayers.Geometry.Point"===a._geometryClass&&b.externalGraphic&&(b.graphicOpacity&&(d.opacity=b.graphicOpacity),d.src=b.externalGraphic,d.type="frame",b.graphicWidth&&b.graphicHeight||(d.aspect="atmost")),d.parentNode!=a&&a.appendChild(d)):d&&a.removeChild(d),e=b.rotation,(void 0!==e||void 0!==a._rotation)&&(a._rotation=e,b.externalGraphic?(this.graphicRotate(a,h,i,b),d.opacity=0):"OpenLayers.Geometry.Point"===a._geometryClass&&(a.style.rotation=e||0)),h=a.getElementsByTagName("stroke"),h=0==h.length?null:h[0],c.isStroked?(h||(h=this.createNode("olv:stroke",a.id+"_stroke"),a.appendChild(h)),h.on=!0,h.color=b.strokeColor,h.weight=b.strokeWidth+"px",h.opacity=b.strokeOpacity,h.endcap="butt"==b.strokeLinecap?"flat":b.strokeLinecap||"round",b.strokeDashstyle&&(h.dashstyle=this.dashStyle(b))):(a.stroked=!1,h&&(h.on=!1)),"inherit"!=b.cursor&&null!=b.cursor&&(a.style.cursor=b.cursor),a},graphicRotate:function(a,b,c,d){d=d||a._style;var e,f,g=d.rotation||0;if(d.graphicWidth&&d.graphicHeight){f=Math.max(d.graphicWidth,d.graphicHeight),e=d.graphicWidth/d.graphicHeight;var h=Math.round(d.graphicWidth||f*e),i=Math.round(d.graphicHeight||f);a.style.width=h+"px",a.style.height=i+"px";var j=document.getElementById(a.id+"_image");j||(j=this.createNode("olv:imagedata",a.id+"_image"),a.appendChild(j)),j.style.width=h+"px",j.style.height=i+"px",j.src=d.externalGraphic,j.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='', sizingMethod='scale')",j=g*Math.PI/180,g=Math.sin(j),j=Math.cos(j),g="progid:DXImageTransform.Microsoft.Matrix(M11="+j+",M12="+-g+",M21="+g+",M22="+j+",SizingMethod='auto expand')\n",(j=d.graphicOpacity||d.fillOpacity)&&1!=j&&(g+="progid:DXImageTransform.Microsoft.BasicImage(opacity="+j+")\n"),a.style.filter=g,g=new OpenLayers.Geometry.Point(-b,-c),h=new OpenLayers.Bounds(0,0,h,i).toGeometry(),h.rotate(d.rotation,g),h=h.getBounds(),a.style.left=Math.round(parseInt(a.style.left)+h.left)+"px",a.style.top=Math.round(parseInt(a.style.top)-h.bottom)+"px"}else{var k=new Image;k.onreadystatechange=OpenLayers.Function.bind(function(){("complete"==k.readyState||"interactive"==k.readyState)&&(e=k.width/k.height,f=Math.max(2*d.pointRadius,d.graphicWidth||0,d.graphicHeight||0),b*=e,d.graphicWidth=f*e,d.graphicHeight=f,this.graphicRotate(a,b,c,d))},this),k.src=d.externalGraphic}},postDraw:function(a){a.style.visibility="visible";var b=a._style.fillColor,c=a._style.strokeColor;"none"==b&&a.fillcolor!=b&&(a.fillcolor=b),"none"==c&&a.strokecolor!=c&&(a.strokecolor=c)},setNodeDimension:function(a,b){var c=b.getBounds();if(c){var d=this.getResolution(),c=new OpenLayers.Bounds((c.left-this.featureDx)/d-this.offset.x|0,c.bottom/d-this.offset.y|0,(c.right-this.featureDx)/d-this.offset.x|0,c.top/d-this.offset.y|0);a.style.left=c.left+"px",a.style.top=c.top+"px",a.style.width=c.getWidth()+"px",a.style.height=c.getHeight()+"px",a.coordorigin=c.left+" "+c.top,a.coordsize=c.getWidth()+" "+c.getHeight()}},dashStyle:function(a){switch(a=a.strokeDashstyle){case"solid":case"dot":case"dash":case"dashdot":case"longdash":case"longdashdot":return a;default:return a=a.split(/[ ,]/),2==a.length?1*a[0]>=2*a[1]?"longdash":1==a[0]||1==a[1]?"dot":"dash":4==a.length?1*a[0]>=2*a[1]?"longdashdot":"dashdot":"solid"}},createNode:function(a,b){var c=document.createElement(a);return b&&(c.id=b),c.unselectable="on",c.onselectstart=OpenLayers.Function.False,c},nodeTypeCompare:function(a,b){var c=b,d=c.indexOf(":");-1!=d&&(c=c.substr(d+1));var e=a.nodeName,d=e.indexOf(":");return-1!=d&&(e=e.substr(d+1)),c==e},createRenderRoot:function(){return this.nodeFactory(this.container.id+"_vmlRoot","div")},createRoot:function(a){return this.nodeFactory(this.container.id+a,"olv:group")},drawPoint:function(a,b){return this.drawCircle(a,b,1)},drawCircle:function(a,b,c){if(!isNaN(b.x)&&!isNaN(b.y)){var d=this.getResolution();return a.style.left=((b.x-this.featureDx)/d-this.offset.x|0)-c+"px",a.style.top=(b.y/d-this.offset.y|0)-c+"px",b=2*c,a.style.width=b+"px",a.style.height=b+"px",a}return!1},drawLineString:function(a,b){return this.drawLine(a,b,!1)},drawLinearRing:function(a,b){return this.drawLine(a,b,!0)},drawLine:function(a,b,c){this.setNodeDimension(a,b);for(var d,e,f=this.getResolution(),g=b.components.length,h=Array(g),i=0;g>i;i++)d=b.components[i],e=(d.x-this.featureDx)/f-this.offset.x|0,d=d.y/f-this.offset.y|0,h[i]=" "+e+","+d+" l ";return b=c?" x e":" e",a.path="m"+h.join("")+b,a},drawPolygon:function(a,b){this.setNodeDimension(a,b);var c,d,e,f,g,h,i,j,k,l,m=this.getResolution(),n=[];for(c=0,d=b.components.length;d>c;c++){for(n.push("m"),e=b.components[c].components,f=0===c,h=g=null,i=0,j=e.length;j>i;i++)k=e[i],l=(k.x-this.featureDx)/m-this.offset.x|0,k=k.y/m-this.offset.y|0,l=" "+l+","+k,n.push(l),0==i&&n.push(" l"),f||(g?g!=l&&(h?h!=l&&(f=!0):h=l):g=l);n.push(f?" x ":" ")}return n.push("e"),a.path=n.join(""),a},drawRectangle:function(a,b){var c=this.getResolution();return a.style.left=((b.x-this.featureDx)/c-this.offset.x|0)+"px",a.style.top=(b.y/c-this.offset.y|0)+"px",a.style.width=(b.width/c|0)+"px",a.style.height=(b.height/c|0)+"px",a},drawText:function(a,b,c){var d=this.nodeFactory(a+this.LABEL_ID_SUFFIX,"olv:rect"),e=this.nodeFactory(a+this.LABEL_ID_SUFFIX+"_textbox","olv:textbox"),f=this.getResolution();d.style.left=((c.x-this.featureDx)/f-this.offset.x|0)+"px",d.style.top=(c.y/f-this.offset.y|0)+"px",d.style.flip="y",e.innerText=b.label,"inherit"!=b.cursor&&null!=b.cursor&&(e.style.cursor=b.cursor),b.fontColor&&(e.style.color=b.fontColor),b.fontOpacity&&(e.style.filter="alpha(opacity="+100*b.fontOpacity+")"),b.fontFamily&&(e.style.fontFamily=b.fontFamily),b.fontSize&&(e.style.fontSize=b.fontSize),b.fontWeight&&(e.style.fontWeight=b.fontWeight),b.fontStyle&&(e.style.fontStyle=b.fontStyle),!0===b.labelSelect&&(d._featureId=a,e._featureId=a,e._geometry=c,e._geometryClass=c.CLASS_NAME),e.style.whiteSpace="nowrap",e.inset="1px,0px,0px,0px",d.parentNode||(d.appendChild(e),this.textRoot.appendChild(d)),b=b.labelAlign||"cm",1==b.length&&(b+="m"),a=e.clientWidth*OpenLayers.Renderer.VML.LABEL_SHIFT[b.substr(0,1)],e=e.clientHeight*OpenLayers.Renderer.VML.LABEL_SHIFT[b.substr(1,1)],d.style.left=parseInt(d.style.left)-a-1+"px",d.style.top=parseInt(d.style.top)+e+"px"},moveRoot:function(a){var b=this.map.getLayer(a.container.id);b instanceof OpenLayers.Layer.Vector.RootContainer&&(b=this.map.getLayer(this.container.id)),b&&b.renderer.clear(),OpenLayers.Renderer.Elements.prototype.moveRoot.apply(this,arguments),b&&b.redraw()},importSymbol:function(a){var b=this.container.id+"-"+a,c=this.symbolCache[b];if(c)return c;if(c=OpenLayers.Renderer.symbol[a],!c)throw Error(a+" is not a valid symbol name");a=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);for(var d=["m"],e=0;e<c.length;e+=2){var f=c[e],g=c[e+1];a.left=Math.min(a.left,f),a.bottom=Math.min(a.bottom,g),a.right=Math.max(a.right,f),a.top=Math.max(a.top,g),d.push(f),d.push(g),0==e&&d.push("l")}return d.push("x e"),c=d.join(" "),d=(a.getWidth()-a.getHeight())/2,d>0?(a.bottom-=d,a.top+=d):(a.left+=d,a.right-=d),c={path:c,size:a.getWidth(),left:a.left,bottom:a.bottom},this.symbolCache[b]=c},CLASS_NAME:"OpenLayers.Renderer.VML"}),OpenLayers.Renderer.VML.LABEL_SHIFT={l:0,c:.5,r:1,t:0,m:.5,b:1},OpenLayers.Control.CacheRead=OpenLayers.Class(OpenLayers.Control,{fetchEvent:"tileloadstart",layers:null,autoActivate:!0,setMap:function(a){OpenLayers.Control.prototype.setMap.apply(this,arguments);var b,c=this.layers||a.layers;for(b=c.length-1;b>=0;--b)this.addLayer({layer:c[b]});this.layers||a.events.on({addlayer:this.addLayer,removeLayer:this.removeLayer,scope:this})},addLayer:function(a){a.layer.events.register(this.fetchEvent,this,this.fetch)},removeLayer:function(a){a.layer.events.unregister(this.fetchEvent,this,this.fetch)},fetch:function(a){if(this.active&&window.localStorage&&a.tile instanceof OpenLayers.Tile.Image){var b=a.tile,c=b.url;!b.layer.crossOriginKeyword&&OpenLayers.ProxyHost&&0===c.indexOf(OpenLayers.ProxyHost)&&(c=OpenLayers.Control.CacheWrite.urlMap[c]),(c=window.localStorage.getItem("olCache_"+c))&&(b.url=c,"tileerror"===a.type&&b.setImgSrc(c))}},destroy:function(){if(this.layers||this.map){var a,b=this.layers||this.map.layers;for(a=b.length-1;a>=0;--a)this.removeLayer({layer:b[a]})}this.map&&this.map.events.un({addlayer:this.addLayer,removeLayer:this.removeLayer,scope:this}),OpenLayers.Control.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.CacheRead"}),OpenLayers.Protocol.WFS.v1_0_0=OpenLayers.Class(OpenLayers.Protocol.WFS.v1,{version:"1.0.0",CLASS_NAME:"OpenLayers.Protocol.WFS.v1_0_0"}),OpenLayers.Format.WMSGetFeatureInfo=OpenLayers.Class(OpenLayers.Format.XML,{layerIdentifier:"_layer",featureIdentifier:"_feature",regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},gmlFormat:null,read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a]));var b=a.documentElement;if(b){var c=this["read_"+b.nodeName];a=c?c.call(this,b):new OpenLayers.Format.GML(this.options?this.options:{}).read(a)}return a},read_msGMLOutput:function(a){var b=[];if(a=this.getSiblingNodesByTagCriteria(a,this.layerIdentifier))for(var c=0,d=a.length;d>c;++c){var e=a[c],f=e.nodeName;if(e.prefix&&(f=f.split(":")[1]),f=f.replace(this.layerIdentifier,""),e=this.getSiblingNodesByTagCriteria(e,this.featureIdentifier))for(var g=0;g<e.length;g++){var h=e[g],i=this.parseGeometry(h),h=this.parseAttributes(h),h=new OpenLayers.Feature.Vector(i.geometry,h,null);h.bounds=i.bounds,h.type=f,b.push(h)}}return b},read_FeatureInfoResponse:function(a){var b=[];a=this.getElementsByTagNameNS(a,"*","FIELDS");for(var c=0,d=a.length;d>c;c++){var e,f=a[c],g={},h=f.attributes.length;if(h>0)for(e=0;h>e;e++){var i=f.attributes[e];g[i.nodeName]=i.nodeValue}else for(f=f.childNodes,e=0,h=f.length;h>e;++e)i=f[e],3!=i.nodeType&&(g[i.getAttribute("name")]=i.getAttribute("value"));b.push(new OpenLayers.Feature.Vector(null,g,null))}return b},getSiblingNodesByTagCriteria:function(a,b){var c,d,e,f,g=[];if(a&&a.hasChildNodes()){c=a.childNodes,e=c.length;for(var h=0;e>h;h++){for(f=c[h];f&&1!=f.nodeType;)f=f.nextSibling,h++;d=f?f.nodeName:"",0<d.length&&-1<d.indexOf(b)?g.push(f):(d=this.getSiblingNodesByTagCriteria(f,b),0<d.length&&(0==g.length?g=d:g.push(d)))}}return g},parseAttributes:function(a){var b={};if(1==a.nodeType){a=a.childNodes;for(var c=a.length,d=0;c>d;++d){var e=a[d];if(1==e.nodeType){var f=e.childNodes,e=e.prefix?e.nodeName.split(":")[1]:e.nodeName;0==f.length?b[e]=null:1==f.length&&(f=f[0],3==f.nodeType||4==f.nodeType)&&(f=f.nodeValue.replace(this.regExes.trimSpace,""),b[e]=f)}}}return b},parseGeometry:function(a){this.gmlFormat||(this.gmlFormat=new OpenLayers.Format.GML),a=this.gmlFormat.parseFeature(a);var b,c=null;return a&&(b=a.geometry&&a.geometry.clone(),c=a.bounds&&a.bounds.clone(),a.destroy()),{geometry:b,bounds:c}},CLASS_NAME:"OpenLayers.Format.WMSGetFeatureInfo"}),OpenLayers.Control.WMTSGetFeatureInfo=OpenLayers.Class(OpenLayers.Control,{hover:!1,requestEncoding:"KVP",drillDown:!1,maxFeatures:10,clickCallback:"click",layers:null,queryVisible:!0,infoFormat:"text/html",vendorParams:{},format:null,formatOptions:null,handler:null,hoverRequest:null,pending:0,initialize:function(a){a=a||{},a.handlerOptions=a.handlerOptions||{},OpenLayers.Control.prototype.initialize.apply(this,[a]),this.format||(this.format=new OpenLayers.Format.WMSGetFeatureInfo(a.formatOptions)),!0===this.drillDown&&(this.hover=!1),this.hover?this.handler=new OpenLayers.Handler.Hover(this,{move:this.cancelHover,pause:this.getInfoForHover},OpenLayers.Util.extend(this.handlerOptions.hover||{},{delay:250})):(a={},a[this.clickCallback]=this.getInfoForClick,this.handler=new OpenLayers.Handler.Click(this,a,this.handlerOptions.click||{}))},getInfoForClick:function(a){this.request(a.xy,{})},getInfoForHover:function(a){this.request(a.xy,{hover:!0})},cancelHover:function(){this.hoverRequest&&(--this.pending,0>=this.pending&&(OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait"),this.pending=0),this.hoverRequest.abort(),this.hoverRequest=null)},findLayers:function(){for(var a,b=this.layers||this.map.layers,c=[],d=b.length-1;d>=0&&(a=b[d],!(a instanceof OpenLayers.Layer.WMTS)||a.requestEncoding!==this.requestEncoding||this.queryVisible&&!a.getVisibility()||(c.push(a),this.drillDown&&!this.hover));--d);return c},buildRequestOptions:function(a,b){var c=this.map.getLonLatFromPixel(b),d=a.getURL(new OpenLayers.Bounds(c.lon,c.lat,c.lon,c.lat)),d=OpenLayers.Util.getParameters(d),c=a.getTileInfo(c);return OpenLayers.Util.extend(d,{service:"WMTS",version:a.version,request:"GetFeatureInfo",infoFormat:this.infoFormat,i:c.i,j:c.j}),OpenLayers.Util.applyDefaults(d,this.vendorParams),{url:OpenLayers.Util.isArray(a.url)?a.url[0]:a.url,params:OpenLayers.Util.upperCaseObject(d),callback:function(c){this.handleResponse(b,c,a)},scope:this}},request:function(a,b){b=b||{};var c=this.findLayers();if(0<c.length){for(var d,e,f=0,g=c.length;g>f;f++)e=c[f],d=this.events.triggerEvent("beforegetfeatureinfo",{xy:a,layer:e}),!1!==d&&(++this.pending,d=this.buildRequestOptions(e,a),d=OpenLayers.Request.GET(d),!0===b.hover&&(this.hoverRequest=d));0<this.pending&&OpenLayers.Element.addClass(this.map.viewPortDiv,"olCursorWait")}},handleResponse:function(a,b,c){if(--this.pending,0>=this.pending&&(OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait"),this.pending=0),b.status&&(200>b.status||300<=b.status))this.events.triggerEvent("exception",{xy:a,request:b,layer:c});else{var d=b.responseXML;d&&d.documentElement||(d=b.responseText);var e,f;try{e=this.format.read(d)}catch(g){f=!0,this.events.triggerEvent("exception",{xy:a,request:b,error:g,layer:c})}f||this.events.triggerEvent("getfeatureinfo",{text:b.responseText,features:e,request:b,xy:a,layer:c})}},CLASS_NAME:"OpenLayers.Control.WMTSGetFeatureInfo"}),OpenLayers.Protocol.CSW.v2_0_2=OpenLayers.Class(OpenLayers.Protocol,{formatOptions:null,initialize:function(a){OpenLayers.Protocol.prototype.initialize.apply(this,[a]),a.format||(this.format=new OpenLayers.Format.CSWGetRecords.v2_0_2(OpenLayers.Util.extend({},this.formatOptions)))},destroy:function(){this.options&&!this.options.format&&this.format.destroy(),this.format=null,OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(a){a=OpenLayers.Util.extend({},a),OpenLayers.Util.applyDefaults(a,this.options||{});var b=new OpenLayers.Protocol.Response({requestType:"read"}),c=this.format.write(a.params||a);return b.priv=OpenLayers.Request.POST({url:a.url,callback:this.createCallback(this.handleRead,b,a),params:a.params,headers:a.headers,data:c}),b},handleRead:function(a,b){if(b.callback){var c=a.priv;200<=c.status&&300>c.status?(a.data=this.parseData(c),a.code=OpenLayers.Protocol.Response.SUCCESS):a.code=OpenLayers.Protocol.Response.FAILURE,b.callback.call(b.scope,a)}},parseData:function(a){var b=a.responseXML;return b&&b.documentElement||(b=a.responseText),!b||0>=b.length?null:this.format.read(b)},CLASS_NAME:"OpenLayers.Protocol.CSW.v2_0_2"}),OpenLayers.Format.WCSCapabilities.v1_1_0=OpenLayers.Class(OpenLayers.Format.WCSCapabilities.v1,{namespaces:{wcs:"http://www.opengis.net/wcs/1.1",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",ows:"http://www.opengis.net/ows/1.1"},errorProperty:"operationsMetadata",readers:{wcs:OpenLayers.Util.applyDefaults({Capabilities:function(a,b){this.readChildNodes(a,b)},Contents:function(a,b){b.contentMetadata=[],this.readChildNodes(a,b.contentMetadata)},CoverageSummary:function(a,b){var c={};this.readChildNodes(a,c),b.push(c)},Identifier:function(a,b){b.identifier=this.getChildValue(a)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b["abstract"]=this.getChildValue(a)},SupportedCRS:function(a,b){var c=this.getChildValue(a);c&&(b.supportedCRS||(b.supportedCRS=[]),b.supportedCRS.push(c))},SupportedFormat:function(a,b){var c=this.getChildValue(a);c&&(b.supportedFormat||(b.supportedFormat=[]),b.supportedFormat.push(c))}},OpenLayers.Format.WCSCapabilities.v1.prototype.readers.wcs),ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WCSCapabilities.v1_1_0"}),OpenLayers.Control.Graticule=OpenLayers.Class(OpenLayers.Control,{autoActivate:!0,intervals:[45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],displayInLayerSwitcher:!0,visible:!0,numPoints:50,targetSize:200,layerName:null,labelled:!0,labelFormat:"dm",lineSymbolizer:{strokeColor:"#333",strokeWidth:1,strokeOpacity:.5},labelSymbolizer:{},gratLayer:null,initialize:function(a){a=a||{},a.layerName=a.layerName||OpenLayers.i18n("Graticule"),OpenLayers.Control.prototype.initialize.apply(this,[a]),this.labelSymbolizer.stroke=!1,this.labelSymbolizer.fill=!1,this.labelSymbolizer.label="${label}",this.labelSymbolizer.labelAlign="${labelAlign}",this.labelSymbolizer.labelXOffset="${xOffset}",this.labelSymbolizer.labelYOffset="${yOffset}"},destroy:function(){this.deactivate(),OpenLayers.Control.prototype.destroy.apply(this,arguments),this.gratLayer&&(this.gratLayer.destroy(),this.gratLayer=null)},draw:function(){if(OpenLayers.Control.prototype.draw.apply(this,arguments),!this.gratLayer){var a=new OpenLayers.Style({},{rules:[new OpenLayers.Rule({symbolizer:{Point:this.labelSymbolizer,Line:this.lineSymbolizer}})]});this.gratLayer=new OpenLayers.Layer.Vector(this.layerName,{styleMap:new OpenLayers.StyleMap({"default":a}),visibility:this.visible,displayInLayerSwitcher:this.displayInLayerSwitcher})}return this.div},activate:function(){return OpenLayers.Control.prototype.activate.apply(this,arguments)?(this.map.addLayer(this.gratLayer),this.map.events.register("moveend",this,this.update),this.update(),!0):!1},deactivate:function(){return OpenLayers.Control.prototype.deactivate.apply(this,arguments)?(this.map.events.unregister("moveend",this,this.update),this.map.removeLayer(this.gratLayer),!0):!1},update:function(){var a=this.map.getExtent();if(a){this.gratLayer.destroyFeatures();var b=new OpenLayers.Projection("EPSG:4326"),c=this.map.getProjectionObject(),d=this.map.getResolution();c.proj&&"longlat"==c.proj.projName&&(this.numPoints=1);var e=this.map.getCenter(),f=new OpenLayers.Pixel(e.lon,e.lat);OpenLayers.Projection.transform(f,c,b);for(var g,e=this.targetSize*d,e=e*e,d=0;d<this.intervals.length;++d){g=this.intervals[d];var h=g/2,i=f.offset({x:-h,y:-h}),h=f.offset({x:h,y:h});if(OpenLayers.Projection.transform(i,b,c),OpenLayers.Projection.transform(h,b,c),(i.x-h.x)*(i.x-h.x)+(i.y-h.y)*(i.y-h.y)<=e)break}f.x=Math.floor(f.x/g)*g,f.y=Math.floor(f.y/g)*g;var j,d=0,e=[f.clone()],h=f.clone();do h=h.offset({x:0,y:g}),j=OpenLayers.Projection.transform(h.clone(),b,c),e.unshift(h);while(a.containsPixel(j)&&1e3>++d);h=f.clone();do h=h.offset({x:0,y:-g}),j=OpenLayers.Projection.transform(h.clone(),b,c),e.push(h);while(a.containsPixel(j)&&1e3>++d);d=0,i=[f.clone()],h=f.clone();do h=h.offset({x:-g,y:0}),j=OpenLayers.Projection.transform(h.clone(),b,c),i.unshift(h);while(a.containsPixel(j)&&1e3>++d);h=f.clone();do h=h.offset({x:g,y:0}),j=OpenLayers.Projection.transform(h.clone(),b,c),i.push(h);while(a.containsPixel(j)&&1e3>++d);for(g=[],d=0;d<i.length;++d){j=i[d].x;for(var f=[],k=null,l=Math.min(e[0].y,90),h=Math.max(e[e.length-1].y,-90),m=(l-h)/this.numPoints,l=h,h=0;h<=this.numPoints;++h){var n=new OpenLayers.Geometry.Point(j,l);n.transform(b,c),f.push(n),l+=m,n.y>=a.bottom&&!k&&(k=n)}this.labelled&&(k=new OpenLayers.Geometry.Point(k.x,a.bottom),j={value:j,label:this.labelled?OpenLayers.Util.getFormattedLonLat(j,"lon",this.labelFormat):"",labelAlign:"cb",xOffset:0,yOffset:2},this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(k,j))),f=new OpenLayers.Geometry.LineString(f),g.push(new OpenLayers.Feature.Vector(f))}for(h=0;h<e.length;++h)if(l=e[h].y,!(-90>l||l>90)){for(f=[],d=i[0].x,m=(i[i.length-1].x-d)/this.numPoints,j=d,k=null,d=0;d<=this.numPoints;++d)n=new OpenLayers.Geometry.Point(j,l),n.transform(b,c),f.push(n),j+=m,n.x<a.right&&(k=n);this.labelled&&(k=new OpenLayers.Geometry.Point(a.right,k.y),j={value:l,label:this.labelled?OpenLayers.Util.getFormattedLonLat(l,"lat",this.labelFormat):"",labelAlign:"rb",xOffset:-2,yOffset:2},this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(k,j))),f=new OpenLayers.Geometry.LineString(f),g.push(new OpenLayers.Feature.Vector(f))}this.gratLayer.addFeatures(g)}},CLASS_NAME:"OpenLayers.Control.Graticule"}),OpenLayers.Console.warn("OpenLayers.Rico is deprecated"),OpenLayers.Rico=OpenLayers.Rico||{},OpenLayers.Rico.Corner={round:function(a,b){a=OpenLayers.Util.getElement(a),this._setOptions(b);var c=this.options.color;"fromElement"==this.options.color&&(c=this._background(a));var d=this.options.bgColor;"fromParent"==this.options.bgColor&&(d=this._background(a.offsetParent)),this._roundCornersImpl(a,c,d)},changeColor:function(a,b){a.style.backgroundColor=b;for(var c=a.parentNode.getElementsByTagName("span"),d=0;d<c.length;d++)c[d].style.backgroundColor=b},changeOpacity:function(a,b){var c="alpha(opacity="+100*b+")";a.style.opacity=b,a.style.filter=c;for(var d=a.parentNode.getElementsByTagName("span"),e=0;e<d.length;e++)d[e].style.opacity=b,d[e].style.filter=c},reRound:function(a,b){var c=a.parentNode.childNodes[2];a.parentNode.removeChild(a.parentNode.childNodes[0]),a.parentNode.removeChild(c),this.round(a.parentNode,b)},_roundCornersImpl:function(a,b,c){this.options.border&&this._renderBorder(a,c),this._isTopRounded()&&this._roundTopCorners(a,b,c),this._isBottomRounded()&&this._roundBottomCorners(a,b,c)},_renderBorder:function(a,b){var c="1px solid "+this._borderColor(b);a.innerHTML="<div "+("style='border-left: "+c+";border-right: "+c+"'")+">"+a.innerHTML+"</div>"},_roundTopCorners:function(a,b,c){for(var d=this._createCorner(c),e=0;e<this.options.numSlices;e++)d.appendChild(this._createCornerSlice(b,c,e,"top"));a.style.paddingTop=0,a.insertBefore(d,a.firstChild)},_roundBottomCorners:function(a,b,c){for(var d=this._createCorner(c),e=this.options.numSlices-1;e>=0;e--)d.appendChild(this._createCornerSlice(b,c,e,"bottom"));a.style.paddingBottom=0,a.appendChild(d)},_createCorner:function(a){var b=document.createElement("div");return b.style.backgroundColor=this._isTransparent()?"transparent":a,b
},_createCornerSlice:function(a,b,c,d){var e=document.createElement("span"),f=e.style;return f.backgroundColor=a,f.display="block",f.height="1px",f.overflow="hidden",f.fontSize="1px",a=this._borderColor(a,b),this.options.border&&0==c?(f.borderTopStyle="solid",f.borderTopWidth="1px",f.borderLeftWidth="0px",f.borderRightWidth="0px",f.borderBottomWidth="0px",f.height="0px",f.borderColor=a):a&&(f.borderColor=a,f.borderStyle="solid",f.borderWidth="0px 1px"),this.options.compact||c!=this.options.numSlices-1||(f.height="2px"),this._setMargin(e,c,d),this._setBorder(e,c,d),e},_setOptions:function(a){this.options={corners:"all",color:"fromElement",bgColor:"fromParent",blend:!0,border:!1,compact:!1},OpenLayers.Util.extend(this.options,a||{}),this.options.numSlices=this.options.compact?2:4,this._isTransparent()&&(this.options.blend=!1)},_whichSideTop:function(){return this._hasString(this.options.corners,"all","top")||0<=this.options.corners.indexOf("tl")&&0<=this.options.corners.indexOf("tr")?"":0<=this.options.corners.indexOf("tl")?"left":0<=this.options.corners.indexOf("tr")?"right":""},_whichSideBottom:function(){return this._hasString(this.options.corners,"all","bottom")||0<=this.options.corners.indexOf("bl")&&0<=this.options.corners.indexOf("br")?"":0<=this.options.corners.indexOf("bl")?"left":0<=this.options.corners.indexOf("br")?"right":""},_borderColor:function(a,b){return"transparent"==a?b:this.options.border?this.options.border:this.options.blend?this._blend(b,a):""},_setMargin:function(a,b,c){b=this._marginSize(b),c="top"==c?this._whichSideTop():this._whichSideBottom(),"left"==c?(a.style.marginLeft=b+"px",a.style.marginRight="0px"):"right"==c?(a.style.marginRight=b+"px",a.style.marginLeft="0px"):(a.style.marginLeft=b+"px",a.style.marginRight=b+"px")},_setBorder:function(a,b,c){b=this._borderSize(b),c="top"==c?this._whichSideTop():this._whichSideBottom(),"left"==c?(a.style.borderLeftWidth=b+"px",a.style.borderRightWidth="0px"):"right"==c?(a.style.borderRightWidth=b+"px",a.style.borderLeftWidth="0px"):(a.style.borderLeftWidth=b+"px",a.style.borderRightWidth=b+"px"),0!=this.options.border&&(a.style.borderLeftWidth=b+"px",a.style.borderRightWidth=b+"px")},_marginSize:function(a){if(this._isTransparent())return 0;var b=[5,3,2,1],c=[3,2,1,0],d=[2,1],e=[1,0];return this.options.compact&&this.options.blend?e[a]:this.options.compact?d[a]:this.options.blend?c[a]:b[a]},_borderSize:function(a){var b=[5,3,2,1],c=[2,1,1,1],d=[1,0],e=[0,2,0,0];return this.options.compact&&(this.options.blend||this._isTransparent())?1:this.options.compact?d[a]:this.options.blend?c[a]:this.options.border?e[a]:this._isTransparent()?b[a]:0},_hasString:function(a){for(var b=1;b<arguments.length;b++)if(0<=a.indexOf(arguments[b]))return!0;return!1},_blend:function(a,b){var c=OpenLayers.Rico.Color.createFromHex(a);return c.blend(OpenLayers.Rico.Color.createFromHex(b)),c},_background:function(a){try{return OpenLayers.Rico.Color.createColorFromBackground(a).asHex()}catch(b){return"#ffffff"}},_isTransparent:function(){return"transparent"==this.options.color},_isTopRounded:function(){return this._hasString(this.options.corners,"all","top","tl","tr")},_isBottomRounded:function(){return this._hasString(this.options.corners,"all","bottom","bl","br")},_hasSingleTextChild:function(a){return 1==a.childNodes.length&&3==a.childNodes[0].nodeType}},OpenLayers.Control.NavigationHistory=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOGGLE,previous:null,previousOptions:null,next:null,nextOptions:null,limit:50,autoActivate:!0,clearOnDeactivate:!1,registry:null,nextStack:null,previousStack:null,listeners:null,restoring:!1,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,[a]),this.registry=OpenLayers.Util.extend({moveend:this.getState},this.registry),a={trigger:OpenLayers.Function.bind(this.previousTrigger,this),displayClass:this.displayClass+" "+this.displayClass+"Previous"},OpenLayers.Util.extend(a,this.previousOptions),this.previous=new OpenLayers.Control.Button(a),a={trigger:OpenLayers.Function.bind(this.nextTrigger,this),displayClass:this.displayClass+" "+this.displayClass+"Next"},OpenLayers.Util.extend(a,this.nextOptions),this.next=new OpenLayers.Control.Button(a),this.clear()},onPreviousChange:function(a){a&&!this.previous.active?this.previous.activate():!a&&this.previous.active&&this.previous.deactivate()},onNextChange:function(a){a&&!this.next.active?this.next.activate():!a&&this.next.active&&this.next.deactivate()},destroy:function(){OpenLayers.Control.prototype.destroy.apply(this),this.previous.destroy(),this.next.destroy(),this.deactivate();for(var a in this)this[a]=null},setMap:function(a){this.map=a,this.next.setMap(a),this.previous.setMap(a)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments),this.next.draw(),this.previous.draw()},previousTrigger:function(){var a=this.previousStack.shift(),b=this.previousStack.shift();return void 0!=b?(this.nextStack.unshift(a),this.previousStack.unshift(b),this.restoring=!0,this.restore(b),this.restoring=!1,this.onNextChange(this.nextStack[0],this.nextStack.length),this.onPreviousChange(this.previousStack[1],this.previousStack.length-1)):this.previousStack.unshift(a),b},nextTrigger:function(){var a=this.nextStack.shift();return void 0!=a&&(this.previousStack.unshift(a),this.restoring=!0,this.restore(a),this.restoring=!1,this.onNextChange(this.nextStack[0],this.nextStack.length),this.onPreviousChange(this.previousStack[1],this.previousStack.length-1)),a},clear:function(){this.previousStack=[],this.previous.deactivate(),this.nextStack=[],this.next.deactivate()},getState:function(){return{center:this.map.getCenter(),resolution:this.map.getResolution(),projection:this.map.getProjectionObject(),units:this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units}},restore:function(a){var b,c;if(this.map.getProjectionObject()==a.projection)c=this.map.getZoomForResolution(a.resolution),b=a.center;else{b=a.center.clone(),b.transform(a.projection,this.map.getProjectionObject()),c=a.units;var d=this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units;c=this.map.getZoomForResolution((c&&d?OpenLayers.INCHES_PER_UNIT[c]/OpenLayers.INCHES_PER_UNIT[d]:1)*a.resolution)}this.map.setCenter(b,c)},setListeners:function(){this.listeners={};for(var a in this.registry)this.listeners[a]=OpenLayers.Function.bind(function(){if(!this.restoring){var b=this.registry[a].apply(this,arguments);this.previousStack.unshift(b),1<this.previousStack.length&&this.onPreviousChange(this.previousStack[1],this.previousStack.length-1),this.previousStack.length>this.limit+1&&this.previousStack.pop(),0<this.nextStack.length&&(this.nextStack=[],this.onNextChange(null,0))}return!0},this)},activate:function(){var a=!1;if(this.map&&OpenLayers.Control.prototype.activate.apply(this)){null==this.listeners&&this.setListeners();for(var b in this.listeners)this.map.events.register(b,this,this.listeners[b]);a=!0,0==this.previousStack.length&&this.initStack()}return a},initStack:function(){this.map.getCenter()&&this.listeners.moveend()},deactivate:function(){var a=!1;if(this.map&&OpenLayers.Control.prototype.deactivate.apply(this)){for(var b in this.listeners)this.map.events.unregister(b,this,this.listeners[b]);this.clearOnDeactivate&&this.clear(),a=!0}return a},CLASS_NAME:"OpenLayers.Control.NavigationHistory"}),OpenLayers.Layer.UTFGrid=OpenLayers.Class(OpenLayers.Layer.XYZ,{isBaseLayer:!1,projection:new OpenLayers.Projection("EPSG:900913"),useJSONP:!1,tileClass:OpenLayers.Tile.UTFGrid,initialize:function(a){OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a.name,a.url,{},a]),this.tileOptions=OpenLayers.Util.extend({utfgridResolution:this.utfgridResolution},this.tileOptions)},createBackBuffer:function(){},clone:function(a){return null==a&&(a=new OpenLayers.Layer.UTFGrid(this.getOptions())),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getFeatureInfo:function(a){var b=null;return(a=this.getTileData(a))&&a.tile&&(b=a.tile.getFeatureInfo(a.i,a.j)),b},getFeatureId:function(a){var b=null;return a=this.getTileData(a),a.tile&&(b=a.tile.getFeatureId(a.i,a.j)),b},CLASS_NAME:"OpenLayers.Layer.UTFGrid"}),OpenLayers.TileManager=OpenLayers.Class({cacheSize:256,tilesPerFrame:2,frameDelay:16,moveDelay:100,zoomDelay:200,maps:null,tileQueueId:null,tileQueue:null,tileCache:null,tileCacheIndex:null,initialize:function(a){OpenLayers.Util.extend(this,a),this.maps=[],this.tileQueueId={},this.tileQueue={},this.tileCache={},this.tileCacheIndex=[]},addMap:function(a){if(!this._destroyed&&OpenLayers.Layer.Grid){this.maps.push(a),this.tileQueue[a.id]=[];for(var b=0,c=a.layers.length;c>b;++b)this.addLayer({layer:a.layers[b]});a.events.on({move:this.move,zoomend:this.zoomEnd,changelayer:this.changeLayer,addlayer:this.addLayer,preremovelayer:this.removeLayer,scope:this})}},removeMap:function(a){if(!this._destroyed&&OpenLayers.Layer.Grid){if(window.clearTimeout(this.tileQueueId[a.id]),a.layers)for(var b=0,c=a.layers.length;c>b;++b)this.removeLayer({layer:a.layers[b]});a.events&&a.events.un({move:this.move,zoomend:this.zoomEnd,changelayer:this.changeLayer,addlayer:this.addLayer,preremovelayer:this.removeLayer,scope:this}),delete this.tileQueue[a.id],delete this.tileQueueId[a.id],OpenLayers.Util.removeItem(this.maps,a)}},move:function(a){this.updateTimeout(a.object,this.moveDelay,!0)},zoomEnd:function(a){this.updateTimeout(a.object,this.zoomDelay)},changeLayer:function(a){"visibility"!==a.property&&"params"!==a.property||this.updateTimeout(a.object,0)},addLayer:function(a){if(a=a.layer,a instanceof OpenLayers.Layer.Grid){a.events.on({addtile:this.addTile,retile:this.clearTileQueue,scope:this});var b,c,d;for(b=a.grid.length-1;b>=0;--b)for(c=a.grid[b].length-1;c>=0;--c)d=a.grid[b][c],this.addTile({tile:d}),d.url&&!d.imgDiv&&this.manageTileCache({object:d})}},removeLayer:function(a){if(a=a.layer,a instanceof OpenLayers.Layer.Grid&&(this.clearTileQueue({object:a}),a.events&&a.events.un({addtile:this.addTile,retile:this.clearTileQueue,scope:this}),a.grid)){var b,c,d;for(b=a.grid.length-1;b>=0;--b)for(c=a.grid[b].length-1;c>=0;--c)d=a.grid[b][c],this.unloadTile({object:d})}},updateTimeout:function(a,b,c){window.clearTimeout(this.tileQueueId[a.id]);var d=this.tileQueue[a.id];(!c||d.length)&&(this.tileQueueId[a.id]=window.setTimeout(OpenLayers.Function.bind(function(){this.drawTilesFromQueue(a),d.length&&this.updateTimeout(a,this.frameDelay)},this),b))},addTile:function(a){a.tile instanceof OpenLayers.Tile.Image?a.tile.events.on({beforedraw:this.queueTileDraw,beforeload:this.manageTileCache,loadend:this.addToCache,unload:this.unloadTile,scope:this}):this.removeLayer({layer:a.tile.layer})},unloadTile:function(a){a=a.object,a.events.un({beforedraw:this.queueTileDraw,beforeload:this.manageTileCache,loadend:this.addToCache,unload:this.unloadTile,scope:this}),OpenLayers.Util.removeItem(this.tileQueue[a.layer.map.id],a)},queueTileDraw:function(a){a=a.object;var b=!1,c=a.layer,d=c.getURL(a.bounds),e=this.tileCache[d];return e&&"olTileImage"!==e.className&&(delete this.tileCache[d],OpenLayers.Util.removeItem(this.tileCacheIndex,d),e=null),!c.url||!c.async&&e||(b=this.tileQueue[c.map.id],~OpenLayers.Util.indexOf(b,a)||b.push(a),b=!0),!b},drawTilesFromQueue:function(a){var b=this.tileQueue[a.id],c=this.tilesPerFrame;for(a=a.zoomTween&&a.zoomTween.playing;!a&&b.length&&c;)b.shift().draw(!0),--c},manageTileCache:function(a){a=a.object;var b=this.tileCache[a.url];b&&(b.parentNode&&OpenLayers.Element.hasClass(b.parentNode,"olBackBuffer")&&(b.parentNode.removeChild(b),b.id=null),b.parentNode||(b.style.visibility="hidden",b.style.opacity=0,a.setImage(b),OpenLayers.Util.removeItem(this.tileCacheIndex,a.url),this.tileCacheIndex.push(a.url)))},addToCache:function(a){a=a.object,this.tileCache[a.url]||OpenLayers.Element.hasClass(a.imgDiv,"olImageLoadError")||(this.tileCacheIndex.length>=this.cacheSize&&(delete this.tileCache[this.tileCacheIndex[0]],this.tileCacheIndex.shift()),this.tileCache[a.url]=a.imgDiv,this.tileCacheIndex.push(a.url))},clearTileQueue:function(a){a=a.object;for(var b=this.tileQueue[a.map.id],c=b.length-1;c>=0;--c)b[c].layer===a&&b.splice(c,1)},destroy:function(){for(var a=this.maps.length-1;a>=0;--a)this.removeMap(this.maps[a]);this.tileCacheIndex=this.tileCache=this.tileQueueId=this.tileQueue=this.maps=null,this._destroyed=!0}}),OpenLayers.Layer.ArcGISCache=OpenLayers.Class(OpenLayers.Layer.XYZ,{url:null,tileOrigin:null,tileSize:new OpenLayers.Size(256,256),useArcGISServer:!0,type:"png",useScales:!1,overrideDPI:!1,initialize:function(){if(OpenLayers.Layer.XYZ.prototype.initialize.apply(this,arguments),this.resolutions&&(this.serverResolutions=this.resolutions,this.maxExtent=this.getMaxExtentForResolution(this.resolutions[0])),this.layerInfo){var a=this.layerInfo,b=new OpenLayers.Bounds(a.fullExtent.xmin,a.fullExtent.ymin,a.fullExtent.xmax,a.fullExtent.ymax);if(this.projection="EPSG:"+a.spatialReference.wkid,this.sphericalMercator=102100==a.spatialReference.wkid,this.units="esriFeet"==a.units?"ft":"m",a.tileInfo){this.tileSize=new OpenLayers.Size(a.tileInfo.width||a.tileInfo.cols,a.tileInfo.height||a.tileInfo.rows),this.tileOrigin=new OpenLayers.LonLat(a.tileInfo.origin.x,a.tileInfo.origin.y);var c=new OpenLayers.Geometry.Point(b.left,b.top),b=new OpenLayers.Geometry.Point(b.right,b.bottom);this.useScales?this.scales=[]:this.resolutions=[],this.lods=[];for(var d in a.tileInfo.lods)if(a.tileInfo.lods.hasOwnProperty(d)){var e=a.tileInfo.lods[d];this.useScales?this.scales.push(e.scale):this.resolutions.push(e.resolution);var f=this.getContainingTileCoords(c,e.resolution);e.startTileCol=f.x,e.startTileRow=f.y,f=this.getContainingTileCoords(b,e.resolution),e.endTileCol=f.x,e.endTileRow=f.y,this.lods.push(e)}this.maxExtent=this.calculateMaxExtentWithLOD(this.lods[0]),this.serverResolutions=this.resolutions,this.overrideDPI&&a.tileInfo.dpi&&(OpenLayers.DOTS_PER_INCH=a.tileInfo.dpi)}}},getContainingTileCoords:function(a,b){return new OpenLayers.Pixel(Math.max(Math.floor((a.x-this.tileOrigin.lon)/(this.tileSize.w*b)),0),Math.max(Math.floor((this.tileOrigin.lat-a.y)/(this.tileSize.h*b)),0))},calculateMaxExtentWithLOD:function(a){var b=this.tileOrigin.lon+a.startTileCol*this.tileSize.w*a.resolution,c=this.tileOrigin.lat-a.startTileRow*this.tileSize.h*a.resolution;return new OpenLayers.Bounds(b,c-(a.endTileRow-a.startTileRow+1)*this.tileSize.h*a.resolution,b+(a.endTileCol-a.startTileCol+1)*this.tileSize.w*a.resolution,c)},calculateMaxExtentWithExtent:function(a,b){var c=new OpenLayers.Geometry.Point(a.left,a.top),d=new OpenLayers.Geometry.Point(a.right,a.bottom),c=this.getContainingTileCoords(c,b),d=this.getContainingTileCoords(d,b);return this.calculateMaxExtentWithLOD({resolution:b,startTileCol:c.x,startTileRow:c.y,endTileCol:d.x,endTileRow:d.y})},getUpperLeftTileCoord:function(a){var b=new OpenLayers.Geometry.Point(this.maxExtent.left,this.maxExtent.top);return this.getContainingTileCoords(b,a)},getLowerRightTileCoord:function(a){var b=new OpenLayers.Geometry.Point(this.maxExtent.right,this.maxExtent.bottom);return this.getContainingTileCoords(b,a)},getMaxExtentForResolution:function(a){var b=this.getUpperLeftTileCoord(a),c=this.getLowerRightTileCoord(a),d=this.tileOrigin.lon+b.x*this.tileSize.w*a,e=this.tileOrigin.lat-b.y*this.tileSize.h*a;return new OpenLayers.Bounds(d,e-(c.y-b.y+1)*this.tileSize.h*a,d+(c.x-b.x+1)*this.tileSize.w*a,e)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.ArcGISCache(this.name,this.url,this.options)),OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a])},initGriddedTiles:function(){delete this._tileOrigin,OpenLayers.Layer.XYZ.prototype.initGriddedTiles.apply(this,arguments)},getMaxExtent:function(){var a=this.map.getResolution();return this.maxExtent=this.getMaxExtentForResolution(a)},getTileOrigin:function(){if(!this._tileOrigin){var a=this.getMaxExtent();this._tileOrigin=new OpenLayers.LonLat(a.left,a.bottom)}return this._tileOrigin},getURL:function(a){var b=this.getResolution(),c=this.tileOrigin.lon+b*this.tileSize.w/2,d=this.tileOrigin.lat-b*this.tileSize.h/2;if(a=a.getCenterLonLat(),c=Math.round(Math.abs((a.lon-c)/(b*this.tileSize.w))),d=Math.round(Math.abs((d-a.lat)/(b*this.tileSize.h))),a=this.map.getZoom(),this.lods){if(b=this.lods[this.map.getZoom()],c<b.startTileCol||c>b.endTileCol||d<b.startTileRow||d>b.endTileRow)return null}else{var e=this.getUpperLeftTileCoord(b),b=this.getLowerRightTileCoord(b);if(c<e.x||c>=b.x||d<e.y||d>=b.y)return null}return b=this.url,e=""+c+d+a,OpenLayers.Util.isArray(b)&&(b=this.selectUrl(e,b)),this.useArcGISServer?b+="/tile/${z}/${y}/${x}":(c="C"+OpenLayers.Number.zeroPad(c,8,16),d="R"+OpenLayers.Number.zeroPad(d,8,16),a="L"+OpenLayers.Number.zeroPad(a,2,10),b=b+"/${z}/${y}/${x}."+this.type),b=OpenLayers.String.format(b,{x:c,y:d,z:a}),OpenLayers.Util.urlAppend(b,OpenLayers.Util.getParameterString(this.params))},CLASS_NAME:"OpenLayers.Layer.ArcGISCache"}),OpenLayers.Control.WMSGetFeatureInfo=OpenLayers.Class(OpenLayers.Control,{hover:!1,drillDown:!1,maxFeatures:10,clickCallback:"click",output:"features",layers:null,queryVisible:!1,url:null,layerUrls:null,infoFormat:"text/html",vendorParams:{},format:null,formatOptions:null,handler:null,hoverRequest:null,initialize:function(a){a=a||{},a.handlerOptions=a.handlerOptions||{},OpenLayers.Control.prototype.initialize.apply(this,[a]),this.format||(this.format=new OpenLayers.Format.WMSGetFeatureInfo(a.formatOptions)),!0===this.drillDown&&(this.hover=!1),this.hover?this.handler=new OpenLayers.Handler.Hover(this,{move:this.cancelHover,pause:this.getInfoForHover},OpenLayers.Util.extend(this.handlerOptions.hover||{},{delay:250})):(a={},a[this.clickCallback]=this.getInfoForClick,this.handler=new OpenLayers.Handler.Click(this,a,this.handlerOptions.click||{}))},getInfoForClick:function(a){this.events.triggerEvent("beforegetfeatureinfo",{xy:a.xy}),OpenLayers.Element.addClass(this.map.viewPortDiv,"olCursorWait"),this.request(a.xy,{})},getInfoForHover:function(a){this.events.triggerEvent("beforegetfeatureinfo",{xy:a.xy}),this.request(a.xy,{hover:!0})},cancelHover:function(){this.hoverRequest&&(this.hoverRequest.abort(),this.hoverRequest=null)},findLayers:function(){for(var a,b,c=this.layers||this.map.layers,d=[],e=c.length-1;e>=0;--e)a=c[e],a instanceof OpenLayers.Layer.WMS&&(!this.queryVisible||a.getVisibility())&&(b=OpenLayers.Util.isArray(a.url)?a.url[0]:a.url,!1!==this.drillDown||this.url||(this.url=b),(!0===this.drillDown||this.urlMatches(b))&&d.push(a));return d},urlMatches:function(a){var b=OpenLayers.Util.isEquivalentUrl(this.url,a);if(!b&&this.layerUrls)for(var c=0,d=this.layerUrls.length;d>c;++c)if(OpenLayers.Util.isEquivalentUrl(this.layerUrls[c],a)){b=!0;break}return b},buildWMSOptions:function(a,b,c,d){for(var e=[],f=[],g=0,h=b.length;h>g;g++)null!=b[g].params.LAYERS&&(e=e.concat(b[g].params.LAYERS),f=f.concat(this.getStyleNames(b[g])));return b=b[0],g=this.map.getProjection(),(h=b.projection)&&h.equals(this.map.getProjectionObject())&&(g=h.getCode()),d=OpenLayers.Util.extend({service:"WMS",version:b.params.VERSION,request:"GetFeatureInfo",exceptions:b.params.EXCEPTIONS,bbox:this.map.getExtent().toBBOX(null,b.reverseAxisOrder()),feature_count:this.maxFeatures,height:this.map.getSize().h,width:this.map.getSize().w,format:d,info_format:b.params.INFO_FORMAT||this.infoFormat},1.3<=parseFloat(b.params.VERSION)?{crs:g,i:parseInt(c.x),j:parseInt(c.y)}:{srs:g,x:parseInt(c.x),y:parseInt(c.y)}),0!=e.length&&(d=OpenLayers.Util.extend({layers:e,query_layers:e,styles:f},d)),OpenLayers.Util.applyDefaults(d,this.vendorParams),{url:a,params:OpenLayers.Util.upperCaseObject(d),callback:function(b){this.handleResponse(c,b,a)},scope:this}},getStyleNames:function(a){return a.params.STYLES?a.params.STYLES:OpenLayers.Util.isArray(a.params.LAYERS)?Array(a.params.LAYERS.length):a.params.LAYERS.replace(/[^,]/g,"")},request:function(a,b){var c=this.findLayers();if(0==c.length)this.events.triggerEvent("nogetfeatureinfo"),OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait");else if(b=b||{},!1===this.drillDown){var c=this.buildWMSOptions(this.url,c,a,c[0].params.FORMAT),d=OpenLayers.Request.GET(c);!0===b.hover&&(this.hoverRequest=d)}else{this._numRequests=this._requestCount=0,this.features=[];for(var e,d={},f=0,g=c.length;g>f;f++){var h=c[f];e=OpenLayers.Util.isArray(h.url)?h.url[0]:h.url,e in d?d[e].push(h):(this._numRequests++,d[e]=[h])}for(e in d)c=d[e],c=this.buildWMSOptions(e,c,a,c[0].params.FORMAT),OpenLayers.Request.GET(c)}},triggerGetFeatureInfo:function(a,b,c){this.events.triggerEvent("getfeatureinfo",{text:a.responseText,features:c,request:a,xy:b}),OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait")},handleResponse:function(a,b,c){var d=b.responseXML;d&&d.documentElement||(d=b.responseText),d=this.format.read(d),!1===this.drillDown?this.triggerGetFeatureInfo(b,a,d):(this._requestCount++,this._features=(this._features||[]).concat("object"===this.output?{url:c,features:d}:d),this._requestCount===this._numRequests&&(this.triggerGetFeatureInfo(b,a,this._features.concat()),delete this._features,delete this._requestCount,delete this._numRequests))},CLASS_NAME:"OpenLayers.Control.WMSGetFeatureInfo"}),OpenLayers.Format.WMSCapabilities.v1_3_0=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_3,{version:"1.3.0",CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_3_0"}),OpenLayers.Format.SOSGetFeatureOfInterest=OpenLayers.Class(OpenLayers.Format.XML,{VERSION:"1.0.0",namespaces:{sos:"http://www.opengis.net/sos/1.0",gml:"http://www.opengis.net/gml",sa:"http://www.opengis.net/sampling/1.0",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"http://www.opengis.net/sos/1.0 http://schemas.opengis.net/sos/1.0.0/sosAll.xsd",defaultPrefix:"sos",regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={features:[]};this.readNode(a,b),a=[];for(var c=0,d=b.features.length;d>c;c++){var e=b.features[c];this.internalProjection&&this.externalProjection&&e.components[0]&&e.components[0].transform(this.externalProjection,this.internalProjection),e=new OpenLayers.Feature.Vector(e.components[0],e.attributes),a.push(e)}return a},readers:{sa:{SamplingPoint:function(a,b){if(!b.attributes){var c={attributes:{}};b.features.push(c),b=c}b.attributes.id=this.getAttributeNS(a,this.namespaces.gml,"id"),this.readChildNodes(a,b)},position:function(a,b){this.readChildNodes(a,b)}},gml:OpenLayers.Util.applyDefaults({FeatureCollection:function(a,b){this.readChildNodes(a,b)},featureMember:function(a,b){var c={attributes:{}};b.features.push(c),this.readChildNodes(a,c)},name:function(a,b){b.attributes.name=this.getChildValue(a)},pos:function(a,b){this.externalProjection||(this.externalProjection=new OpenLayers.Projection(a.getAttribute("srsName"))),OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this,[a,b])}},OpenLayers.Format.GML.v3.prototype.readers.gml)},writers:{sos:{GetFeatureOfInterest:function(a){for(var b=this.createElementNSPlus("GetFeatureOfInterest",{attributes:{version:this.VERSION,service:"SOS","xsi:schemaLocation":this.schemaLocation}}),c=0,d=a.fois.length;d>c;c++)this.writeNode("FeatureOfInterestId",{foi:a.fois[c]},b);return b},FeatureOfInterestId:function(a){return this.createElementNSPlus("FeatureOfInterestId",{value:a.foi})}}},CLASS_NAME:"OpenLayers.Format.SOSGetFeatureOfInterest"}),OpenLayers.Format.SOSGetObservation=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows",gml:"http://www.opengis.net/gml",sos:"http://www.opengis.net/sos/1.0",ogc:"http://www.opengis.net/ogc",om:"http://www.opengis.net/om/1.0",sa:"http://www.opengis.net/sampling/1.0",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:/^\s*|\s*$/g,removeSpace:/\s*/g,splitSpace:/\s+/,trimComma:/\s*,\s*/g},VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/sos/1.0 http://schemas.opengis.net/sos/1.0.0/sosGetObservation.xsd",defaultPrefix:"sos",read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={measurements:[],observations:[]};return this.readNode(a,b),b},write:function(a){return a=this.writeNode("sos:GetObservation",a),a.setAttribute("xmlns:om",this.namespaces.om),a.setAttribute("xmlns:ogc",this.namespaces.ogc),this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation),OpenLayers.Format.XML.prototype.write.apply(this,[a])},readers:{om:{ObservationCollection:function(a,b){b.id=this.getAttributeNS(a,this.namespaces.gml,"id"),this.readChildNodes(a,b)},member:function(a,b){this.readChildNodes(a,b)},Measurement:function(a,b){var c={};b.measurements.push(c),this.readChildNodes(a,c)},Observation:function(a,b){var c={};b.observations.push(c),this.readChildNodes(a,c)},samplingTime:function(a,b){var c={};b.samplingTime=c,this.readChildNodes(a,c)},observedProperty:function(a,b){b.observedProperty=this.getAttributeNS(a,this.namespaces.xlink,"href"),this.readChildNodes(a,b)},procedure:function(a,b){b.procedure=this.getAttributeNS(a,this.namespaces.xlink,"href"),this.readChildNodes(a,b)},featureOfInterest:function(a,b){var c={features:[]};b.fois=[],b.fois.push(c),this.readChildNodes(a,c);for(var d=[],e=0,f=c.features.length;f>e;e++){var g=c.features[e];d.push(new OpenLayers.Feature.Vector(g.components[0],g.attributes))}c.features=d},result:function(a,b){var c={};b.result=c,""!==this.getChildValue(a)?(c.value=this.getChildValue(a),c.uom=a.getAttribute("uom")):this.readChildNodes(a,c)}},sa:OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.sa,gml:OpenLayers.Util.applyDefaults({TimeInstant:function(a,b){var c={};b.timeInstant=c,this.readChildNodes(a,c)},timePosition:function(a,b){b.timePosition=this.getChildValue(a)}},OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.gml)},writers:{sos:{GetObservation:function(a){var b=this.createElementNSPlus("GetObservation",{attributes:{version:this.VERSION,service:"SOS"}});this.writeNode("offering",a,b),a.eventTime&&this.writeNode("eventTime",a,b);for(var c in a.procedures)this.writeNode("procedure",a.procedures[c],b);for(var d in a.observedProperties)this.writeNode("observedProperty",a.observedProperties[d],b);return a.foi&&this.writeNode("featureOfInterest",a.foi,b),this.writeNode("responseFormat",a,b),a.resultModel&&this.writeNode("resultModel",a,b),a.responseMode&&this.writeNode("responseMode",a,b),b},featureOfInterest:function(a){var b=this.createElementNSPlus("featureOfInterest");return this.writeNode("ObjectID",a.objectId,b),b},ObjectID:function(a){return this.createElementNSPlus("ObjectID",{value:a})},responseFormat:function(a){return this.createElementNSPlus("responseFormat",{value:a.responseFormat})},procedure:function(a){return this.createElementNSPlus("procedure",{value:a})},offering:function(a){return this.createElementNSPlus("offering",{value:a.offering})},observedProperty:function(a){return this.createElementNSPlus("observedProperty",{value:a})},eventTime:function(a){var b=this.createElementNSPlus("eventTime");return"latest"===a.eventTime&&this.writeNode("ogc:TM_Equals",a,b),b},resultModel:function(a){return this.createElementNSPlus("resultModel",{value:a.resultModel})},responseMode:function(a){return this.createElementNSPlus("responseMode",{value:a.responseMode})}},ogc:{TM_Equals:function(a){var b=this.createElementNSPlus("ogc:TM_Equals");return this.writeNode("ogc:PropertyName",{property:"urn:ogc:data:time:iso8601"},b),"latest"===a.eventTime&&this.writeNode("gml:TimeInstant",{value:"latest"},b),b},PropertyName:function(a){return this.createElementNSPlus("ogc:PropertyName",{value:a.property})}},gml:{TimeInstant:function(a){var b=this.createElementNSPlus("gml:TimeInstant");return this.writeNode("gml:timePosition",a,b),b},timePosition:function(a){return this.createElementNSPlus("gml:timePosition",{value:a.value})}}},CLASS_NAME:"OpenLayers.Format.SOSGetObservation"}),OpenLayers.Control.UTFGrid=OpenLayers.Class(OpenLayers.Control,{autoActivate:!0,layers:null,defaultHandlerOptions:{delay:300,pixelTolerance:4,stopMove:!1,single:!0,"double":!1,stopSingle:!1,stopDouble:!1},handlerMode:"click",setHandler:function(a){this.handlerMode=a,this.resetHandler()},resetHandler:function(){return this.handler&&(this.handler.deactivate(),this.handler.destroy(),this.handler=null),"hover"==this.handlerMode?this.handler=new OpenLayers.Handler.Hover(this,{pause:this.handleEvent,move:this.reset},this.handlerOptions):"click"==this.handlerMode?this.handler=new OpenLayers.Handler.Click(this,{click:this.handleEvent},this.handlerOptions):"move"==this.handlerMode&&(this.handler=new OpenLayers.Handler.Hover(this,{pause:this.handleEvent,move:this.handleEvent},this.handlerOptions)),this.handler?!0:!1},initialize:function(a){a=a||{},a.handlerOptions=a.handlerOptions||this.defaultHandlerOptions,OpenLayers.Control.prototype.initialize.apply(this,[a]),this.resetHandler()},handleEvent:function(a){if(null==a)this.reset();else{var b=this.map.getLonLatFromPixel(a.xy);if(b){var c=this.findLayers();if(0<c.length){for(var d,e,f={},g=0,h=c.length;h>g;g++)d=c[g],e=OpenLayers.Util.indexOf(this.map.layers,d),f[e]=d.getFeatureInfo(b);this.callback(f,b,a.xy)}}}},callback:function(){},reset:function(){this.callback(null)},findLayers:function(){for(var a,b=this.layers||this.map.layers,c=[],d=b.length-1;d>=0;--d)a=b[d],a instanceof OpenLayers.Layer.UTFGrid&&c.push(a);return c},CLASS_NAME:"OpenLayers.Control.UTFGrid"}),OpenLayers.Format.CQL=function(){function a(a){function b(){var a=d.pop();switch(a.type){case"LOGICAL":var c=b(),f=b();return new OpenLayers.Filter.Logical({filters:[f,c],type:g[a.text.toUpperCase()]});case"NOT":return a=b(),new OpenLayers.Filter.Logical({filters:[a],type:OpenLayers.Filter.Logical.NOT});case"BETWEEN":return d.pop(),f=b(),a=b(),c=b(),new OpenLayers.Filter.Comparison({property:c,lowerBoundary:a,upperBoundary:f,type:OpenLayers.Filter.Comparison.BETWEEN});case"COMPARISON":return f=b(),c=b(),new OpenLayers.Filter.Comparison({property:c,value:f,type:e[a.text.toUpperCase()]});case"IS_NULL":return c=b(),new OpenLayers.Filter.Comparison({property:c,type:e[a.text.toUpperCase()]});case"VALUE":return(c=a.text.match(/^'(.*)'$/))?c[1].replace(/''/g,"'"):Number(a.text);case"SPATIAL":switch(a.text.toUpperCase()){case"BBOX":var a=b(),c=b(),f=b(),h=b(),i=b();return new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,property:i,value:OpenLayers.Bounds.fromArray([h,f,c,a])});case"INTERSECTS":return f=b(),c=b(),new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:c,value:f});case"WITHIN":return f=b(),c=b(),new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.WITHIN,property:c,value:f});case"CONTAINS":return f=b(),c=b(),new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.CONTAINS,property:c,value:f});case"DWITHIN":return a=b(),f=b(),c=b(),new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.DWITHIN,value:f,property:c,distance:Number(a)})}case"GEOMETRY":return OpenLayers.Geometry.fromWKT(a.text);default:return a.text}}for(var c=[],d=[];a.length;){var f=a.shift();switch(f.type){case"PROPERTY":case"GEOMETRY":case"VALUE":d.push(f);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var h=i[f.type];0<c.length&&i[c[c.length-1].type]<=h;)d.push(c.pop());c.push(f);break;case"SPATIAL":case"NOT":case"LPAREN":c.push(f);break;case"RPAREN":for(;0<c.length&&"LPAREN"!=c[c.length-1].type;)d.push(c.pop());c.pop(),0<c.length&&"SPATIAL"==c[c.length-1].type&&d.push(c.pop());case"COMMA":case"END":break;default:throw Error("Unknown token type "+f.type)}}for(;0<c.length;)d.push(c.pop());if(a=b(),0<d.length){for(a="Remaining tokens after building AST: \n",c=d.length-1;c>=0;c--)a+=d[c].type+": "+d[c].text+"\n";throw Error(a)}return a}var b,c={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(a){var b=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(a);
if(b){var c=a.length,b=a.indexOf("(",b[0].length);if(b>-1)for(var d=1;c>b&&d>0;)switch(b++,a.charAt(b)){case"(":d++;break;case")":d--}return[a.substr(0,b+1)]}},END:/^$/},d={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},e={"=":OpenLayers.Filter.Comparison.EQUAL_TO,"<>":OpenLayers.Filter.Comparison.NOT_EQUAL_TO,"<":OpenLayers.Filter.Comparison.LESS_THAN,"<=":OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO,">":OpenLayers.Filter.Comparison.GREATER_THAN,">=":OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,LIKE:OpenLayers.Filter.Comparison.LIKE,BETWEEN:OpenLayers.Filter.Comparison.BETWEEN,"IS NULL":OpenLayers.Filter.Comparison.IS_NULL},f={},g={AND:OpenLayers.Filter.Logical.AND,OR:OpenLayers.Filter.Logical.OR},h={},i={RPAREN:3,LOGICAL:2,COMPARISON:1};for(b in e)e.hasOwnProperty(b)&&(f[e[b]]=b);for(b in g)g.hasOwnProperty(b)&&(h[g[b]]=b);return OpenLayers.Class(OpenLayers.Format,{read:function(b){var e=b;b=[];var f,g=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{a:{f=g;for(var h=void 0,g=void 0,i=f.length,h=0;i>h;h++){var g=f[h],j=c[g]instanceof RegExp?c[g].exec(e):c[g](e);if(j){f=j[0],e=e.substr(f.length).replace(/^\s*/,""),f={type:g,text:f,remainder:e};break a}}for(b="ERROR: In parsing: ["+e+"], expected one of: ",h=0;i>h;h++)g=f[h],b+="\n    "+g+": "+c[g];throw Error(b)}if(e=f.remainder,g=d[f.type],"END"!=f.type&&!g)throw Error("No follows list for "+f.type);b.push(f)}while("END"!=f.type);return b=a(b),this.keepData&&(this.data=b),b},write:function(a){if(a instanceof OpenLayers.Geometry)return a.toString();switch(a.CLASS_NAME){case"OpenLayers.Filter.Spatial":switch(a.type){case OpenLayers.Filter.Spatial.BBOX:return"BBOX("+a.property+","+a.value.toBBOX()+")";case OpenLayers.Filter.Spatial.DWITHIN:return"DWITHIN("+a.property+", "+this.write(a.value)+", "+a.distance+")";case OpenLayers.Filter.Spatial.WITHIN:return"WITHIN("+a.property+", "+this.write(a.value)+")";case OpenLayers.Filter.Spatial.INTERSECTS:return"INTERSECTS("+a.property+", "+this.write(a.value)+")";case OpenLayers.Filter.Spatial.CONTAINS:return"CONTAINS("+a.property+", "+this.write(a.value)+")";default:throw Error("Unknown spatial filter type: "+a.type)}case"OpenLayers.Filter.Logical":if(a.type==OpenLayers.Filter.Logical.NOT)return"NOT ("+this.write(a.filters[0])+")";for(var b="(",c=!0,d=0;d<a.filters.length;d++)c?c=!1:b+=") "+h[a.type]+" (",b+=this.write(a.filters[d]);return b+")";case"OpenLayers.Filter.Comparison":return a.type==OpenLayers.Filter.Comparison.BETWEEN?a.property+" BETWEEN "+this.write(a.lowerBoundary)+" AND "+this.write(a.upperBoundary):null!==a.value?a.property+" "+f[a.type]+" "+this.write(a.value):a.property+" "+f[a.type];case void 0:if("string"==typeof a)return"'"+a.replace(/'/g,"''")+"'";if("number"==typeof a)return String(a);default:throw Error("Can't encode: "+a.CLASS_NAME+" "+a)}},CLASS_NAME:"OpenLayers.Format.CQL"})}(),OpenLayers.Control.Split=OpenLayers.Class(OpenLayers.Control,{layer:null,source:null,sourceOptions:null,tolerance:null,edge:!0,deferDelete:!1,mutual:!0,targetFilter:null,sourceFilter:null,handler:null,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,[a]),this.options=a||{},this.options.source&&this.setSource(this.options.source)},setSource:function(a){this.active?(this.deactivate(),this.handler&&(this.handler.destroy(),delete this.handler),this.source=a,this.activate()):this.source=a},activate:function(){var a=OpenLayers.Control.prototype.activate.call(this);return a&&(this.source?this.source.events&&this.source.events.on({sketchcomplete:this.onSketchComplete,afterfeaturemodified:this.afterFeatureModified,scope:this}):(this.handler||(this.handler=new OpenLayers.Handler.Path(this,{done:function(a){this.onSketchComplete({feature:new OpenLayers.Feature.Vector(a)})}},{layerOptions:this.sourceOptions})),this.handler.activate())),a},deactivate:function(){var a=OpenLayers.Control.prototype.deactivate.call(this);return a&&this.source&&this.source.events&&this.source.events.un({sketchcomplete:this.onSketchComplete,afterfeaturemodified:this.afterFeatureModified,scope:this}),a},onSketchComplete:function(a){return this.feature=null,!this.considerSplit(a.feature)},afterFeatureModified:function(a){a.modified&&"function"==typeof a.feature.geometry.split&&(this.feature=a.feature,this.considerSplit(a.feature))},removeByGeometry:function(a,b){for(var c=0,d=a.length;d>c;++c)if(a[c].geometry===b){a.splice(c,1);break}},isEligible:function(a){return a.geometry?a.state!==OpenLayers.State.DELETE&&"function"==typeof a.geometry.split&&this.feature!==a&&(!this.targetFilter||this.targetFilter.evaluate(a.attributes)):!1},considerSplit:function(a){var b=!1,c=!1;if(!this.sourceFilter||this.sourceFilter.evaluate(a.attributes)){for(var d,e,f,g,h,i=this.layer&&this.layer.features||[],j=[],k=[],l=this.layer===this.source&&this.mutual,m={edge:this.edge,tolerance:this.tolerance,mutual:l},n=[a.geometry],o=0,p=i.length;p>o;++o)if(f=i[o],this.isEligible(f)){g=[f.geometry];for(var q=0;q<n.length;++q){h=n[q];for(var r=0;r<g.length;++r)d=g[r],h.getBounds().intersectsBounds(d.getBounds())&&(d=h.split(d,m))&&(e=this.events.triggerEvent("beforesplit",{source:a,target:f}),!1!==e&&(l&&(e=d[0],1<e.length&&(e.unshift(q,1),Array.prototype.splice.apply(n,e),q+=e.length-3),d=d[1]),1<d.length&&(d.unshift(r,1),Array.prototype.splice.apply(g,d),r+=d.length-3)))}g&&1<g.length&&(this.geomsToFeatures(f,g),this.events.triggerEvent("split",{original:f,features:g}),Array.prototype.push.apply(j,g),k.push(f),c=!0)}if(n&&1<n.length&&(this.geomsToFeatures(a,n),this.events.triggerEvent("split",{original:a,features:n}),Array.prototype.push.apply(j,n),k.push(a),b=!0),b||c){if(this.deferDelete){for(i=[],o=0,p=k.length;p>o;++o)c=k[o],c.state===OpenLayers.State.INSERT?i.push(c):(c.state=OpenLayers.State.DELETE,this.layer.drawFeature(c));for(this.layer.destroyFeatures(i,{silent:!0}),o=0,p=j.length;p>o;++o)j[o].state=OpenLayers.State.INSERT}else this.layer.destroyFeatures(k,{silent:!0});this.layer.addFeatures(j,{silent:!0}),this.events.triggerEvent("aftersplit",{source:a,features:j})}}return b},geomsToFeatures:function(a,b){var c=a.clone();delete c.geometry;for(var d,e=0,f=b.length;f>e;++e)d=c.clone(),d.geometry=b[e],d.state=OpenLayers.State.INSERT,b[e]=d},destroy:function(){this.active&&this.deactivate(),OpenLayers.Control.prototype.destroy.call(this)},CLASS_NAME:"OpenLayers.Control.Split"}),OpenLayers.Layer.WMTS=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:!0,version:"1.0.0",requestEncoding:"KVP",url:null,layer:null,matrixSet:null,style:null,format:"image/jpeg",tileOrigin:null,tileFullExtent:null,formatSuffix:null,matrixIds:null,dimensions:null,params:null,zoomOffset:0,serverResolutions:null,formatSuffixMap:{"image/png":"png","image/png8":"png","image/png24":"png","image/png32":"png",png:"png","image/jpeg":"jpg","image/jpg":"jpg",jpeg:"jpg",jpg:"jpg"},matrix:null,initialize:function(a){var b,c={url:!0,layer:!0,style:!0,matrixSet:!0};for(b in c)if(!(b in a))throw Error("Missing property '"+b+"' in layer configuration.");if(a.params=OpenLayers.Util.upperCaseObject(a.params),OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a.name,a.url,a.params,a]),this.formatSuffix||(this.formatSuffix=this.formatSuffixMap[this.format]||this.format.split("/").pop()),this.matrixIds&&(a=this.matrixIds.length)&&"string"==typeof this.matrixIds[0])for(c=this.matrixIds,this.matrixIds=Array(a),b=0;a>b;++b)this.matrixIds[b]={identifier:c[b]}},setMap:function(){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments)},updateMatrixProperties:function(){(this.matrix=this.getMatrix())&&(this.matrix.topLeftCorner&&(this.tileOrigin=this.matrix.topLeftCorner),this.matrix.tileWidth&&this.matrix.tileHeight&&(this.tileSize=new OpenLayers.Size(this.matrix.tileWidth,this.matrix.tileHeight)),this.tileOrigin||(this.tileOrigin=new OpenLayers.LonLat(this.maxExtent.left,this.maxExtent.top)),this.tileFullExtent||(this.tileFullExtent=this.maxExtent))},moveTo:function(a,b){return!b&&this.matrix||this.updateMatrixProperties(),OpenLayers.Layer.Grid.prototype.moveTo.apply(this,arguments)},clone:function(a){return null==a&&(a=new OpenLayers.Layer.WMTS(this.options)),a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a])},getIdentifier:function(){return this.getServerZoom()},getMatrix:function(){var a;if(this.matrixIds&&0!==this.matrixIds.length)if("scaleDenominator"in this.matrixIds[0])for(var b,c=OpenLayers.METERS_PER_INCH*OpenLayers.INCHES_PER_UNIT[this.units]*this.getServerResolution()/28e-5,d=Number.POSITIVE_INFINITY,e=0,f=this.matrixIds.length;f>e;++e)b=Math.abs(1-this.matrixIds[e].scaleDenominator/c),d>b&&(d=b,a=this.matrixIds[e]);else a=this.matrixIds[this.getIdentifier()];else a={identifier:this.getIdentifier()};return a},getTileInfo:function(a){var b=this.getServerResolution(),c=(a.lon-this.tileOrigin.lon)/(b*this.tileSize.w);a=(this.tileOrigin.lat-a.lat)/(b*this.tileSize.h);var b=Math.floor(c),d=Math.floor(a);return{col:b,row:d,i:Math.floor((c-b)*this.tileSize.w),j:Math.floor((a-d)*this.tileSize.h)}},getURL:function(a){a=this.adjustBounds(a);var b="";if(!this.tileFullExtent||this.tileFullExtent.intersectsBounds(a)){a=a.getCenterLonLat();var c=this.getTileInfo(a);a=this.dimensions;var d,b=OpenLayers.Util.isArray(this.url)?this.selectUrl([this.version,this.style,this.matrixSet,this.matrix.identifier,c.row,c.col].join(),this.url):this.url;if("REST"===this.requestEncoding.toUpperCase())if(d=this.params,-1!==b.indexOf("{")){if(b=b.replace(/\{/g,"${"),c={style:this.style,Style:this.style,TileMatrixSet:this.matrixSet,TileMatrix:this.matrix.identifier,TileRow:c.row,TileCol:c.col},a){var e,f;for(f=a.length-1;f>=0;--f)e=a[f],c[e]=d[e.toUpperCase()]}b=OpenLayers.String.format(b,c)}else{if(e=this.version+"/"+this.layer+"/"+this.style+"/",a)for(f=0;f<a.length;f++)d[a[f]]&&(e=e+d[a[f]]+"/");e=e+this.matrixSet+"/"+this.matrix.identifier+"/"+c.row+"/"+c.col+"."+this.formatSuffix,b.match(/\/$/)||(b+="/"),b+=e}else"KVP"===this.requestEncoding.toUpperCase()&&(d={SERVICE:"WMTS",REQUEST:"GetTile",VERSION:this.version,LAYER:this.layer,STYLE:this.style,TILEMATRIXSET:this.matrixSet,TILEMATRIX:this.matrix.identifier,TILEROW:c.row,TILECOL:c.col,FORMAT:this.format},b=OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,[d]))}return b},mergeNewParams:function(a){return"KVP"===this.requestEncoding.toUpperCase()?OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,[OpenLayers.Util.upperCaseObject(a)]):void 0},CLASS_NAME:"OpenLayers.Layer.WMTS"}),OpenLayers.Protocol.SOS.v1_0_0=OpenLayers.Class(OpenLayers.Protocol,{fois:null,formatOptions:null,initialize:function(a){OpenLayers.Protocol.prototype.initialize.apply(this,[a]),a.format||(this.format=new OpenLayers.Format.SOSGetFeatureOfInterest(this.formatOptions))},destroy:function(){this.options&&!this.options.format&&this.format.destroy(),this.format=null,OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(a){a=OpenLayers.Util.extend({},a),OpenLayers.Util.applyDefaults(a,this.options||{});var b=new OpenLayers.Protocol.Response({requestType:"read"}),c=this.format,c=OpenLayers.Format.XML.prototype.write.apply(c,[c.writeNode("sos:GetFeatureOfInterest",{fois:this.fois})]);return b.priv=OpenLayers.Request.POST({url:a.url,callback:this.createCallback(this.handleRead,b,a),data:c}),b},handleRead:function(a,b){if(b.callback){var c=a.priv;200<=c.status&&300>c.status?(a.features=this.parseFeatures(c),a.code=OpenLayers.Protocol.Response.SUCCESS):a.code=OpenLayers.Protocol.Response.FAILURE,b.callback.call(b.scope,a)}},parseFeatures:function(a){var b=a.responseXML;return b&&b.documentElement||(b=a.responseText),!b||0>=b.length?null:this.format.read(b)},CLASS_NAME:"OpenLayers.Protocol.SOS.v1_0_0"}),OpenLayers.Layer.KaMapCache=OpenLayers.Class(OpenLayers.Layer.KaMap,{IMAGE_EXTENSIONS:{jpeg:"jpg",gif:"gif",png:"png",png8:"png",png24:"png",dithered:"png"},DEFAULT_FORMAT:"jpeg",initialize:function(){OpenLayers.Layer.KaMap.prototype.initialize.apply(this,arguments),this.extension=this.IMAGE_EXTENSIONS[this.params.i.toLowerCase()||this.DEFAULT_FORMAT]},getURL:function(a){a=this.adjustBounds(a);var b=this.map.getResolution(),c=Math.round(1e4*this.map.getScale())/1e4,d=Math.round(a.left/b);a=-Math.round(a.top/b);var b=Math.floor(d/this.tileSize.w/this.params.metaTileSize.w)*this.tileSize.w*this.params.metaTileSize.w,e=Math.floor(a/this.tileSize.h/this.params.metaTileSize.h)*this.tileSize.h*this.params.metaTileSize.h,c=["/",this.params.map,"/",c,"/",this.params.g.replace(/\s/g,"_"),"/def/t",e,"/l",b,"/t",a,"l",d,".",this.extension],d=this.url;return OpenLayers.Util.isArray(d)&&(d=this.selectUrl(c.join(""),d)),d+c.join("")},CLASS_NAME:"OpenLayers.Layer.KaMapCache"}),OpenLayers.Protocol.WFS.v1_1_0=OpenLayers.Class(OpenLayers.Protocol.WFS.v1,{version:"1.1.0",initialize:function(){OpenLayers.Protocol.WFS.v1.prototype.initialize.apply(this,arguments),this.outputFormat&&!this.readFormat&&("gml2"==this.outputFormat.toLowerCase()?this.readFormat=new OpenLayers.Format.GML.v2({featureType:this.featureType,featureNS:this.featureNS,geometryName:this.geometryName}):"json"==this.outputFormat.toLowerCase()&&(this.readFormat=new OpenLayers.Format.GeoJSON))},CLASS_NAME:"OpenLayers.Protocol.WFS.v1_1_0"}),OpenLayers.Format.WMSCapabilities.v1_1_1=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1,{version:"1.1.1",readers:{wms:OpenLayers.Util.applyDefaults({SRS:function(a,b){b.srs[this.getChildValue(a)]=!0}},OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1_1"}),OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1_1,{version:"1.1.1",profile:"WMSC",readers:{wms:OpenLayers.Util.applyDefaults({VendorSpecificCapabilities:function(a,b){b.vendorSpecific={tileSets:[]},this.readChildNodes(a,b.vendorSpecific)},TileSet:function(a,b){var c={srs:{},bbox:{},resolutions:[]};this.readChildNodes(a,c),b.tileSets.push(c)},Resolutions:function(a,b){for(var c=this.getChildValue(a).split(" "),d=0,e=c.length;e>d;d++)""!=c[d]&&b.resolutions.push(parseFloat(c[d]))},Width:function(a,b){b.width=parseInt(this.getChildValue(a))},Height:function(a,b){b.height=parseInt(this.getChildValue(a))},Layers:function(a,b){b.layers=this.getChildValue(a)},Styles:function(a,b){b.styles=this.getChildValue(a)}},OpenLayers.Format.WMSCapabilities.v1_1_1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC"}),OpenLayers.Control.LayerSwitcher=OpenLayers.Class(OpenLayers.Control,{layerStates:null,layersDiv:null,baseLayersDiv:null,baseLayers:null,dataLbl:null,dataLayersDiv:null,dataLayers:null,minimizeDiv:null,maximizeDiv:null,ascending:!0,initialize:function(){OpenLayers.Control.prototype.initialize.apply(this,arguments),this.layerStates=[]},destroy:function(){this.clearLayersArray("base"),this.clearLayersArray("data"),this.map.events.un({buttonclick:this.onButtonClick,addlayer:this.redraw,changelayer:this.redraw,removelayer:this.redraw,changebaselayer:this.redraw,scope:this}),this.events.unregister("buttonclick",this,this.onButtonClick),OpenLayers.Control.prototype.destroy.apply(this,arguments)},setMap:function(){OpenLayers.Control.prototype.setMap.apply(this,arguments),this.map.events.on({addlayer:this.redraw,changelayer:this.redraw,removelayer:this.redraw,changebaselayer:this.redraw,scope:this}),this.outsideViewport?(this.events.attachToElement(this.div),this.events.register("buttonclick",this,this.onButtonClick)):this.map.events.register("buttonclick",this,this.onButtonClick)},draw:function(){return OpenLayers.Control.prototype.draw.apply(this),this.loadContents(),this.outsideViewport||this.minimizeControl(),this.redraw(),this.div},onButtonClick:function(a){a=a.buttonElement,a===this.minimizeDiv?this.minimizeControl():a===this.maximizeDiv?this.maximizeControl():a._layerSwitcher===this.id&&(a["for"]&&(a=document.getElementById(a["for"])),a.disabled||("radio"==a.type?(a.checked=!0,this.map.setBaseLayer(this.map.getLayer(a._layer))):(a.checked=!a.checked,this.updateMap())))},clearLayersArray:function(a){this[a+"LayersDiv"].innerHTML="",this[a+"Layers"]=[]},checkRedraw:function(){if(!this.layerStates.length||this.map.layers.length!=this.layerStates.length)return!0;for(var a=0,b=this.layerStates.length;b>a;a++){var c=this.layerStates[a],d=this.map.layers[a];if(c.name!=d.name||c.inRange!=d.inRange||c.id!=d.id||c.visibility!=d.visibility)return!0}return!1},redraw:function(){if(!this.checkRedraw())return this.div;this.clearLayersArray("base"),this.clearLayersArray("data");var a=!1,b=!1,c=this.map.layers.length;this.layerStates=Array(c);for(var d=0;c>d;d++){var e=this.map.layers[d];this.layerStates[d]={name:e.name,visibility:e.visibility,inRange:e.inRange,id:e.id}}var f=this.map.layers.slice();for(this.ascending||f.reverse(),d=0,c=f.length;c>d;d++){var e=f[d],g=e.isBaseLayer;if(e.displayInLayerSwitcher){g?b=!0:a=!0;var h=g?e==this.map.baseLayer:e.getVisibility(),i=document.createElement("input"),j=OpenLayers.Util.createUniqueID(this.id+"_input_");i.id=j,i.name=g?this.id+"_baseLayers":e.name,i.type=g?"radio":"checkbox",i.value=e.name,i.checked=h,i.defaultChecked=h,i.className="olButton",i._layer=e.id,i._layerSwitcher=this.id,g||e.inRange||(i.disabled=!0),h=document.createElement("label"),h["for"]=i.id,OpenLayers.Element.addClass(h,"labelSpan olButton"),h._layer=e.id,h._layerSwitcher=this.id,g||e.inRange||(h.style.color="gray"),h.innerHTML=e.name,h.style.verticalAlign=g?"bottom":"baseline",j=document.createElement("br"),(g?this.baseLayers:this.dataLayers).push({layer:e,inputElem:i,labelSpan:h}),e=g?this.baseLayersDiv:this.dataLayersDiv,e.appendChild(i),e.appendChild(h),e.appendChild(j)}}return this.dataLbl.style.display=a?"":"none",this.baseLbl.style.display=b?"":"none",this.div},updateMap:function(){for(var a=0,b=this.baseLayers.length;b>a;a++){var c=this.baseLayers[a];c.inputElem.checked&&this.map.setBaseLayer(c.layer,!1)}for(a=0,b=this.dataLayers.length;b>a;a++)c=this.dataLayers[a],c.layer.setVisibility(c.inputElem.checked)},maximizeControl:function(a){this.div.style.width="",this.div.style.height="",this.showControls(!1),null!=a&&OpenLayers.Event.stop(a)},minimizeControl:function(a){this.div.style.width="0px",this.div.style.height="0px",this.showControls(!0),null!=a&&OpenLayers.Event.stop(a)},showControls:function(a){this.maximizeDiv.style.display=a?"":"none",this.minimizeDiv.style.display=a?"none":"",this.layersDiv.style.display=a?"none":""},loadContents:function(){this.layersDiv=document.createElement("div"),this.layersDiv.id=this.id+"_layersDiv",OpenLayers.Element.addClass(this.layersDiv,"layersDiv"),this.baseLbl=document.createElement("div"),this.baseLbl.innerHTML=OpenLayers.i18n("Base Layer"),OpenLayers.Element.addClass(this.baseLbl,"baseLbl"),this.baseLayersDiv=document.createElement("div"),OpenLayers.Element.addClass(this.baseLayersDiv,"baseLayersDiv"),this.dataLbl=document.createElement("div"),this.dataLbl.innerHTML=OpenLayers.i18n("Overlays"),OpenLayers.Element.addClass(this.dataLbl,"dataLbl"),this.dataLayersDiv=document.createElement("div"),OpenLayers.Element.addClass(this.dataLayersDiv,"dataLayersDiv"),this.ascending?(this.layersDiv.appendChild(this.baseLbl),this.layersDiv.appendChild(this.baseLayersDiv),this.layersDiv.appendChild(this.dataLbl),this.layersDiv.appendChild(this.dataLayersDiv)):(this.layersDiv.appendChild(this.dataLbl),this.layersDiv.appendChild(this.dataLayersDiv),this.layersDiv.appendChild(this.baseLbl),this.layersDiv.appendChild(this.baseLayersDiv)),this.div.appendChild(this.layersDiv);var a=OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");this.maximizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MaximizeDiv",null,null,a,"absolute"),OpenLayers.Element.addClass(this.maximizeDiv,"maximizeDiv olButton"),this.maximizeDiv.style.display="none",this.div.appendChild(this.maximizeDiv),a=OpenLayers.Util.getImageLocation("layer-switcher-minimize.png"),this.minimizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MinimizeDiv",null,null,a,"absolute"),OpenLayers.Element.addClass(this.minimizeDiv,"minimizeDiv olButton"),this.minimizeDiv.style.display="none",this.div.appendChild(this.minimizeDiv)},CLASS_NAME:"OpenLayers.Control.LayerSwitcher"}),OpenLayers.Format.Atom=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{atom:"http://www.w3.org/2005/Atom",georss:"http://www.georss.org/georss"},feedTitle:"untitled",defaultEntryTitle:"untitled",gmlParser:null,xy:!1,read:function(a){return"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),this.parseFeatures(a)},write:function(a){var b;if(OpenLayers.Util.isArray(a)){b=this.createElementNSPlus("atom:feed"),b.appendChild(this.createElementNSPlus("atom:title",{value:this.feedTitle}));for(var c=0,d=a.length;d>c;c++)b.appendChild(this.buildEntryNode(a[c]))}else b=this.buildEntryNode(a);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},buildContentNode:function(a){var b=this.createElementNSPlus("atom:content",{attributes:{type:a.type||null}});if(a.src)b.setAttribute("src",a.src);else if("text"==a.type||null==a.type)b.appendChild(this.createTextNode(a.value));else if("html"==a.type){if("string"!=typeof a.value)throw"HTML content must be in form of an escaped string";b.appendChild(this.createTextNode(a.value))}else b.appendChild("xhtml"==a.type?a.value:"xhtml"==a.type||a.type.match(/(\+|\/)xml$/)?a.value:this.createTextNode(a.value));return b},buildEntryNode:function(a){var b=a.attributes,c=b.atom||{},d=this.createElementNSPlus("atom:entry");if(c.authors)for(var e=OpenLayers.Util.isArray(c.authors)?c.authors:[c.authors],f=0,g=e.length;g>f;f++)d.appendChild(this.buildPersonConstructNode("author",e[f]));if(c.categories)for(var h,e=OpenLayers.Util.isArray(c.categories)?c.categories:[c.categories],f=0,g=e.length;g>f;f++)h=e[f],d.appendChild(this.createElementNSPlus("atom:category",{attributes:{term:h.term,scheme:h.scheme||null,label:h.label||null}}));if(c.content&&d.appendChild(this.buildContentNode(c.content)),c.contributors)for(e=OpenLayers.Util.isArray(c.contributors)?c.contributors:[c.contributors],f=0,g=e.length;g>f;f++)d.appendChild(this.buildPersonConstructNode("contributor",e[f]));if(a.fid&&d.appendChild(this.createElementNSPlus("atom:id",{value:a.fid})),c.links)for(e=OpenLayers.Util.isArray(c.links)?c.links:[c.links],f=0,g=e.length;g>f;f++)h=e[f],d.appendChild(this.createElementNSPlus("atom:link",{attributes:{href:h.href,rel:h.rel||null,type:h.type||null,hreflang:h.hreflang||null,title:h.title||null,length:h.length||null}}));return c.published&&d.appendChild(this.createElementNSPlus("atom:published",{value:c.published})),c.rights&&d.appendChild(this.createElementNSPlus("atom:rights",{value:c.rights})),(c.summary||b.description)&&d.appendChild(this.createElementNSPlus("atom:summary",{value:c.summary||b.description})),d.appendChild(this.createElementNSPlus("atom:title",{value:c.title||b.title||this.defaultEntryTitle})),c.updated&&d.appendChild(this.createElementNSPlus("atom:updated",{value:c.updated})),a.geometry&&(b=this.createElementNSPlus("georss:where"),b.appendChild(this.buildGeometryNode(a.geometry)),d.appendChild(b)),d},initGmlParser:function(){this.gmlParser=new OpenLayers.Format.GML.v3({xy:this.xy,featureNS:"http://example.com#feature",internalProjection:this.internalProjection,externalProjection:this.externalProjection})},buildGeometryNode:function(a){return this.gmlParser||this.initGmlParser(),this.gmlParser.writeNode("feature:_geometry",a).firstChild},buildPersonConstructNode:function(a,b){var c=["uri","email"],d=this.createElementNSPlus("atom:"+a);d.appendChild(this.createElementNSPlus("atom:name",{value:b.name}));for(var e=0,f=c.length;f>e;e++)b[c[e]]&&d.appendChild(this.createElementNSPlus("atom:"+c[e],{value:b[c[e]]}));return d},getFirstChildValue:function(a,b,c,d){return(a=this.getElementsByTagNameNS(a,b,c))&&0<a.length?this.getChildValue(a[0],d):d},parseFeature:function(a){var b={},c=null,d=null,e=null,f=this.namespaces.atom;this.parsePersonConstructs(a,"author",b),d=this.getElementsByTagNameNS(a,f,"category"),0<d.length&&(b.categories=[]);for(var g=0,h=d.length;h>g;g++)c={},c.term=d[g].getAttribute("term"),(e=d[g].getAttribute("scheme"))&&(c.scheme=e),(e=d[g].getAttribute("label"))&&(c.label=e),b.categories.push(c);d=this.getElementsByTagNameNS(a,f,"content"),0<d.length&&(c={},(e=d[0].getAttribute("type"))&&(c.type=e),(e=d[0].getAttribute("src"))?c.src=e:(c.value="text"==c.type||"html"==c.type||null==c.type?this.getFirstChildValue(a,f,"content",null):"xhtml"==c.type||c.type.match(/(\+|\/)xml$/)?this.getChildEl(d[0]):this.getFirstChildValue(a,f,"content",null),b.content=c)),this.parsePersonConstructs(a,"contributor",b),b.id=this.getFirstChildValue(a,f,"id",null),d=this.getElementsByTagNameNS(a,f,"link"),0<d.length&&(b.links=Array(d.length));for(var i=["rel","type","hreflang","title","length"],g=0,h=d.length;h>g;g++){c={},c.href=d[g].getAttribute("href");for(var j=0,k=i.length;k>j;j++)(e=d[g].getAttribute(i[j]))&&(c[i[j]]=e);b.links[g]=c}return(c=this.getFirstChildValue(a,f,"published",null))&&(b.published=c),(c=this.getFirstChildValue(a,f,"rights",null))&&(b.rights=c),(c=this.getFirstChildValue(a,f,"summary",null))&&(b.summary=c),b.title=this.getFirstChildValue(a,f,"title",null),b.updated=this.getFirstChildValue(a,f,"updated",null),c={title:b.title,description:b.summary,atom:b},a=this.parseLocations(a)[0],a=new OpenLayers.Feature.Vector(a,c),a.fid=b.id,a},parseFeatures:function(a){var b=[],c=this.getElementsByTagNameNS(a,this.namespaces.atom,"entry");0==c.length&&(c=[a]),a=0;for(var d=c.length;d>a;a++)b.push(this.parseFeature(c[a]));return b},parseLocations:function(a){var b=this.namespaces.georss,c={components:[]},d=this.getElementsByTagNameNS(a,b,"where");if(d&&0<d.length){this.gmlParser||this.initGmlParser();for(var e=0,f=d.length;f>e;e++)this.gmlParser.readChildNodes(d[e],c)}if(c=c.components,(d=this.getElementsByTagNameNS(a,b,"point"))&&0<d.length)for(e=0,f=d.length;f>e;e++){var g=OpenLayers.String.trim(d[e].firstChild.nodeValue).split(/\s+/);2!=g.length&&(g=OpenLayers.String.trim(d[e].firstChild.nodeValue).split(/\s*,\s*/)),c.push(new OpenLayers.Geometry.Point(g[1],g[0]))}var h=this.getElementsByTagNameNS(a,b,"line");if(h&&0<h.length)for(var i,e=0,f=h.length;f>e;e++){d=OpenLayers.String.trim(h[e].firstChild.nodeValue).split(/\s+/),i=[];for(var j=0,k=d.length;k>j;j+=2)g=new OpenLayers.Geometry.Point(d[j+1],d[j]),i.push(g);c.push(new OpenLayers.Geometry.LineString(i))}if((a=this.getElementsByTagNameNS(a,b,"polygon"))&&0<a.length)for(e=0,f=a.length;f>e;e++){for(d=OpenLayers.String.trim(a[e].firstChild.nodeValue).split(/\s+/),i=[],j=0,k=d.length;k>j;j+=2)g=new OpenLayers.Geometry.Point(d[j+1],d[j]),i.push(g);c.push(new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(i)]))}if(this.internalProjection&&this.externalProjection)for(e=0,f=c.length;f>e;e++)c[e]&&c[e].transform(this.externalProjection,this.internalProjection);return c},parsePersonConstructs:function(a,b,c){var d=[],e=this.namespaces.atom;a=this.getElementsByTagNameNS(a,e,b);for(var f=["uri","email"],g=0,h=a.length;h>g;g++){var i={};i.name=this.getFirstChildValue(a[g],e,"name",null);for(var j=0,k=f.length;k>j;j++){var l=this.getFirstChildValue(a[g],e,f[j],null);l&&(i[f[j]]=l)}d.push(i)}0<d.length&&(c[b+"s"]=d)},CLASS_NAME:"OpenLayers.Format.Atom"}),OpenLayers.Control.KeyboardDefaults=OpenLayers.Class(OpenLayers.Control,{autoActivate:!0,slideFactor:75,observeElement:null,draw:function(){this.handler=new OpenLayers.Handler.Keyboard(this,{keydown:this.defaultKeyPress},{observeElement:this.observeElement||document})},defaultKeyPress:function(a){var b,c=!0;if(b=OpenLayers.Event.element(a),!b||"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&"SELECT"!=b.tagName){switch(a.keyCode){case OpenLayers.Event.KEY_LEFT:this.map.pan(-this.slideFactor,0);break;case OpenLayers.Event.KEY_RIGHT:this.map.pan(this.slideFactor,0);break;case OpenLayers.Event.KEY_UP:this.map.pan(0,-this.slideFactor);break;case OpenLayers.Event.KEY_DOWN:this.map.pan(0,this.slideFactor);break;case 33:b=this.map.getSize(),this.map.pan(0,-.75*b.h);break;case 34:b=this.map.getSize(),this.map.pan(0,.75*b.h);break;case 35:b=this.map.getSize(),this.map.pan(.75*b.w,0);break;case 36:b=this.map.getSize(),this.map.pan(-.75*b.w,0);break;case 43:case 61:case 187:case 107:this.map.zoomIn();break;case 45:case 109:case 189:case 95:this.map.zoomOut();break;default:c=!1}c&&OpenLayers.Event.stop(a)}},CLASS_NAME:"OpenLayers.Control.KeyboardDefaults"}),OpenLayers.Format.WMTSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1_1_0,{version:"1.0.0",namespaces:{ows:"http://www.opengis.net/ows/1.1",wmts:"http://www.opengis.net/wmts/1.0",xlink:"http://www.w3.org/1999/xlink"},yx:null,defaultPrefix:"wmts",initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]),this.options=a,a=OpenLayers.Util.extend({},OpenLayers.Format.WMTSCapabilities.prototype.yx),this.yx=OpenLayers.Util.extend(a,this.yx)},read:function(a){"string"==typeof a&&(a=OpenLayers.Format.XML.prototype.read.apply(this,[a])),a&&9==a.nodeType&&(a=a.documentElement);var b={};return this.readNode(a,b),b.version=this.version,b},readers:{wmts:{Capabilities:function(a,b){this.readChildNodes(a,b)},Contents:function(a,b){b.contents={},b.contents.layers=[],b.contents.tileMatrixSets={},this.readChildNodes(a,b.contents)},Layer:function(a,b){var c={styles:[],formats:[],dimensions:[],tileMatrixSetLinks:[],layers:[]};this.readChildNodes(a,c),b.layers.push(c)},Style:function(a,b){var c={};c.isDefault="true"===a.getAttribute("isDefault"),this.readChildNodes(a,c),b.styles.push(c)},Format:function(a,b){b.formats.push(this.getChildValue(a))},TileMatrixSetLink:function(a,b){var c={};this.readChildNodes(a,c),b.tileMatrixSetLinks.push(c)},TileMatrixSet:function(a,b){if(b.layers){var c={matrixIds:[]};this.readChildNodes(a,c),b.tileMatrixSets[c.identifier]=c}else b.tileMatrixSet=this.getChildValue(a)},TileMatrix:function(a,b){var c={supportedCRS:b.supportedCRS};this.readChildNodes(a,c),b.matrixIds.push(c)},ScaleDenominator:function(a,b){b.scaleDenominator=parseFloat(this.getChildValue(a))},TopLeftCorner:function(a,b){var c,d=this.getChildValue(a).split(" ");b.supportedCRS&&(c=b.supportedCRS.replace(/urn:ogc:def:crs:(\w+):.+:(\w+)$/,"urn:ogc:def:crs:$1::$2"),c=!!this.yx[c]),b.topLeftCorner=c?new OpenLayers.LonLat(d[1],d[0]):new OpenLayers.LonLat(d[0],d[1])},TileWidth:function(a,b){b.tileWidth=parseInt(this.getChildValue(a))},TileHeight:function(a,b){b.tileHeight=parseInt(this.getChildValue(a))},MatrixWidth:function(a,b){b.matrixWidth=parseInt(this.getChildValue(a))},MatrixHeight:function(a,b){b.matrixHeight=parseInt(this.getChildValue(a))},ResourceURL:function(a,b){b.resourceUrl=b.resourceUrl||{};var c=a.getAttribute("resourceType");b.resourceUrls||(b.resourceUrls=[]),c=b.resourceUrl[c]={format:a.getAttribute("format"),template:a.getAttribute("template"),resourceType:c},b.resourceUrls.push(c)},WSDL:function(a,b){b.wsdl={},b.wsdl.href=a.getAttribute("xlink:href")},ServiceMetadataURL:function(a,b){b.serviceMetadataUrl={},b.serviceMetadataUrl.href=a.getAttribute("xlink:href")},LegendURL:function(a,b){b.legend={},b.legend.href=a.getAttribute("xlink:href"),b.legend.format=a.getAttribute("format")},Dimension:function(a,b){var c={values:[]};this.readChildNodes(a,c),b.dimensions.push(c)},Default:function(a,b){b["default"]=this.getChildValue(a)},Value:function(a,b){b.values.push(this.getChildValue(a))}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WMTSCapabilities.v1_0_0"});var Proj4js={defaultDatum:"WGS84",transform:function(a,b,c){if(!a.readyToUse)return this.reportError("Proj4js initialization for:"+a.srsCode+" not yet complete"),c;
if(!b.readyToUse)return this.reportError("Proj4js initialization for:"+b.srsCode+" not yet complete"),c;if(a.datum&&b.datum&&((a.datum.datum_type==Proj4js.common.PJD_3PARAM||a.datum.datum_type==Proj4js.common.PJD_7PARAM)&&"WGS84"!=b.datumCode||(b.datum.datum_type==Proj4js.common.PJD_3PARAM||b.datum.datum_type==Proj4js.common.PJD_7PARAM)&&"WGS84"!=a.datumCode)){var d=Proj4js.WGS84;this.transform(a,d,c),a=d}return"enu"!=a.axis&&this.adjust_axis(a,!1,c),"longlat"==a.projName?(c.x*=Proj4js.common.D2R,c.y*=Proj4js.common.D2R):(a.to_meter&&(c.x*=a.to_meter,c.y*=a.to_meter),a.inverse(c)),a.from_greenwich&&(c.x+=a.from_greenwich),c=this.datum_transform(a.datum,b.datum,c),b.from_greenwich&&(c.x-=b.from_greenwich),"longlat"==b.projName?(c.x*=Proj4js.common.R2D,c.y*=Proj4js.common.R2D):(b.forward(c),b.to_meter&&(c.x/=b.to_meter,c.y/=b.to_meter)),"enu"!=b.axis&&this.adjust_axis(b,!0,c),c},datum_transform:function(a,b,c){return a.compare_datums(b)||a.datum_type==Proj4js.common.PJD_NODATUM||b.datum_type==Proj4js.common.PJD_NODATUM?c:((a.es!=b.es||a.a!=b.a||a.datum_type==Proj4js.common.PJD_3PARAM||a.datum_type==Proj4js.common.PJD_7PARAM||b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM)&&(a.geodetic_to_geocentric(c),(a.datum_type==Proj4js.common.PJD_3PARAM||a.datum_type==Proj4js.common.PJD_7PARAM)&&a.geocentric_to_wgs84(c),(b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM)&&b.geocentric_from_wgs84(c),b.geocentric_to_geodetic(c)),c)},adjust_axis:function(a,b,c){for(var d,e,f=c.x,g=c.y,h=c.z||0,i=0;3>i;i++)if(!b||2!=i||void 0!==c.z)switch(0==i?(d=f,e="x"):1==i?(d=g,e="y"):(d=h,e="z"),a.axis[i]){case"e":c[e]=d;break;case"w":c[e]=-d;break;case"n":c[e]=d;break;case"s":c[e]=-d;break;case"u":void 0!==c[e]&&(c.z=d);break;case"d":void 0!==c[e]&&(c.z=-d);break;default:return alert("ERROR: unknow axis ("+a.axis[i]+") - check definition of "+a.projName),null}return c},reportError:function(){},extend:function(a,b){if(a=a||{},b)for(var c in b){var d=b[c];void 0!==d&&(a[c]=d)}return a},Class:function(){for(var a,b=function(){this.initialize.apply(this,arguments)},c={},d=0;d<arguments.length;++d)a="function"==typeof arguments[d]?arguments[d].prototype:arguments[d],Proj4js.extend(c,a);return b.prototype=c,b},bind:function(a,b){var c=Array.prototype.slice.apply(arguments,[2]);return function(){var d=c.concat(Array.prototype.slice.apply(arguments,[0]));return a.apply(b,d)}},scriptName:"proj4js-compressed.js",defsLookupService:"http://spatialreference.org/ref",libPath:null,getScriptLocation:function(){if(this.libPath)return this.libPath;for(var a=this.scriptName,b=a.length,c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var e=c[d].getAttribute("src");if(e){var f=e.lastIndexOf(a);if(f>-1&&f+b==e.length){this.libPath=e.slice(0,-b);break}}}return this.libPath||""},loadScript:function(a,b,c,d){var e=document.createElement("script");e.defer=!1,e.type="text/javascript",e.id=a,e.src=a,e.onload=b,e.onerror=c,e.loadCheck=d,/MSIE/.test(navigator.userAgent)&&(e.onreadystatechange=this.checkReadyState),document.getElementsByTagName("head")[0].appendChild(e)},checkReadyState:function(){"loaded"==this.readyState&&(this.loadCheck()?this.onload():this.onerror())}};Proj4js.Proj=Proj4js.Class({readyToUse:!1,title:null,projName:null,units:null,datum:null,x0:0,y0:0,localCS:!1,queue:null,initialize:function(a,b){if(this.srsCodeInput=a,this.queue=[],b&&this.queue.push(b),0<=a.indexOf("GEOGCS")||0<=a.indexOf("GEOCCS")||0<=a.indexOf("PROJCS")||0<=a.indexOf("LOCAL_CS"))this.parseWKT(a),this.deriveConstants(),this.loadProjCode(this.projName);else{if(0==a.indexOf("urn:")){var c=a.split(":");"ogc"!=c[1]&&"x-ogc"!=c[1]||"def"!=c[2]||"crs"!=c[3]||(a=c[4]+":"+c[c.length-1])}else 0==a.indexOf("http://")&&(c=a.split("#"),c[0].match(/epsg.org/)?a="EPSG:"+c[1]:c[0].match(/RIG.xml/)&&(a="IGNF:"+c[1]));this.srsCode=a.toUpperCase(),0==this.srsCode.indexOf("EPSG")?(this.srsCode=this.srsCode,this.srsAuth="epsg",this.srsProjNumber=this.srsCode.substring(5)):0==this.srsCode.indexOf("IGNF")?(this.srsCode=this.srsCode,this.srsAuth="IGNF",this.srsProjNumber=this.srsCode.substring(5)):0==this.srsCode.indexOf("CRS")?(this.srsCode=this.srsCode,this.srsAuth="CRS",this.srsProjNumber=this.srsCode.substring(4)):(this.srsAuth="",this.srsProjNumber=this.srsCode),this.loadProjDefinition()}},loadProjDefinition:function(){if(Proj4js.defs[this.srsCode])this.defsLoaded();else{var a=Proj4js.getScriptLocation()+"defs/"+this.srsAuth.toUpperCase()+this.srsProjNumber+".js";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.loadFromService,this),Proj4js.bind(this.checkDefsLoaded,this))}},loadFromService:function(){Proj4js.loadScript(Proj4js.defsLookupService+"/"+this.srsAuth+"/"+this.srsProjNumber+"/proj4js/",Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.defsFailed,this),Proj4js.bind(this.checkDefsLoaded,this))},defsLoaded:function(){this.parseDefs(),this.loadProjCode(this.projName)},checkDefsLoaded:function(){return Proj4js.defs[this.srsCode]?!0:!1},defsFailed:function(){Proj4js.reportError("failed to load projection definition for: "+this.srsCode),Proj4js.defs[this.srsCode]=Proj4js.defs.WGS84,this.defsLoaded()},loadProjCode:function(a){if(Proj4js.Proj[a])this.initTransforms();else{var b=Proj4js.getScriptLocation()+"projCode/"+a+".js";Proj4js.loadScript(b,Proj4js.bind(this.loadProjCodeSuccess,this,a),Proj4js.bind(this.loadProjCodeFailure,this,a),Proj4js.bind(this.checkCodeLoaded,this,a))}},loadProjCodeSuccess:function(a){Proj4js.Proj[a].dependsOn?this.loadProjCode(Proj4js.Proj[a].dependsOn):this.initTransforms()},loadProjCodeFailure:function(a){Proj4js.reportError("failed to find projection file for: "+a)},checkCodeLoaded:function(a){return Proj4js.Proj[a]?!0:!1},initTransforms:function(){if(Proj4js.extend(this,Proj4js.Proj[this.projName]),this.init(),this.readyToUse=!0,this.queue)for(var a;a=this.queue.shift();)a.call(this,this)},wktRE:/^(\w+)\[(.*)\]$/,parseWKT:function(a){if(a=a.match(this.wktRE)){var b,c=a[1],d=a[2].split(",");b="TOWGS84"==c.toUpperCase()?c:d.shift(),b=b.replace(/^\"/,""),b=b.replace(/\"$/,"");for(var a=[],e=0,f="",g=0;g<d.length;++g){for(var h=d[g],i=0;i<h.length;++i)"["==h.charAt(i)&&++e,"]"==h.charAt(i)&&--e;f+=h,0===e?(a.push(f),f=""):f+=","}switch(c){case"LOCAL_CS":this.projName="identity",this.localCS=!0,this.srsCode=b;break;case"GEOGCS":this.projName="longlat",this.geocsCode=b,this.srsCode||(this.srsCode=b);break;case"PROJCS":this.srsCode=b;break;case"PROJECTION":this.projName=Proj4js.wktProjections[b];break;case"DATUM":this.datumName=b;break;case"LOCAL_DATUM":this.datumCode="none";break;case"SPHEROID":this.ellps=b,this.a=parseFloat(a.shift()),this.rf=parseFloat(a.shift());break;case"PRIMEM":this.from_greenwich=parseFloat(a.shift());break;case"UNIT":this.units=b,this.unitsPerMeter=parseFloat(a.shift());break;case"PARAMETER":switch(c=b.toLowerCase(),d=parseFloat(a.shift()),c){case"false_easting":this.x0=d;break;case"false_northing":this.y0=d;break;case"scale_factor":this.k0=d;break;case"central_meridian":this.long0=d*Proj4js.common.D2R;break;case"latitude_of_origin":this.lat0=d*Proj4js.common.D2R}break;case"TOWGS84":this.datum_params=a;break;case"AXIS":switch(c=b.toLowerCase(),d=a.shift()){case"EAST":d="e";break;case"WEST":d="w";break;case"NORTH":d="n";break;case"SOUTH":d="s";break;case"UP":d="u";break;case"DOWN":d="d";break;default:d=" "}switch(this.axis||(this.axis="enu"),c){case"x":this.axis=d+this.axis.substr(1,2);break;case"y":this.axis=this.axis.substr(0,1)+d+this.axis.substr(2,1);break;case"z":this.axis=this.axis.substr(0,2)+d}}for(g=0;g<a.length;++g)this.parseWKT(a[g])}},parseDefs:function(){this.defData=Proj4js.defs[this.srsCode];var a,b;if(this.defData){for(var c=this.defData.split("+"),d=0;d<c.length;d++)switch(b=c[d].split("="),a=b[0].toLowerCase(),b=b[1],a.replace(/\s/gi,"")){case"title":this.title=b;break;case"proj":this.projName=b.replace(/\s/gi,"");break;case"units":this.units=b.replace(/\s/gi,"");break;case"datum":this.datumCode=b.replace(/\s/gi,"");break;case"nadgrids":this.nagrids=b.replace(/\s/gi,"");break;case"ellps":this.ellps=b.replace(/\s/gi,"");break;case"a":this.a=parseFloat(b);break;case"b":this.b=parseFloat(b);break;case"rf":this.rf=parseFloat(b);break;case"lat_0":this.lat0=b*Proj4js.common.D2R;break;case"lat_1":this.lat1=b*Proj4js.common.D2R;break;case"lat_2":this.lat2=b*Proj4js.common.D2R;break;case"lat_ts":this.lat_ts=b*Proj4js.common.D2R;break;case"lon_0":this.long0=b*Proj4js.common.D2R;break;case"alpha":this.alpha=parseFloat(b)*Proj4js.common.D2R;break;case"lonc":this.longc=b*Proj4js.common.D2R;break;case"x_0":this.x0=parseFloat(b);break;case"y_0":this.y0=parseFloat(b);break;case"k_0":this.k0=parseFloat(b);break;case"k":this.k0=parseFloat(b);break;case"r_a":this.R_A=!0;break;case"zone":this.zone=parseInt(b,10);break;case"south":this.utmSouth=!0;break;case"towgs84":this.datum_params=b.split(",");break;case"to_meter":this.to_meter=parseFloat(b);break;case"from_greenwich":this.from_greenwich=b*Proj4js.common.D2R;break;case"pm":b=b.replace(/\s/gi,""),this.from_greenwich=Proj4js.PrimeMeridian[b]?Proj4js.PrimeMeridian[b]:parseFloat(b),this.from_greenwich*=Proj4js.common.D2R;break;case"axis":b=b.replace(/\s/gi,""),3==b.length&&-1!="ewnsud".indexOf(b.substr(0,1))&&-1!="ewnsud".indexOf(b.substr(1,1))&&-1!="ewnsud".indexOf(b.substr(2,1))&&(this.axis=b)}this.deriveConstants()}},deriveConstants:function(){if("@null"==this.nagrids&&(this.datumCode="none"),this.datumCode&&"none"!=this.datumCode){var a=Proj4js.Datum[this.datumCode];a&&(this.datum_params=a.towgs84?a.towgs84.split(","):null,this.ellps=a.ellipse,this.datumName=a.datumName?a.datumName:this.datumCode)}this.a||Proj4js.extend(this,Proj4js.Ellipsoid[this.ellps]?Proj4js.Ellipsoid[this.ellps]:Proj4js.Ellipsoid.WGS84),this.rf&&!this.b&&(this.b=(1-1/this.rf)*this.a),(0===this.rf||Math.abs(this.a-this.b)<Proj4js.common.EPSLN)&&(this.sphere=!0,this.b=this.a),this.a2=this.a*this.a,this.b2=this.b*this.b,this.es=(this.a2-this.b2)/this.a2,this.e=Math.sqrt(this.es),this.R_A&&(this.a*=1-this.es*(Proj4js.common.SIXTH+this.es*(Proj4js.common.RA4+this.es*Proj4js.common.RA6)),this.a2=this.a*this.a,this.b2=this.b*this.b,this.es=0),this.ep2=(this.a2-this.b2)/this.b2,this.k0||(this.k0=1),this.axis||(this.axis="enu"),this.datum=new Proj4js.datum(this)}}),Proj4js.Proj.longlat={init:function(){},forward:function(a){return a},inverse:function(a){return a}},Proj4js.Proj.identity=Proj4js.Proj.longlat,Proj4js.defs={WGS84:"+title=long/lat:WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4326":"+title=long/lat:WGS84 +proj=longlat +a=6378137.0 +b=6356752.31424518 +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4269":"+title=long/lat:NAD83 +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees","EPSG:3875":"+title= Google Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"},Proj4js.defs["EPSG:3785"]=Proj4js.defs["EPSG:3875"],Proj4js.defs.GOOGLE=Proj4js.defs["EPSG:3875"],Proj4js.defs["EPSG:900913"]=Proj4js.defs["EPSG:3875"],Proj4js.defs["EPSG:102113"]=Proj4js.defs["EPSG:3875"],Proj4js.common={PI:3.141592653589793,HALF_PI:1.5707963267948966,TWO_PI:6.283185307179586,FORTPI:.7853981633974483,R2D:57.29577951308232,D2R:.017453292519943295,SEC_TO_RAD:484813681109536e-20,EPSLN:1e-10,MAX_ITER:20,COS_67P5:.3826834323650898,AD_C:1.0026,PJD_UNKNOWN:0,PJD_3PARAM:1,PJD_7PARAM:2,PJD_GRIDSHIFT:3,PJD_WGS84:4,PJD_NODATUM:5,SRS_WGS84_SEMIMAJOR:6378137,SIXTH:.16666666666666666,RA4:.04722222222222222,RA6:.022156084656084655,RV4:.06944444444444445,RV6:.04243827160493827,msfnz:function(a,b,c){return a*=b,c/Math.sqrt(1-a*a)},tsfnz:function(a,b,c){return c*=a,c=Math.pow((1-c)/(1+c),.5*a),Math.tan(.5*(this.HALF_PI-b))/c},phi2z:function(a,b){for(var c,d=.5*a,e=this.HALF_PI-2*Math.atan(b),f=0;15>=f;f++)if(c=a*Math.sin(e),c=this.HALF_PI-2*Math.atan(b*Math.pow((1-c)/(1+c),d))-e,e+=c,1e-10>=Math.abs(c))return e;return alert("phi2z has NoConvergence"),-9999},qsfnz:function(a,b){var c;return a>1e-7?(c=a*b,(1-a*a)*(b/(1-c*c)-.5/a*Math.log((1-c)/(1+c)))):2*b},asinz:function(a){return 1<Math.abs(a)&&(a=a>1?1:-1),Math.asin(a)},e0fn:function(a){return 1-.25*a*(1+a/16*(3+1.25*a))},e1fn:function(a){return.375*a*(1+.25*a*(1+.46875*a))},e2fn:function(a){return.05859375*a*a*(1+.75*a)},e3fn:function(a){return a*a*a*(35/3072)},mlfn:function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)},srat:function(a,b){return Math.pow((1-a)/(1+a),b)},sign:function(a){return 0>a?-1:1},adjust_lon:function(a){return a=Math.abs(a)<this.PI?a:a-this.sign(a)*this.TWO_PI},adjust_lat:function(a){return a=Math.abs(a)<this.HALF_PI?a:a-this.sign(a)*this.PI},latiso:function(a,b,c){return Math.abs(b)>this.HALF_PI?+Number.NaN:b==this.HALF_PI?Number.POSITIVE_INFINITY:b==-1*this.HALF_PI?-1*Number.POSITIVE_INFINITY:(c*=a,Math.log(Math.tan((this.HALF_PI+b)/2))+a*Math.log((1-c)/(1+c))/2)},fL:function(a,b){return 2*Math.atan(a*Math.exp(b))-this.HALF_PI},invlatiso:function(a,b){var c=this.fL(1,b),d=0,e=0;do d=c,e=a*Math.sin(d),c=this.fL(Math.exp(a*Math.log((1+e)/(1-e))/2),b);while(1e-12<Math.abs(c-d));return c},sinh:function(a){return a=Math.exp(a),(a-1/a)/2},cosh:function(a){return a=Math.exp(a),(a+1/a)/2},tanh:function(a){return a=Math.exp(a),(a-1/a)/(a+1/a)},asinh:function(a){return(a>=0?1:-1)*Math.log(Math.abs(a)+Math.sqrt(a*a+1))},acosh:function(a){return 2*Math.log(Math.sqrt((a+1)/2)+Math.sqrt((a-1)/2))},atanh:function(a){return Math.log((a-1)/(a+1))/2},gN:function(a,b,c){return b*=c,a/Math.sqrt(1-b*b)},pj_enfn:function(a){var b=[];b[0]=this.C00-a*(this.C02+a*(this.C04+a*(this.C06+a*this.C08))),b[1]=a*(this.C22-a*(this.C04+a*(this.C06+a*this.C08)));var c=a*a;return b[2]=c*(this.C44-a*(this.C46+a*this.C48)),c*=a,b[3]=c*(this.C66-a*this.C68),b[4]=c*a*this.C88,b},pj_mlfn:function(a,b,c,d){return c*=b,b*=b,d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))},pj_inv_mlfn:function(a,b,c){for(var d=1/(1-b),e=a,f=Proj4js.common.MAX_ITER;f;--f){var g=Math.sin(e),h=1-b*g*g,h=(this.pj_mlfn(e,g,Math.cos(e),c)-a)*h*Math.sqrt(h)*d,e=e-h;if(Math.abs(h)<Proj4js.common.EPSLN)return e}return Proj4js.reportError("cass:pj_inv_mlfn: Convergence error"),e},C00:1,C02:.25,C04:.046875,C06:.01953125,C08:.01068115234375,C22:.75,C44:.46875,C46:.013020833333333334,C48:.007120768229166667,C66:.3645833333333333,C68:.005696614583333333,C88:.3076171875},Proj4js.datum=Proj4js.Class({initialize:function(a){if(this.datum_type=Proj4js.common.PJD_WGS84,a.datumCode&&"none"==a.datumCode&&(this.datum_type=Proj4js.common.PJD_NODATUM),a&&a.datum_params){for(var b=0;b<a.datum_params.length;b++)a.datum_params[b]=parseFloat(a.datum_params[b]);(0!=a.datum_params[0]||0!=a.datum_params[1]||0!=a.datum_params[2])&&(this.datum_type=Proj4js.common.PJD_3PARAM),3<a.datum_params.length&&(0!=a.datum_params[3]||0!=a.datum_params[4]||0!=a.datum_params[5]||0!=a.datum_params[6])&&(this.datum_type=Proj4js.common.PJD_7PARAM,a.datum_params[3]*=Proj4js.common.SEC_TO_RAD,a.datum_params[4]*=Proj4js.common.SEC_TO_RAD,a.datum_params[5]*=Proj4js.common.SEC_TO_RAD,a.datum_params[6]=a.datum_params[6]/1e6+1)}a&&(this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,this.datum_params=a.datum_params)},compare_datums:function(a){return this.datum_type!=a.datum_type||this.a!=a.a||5e-11<Math.abs(this.es-a.es)?!1:this.datum_type==Proj4js.common.PJD_3PARAM?this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2]:this.datum_type==Proj4js.common.PJD_7PARAM?this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2]&&this.datum_params[3]==a.datum_params[3]&&this.datum_params[4]==a.datum_params[4]&&this.datum_params[5]==a.datum_params[5]&&this.datum_params[6]==a.datum_params[6]:this.datum_type==Proj4js.common.PJD_GRIDSHIFT||a.datum_type==Proj4js.common.PJD_GRIDSHIFT?(alert("ERROR: Grid shift transformations are not implemented."),!1):!0},geodetic_to_geocentric:function(a){var b,c,d,e=a.x,f=a.y,g=a.z?a.z:0;if(f<-Proj4js.common.HALF_PI&&f>-1.001*Proj4js.common.HALF_PI)f=-Proj4js.common.HALF_PI;else if(f>Proj4js.common.HALF_PI&&f<1.001*Proj4js.common.HALF_PI)f=Proj4js.common.HALF_PI;else if(f<-Proj4js.common.HALF_PI||f>Proj4js.common.HALF_PI)return Proj4js.reportError("geocent:lat out of range:"+f),null;return e>Proj4js.common.PI&&(e-=2*Proj4js.common.PI),c=Math.sin(f),d=Math.cos(f),b=this.a/Math.sqrt(1-this.es*c*c),f=(b+g)*d*Math.cos(e),e=(b+g)*d*Math.sin(e),g=(b*(1-this.es)+g)*c,a.x=f,a.y=e,a.z=g,0},geocentric_to_geodetic:function(a){var b,c,d,e,f,g,h,i,j,k,l=a.x;d=a.y;var m=a.z?a.z:0;if(b=Math.sqrt(l*l+d*d),c=Math.sqrt(l*l+d*d+m*m),1e-12>b/this.a){if(l=0,1e-12>c/this.a)return}else l=Math.atan2(d,l);d=m/c,e=b/c,f=1/Math.sqrt(1-this.es*(2-this.es)*e*e),h=e*(1-this.es)*f,i=d*f,k=0;do k++,g=this.a/Math.sqrt(1-this.es*i*i),c=b*h+m*i-g*(1-this.es*i*i),g=this.es*g/(g+c),f=1/Math.sqrt(1-g*(2-g)*e*e),g=e*(1-g)*f,f*=d,j=f*h-g*i,h=g,i=f;while(j*j>1e-24&&30>k);return b=Math.atan(f/Math.abs(g)),a.x=l,a.y=b,a.z=c,a},geocentric_to_geodetic_noniter:function(a){var b,c,d,e,f,g=a.x,h=a.y,i=a.z?a.z:0,g=parseFloat(g),h=parseFloat(h),i=parseFloat(i);if(f=!1,0!=g)b=Math.atan2(h,g);else if(h>0)b=Proj4js.common.HALF_PI;else if(0>h)b=-Proj4js.common.HALF_PI;else if(f=!0,b=0,i>0)c=Proj4js.common.HALF_PI;else{if(!(0>i))return;c=-Proj4js.common.HALF_PI}return d=g*g+h*h,g=Math.sqrt(d),h=i*Proj4js.common.AD_C,d=Math.sqrt(h*h+d),h/=d,d=g/d,h=i+this.b*this.ep2*h*h*h,e=g-this.a*this.es*d*d*d,d=Math.sqrt(h*h+e*e),h/=d,d=e/d,e=this.a/Math.sqrt(1-this.es*h*h),i=d>=Proj4js.common.COS_67P5?g/d-e:d<=-Proj4js.common.COS_67P5?g/-d-e:i/h+e*(this.es-1),0==f&&(c=Math.atan(h/d)),a.x=b,a.y=c,a.z=i,a},geocentric_to_wgs84:function(a){if(this.datum_type==Proj4js.common.PJD_3PARAM)a.x+=this.datum_params[0],a.y+=this.datum_params[1],a.z+=this.datum_params[2];else if(this.datum_type==Proj4js.common.PJD_7PARAM){var b=this.datum_params[3],c=this.datum_params[4],d=this.datum_params[5],e=this.datum_params[6],f=e*(d*a.x+a.y-b*a.z)+this.datum_params[1],b=e*(-c*a.x+b*a.y+a.z)+this.datum_params[2];a.x=e*(a.x-d*a.y+c*a.z)+this.datum_params[0],a.y=f,a.z=b}},geocentric_from_wgs84:function(a){if(this.datum_type==Proj4js.common.PJD_3PARAM)a.x-=this.datum_params[0],a.y-=this.datum_params[1],a.z-=this.datum_params[2];else if(this.datum_type==Proj4js.common.PJD_7PARAM){var b=this.datum_params[3],c=this.datum_params[4],d=this.datum_params[5],e=this.datum_params[6],f=(a.x-this.datum_params[0])/e,g=(a.y-this.datum_params[1])/e,e=(a.z-this.datum_params[2])/e;a.x=f+d*g-c*e,a.y=-d*f+g+b*e,a.z=c*f-b*g+e}}}),Proj4js.Point=Proj4js.Class({initialize:function(a,b,c){"object"==typeof a?(this.x=a[0],this.y=a[1],this.z=a[2]||0):"string"==typeof a&&"undefined"==typeof b?(a=a.split(","),this.x=parseFloat(a[0]),this.y=parseFloat(a[1]),this.z=parseFloat(a[2])||0):(this.x=a,this.y=b,this.z=c||0)},clone:function(){return new Proj4js.Point(this.x,this.y,this.z)},toString:function(){return"x="+this.x+",y="+this.y},toShortString:function(){return this.x+", "+this.y}}),Proj4js.PrimeMeridian={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Proj4js.Ellipsoid={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},"APL4.":{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS72:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},Proj4js.Datum={WGS84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},GGRS87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},NAD83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},NAD27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},OSGB36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"}},Proj4js.WGS84=new Proj4js.Proj("WGS84"),Proj4js.Datum.OSB36=Proj4js.Datum.OSGB36,Proj4js.wktProjections={"Lambert Tangential Conformal Conic Projection":"lcc",Mercator:"merc","Popular Visualisation Pseudo Mercator":"merc",Mercator_1SP:"merc",Transverse_Mercator:"tmerc","Transverse Mercator":"tmerc","Lambert Azimuthal Equal Area":"laea","Universal Transverse Mercator System":"utm"},Proj4js.Proj.aea={init:function(){Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN?Proj4js.reportError("aeaInitEqualLatitudes"):(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.con=this.t1=this.sin_po,this.ms1=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(a){var b=a.x,c=a.y;this.sin_phi=Math.sin(c),this.cos_phi=Math.cos(c);var c=Proj4js.common.qsfnz(this.e3,this.sin_phi,this.cos_phi),c=this.a*Math.sqrt(this.c-this.ns0*c)/this.ns0,d=this.ns0*Proj4js.common.adjust_lon(b-this.long0),b=c*Math.sin(d)+this.x0,c=this.rh-c*Math.cos(d)+this.y0;return a.x=b,a.y=c,a},inverse:function(a){var b,c,d;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,0<=this.ns0?(b=Math.sqrt(a.x*a.x+a.y*a.y),c=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),c=-1),d=0,0!=b&&(d=Math.atan2(c*a.x,c*a.y)),c=b*this.ns0/this.a,b=(this.c-c*c)/this.ns0,1e-10<=this.e3?(c=1-.5*(1-this.es)*Math.log((1-this.e3)/(1+this.e3))/this.e3,c=1e-10<Math.abs(Math.abs(c)-Math.abs(b))?this.phi1z(this.e3,b):b>=0?.5*Proj4js.common.PI:-.5*Proj4js.common.PI):c=this.phi1z(this.e3,b),d=Proj4js.common.adjust_lon(d/this.ns0+this.long0),a.x=d,a.y=c,a},phi1z:function(a,b){var c,d,e,f,g=Proj4js.common.asinz(.5*b);if(a<Proj4js.common.EPSLN)return g;for(var h=a*a,i=1;25>=i;i++)if(c=Math.sin(g),d=Math.cos(g),e=a*c,f=1-e*e,c=.5*f*f/d*(b/(1-h)-c/f+.5/a*Math.log((1-e)/(1+e))),g+=c,1e-7>=Math.abs(c))return g;return Proj4js.reportError("aea:phi1z:Convergence error"),null}},Proj4js.Proj.sterea={dependsOn:"gauss",init:function(){Proj4js.Proj.gauss.init.apply(this),this.rc?(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative")):Proj4js.reportError("sterea:init:E_ERROR_0")},forward:function(a){var b,c,d,e;return a.x=Proj4js.common.adjust_lon(a.x-this.long0),Proj4js.Proj.gauss.forward.apply(this,[a]),b=Math.sin(a.y),c=Math.cos(a.y),d=Math.cos(a.x),e=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*d),a.x=e*c*Math.sin(a.x),a.y=e*(this.cosc0*b-this.sinc0*c*d),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},inverse:function(a){var b,c,d,e;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(e=Math.sqrt(a.x*a.x+a.y*a.y))?(d=2*Math.atan2(e,this.R2),b=Math.sin(d),c=Math.cos(d),d=Math.asin(c*this.sinc0+a.y*b*this.cosc0/e),b=Math.atan2(a.x*b,e*this.cosc0*c-a.y*this.sinc0*b)):(d=this.phic0,b=0),a.x=b,a.y=d,Proj4js.Proj.gauss.inverse.apply(this,[a]),a.x=Proj4js.common.adjust_lon(a.x+this.long0),a}},Proj4js.Proj.poly={init:function(){0==this.lat0&&(this.lat0=90),this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Proj4js.common.e0fn(this.es),this.e1=Proj4js.common.e1fn(this.es),this.e2=Proj4js.common.e2fn(this.es),this.e3=Proj4js.common.e3fn(this.es),this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(a){var b,c,d,e,f;return d=a.y,c=Proj4js.common.adjust_lon(a.x-this.long0),1e-7>=Math.abs(d)?(f=this.x0+this.a*c,b=this.y0-this.a*this.ml0):(b=Math.sin(d),c=Math.cos(d),d=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,d),e=Proj4js.common.msfnz(this.e,b,c),c=b,f=this.x0+this.a*e*Math.sin(c)/b,b=this.y0+this.a*(d-this.ml0+e*(1-Math.cos(c))/b)),a.x=f,a.y=b,a},inverse:function(a){var b,c;if(a.x-=this.x0,a.y-=this.y0,b=this.ml0+a.y/this.a,1e-7>=Math.abs(b))b=a.x/this.a+this.long0,c=0;else{if(b=b*b+a.x/this.a*(a.x/this.a),b=phi4z(this.es,this.e0,this.e1,this.e2,this.e3,this.al,b,void 0,c),1!=b)return b;b=Proj4js.common.adjust_lon(Proj4js.common.asinz(0/0*a.x/this.a)/Math.sin(c)+this.long0)}return a.x=b,a.y=c,a}},Proj4js.Proj.equi={init:function(){this.x0||(this.x0=0),this.y0||(this.y0=0),this.lat0||(this.lat0=0),this.long0||(this.long0=0)},forward:function(a){var b=a.y,c=this.x0+this.a*Proj4js.common.adjust_lon(a.x-this.long0)*Math.cos(this.lat0),b=this.y0+this.a*b;return this.t1=c,this.t2=Math.cos(this.lat0),a.x=c,a.y=b,a},inverse:function(a){a.x-=this.x0,a.y-=this.y0;var b=a.y/this.a;Math.abs(b)>Proj4js.common.HALF_PI&&Proj4js.reportError("equi:Inv:DataError");var c=Proj4js.common.adjust_lon(this.long0+a.x/(this.a*Math.cos(this.lat0)));a.x=c,a.y=b}},Proj4js.Proj.merc={init:function(){this.lat_ts&&(this.k0=this.sphere?Math.cos(this.lat_ts):Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(a){var b=a.x,c=a.y;if(90<c*Proj4js.common.R2D&&-90>c*Proj4js.common.R2D&&180<b*Proj4js.common.R2D&&-180>b*Proj4js.common.R2D)return Proj4js.reportError("merc:forward: llInputOutOfRange: "+b+" : "+c),null;if(Math.abs(Math.abs(c)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)return Proj4js.reportError("merc:forward: ll2mAtPoles"),null;if(this.sphere)b=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(b-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+.5*c));else var d=Math.sin(c),c=Proj4js.common.tsfnz(this.e,c,d),b=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(b-this.long0),c=this.y0-this.a*this.k0*Math.log(c);return a.x=b,a.y=c,a},inverse:function(a){var b=a.x-this.x0,c=a.y-this.y0;if(this.sphere)c=Proj4js.common.HALF_PI-2*Math.atan(Math.exp(-c/this.a*this.k0));else if(c=Math.exp(-c/(this.a*this.k0)),c=Proj4js.common.phi2z(this.e,c),-9999==c)return Proj4js.reportError("merc:inverse: lat = -9999"),null;return b=Proj4js.common.adjust_lon(this.long0+b/(this.a*this.k0)),a.x=b,a.y=c,a}},Proj4js.Proj.utm={dependsOn:"tmerc",init:function(){this.zone?(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*Proj4js.common.D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Proj4js.Proj.tmerc.init.apply(this),this.forward=Proj4js.Proj.tmerc.forward,this.inverse=Proj4js.Proj.tmerc.inverse):Proj4js.reportError("utm:init: zone must be specified for UTM")}},Proj4js.Proj.eqdc={init:function(){this.mode||(this.mode=0),this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Proj4js.common.e0fn(this.es),this.e1=Proj4js.common.e1fn(this.es),this.e2=Proj4js.common.e2fn(this.es),this.e3=Proj4js.common.e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi),this.ml1=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),0!=this.mode?(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN&&Proj4js.reportError("eqdc:Init:EqualLatitudes"),this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi),this.ml2=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=Math.abs(this.lat1-this.lat2)>=Proj4js.common.EPSLN?(this.ms1-this.ms2)/(this.ml2-this.ml1):this.sinphi):this.ns=this.sinphi,this.g=this.ml1+this.ms1/this.ns,this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0)},forward:function(a){var b=a.x,c=this.a*(this.g-Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,a.y)),d=this.ns*Proj4js.common.adjust_lon(b-this.long0),b=this.x0+c*Math.sin(d),c=this.y0+this.rh-c*Math.cos(d);return a.x=b,a.y=c,a},inverse:function(a){a.x-=this.x0,a.y=this.rh-a.y+this.y0;var b,c;0<=this.ns?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1);var d=0;return 0!=c&&(d=Math.atan2(b*a.x,b*a.y)),b=this.phi3z(this.g-c/this.a,this.e0,this.e1,this.e2,this.e3),d=Proj4js.common.adjust_lon(this.long0+d/this.ns),a.x=d,a.y=b,a},phi3z:function(a,b,c,d,e){var f,g;f=a;for(var h=0;15>h;h++)if(g=(a+c*Math.sin(2*f)-d*Math.sin(4*f)+e*Math.sin(6*f))/b-f,f+=g,1e-10>=Math.abs(g))return f;return Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations"),null}},Proj4js.Proj.tmerc={init:function(){this.e0=Proj4js.common.e0fn(this.es),this.e1=Proj4js.common.e1fn(this.es),this.e2=Proj4js.common.e2fn(this.es),this.e3=Proj4js.common.e3fn(this.es),this.ml0=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)
},forward:function(a){var b,c,d=a.y,e=Proj4js.common.adjust_lon(a.x-this.long0);b=Math.sin(d);var f=Math.cos(d);if(this.sphere){var g=f*Math.sin(e);if(1e-10>Math.abs(Math.abs(g)-1))return Proj4js.reportError("tmerc:forward: Point projects into infinity"),93;c=.5*this.a*this.k0*Math.log((1+g)/(1-g)),b=Math.acos(f*Math.cos(e)/Math.sqrt(1-g*g)),0>d&&(b=-b),d=this.a*this.k0*(b-this.lat0)}else{c=f*e;var e=Math.pow(c,2),f=this.ep2*Math.pow(f,2),g=Math.tan(d),h=Math.pow(g,2);b=1-this.es*Math.pow(b,2),b=this.a/Math.sqrt(b),d=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,d),c=this.k0*b*c*(1+e/6*(1-h+f+e/20*(5-18*h+Math.pow(h,2)+72*f-58*this.ep2)))+this.x0,d=this.k0*(d-this.ml0+b*g*e*(.5+e/24*(5-h+9*f+4*Math.pow(f,2)+e/30*(61-58*h+Math.pow(h,2)+600*f-330*this.ep2))))+this.y0}return a.x=c,a.y=d,a},inverse:function(a){var b,c,d,e;if(this.sphere){c=Math.exp(a.x/(this.a*this.k0));var f=.5*(c-1/c);d=this.lat0+a.y/(this.a*this.k0),e=Math.cos(d),b=Math.sqrt((1-e*e)/(1+f*f)),c=Proj4js.common.asinz(b),0>d&&(c=-c),b=0==f&&0==e?this.long0:Proj4js.common.adjust_lon(Math.atan2(f,e)+this.long0)}else{var f=a.x-this.x0,g=a.y-this.y0;for(c=b=(this.ml0+g/this.k0)/this.a,e=0;d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,c+=d,!(Math.abs(d)<=Proj4js.common.EPSLN);e++)if(e>=6)return Proj4js.reportError("tmerc:inverse: Latitude failed to converge"),95;if(Math.abs(c)<Proj4js.common.HALF_PI){b=Math.sin(c),d=Math.cos(c);var h=Math.tan(c);e=this.ep2*Math.pow(d,2);var g=Math.pow(e,2),i=Math.pow(h,2),j=Math.pow(i,2);b=1-this.es*Math.pow(b,2);var k=this.a/Math.sqrt(b);b=k*(1-this.es)/b;var f=f/(k*this.k0),l=Math.pow(f,2);c-=k*h*l/b*(.5-l/24*(5+3*i+10*e-4*g-9*this.ep2-l/30*(61+90*i+298*e+45*j-252*this.ep2-3*g))),b=Proj4js.common.adjust_lon(this.long0+f*(1-l/6*(1+2*i+e-l/20*(5-2*e+28*i-3*g+8*this.ep2+24*j)))/d)}else c=Proj4js.common.HALF_PI*Proj4js.common.sign(g),b=this.long0}return a.x=b,a.y=c,a}},Proj4js.defs.GOOGLE="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs",Proj4js.defs["EPSG:900913"]=Proj4js.defs.GOOGLE,Proj4js.Proj.gstmerc={init:function(){var a=this.b/this.a;this.e=Math.sqrt(1-a*a),this.lc=this.long0,this.rs=Math.sqrt(1+this.e*this.e*Math.pow(Math.cos(this.lat0),4)/(1-this.e*this.e));var a=Math.sin(this.lat0),b=Math.asin(a/this.rs),c=Math.sin(b);this.cp=Proj4js.common.latiso(0,b,c)-this.rs*Proj4js.common.latiso(this.e,this.lat0,a),this.n2=this.k0*this.a*Math.sqrt(1-this.e*this.e)/(1-this.e*this.e*a*a),this.xs=this.x0,this.ys=this.y0-this.n2*b,this.title||(this.title="Gauss Schreiber transverse mercator")},forward:function(a){var b=a.y,c=this.rs*(a.x-this.lc),b=this.cp+this.rs*Proj4js.common.latiso(this.e,b,Math.sin(b)),d=Math.asin(Math.sin(c)/Proj4js.common.cosh(b)),d=Proj4js.common.latiso(0,d,Math.sin(d));return a.x=this.xs+this.n2*d,a.y=this.ys+this.n2*Math.atan(Proj4js.common.sinh(b)/Math.cos(c)),a},inverse:function(a){var b=a.x,c=a.y,d=Math.atan(Proj4js.common.sinh((b-this.xs)/this.n2)/Math.cos((c-this.ys)/this.n2)),b=Math.asin(Math.sin((c-this.ys)/this.n2)/Proj4js.common.cosh((b-this.xs)/this.n2)),b=Proj4js.common.latiso(0,b,Math.sin(b));return a.x=this.lc+d/this.rs,a.y=Proj4js.common.invlatiso(this.e,(b-this.cp)/this.rs),a}},Proj4js.Proj.ortho={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(a){var b,c,d,e,f;if(c=a.y,d=Proj4js.common.adjust_lon(a.x-this.long0),b=Math.sin(c),c=Math.cos(c),e=Math.cos(d),f=this.sin_p14*b+this.cos_p14*c*e,f>0||Math.abs(f)<=Proj4js.common.EPSLN)var g=1*this.a*c*Math.sin(d),h=this.y0+1*this.a*(this.cos_p14*b-this.sin_p14*c*e);else Proj4js.reportError("orthoFwdPointError");return a.x=g,a.y=h,a},inverse:function(a){var b,c,d,e;return a.x-=this.x0,a.y-=this.y0,b=Math.sqrt(a.x*a.x+a.y*a.y),b>this.a+1e-7&&Proj4js.reportError("orthoInvDataError"),c=Proj4js.common.asinz(b/this.a),d=Math.sin(c),e=Math.cos(c),c=this.long0,Math.abs(b),d=Proj4js.common.asinz(e*this.sin_p14+a.y*d*this.cos_p14/b),b=Math.abs(this.lat0)-Proj4js.common.HALF_PI,Math.abs(b)<=Proj4js.common.EPSLN&&(c=Proj4js.common.adjust_lon(0<=this.lat0?this.long0+Math.atan2(a.x,-a.y):this.long0-Math.atan2(-a.x,a.y))),Math.sin(d),a.x=c,a.y=d,a}},Proj4js.Proj.krovak={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(a){var b,c,d;return c=a.y,d=Proj4js.common.adjust_lon(a.x-this.long0),b=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),b=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/b)-this.s45),c=-d*this.alfa,d=Math.asin(Math.cos(this.ad)*Math.sin(b)+Math.sin(this.ad)*Math.cos(b)*Math.cos(c)),b=this.n*Math.asin(Math.cos(b)*Math.sin(c)/Math.cos(d)),d=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(d/2+this.s45),this.n),a.y=d*Math.cos(b)/1,a.x=d*Math.sin(b)/1,this.czech&&(a.y*=-1,a.x*=-1),a},inverse:function(a){var b,c,d;b=a.x,a.x=a.y,a.y=b,this.czech&&(a.y*=-1,a.x*=-1),b=Math.sqrt(a.x*a.x+a.y*a.y),c=Math.atan2(a.y,a.x)/Math.sin(this.s0),d=2*(Math.atan(Math.pow(this.ro0/b,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),b=Math.asin(Math.cos(this.ad)*Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(c)),c=Math.asin(Math.cos(d)*Math.sin(c)/Math.cos(b)),a.x=this.long0-c/this.alfa,c=b;var e=d=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.e/2))-this.s45),1e-10>Math.abs(c-a.y)&&(d=1),c=a.y,e+=1;while(0==d&&15>e);return e>=15?(Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations"),null):a}},Proj4js.Proj.somerc={init:function(){var a=this.lat0;this.lambda0=this.long0;var b=Math.sin(a),c=this.a,d=1/this.rf,d=2*d-Math.pow(d,2),e=this.e=Math.sqrt(d);this.R=this.k0*c*Math.sqrt(1-d)/(1-d*Math.pow(b,2)),this.alpha=Math.sqrt(1+d/(1-d)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(b/this.alpha),this.K=Math.log(Math.tan(Math.PI/4+this.b0/2))-this.alpha*Math.log(Math.tan(Math.PI/4+a/2))+this.alpha*e/2*Math.log((1+e*b)/(1-e*b))},forward:function(a){var b=Math.log(Math.tan(Math.PI/4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),c=2*(Math.atan(Math.exp(-this.alpha*(b+c)+this.K))-Math.PI/4),d=this.alpha*(a.x-this.lambda0),b=Math.atan(Math.sin(d)/(Math.sin(this.b0)*Math.tan(c)+Math.cos(this.b0)*Math.cos(d))),c=Math.asin(Math.cos(this.b0)*Math.sin(c)-Math.sin(this.b0)*Math.cos(c)*Math.cos(d));return a.y=this.R/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))+this.y0,a.x=this.R*b+this.x0,a},inverse:function(a){for(var b=(a.x-this.x0)/this.R,c=2*(Math.atan(Math.exp((a.y-this.y0)/this.R))-Math.PI/4),d=Math.asin(Math.cos(this.b0)*Math.sin(c)+Math.sin(this.b0)*Math.cos(c)*Math.cos(b)),b=this.lambda0+Math.atan(Math.sin(b)/(Math.cos(this.b0)*Math.cos(b)-Math.sin(this.b0)*Math.tan(c)))/this.alpha,c=0,e=d,f=-1e3,g=0;1e-7<Math.abs(e-f);){if(20<++g)return void Proj4js.reportError("omercFwdInfinity");c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+d/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(e))/2)),f=e,e=2*Math.atan(Math.exp(c))-Math.PI/2}return a.x=b,a.y=e,a}},Proj4js.Proj.stere={ssfn_:function(a,b,c){return b*=c,Math.tan(.5*(Proj4js.common.HALF_PI+a))*Math.pow((1-b)/(1+b),.5*c)},TOL:1e-8,NITER:8,CONV:1e-10,S_POLE:0,N_POLE:1,OBLIQ:2,EQUIT:3,init:function(){this.phits=this.lat_ts?this.lat_ts:Proj4js.common.HALF_PI;var a=Math.abs(this.lat0);if(this.mode=Math.abs(a)-Proj4js.common.HALF_PI<Proj4js.common.EPSLN?0>this.lat0?this.S_POLE:this.N_POLE:a>Proj4js.common.EPSLN?this.OBLIQ:this.EQUIT,this.phits=Math.abs(this.phits),this.es){var b;switch(this.mode){case this.N_POLE:case this.S_POLE:Math.abs(this.phits-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN?this.akm1=2*this.k0/Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)):(a=Math.sin(this.phits),this.akm1=Math.cos(this.phits)/Proj4js.common.tsfnz(this.e,this.phits,a),a*=this.e,this.akm1/=Math.sqrt(1-a*a));break;case this.EQUIT:this.akm1=2*this.k0;break;case this.OBLIQ:a=Math.sin(this.lat0),b=2*Math.atan(this.ssfn_(this.lat0,a,this.e))-Proj4js.common.HALF_PI,a*=this.e,this.akm1=2*this.k0*Math.cos(this.lat0)/Math.sqrt(1-a*a),this.sinX1=Math.sin(b),this.cosX1=Math.cos(b)}}else switch(this.mode){case this.OBLIQ:this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0);case this.EQUIT:this.akm1=2*this.k0;break;case this.S_POLE:case this.N_POLE:this.akm1=Math.abs(this.phits-Proj4js.common.HALF_PI)>=Proj4js.common.EPSLN?Math.cos(this.phits)/Math.tan(Proj4js.common.FORTPI-.5*this.phits):2*this.k0}},forward:function(a){var b,c,d=a.x,d=Proj4js.common.adjust_lon(d-this.long0),e=a.y;if(this.sphere){var f,g,h;switch(f=Math.sin(e),g=Math.cos(e),h=Math.cos(d),d=Math.sin(d),this.mode){case this.EQUIT:c=1+g*h,c<=Proj4js.common.EPSLN&&Proj4js.reportError("stere:forward:Equit"),c=this.akm1/c,b=c*g*d,c*=f;break;case this.OBLIQ:c=1+this.sinph0*f+this.cosph0*g*h,c<=Proj4js.common.EPSLN&&Proj4js.reportError("stere:forward:Obliq"),c=this.akm1/c,b=c*g*d,c*=this.cosph0*f-this.sinph0*g*h;break;case this.N_POLE:h=-h,e=-e;case this.S_POLE:Math.abs(e-Proj4js.common.HALF_PI)<this.TOL&&Proj4js.reportError("stere:forward:S_POLE"),c=this.akm1*Math.tan(Proj4js.common.FORTPI+.5*e),b=d*c,c*=h}}else{h=Math.cos(d),d=Math.sin(d),f=Math.sin(e);var i;switch((this.mode==this.OBLIQ||this.mode==this.EQUIT)&&(i=2*Math.atan(this.ssfn_(e,f,this.e)),g=Math.sin(i-Proj4js.common.HALF_PI),i=Math.cos(i)),this.mode){case this.OBLIQ:e=this.akm1/(this.cosX1*(1+this.sinX1*g+this.cosX1*i*h)),c=e*(this.cosX1*g-this.sinX1*i*h),b=e*i;break;case this.EQUIT:e=2*this.akm1/(1+i*h),c=e*g,b=e*i;break;case this.S_POLE:e=-e,h=-h,f=-f;case this.N_POLE:b=this.akm1*Proj4js.common.tsfnz(this.e,e,f),c=-b*h}b*=d}return a.x=b*this.a+this.x0,a.y=c*this.a+this.y0,a},inverse:function(a){var b,c,d,e,f=(a.x-this.x0)/this.a,g=(a.y-this.y0)/this.a,h=b=0,i=d=0;if(this.sphere){switch(h=Math.sqrt(f*f+g*g),i=2*Math.atan(h/this.akm1),d=Math.sin(i),i=Math.cos(i),b=0,this.mode){case this.EQUIT:c=Math.abs(h)<=Proj4js.common.EPSLN?0:Math.asin(g*d/h),(0!=i||0!=f)&&(b=Math.atan2(f*d,i*h));break;case this.OBLIQ:c=Math.abs(h)<=Proj4js.common.EPSLN?this.phi0:Math.asin(i*this.sinph0+g*d*this.cosph0/h),i-=this.sinph0*Math.sin(c),(0!=i||0!=f)&&(b=Math.atan2(f*d*this.cosph0,i*h));break;case this.N_POLE:g=-g;case this.S_POLE:c=Math.abs(h)<=Proj4js.common.EPSLN?this.phi0:Math.asin(this.mode==this.S_POLE?-i:i),b=0==f&&0==g?0:Math.atan2(f,g)}a.x=Proj4js.common.adjust_lon(b+this.long0),a.y=c}else{switch(e=Math.sqrt(f*f+g*g),this.mode){case this.OBLIQ:case this.EQUIT:b=2*Math.atan2(e*this.cosX1,this.akm1),d=Math.cos(b),c=Math.sin(b),h=Math.asin(0==e?d*this.sinX1:d*this.sinX1+g*c*this.cosX1/e),b=Math.tan(.5*(Proj4js.common.HALF_PI+h)),f*=c,g=e*this.cosX1*d-g*this.sinX1*c,i=Proj4js.common.HALF_PI,d=.5*this.e;break;case this.N_POLE:g=-g;case this.S_POLE:b=-e/this.akm1,h=Proj4js.common.HALF_PI-2*Math.atan(b),i=-Proj4js.common.HALF_PI,d=-.5*this.e}for(e=this.NITER;e--;h=c)if(c=this.e*Math.sin(h),c=2*Math.atan(b*Math.pow((1+c)/(1-c),d))-i,Math.abs(h-c)<this.CONV)return this.mode==this.S_POLE&&(c=-c),b=0==f&&0==g?0:Math.atan2(f,g),a.x=Proj4js.common.adjust_lon(b+this.long0),a.y=c,a}}},Proj4js.Proj.nzmg={iterations:1,init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(a){for(var b=1e-5*((a.y-this.lat0)/Proj4js.common.SEC_TO_RAD),c=a.x-this.long0,d=1,e=0,f=1;10>=f;f++)d*=b,e+=this.A[f]*d;for(var b=e,d=1,g=0,h=0,i=0,f=1;6>=f;f++)e=d*b-g*c,g=g*b+d*c,d=e,h=h+this.B_re[f]*d-this.B_im[f]*g,i=i+this.B_im[f]*d+this.B_re[f]*g;return a.x=i*this.a+this.x0,a.y=h*this.a+this.y0,a},inverse:function(a){for(var b,c=(a.y-this.y0)/this.a,d=(a.x-this.x0)/this.a,e=1,f=0,g=0,h=0,i=1;6>=i;i++)b=e*c-f*d,f=f*c+e*d,e=b,g=g+this.C_re[i]*e-this.C_im[i]*f,h=h+this.C_im[i]*e+this.C_re[i]*f;for(e=0;e<this.iterations;e++){var j,k=g,l=h;for(b=c,f=d,i=2;6>=i;i++)j=k*g-l*h,l=l*g+k*h,k=j,b+=(i-1)*(this.B_re[i]*k-this.B_im[i]*l),f+=(i-1)*(this.B_im[i]*k+this.B_re[i]*l);for(var k=1,l=0,m=this.B_re[1],n=this.B_im[1],i=2;6>=i;i++)j=k*g-l*h,l=l*g+k*h,k=j,m+=i*(this.B_re[i]*k-this.B_im[i]*l),n+=i*(this.B_im[i]*k+this.B_re[i]*l);h=m*m+n*n,g=(b*m+f*n)/h,h=(f*m-b*n)/h}for(c=g,d=1,g=0,i=1;9>=i;i++)d*=c,g+=this.D[i]*d;return i=this.lat0+1e5*g*Proj4js.common.SEC_TO_RAD,a.x=this.long0+h,a.y=i,a}},Proj4js.Proj.mill={init:function(){},forward:function(a){var b=a.y,c=this.x0+this.a*Proj4js.common.adjust_lon(a.x-this.long0),b=this.y0+1.25*this.a*Math.log(Math.tan(Proj4js.common.PI/4+b/2.5));return a.x=c,a.y=b,a},inverse:function(a){a.x-=this.x0,a.y-=this.y0;var b=Proj4js.common.adjust_lon(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Proj4js.common.PI/4);return a.x=b,a.y=c,a}},Proj4js.Proj.gnom={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(a){var b,c,d,e,f;return c=a.y,d=Proj4js.common.adjust_lon(a.x-this.long0),b=Math.sin(c),c=Math.cos(c),e=Math.cos(d),f=this.sin_p14*b+this.cos_p14*c*e,f>0||Math.abs(f)<=Proj4js.common.EPSLN?(d=this.x0+1*this.a*c*Math.sin(d)/f,b=this.y0+1*this.a*(this.cos_p14*b-this.sin_p14*c*e)/f):(Proj4js.reportError("orthoFwdPointError"),d=this.x0+this.infinity_dist*c*Math.sin(d),b=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*e)),a.x=d,a.y=b,a},inverse:function(a){var b,c,d,e;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(b=Math.sqrt(a.x*a.x+a.y*a.y))?(e=Math.atan2(b,this.rc),c=Math.sin(e),d=Math.cos(e),e=Proj4js.common.asinz(d*this.sin_p14+a.y*c*this.cos_p14/b),b=Math.atan2(a.x*c,b*this.cos_p14*d-a.y*this.sin_p14*c),b=Proj4js.common.adjust_lon(this.long0+b)):(e=this.phic0,b=0),a.x=b,a.y=e,a}},Proj4js.Proj.sinu={init:function(){this.sphere?(this.n=1,this.es=this.m=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Proj4js.common.pj_enfn(this.es)},forward:function(a){var b,c;if(b=a.x,c=a.y,b=Proj4js.common.adjust_lon(b-this.long0),this.sphere){if(this.m)for(var d=this.n*Math.sin(c),e=Proj4js.common.MAX_ITER;e;--e){var f=(this.m*c+Math.sin(c)-d)/(this.m+Math.cos(c));if(c-=f,Math.abs(f)<Proj4js.common.EPSLN)break}else c=1!=this.n?Math.asin(this.n*Math.sin(c)):c;b=this.a*this.C_x*b*(this.m+Math.cos(c)),c*=this.a*this.C_y}else d=Math.sin(c),e=Math.cos(c),c=this.a*Proj4js.common.pj_mlfn(c,d,e,this.en),b=this.a*b*e/Math.sqrt(1-this.es*d*d);return a.x=b,a.y=c,a},inverse:function(a){var b,c;if(a.x-=this.x0,a.y-=this.y0,this.sphere)a.y/=this.C_y,b=this.m?Math.asin((this.m*a.y+Math.sin(a.y))/this.n):1!=this.n?Math.asin(Math.sin(a.y)/this.n):a.y,c=a.x/(this.C_x*(this.m+Math.cos(a.y)));else{b=Proj4js.common.pj_inv_mlfn(a.y/this.a,this.es,this.en);var d=Math.abs(b);d<Proj4js.common.HALF_PI?(d=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*d*d)/(this.a*Math.cos(b)),c=Proj4js.common.adjust_lon(c)):d-Proj4js.common.EPSLN<Proj4js.common.HALF_PI&&(c=this.long0)}return a.x=c,a.y=b,a}},Proj4js.Proj.vandg={init:function(){this.R=6370997},forward:function(a){var b=a.y,c=Proj4js.common.adjust_lon(a.x-this.long0);Math.abs(b);var d=Proj4js.common.asinz(2*Math.abs(b/Proj4js.common.PI));(Math.abs(c)<=Proj4js.common.EPSLN||Math.abs(Math.abs(b)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)&&Math.tan(.5*d);var e=.5*Math.abs(Proj4js.common.PI/c-c/Proj4js.common.PI),f=e*e,g=Math.sin(d),d=Math.cos(d),d=d/(g+d-1),g=d*(2/g-1),g=g*g,f=Proj4js.common.PI*this.R*(e*(d-g)+Math.sqrt(f*(d-g)*(d-g)-(g+f)*(d*d-g)))/(g+f);return 0>c&&(f=-f),c=this.x0+f,f=Math.abs(f/(Proj4js.common.PI*this.R)),b=b>=0?this.y0+Proj4js.common.PI*this.R*Math.sqrt(1-f*f-2*e*f):this.y0-Proj4js.common.PI*this.R*Math.sqrt(1-f*f-2*e*f),a.x=c,a.y=b,a},inverse:function(a){var b,c,d,e,f,g,h,i;return a.x-=this.x0,a.y-=this.y0,i=Proj4js.common.PI*this.R,b=a.x/i,d=a.y/i,e=b*b+d*d,f=-Math.abs(d)*(1+e),c=f-2*d*d+b*b,g=-2*f+1+2*d*d+e*e,i=d*d/g+(2*c*c*c/g/g/g-9*f*c/g/g)/27,h=(f-c*c/3/g)/g,f=2*Math.sqrt(-h/3),i=3*i/h/f,1<Math.abs(i)&&(i=i>=0?1:-1),i=Math.acos(i)/3,c=0<=a.y?(-f*Math.cos(i+Proj4js.common.PI/3)-c/3/g)*Proj4js.common.PI:-(-f*Math.cos(i+Proj4js.common.PI/3)-c/3/g)*Proj4js.common.PI,Math.abs(b),b=Proj4js.common.adjust_lon(this.long0+Proj4js.common.PI*(e-1+Math.sqrt(1+2*(b*b-d*d)+e*e))/2/b),a.x=b,a.y=c,a}},Proj4js.Proj.cea={init:function(){},forward:function(a){var b=a.y,c=this.x0+this.a*Proj4js.common.adjust_lon(a.x-this.long0)*Math.cos(this.lat_ts),b=this.y0+this.a*Math.sin(b)/Math.cos(this.lat_ts);return a.x=c,a.y=b,a},inverse:function(a){a.x-=this.x0,a.y-=this.y0;var b=Proj4js.common.adjust_lon(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts));return a.x=b,a.y=c,a}},Proj4js.Proj.eqc={init:function(){this.x0||(this.x0=0),this.y0||(this.y0=0),this.lat0||(this.lat0=0),this.long0||(this.long0=0),this.lat_ts||(this.lat_ts=0),this.title||(this.title="Equidistant Cylindrical (Plate Carre)"),this.rc=Math.cos(this.lat_ts)},forward:function(a){var b=a.y,c=Proj4js.common.adjust_lon(a.x-this.long0),b=Proj4js.common.adjust_lat(b-this.lat0);return a.x=this.x0+this.a*c*this.rc,a.y=this.y0+this.a*b,a},inverse:function(a){var b=a.y;return a.x=Proj4js.common.adjust_lon(this.long0+(a.x-this.x0)/(this.a*this.rc)),a.y=Proj4js.common.adjust_lat(this.lat0+(b-this.y0)/this.a),a}},Proj4js.Proj.cass={init:function(){this.sphere||(this.en=Proj4js.common.pj_enfn(this.es),this.m0=Proj4js.common.pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},C1:.16666666666666666,C2:.008333333333333333,C3:.041666666666666664,C4:.3333333333333333,C5:.06666666666666667,forward:function(a){var b,c,d=a.x,e=a.y,d=Proj4js.common.adjust_lon(d-this.long0);return this.sphere?(b=Math.asin(Math.cos(e)*Math.sin(d)),c=Math.atan2(Math.tan(e),Math.cos(d))-this.phi0):(this.n=Math.sin(e),this.c=Math.cos(e),c=Proj4js.common.pj_mlfn(e,this.n,this.c,this.en),this.n=1/Math.sqrt(1-this.es*this.n*this.n),this.tn=Math.tan(e),this.t=this.tn*this.tn,this.a1=d*this.c,this.c*=this.es*this.c/(1-this.es),this.a2=this.a1*this.a1,b=this.n*this.a1*(1-this.a2*this.t*(this.C1-(8-this.t+8*this.c)*this.a2*this.C2)),c-=this.m0-this.n*this.tn*this.a2*(.5+(5-this.t+6*this.c)*this.a2*this.C3)),a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},inverse:function(a){a.x-=this.x0,a.y-=this.y0;var b=a.x/this.a,c=a.y/this.a;if(this.sphere)this.dd=c+this.lat0,c=Math.asin(Math.sin(this.dd)*Math.cos(b)),b=Math.atan2(Math.tan(b),Math.cos(this.dd));else{var d=Proj4js.common.pj_inv_mlfn(this.m0+c,this.es,this.en);this.tn=Math.tan(d),this.t=this.tn*this.tn,this.n=Math.sin(d),this.r=1/(1-this.es*this.n*this.n),this.n=Math.sqrt(this.r),this.r*=(1-this.es)*this.n,this.dd=b/this.n,this.d2=this.dd*this.dd,c=d-this.n*this.tn/this.r*this.d2*(.5-(1+3*this.t)*this.d2*this.C3),b=this.dd*(1+this.t*this.d2*(-this.C4+(1+3*this.t)*this.d2*this.C5))/Math.cos(d)}return a.x=Proj4js.common.adjust_lon(this.long0+b),a.y=c,a}},Proj4js.Proj.gauss={init:function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0),b=b*b;this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*b*b/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Proj4js.common.FORTPI)/(Math.pow(Math.tan(.5*this.lat0+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*a,this.ratexp))},forward:function(a){var b=a.x,c=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*Math.sin(c),this.ratexp))-Proj4js.common.HALF_PI,a.x=this.C*b,a},inverse:function(a){for(var b=a.x/this.C,c=a.y,d=Math.pow(Math.tan(.5*c+Proj4js.common.FORTPI)/this.K,1/this.C),e=Proj4js.common.MAX_ITER;e>0&&(c=2*Math.atan(d*Proj4js.common.srat(this.e*Math.sin(a.y),-.5*this.e))-Proj4js.common.HALF_PI,!(1e-14>Math.abs(c-a.y)));--e)a.y=c;return e?(a.x=b,a.y=c,a):(Proj4js.reportError("gauss:inverse:convergence failed"),null)}},Proj4js.Proj.omerc={init:function(){this.mode||(this.mode=0),this.lon1||(this.lon1=0,this.mode=1),this.lon2||(this.lon2=0),this.lat2||(this.lat2=0);var a=1-Math.pow(this.b/this.a,2);Math.sqrt(a),this.sin_p20=Math.sin(this.lat0),this.cos_p20=Math.cos(this.lat0),this.con=1-this.es*this.sin_p20*this.sin_p20,this.com=Math.sqrt(1-a),this.bl=Math.sqrt(1+this.es*Math.pow(this.cos_p20,4)/(1-a)),this.al=this.a*this.bl*this.k0*this.com/this.con,Math.abs(this.lat0)<Proj4js.common.EPSLN?this.el=this.d=this.ts=1:(this.ts=Proj4js.common.tsfnz(this.e,this.lat0,this.sin_p20),this.con=Math.sqrt(this.con),this.d=this.bl*this.com/(this.cos_p20*this.con),this.f=0<this.d*this.d-1?0<=this.lat0?this.d+Math.sqrt(this.d*this.d-1):this.d-Math.sqrt(this.d*this.d-1):this.d,this.el=this.f*Math.pow(this.ts,this.bl)),0!=this.mode?(this.g=.5*(this.f-1/this.f),this.gama=Proj4js.common.asinz(Math.sin(this.alpha)/this.d),this.longc-=Proj4js.common.asinz(this.g*Math.tan(this.gama))/this.bl,this.con=Math.abs(this.lat0),this.con>Proj4js.common.EPSLN&&Math.abs(this.con-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN?(this.singam=Math.sin(this.gama),this.cosgam=Math.cos(this.gama),this.sinaz=Math.sin(this.alpha),this.cosaz=Math.cos(this.alpha),this.u=0<=this.lat0?this.al/this.bl*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz):-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)):Proj4js.reportError("omerc:Init:DataError")):(this.sinphi=Math.sin(this.at1),this.ts1=Proj4js.common.tsfnz(this.e,this.lat1,this.sinphi),this.sinphi=Math.sin(this.lat2),this.ts2=Proj4js.common.tsfnz(this.e,this.lat2,this.sinphi),this.h=Math.pow(this.ts1,this.bl),this.l=Math.pow(this.ts2,this.bl),this.f=this.el/this.h,this.g=.5*(this.f-1/this.f),this.j=(this.el*this.el-this.l*this.h)/(this.el*this.el+this.l*this.h),this.p=(this.l-this.h)/(this.l+this.h),this.dlon=this.lon1-this.lon2,this.dlon<-Proj4js.common.PI&&(this.lon2-=2*Proj4js.common.PI),this.dlon>Proj4js.common.PI&&(this.lon2+=2*Proj4js.common.PI),this.dlon=this.lon1-this.lon2,this.longc=.5*(this.lon1+this.lon2)-Math.atan(this.j*Math.tan(.5*this.bl*this.dlon)/this.p)/this.bl,this.dlon=Proj4js.common.adjust_lon(this.lon1-this.longc),this.gama=Math.atan(Math.sin(this.bl*this.dlon)/this.g),this.alpha=Proj4js.common.asinz(this.d*Math.sin(this.gama)),Math.abs(this.lat1-this.lat2)<=Proj4js.common.EPSLN?Proj4js.reportError("omercInitDataError"):this.con=Math.abs(this.lat1),this.con<=Proj4js.common.EPSLN||Math.abs(this.con-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN?Proj4js.reportError("omercInitDataError"):Math.abs(Math.abs(this.lat0)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN&&Proj4js.reportError("omercInitDataError"),this.singam=Math.sin(this.gam),this.cosgam=Math.cos(this.gam),this.sinaz=Math.sin(this.alpha),this.cosaz=Math.cos(this.alpha),this.u=0<=this.lat0?this.al/this.bl*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz):-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz))},forward:function(a){var b,c,d,e,f;return d=a.x,c=a.y,b=Math.sin(c),e=Proj4js.common.adjust_lon(d-this.longc),d=Math.sin(this.bl*e),Math.abs(Math.abs(c)-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN?(b=Proj4js.common.tsfnz(this.e,c,b),b=this.el/Math.pow(b,this.bl),f=.5*(b-1/b),b=(f*this.singam-d*this.cosgam)/(.5*(b+1/b)),c=Math.cos(this.bl*e),1e-7>Math.abs(c)?d=this.al*this.bl*e:(d=this.al*Math.atan((f*this.cosgam+d*this.singam)/c)/this.bl,0>c&&(d+=Proj4js.common.PI*this.al/this.bl))):(b=c>=0?this.singam:-this.singam,d=this.al*c/this.bl),Math.abs(Math.abs(b)-1)<=Proj4js.common.EPSLN&&Proj4js.reportError("omercFwdInfinity"),e=.5*this.al*Math.log((1-b)/(1+b))/this.bl,d-=this.u,b=this.y0+d*this.cosaz-e*this.sinaz,a.x=this.x0+e*this.cosaz+d*this.sinaz,a.y=b,a},inverse:function(a){var b,c,d,e;return a.x-=this.x0,a.y-=this.y0,b=a.x*this.cosaz-a.y*this.sinaz,d=a.y*this.cosaz+a.x*this.sinaz,d+=this.u,c=Math.exp(-this.bl*b/this.al),b=.5*(c-1/c),c=.5*(c+1/c),d=Math.sin(this.bl*d/this.al),e=(d*this.cosgam+b*this.singam)/c,Math.abs(Math.abs(e)-1)<=Proj4js.common.EPSLN?(b=this.longc,e=e>=0?Proj4js.common.HALF_PI:-Proj4js.common.HALF_PI):(c=1/this.bl,e=Math.pow(this.el/Math.sqrt((1+e)/(1-e)),c),e=Proj4js.common.phi2z(this.e,e),b=this.longc-Math.atan2(b*this.cosgam-d*this.singam,c)/this.bl,b=Proj4js.common.adjust_lon(b)),a.x=b,a.y=e,a}},Proj4js.Proj.lcc={init:function(){if(this.lat2||(this.lat2=this.lat0),this.k0||(this.k0=1),Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN)Proj4js.reportError("lcc:init: Equal Latitudes");else{var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var a=Math.sin(this.lat1),b=Math.cos(this.lat1),b=Proj4js.common.msfnz(this.e,a,b),c=Proj4js.common.tsfnz(this.e,this.lat1,a),d=Math.sin(this.lat2),e=Math.cos(this.lat2),e=Proj4js.common.msfnz(this.e,d,e),d=Proj4js.common.tsfnz(this.e,this.lat2,d),f=Proj4js.common.tsfnz(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN?Math.log(b/e)/Math.log(c/d):a,this.f0=b/(this.ns*Math.pow(c,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(a){var b=a.x,c=a.y;if(!(90>=c&&c>=-90&&180>=b&&b>=-180))return Proj4js.reportError("lcc:forward: llInputOutOfRange: "+b+" : "+c),null;var d=Math.abs(Math.abs(c)-Proj4js.common.HALF_PI);if(d>Proj4js.common.EPSLN)c=Proj4js.common.tsfnz(this.e,c,Math.sin(c)),c=this.a*this.f0*Math.pow(c,this.ns);else{if(d=c*this.ns,0>=d)return Proj4js.reportError("lcc:forward: No Projection"),null;c=0}return b=this.ns*Proj4js.common.adjust_lon(b-this.long0),a.x=this.k0*c*Math.sin(b)+this.x0,a.y=this.k0*(this.rh-c*Math.cos(b))+this.y0,a},inverse:function(a){var b,c,d,e=(a.x-this.x0)/this.k0,f=this.rh-(a.y-this.y0)/this.k0;if(0<this.ns?(b=Math.sqrt(e*e+f*f),c=1):(b=-Math.sqrt(e*e+f*f),c=-1),d=0,0!=b&&(d=Math.atan2(c*e,c*f)),0!=b||0<this.ns){if(c=1/this.ns,b=Math.pow(b/(this.a*this.f0),c),b=Proj4js.common.phi2z(this.e,b),-9999==b)return null}else b=-Proj4js.common.HALF_PI;return d=Proj4js.common.adjust_lon(d/this.ns+this.long0),a.x=d,a.y=b,a}},Proj4js.Proj.laea={S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4,init:function(){var a=Math.abs(this.lat0);if(this.mode=Math.abs(a-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN?0>this.lat0?this.S_POLE:this.N_POLE:Math.abs(a)<Proj4js.common.EPSLN?this.EQUIT:this.OBLIQ,0<this.es)switch(this.qp=Proj4js.common.qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),a=Math.sin(this.lat0),this.sinb1=Proj4js.common.qsfnz(this.e,a)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*a*a)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode==this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(a){var b,c,d=a.x,e=a.y,d=Proj4js.common.adjust_lon(d-this.long0);if(this.sphere){var f,g,h;switch(h=Math.sin(e),g=Math.cos(e),f=Math.cos(d),this.mode){case this.OBLIQ:case this.EQUIT:if(c=this.mode==this.EQUIT?1+g*f:1+this.sinph0*h+this.cosph0*g*f,c<=Proj4js.common.EPSLN)return Proj4js.reportError("laea:fwd:y less than eps"),null;c=Math.sqrt(2/c),b=c*g*Math.sin(d),c*=this.mode==this.EQUIT?h:this.cosph0*h-this.sinph0*g*f;break;case this.N_POLE:f=-f;case this.S_POLE:if(Math.abs(e+this.phi0)<Proj4js.common.EPSLN)return Proj4js.reportError("laea:fwd:phi < eps"),null;c=Proj4js.common.FORTPI-.5*e,c=2*(this.mode==this.S_POLE?Math.cos(c):Math.sin(c)),b=c*Math.sin(d),c*=f}}else{var i=g=0,j=0;switch(f=Math.cos(d),d=Math.sin(d),h=Math.sin(e),h=Proj4js.common.qsfnz(this.e,h),(this.mode==this.OBLIQ||this.mode==this.EQUIT)&&(g=h/this.qp,i=Math.sqrt(1-g*g)),this.mode){case this.OBLIQ:j=1+this.sinb1*g+this.cosb1*i*f;break;case this.EQUIT:j=1+i*f;break;case this.N_POLE:j=Proj4js.common.HALF_PI+e,h=this.qp-h;break;case this.S_POLE:j=e-Proj4js.common.HALF_PI,h=this.qp+h}if(Math.abs(j)<Proj4js.common.EPSLN)return Proj4js.reportError("laea:fwd:b < eps"),null;switch(this.mode){case this.OBLIQ:case this.EQUIT:j=Math.sqrt(2/j),c=this.mode==this.OBLIQ?this.ymf*j*(this.cosb1*g-this.sinb1*i*f):(j=Math.sqrt(2/(1+i*f)))*g*this.ymf,b=this.xmf*j*i*d;break;case this.N_POLE:case this.S_POLE:h>=0?(b=(j=Math.sqrt(h))*d,c=f*(this.mode==this.S_POLE?j:-j)):b=c=0}}return a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},inverse:function(a){a.x-=this.x0,a.y-=this.y0;var b,c=a.x/this.a,d=a.y/this.a;if(this.sphere){var e,f=0,g=0;if(e=Math.sqrt(c*c+d*d),b=.5*e,b>1)return Proj4js.reportError("laea:Inv:DataError"),null;switch(b=2*Math.asin(b),(this.mode==this.OBLIQ||this.mode==this.EQUIT)&&(g=Math.sin(b),f=Math.cos(b)),this.mode){case this.EQUIT:b=Math.abs(e)<=Proj4js.common.EPSLN?0:Math.asin(d*g/e),c*=g,d=f*e;break;case this.OBLIQ:b=Math.abs(e)<=Proj4js.common.EPSLN?this.phi0:Math.asin(f*this.sinph0+d*g*this.cosph0/e),c*=g*this.cosph0,d=(f-Math.sin(b)*this.sinph0)*e;break;case this.N_POLE:d=-d,b=Proj4js.common.HALF_PI-b;break;case this.S_POLE:b-=Proj4js.common.HALF_PI}c=0!=d||this.mode!=this.EQUIT&&this.mode!=this.OBLIQ?Math.atan2(c,d):0}else{switch(b=0,this.mode){case this.EQUIT:case this.OBLIQ:if(c/=this.dd,d*=this.dd,g=Math.sqrt(c*c+d*d),g<Proj4js.common.EPSLN)return a.x=0,a.y=this.phi0,a;e=2*Math.asin(.5*g/this.rq),f=Math.cos(e),c*=e=Math.sin(e),this.mode==this.OBLIQ?(b=f*this.sinb1+d*e*this.cosb1/g,d=g*this.cosb1*f-d*this.sinb1*e):(b=d*e/g,d=g*f);break;case this.N_POLE:d=-d;case this.S_POLE:if(b=c*c+d*d,!b)return a.x=0,a.y=this.phi0,a;b=1-b/this.qp,this.mode==this.S_POLE&&(b=-b)}c=Math.atan2(c,d),b=this.authlat(Math.asin(b),this.apa)}return a.x=Proj4js.common.adjust_lon(this.long0+c),a.y=b,a},P00:.3333333333333333,P01:.17222222222222222,P02:.10257936507936508,P10:.06388888888888888,P11:.0664021164021164,P20:.016415012942191543,authset:function(a){var b,c=[];return c[0]=a*this.P00,b=a*a,c[0]+=b*this.P01,c[1]=b*this.P10,b*=a,c[0]+=b*this.P02,c[1]+=b*this.P11,c[2]=b*this.P20,c},authlat:function(a,b){var c=a+a;return a+b[0]*Math.sin(c)+b[1]*Math.sin(c+c)+b[2]*Math.sin(c+c+c)}},Proj4js.Proj.aeqd={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(a){var b,c=a.x,d=Math.sin(a.y),e=Math.cos(a.y),c=Proj4js.common.adjust_lon(c-this.long0),f=Math.cos(c),g=this.sin_p12*d+this.cos_p12*e*f;if(Math.abs(Math.abs(g)-1)<Proj4js.common.EPSLN){if(b=1,0>g)return void Proj4js.reportError("aeqd:Fwd:PointError")
}else b=Math.acos(g),b/=Math.sin(b);return a.x=this.x0+this.a*b*e*Math.sin(c),a.y=this.y0+this.a*b*(this.cos_p12*d-this.sin_p12*e*f),a},inverse:function(a){a.x-=this.x0,a.y-=this.y0;var b=Math.sqrt(a.x*a.x+a.y*a.y);if(!(b>2*Proj4js.common.HALF_PI*this.a)){var c,d=b/this.a,e=Math.sin(d),d=Math.cos(d),f=this.long0;if(Math.abs(b)<=Proj4js.common.EPSLN)c=this.lat0;else{c=Proj4js.common.asinz(d*this.sin_p12+a.y*e*this.cos_p12/b);var g=Math.abs(this.lat0)-Proj4js.common.HALF_PI;Math.abs(g)<=Proj4js.common.EPSLN?f=Proj4js.common.adjust_lon(0<=this.lat0?this.long0+Math.atan2(a.x,-a.y):this.long0-Math.atan2(-a.x,a.y)):(g=d-this.sin_p12*Math.sin(c),Math.abs(g)<Proj4js.common.EPSLN&&Math.abs(a.x)<Proj4js.common.EPSLN||(Math.atan2(a.x*e*this.cos_p12,g*b),f=Proj4js.common.adjust_lon(this.long0+Math.atan2(a.x*e*this.cos_p12,g*b))))}return a.x=f,a.y=c,a}Proj4js.reportError("aeqdInvDataError")}},Proj4js.Proj.moll={init:function(){},forward:function(a){for(var b=a.y,c=Proj4js.common.adjust_lon(a.x-this.long0),d=b,e=Proj4js.common.PI*Math.sin(b),f=0;;f++){var g=-(d+Math.sin(d)-e)/(1+Math.cos(d)),d=d+g;if(Math.abs(g)<Proj4js.common.EPSLN)break;f>=50&&Proj4js.reportError("moll:Fwd:IterationError")}return d/=2,Proj4js.common.PI/2-Math.abs(b)<Proj4js.common.EPSLN&&(c=0),b=.900316316158*this.a*c*Math.cos(d)+this.x0,d=1.4142135623731*this.a*Math.sin(d)+this.y0,a.x=b,a.y=d,a},inverse:function(a){var b;a.x-=this.x0,b=a.y/(1.4142135623731*this.a),.999999999999<Math.abs(b)&&(b=.999999999999),b=Math.asin(b);var c=Proj4js.common.adjust_lon(this.long0+a.x/(.900316316158*this.a*Math.cos(b)));return c<-Proj4js.common.PI&&(c=-Proj4js.common.PI),c>Proj4js.common.PI&&(c=Proj4js.common.PI),b=(2*b+Math.sin(2*b))/Proj4js.common.PI,1<Math.abs(b)&&(b=1),b=Math.asin(b),a.x=c,a.y=b,a}},function(a,b){function c(a){return J.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function d(a){if(!pc[a]){var b=G.body,c=J("<"+a+">").appendTo(b),d=c.css("display");c.remove(),("none"===d||""===d)&&(lc||(lc=G.createElement("iframe"),lc.frameBorder=lc.width=lc.height=0),b.appendChild(lc),mc&&lc.createElement||(mc=(lc.contentWindow||lc.contentDocument).document,mc.write(("CSS1Compat"===G.compatMode?"<!doctype html>":"")+"<html><body>"),mc.close()),c=mc.createElement(a),mc.body.appendChild(c),d=J.css(c,"display"),b.removeChild(lc)),pc[a]=d}return pc[a]}function e(a,b){var c={};return J.each(sc.concat.apply([],sc.slice(0,b)),function(){c[this]=a}),c}function f(){oc=b}function g(){return setTimeout(f,0),oc=J.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d,e,f,g,h,i,j,k,l=a.dataTypes,m={},n=l.length,o=l[0];for(d=1;n>d;d++){if(1===d)for(e in a.converters)"string"==typeof e&&(m[e.toLowerCase()]=a.converters[e]);if(g=o,o=l[d],"*"===o)o=g;else if("*"!==g&&g!==o){if(h=g+" "+o,i=m[h]||m["* "+o],!i){k=b;for(j in m)if(f=j.split(" "),(f[0]===g||"*"===f[0])&&(k=m[f[1]+" "+o])){j=m[j],j===!0?i=k:k===!0&&(i=j);break}}!i&&!k&&J.error("No conversion from "+h.replace(" "," to ")),i!==!0&&(c=i?i(c):k(j(c)))}}return c}function k(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function l(a,b,c,d){if(J.isArray(b))J.each(b,function(b,e){c||Qb.test(a)?d(a,e):l(a+"["+("object"==typeof e||J.isArray(e)?b:"")+"]",e,c,d)});else if(c||null==b||"object"!=typeof b)d(a,b);else for(var e in b)l(a+"["+e+"]",b[e],c,d)}function m(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===dc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=m(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=m(a,c,d,e,"*",g)),h}function n(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),J.isFunction(c))for(var d,e,f,g=b.toLowerCase().split(_b),h=0,i=g.length;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function o(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?Lb:Mb;return d>0?("border"!==c&&J.each(e,function(){c||(d-=parseFloat(J.css(a,"padding"+this))||0),"margin"===c?d+=parseFloat(J.css(a,c+this))||0:d-=parseFloat(J.css(a,"border"+this+"Width"))||0}),d+"px"):(d=Ab(a,b,b),(0>d||null==d)&&(d=a.style[b]||0),d=parseFloat(d)||0,c&&J.each(e,function(){d+=parseFloat(J.css(a,"padding"+this))||0,"padding"!==c&&(d+=parseFloat(J.css(a,"border"+this+"Width"))||0),"margin"===c&&(d+=parseFloat(J.css(a,c+this))||0)}),d+"px")}function p(a,b){b.src?J.ajax({url:b.src,async:!1,dataType:"script"}):J.globalEval((b.text||b.textContent||b.innerHTML||"").replace(yb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function q(a){J.nodeName(a,"input")?r(a):"getElementsByTagName"in a&&J.grep(a.getElementsByTagName("input"),r)}function r(a){("checkbox"===a.type||"radio"===a.type)&&(a.defaultChecked=a.checked)}function s(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function t(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(J.expando))}function u(a,b){if(1===b.nodeType&&J.hasData(a)){var c=J.expando,d=J.data(a),e=J.data(b,d);if(d=d[c]){var f=d.events;if(e=e[c]=J.extend({},d),f){delete e.handle,e.events={};for(var g in f)for(var h=0,i=f[g].length;i>h;h++)J.event.add(b,g+(f[g][h].namespace?".":"")+f[g][h].namespace,f[g][h],f[g][h].data)}}}}function v(a){return J.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function w(a,b,c){if(b=b||0,J.isFunction(b))return J.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return J.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=J.grep(a,function(a){return 1===a.nodeType});if(lb.test(b))return J.filter(b,d,!c);b=J.filter(b,d)}return J.grep(a,function(a){return J.inArray(a,b)>=0===c})}function x(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function y(a,b){return(a&&"*"!==a?a+".":"")+b.replace($,"`").replace(_,"&")}function z(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=[],o=[],p=J._data(this,"events");if(a.liveFired!==this&&p&&p.live&&!a.target.disabled&&(!a.button||"click"!==a.type)){a.namespace&&(l=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),a.liveFired=this;var q=p.live.slice(0);for(h=0;h<q.length;h++)f=q[h],f.origType.replace(Y,"")===a.type?o.push(f.selector):q.splice(h--,1);for(e=J(a.target).closest(o,a.currentTarget),i=0,j=e.length;j>i;i++)for(k=e[i],h=0;h<q.length;h++)f=q[h],k.selector!==f.selector||l&&!l.test(f.namespace)||k.elem.disabled||(g=k.elem,d=null,("mouseenter"===f.preType||"mouseleave"===f.preType)&&(a.type=f.preType,d=J(a.relatedTarget).closest(f.selector)[0],d&&J.contains(g,d)&&(d=g)),(!d||d!==g)&&n.push({elem:g,handleObj:f,level:k.level}));for(i=0,j=n.length;j>i&&(e=n[i],!(c&&e.level>c))&&(a.currentTarget=e.elem,a.data=e.handleObj.data,a.handleObj=e.handleObj,m=e.handleObj.origHandler.apply(e.elem,arguments),m!==!1&&!a.isPropagationStopped()||(c=e.level,m===!1&&(b=!1),!a.isImmediatePropagationStopped()));i++);return b}}function A(a,c,d){var e=J.extend({},d[0]);e.type=a,e.originalEvent={},e.liveFired=b,J.event.handle.call(c,e),e.isDefaultPrevented()&&d[0].preventDefault()}function B(){return!0}function C(){return!1}function D(a,c,d){var e=c+"defer",f=c+"queue",g=c+"mark",h=J.data(a,e,b,!0);!(!h||"queue"!==d&&J.data(a,f,b,!0)||"mark"!==d&&J.data(a,g,b,!0)||!setTimeout(function(){!J.data(a,f,b,!0)&&!J.data(a,g,b,!0)&&(J.removeData(a,e,!0),h.resolve())},0))}function E(a){for(var b in a)if("toJSON"!==b)return!1;return!0}function F(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(N,"$1-$2").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:J.isNaN(d)?M.test(d)?J.parseJSON(d):d:parseFloat(d)}catch(f){}J.data(a,c,d)}else d=b}return d}var G=a.document,H=a.navigator,I=a.location,J=function(){function c(){if(!h.isReady){try{G.documentElement.doScroll("left")}catch(a){return void setTimeout(c,1)}h.ready()}}var d,e,f,g,h=function(a,b){return new h.fn.init(a,b,d)},i=a.jQuery,j=a.$,k=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,m=/^\s+/,n=/\s+$/,o=/\d/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,q=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,t=/(?:^|:|,)(?:\s*\[)+/g,u=/(webkit)[ \/]([\w.]+)/,v=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,y=/-([a-z])/gi,z=function(a,b){return b.toUpperCase()},A=H.userAgent,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,I=Array.prototype.indexOf,J={};return h.fn=h.prototype={constructor:h,init:function(a,c,d){var e,f,g,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&G.body)return this.context=G,this[0]=G.body,this.selector=a,this.length=1,this;if("string"==typeof a){if(e="<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||a.length<3?k.exec(a):[null,a,null],e&&(e[1]||!c)){if(e[1])return c=c instanceof h?c[0]:c,i=c?c.ownerDocument||c:G,g=p.exec(a),g?h.isPlainObject(c)?(a=[G.createElement(g[1])],h.fn.attr.call(a,c,!0)):a=[i.createElement(g[1])]:(g=h.buildFragment([e[1]],[i]),a=(g.cacheable?h.clone(g.fragment):g.fragment).childNodes),h.merge(this,a);if(f=G.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=G,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return h.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),h.makeArray(a,this))},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return h.isArray(a)?D.apply(d,a):h.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return h.each(this,a,b)},ready:function(a){return h.bindReady(),f.done(a),this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(h.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},h.fn.init.prototype=h.fn,h.extend=h.fn.extend=function(){var a,c,d,e,f,g,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&!h.isFunction(i)&&(i={}),k===j&&(i=this,--j);k>j;j++)if(null!=(a=arguments[j]))for(c in a)d=i[c],e=a[c],i!==e&&(l&&e&&(h.isPlainObject(e)||(f=h.isArray(e)))?(f?(f=!1,g=d&&h.isArray(d)?d:[]):g=d&&h.isPlainObject(d)?d:{},i[c]=h.extend(l,g,e)):e!==b&&(i[c]=e));return i},h.extend({noConflict:function(b){return a.$===h&&(a.$=j),b&&a.jQuery===h&&(a.jQuery=i),h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(a===!0&&!--h.readyWait||a!==!0&&!h.isReady){if(!G.body)return setTimeout(h.ready,1);if(h.isReady=!0,a!==!0&&--h.readyWait>0)return;f.resolveWith(G,[h]),h.fn.trigger&&h(G).trigger("ready").unbind("ready")}},bindReady:function(){if(!f){if(f=h._Deferred(),"complete"===G.readyState)return setTimeout(h.ready,1);if(G.addEventListener)G.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",h.ready,!1);else if(G.attachEvent){G.attachEvent("onreadystatechange",g),a.attachEvent("onload",h.ready);var b=!1;try{b=null==a.frameElement}catch(d){}G.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!o.test(a)||isNaN(a)},type:function(a){return null==a?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a);return c===b||C.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){return"string"==typeof b&&b?(b=h.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):q.test(b.replace(r,"@").replace(s,"]").replace(t,""))?new Function("return "+b)():void h.error("Invalid JSON: "+b)):null},parseXML:function(b,c,d){return a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)),d=c.documentElement,(!d||!d.nodeName||"parsererror"===d.nodeName)&&h.error("Invalid XML: "+b),c},noop:function(){},globalEval:function(b){b&&l.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(y,z)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,i=g===b||h.isFunction(a);if(d)if(i){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(i){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:F?function(a){return null==a?"":F.call(a)}:function(a){return null==a?"":(a+"").replace(m,"").replace(n,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=h.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||h.isWindow(a)?D.call(c,a):h.merge(c,a)}return c},inArray:function(a,b){if(I)return I.call(b,a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;f>e;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d,e=[];c=!!c;for(var f=0,g=a.length;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],i=0,j=a.length,k=a instanceof h||j!==b&&"number"==typeof j&&(j>0&&a[0]&&a[j-1]||0===j||h.isArray(a));if(k)for(;j>i;i++)e=c(a[i],i,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){if("string"==typeof c){var d=a[c];c=a,a=d}if(!h.isFunction(a))return b;var e=E.call(arguments,2),f=function(){return a.apply(c,e.concat(E.call(arguments)))};return f.guid=a.guid=a.guid||f.guid||h.guid++,f},access:function(a,c,d,e,f,g){var i=a.length;if("object"==typeof c){for(var j in c)h.access(a,j,c[j],e,f,d);return a}if(d!==b){e=!g&&e&&h.isFunction(d);for(var k=0;i>k;k++)f(a[k],c,e?d.call(a[k],k,f(a[k],c)):d,g);return a}return i?f(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=u.exec(a)||v.exec(a)||w.exec(a)||a.indexOf("compatible")<0&&x.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}h.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof h&&!(d instanceof a)&&(d=a(d)),h.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(G);return a},browser:{}}),h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),e=h.uaMatch(A),e.browser&&(h.browser[e.browser]=!0,h.browser.version=e.version),h.browser.webkit&&(h.browser.safari=!0),l.test(" ")&&(m=/^[\s\xA0]+/,n=/[\s\xA0]+$/),d=h(G),G.addEventListener?g=function(){G.removeEventListener("DOMContentLoaded",g,!1),h.ready()}:G.attachEvent&&(g=function(){"complete"===G.readyState&&(G.detachEvent("onreadystatechange",g),h.ready())}),h}(),K="done fail isResolved isRejected promise then always pipe".split(" "),L=[].slice;J.extend({_Deferred:function(){var a,b,c,d=[],e={done:function(){if(!c){var b,f,g,h,i,j=arguments;for(a&&(i=a,a=0),b=0,f=j.length;f>b;b++)g=j[b],h=J.type(g),"array"===h?e.done.apply(e,g):"function"===h&&d.push(g);i&&e.resolveWith(i[0],i[1])}return this},resolveWith:function(e,f){if(!c&&!a&&!b){f=f||[],b=1;try{for(;d[0];)d.shift().apply(e,f)}finally{a=[e,f],b=0}}return this},resolve:function(){return e.resolveWith(this,arguments),this},isResolved:function(){return!!b||!!a},cancel:function(){return c=1,d=[],this}};return e},Deferred:function(a){var b,c=J._Deferred(),d=J._Deferred();return J.extend(c,{then:function(a,b){return c.done(a).fail(b),this},always:function(){return c.done.apply(c,arguments).fail.apply(this,arguments)},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,pipe:function(a,b){return J.Deferred(function(d){J.each({done:[a,"resolve"],fail:[b,"reject"]},function(a,b){var e,f=b[0],g=b[1];c[a](J.isFunction(f)?function(){e=f.apply(this,arguments),e&&J.isFunction(e.promise)?e.promise().then(d.resolve,d.reject):d[g](e)}:d[g])})}).promise()},promise:function(a){if(null==a){if(b)return b;b=a={}}for(var d=K.length;d--;)a[K[d]]=c[K[d]];return a}}),c.done(d.cancel).fail(c.cancel),delete c.cancel,a&&a.call(c,c),c},when:function(a){function b(a){return function(b){c[a]=arguments.length>1?L.call(arguments,0):b,--f||g.resolveWith(g,L.call(c,0))}}var c=arguments,d=0,e=c.length,f=e,g=1>=e&&a&&J.isFunction(a.promise)?a:J.Deferred();if(e>1){for(;e>d;d++)c[d]&&J.isFunction(c[d].promise)?c[d].promise().then(b(d),g.reject):--f;f||g.resolveWith(g,c)}else g!==a&&g.resolveWith(g,e?[a]:[]);return g.promise()}}),J.support=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=G.createElement("div"),r=G.documentElement;if(q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",a=q.getElementsByTagName("*"),b=q.getElementsByTagName("a")[0],!a||!a.length||!b)return{};c=G.createElement("select"),d=c.appendChild(G.createElement("option")),e=q.getElementsByTagName("input")[0],g={leadingWhitespace:3===q.firstChild.nodeType,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(b.getAttribute("style")),hrefNormalized:"/a"===b.getAttribute("href"),opacity:/^0.55$/.test(b.style.opacity),cssFloat:!!b.style.cssFloat,checkOn:"on"===e.value,optSelected:d.selected,getSetAttribute:"t"!==q.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},e.checked=!0,g.noCloneChecked=e.cloneNode(!0).checked,c.disabled=!0,g.optDisabled=!d.disabled;try{delete q.test}catch(s){g.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){g.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),e=G.createElement("input"),e.value="t",e.setAttribute("type","radio"),g.radioValue="t"===e.value,e.setAttribute("checked","checked"),q.appendChild(e),h=G.createDocumentFragment(),h.appendChild(q.firstChild),g.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",i=G.getElementsByTagName("body")[0],k=G.createElement(i?"div":"body"),l={visibility:"hidden",width:0,height:0,border:0,margin:0},i&&J.extend(l,{position:"absolute",left:-1e3,top:-1e3});for(o in l)k.style[o]=l[o];if(k.appendChild(q),j=i||r,j.insertBefore(k,j.firstChild),g.appendChecked=e.checked,g.boxModel=2===q.offsetWidth,"zoom"in q.style&&(q.style.display="inline",q.style.zoom=1,g.inlineBlockNeedsLayout=2===q.offsetWidth,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",g.shrinkWrapBlocks=2!==q.offsetWidth),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",m=q.getElementsByTagName("td"),p=0===m[0].offsetHeight,m[0].style.display="",m[1].style.display="none",g.reliableHiddenOffsets=p&&0===m[0].offsetHeight,q.innerHTML="",G.defaultView&&G.defaultView.getComputedStyle&&(f=G.createElement("div"),f.style.width="0",f.style.marginRight="0",q.appendChild(f),g.reliableMarginRight=0===(parseInt((G.defaultView.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0)),k.innerHTML="",j.removeChild(k),q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p="function"==typeof q[n]),g[o+"Bubbles"]=p;return k=h=c=d=i=f=q=e=null,g}(),J.boxModel=J.support.boxModel;var M=/^(?:\{.*\}|\[.*\])$/,N=/([a-z])([A-Z])/g;J.extend({cache:{},uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?J.cache[a[J.expando]]:a[J.expando],!!a&&!E(a)},data:function(a,c,d,e){if(J.acceptData(a)){var f,g=J.expando,h="string"==typeof c,i=a.nodeType,j=i?J.cache:a,k=i?a[J.expando]:a[J.expando]&&J.expando;if((!k||e&&k&&!j[k][g])&&h&&d===b)return;return k||(i?a[J.expando]=k=++J.uuid:k=J.expando),j[k]||(j[k]={},i||(j[k].toJSON=J.noop)),("object"==typeof c||"function"==typeof c)&&(e?j[k][g]=J.extend(j[k][g],c):j[k]=J.extend(j[k],c)),f=j[k],e&&(f[g]||(f[g]={}),f=f[g]),d!==b&&(f[J.camelCase(c)]=d),"events"!==c||f[c]?h?f[J.camelCase(c)]||f[c]:f:f[g]&&f[g].events}},removeData:function(b,c,d){if(J.acceptData(b)){var e=J.expando,f=b.nodeType,g=f?J.cache:b,h=f?b[J.expando]:J.expando;if(!g[h])return;if(c){var i=d?g[h][e]:g[h];if(i&&(delete i[c],!E(i)))return}if(d&&(delete g[h][e],!E(g[h])))return;var j=g[h][e];J.support.deleteExpando||g!=a?delete g[h]:g[h]=null,j?(g[h]={},f||(g[h].toJSON=J.noop),g[h][e]=j):f&&(J.support.deleteExpando?delete b[J.expando]:b.removeAttribute?b.removeAttribute(J.expando):b[J.expando]=null)}},_data:function(a,b,c){return J.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=J.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),J.fn.extend({data:function(a,c){var d=null;if("undefined"==typeof a){if(this.length&&(d=J.data(this[0]),1===this[0].nodeType))for(var e,f=this[0].attributes,g=0,h=f.length;h>g;g++)e=f[g].name,0===e.indexOf("data-")&&(e=J.camelCase(e.substring(5)),F(this[0],e,d[e]));return d}if("object"==typeof a)return this.each(function(){J.data(this,a)});var i=a.split(".");return i[1]=i[1]?"."+i[1]:"",c===b?(d=this.triggerHandler("getData"+i[1]+"!",[i[0]]),d===b&&this.length&&(d=J.data(this[0],a),d=F(this[0],a,d)),d===b&&i[1]?this.data(i[0]):d):this.each(function(){var b=J(this),d=[i[0],c];b.triggerHandler("setData"+i[1]+"!",d),J.data(this,a,c),b.triggerHandler("changeData"+i[1]+"!",d)})},removeData:function(a){return this.each(function(){J.removeData(this,a)})}}),J.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",J.data(a,c,(J.data(a,c,b,!0)||0)+1,!0))},_unmark:function(a,c,d){if(a!==!0&&(d=c,c=a,a=!1),c){d=d||"fx";var e=d+"mark",f=a?0:(J.data(c,e,b,!0)||1)-1;f?J.data(c,e,f,!0):(J.removeData(c,e,!0),D(c,d,"mark"))}},queue:function(a,c,d){if(a){c=(c||"fx")+"queue";var e=J.data(a,c,b,!0);return d&&(!e||J.isArray(d)?e=J.data(a,c,J.makeArray(d),!0):e.push(d)),e||[]}},dequeue:function(a,b){b=b||"fx";var c=J.queue(a,b),d=c.shift();"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),d.call(a,function(){J.dequeue(a,b)})),c.length||(J.removeData(a,b+"queue",!0),D(a,b,"queue"))}}),J.fn.extend({queue:function(a,c){return"string"!=typeof a&&(c=a,a="fx"),c===b?J.queue(this[0],a):this.each(function(){var b=J.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&J.dequeue(this,a)})},dequeue:function(a){return this.each(function(){J.dequeue(this,a)})},delay:function(a,b){return a=J.fx?J.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(){var c=this;setTimeout(function(){J.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--i||f.resolveWith(g,[g])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(var e,f=J.Deferred(),g=this,h=g.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark";h--;)(e=J.data(g[h],j,b,!0)||(J.data(g[h],k,b,!0)||J.data(g[h],l,b,!0))&&J.data(g[h],j,J._Deferred(),!0))&&(i++,e.done(d));return d(),f.promise()}});var O,P,Q=/[\n\t\r]/g,R=/\s+/,S=/\r/g,T=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,V=/^a(?:rea)?$/i,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,X=/\:|^on/;J.fn.extend({attr:function(a,b){return J.access(this,a,b,!0,J.attr)},removeAttr:function(a){return this.each(function(){J.removeAttr(this,a)})},prop:function(a,b){return J.access(this,a,b,!0,J.prop)},removeProp:function(a){return a=J.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(J.isFunction(a))return this.each(function(b){J(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(R),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=J.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(J.isFunction(a))return this.each(function(b){J(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(R),d=0,e=this.length;e>d;d++)if(f=this[d],1===f.nodeType&&f.className)if(a){for(g=(" "+f.className+" ").replace(Q," "),h=0,i=c.length;i>h;h++)g=g.replace(" "+c[h]+" "," ");f.className=J.trim(g)}else f.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(J.isFunction(a)?function(c){J(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=J(this),h=b,i=a.split(R);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&J._data(this,"__className__",this.className),this.className=this.className||a===!1?"":J._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if((" "+this[c].className+" ").replace(Q," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e=this[0];if(!arguments.length)return e?(c=J.valHooks[e.nodeName.toLowerCase()]||J.valHooks[e.type],c&&"get"in c&&(d=c.get(e,"value"))!==b?d:(d=e.value,"string"==typeof d?d.replace(S,""):null==d?"":d)):b;var f=J.isFunction(a);return this.each(function(d){var e,g=J(this);1===this.nodeType&&(e=f?a.call(this,d,g.val()):a,null==e?e="":"number"==typeof e?e+="":J.isArray(e)&&(e=J.map(e,function(a){return null==a?"":a+""})),c=J.valHooks[this.nodeName.toLowerCase()]||J.valHooks[this.type],c&&"set"in c&&c.set(this,e,"value")!==b||(this.value=e))})}}),J.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c=a.selectedIndex,d=[],e=a.options,f="select-one"===a.type;if(0>c)return null;for(var g=f?c:0,h=f?c+1:e.length;h>g;g++){var i=e[g];if(!(!i.selected||(J.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&J.nodeName(i.parentNode,"optgroup"))){if(b=J(i).val(),f)return b;d.push(b)}}return f&&!d.length&&e.length?J(e[c]).val():d},set:function(a,b){var c=J.makeArray(b);return J(a).find("option").each(function(){this.selected=J.inArray(J(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,c,d,e){var f=a.nodeType;if(!a||3===f||8===f||2===f)return b;if(e&&c in J.attrFn)return J(a)[c](d);if(!("getAttribute"in a))return J.prop(a,c,d);var g,h,i=1!==f||!J.isXMLDoc(a);return i&&(c=J.attrFix[c]||c,h=J.attrHooks[c],h||(W.test(c)?h=P:O&&"className"!==c&&(J.nodeName(a,"form")||X.test(c))&&(h=O))),d!==b?null===d?(J.removeAttr(a,c),b):h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d):h&&"get"in h&&i&&null!==(g=h.get(a,c))?g:(g=a.getAttribute(c),null===g?b:g)},removeAttr:function(a,b){var c;1===a.nodeType&&(b=J.attrFix[b]||b,J.support.getSetAttribute?a.removeAttribute(b):(J.attr(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))),W.test(b)&&(c=J.propFix[b]||b)in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(T.test(a.nodeName)&&a.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&"radio"===b&&J.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},tabIndex:{get:function(a){var c=a.getAttributeNode("tabIndex");return c&&c.specified?parseInt(c.value,10):U.test(a.nodeName)||V.test(a.nodeName)&&a.href?0:b}},value:{get:function(a,b){return O&&J.nodeName(a,"button")?O.get(a,b):b in a?a.value:null},set:function(a,b,c){return O&&J.nodeName(a,"button")?O.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e=a.nodeType;if(!a||3===e||8===e||2===e)return b;var f,g,h=1!==e||!J.isXMLDoc(a);return h&&(c=J.propFix[c]||c,g=J.propHooks[c]),d!==b?g&&"set"in g&&(f=g.set(a,d,c))!==b?f:a[c]=d:g&&"get"in g&&(f=g.get(a,c))!==b?f:a[c]},propHooks:{}}),P={get:function(a,c){return J.prop(a,c)?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?J.removeAttr(a,c):(d=J.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},J.support.getSetAttribute||(J.attrFix=J.propFix,O=J.attrHooks.name=J.attrHooks.title=J.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&""!==d.nodeValue?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d?(d.nodeValue=b,b):void 0}},J.each(["width","height"],function(a,b){J.attrHooks[b]=J.extend(J.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})})),J.support.hrefNormalized||J.each(["href","src","width","height"],function(a,c){J.attrHooks[c]=J.extend(J.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),J.support.style||(J.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}})),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(a,b){return J.isArray(b)?a.checked=J.inArray(J(a).val(),b)>=0:void 0}})});var Y=/\.(.*)$/,Z=/^(?:textarea|input|select)$/i,$=/\./g,_=/ /g,ab=/[^\w\s.|`]/g,bb=function(a){return a.replace(ab,"\\$&")};J.event={add:function(a,c,d,e){if(3!==a.nodeType&&8!==a.nodeType){if(d===!1)d=C;else if(!d)return;var f,g;d.handler&&(f=d,d=f.handler),d.guid||(d.guid=J.guid++);var h=J._data(a);if(!h)return;var i=h.events,j=h.handle;i||(h.events=i={}),j||(h.handle=j=function(a){return"undefined"==typeof J||a&&J.event.triggered===a.type?b:J.event.handle.apply(j.elem,arguments)
}),j.elem=a,c=c.split(" ");for(var k,l,m=0;k=c[m++];){g=f?J.extend({},f):{handler:d,data:e},k.indexOf(".")>-1?(l=k.split("."),k=l.shift(),g.namespace=l.slice(0).sort().join(".")):(l=[],g.namespace=""),g.type=k,g.guid||(g.guid=d.guid);var n=i[k],o=J.event.special[k]||{};n||(n=i[k]=[],o.setup&&o.setup.call(a,e,l,j)!==!1||(a.addEventListener?a.addEventListener(k,j,!1):a.attachEvent&&a.attachEvent("on"+k,j))),o.add&&(o.add.call(a,g),g.handler.guid||(g.handler.guid=d.guid)),n.push(g),J.event.global[k]=!0}a=null}},global:{},remove:function(a,c,d,e){if(3!==a.nodeType&&8!==a.nodeType){d===!1&&(d=C);var f,g,h,i,j,k,l,m,n,o,p=0,q=J.hasData(a)&&J._data(a),r=q&&q.events;if(!q||!r)return;if(c&&c.type&&(d=c.handler,c=c.type),!c||"string"==typeof c&&"."===c.charAt(0)){c=c||"";for(g in r)J.event.remove(a,g+c);return}for(c=c.split(" ");g=c[p++];)if(o=g,n=null,i=g.indexOf(".")<0,j=[],i||(j=g.split("."),g=j.shift(),k=new RegExp("(^|\\.)"+J.map(j.slice(0).sort(),bb).join("\\.(?:.*\\.)?")+"(\\.|$)")),m=r[g],m)if(d){for(l=J.event.special[g]||{},h=e||0;h<m.length&&(n=m[h],d.guid!==n.guid||((i||k.test(n.namespace))&&(null==e&&m.splice(h--,1),l.remove&&l.remove.call(a,n)),null==e));h++);(0===m.length||null!=e&&1===m.length)&&((!l.teardown||l.teardown.call(a,j)===!1)&&J.removeEvent(a,g,q.handle),f=null,delete r[g])}else for(h=0;h<m.length;h++)n=m[h],(i||k.test(n.namespace))&&(J.event.remove(a,o,n.handler,h),m.splice(h--,1));if(J.isEmptyObject(r)){var s=q.handle;s&&(s.elem=null),delete q.events,delete q.handle,J.isEmptyObject(q)&&J.removeData(a,b,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){var g,h=c.type||c,i=[];if(h.indexOf("!")>=0&&(h=h.slice(0,-1),g=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort()),e&&!J.event.customEvent[h]||J.event.global[h]){if(c="object"==typeof c?c[J.expando]?c:new J.Event(h,c):new J.Event(h),c.type=h,c.exclusive=g,c.namespace=i.join("."),c.namespace_re=new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"),(f||!e)&&(c.preventDefault(),c.stopPropagation()),!e)return void J.each(J.cache,function(){var a=J.expando,b=this[a];b&&b.events&&b.events[h]&&J.event.trigger(c,d,b.handle.elem)});if(3===e.nodeType||8===e.nodeType)return;c.result=b,c.target=e,d=null!=d?J.makeArray(d):[],d.unshift(c);var j=e,k=h.indexOf(":")<0?"on"+h:"";do{var l=J._data(j,"handle");c.currentTarget=j,l&&l.apply(j,d),k&&J.acceptData(j)&&j[k]&&j[k].apply(j,d)===!1&&(c.result=!1,c.preventDefault()),j=j.parentNode||j.ownerDocument||j===c.target.ownerDocument&&a}while(j&&!c.isPropagationStopped());if(!c.isDefaultPrevented()){var m,n=J.event.special[h]||{};if(!(n._default&&n._default.call(e.ownerDocument,c)!==!1||"click"===h&&J.nodeName(e,"a")||!J.acceptData(e))){try{k&&e[h]&&(m=e[k],m&&(e[k]=null),J.event.triggered=h,e[h]())}catch(o){}m&&(e[k]=m),J.event.triggered=b}}return c.result}},handle:function(c){c=J.event.fix(c||a.event);var d=((J._data(this,"events")||{})[c.type]||[]).slice(0),e=!c.exclusive&&!c.namespace,f=Array.prototype.slice.call(arguments,0);f[0]=c,c.currentTarget=this;for(var g=0,h=d.length;h>g;g++){var i=d[g];if(e||c.namespace_re.test(i.namespace)){c.handler=i.handler,c.data=i.data,c.handleObj=i;var j=i.handler.apply(this,f);if(j!==b&&(c.result=j,j===!1&&(c.preventDefault(),c.stopPropagation())),c.isImmediatePropagationStopped())break}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[J.expando])return a;var c=a;a=J.Event(c);for(var d,e=this.props.length;e;)d=this.props[--e],a[d]=c[d];if(a.target||(a.target=a.srcElement||G),3===a.target.nodeType&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement),null==a.pageX&&null!=a.clientX){var f=a.target.ownerDocument||G,g=f.documentElement,h=f.body;a.pageX=a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0),a.pageY=a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0)}return null==a.which&&(null!=a.charCode||null!=a.keyCode)&&(a.which=null!=a.charCode?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=1&a.button?1:2&a.button?3:4&a.button?2:0),a},guid:1e8,proxy:J.proxy,special:{ready:{setup:J.bindReady,teardown:J.noop},live:{add:function(a){J.event.add(this,y(a.origType,a.selector),J.extend({},a,{handler:z,guid:a.handler.guid}))},remove:function(a){J.event.remove(this,y(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){J.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},J.removeEvent=G.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},J.Event=function(a,b){return this.preventDefault?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&J.extend(this,b),this.timeStamp=J.now(),this[J.expando]=!0,void 0):new J.Event(a,b)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C};var cb=function(a){var b=a.relatedTarget,c=!1,d=a.type;a.type=a.data,b!==this&&(b&&(c=J.contains(this,b)),c||(J.event.handle.apply(this,arguments),a.type=d))},db=function(a){a.type=a.data,J.event.handle.apply(this,arguments)};if(J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){J.event.special[a]={setup:function(c){J.event.add(this,b,c&&c.selector?db:cb,a)},teardown:function(a){J.event.remove(this,b,a&&a.selector?db:cb)}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){return J.nodeName(this,"form")?!1:(J.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;("submit"===c||"image"===c)&&J(b).closest("form").length&&A("submit",this,arguments)}),void J.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;("text"===c||"password"===c)&&J(b).closest("form").length&&13===a.keyCode&&A("submit",this,arguments)}))},teardown:function(){J.event.remove(this,".specialSubmit")}}),!J.support.changeBubbles){var eb,fb=function(a){var b=a.type,c=a.value;return"radio"===b||"checkbox"===b?c=a.checked:"select-multiple"===b?c=a.selectedIndex>-1?J.map(a.options,function(a){return a.selected}).join("-"):"":J.nodeName(a,"select")&&(c=a.selectedIndex),c},gb=function(a){var c,d,e=a.target;if(Z.test(e.nodeName)&&!e.readOnly){if(c=J._data(e,"_change_data"),d=fb(e),("focusout"!==a.type||"radio"!==e.type)&&J._data(e,"_change_data",d),c===b||d===c)return;(null!=c||d)&&(a.type="change",a.liveFired=b,J.event.trigger(a,arguments[1],e))}};J.event.special.change={filters:{focusout:gb,beforedeactivate:gb,click:function(a){var b=a.target,c=J.nodeName(b,"input")?b.type:"";("radio"===c||"checkbox"===c||J.nodeName(b,"select"))&&gb.call(this,a)},keydown:function(a){var b=a.target,c=J.nodeName(b,"input")?b.type:"";(13===a.keyCode&&!J.nodeName(b,"textarea")||32===a.keyCode&&("checkbox"===c||"radio"===c)||"select-multiple"===c)&&gb.call(this,a)},beforeactivate:function(a){var b=a.target;J._data(b,"_change_data",fb(b))}},setup:function(){if("file"===this.type)return!1;for(var a in eb)J.event.add(this,a+".specialChange",eb[a]);return Z.test(this.nodeName)},teardown:function(){return J.event.remove(this,".specialChange"),Z.test(this.nodeName)}},eb=J.event.special.change.filters,eb.focus=eb.beforeactivate}J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){var c=J.event.fix(a);c.type=b,c.originalEvent={},J.event.trigger(c,null,c.target),c.isDefaultPrevented()&&a.preventDefault()}var d=0;J.event.special[b]={setup:function(){0===d++&&G.addEventListener(a,c,!0)},teardown:function(){0===--d&&G.removeEventListener(a,c,!0)}}}),J.each(["bind","one"],function(a,c){J.fn[c]=function(a,d,e){var f;if("object"==typeof a){for(var g in a)this[c](g,d,a[g],e);return this}if((2===arguments.length||d===!1)&&(e=d,d=b),"one"===c?(f=function(a){return J(this).unbind(a,f),e.apply(this,arguments)},f.guid=e.guid||J.guid++):f=e,"unload"===a&&"one"!==c)this.one(a,d,e);else for(var h=0,i=this.length;i>h;h++)J.event.add(this[h],a,f,d);return this}}),J.fn.extend({unbind:function(a,b){if("object"!=typeof a||a.preventDefault)for(var c=0,d=this.length;d>c;c++)J.event.remove(this[c],a,b);else for(var e in a)this.unbind(e,a[e]);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return 0===arguments.length?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){J.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?J.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||J.guid++,d=0,e=function(c){var e=(J.data(this,"lastToggle"+a.guid)||0)%d;return J.data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var hb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};J.each(["live","die"],function(a,c){J.fn[c]=function(a,d,e,f){var g,h,i,j,k=0,l=f||this.selector,m=f?this:J(this.context);if("object"==typeof a&&!a.preventDefault){for(var n in a)m[c](n,d,a[n],l);return this}if("die"===c&&!a&&f&&"."===f.charAt(0))return m.unbind(f),this;for((d===!1||J.isFunction(d))&&(e=d||C,d=b),a=(a||"").split(" ");null!=(g=a[k++]);)if(h=Y.exec(g),i="",h&&(i=h[0],g=g.replace(Y,"")),"hover"!==g)if(j=g,hb[g]?(a.push(hb[g]+i),g+=i):g=(hb[g]||g)+i,"live"===c)for(var o=0,p=m.length;p>o;o++)J.event.add(m[o],"live."+y(g,l),{data:d,selector:l,handler:e,origType:g,origHandler:e,preType:j});else m.unbind("live."+y(g,l),e);else a.push("mouseenter"+i,"mouseleave"+i);return this}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){J.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.bind(b,a,c):this.trigger(b)},J.attrFn&&(J.attrFn[b]=!0)}),function(){function a(a,b,c,d,e,f){for(var g=0,h=d.length;h>g;g++){var i=d[g];if(i){var j=!1;for(i=i[a];i;){if(i.sizcache===c){j=d[i.sizset];break}if(1===i.nodeType)if(f||(i.sizcache=c,i.sizset=g),"string"!=typeof b){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}i=i[a]}d[g]=j}}}function c(a,b,c,d,e,f){for(var g=0,h=d.length;h>g;g++){var i=d[g];if(i){var j=!1;for(i=i[a];i;){if(i.sizcache===c){j=d[i.sizset];break}if(1===i.nodeType&&!f&&(i.sizcache=c,i.sizset=g),i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){return h=!1,0});var k=function(a,b,c,e){c=c||[],b=b||G;var g=b;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var h,i,j,n,o,q,r,s,u=!0,v=k.isXML(b),w=[],x=a;do if(d.exec(""),h=d.exec(x),h&&(x=h[3],w.push(h[1]),h[2])){n=h[3];break}while(h);if(w.length>1&&m.exec(a))if(2===w.length&&l.relative[w[0]])i=t(w[0]+w[1],b);else for(i=l.relative[w[0]]?[b]:k(w.shift(),b);w.length;)a=w.shift(),l.relative[a]&&(a+=w.shift()),i=t(a,i);else if(!e&&w.length>1&&9===b.nodeType&&!v&&l.match.ID.test(w[0])&&!l.match.ID.test(w[w.length-1])&&(o=k.find(w.shift(),b,v),b=o.expr?k.filter(o.expr,o.set)[0]:o.set[0]),b)for(o=e?{expr:w.pop(),set:p(e)}:k.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!b.parentNode?b:b.parentNode,v),i=o.expr?k.filter(o.expr,o.set):o.set,w.length>0?j=p(i):u=!1;w.length;)q=w.pop(),r=q,l.relative[q]?r=w.pop():q="",null==r&&(r=b),l.relative[q](j,r,v);else j=w=[];if(j||(j=i),j||k.error(q||a),"[object Array]"===f.call(j))if(u)if(b&&1===b.nodeType)for(s=0;null!=j[s];s++)j[s]&&(j[s]===!0||1===j[s].nodeType&&k.contains(b,j[s]))&&c.push(i[s]);else for(s=0;null!=j[s];s++)j[s]&&1===j[s].nodeType&&c.push(i[s]);else c.push.apply(c,j);else p(j,c);return n&&(k(n,g,c,e),k.uniqueSort(c)),c};k.uniqueSort=function(a){if(r&&(g=h,a.sort(r),g))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;f>e;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];if(g.splice(1,1),"\\"!==j.substr(j.length-1)&&(g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c),null!=d)){a=a.replace(l.match[h],"");break}}}return d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),{set:d,expr:a}},k.filter=function(a,c,d,e){for(var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);a&&c.length;){for(var n in l.filter)if(null!=(f=l.leftMatch[n].exec(a))&&f[2]){var o,p,q=l.filter[n],r=f[1];if(g=!1,f.splice(1,1),"\\"===r.substr(r.length-1))continue;if(j===i&&(i=[]),l.preFilter[n])if(f=l.preFilter[n](f,j,d,i,e,m)){if(f===!0)continue}else g=o=!0;if(f)for(var s=0;null!=(p=j[s]);s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&null!=o?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){if(d||(j=i),a=a.replace(l.match[n],""),!g)return[];break}}if(a===h){if(null!=g)break;k.error(a)}h=a}return j},k.error=function(a){throw"Syntax error, unrecognized expression: "+a};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f,g=0,h=a.length;h>g;g++)if(f=a[g]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[g]=e||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}e&&k.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!j.test(b)){for(b=b.toLowerCase();f>e;e++)if(c=a[e]){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}else{for(;f>e;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(b,d,f){var g,h=e++,i=a;"string"==typeof d&&!j.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,f)},"~":function(b,d,f){var g,h=e++,i=a;"string"==typeof d&&!j.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,f)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;f>e;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(i,"")+" ",f)return a;for(var g,h=0;null!=(g=b[h]);h++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");return!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if("not"===a[1]){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=k.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=k(a[3],null,null,b)}else if(l.match.POS.test(a[0])||l.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;if("not"===e){for(var g=b[3],h=0,i=g.length;i>h;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===c)return!0;d=a;case"last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case"nth":var e=b[2],f=b[3];if(1===e&&0===f)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return 0===e?0===j:j%e===0&&j/e>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return null==d?"!="===f:"="===f?e===g:"*="===f?e.indexOf(g)>=0:"~="===f?(" "+e+" ").indexOf(g)>=0:g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];return f?f(a,c,b,d):void 0}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[o].source.replace(/\\(\d+)/g,n));var p=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(G.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if("[object Array]"===f.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;e>c;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;G.documentElement.compareDocumentPosition?r=function(a,b){return a===b?(g=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(r=function(a,b){if(a===b)return g=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){for(var b,c="",d=0;a[d];d++)b=a[d],3===b.nodeType||4===b.nodeType?c+=b.nodeValue:8!==b.nodeType&&(c+=k.getText(b.childNodes));return c},function(){var a=G.createElement("div"),c="script"+(new Date).getTime(),d=G.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),G.getElementById(c)&&(l.find.ID=function(a,c,d){if("undefined"!=typeof c.getElementById&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=G.createElement("div");a.appendChild(G.createComment("")),a.getElementsByTagName("*").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(l.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),G.querySelectorAll&&function(){var a=k,b=G.createElement("div"),c="__sizzle__";if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){k=function(b,d,e,f){if(d=d||G,!f&&!k.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(1===d.nodeType||9===d.nodeType)){if(g[1])return p(d.getElementsByTagName(b),e);if(g[2]&&l.find.CLASS&&d.getElementsByClassName)return p(d.getElementsByClassName(g[2]),e)}if(9===d.nodeType){if("body"===b&&d.body)return p([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return p([],e);if(h.id===g[3])return p([h],e)}try{return p(d.querySelectorAll(b),e)}catch(i){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d,m=d.getAttribute("id"),n=m||c,o=d.parentNode,q=/^\s*[+~]/.test(b);m?n=n.replace(/'/g,"\\$&"):d.setAttribute("id",n),q&&o&&(d=d.parentNode);try{if(!q||o)return p(d.querySelectorAll("[id='"+n+"'] "+b),e)}catch(r){}finally{m||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)k[d]=a[d];b=null}}(),function(){var a=G.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(G.createElement("div"),"div"),d=!1;try{b.call(G.documentElement,"[test!='']:sizzle")}catch(e){d=!0}k.matchesSelector=function(a,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!k.isXML(a))try{if(d||!l.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return k(e,null,null,[a]).length>0}}}(),function(){var a=G.createElement("div");if(a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length){if(a.lastChild.className="e",1===a.getElementsByClassName("e").length)return;l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,b,c){return"undefined"==typeof b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])},a=null}}(),k.contains=G.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:G.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1};var t=function(a,b){for(var c,d=[],e="",f=b.nodeType?[b]:b;c=l.match.PSEUDO.exec(a);)e+=c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;for(var g=0,h=f.length;h>g;g++)k(a,f[g],d);return k.filter(e,d)};J.find=k,J.expr=k.selectors,J.expr[":"]=J.expr.filters,J.unique=k.uniqueSort,J.text=k.getText,J.isXMLDoc=k.isXML,J.contains=k.contains}();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/,lb=/^.[^:#\[\.,]*$/,mb=Array.prototype.slice,nb=J.expr.match.POS,ob={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(a){var b,c,d=this;if("string"!=typeof a)return J(a).filter(function(){for(b=0,c=d.length;c>b;b++)if(J.contains(d[b],this))return!0});var e,f,g,h=this.pushStack("","find",a);for(b=0,c=this.length;c>b;b++)if(e=h.length,J.find(a,this[b],h),b>0)for(f=e;f<h.length;f++)for(g=0;e>g;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},has:function(a){var b=J(a);return this.filter(function(){for(var a=0,c=b.length;c>a;a++)if(J.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(w(this,a,!1),"not",a)},filter:function(a){return this.pushStack(w(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?J.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d,e=[],f=this[0];if(J.isArray(a)){var g,h,i={},j=1;if(f&&a.length){for(c=0,d=a.length;d>c;c++)h=a[c],i[h]||(i[h]=nb.test(h)?J(h,b||this.context):h);for(;f&&f.ownerDocument&&f!==b;){for(h in i)g=i[h],(g.jquery?g.index(f)>-1:J(f).is(g))&&e.push({selector:h,elem:f,level:j});f=f.parentNode,j++}}return e}var k=nb.test(a)||"string"!=typeof a?J(a,b||this.context):0;for(c=0,d=this.length;d>c;c++)for(f=this[c];f;){if(k?k.index(f)>-1:J.find.matchesSelector(f,a)){e.push(f);break}if(f=f.parentNode,!f||!f.ownerDocument||f===b||11===f.nodeType)break}return e=e.length>1?J.unique(e):e,this.pushStack(e,"closest",a)},index:function(a){return a&&"string"!=typeof a?J.inArray(a.jquery?a[0]:a,this):J.inArray(this[0],a?J(a):this.parent().children())},add:function(a,b){var c="string"==typeof a?J(a,b):J.makeArray(a&&a.nodeType?[a]:a),d=J.merge(this.get(),c);return this.pushStack(x(c[0])||x(d[0])?d:J.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),J.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return J.dir(a,"parentNode")},parentsUntil:function(a,b,c){return J.dir(a,"parentNode",c)},next:function(a){return J.nth(a,2,"nextSibling")},prev:function(a){return J.nth(a,2,"previousSibling")},nextAll:function(a){return J.dir(a,"nextSibling")},prevAll:function(a){return J.dir(a,"previousSibling")},nextUntil:function(a,b,c){return J.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return J.dir(a,"previousSibling",c)},siblings:function(a){return J.sibling(a.parentNode.firstChild,a)},children:function(a){return J.sibling(a.firstChild)},contents:function(a){return J.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:J.makeArray(a.childNodes)}},function(a,b){J.fn[a]=function(c,d){var e=J.map(this,b,c),f=mb.call(arguments);return ib.test(a)||(d=c),d&&"string"==typeof d&&(e=J.filter(d,e)),e=this.length>1&&!ob[a]?J.unique(e):e,(this.length>1||kb.test(d))&&jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,f.join(","))}}),J.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?J.find.matchesSelector(b[0],a)?[b[0]]:[]:J.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!J(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a&&(1!==a.nodeType||++d!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var pb=/ jQuery\d+="(?:\d+|null)"/g,qb=/^\s+/,rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,sb=/<([\w:]+)/,tb=/<tbody/i,ub=/<|&#?\w+;/,vb=/<(?:script|object|embed|option|style)/i,wb=/checked\s*(?:[^=]|=\s*.checked.)/i,xb=/\/(java|ecma)script/i,yb=/^\s*<!(?:\[CDATA\[|\-\-)/,zb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};zb.optgroup=zb.option,zb.tbody=zb.tfoot=zb.colgroup=zb.caption=zb.thead,zb.th=zb.td,J.support.htmlSerialize||(zb._default=[1,"div<div>","</div>"]),J.fn.extend({text:function(a){return J.isFunction(a)?this.each(function(b){var c=J(this);c.text(a.call(this,b,c.text()))}):"object"!=typeof a&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(a)):J.text(this)},wrapAll:function(a){if(J.isFunction(a))return this.each(function(b){J(this).wrapAll(a.call(this,b))});if(this[0]){var b=J(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(J.isFunction(a)?function(b){J(this).wrapInner(a.call(this,b))}:function(){var b=J(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){J(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=J(arguments[0]);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,J(arguments[0]).toArray()),a}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||J.filter(a,[c]).length)&&(!b&&1===c.nodeType&&(J.cleanData(c.getElementsByTagName("*")),J.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&J.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return J.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(pb,""):null;if("string"!=typeof a||vb.test(a)||!J.support.leadingWhitespace&&qb.test(a)||zb[(sb.exec(a)||["",""])[1].toLowerCase()])J.isFunction(a)?this.each(function(b){var c=J(this);
c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(rb,"<$1></$2>");try{for(var c=0,d=this.length;d>c;c++)1===this[c].nodeType&&(J.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}return this},replaceWith:function(a){return this[0]&&this[0].parentNode?J.isFunction(a)?this.each(function(b){var c=J(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=J(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;J(this).remove(),b?J(b).before(a):J(c).append(a)})):this.length?this.pushStack(J(J.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!J.support.checkClone&&3===arguments.length&&"string"==typeof i&&wb.test(i))return this.each(function(){J(this).domManip(a,c,d,!0)});if(J.isFunction(i))return this.each(function(e){var f=J(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(h=i&&i.parentNode,e=J.support.parentNode&&h&&11===h.nodeType&&h.childNodes.length===this.length?{fragment:h}:J.buildFragment(a,this,j),g=e.fragment,f=1===g.childNodes.length?g=g.firstChild:g.firstChild,f){c=c&&J.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;l>k;k++)d.call(c?v(this[k],f):this[k],e.cacheable||l>1&&m>k?J.clone(g,!0,!0):g)}j.length&&J.each(j,p)}return this}}),J.buildFragment=function(a,b,c){var d,e,f,g;return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=G),1===a.length&&"string"==typeof a[0]&&a[0].length<512&&g===G&&"<"===a[0].charAt(0)&&!vb.test(a[0])&&(J.support.checkClone||!wb.test(a[0]))&&(e=!0,f=J.fragments[a[0]],f&&1!==f&&(d=f)),d||(d=g.createDocumentFragment(),J.clean(a,g,d,c)),e&&(J.fragments[a[0]]=f?d:1),{fragment:d,cacheable:e}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){J.fn[a]=function(c){var d=[],e=J(c),f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var g=0,h=e.length;h>g;g++){var i=(g>0?this.clone(!0):this).get();J(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),J.extend({clone:function(a,b,c){var d,e,f,g=a.cloneNode(!0);if(!(J.support.noCloneEvent&&J.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||J.isXMLDoc(a)))for(t(a,g),d=s(a),e=s(g),f=0;d[f];++f)t(d[f],e[f]);if(b&&(u(a,g),c))for(d=s(a),e=s(g),f=0;d[f];++f)u(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e;b=b||G,"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||G);for(var f,g,h=[],i=0;null!=(g=a[i]);i++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(ub.test(g)){g=g.replace(rb,"<$1></$2>");var j=(sb.exec(g)||["",""])[1].toLowerCase(),k=zb[j]||zb._default,l=k[0],m=b.createElement("div");for(m.innerHTML=k[1]+g+k[2];l--;)m=m.lastChild;if(!J.support.tbody){var n=tb.test(g),o="table"!==j||n?"<table>"!==k[1]||n?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(f=o.length-1;f>=0;--f)J.nodeName(o[f],"tbody")&&!o[f].childNodes.length&&o[f].parentNode.removeChild(o[f])}!J.support.leadingWhitespace&&qb.test(g)&&m.insertBefore(b.createTextNode(qb.exec(g)[0]),m.firstChild),g=m.childNodes}else g=b.createTextNode(g);var p;if(!J.support.appendChecked)if(g[0]&&"number"==typeof(p=g.length))for(f=0;p>f;f++)q(g[f]);else q(g);g.nodeType?h.push(g):h=J.merge(h,g)}if(c)for(e=function(a){return!a.type||xb.test(a.type)},i=0;h[i];i++)if(!d||!J.nodeName(h[i],"script")||h[i].type&&"text/javascript"!==h[i].type.toLowerCase()){if(1===h[i].nodeType){var r=J.grep(h[i].getElementsByTagName("script"),e);h.splice.apply(h,[i+1,0].concat(r))}c.appendChild(h[i])}else d.push(h[i].parentNode?h[i].parentNode.removeChild(h[i]):h[i]);return h},cleanData:function(a){for(var b,c,d,e=J.cache,f=J.expando,g=J.event.special,h=J.support.deleteExpando,i=0;null!=(d=a[i]);i++)if((!d.nodeName||!J.noData[d.nodeName.toLowerCase()])&&(c=d[J.expando])){if(b=e[c]&&e[c][f],b&&b.events){for(var j in b.events)g[j]?J.event.remove(d,j):J.removeEvent(d,j,b.handle);b.handle&&(b.handle.elem=null)}h?delete d[J.expando]:d.removeAttribute&&d.removeAttribute(J.expando),delete e[c]}}});var Ab,Bb,Cb,Db=/alpha\([^)]*\)/i,Eb=/opacity=([^)]*)/,Fb=/([A-Z]|^ms)/g,Gb=/^-?\d+(?:px)?$/i,Hb=/^-?\d/,Ib=/^[+\-]=/,Jb=/[^+\-\.\de]+/g,Kb={position:"absolute",visibility:"hidden",display:"block"},Lb=["Left","Right"],Mb=["Top","Bottom"];J.fn.css=function(a,c){return 2===arguments.length&&c===b?this:J.access(this,a,c,!0,function(a,c,d){return d!==b?J.style(a,c,d):J.css(a,c)})},J.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ab(a,"opacity","opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h=J.camelCase(c),i=a.style,j=J.cssHooks[h];if(c=J.cssProps[h]||h,d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];if(g=typeof d,"number"===g&&isNaN(d)||null==d)return;if("string"===g&&Ib.test(d)&&(d=+d.replace(Jb,"")+parseFloat(J.css(a,c)),g="number"),"number"===g&&!J.cssNumber[h]&&(d+="px"),!(j&&"set"in j&&(d=j.set(a,d))===b))try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;return c=J.camelCase(c),f=J.cssHooks[c],c=J.cssProps[c]||c,"cssFloat"===c&&(c="float"),f&&"get"in f&&(e=f.get(a,!0,d))!==b?e:Ab?Ab(a,c):void 0},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),J.curCSS=J.css,J.each(["height","width"],function(a,b){J.cssHooks[b]={get:function(a,c,d){var e;return c?0!==a.offsetWidth?o(a,b,d):(J.swap(a,Kb,function(){e=o(a,b,d)}),e):void 0},set:function(a,b){return Gb.test(b)?(b=parseFloat(b),b>=0?b+"px":void 0):b}}}),J.support.opacity||(J.cssHooks.opacity={get:function(a,b){return Eb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle;c.zoom=1;var e=J.isNaN(b)?"":"alpha(opacity="+100*b+")",f=d&&d.filter||c.filter||"";c.filter=Db.test(f)?f.replace(Db,e):f+" "+e}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(a,b){var c;return J.swap(a,{display:"inline-block"},function(){c=b?Ab(a,"margin-right","marginRight"):a.style.marginRight}),c}})}),G.defaultView&&G.defaultView.getComputedStyle&&(Bb=function(a,c){var d,e,f;return c=c.replace(Fb,"-$1").toLowerCase(),(e=a.ownerDocument.defaultView)?((f=e.getComputedStyle(a,null))&&(d=f.getPropertyValue(c),""===d&&!J.contains(a.ownerDocument.documentElement,a)&&(d=J.style(a,c))),d):b}),G.documentElement.currentStyle&&(Cb=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;return!Gb.test(d)&&Hb.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":d||0,d=f.pixelLeft+"px",f.left=c,e&&(a.runtimeStyle.left=e)),""===d?"auto":d}),Ab=Bb||Cb,J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return 0===b&&0===c||!J.support.reliableHiddenOffsets&&"none"===(a.style.display||J.css(a,"display"))},J.expr.filters.visible=function(a){return!J.expr.filters.hidden(a)});var Nb,Ob,Pb=/%20/g,Qb=/\[\]$/,Rb=/\r?\n/g,Sb=/#.*$/,Tb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ub=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Vb=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,Wb=/^(?:GET|HEAD)$/,Xb=/^\/\//,Yb=/\?/,Zb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$b=/^(?:select|textarea)/i,_b=/\s+/,ac=/([?&])_=[^&]*/,bc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cc=J.fn.load,dc={},ec={};try{Nb=I.href}catch(fc){Nb=G.createElement("a"),Nb.href="",Nb=Nb.href}Ob=bc.exec(Nb.toLowerCase())||[],J.fn.extend({load:function(a,c,d){if("string"!=typeof a&&cc)return cc.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(J.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=J.param(c,J.ajaxSettings.traditional),g="POST"));var h=this;return J.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?J("<div>").append(c.replace(Zb,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||$b.test(this.nodeName)||Ub.test(this.type))}).map(function(a,b){var c=J(this).val();return null==c?null:J.isArray(c)?J.map(c,function(a){return{name:b.name,value:a.replace(Rb,"\r\n")}}):{name:b.name,value:c.replace(Rb,"\r\n")}}).get()}}),J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){J.fn[b]=function(a){return this.bind(b,a)}}),J.each(["get","post"],function(a,c){J[c]=function(a,d,e,f){return J.isFunction(d)&&(f=f||e,e=d,d=b),J.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),J.extend({getScript:function(a,c){return J.get(a,b,c,"script")},getJSON:function(a,b,c){return J.get(a,b,c,"json")},ajaxSetup:function(a,b){b?J.extend(!0,a,J.ajaxSettings,b):(b=a,a=J.extend(!0,J.ajaxSettings,b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in J.ajaxSettings&&(a[c]=J.ajaxSettings[c]);return a},ajaxSettings:{url:Nb,isLocal:Vb.test(Ob[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML}},ajaxPrefilter:n(dc),ajaxTransport:n(ec),ajax:function(a,c){function d(a,c,d,g){if(2!==x){x=2,i&&clearTimeout(i),h=b,f=g||"",y.readyState=a?4:0;var l,m,o,v,w,z=d?k(p,y,d):b;if(a>=200&&300>a||304===a)if(p.ifModified&&((v=y.getResponseHeader("Last-Modified"))&&(J.lastModified[e]=v),(w=y.getResponseHeader("Etag"))&&(J.etag[e]=w)),304===a)c="notmodified",l=!0;else try{m=j(p,z),c="success",l=!0}catch(A){c="parsererror",o=A}else o=c,(!c||a)&&(c="error",0>a&&(a=0));y.status=a,y.statusText=c,l?s.resolveWith(q,[m,c,y]):s.rejectWith(q,[y,c,o]),y.statusCode(u),u=b,n&&r.trigger("ajax"+(l?"Success":"Error"),[y,p,l?m:o]),t.resolveWith(q,[y,c]),n&&(r.trigger("ajaxComplete",[y,p]),--J.active||J.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,l,n,o,p=J.ajaxSetup({},c),q=p.context||p,r=q!==p&&(q.nodeType||q instanceof J)?J(q):J.event,s=J.Deferred(),t=J._Deferred(),u=p.statusCode||{},v={},w={},x=0,y={readyState:0,setRequestHeader:function(a,b){if(!x){var c=a.toLowerCase();a=w[c]=w[c]||a,v[a]=b}return this},getAllResponseHeaders:function(){return 2===x?f:null},getResponseHeader:function(a){var c;if(2===x){if(!g)for(g={};c=Tb.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return x||(p.mimeType=a),this},abort:function(a){return a=a||"abort",h&&h.abort(a),d(0,a),this}};if(s.promise(y),y.success=y.done,y.error=y.fail,y.complete=t.done,y.statusCode=function(a){if(a){var b;if(2>x)for(b in a)u[b]=[u[b],a[b]];else b=a[y.status],y.then(b,b)}return this},p.url=((a||p.url)+"").replace(Sb,"").replace(Xb,Ob[1]+"//"),p.dataTypes=J.trim(p.dataType||"*").toLowerCase().split(_b),null==p.crossDomain&&(l=bc.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]==Ob[1]&&l[2]==Ob[2]&&(l[3]||("http:"===l[1]?80:443))==(Ob[3]||("http:"===Ob[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=J.param(p.data,p.traditional)),m(dc,p,c,y),2===x)return!1;if(n=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Wb.test(p.type),n&&0===J.active++&&J.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Yb.test(p.url)?"&":"?")+p.data),e=p.url,p.cache===!1)){var z=J.now(),A=p.url.replace(ac,"$1_="+z);p.url=A+(A===p.url?(Yb.test(p.url)?"&":"?")+"_="+z:"")}(p.data&&p.hasContent&&p.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(e=e||p.url,J.lastModified[e]&&y.setRequestHeader("If-Modified-Since",J.lastModified[e]),J.etag[e]&&y.setRequestHeader("If-None-Match",J.etag[e])),y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", */*; q=0.01":""):p.accepts["*"]);for(o in p.headers)y.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(q,y,p)===!1||2===x))return y.abort(),!1;for(o in{success:1,error:1,complete:1})y[o](p[o]);if(h=m(ec,p,c,y)){y.readyState=1,n&&r.trigger("ajaxSend",[y,p]),p.async&&p.timeout>0&&(i=setTimeout(function(){y.abort("timeout")},p.timeout));try{x=1,h.send(v,d)}catch(B){2>status?d(-1,B):J.error(B)}}else d(-1,"No Transport");return y},param:function(a,c){var d=[],e=function(a,b){b=J.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=J.ajaxSettings.traditional),J.isArray(a)||a.jquery&&!J.isPlainObject(a))J.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(Pb,"+")}}),J.extend({active:0,lastModified:{},etag:{}});var gc=J.now(),hc=/(\=)\?(&|$)|\?\?/i;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return J.expando+"_"+gc++}}),J.ajaxPrefilter("json jsonp",function(b,c,d){var e="application/x-www-form-urlencoded"===b.contentType&&"string"==typeof b.data;if("jsonp"===b.dataTypes[0]||b.jsonp!==!1&&(hc.test(b.url)||e&&hc.test(b.data))){var f,g=b.jsonpCallback=J.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(hc,k),b.url===i&&(e&&(j=j.replace(hc,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&J.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||J.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return J.globalEval(a),a}}}),J.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),J.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=G.head||G.getElementsByTagName("head")[0]||G.documentElement;return{send:function(e,f){c=G.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var ic,jc=a.ActiveXObject?function(){for(var a in ic)ic[a](0,1)}:!1,kc=0;J.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){J.extend(J.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(c){if(!c.crossDomain||J.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=J.noop,jc&&delete ic[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m),l.text=i.responseText;try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async&&4!==i.readyState?(g=++kc,jc&&(ic||(ic={},J(a).unload(jc)),ic[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var lc,mc,nc,oc,pc={},qc=/^(?:toggle|show|hide)$/,rc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,sc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],tc=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame;J.fn.extend({show:function(a,b,c){var f,g;if(a||0===a)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;i>h;h++)f=this[h],f.style&&(g=f.style.display,!J._data(f,"olddisplay")&&"none"===g&&(g=f.style.display=""),""===g&&"none"===J.css(f,"display")&&J._data(f,"olddisplay",d(f.nodeName)));for(h=0;i>h;h++)f=this[h],f.style&&(g=f.style.display,(""===g||"none"===g)&&(f.style.display=J._data(f,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(e("hide",3),a,b,c);for(var d=0,f=this.length;f>d;d++)if(this[d].style){var g=J.css(this[d],"display");"none"!==g&&!J._data(this[d],"olddisplay")&&J._data(this[d],"olddisplay",g)}for(d=0;f>d;d++)this[d].style&&(this[d].style.display="none");return this},_toggle:J.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return J.isFunction(a)&&J.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:J(this).is(":hidden");J(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=J.speed(b,c,e);return J.isEmptyObject(a)?this.each(f.complete,[!1]):(a=J.extend({},a),this[f.queue===!1?"each":"queue"](function(){f.queue===!1&&J._mark(this);var b,c,e,g,h,i,j,k,l,m=J.extend({},f),n=1===this.nodeType,o=n&&J(this).is(":hidden");m.animatedProperties={};for(e in a){if(b=J.camelCase(e),e!==b&&(a[b]=a[e],delete a[e]),c=a[b],J.isArray(c)?(m.animatedProperties[b]=c[1],c=a[b]=c[0]):m.animatedProperties[b]=m.specialEasing&&m.specialEasing[b]||m.easing||"swing","hide"===c&&o||"show"===c&&!o)return m.complete.call(this);n&&("height"===b||"width"===b)&&(m.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===J.css(this,"display")&&"none"===J.css(this,"float")&&(J.support.inlineBlockNeedsLayout?(g=d(this.nodeName),"inline"===g?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}null!=m.overflow&&(this.style.overflow="hidden");for(e in a)h=new J.fx(this,m,e),c=a[e],qc.test(c)?h["toggle"===c?o?"show":"hide":c]():(i=rc.exec(c),j=h.cur(),i?(k=parseFloat(i[2]),l=i[3]||(J.cssNumber[e]?"":"px"),"px"!==l&&(J.style(this,e,(k||1)+l),j=(k||1)/h.cur()*j,J.style(this,e,j+l)),i[1]&&(k=("-="===i[1]?-1:1)*k+j),h.custom(j,k,l)):h.custom(j,c,""));return!0}))},stop:function(a,b){return a&&this.queue([]),this.each(function(){var a=J.timers,c=a.length;for(b||J._unmark(!0,this);c--;)a[c].elem===this&&(b&&a[c](!0),a.splice(c,1))}),b||this.dequeue(),this}}),J.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){J.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),J.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?J.extend({},a):{complete:c||!c&&b||J.isFunction(a)&&a,duration:a,easing:c&&b||b&&!J.isFunction(b)&&b};return d.duration=J.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in J.fx.speeds?J.fx.speeds[d.duration]:J.fx.speeds._default,d.old=d.complete,d.complete=function(a){J.isFunction(d.old)&&d.old.call(this),d.queue!==!1?J.dequeue(this):a!==!1&&J._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),J.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(J.fx.step[this.prop]||J.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=J.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,b,c){function d(a){return f.step(a)}var e,f=this,h=J.fx;this.startTime=oc||g(),this.start=a,this.end=b,this.unit=c||this.unit||(J.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,d.elem=this.elem,d()&&J.timers.push(d)&&!nc&&(tc?(nc=!0,e=function(){nc&&(tc(e),h.tick())},tc(e)):nc=setInterval(h.tick,h.interval))},show:function(){this.options.orig[this.prop]=J.style(this.elem,this.prop),this.options.show=!0,this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),J(this.elem).show()},hide:function(){this.options.orig[this.prop]=J.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d=oc||g(),e=!0,f=this.elem,h=this.options;if(a||d>=h.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),h.animatedProperties[this.prop]=!0;for(b in h.animatedProperties)h.animatedProperties[b]!==!0&&(e=!1);if(e){if(null!=h.overflow&&!J.support.shrinkWrapBlocks&&J.each(["","X","Y"],function(a,b){f.style["overflow"+b]=h.overflow[a]}),h.hide&&J(f).hide(),h.hide||h.show)for(var i in h.animatedProperties)J.style(f,i,h.orig[i]);h.complete.call(f)}return!1}return 1/0==h.duration?this.now=d:(c=d-this.startTime,this.state=c/h.duration,this.pos=J.easing[h.animatedProperties[this.prop]](this.state,c,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},J.extend(J.fx,{tick:function(){for(var a=J.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||J.fx.stop()},interval:13,stop:function(){clearInterval(nc),nc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){J.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=("width"===a.prop||"height"===a.prop?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),J.expr&&J.expr.filters&&(J.expr.filters.animated=function(a){return J.grep(J.timers,function(b){return a===b.elem}).length});var uc=/^t(?:able|d|h)$/i,vc=/^(?:body|html)$/i;J.fn.offset="getBoundingClientRect"in G.documentElement?function(a){var b,d=this[0];if(a)return this.each(function(b){J.offset.setOffset(this,a,b)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return J.offset.bodyOffset(d);try{b=d.getBoundingClientRect()}catch(e){}var f=d.ownerDocument,g=f.documentElement;if(!b||!J.contains(g,d))return b?{top:b.top,left:b.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||J.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||J.support.boxModel&&g.scrollLeft||h.scrollLeft,n=b.top+l-j,o=b.left+m-k;return{top:n,left:o}}:function(a){var b=this[0];if(a)return this.each(function(b){J.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return J.offset.bodyOffset(b);J.offset.initialize();for(var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;(b=b.parentNode)&&b!==h&&b!==g&&(!J.offset.supportsFixedPosition||"fixed"!==j.position);)c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,J.offset.doesNotAddBorder&&(!J.offset.doesAddBorderForTableAndCells||!uc.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),J.offset.subtractsBorderForOverflowNotVisible&&"visible"!==c.overflow&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c;return("relative"===j.position||"static"===j.position)&&(k+=h.offsetTop,l+=h.offsetLeft),J.offset.supportsFixedPosition&&"fixed"===j.position&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},J.offset={initialize:function(){var a,b,c,d=G.body,e=G.createElement("div"),f=parseFloat(J.css(d,"marginTop"))||0,g="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";J.extend(e.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),e.innerHTML=g,d.insertBefore(e,d.firstChild),a=e.firstChild,b=a.firstChild,c=a.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==b.offsetTop,this.doesAddBorderForTableAndCells=5===c.offsetTop,b.style.position="fixed",b.style.top="20px",this.supportsFixedPosition=20===b.offsetTop||15===b.offsetTop,b.style.position=b.style.top="",a.style.overflow="hidden",a.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===b.offsetTop,this.doesNotIncludeMarginInBodyOffset=d.offsetTop!==f,d.removeChild(e),J.offset.initialize=J.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return J.offset.initialize(),J.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(J.css(a,"marginTop"))||0,c+=parseFloat(J.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=J.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=J(a),h=g.offset(),i=J.css(a,"top"),j=J.css(a,"left"),k=("absolute"===d||"fixed"===d)&&J.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),J.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},J.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=vc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(J.css(a,"marginTop"))||0,c.left-=parseFloat(J.css(a,"marginLeft"))||0,d.top+=parseFloat(J.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(J.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||G.body;a&&!vc.test(a.nodeName)&&"static"===J.css(a,"position");)a=a.offsetParent;return a})}}),J.each(["Left","Top"],function(a,d){var e="scroll"+d;J.fn[e]=function(d){var f,g;return d===b?(f=this[0])?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:J.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null:this.each(function(){g=c(this),g?g.scrollTo(a?J(g).scrollLeft():d,a?d:J(g).scrollTop()):this[e]=d})}}),J.each(["Height","Width"],function(a,c){var d=c.toLowerCase();J.fn["inner"+c]=function(){var a=this[0];return a&&a.style?parseFloat(J.css(a,d,"padding")):null},J.fn["outer"+c]=function(a){var b=this[0];return b&&b.style?parseFloat(J.css(b,d,a?"margin":"border")):null},J.fn[d]=function(a){var e=this[0];if(!e)return null==a?null:this;if(J.isFunction(a))return this.each(function(b){var c=J(this);c[d](a.call(this,b,c[d]()))});if(J.isWindow(e)){var f=e.document.documentElement["client"+c];return"CSS1Compat"===e.document.compatMode&&f||e.document.body["client"+c]||f}if(9===e.nodeType)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var g=J.css(e,d),h=parseFloat(g);return J.isNaN(h)?g:h}return this.css(d,"string"==typeof a?a:a+"px")}}),a.jQuery=a.$=J}(window),function(a){function b(b){a.jqplot.ElemContainer.call(this),this.name=b,this._series=[],this.show=!1,this.tickRenderer=a.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=a.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=a.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function c(b){a.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=a.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],a.extend(!0,this,b)}function d(b){a.jqplot.ElemContainer.call(this),this.text=b,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=a.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function e(){a.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=a.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=a.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new a.jqplot.GenericCanvas,this.shadowCanvas=new a.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function f(){a.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=a.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}function g(){function h(a){for(var b,c=0;c<a.length;c++)for(var d,e=[a[c].data,a[c]._stackData,a[c]._plotData,a[c]._prevPlotData],f=0;4>f;f++)if(d=!0,b=e[f],"x"==a[c]._stackAxis){for(var g=0;g<b.length;g++)if("number"!=typeof b[g][1]){d=!1;break}d&&b.sort(function(a,b){return a[1]-b[1]})}else{for(var g=0;g<b.length;g++)if("number"!=typeof b[g][0]){d=!1;break}d&&b.sort(function(a,b){return a[0]-b[0]})}}function i(a){var b,c,d=a.data.plot,e=d.eventCanvas._elem.offset(),f={x:a.pageX-e.left,y:a.pageY-e.top},g={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},h=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],i=d.axes;
for(b=11;b>0;b--)c=h[b-1],i[c].show&&(g[c]=i[c].series_p2u(f[c.charAt(0)]));return{offsets:e,gridPos:f,dataPos:g}}function j(b,c){function d(a,b,c){var d=(b[1]-c[1])/(b[0]-c[0]),e=b[1]-d*b[0],f=a+b[1];return[(f-e)/d,f]}var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=c.series;for(g=c.seriesStack.length-1;g>=0;g--)switch(e=c.seriesStack[g],h=w[e],h.renderer.constructor){case a.jqplot.BarRenderer:case a.jqplot.PyramidRenderer:for(j=b.x,k=b.y,f=0;f<h._barPoints.length;f++)if(t=h._barPoints[f],s=h.gridData[f],j>t[0][0]&&j<t[2][0]&&k>t[2][1]&&k<t[0][1])return{seriesIndex:h.index,pointIndex:f,gridData:s,data:h.data[f],points:h._barPoints[f]};break;case a.jqplot.DonutRenderer:if(n=h.startAngle/180*Math.PI,j=b.x-h._center[0],k=b.y-h._center[1],i=Math.sqrt(Math.pow(j,2)+Math.pow(k,2)),j>0&&-k>=0?l=2*Math.PI-Math.atan(-k/j):j>0&&0>-k?l=-Math.atan(-k/j):0>j?l=Math.PI-Math.atan(-k/j):0==j&&-k>0?l=3*Math.PI/2:0==j&&0>-k?l=Math.PI/2:0==j&&0==k&&(l=0),n&&(l-=n,0>l?l+=2*Math.PI:l>2*Math.PI&&(l-=2*Math.PI)),m=h.sliceMargin/180*Math.PI,i<h._radius&&i>h._innerRadius)for(f=0;f<h.gridData.length;f++)if(o=f>0?h.gridData[f-1][1]+m:m,p=h.gridData[f][1],l>o&&p>l)return{seriesIndex:h.index,pointIndex:f,gridData:h.gridData[f],data:h.data[f]};break;case a.jqplot.PieRenderer:if(n=h.startAngle/180*Math.PI,j=b.x-h._center[0],k=b.y-h._center[1],i=Math.sqrt(Math.pow(j,2)+Math.pow(k,2)),j>0&&-k>=0?l=2*Math.PI-Math.atan(-k/j):j>0&&0>-k?l=-Math.atan(-k/j):0>j?l=Math.PI-Math.atan(-k/j):0==j&&-k>0?l=3*Math.PI/2:0==j&&0>-k?l=Math.PI/2:0==j&&0==k&&(l=0),n&&(l-=n,0>l?l+=2*Math.PI:l>2*Math.PI&&(l-=2*Math.PI)),m=h.sliceMargin/180*Math.PI,i<h._radius)for(f=0;f<h.gridData.length;f++)if(o=f>0?h.gridData[f-1][1]+m:m,p=h.gridData[f][1],l>o&&p>l)return{seriesIndex:h.index,pointIndex:f,gridData:h.gridData[f],data:h.data[f]};break;case a.jqplot.BubbleRenderer:j=b.x,k=b.y;var x=null;if(h.show){for(var f=0;f<h.gridData.length;f++)s=h.gridData[f],r=Math.sqrt((j-s[0])*(j-s[0])+(k-s[1])*(k-s[1])),r<=s[2]&&(q>=r||null==q)&&(q=r,x={seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]});if(null!=x)return x}break;case a.jqplot.FunnelRenderer:j=b.x,k=b.y;var y,z,A,B=h._vertices,C=B[0],D=B[B.length-1];for(y=d(k,C[0],D[3]),z=d(k,C[1],D[2]),f=0;f<B.length;f++)if(A=B[f],k>=A[0][1]&&k<=A[3][1]&&j>=y[0]&&j<=z[0])return{seriesIndex:h.index,pointIndex:f,gridData:null,data:h.data[f]};break;case a.jqplot.LineRenderer:if(j=b.x,k=b.y,i=h.renderer,h.show){if(!(!(h.fill||h.renderer.bands.show&&h.renderer.bands.fill)||c.plugins.highlighter&&c.plugins.highlighter.show)){var E=!1;if(j>h._boundingBox[0][0]&&j<h._boundingBox[1][0]&&k>h._boundingBox[1][1]&&k<h._boundingBox[0][1])for(var F,G=h._areaPoints.length,f=G-1,F=0;G>F;F++){var H=[h._areaPoints[F][0],h._areaPoints[F][1]],I=[h._areaPoints[f][0],h._areaPoints[f][1]];(H[1]<k&&I[1]>=k||I[1]<k&&H[1]>=k)&&H[0]+(k-H[1])/(I[1]-H[1])*(I[0]-H[0])<j&&(E=!E),f=F}if(E)return{seriesIndex:e,pointIndex:null,gridData:h.gridData,data:h.data,points:h._areaPoints};break}v=h.markerRenderer.size/2+h.neighborThreshold,u=v>0?v:0;for(var f=0;f<h.gridData.length;f++)if(s=h.gridData[f],i.constructor==a.jqplot.OHLCRenderer)if(i.candleStick){var J=h._yaxis.series_u2p;if(j>=s[0]-i._bodyWidth/2&&j<=s[0]+i._bodyWidth/2&&k>=J(h.data[f][2])&&k<=J(h.data[f][3]))return{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}else if(i.hlc){var J=h._yaxis.series_u2p;if(j>=s[0]-i._tickLength&&j<=s[0]+i._tickLength&&k>=J(h.data[f][1])&&k<=J(h.data[f][2]))return{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}else{var J=h._yaxis.series_u2p;if(j>=s[0]-i._tickLength&&j<=s[0]+i._tickLength&&k>=J(h.data[f][2])&&k<=J(h.data[f][3]))return{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}else if(null!=s[0]&&null!=s[1]&&(r=Math.sqrt((j-s[0])*(j-s[0])+(k-s[1])*(k-s[1])),u>=r&&(q>=r||null==q)))return q=r,{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}break;default:if(j=b.x,k=b.y,i=h.renderer,h.show){v=h.markerRenderer.size/2+h.neighborThreshold,u=v>0?v:0;for(var f=0;f<h.gridData.length;f++)if(s=h.gridData[f],i.constructor==a.jqplot.OHLCRenderer)if(i.candleStick){var J=h._yaxis.series_u2p;if(j>=s[0]-i._bodyWidth/2&&j<=s[0]+i._bodyWidth/2&&k>=J(h.data[f][2])&&k<=J(h.data[f][3]))return{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}else if(i.hlc){var J=h._yaxis.series_u2p;if(j>=s[0]-i._tickLength&&j<=s[0]+i._tickLength&&k>=J(h.data[f][1])&&k<=J(h.data[f][2]))return{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}else{var J=h._yaxis.series_u2p;if(j>=s[0]-i._tickLength&&j<=s[0]+i._tickLength&&k>=J(h.data[f][2])&&k<=J(h.data[f][3]))return{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}else if(r=Math.sqrt((j-s[0])*(j-s[0])+(k-s[1])*(k-s[1])),u>=r&&(q>=r||null==q))return q=r,{seriesIndex:e,pointIndex:f,gridData:s,data:h.data[f]}}}return null}this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new b("xaxis"),yaxis:new b("yaxis"),x2axis:new b("x2axis"),y2axis:new b("y2axis"),y3axis:new b("y3axis"),y4axis:new b("y4axis"),y5axis:new b("y5axis"),y6axis:new b("y6axis"),y7axis:new b("y7axis"),y8axis:new b("y8axis"),y9axis:new b("y9axis"),yMidAxis:new b("yMidAxis")},this.baseCanvas=new a.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new a.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new f,this.legend=new c,this.negativeSeriesColors=a.jqplot.config.defaultNegativeColors,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=a.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new d,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=a.jqplot.config.addDomReference,this.preInitHooks=new a.jqplot.HooksManager,this.postInitHooks=new a.jqplot.HooksManager,this.preParseOptionsHooks=new a.jqplot.HooksManager,this.postParseOptionsHooks=new a.jqplot.HooksManager,this.preDrawHooks=new a.jqplot.HooksManager,this.postDrawHooks=new a.jqplot.HooksManager,this.preDrawSeriesHooks=new a.jqplot.HooksManager,this.postDrawSeriesHooks=new a.jqplot.HooksManager,this.preDrawLegendHooks=new a.jqplot.HooksManager,this.addLegendRowHooks=new a.jqplot.HooksManager,this.preSeriesInitHooks=new a.jqplot.HooksManager,this.postSeriesInitHooks=new a.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new a.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new a.jqplot.HooksManager,this.eventListenerHooks=new a.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new a.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new a.jqplot.HooksManager,this.colorGenerator=new a.jqplot.ColorGenerator,this.negativeColorGenerator=new a.jqplot.ColorGenerator,this.canvasManager=new a.jqplot.CanvasManager,this.themeEngine=new a.jqplot.ThemeEngine;this.init=function(b,c,d){d=d||{};for(var e=0;e<a.jqplot.preInitHooks.length;e++)a.jqplot.preInitHooks[e].call(this,b,c,d);for(var e=0;e<this.preInitHooks.hooks.length;e++)this.preInitHooks.hooks[e].call(this,b,c,d);if(this.targetId="#"+b,this.target=a("#"+b),this._addDomReference&&this.target.data("jqplot_plot",this),this.target.removeClass("jqplot-error"),!this.target.get(0))throw"No plot target specified";if("static"==this.target.css("position")&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target"),this.target.height())this._height=f=this.target.height();else{var f;f=d&&d.height?parseInt(d.height,10):this.target.attr("data-height")?parseInt(this.target.attr("data-height"),10):parseInt(a.jqplot.config.defaultHeight,10),this._height=f,this.target.css("height",f+"px")}if(this.target.width())this._width=g=this.target.width();else{var g;g=d&&d.width?parseInt(d.width,10):this.target.attr("data-width")?parseInt(this.target.attr("data-width"),10):parseInt(a.jqplot.config.defaultWidth,10),this._width=g,this.target.css("width",g+"px")}if(this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions,this._height<=0||this._width<=0||!this._height||!this._width)throw"Canvas dimension not set";if(d.dataRenderer&&jQuery.isFunction(d.dataRenderer)&&(d.dataRendererOptions&&(this.dataRendererOptions=d.dataRendererOptions),this.dataRenderer=d.dataRenderer,c=this.dataRenderer(c,this,this.dataRendererOptions)),d.noDataIndicator&&jQuery.isPlainObject(d.noDataIndicator)&&a.extend(!0,this.noDataIndicator,d.noDataIndicator),null==c||0==jQuery.isArray(c)||0==c.length||0==jQuery.isArray(c[0])||0==c[0].length){if(0==this.noDataIndicator.show)throw{name:"DataError",message:"No data to plot."};for(var i in this.noDataIndicator.axes)for(var j in this.noDataIndicator.axes[i])this.axes[i][j]=this.noDataIndicator.axes[i][j];this.postDrawHooks.add(function(){var b=this.eventCanvas.getHeight(),c=this.eventCanvas.getWidth(),d=a('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(d),d.height(b),d.width(c),d.css("top",this.eventCanvas._offsets.top),d.css("left",this.eventCanvas._offsets.left);var e=a('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');d.append(e),e.html(this.noDataIndicator.indicator);var f=e.height(),g=e.width();e.height(f),e.width(g),e.css("top",(b-f)/2+"px")})}this.data=c,this.parseOptions(d),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0;for(var e=0;e<this.series.length;e++){this.seriesStack.push(e),this.previousSeriesStack.push(e),this.series[e].shadowCanvas._plotDimensions=this._plotDimensions,this.series[e].canvas._plotDimensions=this._plotDimensions;for(var k=0;k<a.jqplot.preSeriesInitHooks.length;k++)a.jqplot.preSeriesInitHooks[k].call(this.series[e],b,c,this.options.seriesDefaults,this.options.series[e],this);for(var k=0;k<this.preSeriesInitHooks.hooks.length;k++)this.preSeriesInitHooks.hooks[k].call(this.series[e],b,c,this.options.seriesDefaults,this.options.series[e],this);this.populatePlotData(this.series[e],e),this.series[e]._plotDimensions=this._plotDimensions,this.series[e].init(e,this.grid.borderWidth,this);for(var k=0;k<a.jqplot.postSeriesInitHooks.length;k++)a.jqplot.postSeriesInitHooks[k].call(this.series[e],b,c,this.options.seriesDefaults,this.options.series[e],this);for(var k=0;k<this.postSeriesInitHooks.hooks.length;k++)this.postSeriesInitHooks.hooks[k].call(this.series[e],b,c,this.options.seriesDefaults,this.options.series[e],this);this._sumy+=this.series[e]._sumy,this._sumx+=this.series[e]._sumx}for(var l,e=0;12>e;e++)l=F[e],this.axes[l]._plotDimensions=this._plotDimensions,this.axes[l].init(),null==this.axes[l].borderColor&&(this.axes[l].borderColor="x"!==l.charAt(0)&&this.axes[l].useSeriesColor===!0&&this.axes[l].show?this.axes[l]._series[0].color:this.grid.borderColor);this.sortData&&h(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var e=0;e<a.jqplot.postInitHooks.length;e++)a.jqplot.postInitHooks[e].call(this,b,c,d);for(var e=0;e<this.postInitHooks.hooks.length;e++)this.postInitHooks.hooks[e].call(this,b,c,d)},this.resetAxesScale=function(a,b){var c=b||{},d=a||this.axes;if(d===!0&&(d=this.axes),jQuery.isArray(d))for(var e=0;e<d.length;e++)this.axes[d[e]].resetScale(c[d[e]]);else if("object"==typeof d)for(var f in d)this.axes[f].resetScale(c[f])},this.reInitialize=function(){if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var b in this.axes)this.axes[b]._plotWidth=this._width,this.axes[b]._plotHeight=this._height;this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0;for(var c=0;c<this.series.length;c++)this.populatePlotData(this.series[c],c),"line"===this.series[c]._type&&this.series[c].renderer.bands.show&&this.series[c].renderer.initBands.call(this.series[c],this.series[c].renderer.options,this),this.series[c]._plotDimensions=this._plotDimensions,this.series[c].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[c]._sumy,this._sumx+=this.series[c]._sumx;for(var d,e=0;12>e;e++){d=F[e];for(var f=this.axes[d]._ticks,c=0;c<f.length;c++){var g=f[c]._elem;g&&(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==E&&window.G_vmlCanvasManager.uninitElement(g.get(0)),g.emptyForce(),g=null,f._elem=null)}f=null,this.axes[d]._plotDimensions=this._plotDimensions,this.axes[d]._ticks=[]}this.sortData&&h(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.populatePlotData=function(b,c){this._plotData=[],this._stackData=[],b._stackData=[],b._plotData=[];var d={x:[],y:[]};if(this.stackSeries&&!b.disableStack){b._stack=!0;for(var e="x"==b._stackAxis?0:1,f=a.extend(!0,[],b.data),g=a.extend(!0,[],b.data),h=0;c>h;h++)for(var i=this.series[h].data,j=0;j<i.length;j++)f[j][0]+=i[j][0],f[j][1]+=i[j][1],g[j][e]+=i[j][e];for(var k=0;k<g.length;k++)d.x.push(g[k][0]),d.y.push(g[k][1]);this._plotData.push(g),this._stackData.push(f),b._stackData=f,b._plotData=g,b._plotValues=d}else{for(var k=0;k<b.data.length;k++)d.x.push(b.data[k][0]),d.y.push(b.data[k][1]);this._stackData.push(b.data),this.series[c]._stackData=b.data,this._plotData.push(b.data),b._plotData=b.data,b._plotValues=d}for(c>0&&(b._prevPlotData=this.series[c-1]._plotData),b._sumy=0,b._sumx=0,k=b.data.length-1;k>-1;k--)b._sumy+=b.data[k][1],b._sumx+=b.data[k][0]},this.getNextSeriesColor=function(a){var b=0,c=a.seriesColors;return function(){return b<c.length?c[b++]:(b=0,c[b++])}}(this),this.parseOptions=function(b){for(var c=0;c<this.preParseOptionsHooks.hooks.length;c++)this.preParseOptionsHooks.hooks[c].call(this,b);for(var c=0;c<a.jqplot.preParseOptionsHooks.length;c++)a.jqplot.preParseOptionsHooks[c].call(this,b);this.options=a.extend(!0,{},this.defaults,b);var d=this.options;if(this.animate=d.animate,this.animateReplot=d.animateReplot,this.stackSeries=d.stackSeries,a.isPlainObject(d.fillBetween))for(var f,g=["series1","series2","color","baseSeries","fill"],c=0,h=g.length;h>c;c++)f=g[c],null!=d.fillBetween[f]&&(this.fillBetween[f]=d.fillBetween[f]);d.seriesColors&&(this.seriesColors=d.seriesColors),d.negativeSeriesColors&&(this.negativeSeriesColors=d.negativeSeriesColors),d.captureRightClick&&(this.captureRightClick=d.captureRightClick),this.defaultAxisStart=b&&null!=b.defaultAxisStart?b.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),a.extend(!0,this._gridPadding,d.gridPadding),this.sortData=null!=d.sortData?d.sortData:this.sortData;for(var c=0;12>c;c++){var i=F[c],j=this.axes[i];j._options=a.extend(!0,{},d.axesDefaults,d.axes[i]),a.extend(!0,j,d.axesDefaults,d.axes[i]),j._plotWidth=this._width,j._plotHeight=this._height}for(var k=function(b,c,d){var e,f=[];if(c=c||"vertical",jQuery.isArray(b[0]))a.extend(!0,f,b);else for(e=0;e<b.length;e++)f.push("vertical"==c?[d+e,b[e]]:[b[e],d+e]);return f},c=0;c<this.data.length;c++){for(var g=new e,l=0;l<a.jqplot.preParseSeriesOptionsHooks.length;l++)a.jqplot.preParseSeriesOptionsHooks[l].call(g,this.options.seriesDefaults,this.options.series[c]);for(var l=0;l<this.preParseSeriesOptionsHooks.hooks.length;l++)this.preParseSeriesOptionsHooks.hooks[l].call(g,this.options.seriesDefaults,this.options.series[c]);a.extend(!0,g,{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[c],{rendererOptions:{animation:{show:this.animate}}});var m="vertical";switch(g.renderer===a.jqplot.BarRenderer&&g.rendererOptions&&"horizontal"==g.rendererOptions.barDirection&&g.transposeData===!0&&(m="horizontal"),g.data=k(this.data[c],m,this.defaultAxisStart),g.xaxis){case"xaxis":g._xaxis=this.axes.xaxis;break;case"x2axis":g._xaxis=this.axes.x2axis}g._yaxis=this.axes[g.yaxis],g._xaxis._series.push(g),g._yaxis._series.push(g),g.show&&(g._xaxis.show=!0,g._yaxis.show=!0),g.label||(g.label="Series "+(c+1).toString()),this.series.push(g);for(var l=0;l<a.jqplot.postParseSeriesOptionsHooks.length;l++)a.jqplot.postParseSeriesOptionsHooks[l].call(this.series[c],this.options.seriesDefaults,this.options.series[c]);for(var l=0;l<this.postParseSeriesOptionsHooks.hooks.length;l++)this.postParseSeriesOptionsHooks.hooks[l].call(this.series[c],this.options.seriesDefaults,this.options.series[c])}a.extend(!0,this.grid,this.options.grid);for(var c=0;12>c;c++){var i=F[c],j=this.axes[i];null==j.borderWidth&&(j.borderWidth=this.grid.borderWidth)}"string"==typeof this.options.title?this.title.text=this.options.title:"object"==typeof this.options.title&&a.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend);for(var c=0;c<a.jqplot.postParseOptionsHooks.length;c++)a.jqplot.postParseOptionsHooks[c].call(this,b);for(var c=0;c<this.postParseOptionsHooks.hooks.length;c++)this.postParseOptionsHooks.hooks[c].call(this,b)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(a){var b=a||{},c=b.clear===!1?!1:!0,d=b.resetAxes||!1;this.target.trigger("jqplotPreReplot"),c&&this.destroy(),this.reInitialize(),d&&this.resetAxesScale(d,b.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(a){a=null!=a?a:!0,this.target.trigger("jqplotPreRedraw"),a&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty());for(var b in this.axes)this.axes[b]._ticks=[];for(var c=0;c<this.series.length;c++)this.populatePlotData(this.series[c],c);for(this._sumy=0,this._sumx=0,c=0;c<this.series.length;c++)this._sumy+=this.series[c]._sumy,this._sumx+=this.series[c]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var b,c,d;for(b=0,d=a.jqplot.preDrawHooks.length;d>b;b++)a.jqplot.preDrawHooks[b].call(this);for(b=0,d=this.preDrawHooks.length;d>b;b++)this.preDrawHooks.hooks[b].apply(this,this.preDrawSeriesHooks.args[b]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0});var e=this.legend.draw(),f={top:0,left:0,bottom:0,right:0};if("outsideGrid"==this.legend.placement){switch(this.target.append(e),this.legend.location){case"n":f.top+=this.legend.getHeight();break;case"s":f.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":f.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":f.left+=this.legend.getWidth();break;default:f.right+=this.legend.getWidth()}e=e.detach()}var g,h=this.axes;for(b=0;12>b;b++)g=F[b],this.target.append(h[g].draw(this.baseCanvas._ctx,this)),h[g].set();h.yaxis.show&&(f.left+=h.yaxis.getWidth());var i,j=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],k=[0,0,0,0,0,0,0,0],l=0;for(i=0;8>i;i++)h[j[i]].show&&(l+=h[j[i]].getWidth(),k[i]=l);if(f.right+=l,h.x2axis.show&&(f.top+=h.x2axis.getHeight()),this.title.show&&(f.top+=this.title.getHeight()),h.xaxis.show&&(f.bottom+=h.xaxis.getHeight()),this.options.gridDimensions&&a.isPlainObject(this.options.gridDimensions)){var m=parseInt(this.options.gridDimensions.width,10)||0,n=parseInt(this.options.gridDimensions.height,10)||0,o=(this._width-f.left-f.right-m)/2,p=(this._height-f.top-f.bottom-n)/2;p>=0&&o>=0&&(f.top+=p,f.bottom+=p,f.left+=o,f.right+=o)}var q=["top","bottom","left","right"];for(var i in q)null==this._gridPadding[q[i]]&&f[q[i]]>0?this._gridPadding[q[i]]=f[q[i]]:null==this._gridPadding[q[i]]&&(this._gridPadding[q[i]]=this._defaultGridPadding[q[i]]);var r="outsideGrid"==this.legend.placement?{top:this.title.getHeight(),left:0,right:0,bottom:0}:this._gridPadding;for(h.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-h.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),h.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-h.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),h.x2axis.pack({position:"absolute",top:this._gridPadding.top-h.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),b=8;b>0;b--)h[j[b-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-k[b-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var s=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-h.yMidAxis.getWidth()/2;h.yMidAxis.pack({position:"absolute",top:0,left:s,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw();var t=this.series,u=t.length;for(b=0,d=u;d>b;b++)c=this.seriesStack[b],this.target.append(t[c].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),t[c].shadowCanvas.setContext(),t[c].shadowCanvas._elem.data("seriesIndex",c);for(b=0,d=u;d>b;b++)c=this.seriesStack[b],this.target.append(t[c].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),t[c].canvas.setContext(),t[c].canvas._elem.data("seriesIndex",c);this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(e),this.legend.pack(r),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),u&&a(t[u-1].canvas._elem).after(e),this.legend.pack(r));for(var b=0,d=a.jqplot.eventListenerHooks.length;d>b;b++)this.eventCanvas._elem.bind(a.jqplot.eventListenerHooks[b][0],{plot:this},a.jqplot.eventListenerHooks[b][1]);for(var b=0,d=this.eventListenerHooks.hooks.length;d>b;b++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[b][0],{plot:this},this.eventListenerHooks.hooks[b][1]);var v=this.fillBetween;v.fill&&v.series1!==v.series2&&v.series1<u&&v.series2<u&&"line"===t[v.series1]._type&&"line"===t[v.series2]._type&&this.doFillBetweenLines();for(var b=0,d=a.jqplot.postDrawHooks.length;d>b;b++)a.jqplot.postDrawHooks[b].call(this);for(var b=0,d=this.postDrawHooks.hooks.length;d>b;b++)this.postDrawHooks.hooks[b].apply(this,this.postDrawHooks.args[b]);this.target.is(":visible")&&(this._drawCount+=1);var w,x,y,z;for(b=0,d=u;d>b;b++)w=t[b],x=w.renderer,y=".jqplot-point-label.jqplot-series-"+b,x.animation&&x.animation._supported&&x.animation.show&&(this._drawCount<2||this.animateReplot)&&(z=this.target.find(y),z.stop(!0,!0).hide(),w.canvas._elem.stop(!0,!0).hide(),w.shadowCanvas._elem.stop(!0,!0).hide(),w.canvas._elem.jqplotEffect("blind",{mode:"show",direction:x.animation.direction},x.animation.speed),w.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:x.animation.direction},x.animation.speed),z.fadeIn(.8*x.animation.speed));z=null,this.target.trigger("jqplotPostDraw",[this])}},g.prototype.doFillBetweenLines=function(){var a=this.fillBetween,b=a.series1,c=a.series2,d=c>b?b:c,e=c>b?c:b,f=this.series[d],g=this.series[e];if(g.renderer.smooth)var h=g.renderer._smoothedData.slice(0).reverse();else var h=g.gridData.slice(0).reverse();if(f.renderer.smooth)var i=f.renderer._smoothedData.concat(h);else var i=f.gridData.concat(h);var j=null!==a.color?a.color:this.series[b].fillColor,k=null!==a.baseSeries?a.baseSeries:d,l=this.series[k].renderer.shapeRenderer,m={fillStyle:j,fill:!0,closePath:!0};l.draw(f.shadowCanvas._ctx,i,m)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(b){var c=i(b),d=b.data.plot,e=j(c.gridPos,d),f=jQuery.Event("jqplotClick");f.pageX=b.pageX,f.pageY=b.pageY,a(this).trigger(f,[c.gridPos,c.dataPos,e,d])},this.onDblClick=function(b){var c=i(b),d=b.data.plot,e=j(c.gridPos,d),f=jQuery.Event("jqplotDblClick");f.pageX=b.pageX,f.pageY=b.pageY,a(this).trigger(f,[c.gridPos,c.dataPos,e,d])},this.onMouseDown=function(b){var c=i(b),d=b.data.plot,e=j(c.gridPos,d),f=jQuery.Event("jqplotMouseDown");f.pageX=b.pageX,f.pageY=b.pageY,a(this).trigger(f,[c.gridPos,c.dataPos,e,d])},this.onMouseUp=function(b){var c=i(b),d=jQuery.Event("jqplotMouseUp");d.pageX=b.pageX,d.pageY=b.pageY,a(this).trigger(d,[c.gridPos,c.dataPos,null,b.data.plot])},this.onRightClick=function(b){var c=i(b),d=b.data.plot,e=j(c.gridPos,d);if(d.captureRightClick)if(3==b.which){var f=jQuery.Event("jqplotRightClick");f.pageX=b.pageX,f.pageY=b.pageY,a(this).trigger(f,[c.gridPos,c.dataPos,e,d])}else{var f=jQuery.Event("jqplotMouseUp");f.pageX=b.pageX,f.pageY=b.pageY,a(this).trigger(f,[c.gridPos,c.dataPos,e,d])}},this.onMouseMove=function(b){var c=i(b),d=b.data.plot,e=j(c.gridPos,d),f=jQuery.Event("jqplotMouseMove");f.pageX=b.pageX,f.pageY=b.pageY,a(this).trigger(f,[c.gridPos,c.dataPos,e,d])},this.onMouseEnter=function(b){var c=i(b),d=b.data.plot,e=jQuery.Event("jqplotMouseEnter");e.pageX=b.pageX,e.pageY=b.pageY,e.relatedTarget=b.relatedTarget,a(this).trigger(e,[c.gridPos,c.dataPos,null,d])},this.onMouseLeave=function(b){var c=i(b),d=b.data.plot,e=jQuery.Event("jqplotMouseLeave");e.pageX=b.pageX,e.pageY=b.pageY,e.relatedTarget=b.relatedTarget,a(this).trigger(e,[c.gridPos,c.dataPos,null,d])},this.drawSeries=function(b,c){var d,e,f;if(c="number"==typeof b&&null==c?b:c,b="object"==typeof b?b:{},c!=E)e=this.series[c],f=e.shadowCanvas._ctx,f.clearRect(0,0,f.canvas.width,f.canvas.height),e.drawShadow(f,b,this),f=e.canvas._ctx,f.clearRect(0,0,f.canvas.width,f.canvas.height),e.draw(f,b,this),e.renderer.constructor==a.jqplot.BezierCurveRenderer&&c<this.series.length-1&&this.drawSeries(c+1);else for(d=0;d<this.series.length;d++)e=this.series[d],f=e.shadowCanvas._ctx,f.clearRect(0,0,f.canvas.width,f.canvas.height),e.drawShadow(f,b,this),f=e.canvas._ctx,f.clearRect(0,0,f.canvas.width,f.canvas.height),e.draw(f,b,this);b=c=d=e=f=null},this.moveSeriesToFront=function(b){b=parseInt(b,10);var c=a.inArray(b,this.seriesStack);if(-1!=c){if(c==this.seriesStack.length-1)return void(this.previousSeriesStack=this.seriesStack.slice(0));var d=this.seriesStack[this.seriesStack.length-1],e=this.series[b].canvas._elem.detach(),f=this.series[b].shadowCanvas._elem.detach();this.series[d].shadowCanvas._elem.after(f),this.series[d].canvas._elem.after(e),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(c,1),this.seriesStack.push(b)}},this.moveSeriesToBack=function(b){b=parseInt(b,10);var c=a.inArray(b,this.seriesStack);if(0!=c&&-1!=c){var d=this.seriesStack[0],e=this.series[b].canvas._elem.detach(),f=this.series[b].shadowCanvas._elem.detach();this.series[d].shadowCanvas._elem.before(f),this.series[d].canvas._elem.before(e),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(c,1),this.seriesStack.unshift(b)}},this.restorePreviousSeriesOrder=function(){var a,b,c,d,e,f;if(this.seriesStack!=this.previousSeriesStack){for(a=1;a<this.previousSeriesStack.length;a++)e=this.previousSeriesStack[a],f=this.previousSeriesStack[a-1],b=this.series[e].canvas._elem.detach(),c=this.series[e].shadowCanvas._elem.detach(),this.series[f].shadowCanvas._elem.after(c),this.series[f].canvas._elem.after(b);d=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=d}},this.restoreOriginalSeriesOrder=function(){var a,b,c,d=[];for(a=0;a<this.series.length;a++)d.push(a);if(this.seriesStack!=d)for(this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=d,a=1;a<this.seriesStack.length;a++)b=this.series[a].canvas._elem.detach(),c=this.series[a].shadowCanvas._elem.detach(),this.series[a-1].shadowCanvas._elem.after(c),this.series[a-1].canvas._elem.after(b)},this.activateTheme=function(a){this.themeEngine.activate(this,a)}}function h(a,b){return(3.4182054+b)*Math.pow(a,-.3534992)}function i(a){var b=(Math.exp(2*a)-1)/(Math.exp(2*a)+1);return b}function j(a){function b(a,b){return a-b==0?Math.pow(10,10):a-b}var c=this.renderer.smooth,d=this.canvas.getWidth(),e=this._xaxis.series_p2u,f=this._yaxis.series_p2u,g=null,i=a.length/d,j=[],k=[];g=isNaN(parseFloat(c))?h(i,.5):parseFloat(c);for(var l=[],m=[],n=0,o=a.length;o>n;n++)l.push(a[n][1]),m.push(a[n][0]);for(var p,q,r,s,t=a.length-1,u=1,v=a.length;v>u;u++){for(var w=[],x=[],y=0;2>y;y++){var n=u-1+y;w[y]=0==n||n==t?Math.pow(10,10):l[n+1]-l[n]==0||l[n]-l[n-1]==0?0:(m[n+1]-m[n])/(l[n+1]-l[n])+(m[n]-m[n-1])/(l[n]-l[n-1])==0?0:(l[n+1]-l[n])*(l[n]-l[n-1])<0?0:2/(b(m[n+1],m[n])/(l[n+1]-l[n])+b(m[n],m[n-1])/(l[n]-l[n-1]))}1==u?w[0]=1.5*(l[1]-l[0])/b(m[1],m[0])-w[1]/2:u==t&&(w[1]=1.5*(l[t]-l[t-1])/b(m[t],m[t-1])-w[0]/2),x[0]=-2*(w[1]+2*w[0])/b(m[u],m[u-1])+6*(l[u]-l[u-1])/Math.pow(b(m[u],m[u-1]),2),x[1]=2*(2*w[1]+w[0])/b(m[u],m[u-1])-6*(l[u]-l[u-1])/Math.pow(b(m[u],m[u-1]),2),s=1/6*(x[1]-x[0])/b(m[u],m[u-1]),r=.5*(m[u]*x[0]-m[u-1]*x[1])/b(m[u],m[u-1]),q=(l[u]-l[u-1]-r*(Math.pow(m[u],2)-Math.pow(m[u-1],2))-s*(Math.pow(m[u],3)-Math.pow(m[u-1],3)))/b(m[u],m[u-1]),p=l[u-1]-q*m[u-1]-r*Math.pow(m[u-1],2)-s*Math.pow(m[u-1],3);for(var z,A,B=(m[u]-m[u-1])/g,y=0,o=g;o>y;y++)z=[],A=m[u-1]+y*B,z.push(A),z.push(p+q*A+r*Math.pow(A,2)+s*Math.pow(A,3)),j.push(z),k.push([e(z[0]),f(z[1])])}return j.push(a[n]),k.push([e(a[n][0]),f(a[n][1])]),[j,k]}function k(a){var b,c,d,e,f,g,j,k,l,m,n,o,p,q,r,s,t,u,v=this.renderer.smooth,w=this.renderer.tension,x=this.canvas.getWidth(),y=this._xaxis.series_p2u,z=this._yaxis.series_p2u,A=null,B=null,C=null,D=null,E=null,F=null,G=null,H=a.length/x,I=[],J=[];
A=isNaN(parseFloat(v))?h(H,.5):parseFloat(v),isNaN(parseFloat(w))||(w=parseFloat(w));for(var K=0,L=a.length-1;L>K;K++)for(null===w?(E=Math.abs((a[K+1][1]-a[K][1])/(a[K+1][0]-a[K][0])),q=.3,r=.6,s=(r-q)/2,t=2.5,u=-1.4,G=E/t+u,C=s*i(G)-s*i(u)+q,K>0&&(F=Math.abs((a[K][1]-a[K-1][1])/(a[K][0]-a[K-1][0]))),G=F/t+u,D=s*i(G)-s*i(u)+q,B=(C+D)/2):B=w,b=0;A>b;b++)c=b/A,d=(1+2*c)*Math.pow(1-c,2),e=c*Math.pow(1-c,2),f=Math.pow(c,2)*(3-2*c),g=Math.pow(c,2)*(c-1),a[K-1]?(j=B*(a[K+1][0]-a[K-1][0]),k=B*(a[K+1][1]-a[K-1][1])):(j=B*(a[K+1][0]-a[K][0]),k=B*(a[K+1][1]-a[K][1])),a[K+2]?(l=B*(a[K+2][0]-a[K][0]),m=B*(a[K+2][1]-a[K][1])):(l=B*(a[K+1][0]-a[K][0]),m=B*(a[K+1][1]-a[K][1])),n=d*a[K][0]+f*a[K+1][0]+e*j+g*l,o=d*a[K][1]+f*a[K+1][1]+e*k+g*m,p=[n,o],I.push(p),J.push([y(n),z(o)]);return I.push(a[L]),J.push([y(a[L][0]),z(a[L][1])]),[I,J]}function l(){for(var b=0;b<this.series.length;b++)this.series[b].renderer.constructor==a.jqplot.LineRenderer&&this.series[b].highlightMouseOver&&(this.series[b].highlightMouseDown=!1)}function m(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(a){o(a.data.plot)})}function n(a,b,c,d){var e=a.series[b],f=a.plugins.lineRenderer.highlightCanvas;f._ctx.clearRect(0,0,f._ctx.canvas.width,f._ctx.canvas.height),e._highlightedPoint=c,a.plugins.lineRenderer.highlightedSeriesIndex=b;var g={fillStyle:e.highlightColor};"line"===e.type&&e.renderer.bands.show&&(g.fill=!0,g.closePath=!0),e.renderer.shapeRenderer.draw(f._ctx,d,g),f=null}function o(a){var b=a.plugins.lineRenderer.highlightCanvas;b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(var c=0;c<a.series.length;c++)a.series[c]._highlightedPoint=null;a.plugins.lineRenderer.highlightedSeriesIndex=null,a.target.trigger("jqplotDataUnhighlight"),b=null}function p(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],g=jQuery.Event("jqplotDataMouseOver");if(g.pageX=a.pageX,g.pageY=a.pageY,e.target.trigger(g,f),e.series[f[0]].highlightMouseOver&&f[0]!=e.plugins.lineRenderer.highlightedSeriesIndex){var h=jQuery.Event("jqplotDataHighlight");h.pageX=a.pageX,h.pageY=a.pageY,e.target.trigger(h,f),n(e,d.seriesIndex,d.pointIndex,d.points)}}else null==d&&o(e)}function q(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data];if(e.series[f[0]].highlightMouseDown&&f[0]!=e.plugins.lineRenderer.highlightedSeriesIndex){var g=jQuery.Event("jqplotDataHighlight");g.pageX=a.pageX,g.pageY=a.pageY,e.target.trigger(g,f),n(e,d.seriesIndex,d.pointIndex,d.points)}}else null==d&&o(e)}function r(a,b,c,d,e){var f=e.plugins.lineRenderer.highlightedSeriesIndex;null!=f&&e.series[f].highlightMouseDown&&o(e)}function s(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],g=jQuery.Event("jqplotDataClick");g.pageX=a.pageX,g.pageY=a.pageY,e.target.trigger(g,f)}}function t(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],g=e.plugins.lineRenderer.highlightedSeriesIndex;null!=g&&e.series[g].highlightMouseDown&&o(e);var h=jQuery.Event("jqplotDataRightClick");h.pageX=a.pageX,h.pageY=a.pageY,e.target.trigger(h,f)}}function u(a){var b;if(a=Math.abs(a),a>=10)b="%d";else if(a>1)b=a===parseInt(a,10)?"%d":"%.1f";else{var c=-Math.floor(Math.log(a)/Math.LN10);b="%."+c+"f"}return b}function v(b,c,d){for(var e,f,g,h,i,j,k,l=Math.floor(d/2),m=Math.ceil(1.5*d),n=Number.MAX_VALUE,o=c-b,p=a.jqplot.getSignificantFigures,q=0,r=m-l+1;r>q;q++)j=l+q,e=o/(j-1),f=p(e),e=Math.abs(d-j)+f.digitsRight,n>e?(n=e,g=j,k=f.digitsRight):e===n&&f.digitsRight<k&&(g=j,k=f.digitsRight);return h=Math.max(k,Math.max(p(b).digitsRight,p(c).digitsRight)),i=0===h?"%d":"%."+h+"f",e=o/(g-1),[b,c,g,i,e]}function w(a,b){b=b||7;var c,d=a/(b-1),e=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),f=d/e;return c=1>e?f>5?10*e:f>2?5*e:f>1?2*e:e:f>5?10*e:f>4?5*e:f>3?4*e:f>2?3*e:f>1?2*e:e}function x(a,b){b=b||1;var c,d=Math.floor(Math.log(a)/Math.LN10),e=Math.pow(10,d),f=a/e;return f/=b,c=.38>=f?.1:1.6>=f?.2:4>=f?.5:8>=f?1:16>=f?2:5,c*e}function y(a,b){var c,d,e=Math.floor(Math.log(a)/Math.LN10),f=Math.pow(10,e),g=a/f;return g/=b,d=.38>=g?.1:1.6>=g?.2:4>=g?.5:8>=g?1:16>=g?2:5,c=d*f,[c,d,f]}function z(a,b){return a-b}function A(a){if(null==a||"object"!=typeof a)return a;var b=new a.constructor;for(var c in a)b[c]=A(a[c]);return b}function B(a,b){if(null!=b&&"object"==typeof b)for(var c in b)"highlightColors"==c&&(a[c]=A(b[c])),null!=b[c]&&"object"==typeof b[c]?(a.hasOwnProperty(c)||(a[c]={}),B(a[c],b[c])):a[c]=b[c]}function C(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1}function D(a){return null===a?"[object Null]":Object.prototype.toString.call(a)}var E;a.fn.emptyForce=function(){for(var b,c=0;null!=(b=a(this)[c]);c++){if(1===b.nodeType&&jQuery.cleanData(b.getElementsByTagName("*")),a.jqplot_use_excanvas)b.outerHTML="";else for(;b.firstChild;)b.removeChild(b.firstChild);b=null}return a(this)},a.fn.removeChildForce=function(a){for(;a.firstChild;)this.removeChildForce(a.firstChild),a.removeChild(a.firstChild)},a.jqplot=function(b,c,d){var e,f;null==d?jQuery.isArray(c)?(e=c,f=null):"object"==typeof c&&(e=null,f=c):(e=c,f=d);var h=new g;if(a("#"+b).removeClass("jqplot-error"),!a.jqplot.config.catchErrors)return h.init(b,e,f),h.draw(),h.themeEngine.init.call(h),h;try{return h.init(b,e,f),h.draw(),h.themeEngine.init.call(h),h}catch(i){var j=a.jqplot.config.errorMessage||i.message;a("#"+b).append('<div class="jqplot-error-message">'+j+"</div>"),a("#"+b).addClass("jqplot-error"),document.getElementById(b).style.background=a.jqplot.config.errorBackground,document.getElementById(b).style.border=a.jqplot.config.errorBorder,document.getElementById(b).style.fontFamily=a.jqplot.config.errorFontFamily,document.getElementById(b).style.fontSize=a.jqplot.config.errorFontSize,document.getElementById(b).style.fontStyle=a.jqplot.config.errorFontStyle,document.getElementById(b).style.fontWeight=a.jqplot.config.errorFontWeight}},a.jqplot.version="1.0.0b2_r1012",a.jqplot.CanvasManager=function(){"undefined"==typeof a.jqplot.CanvasManager.canvases&&(a.jqplot.CanvasManager.canvases=[],a.jqplot.CanvasManager.free=[]);var b=[];this.getCanvas=function(){var c,d=!0;if(!a.jqplot.use_excanvas)for(var e=0,f=a.jqplot.CanvasManager.canvases.length;f>e;e++)if(a.jqplot.CanvasManager.free[e]===!0){d=!1,c=a.jqplot.CanvasManager.canvases[e],a.jqplot.CanvasManager.free[e]=!1,b.push(e);break}return d&&(c=document.createElement("canvas"),b.push(a.jqplot.CanvasManager.canvases.length),a.jqplot.CanvasManager.canvases.push(c),a.jqplot.CanvasManager.free.push(!1)),c},this.initCanvas=function(b){return a.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(b):b},this.freeAllCanvases=function(){for(var a=0,c=b.length;c>a;a++)this.freeCanvas(b[a]);b=[]},this.freeCanvas=function(b){if(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==E)window.G_vmlCanvasManager.uninitElement(a.jqplot.CanvasManager.canvases[b]),a.jqplot.CanvasManager.canvases[b]=null;else{var c=a.jqplot.CanvasManager.canvases[b];c.getContext("2d").clearRect(0,0,c.width,c.height),a(c).unbind().removeAttr("class").removeAttr("style"),a(c).css({left:"",top:"",position:""}),c.width=0,c.height=0,a.jqplot.CanvasManager.free[b]=!0}}},a.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},a.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date(6e4*(new Date).getTimezoneOffset()),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},a.jqplot.arrayMax=function(a){return Math.max.apply(Math,a)},a.jqplot.arrayMin=function(a){return Math.min.apply(Math,a)},a.jqplot.enablePlugins=a.jqplot.config.enablePlugins,a.jqplot.support_canvas=function(){return"undefined"==typeof a.jqplot.support_canvas.result&&(a.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),a.jqplot.support_canvas.result},a.jqplot.support_canvas_text=function(){return"undefined"==typeof a.jqplot.support_canvas_text.result&&(a.jqplot.support_canvas_text.result=window.G_vmlCanvasManager!==E&&window.G_vmlCanvasManager._version>887?!0:!(!document.createElement("canvas").getContext||"function"!=typeof document.createElement("canvas").getContext("2d").fillText)),a.jqplot.support_canvas_text.result},a.jqplot.use_excanvas=a.browser.msie&&!a.jqplot.support_canvas()?!0:!1,a.jqplot.preInitHooks=[],a.jqplot.postInitHooks=[],a.jqplot.preParseOptionsHooks=[],a.jqplot.postParseOptionsHooks=[],a.jqplot.preDrawHooks=[],a.jqplot.postDrawHooks=[],a.jqplot.preDrawSeriesHooks=[],a.jqplot.postDrawSeriesHooks=[],a.jqplot.preDrawLegendHooks=[],a.jqplot.addLegendRowHooks=[],a.jqplot.preSeriesInitHooks=[],a.jqplot.postSeriesInitHooks=[],a.jqplot.preParseSeriesOptionsHooks=[],a.jqplot.postParseSeriesOptionsHooks=[],a.jqplot.eventListenerHooks=[],a.jqplot.preDrawSeriesShadowHooks=[],a.jqplot.postDrawSeriesShadowHooks=[],a.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},a.jqplot.ElemContainer.prototype.createElement=function(b,c,d,e,f){this._offsets=c;var g=d||"jqplot",h=document.createElement(b);return this._elem=a(h),this._elem.addClass(g),this._elem.css(e),this._elem.attr(f),h=null,this._elem},a.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},a.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},a.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},a.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},a.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},a.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},a.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},b.prototype=new a.jqplot.ElemContainer,b.prototype.constructor=b,b.prototype.init=function(){this.renderer=new this.renderer,this.tickOptions.axis=this.name,null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTicks),null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTickMarks),null==this.tickOptions.showLabel&&(this.tickOptions.showLabel=this.showTicks),null==this.label||""==this.label?this.showLabel=!1:this.labelOptions.label=this.label,0==this.showLabel&&(this.labelOptions.show=!1),0==this.pad&&(this.pad=1),0==this.padMax&&(this.padMax=1),0==this.padMin&&(this.padMin=1),null==this.padMax&&(this.padMax=(this.pad-1)/2+1),null==this.padMin&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1,(null!=this.min||null!=this.max)&&(this.autoscale=!1),null==this.syncTicks&&this.name.indexOf("y")>-1?this.syncTicks=!0:null==this.syncTicks&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},b.prototype.draw=function(a,b){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,a,b)},b.prototype.set=function(){this.renderer.set.call(this)},b.prototype.pack=function(a,b){this.show&&this.renderer.pack.call(this,a,b),null==this._min&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},b.prototype.reset=function(){this.renderer.reset.call(this)},b.prototype.resetScale=function(b){a.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},b),this.resetDataBounds()},b.prototype.resetDataBounds=function(){var b=this._dataBounds;b.min=null,b.max=null;for(var c,d,e,f=this.show?!0:!1,g=0;g<this._series.length;g++)if(d=this._series[g],d.show){e=d._plotData,"line"===d._type&&d.renderer.bands.show&&"x"!==this.name.charAt(0)&&(e=[[0,d.renderer.bands._min],[1,d.renderer.bands._max]]);var h=1,i=1;null!=d._type&&"ohlc"==d._type&&(h=3,i=2);for(var j=0,c=e.length;c>j;j++)"xaxis"==this.name||"x2axis"==this.name?((null!=e[j][0]&&e[j][0]<b.min||null==b.min)&&(b.min=e[j][0]),(null!=e[j][0]&&e[j][0]>b.max||null==b.max)&&(b.max=e[j][0])):((null!=e[j][h]&&e[j][h]<b.min||null==b.min)&&(b.min=e[j][h]),(null!=e[j][i]&&e[j][i]>b.max||null==b.max)&&(b.max=e[j][i]));f&&d.renderer.constructor!==a.jqplot.BarRenderer?f=!1:f&&this._options.hasOwnProperty("forceTickAt0")&&0==this._options.forceTickAt0?f=!1:f&&d.renderer.constructor===a.jqplot.BarRenderer&&("vertical"==d.barDirection&&"xaxis"!=this.name&&"x2axis"!=this.name?(null!=this._options.pad||null!=this._options.padMin)&&(f=!1):"horizontal"!=d.barDirection||"xaxis"!=this.name&&"x2axis"!=this.name||(null!=this._options.pad||null!=this._options.padMin)&&(f=!1))}f&&this.renderer.constructor===a.jqplot.LinearAxisRenderer&&b.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},c.prototype=new a.jqplot.ElemContainer,c.prototype.constructor=c,c.prototype.setOptions=function(b){if(a.extend(!0,this,b),"inside"==this.placement&&(this.placement="insideGrid"),this.xoffset>0){if("insideGrid"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if("outside"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if("outside"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if("insideGrid"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},c.prototype.init=function(){this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions)},c.prototype.draw=function(b){for(var c=0;c<a.jqplot.preDrawLegendHooks.length;c++)a.jqplot.preDrawLegendHooks[c].call(this,b);return this.renderer.draw.call(this,b)},c.prototype.pack=function(a){this.renderer.pack.call(this,a)},d.prototype=new a.jqplot.ElemContainer,d.prototype.constructor=d,d.prototype.init=function(){this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions)},d.prototype.draw=function(a){return this.renderer.draw.call(this,a)},d.prototype.pack=function(){this.renderer.pack.call(this)},e.prototype=new a.jqplot.ElemContainer,e.prototype.constructor=e,e.prototype.init=function(b,c,d){this.index=b,this.gridBorderWidth=c;var e,f=this.data,g=[];for(e=0;e<f.length;e++)if(this.breakOnNull)g.push(f[e]);else{if(null==f[e]||null==f[e][0]||null==f[e][1])continue;g.push(f[e])}if(this.data=g,!this.color&&this.show&&(this.color=d.colorGenerator.get(this.index)),!this.negativeColor&&this.show&&(this.negativeColor=d.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color),this.fillAlpha){var h=a.jqplot.normalize2rgb(this.fillColor),h=a.jqplot.getColorComponents(h);this.fillColor="rgba("+h[0]+","+h[1]+","+h[2]+","+this.fillAlpha+")"}this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions,d),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),null==this.markerOptions.show&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},e.prototype.draw=function(b,c,d){var e=c==E?{}:c;b=b==E?this.canvas._ctx:b;var f,g,h;for(f=0;f<a.jqplot.preDrawSeriesHooks.length;f++)a.jqplot.preDrawSeriesHooks[f].call(this,b,e);for(this.show&&(this.renderer.setGridData.call(this,d),e.preventJqPlotSeriesDrawTrigger||a(b.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),g=[],g=e.data?e.data:this._stack?this._plotData:this.data,h=e.gridData||this.renderer.makeGridData.call(this,g,d),"line"===this._type&&this.renderer.smooth&&this.renderer._smoothedData.length&&(h=this.renderer._smoothedData),this.renderer.draw.call(this,b,h,e,d)),f=0;f<a.jqplot.postDrawSeriesHooks.length;f++)a.jqplot.postDrawSeriesHooks[f].call(this,b,e,d);b=c=d=f=g=h=null},e.prototype.drawShadow=function(b,c,d){var e=c==E?{}:c;b=b==E?this.shadowCanvas._ctx:b;var f,g,h;for(f=0;f<a.jqplot.preDrawSeriesShadowHooks.length;f++)a.jqplot.preDrawSeriesShadowHooks[f].call(this,b,e);for(this.shadow&&(this.renderer.setGridData.call(this,d),g=[],g=e.data?e.data:this._stack?this._plotData:this.data,h=e.gridData||this.renderer.makeGridData.call(this,g,d),this.renderer.drawShadow.call(this,b,h,e)),f=0;f<a.jqplot.postDrawSeriesShadowHooks.length;f++)a.jqplot.postDrawSeriesShadowHooks[f].call(this,b,e);b=c=d=f=g=h=null},e.prototype.toggleDisplay=function(a){var b,c;b=a.data.series?a.data.series:this,a.data.speed&&(c=a.data.speed),c?b.canvas._elem.is(":hidden")?(b.canvas._elem.removeClass("jqplot-series-hidden"),b.shadowCanvas._elem&&b.shadowCanvas._elem.fadeIn(c),b.canvas._elem.fadeIn(c),b.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+b.index).fadeIn(c)):(b.canvas._elem.addClass("jqplot-series-hidden"),b.shadowCanvas._elem&&b.shadowCanvas._elem.fadeOut(c),b.canvas._elem.fadeOut(c),b.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+b.index).fadeOut(c)):b.canvas._elem.is(":hidden")?(b.canvas._elem.removeClass("jqplot-series-hidden"),b.shadowCanvas._elem&&b.shadowCanvas._elem.show(),b.canvas._elem.show(),b.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+b.index).show()):(b.canvas._elem.addClass("jqplot-series-hidden"),b.shadowCanvas._elem&&b.shadowCanvas._elem.hide(),b.canvas._elem.hide(),b.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+b.index).hide())},f.prototype=new a.jqplot.ElemContainer,f.prototype.constructor=f,f.prototype.init=function(){this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions)},f.prototype.createElement=function(a,b){return this._offsets=a,this.renderer.createElement.call(this,b)},f.prototype.draw=function(){this.renderer.draw.call(this)},a.jqplot.GenericCanvas=function(){a.jqplot.ElemContainer.call(this),this._ctx},a.jqplot.GenericCanvas.prototype=new a.jqplot.ElemContainer,a.jqplot.GenericCanvas.prototype.constructor=a.jqplot.GenericCanvas,a.jqplot.GenericCanvas.prototype.createElement=function(b,c,d,e){this._offsets=b;var f="jqplot";c!=E&&(f=c);var g;return g=e.canvasManager.getCanvas(),null!=d&&(this._plotDimensions=d),g.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,g.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=a(g),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(f),g=e.canvasManager.initCanvas(g),g=null,this._elem},a.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},a.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==E&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},a.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},a.jqplot.HooksManager.prototype.addOnce=function(a,b){b=b||[];for(var c=!1,d=0,e=this.hooks.length;e>d;d++)this.hooks[d][0]==a&&(c=!0);c||(this.hooks.push(a),this.args.push(b))},a.jqplot.HooksManager.prototype.add=function(a,b){b=b||[],this.hooks.push(a),this.args.push(b)},a.jqplot.EventListenerManager=function(){this.hooks=[]},a.jqplot.EventListenerManager.prototype.addOnce=function(a,b){for(var c,d,e=!1,d=0,f=this.hooks.length;f>d;d++)c=this.hooks[d],c[0]==a&&c[1]==b&&(e=!0);e||this.hooks.push([a,b])},a.jqplot.EventListenerManager.prototype.add=function(a,b){this.hooks.push([a,b])};var F=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];a.jqplot.computeHighlightColors=function(b){var c;if(jQuery.isArray(b)){c=[];for(var d=0;d<b.length;d++){for(var e=a.jqplot.getColorComponents(b[d]),f=[e[0],e[1],e[2]],g=f[0]+f[1]+f[2],h=0;3>h;h++)f[h]=g>660?.85*f[h]:.73*f[h]+90,f[h]=parseInt(f[h],10),f[h]>255?255:f[h];f[3]=.3+.35*e[3],c.push("rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+")")}}else{for(var e=a.jqplot.getColorComponents(b),f=[e[0],e[1],e[2]],g=f[0]+f[1]+f[2],h=0;3>h;h++)f[h]=g>660?.85*f[h]:.73*f[h]+90,f[h]=parseInt(f[h],10),f[h]>255?255:f[h];f[3]=.3+.35*e[3],c="rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+")"}return c},a.jqplot.ColorGenerator=function(b){b=b||a.jqplot.config.defaultColors;var c=0;this.next=function(){return c<b.length?b[c++]:(c=0,b[c++])},this.previous=function(){return c>0?b[c--]:(c=b.length-1,b[c])},this.get=function(a){var c=a-b.length*Math.floor(a/b.length);return b[c]},this.setColors=function(a){b=a},this.reset=function(){c=0},this.getIndex=function(){return c},this.setIndex=function(a){c=a}},a.jqplot.hex2rgb=function(a,b){a=a.replace("#",""),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2));var c;return c="rgba("+parseInt(a.slice(0,2),16)+", "+parseInt(a.slice(2,4),16)+", "+parseInt(a.slice(4,6),16),b&&(c+=", "+b),c+=")"},a.jqplot.rgb2hex=function(a){for(var b=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/,c=a.match(b),d="#",e=1;4>e;e++){var f;-1!=c[e].search(/%/)?(f=parseInt(255*c[e]/100,10).toString(16),1==f.length&&(f="0"+f)):(f=parseInt(c[e],10).toString(16),1==f.length&&(f="0"+f)),d+=f}return d},a.jqplot.normalize2rgb=function(b,c){if(-1!=b.search(/^ *rgba?\(/))return b;if(-1!=b.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/))return a.jqplot.hex2rgb(b,c);throw"invalid color spec"},a.jqplot.getColorComponents=function(b){b=a.jqplot.colorKeywordMap[b]||b;for(var c=a.jqplot.normalize2rgb(b),d=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/,e=c.match(d),f=[],g=1;4>g;g++)f[g-1]=-1!=e[g].search(/%/)?parseInt(255*e[g]/100,10):parseInt(e[g],10);return f[3]=parseFloat(e[4])?parseFloat(e[4]):1,f},a.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},a.jqplot.AxisLabelRenderer=function(b){a.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,a.extend(!0,this,b)},a.jqplot.AxisLabelRenderer.prototype=new a.jqplot.ElemContainer,a.jqplot.AxisLabelRenderer.prototype.constructor=a.jqplot.AxisLabelRenderer,a.jqplot.AxisLabelRenderer.prototype.init=function(b){a.extend(!0,this,b)},a.jqplot.AxisLabelRenderer.prototype.draw=function(){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=a('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},a.jqplot.AxisLabelRenderer.prototype.pack=function(){},a.jqplot.AxisTickRenderer=function(b){a.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=a.jqplot.DefaultTickFormatter,this.prefix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,a.extend(!0,this,b)},a.jqplot.AxisTickRenderer.prototype.init=function(b){a.extend(!0,this,b)},a.jqplot.AxisTickRenderer.prototype=new a.jqplot.ElemContainer,a.jqplot.AxisTickRenderer.prototype.constructor=a.jqplot.AxisTickRenderer,a.jqplot.AxisTickRenderer.prototype.setTick=function(a,b,c){return this.value=a,this.axis=b,c&&(this.isMinorTick=!0),this},a.jqplot.AxisTickRenderer.prototype.draw=function(){null===this.label&&(this.label=this.prefix+this.formatter(this.formatString,this.value));var b={position:"absolute"};Number(this.label)&&(b.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=a(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(b);for(var c in this._styles)this._elem.css(c,this._styles[c]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},a.jqplot.DefaultTickFormatter=function(b,c){return"number"==typeof c?(b||(b=a.jqplot.config.defaultTickFormatString),a.jqplot.sprintf(b,c)):String(c)},a.jqplot.AxisTickRenderer.prototype.pack=function(){},a.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new a.jqplot.ShadowRenderer},a.jqplot.CanvasGridRenderer.prototype.init=function(b){this._ctx,a.extend(!0,this,b);var c={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(c)},a.jqplot.CanvasGridRenderer.prototype.createElement=function(b){var c;this._elem&&(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==E&&(c=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(c),c=null),this._elem.emptyForce(),this._elem=null),c=b.canvasManager.getCanvas();var d=this._plotDimensions.width,e=this._plotDimensions.height;return c.width=d,c.height=e,this._elem=a(c),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),c=b.canvasManager.initCanvas(c),this._top=this._offsets.top,this._bottom=e-this._offsets.bottom,this._left=this._offsets.left,this._right=d-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,c=null,this._elem},a.jqplot.CanvasGridRenderer.prototype.draw=function(){function b(b,d,e,f,g){c.save(),g=g||{},(null==g.lineWidth||0!=g.lineWidth)&&(a.extend(!0,c,g),c.beginPath(),c.moveTo(b,d),c.lineTo(e,f),c.stroke(),c.restore())
}this._ctx=this._elem.get(0).getContext("2d");var c=this._ctx,d=this._axes;c.save(),c.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),c.fillStyle=this.backgroundColor||this.background,c.fillRect(this._left,this._top,this._width,this._height),c.save(),c.lineJoin="miter",c.lineCap="butt",c.lineWidth=this.gridLineWidth,c.strokeStyle=this.gridLineColor;for(var e,f,g,h,i=["xaxis","yaxis","x2axis","y2axis"],j=4;j>0;j--){var k=i[j-1],l=d[k],m=l._ticks,n=m.length;if(l.show){if(l.drawBaseline){var o={};switch(null!==l.baselineWidth&&(o.lineWidth=l.baselineWidth),null!==l.baselineColor&&(o.strokeStyle=l.baselineColor),k){case"xaxis":b(this._left,this._bottom,this._right,this._bottom,o);break;case"yaxis":b(this._left,this._bottom,this._left,this._top,o);break;case"x2axis":b(this._left,this._bottom,this._right,this._bottom,o);break;case"y2axis":b(this._right,this._bottom,this._right,this._top,o)}}for(var p=n;p>0;p--){var q=m[p-1];if(q.show){var r=Math.round(l.u2p(q.value))+.5;switch(k){case"xaxis":if(q.showGridline&&this.drawGridlines&&(!q.isMinorTick&&l.drawMajorGridlines||q.isMinorTick&&l.drawMinorGridlines)&&b(r,this._top,r,this._bottom),q.showMark&&q.mark&&(!q.isMinorTick&&l.drawMajorTickMarks||q.isMinorTick&&l.drawMinorTickMarks)){g=q.markSize,h=q.mark;var r=Math.round(l.u2p(q.value))+.5;switch(h){case"outside":e=this._bottom,f=this._bottom+g;break;case"inside":e=this._bottom-g,f=this._bottom;break;case"cross":e=this._bottom-g,f=this._bottom+g;break;default:e=this._bottom,f=this._bottom+g}this.shadow&&this.renderer.shadowRenderer.draw(c,[[r,e],[r,f]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),b(r,e,r,f)}break;case"yaxis":if(q.showGridline&&this.drawGridlines&&(!q.isMinorTick&&l.drawMajorGridlines||q.isMinorTick&&l.drawMinorGridlines)&&b(this._right,r,this._left,r),q.showMark&&q.mark&&(!q.isMinorTick&&l.drawMajorTickMarks||q.isMinorTick&&l.drawMinorTickMarks)){g=q.markSize,h=q.mark;var r=Math.round(l.u2p(q.value))+.5;switch(h){case"outside":e=this._left-g,f=this._left;break;case"inside":e=this._left,f=this._left+g;break;case"cross":e=this._left-g,f=this._left+g;break;default:e=this._left-g,f=this._left}this.shadow&&this.renderer.shadowRenderer.draw(c,[[e,r],[f,r]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(e,r,f,r,{strokeStyle:l.borderColor})}break;case"x2axis":if(q.showGridline&&this.drawGridlines&&(!q.isMinorTick&&l.drawMajorGridlines||q.isMinorTick&&l.drawMinorGridlines)&&b(r,this._bottom,r,this._top),q.showMark&&q.mark&&(!q.isMinorTick&&l.drawMajorTickMarks||q.isMinorTick&&l.drawMinorTickMarks)){g=q.markSize,h=q.mark;var r=Math.round(l.u2p(q.value))+.5;switch(h){case"outside":e=this._top-g,f=this._top;break;case"inside":e=this._top,f=this._top+g;break;case"cross":e=this._top-g,f=this._top+g;break;default:e=this._top-g,f=this._top}this.shadow&&this.renderer.shadowRenderer.draw(c,[[r,e],[r,f]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),b(r,e,r,f)}break;case"y2axis":if(q.showGridline&&this.drawGridlines&&(!q.isMinorTick&&l.drawMajorGridlines||q.isMinorTick&&l.drawMinorGridlines)&&b(this._left,r,this._right,r),q.showMark&&q.mark&&(!q.isMinorTick&&l.drawMajorTickMarks||q.isMinorTick&&l.drawMinorTickMarks)){g=q.markSize,h=q.mark;var r=Math.round(l.u2p(q.value))+.5;switch(h){case"outside":e=this._right,f=this._right+g;break;case"inside":e=this._right-g,f=this._right;break;case"cross":e=this._right-g,f=this._right+g;break;default:e=this._right,f=this._right+g}this.shadow&&this.renderer.shadowRenderer.draw(c,[[e,r],[f,r]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(e,r,f,r,{strokeStyle:l.borderColor})}}}}q=null}l=null,m=null}i=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var j=7;j>0;j--){var l=d[i[j-1]],m=l._ticks;if(l.show){var s=m[l.numberTicks-1],t=m[0],u=l.getLeft(),v=[[u,s.getTop()+s.getHeight()/2],[u,t.getTop()+t.getHeight()/2+1]];this.shadow&&this.renderer.shadowRenderer.draw(c,v,{lineCap:"butt",fill:!1,closePath:!1}),b(v[0][0],v[0][1],v[1][0],v[1][1],{lineCap:"butt",strokeStyle:l.borderColor,lineWidth:l.borderWidth});for(var p=m.length;p>0;p--){var q=m[p-1];g=q.markSize,h=q.mark;var r=Math.round(l.u2p(q.value))+.5;if(q.showMark&&q.mark){switch(h){case"outside":e=u,f=u+g;break;case"inside":e=u-g,f=u;break;case"cross":e=u-g,f=u+g;break;default:e=u,f=u+g}v=[[e,r],[f,r]],this.shadow&&this.renderer.shadowRenderer.draw(c,v,{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(e,r,f,r,{strokeStyle:l.borderColor})}q=null}t=null}l=null,m=null}if(c.restore(),this.shadow){var v=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(c,v)}0!=this.borderWidth&&this.drawBorder&&(b(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:d.x2axis.borderColor,lineWidth:d.x2axis.borderWidth}),b(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:d.y2axis.borderColor,lineWidth:d.y2axis.borderWidth}),b(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:d.xaxis.borderColor,lineWidth:d.xaxis.borderWidth}),b(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:d.yaxis.borderColor,lineWidth:d.yaxis.borderWidth})),c.restore(),c=null,d=null},a.jqplot.DivTitleRenderer=function(){},a.jqplot.DivTitleRenderer.prototype.init=function(b){a.extend(!0,this,b)},a.jqplot.DivTitleRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);var b=(this.renderer,document.createElement("div"));if(this._elem=a(b),this._elem.addClass("jqplot-title"),this.text){if(this.text){var c;this.color?c=this.color:this.textColor&&(c=this.textColor);var d={position:"absolute",top:"0px",left:"0px"};this._plotWidth&&(d.width=this._plotWidth+"px"),this.fontSize&&(d.fontSize=this.fontSize),d.textAlign="string"==typeof this.textAlign?this.textAlign:"center",c&&(d.color=c),this.paddingBottom&&(d.paddingBottom=this.paddingBottom),this.fontFamily&&(d.fontFamily=this.fontFamily),this._elem.css(d),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)}}else this.show=!1,this._elem.height(0),this._elem.width(0);return b=null,this._elem},a.jqplot.DivTitleRenderer.prototype.pack=function(){};var G=.1;a.jqplot.LinePattern=function(b,c){var d={dotted:[G,a.jqplot.config.dotGapLength],dashed:[a.jqplot.config.dashLength,a.jqplot.config.gapLength],solid:null};if("string"==typeof c)if("."===c[0]||"-"===c[0]){var e=c;c=[];for(var f=0,g=e.length;g>f;f++){if("."===e[f])c.push(G);else{if("-"!==e[f])continue;c.push(a.jqplot.config.dashLength)}c.push(a.jqplot.config.gapLength)}}else c=d[c];if(!c||!c.length)return b;var h=0,i=c[0],j=0,k=0,l=0,m=0,n=function(a,c){b.moveTo(a,c),j=a,k=c,l=a,m=c},o=function(a,d){var e=b.lineWidth,f=a-j,g=d-k,l=Math.sqrt(f*f+g*g);if(l>0&&e>0)for(f/=l,g/=l;;){var m=e*i;if(!(l>m)){j=a,k=d,0==(1&h)?b.lineTo(j,k):b.moveTo(j,k),i-=l/e;break}j+=m*f,k+=m*g,0==(1&h)?b.lineTo(j,k):b.moveTo(j,k),l-=m,h++,h>=c.length&&(h=0),i=c[h]}},p=function(){b.beginPath()},q=function(){o(l,m)};return{moveTo:n,lineTo:o,beginPath:p,closePath:q}},a.jqplot.LineRenderer=function(){this.shapeRenderer=new a.jqplot.ShapeRenderer,this.shadowRenderer=new a.jqplot.ShadowRenderer},a.jqplot.LineRenderer.prototype.init=function(b,c){b=b||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"};var d={highlightMouseOver:b.highlightMouseOver,highlightMouseDown:b.highlightMouseDown,highlightColor:b.highlightColor};delete b.highlightMouseOver,delete b.highlightMouseDown,delete b.highlightColor,a.extend(!0,this.renderer,b),this.renderer.options=b,this.renderer.bandData.length>1&&(!b.bands||null==b.bands.show)?this.renderer.bands.show=!0:b.bands&&null==b.bands.show&&null!=b.bands.interval&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,c),this._stack&&(this.renderer.smooth=!1);var e={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(e);var f=b.shadowOffset;null==f&&(f=this.lineWidth>2.5?1.25*(1+.6*(Math.atan(this.lineWidth/2.5)/.785398163-1)):1.25*Math.atan(this.lineWidth/2.5)/.785398163);var g={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:f,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};if(this.renderer.shadowRenderer.init(g),this._areaPoints=[],this._boundingBox=[[],[]],!this.isTrendline&&this.fill||this.renderer.bands.show){if(this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,d.highlightMouseDown&&null==d.highlightMouseOver&&(d.highlightMouseOver=!1),a.extend(!0,this,{highlightMouseOver:d.highlightMouseOver,highlightMouseDown:d.highlightMouseDown,highlightColor:d.highlightColor}),!this.highlightColor){var h=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=a.jqplot.computeHighlightColors(h)}this.highlighter&&(this.highlighter.show=!1)}!this.isTrendline&&c&&(c.plugins.lineRenderer={},c.postInitHooks.addOnce(l),c.postDrawHooks.addOnce(m),c.eventListenerHooks.addOnce("jqplotMouseMove",p),c.eventListenerHooks.addOnce("jqplotMouseDown",q),c.eventListenerHooks.addOnce("jqplotMouseUp",r),c.eventListenerHooks.addOnce("jqplotClick",s),c.eventListenerHooks.addOnce("jqplotRightClick",t))},a.jqplot.LineRenderer.prototype.initBands=function(b){var c=b.bandData||[],d=this.renderer.bands;d.hiData=[],d.lowData=[];var e=this.data;if(d._max=null,d._min=null,2==c.length)if(a.isArray(c[0][0])){for(var f,g=0,h=0,i=0,j=c[0].length;j>i;i++)f=c[0][i],(null!=f[1]&&f[1]>d._max||null==d._max)&&(d._max=f[1]),(null!=f[1]&&f[1]<d._min||null==d._min)&&(d._min=f[1]);for(var i=0,j=c[1].length;j>i;i++)f=c[1][i],(null!=f[1]&&f[1]>d._max||null==d._max)&&(d._max=f[1],h=1),(null!=f[1]&&f[1]<d._min||null==d._min)&&(d._min=f[1],g=1);h===g&&(d.show=!1),d.hiData=c[h],d.lowData=c[g]}else if(c[0].length===e.length&&c[1].length===e.length)for(var k=c[0][0]>c[1][0]?0:1,l=k?0:1,i=0,j=e.length;j>i;i++)d.hiData.push([e[i][0],c[k][i]]),d.lowData.push([e[i][0],c[l][i]]);else d.show=!1;else if(c.length>2&&!a.isArray(c[0][0]))for(var k=c[0][0]>c[0][1]?0:1,l=k?0:1,i=0,j=c.length;j>i;i++)d.hiData.push([e[i][0],c[i][k]]),d.lowData.push([e[i][0],c[i][l]]);else{var m=d.interval,n=null,o=null,p=null,q=null;if(a.isArray(m)?(n=m[0],o=m[1]):n=m,isNaN(n)?"%"===n.charAt(n.length-1)&&(p="multiply",n=parseFloat(n)/100+1):(n=parseFloat(n),p="add"),null!==o&&isNaN(o)?"%"===o.charAt(o.length-1)&&(q="multiply",o=parseFloat(o)/100+1):null!==o&&(o=parseFloat(o),q="add"),null!==n){if(null===o&&(o=-n,q=p,"multiply"===q&&(o+=2)),o>n){var r=n;n=o,o=r,r=p,p=q,q=r}for(var i=0,j=e.length;j>i;i++){switch(p){case"add":d.hiData.push([e[i][0],e[i][1]+n]);break;case"multiply":d.hiData.push([e[i][0],e[i][1]*n])}switch(q){case"add":d.lowData.push([e[i][0],e[i][1]+o]);break;case"multiply":d.lowData.push([e[i][0],e[i][1]*o])}}}else d.show=!1}for(var s=d.hiData,t=d.lowData,i=0,j=s.length;j>i;i++)(null!=s[i][1]&&s[i][1]>d._max||null==d._max)&&(d._max=s[i][1]);for(var i=0,j=t.length;j>i;i++)(null!=t[i][1]&&t[i][1]<d._min||null==d._min)&&(d._min=t[i][1]);if(null===d.fillColor){var u=a.jqplot.getColorComponents(d.color);u[3]=.5*u[3],d.fillColor="rgba("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"}},a.jqplot.LineRenderer.prototype.setGridData=function(){var a=this._xaxis.series_u2p,b=this._yaxis.series_u2p,c=this._plotData,d=this._prevPlotData;this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var e=this.renderer.bands,f=!1,g=0,h=this.data.length;h>g;g++)null!=c[g][0]&&null!=c[g][1]?this.gridData.push([a.call(this._xaxis,c[g][0]),b.call(this._yaxis,c[g][1])]):null==c[g][0]?(f=!0,this.gridData.push([null,b.call(this._yaxis,c[g][1])])):null==c[g][1]&&(f=!0,this.gridData.push([a.call(this._xaxis,c[g][0]),null])),null!=d[g]&&null!=d[g][0]&&null!=d[g][1]?this._prevGridData.push([a.call(this._xaxis,d[g][0]),b.call(this._yaxis,d[g][1])]):null!=d[g]&&null==d[g][0]?this._prevGridData.push([null,b.call(this._yaxis,d[g][1])]):null!=d[g]&&null!=d[g][0]&&null==d[g][1]&&this._prevGridData.push([a.call(this._xaxis,d[g][0]),null]);if(f&&(this.renderer.smooth=!1,"line"===this._type&&(e.show=!1)),"line"===this._type&&e.show){for(var g=0,h=e.hiData.length;h>g;g++)this.renderer._hiBandGridData.push([a.call(this._xaxis,e.hiData[g][0]),b.call(this._yaxis,e.hiData[g][1])]);for(var g=0,h=e.lowData.length;h>g;g++)this.renderer._lowBandGridData.push([a.call(this._xaxis,e.lowData[g][0]),b.call(this._yaxis,e.lowData[g][1])])}if("line"===this._type&&this.renderer.smooth&&this.gridData.length>2){var i;this.renderer.constrainSmoothing?(i=j.call(this,this.gridData),this.renderer._smoothedData=i[0],this.renderer._smoothedPlotData=i[1],e.show&&(i=j.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=i[0],i=j.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=i[0]),i=null):(i=k.call(this,this.gridData),this.renderer._smoothedData=i[0],this.renderer._smoothedPlotData=i[1],e.show&&(i=k.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=i[0],i=k.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=i[0]),i=null)}},a.jqplot.LineRenderer.prototype.makeGridData=function(a){var b=this._xaxis.series_u2p,c=this._yaxis.series_u2p,d=[];this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var e=this.renderer.bands,f=!1,g=0;g<a.length;g++)null!=a[g][0]&&null!=a[g][1]?d.push([b.call(this._xaxis,a[g][0]),c.call(this._yaxis,a[g][1])]):null==a[g][0]?(f=!0,d.push([null,c.call(this._yaxis,a[g][1])])):null==a[g][1]&&(f=!0,d.push([b.call(this._xaxis,a[g][0]),null]));if(f&&(this.renderer.smooth=!1,"line"===this._type&&(e.show=!1)),"line"===this._type&&e.show){for(var g=0,h=e.hiData.length;h>g;g++)this.renderer._hiBandGridData.push([b.call(this._xaxis,e.hiData[g][0]),c.call(this._yaxis,e.hiData[g][1])]);for(var g=0,h=e.lowData.length;h>g;g++)this.renderer._lowBandGridData.push([b.call(this._xaxis,e.lowData[g][0]),c.call(this._yaxis,e.lowData[g][1])])}if("line"===this._type&&this.renderer.smooth&&d.length>2){var i;this.renderer.constrainSmoothing?(i=j.call(this,d),this.renderer._smoothedData=i[0],this.renderer._smoothedPlotData=i[1],e.show&&(i=j.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=i[0],i=j.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=i[0]),i=null):(i=k.call(this,d),this.renderer._smoothedData=i[0],this.renderer._smoothedPlotData=i[1],e.show&&(i=k.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=i[0],i=k.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=i[0]),i=null)}return d},a.jqplot.LineRenderer.prototype.draw=function(b,c,d){var e,f,g,h,i,j=a.extend(!0,{},d),k=j.shadow!=E?j.shadow:this.shadow,l=j.showLine!=E?j.showLine:this.showLine,m=j.fill!=E?j.fill:this.fill,n=j.fillAndStroke!=E?j.fillAndStroke:this.fillAndStroke;if(b.save(),c.length){if(l)if(m){if(this.fillToZero){var o=this.negativeColor;this.useNegativeColors||(o=j.fillStyle);var p=!1,q=j.fillStyle;if(n)var r=c.slice(0);if(0!=this.index&&this._stack){for(var s=this._prevGridData,e=s.length;e>0;e--)c.push(s[e-1]);k&&this.renderer.shadowRenderer.draw(b,c,j),this._areaPoints=c,this.renderer.shapeRenderer.draw(b,c,j)}else{var t=[],u=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];{var v=this._yaxis.series_u2p(this.fillToValue);this._xaxis.series_u2p(this.fillToValue)}if(j.closePath=!0,"y"==this.fillAxis){t.push([c[0][0],v]),this._areaPoints.push([c[0][0],v]);for(var e=0;e<c.length-1;e++)if(t.push(c[e]),this._areaPoints.push(c[e]),u[e][1]*u[e+1][1]<0){u[e][1]<0?(p=!0,j.fillStyle=o):(p=!1,j.fillStyle=q);var w=c[e][0]+(c[e+1][0]-c[e][0])*(v-c[e][1])/(c[e+1][1]-c[e][1]);t.push([w,v]),this._areaPoints.push([w,v]),k&&this.renderer.shadowRenderer.draw(b,t,j),this.renderer.shapeRenderer.draw(b,t,j),t=[[w,v]]}u[c.length-1][1]<0?(p=!0,j.fillStyle=o):(p=!1,j.fillStyle=q),t.push(c[c.length-1]),this._areaPoints.push(c[c.length-1]),t.push([c[c.length-1][0],v]),this._areaPoints.push([c[c.length-1][0],v])}k&&this.renderer.shadowRenderer.draw(b,t,j),this.renderer.shapeRenderer.draw(b,t,j)}}else{if(n)var r=c.slice(0);if(0!=this.index&&this._stack)for(var s=this._prevGridData,e=s.length;e>0;e--)c.push(s[e-1]);else{var x=b.canvas.height;c.unshift([c[0][0],x]);var y=c.length;c.push([c[y-1][0],x])}this._areaPoints=c,k&&this.renderer.shadowRenderer.draw(b,c,j),this.renderer.shapeRenderer.draw(b,c,j)}if(n){var z=a.extend(!0,{},j,{fill:!1,closePath:!1});if(this.renderer.shapeRenderer.draw(b,r,z),this.markerRenderer.show)for(this.renderer.smooth&&(r=this.gridData),e=0;e<r.length;e++)this.markerRenderer.draw(r[e][0],r[e][1],b,j.markerOptions)}}else{if(this.renderer.bands.show){var A,B=a.extend(!0,{},j);this.renderer.bands.showLines&&(A=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(b,A,j),A=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(b,A,B)),this.renderer.bands.fill&&(A=this.renderer.smooth?this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=A,B.closePath=!0,B.fill=!0,B.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(b,A,B))}k&&this.renderer.shadowRenderer.draw(b,c,j),this.renderer.shapeRenderer.draw(b,c,j)}var f=h=g=i=null;for(e=0;e<this._areaPoints.length;e++){var C=this._areaPoints[e];(f>C[0]||null==f)&&(f=C[0]),(i<C[1]||null==i)&&(i=C[1]),(h<C[0]||null==h)&&(h=C[0]),(g>C[1]||null==g)&&(g=C[1])}if("line"===this.type&&this.renderer.bands.show&&(i=this._yaxis.series_u2p(this.renderer.bands._min),g=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[f,i],[h,g]],this.markerRenderer.show&&!m)for(this.renderer.smooth&&(c=this.gridData),e=0;e<c.length;e++)null!=c[e][0]&&null!=c[e][1]&&this.markerRenderer.draw(c[e][0],c[e][1],b,j.markerOptions)}b.restore()},a.jqplot.LineRenderer.prototype.drawShadow=function(){},a.jqplot.LinearAxisRenderer=function(){},a.jqplot.LinearAxisRenderer.prototype.init=function(b){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,a.extend(!0,this,b),this.breakPoints&&(a.isArray(this.breakPoints)?(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])&&(this.breakPoints=null):this.breakPoints=null),null!=this.numberTicks&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},a.jqplot.LinearAxisRenderer.prototype.draw=function(b,c){if(this.show){this.renderer.createTicks.call(this,c);if(this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=a(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var d=this._label.draw(b,c);d.appendTo(this._elem),d=null}for(var e,f=this._ticks,g=0;g<f.length;g++)e=f[g],e.show&&e.showLabel&&(!e.isMinorTick||this.showMinorTicks)&&this._elem.append(e.draw(b,c));e=null,f=null}return this._elem},a.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},a.jqplot.LinearAxisRenderer.prototype.set=function(){var b,c=0,d=0,e=0,f=null==this._label?!1:this._label.show;if(this.show){for(var g,h=this._ticks,i=0;i<h.length;i++)g=h[i],g._breakTick||!g.show||!g.showLabel||g.isMinorTick&&!this.showMinorTicks||(b="xaxis"==this.name||"x2axis"==this.name?g._elem.outerHeight(!0):g._elem.outerWidth(!0),b>c&&(c=b));g=null,h=null,f&&(d=this._label._elem.outerWidth(!0),e=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(c+=e,this._elem.css({height:c+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(c+=e,this._elem.css({height:c+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(c+=d,this._elem.css({width:c+"px",left:"0px",top:"0px"}),f&&this._label.constructor==a.jqplot.AxisLabelRenderer&&this._label._elem.css("width",d+"px")):(c+=d,this._elem.css({width:c+"px",right:"0px",top:"0px"}),f&&this._label.constructor==a.jqplot.AxisLabelRenderer&&this._label._elem.css("width",d+"px"))}},a.jqplot.LinearAxisRenderer.prototype.createTicks=function(b){var c,d,e,f,g=this._ticks,h=this.ticks,i=this.name,j=this._dataBounds,k="x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height,l=this.min,m=this.max,n=this.numberTicks,o=this.tickInterval,p=30;if(this._scalefact=(Math.max(k,p+1)-p)/300,h.length){for(f=0;f<h.length;f++){var q=h[f],r=new this.tickRenderer(this.tickOptions);a.isArray(q)?(r.value=q[0],this.breakPoints?q[0]==this.breakPoints[0]?(r.label=this.breakTickLabel,r._breakTick=!0,r.showGridline=!1,r.showMark=!1):q[0]>this.breakPoints[0]&&q[0]<=this.breakPoints[1]?(r.show=!1,r.showGridline=!1,r.label=q[1]):r.label=q[1]:r.label=q[1],r.setTick(q[0],this.name),this._ticks.push(r)):a.isPlainObject(q)?(a.extend(!0,r,q),r.axis=this.name,this._ticks.push(r)):(r.value=q,this.breakPoints&&(q==this.breakPoints[0]?(r.label=this.breakTickLabel,r._breakTick=!0,r.showGridline=!1,r.showMark=!1):q>this.breakPoints[0]&&q<=this.breakPoints[1]&&(r.show=!1,r.showGridline=!1)),r.setTick(q,this.name),this._ticks.push(r))}this.numberTicks=h.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{k="xaxis"==i||"x2axis"==i?this._plotDimensions.width:this._plotDimensions.height;var s=this.numberTicks;this.alignTicks&&("x2axis"===this.name&&b.axes.xaxis.show?s=b.axes.xaxis.numberTicks:"y"===this.name.charAt(0)&&"yaxis"!==this.name&&"yMidAxis"!==this.name&&b.axes.yaxis.show&&(s=b.axes.yaxis.numberTicks)),c=null!=this.min?this.min:j.min,d=null!=this.max?this.max:j.max;var t,u,v,w=d-c;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),null!=this.min||null!=this.max||null!=this.tickInterval||this.autoscale){if(c==d){var x=.05;c>0&&(x=Math.max(Math.log(c)/Math.LN10,.05)),c-=x,d+=x}if(this.autoscale&&null==this.min&&null==this.max){for(var y,z,A,B=!1,C=!1,f=0;f<this._series.length;f++){var D=this._series[f],E="x"==D.fillAxis?D._xaxis.name:D._yaxis.name;if(this.name==E){for(var F=D._plotValues[D.fillAxis],G=F[0],H=F[0],I=1;I<F.length;I++)F[I]<G?G=F[I]:F[I]>H&&(H=F[I]);var J=(H-G)/H;D.renderer.constructor==a.jqplot.BarRenderer?G>=0&&(D.fillToZero||J>.1)?B=!0:(B=!1,C=D.fill&&D.fillToZero&&0>G&&H>0?!0:!1):D.fill?G>=0&&(D.fillToZero||J>.1)?B=!0:0>G&&H>0&&D.fillToZero?(B=!1,C=!0):(B=!1,C=!1):0>G&&(B=!1)}}if(B)this.numberTicks=2+Math.ceil((k-(this.tickSpacing-1))/this.tickSpacing),this.min=0,l=0,z=d/(this.numberTicks-1),v=Math.pow(10,Math.abs(Math.floor(Math.log(z)/Math.LN10))),z/v==parseInt(z/v,10)&&(z+=v),this.tickInterval=Math.ceil(z/v)*v,this.max=this.tickInterval*(this.numberTicks-1);else if(C){this.numberTicks=2+Math.ceil((k-(this.tickSpacing-1))/this.tickSpacing);var K=Math.ceil(Math.abs(c)/w*(this.numberTicks-1)),L=this.numberTicks-1-K;z=Math.max(Math.abs(c/K),Math.abs(d/L)),v=Math.pow(10,Math.abs(Math.floor(Math.log(z)/Math.LN10))),this.tickInterval=Math.ceil(z/v)*v,this.max=this.tickInterval*L,this.min=-this.tickInterval*K}else null==this.numberTicks&&(this.numberTicks=this.tickInterval?3+Math.ceil(w/this.tickInterval):2+Math.ceil((k-(this.tickSpacing-1))/this.tickSpacing)),null==this.tickInterval?(z=w/(this.numberTicks-1),v=1>z?Math.pow(10,Math.abs(Math.floor(Math.log(z)/Math.LN10))):1,this.tickInterval=Math.ceil(z*v*this.pad)/v):v=1/this.tickInterval,y=this.tickInterval*(this.numberTicks-1),A=(y-w)/2,null==this.min&&(this.min=Math.floor(v*(c-A))/v),null==this.max&&(this.max=this.min+y);var M,N=a.jqplot.getSignificantFigures(this.tickInterval);if(N.digitsLeft>=N.significantDigits)M="%d";else{var v=Math.max(0,5-N.digitsLeft);v=Math.min(v,N.digitsRight),M="%."+v+"f"}this._autoFormatString=M}else{t=null!=this.min?this.min:c-w*(this.padMin-1),u=null!=this.max?this.max:d+w*(this.padMax-1),w=u-t,null==this.numberTicks&&(this.numberTicks=null!=this.tickInterval?Math.ceil((u-t)/this.tickInterval)+1:k>100?parseInt(3+(k-100)/75,10):2),null==this.tickInterval&&(this.tickInterval=w/(this.numberTicks-1)),null==this.max&&(u=t+this.tickInterval*(this.numberTicks-1)),null==this.min&&(t=u-this.tickInterval*(this.numberTicks-1));var M,N=a.jqplot.getSignificantFigures(this.tickInterval);if(N.digitsLeft>=N.significantDigits)M="%d";else{var v=Math.max(0,5-N.digitsLeft);v=Math.min(v,N.digitsRight),M="%."+v+"f"}this._autoFormatString=M,this.min=t,this.max=u}if(this.renderer.constructor==a.jqplot.LinearAxisRenderer&&""==this._autoFormatString){w=this.max-this.min;var O=new this.tickRenderer(this.tickOptions),P=O.formatString||a.jqplot.config.defaultTickFormatString,P=P.match(a.jqplot.sprintf.regex)[0],Q=0;if(P){if(P.search(/[fFeEgGpP]/)>-1){var R=P.match(/\%\.(\d{0,})?[eEfFgGpP]/);Q=R?parseInt(R[1],10):6}else P.search(/[di]/)>-1&&(Q=0);var S=Math.pow(10,-Q);if(this.tickInterval<S&&null==n&&null==o)if(this.tickInterval=S,null==m&&null==l){this.min=Math.floor(this._dataBounds.min/S)*S,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/S)*S,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval);var T=(this.max-this.min)/this.tickInterval;T=T.toFixed(11),T=Math.ceil(T),this.numberTicks=T+1}else if(null==m){var T=(this._dataBounds.max-this.min)/this.tickInterval;T=T.toFixed(11),this.numberTicks=Math.ceil(T)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(null==l){var T=(this.max-this._dataBounds.min)/this.tickInterval;T=T.toFixed(11),this.numberTicks=Math.ceil(T)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)}else this.numberTicks=Math.ceil((m-l)/this.tickInterval)+1,this.min=Math.floor(l*Math.pow(10,Q))/Math.pow(10,Q),this.max=Math.ceil(m*Math.pow(10,Q))/Math.pow(10,Q),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}else{this.forceTickAt0&&(c>0&&(c=0),0>d&&(d=0)),this.forceTickAt100&&(c>100&&(c=100),100>d&&(d=100));var U=a.jqplot.LinearTickGenerator(c,d,this._scalefact,s),V=c+w*(this.padMin-1),W=d-w*(this.padMax-1);(V>c||d>W)&&(V=c-w*(this.padMin-1),W=d+w*(this.padMax-1),U=a.jqplot.LinearTickGenerator(V,W,this._scalefact,s)),this.min=U[0],this.max=U[1],this.numberTicks=U[2],this._autoFormatString=U[3],this.tickInterval=U[4]}this._overrideFormatString&&""!=this._autoFormatString&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString);for(var r,X,f=0;f<this.numberTicks;f++){if(e=this.min+f*this.tickInterval,r=new this.tickRenderer(this.tickOptions),r.setTick(e,this.name),this._ticks.push(r),f<this.numberTicks-1)for(var I=0;I<this.minorTicks;I++)e+=this.tickInterval/(this.minorTicks+1),X=a.extend(!0,{},this.tickOptions,{name:this.name,value:e,label:"",isMinorTick:!0}),r=new this.tickRenderer(X),this._ticks.push(r);r=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval),g=null},a.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(b){if(a.isArray(b)&&b.length==this._ticks.length){for(var c,d=0;d<b.length;d++)c=this._ticks[d],c.value=b[d],c.label=c.formatter(c.formatString,b[d]),c.label=c.prefix+c.label,c._elem.html(c.label);c=null,this.min=a.jqplot.arrayMin(b),this.max=a.jqplot.arrayMax(b),this.pack()}},a.jqplot.LinearAxisRenderer.prototype.pack=function(b,c){b=b||{},c=c||this._offsets;var d=this._ticks,e=this.max,f=this.min,g=c.max,h=c.min,i=null==this._label?!1:this._label.show;for(var j in b)this._elem.css(j,b[j]);this._offsets=c;var k=g-h,l=e-f;if(this.breakPoints?(l=l-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(a){return(a-h)*l/k+f},this.u2p=function(a){return a>this.breakPoints[0]&&a<this.breakPoints[1]&&(a=this.breakPoints[0]),a<=this.breakPoints[0]?(a-f)*k/l+h:(a-this.breakPoints[1]+this.breakPoints[0]-f)*k/l+h},"x"==this.name.charAt(0)?(this.series_u2p=function(a){return a>this.breakPoints[0]&&a<this.breakPoints[1]&&(a=this.breakPoints[0]),a<=this.breakPoints[0]?(a-f)*k/l:(a-this.breakPoints[1]+this.breakPoints[0]-f)*k/l},this.series_p2u=function(a){return a*l/k+f}):(this.series_u2p=function(a){return a>this.breakPoints[0]&&a<this.breakPoints[1]&&(a=this.breakPoints[0]),a>=this.breakPoints[1]?(a-e)*k/l:(a+this.breakPoints[1]-this.breakPoints[0]-e)*k/l},this.series_p2u=function(a){return a*l/k+e})):(this.p2u=function(a){return(a-h)*l/k+f},this.u2p=function(a){return(a-f)*k/l+h},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(a){return(a-f)*k/l},this.series_p2u=function(a){return a*l/k+f}):(this.series_u2p=function(a){return(a-e)*k/l},this.series_p2u=function(a){return a*l/k+e})),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(var m=0;m<d.length;m++){var n=d[m];if(n.show&&n.showLabel){var o;if(n.constructor==a.jqplot.CanvasAxisTickRenderer&&n.angle){var p="xaxis"==this.name?1:-1;switch(n.labelPosition){case"auto":o=p*n.angle<0?-n.getWidth()+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2:-n._textRenderer.height*Math.sin(n._textRenderer.angle)/2;break;case"end":o=-n.getWidth()+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2;break;case"start":o=-n._textRenderer.height*Math.sin(n._textRenderer.angle)/2;break;case"middle":o=-n.getWidth()/2+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2;break;default:o=-n.getWidth()/2+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2}}else o=-n.getWidth()/2;var q=this.u2p(n.value)+o+"px";n._elem.css("left",q),n.pack()}}if(i){var r=this._label._elem.outerWidth(!0);this._label._elem.css("left",h+k/2-r/2+"px"),"xaxis"==this.name?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(var m=0;m<d.length;m++){var n=d[m];if(n.show&&n.showLabel){var o;if(n.constructor==a.jqplot.CanvasAxisTickRenderer&&n.angle){var p="yaxis"==this.name?1:-1;switch(n.labelPosition){case"auto":case"end":o=p*n.angle<0?-n._textRenderer.height*Math.cos(-n._textRenderer.angle)/2:-n.getHeight()+n._textRenderer.height*Math.cos(n._textRenderer.angle)/2;
break;case"start":o=n.angle>0?-n._textRenderer.height*Math.cos(-n._textRenderer.angle)/2:-n.getHeight()+n._textRenderer.height*Math.cos(n._textRenderer.angle)/2;break;case"middle":o=-n.getHeight()/2;break;default:o=-n.getHeight()/2}}else o=-n.getHeight()/2;var q=this.u2p(n.value)+o+"px";n._elem.css("top",q),n.pack()}}if(i){var s=this._label._elem.outerHeight(!0);this._label._elem.css("top",g-k/2-s/2+"px"),"yaxis"==this.name?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}d=null};a.jqplot.LinearTickGenerator=function(a,b,c,d){if(a===b&&(b=b?0:1),c=c||1,a>b){var e=b;b=a,a=e}var f=[],g=x(b-a,c);if(null==d)f[0]=Math.floor(a/g)*g,f[1]=Math.ceil(b/g)*g,f[2]=Math.round((f[1]-f[0])/g+1),f[3]=u(g),f[4]=g;else{var h=[];if(h[0]=Math.floor(a/g)*g,h[1]=Math.ceil(b/g)*g,h[2]=Math.round((h[1]-h[0])/g+1),h[3]=u(g),h[4]=g,h[2]===d)f=h;else{var i=w(h[1]-h[0],d);f[0]=h[0],f[2]=d,f[4]=i,f[3]=u(i),f[1]=f[0]+(f[2]-1)*f[4]}}return f},a.jqplot.LinearTickGenerator.bestLinearInterval=x,a.jqplot.LinearTickGenerator.bestInterval=w,a.jqplot.LinearTickGenerator.bestLinearComponents=y,a.jqplot.LinearTickGenerator.bestConstrainedInterval=v,a.jqplot.MarkerRenderer=function(b){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new a.jqplot.ShadowRenderer,this.shapeRenderer=new a.jqplot.ShapeRenderer,a.extend(!0,this,b)},a.jqplot.MarkerRenderer.prototype.init=function(b){a.extend(!0,this,b);var c={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0};-1!=this.style.indexOf("filled")&&(c.fill=!0),-1!=this.style.indexOf("ircle")&&(c.isarc=!0,c.closePath=!1),this.shadowRenderer.init(c);var d={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0};-1!=this.style.indexOf("filled")&&(d.fill=!0),-1!=this.style.indexOf("ircle")&&(d.isarc=!0,d.closePath=!1),this.shapeRenderer.init(d)},a.jqplot.MarkerRenderer.prototype.drawDiamond=function(a,b,c,d,e){var f=1.2,g=this.size/2/f,h=this.size/2*f,i=[[a-g,b],[a,b+h],[a+g,b],[a,b-h]];this.shadow&&this.shadowRenderer.draw(c,i),this.shapeRenderer.draw(c,i,e)},a.jqplot.MarkerRenderer.prototype.drawPlus=function(b,c,d){var e=1,f=this.size/2*e,g=this.size/2*e,h=[[b,c-g],[b,c+g]],i=[[b+f,c],[b-f,c]],j=a.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(d,h,{closePath:!1}),this.shadowRenderer.draw(d,i,{closePath:!1})),this.shapeRenderer.draw(d,h,j),this.shapeRenderer.draw(d,i,j)},a.jqplot.MarkerRenderer.prototype.drawX=function(b,c,d){var e=1,f=this.size/2*e,g=this.size/2*e,h=a.extend(!0,{},this.options,{closePath:!1}),i=[[b-f,c-g],[b+f,c+g]],j=[[b-f,c+g],[b+f,c-g]];this.shadow&&(this.shadowRenderer.draw(d,i,{closePath:!1}),this.shadowRenderer.draw(d,j,{closePath:!1})),this.shapeRenderer.draw(d,i,h),this.shapeRenderer.draw(d,j,h)},a.jqplot.MarkerRenderer.prototype.drawDash=function(a,b,c,d,e){var f=1,g=this.size/2*f,h=(this.size/2*f,[[a-g,b],[a+g,b]]);this.shadow&&this.shadowRenderer.draw(c,h),this.shapeRenderer.draw(c,h,e)},a.jqplot.MarkerRenderer.prototype.drawLine=function(a,b,c,d,e){var f=[a,b];this.shadow&&this.shadowRenderer.draw(c,f),this.shapeRenderer.draw(c,f,e)},a.jqplot.MarkerRenderer.prototype.drawSquare=function(a,b,c,d,e){var f=1,g=this.size/2/f,h=this.size/2*f,i=[[a-g,b-h],[a-g,b+h],[a+g,b+h],[a+g,b-h]];this.shadow&&this.shadowRenderer.draw(c,i),this.shapeRenderer.draw(c,i,e)},a.jqplot.MarkerRenderer.prototype.drawCircle=function(a,b,c,d,e){var f=this.size/2,g=2*Math.PI,h=[a,b,f,0,g,!0];this.shadow&&this.shadowRenderer.draw(c,h),this.shapeRenderer.draw(c,h,e)},a.jqplot.MarkerRenderer.prototype.draw=function(a,b,c,d){if(d=d||{},null==d.show||0!=d.show)switch(d.color&&!d.fillStyle&&(d.fillStyle=d.color),d.color&&!d.strokeStyle&&(d.strokeStyle=d.color),this.style){case"diamond":this.drawDiamond(a,b,c,!1,d);break;case"filledDiamond":this.drawDiamond(a,b,c,!0,d);break;case"circle":this.drawCircle(a,b,c,!1,d);break;case"filledCircle":this.drawCircle(a,b,c,!0,d);break;case"square":this.drawSquare(a,b,c,!1,d);break;case"filledSquare":this.drawSquare(a,b,c,!0,d);break;case"x":this.drawX(a,b,c,!0,d);break;case"plus":this.drawPlus(a,b,c,!0,d);break;case"dash":this.drawDash(a,b,c,!0,d);break;case"line":this.drawLine(a,b,c,!1,d);break;default:this.drawDiamond(a,b,c,!1,d)}},a.jqplot.ShadowRenderer=function(b){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,a.extend(!0,this,b)},a.jqplot.ShadowRenderer.prototype.init=function(b){a.extend(!0,this,b)},a.jqplot.ShadowRenderer.prototype.draw=function(b,c,d){b.save();var e=null!=d?d:{},f=null!=e.fill?e.fill:this.fill,g=null!=e.fillRect?e.fillRect:this.fillRect,h=null!=e.closePath?e.closePath:this.closePath,i=null!=e.offset?e.offset:this.offset,j=null!=e.alpha?e.alpha:this.alpha,k=null!=e.depth?e.depth:this.depth,l=null!=e.isarc?e.isarc:this.isarc,m=null!=e.linePattern?e.linePattern:this.linePattern;b.lineWidth=null!=e.lineWidth?e.lineWidth:this.lineWidth,b.lineJoin=null!=e.lineJoin?e.lineJoin:this.lineJoin,b.lineCap=null!=e.lineCap?e.lineCap:this.lineCap,b.strokeStyle=e.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+j+")",b.fillStyle=e.fillStyle||this.fillStyle||"rgba(0,0,0,"+j+")";for(var n=0;k>n;n++){var o=a.jqplot.LinePattern(b,m);if(b.translate(Math.cos(this.angle*Math.PI/180)*i,Math.sin(this.angle*Math.PI/180)*i),o.beginPath(),l)b.arc(c[0],c[1],c[2],c[3],c[4],!0);else if(g)g&&b.fillRect(c[0],c[1],c[2],c[3]);else if(c&&c.length)for(var p=!0,q=0;q<c.length;q++)null!=c[q][0]&&null!=c[q][1]?p?(o.moveTo(c[q][0],c[q][1]),p=!1):o.lineTo(c[q][0],c[q][1]):p=!0;h&&o.closePath(),f?b.fill():b.stroke()}b.restore()},a.jqplot.ShapeRenderer=function(b){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",a.extend(!0,this,b)},a.jqplot.ShapeRenderer.prototype.init=function(b){a.extend(!0,this,b)},a.jqplot.ShapeRenderer.prototype.draw=function(b,c,d){b.save();var e=null!=d?d:{},f=null!=e.fill?e.fill:this.fill,g=null!=e.closePath?e.closePath:this.closePath,h=null!=e.fillRect?e.fillRect:this.fillRect,i=null!=e.strokeRect?e.strokeRect:this.strokeRect,j=null!=e.clearRect?e.clearRect:this.clearRect,k=null!=e.isarc?e.isarc:this.isarc,l=null!=e.linePattern?e.linePattern:this.linePattern,m=a.jqplot.LinePattern(b,l);if(b.lineWidth=e.lineWidth||this.lineWidth,b.lineJoin=e.lineJoin||this.lineJoin,b.lineCap=e.lineCap||this.lineCap,b.strokeStyle=e.strokeStyle||e.color||this.strokeStyle,b.fillStyle=e.fillStyle||this.fillStyle,b.beginPath(),k)return b.arc(c[0],c[1],c[2],c[3],c[4],!0),g&&b.closePath(),f?b.fill():b.stroke(),void b.restore();if(j)return b.clearRect(c[0],c[1],c[2],c[3]),void b.restore();if(h||i){if(h&&b.fillRect(c[0],c[1],c[2],c[3]),i)return b.strokeRect(c[0],c[1],c[2],c[3]),void b.restore()}else if(c&&c.length){for(var n=!0,o=0;o<c.length;o++)null!=c[o][0]&&null!=c[o][1]?n?(m.moveTo(c[o][0],c[o][1]),n=!1):m.lineTo(c[o][0],c[o][1]):n=!0;g&&m.closePath(),f?b.fill():b.stroke()}b.restore()},a.jqplot.TableLegendRenderer=function(){},a.jqplot.TableLegendRenderer.prototype.init=function(b){a.extend(!0,this,b)},a.jqplot.TableLegendRenderer.prototype.addrow=function(b,c,d,e){var f,g,h,i,j,k=d?this.rowSpacing+"px":"0px";h=document.createElement("tr"),f=a(h),f.addClass("jqplot-table-legend"),h=null,e?f.prependTo(this._elem):f.appendTo(this._elem),this.showSwatches&&(g=a(document.createElement("td")),g.addClass("jqplot-table-legend jqplot-table-legend-swatch"),g.css({textAlign:"center",paddingTop:k}),i=a(document.createElement("div")),i.addClass("jqplot-table-legend-swatch-outline"),j=a(document.createElement("div")),j.addClass("jqplot-table-legend-swatch"),j.css({backgroundColor:c,borderColor:c}),f.append(g.append(i.append(j)))),this.showLabels&&(g=a(document.createElement("td")),g.addClass("jqplot-table-legend jqplot-table-legend-label"),g.css("paddingTop",k),f.append(g),this.escapeHtml?g.text(b):g.html(b)),g=null,i=null,j=null,f=null,h=null},a.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var b=this._series,c=document.createElement("table");this._elem=a(c),this._elem.addClass("jqplot-table-legend");var d={position:"absolute"};this.background&&(d.background=this.background),this.border&&(d.border=this.border),this.fontSize&&(d.fontSize=this.fontSize),this.fontFamily&&(d.fontFamily=this.fontFamily),this.textColor&&(d.textColor=this.textColor),null!=this.marginTop&&(d.marginTop=this.marginTop),null!=this.marginBottom&&(d.marginBottom=this.marginBottom),null!=this.marginLeft&&(d.marginLeft=this.marginLeft),null!=this.marginRight&&(d.marginRight=this.marginRight);for(var e,f=!1,g=!1,h=0;h<b.length;h++)if(e=b[h],(e._stack||e.renderer.constructor==a.jqplot.BezierCurveRenderer)&&(g=!0),e.show&&e.showLabel){var i=this.labels[h]||e.label.toString();if(i){var j=e.color;g&&h<b.length-1?f=!0:g&&h==b.length-1&&(f=!1),this.renderer.addrow.call(this,i,j,f,g),f=!0}for(var k=0;k<a.jqplot.addLegendRowHooks.length;k++){var l=a.jqplot.addLegendRowHooks[k].call(this,e);l&&(this.renderer.addrow.call(this,l.label,l.color,f),f=!0)}i=null}}return this._elem},a.jqplot.TableLegendRenderer.prototype.pack=function(a){if(this.show)if("insideGrid"==this.placement)switch(this.location){case"nw":var b=a.left,c=a.top;this._elem.css("left",b),this._elem.css("top",c);break;case"n":var b=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,c=a.top;this._elem.css("left",b),this._elem.css("top",c);break;case"ne":var b=a.right,c=a.top;this._elem.css({right:b,top:c});break;case"e":var b=a.right,c=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({right:b,top:c});break;case"se":var b=a.right,c=a.bottom;this._elem.css({right:b,bottom:c});break;case"s":var b=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,c=a.bottom;this._elem.css({left:b,bottom:c});break;case"sw":var b=a.left,c=a.bottom;this._elem.css({left:b,bottom:c});break;case"w":var b=a.left,c=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({left:b,top:c});break;default:var b=a.right,c=a.bottom;this._elem.css({right:b,bottom:c})}else if("outside"==this.placement)switch(this.location){case"nw":var b=this._plotDimensions.width-a.left,c=a.top;this._elem.css("right",b),this._elem.css("top",c);break;case"n":var b=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,c=this._plotDimensions.height-a.top;this._elem.css("left",b),this._elem.css("bottom",c);break;case"ne":var b=this._plotDimensions.width-a.right,c=a.top;this._elem.css({left:b,top:c});break;case"e":var b=this._plotDimensions.width-a.right,c=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({left:b,top:c});break;case"se":var b=this._plotDimensions.width-a.right,c=a.bottom;this._elem.css({left:b,bottom:c});break;case"s":var b=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,c=this._plotDimensions.height-a.bottom;this._elem.css({left:b,top:c});break;case"sw":var b=this._plotDimensions.width-a.left,c=a.bottom;this._elem.css({right:b,bottom:c});break;case"w":var b=this._plotDimensions.width-a.left,c=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({right:b,top:c});break;default:var b=a.right,c=a.bottom;this._elem.css({right:b,bottom:c})}else switch(this.location){case"nw":this._elem.css({left:0,top:a.top});break;case"n":var b=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2;this._elem.css({left:b,top:a.top});break;case"ne":this._elem.css({right:0,top:a.top});break;case"e":var c=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({right:a.right,top:c});break;case"se":this._elem.css({right:a.right,bottom:a.bottom});break;case"s":var b=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2;this._elem.css({left:b,bottom:a.bottom});break;case"sw":this._elem.css({left:a.left,bottom:a.bottom});break;case"w":var c=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({left:a.left,top:c});break;default:this._elem.css({right:a.right,bottom:a.bottom})}},a.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},a.jqplot.ThemeEngine.prototype.init=function(){var b,c,d,e=new a.jqplot.Theme({_name:"Default"});for(b in e.target)e.target[b]=this.target.css("textColor"==b?"color":b);if(this.title.show&&this.title._elem)for(b in e.title)e.title[b]=this.title._elem.css("textColor"==b?"color":b);for(b in e.grid)e.grid[b]=this.grid[b];if(null==e.grid.backgroundColor&&null!=this.grid.background&&(e.grid.backgroundColor=this.grid.background),this.legend.show&&this.legend._elem)for(b in e.legend)e.legend[b]=this.legend._elem.css("textColor"==b?"color":b);var f;for(c=0;c<this.series.length;c++){f=this.series[c],e.series.push(f.renderer.constructor==a.jqplot.LineRenderer?new K:f.renderer.constructor==a.jqplot.BarRenderer?new M:f.renderer.constructor==a.jqplot.PieRenderer?new N:f.renderer.constructor==a.jqplot.DonutRenderer?new O:f.renderer.constructor==a.jqplot.FunnelRenderer?new P:f.renderer.constructor==a.jqplot.MeterGaugeRenderer?new Q:{});for(b in e.series[c])e.series[c][b]=f[b]}var g,h;for(b in this.axes){if(h=this.axes[b],g=e.axes[b]=new H,g.borderColor=h.borderColor,g.borderWidth=h.borderWidth,h._ticks&&h._ticks[0])for(d in g.ticks)h._ticks[0].hasOwnProperty(d)?g.ticks[d]=h._ticks[0][d]:h._ticks[0]._elem&&(g.ticks[d]=h._ticks[0]._elem.css(d));if(h._label&&h._label.show)for(d in g.label)h._label[d]?g.label[d]=h._label[d]:h._label._elem&&(g.label[d]=h._label._elem.css("textColor"==d?"color":d))}this.themeEngine._add(e),this.themeEngine.activeTheme=this.themeEngine.themes[e._name]},a.jqplot.ThemeEngine.prototype.get=function(a){return a?this.themes[a]:this.activeTheme},a.jqplot.ThemeEngine.prototype.getThemeNames=function(){var a=[];for(var b in this.themes)a.push(b);return a.sort(z)},a.jqplot.ThemeEngine.prototype.getThemes=function(){var a=[],b=[];for(var c in this.themes)a.push(c);a.sort(z);for(var d=0;d<a.length;d++)b.push(this.themes[a[d]]);return b},a.jqplot.ThemeEngine.prototype.activate=function(b,c){var d=!1;if(!c&&this.activeTheme&&this.activeTheme._name&&(c=this.activeTheme._name),!this.themes.hasOwnProperty(c))throw new Error("No theme of that name");var e=this.themes[c];this.activeTheme=e;var f,g=["xaxis","x2axis","yaxis","y2axis"];for(p=0;p<g.length;p++){var h=g[p];null!=e.axesStyles.borderColor&&(b.axes[h].borderColor=e.axesStyles.borderColor),null!=e.axesStyles.borderWidth&&(b.axes[h].borderWidth=e.axesStyles.borderWidth)}for(var i in b.axes){var j=b.axes[i];if(j.show){var k=e.axes[i]||{},l=e.axesStyles,m=a.jqplot.extend(!0,{},k,l);if(f=null!=e.axesStyles.borderColor?e.axesStyles.borderColor:m.borderColor,null!=m.borderColor&&(j.borderColor=m.borderColor,d=!0),f=null!=e.axesStyles.borderWidth?e.axesStyles.borderWidth:m.borderWidth,null!=m.borderWidth&&(j.borderWidth=m.borderWidth,d=!0),j._ticks&&j._ticks[0])for(var n in m.ticks)f=m.ticks[n],null!=f&&(j.tickOptions[n]=f,j._ticks=[],d=!0);if(j._label&&j._label.show)for(var n in m.label)f=m.label[n],null!=f&&(j.labelOptions[n]=f,d=!0)}}for(var o in e.grid)null!=e.grid[o]&&(b.grid[o]=e.grid[o]);if(d||b.grid.draw(),b.legend.show)for(o in e.legend)null!=e.legend[o]&&(b.legend[o]=e.legend[o]);if(b.title.show)for(o in e.title)null!=e.title[o]&&(b.title[o]=e.title[o]);var p;for(p=0;p<e.series.length;p++){var q={};for(o in e.series[p])f=null!=e.seriesStyles[o]?e.seriesStyles[o]:e.series[p][o],null!=f&&(q[o]=f,"color"==o?(b.series[p].renderer.shapeRenderer.fillStyle=f,b.series[p].renderer.shapeRenderer.strokeStyle=f,b.series[p][o]=f):"lineWidth"==o||"linePattern"==o?(b.series[p].renderer.shapeRenderer[o]=f,b.series[p][o]=f):"markerOptions"==o?(B(b.series[p].markerOptions,f),B(b.series[p].markerRenderer,f)):b.series[p][o]=f,d=!0)}d&&(b.target.empty(),b.draw());for(o in e.target)null!=e.target[o]&&b.target.css(o,e.target[o])},a.jqplot.ThemeEngine.prototype._add=function(a,b){if(b&&(a._name=b),a._name||(a._name=Date.parse(new Date)),this.themes.hasOwnProperty(a._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");this.themes[a._name]=a},a.jqplot.ThemeEngine.prototype.remove=function(a){return"Default"==a?!1:delete this.themes[a]},a.jqplot.ThemeEngine.prototype.newTheme=function(b,c){"object"==typeof b&&(c=c||b,b=null),b=c&&c._name?c._name:b||Date.parse(new Date);var d=this.copy(this.themes.Default._name,b);return a.jqplot.extend(d,c),d},a.jqplot.clone=A,a.jqplot.merge=B,a.jqplot.extend=function(){var b,c=arguments[0]||{},d=1,e=arguments.length,f=!1;for("boolean"==typeof c&&(f=c,c=arguments[1]||{},d=2),"object"!=typeof c&&"[object Function]"===!toString.call(c)&&(c={});e>d;d++)if(null!=(b=arguments[d]))for(var g in b){var h=c[g],i=b[g];c!==i&&(f&&i&&"object"==typeof i&&!i.nodeType?c[g]=a.jqplot.extend(f,h||(null!=i.length?[]:{}),i):i!==E&&(c[g]=i))}return c},a.jqplot.ThemeEngine.prototype.rename=function(a,b){if("Default"==a||"Default"==b)throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(b))throw new Error("jqplot.ThemeEngine Error: New name already in use.");if(this.themes.hasOwnProperty(a)){var c=this.copy(a,b);return this.remove(a),c}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")},a.jqplot.ThemeEngine.prototype.copy=function(b,c,d){if("Default"==c)throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(b)){var e="jqplot.ThemeEngine Error: Source name invalid";throw new Error(e)}if(this.themes.hasOwnProperty(c)){var e="jqplot.ThemeEngine Error: Target name invalid";throw new Error(e)}var f=A(this.themes[b]);return f._name=c,a.jqplot.extend(!0,f,d),this._add(f),f},a.jqplot.Theme=function(b,c){"object"==typeof b&&(c=c||b,b=null),b=b||Date.parse(new Date),this._name=b,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},"string"==typeof c?this._name=c:"object"==typeof c&&a.jqplot.extend(!0,this,c)};var H=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new I,this.label=new J},I=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},J=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},K=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new L},L=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},M=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},N=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},O=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},P=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},Q=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};a.fn.jqplotChildText=function(){return a(this).contents().filter(function(){return 3==this.nodeType}).text()},a.fn.jqplotGetComputedFontStyle=function(){for(var a=window.getComputedStyle?window.getComputedStyle(this[0]):this[0].currentStyle,b=a["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],c=[],d=0;d<b.length;++d){var e=String(a[b[d]]);e&&"normal"!=e&&c.push(e)}return c.join(" ")},a.fn.jqplotToImageCanvas=function(b){function c(b){var c=parseInt(a(b).css("line-height"),10);return isNaN(c)&&(c=1.2*parseInt(a(b).css("font-size"),10)),c}function d(b,d,e,f,g,h){for(var i=c(b),j=a(b).innerWidth(),k=(a(b).innerHeight(),e.split(/\s+/)),l=k.length,m="",n=[],o=g,p=f,q=0;l>q;q++)m+=k[q],d.measureText(m).width>j&&(n.push(q),m="");if(0===n.length)"center"===a(b).css("textAlign")&&(p=f+(h-d.measureText(m).width)/2-s),d.fillText(e,p,g);else{m=k.slice(0,n[0]).join(" "),"center"===a(b).css("textAlign")&&(p=f+(h-d.measureText(m).width)/2-s),d.fillText(m,p,o),o+=i;for(var q=1,r=n.length;r>q;q++)m=k.slice(n[q-1],n[q]).join(" "),"center"===a(b).css("textAlign")&&(p=f+(h-d.measureText(m).width)/2-s),d.fillText(m,p,o),o+=i;m=k.slice(n[q-1],k.length).join(" "),"center"===a(b).css("textAlign")&&(p=f+(h-d.measureText(m).width)/2-s),d.fillText(m,p,o)}}function e(b,c,f){var g=b.tagName.toLowerCase(),h=a(b).position(),i=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,j=c+h.left+parseInt(i.marginLeft,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.paddingLeft,10),k=f+h.top+parseInt(i.marginTop,10)+parseInt(i.borderTopWidth,10)+parseInt(i.paddingTop,10),l=m.width;if("div"!=g&&"span"!=g||a(b).hasClass("jqplot-highlighter-tooltip"))if("table"===g&&a(b).hasClass("jqplot-table-legend")){w.strokeStyle=a(b).css("border-top-color"),w.fillStyle=a(b).css("background-color"),w.fillRect(j,k,a(b).innerWidth(),a(b).innerHeight()),parseInt(a(b).css("border-top-width"),10)>0&&w.strokeRect(j,k,a(b).innerWidth(),a(b).innerHeight()),a(b).find("div.jqplot-table-legend-swatch-outline").each(function(){var b=a(this);w.strokeStyle=b.css("border-top-color");var c=j+b.position().left,d=k+b.position().top;w.strokeRect(c,d,b.innerWidth(),b.innerHeight()),c+=parseInt(b.css("padding-left"),10),d+=parseInt(b.css("padding-top"),10);var e=b.innerHeight()-2*parseInt(b.css("padding-top"),10),f=b.innerWidth()-2*parseInt(b.css("padding-left"),10),g=b.children("div.jqplot-table-legend-swatch");w.fillStyle=g.css("background-color"),w.fillRect(c,d,f,e)}),a(b).find("td.jqplot-table-legend-label").each(function(){var b=a(this),c=j+b.position().left,d=k+b.position().top+parseInt(b.css("padding-top"),10);w.font=b.jqplotGetComputedFontStyle(),w.fillStyle=b.css("color"),w.fillText(b.text(),c,d)})}else"canvas"==g&&w.drawImage(b,j,k);else{a(b).children().each(function(){e(this,j,k)});var n=a(b).jqplotChildText();n&&(w.font=a(b).jqplotGetComputedFontStyle(),w.fillStyle=a(b).css("color"),d(b,w,n,j,k,l))}}b=b||{};var f=null==b.x_offset?0:b.x_offset,g=null==b.y_offset?0:b.y_offset,h=null==b.backgroundColor?"rgb(255,255,255)":b.backgroundColor;if(0==a(this).width()||0==a(this).height())return null;if(!a.jqplot.support_canvas)return null;var i,j,k,l,m=document.createElement("canvas"),n=a(this).outerHeight(!0),o=a(this).outerWidth(!0),p=a(this).offset(),q=p.left,r=p.top,s=0,t=0,u=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"];for(var v in u)a(this).find("."+u[v]).each(function(){i=a(this).offset().top-r,j=a(this).offset().left-q,l=j+a(this).outerWidth(!0)+s,k=i+a(this).outerHeight(!0)+t,-s>j&&(o=o-s-j,s=-j),-t>i&&(n=n-t-i,t=-i),l>o&&(o=l),k>n&&(n=k)});m.width=o+Number(f),m.height=n+Number(g);var w=m.getContext("2d");return w.save(),w.fillStyle=h,w.fillRect(0,0,m.width,m.height),w.restore(),w.translate(s,t),w.textAlign="left",w.textBaseline="top",a(this).children().each(function(){e(this,f,g)}),m},a.fn.jqplotToImageStr=function(b){var c=a(this).jqplotToImageCanvas(b);return c?c.toDataURL("image/png"):null},a.fn.jqplotToImageElem=function(b){var c=document.createElement("img"),d=a(this).jqplotToImageStr(b);return c.src=d,c},a.fn.jqplotToImageElemStr=function(b){var c="<img src="+a(this).jqplotToImageStr(b)+" />";return c},a.fn.jqplotSaveImage=function(){var b=a(this).jqplotToImageStr({});b&&(window.location.href=b.replace("image/png","image/octet-stream"))},a.fn.jqplotViewImage=function(){{var b=a(this).jqplotToImageElemStr({});a(this).jqplotToImageStr({})}if(b){var c=window.open("");c.document.open("image/png"),c.document.write(b),c.document.close(),c=null}};var R=function(){switch(this.syntax=R.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=R.regional.getLocale(),this.formatString="",this.defaultCentury=R.config.defaultCentury,arguments.length){case 0:break;case 1:if("[object Object]"==D(arguments[0])&&"jsDate"!=arguments[0]._type){var a=this.options=arguments[0];this.syntax=a.syntax||this.syntax,this.defaultCentury=a.defaultCentury||this.defaultCentury,this.proxy=R.createDate(a.date)}else this.proxy=R.createDate(arguments[0]);break;default:for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,b.slice(0,3)),b.slice(3).length&&this.proxy.setHours.apply(this.proxy,b.slice(3))}};R.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},R.prototype.add=function(a,b){var c=U[b]||U.day;return"number"==typeof c?this.proxy.setTime(this.proxy.getTime()+c*a):c.add(this,a),this},R.prototype.clone=function(){return new R(this.proxy.getTime())},R.prototype.getUtcOffset=function(){return 6e4*this.proxy.getTimezoneOffset()},R.prototype.diff=function(a,b,c){if(a=new R(a),null===a)return null;var d=U[b]||U.day;if("number"==typeof d)var e=(this.proxy.getTime()-a.proxy.getTime())/d;else var e=d.diff(this.proxy,a.proxy);return c?e:Math[e>0?"floor":"ceil"](e)},R.prototype.getAbbrDayName=function(){return R.regional[this.locale].dayNamesShort[this.proxy.getDay()]},R.prototype.getAbbrMonthName=function(){return R.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},R.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},R.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},R.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},R.prototype.getDate=function(){return this.proxy.getDate()},R.prototype.getDay=function(){return this.proxy.getDay()},R.prototype.getDayOfWeek=function(){var a=this.proxy.getDay();return 0===a?7:a},R.prototype.getDayOfYear=function(){var a=this.proxy,b=a-new Date(""+a.getFullYear()+"/1/1 GMT");return b+=6e4*a.getTimezoneOffset(),a=null,parseInt(b/6e4/60/24,10)+1},R.prototype.getDayName=function(){return R.regional[this.locale].dayNames[this.proxy.getDay()]},R.prototype.getFullWeekOfYear=function(){var a=this.proxy,b=this.getDayOfYear(),c=6-a.getDay(),d=parseInt((b+c)/7,10);return d},R.prototype.getFullYear=function(){return this.proxy.getFullYear()},R.prototype.getGmtOffset=function(){var a=this.proxy.getTimezoneOffset()/60,b=0>a?"+":"-";return a=Math.abs(a),b+T(Math.floor(a),2)+":"+T(a%1*60,2)},R.prototype.getHours=function(){return this.proxy.getHours()},R.prototype.getHours12=function(){var a=this.proxy.getHours();return a>12?a-12:0==a?12:a},R.prototype.getIsoWeek=function(){var a=this.proxy,b=a.getWeekOfYear(),c=new Date(""+a.getFullYear()+"/1/1").getDay(),d=b+(c>4||1>=c?0:1);return 53==d&&new Date(""+a.getFullYear()+"/12/31").getDay()<4?d=1:0===d&&(a=new R(new Date(""+(a.getFullYear()-1)+"/12/31")),d=a.getIsoWeek()),a=null,d},R.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},R.prototype.getMinutes=function(){return this.proxy.getMinutes()},R.prototype.getMonth=function(){return this.proxy.getMonth()},R.prototype.getMonthName=function(){return R.regional[this.locale].monthNames[this.proxy.getMonth()]},R.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},R.prototype.getSeconds=function(){return this.proxy.getSeconds()},R.prototype.getShortYear=function(){return this.proxy.getYear()%100},R.prototype.getTime=function(){return this.proxy.getTime()},R.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},R.prototype.getTimezoneName=function(){var a=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return a[1]||a[2]||"GMT"+this.getGmtOffset()},R.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},R.prototype.getWeekOfYear=function(){var a=this.getDayOfYear(),b=7-this.getDayOfWeek(),c=parseInt((a+b)/7,10);return c},R.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},R.prototype.getYear=function(){return this.proxy.getYear()},R.prototype.next=function(a){return a=a||"day",this.clone().add(1,a)},R.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if("[object Object]"==D(arguments[0])&&"jsDate"!=arguments[0]._type){var a=this.options=arguments[0];this.syntax=a.syntax||this.syntax,this.defaultCentury=a.defaultCentury||this.defaultCentury,this.proxy=R.createDate(a.date)}else this.proxy=R.createDate(arguments[0]);break;default:for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,b.slice(0,3)),b.slice(3).length&&this.proxy.setHours.apply(this.proxy,b.slice(3))}return this},R.prototype.setDate=function(a){return this.proxy.setDate(a),this},R.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},R.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},R.prototype.setMilliseconds=function(a){return this.proxy.setMilliseconds(a),this},R.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},R.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},R.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},R.prototype.setTime=function(a){return this.proxy.setTime(a),this},R.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},R.prototype.strftime=function(a){return a=a||this.formatString||R.regional[this.locale].formatString,R.strftime(this,a,this.syntax)},R.prototype.toString=function(){return this.proxy.toString()},R.prototype.toYmdInt=function(){return 1e4*this.proxy.getFullYear()+100*this.getMonthNumber()+this.proxy.getDate()},R.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["كانون الثاني","شباط","آذار","نيسان","آذار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["السبت","الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],dayNamesShort:["سبت","أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"}},R.regional["en-US"]=R.regional["en-GB"]=R.regional.en,R.regional.getLocale=function(){var a=R.config.defaultLocale;
return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(a=document.getElementsByTagName("html")[0].lang,R.regional.hasOwnProperty(a)||(a=R.config.defaultLocale)),a};var S=864e5,T=function(a,b){a=String(a);var c=b-a.length,d=String(Math.pow(10,c)).slice(1);return d.concat(a)},U={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:S,week:7*S,month:{add:function(a,b){U.year.add(a,Math[b>0?"floor":"ceil"](b/12));var c=a.getMonth()+b%12;12==c?(c=0,a.setYear(a.getFullYear()+1)):-1==c&&(c=11,a.setYear(a.getFullYear()-1)),a.setMonth(c)},diff:function(a,b){var c=a.getFullYear()-b.getFullYear(),d=a.getMonth()-b.getMonth()+12*c,e=a.getDate()-b.getDate();return d+e/30}},year:{add:function(a,b){a.setYear(a.getFullYear()+Math[b>0?"floor":"ceil"](b))},diff:function(a,b){return U.month.diff(a,b)/12}}};for(var V in U)"s"!=V.substring(V.length-1)&&(U[V+"s"]=U[V]);var W=function(a,b,c){if(R.formats[c].shortcuts[b])return R.strftime(a,R.formats[c].shortcuts[b],c);var d=(R.formats[c].codes[b]||"").split("."),e=a["get"+d[0]]?a["get"+d[0]]():"";return d[1]&&(e=T(e,d[1])),e};R.strftime=function(a,b,c,d){var e="perl",f=R.regional.getLocale();c&&R.formats.hasOwnProperty(c)?e=c:c&&R.regional.hasOwnProperty(c)&&(f=c),d&&R.formats.hasOwnProperty(d)?e=d:d&&R.regional.hasOwnProperty(d)&&(f=d),("[object Object]"!=D(a)||"jsDate"!=a._type)&&(a=new R(a),a.locale=f),b||(b=a.formatString||R.regional[f].formatString);for(var g,h=b||"%Y-%m-%d",i="";h.length>0;)(g=h.match(R.formats[e].codes.matcher))?(i+=h.slice(0,g.index),i+=(g[1]||"")+W(a,g[2],e),h=h.slice(g.index+g[0].length)):(i+=h,h="");return i},R.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},R.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"	",n:"\n","%":"%"}},R.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"	",n:"\n","%":"%"}},R.createDate=function(a){function b(a,b){var c,d,e,f,g=parseFloat(b[1]),h=parseFloat(b[2]),i=parseFloat(b[3]),j=R.config.defaultCentury;return g>31?(d=i,e=h,c=j+g):(d=h,e=g,c=j+i),f=e+"/"+d+"/"+c,a.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,f)}if(null==a)return new Date;if(a instanceof Date)return a;if("number"==typeof a)return new Date(a);var c=String(a).replace(/^\s*(.+)\s*$/g,"$1");c=c.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3"),c=c.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var d=c.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);if(d&&d.length>3){var e=parseFloat(d[3]),f=R.config.defaultCentury+e;f=String(f),c=c.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,d[1]+" "+d[2]+" "+f)}d=c.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/),d&&d.length>3&&(c=b(c,d));var d=c.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);d&&d.length>3&&(c=b(c,d));for(var g,h,i,j=0,k=R.matchers.length,l=c;k>j;){if(h=Date.parse(l),!isNaN(h))return new Date(h);if(g=R.matchers[j],"function"==typeof g){if(i=g.call(R,l),i instanceof Date)return i}else l=c.replace(g[0],g[1]);j++}return 0/0},R.daysInMonth=function(a,b){return 2==b?29==new Date(a,1,29).getDate()?29:28:[E,31,E,31,30,31,30,31,31,30,31,30,31][b]},R.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(a){var b=a.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(b){if(b[1]){var c=this.createDate(b[1]);if(isNaN(c))return}else{var c=new Date;c.setMilliseconds(0)}var d=parseFloat(b[2]);return b[6]&&(d="am"==b[6].toLowerCase()?12==d?0:d:12==d?12:d+12),c.setHours(d,parseInt(b[3]||0,10),parseInt(b[4]||0,10),1e3*(parseFloat(b[5]||0)||0)),c}return a},function(a){var b=a.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(b){if(b[1]){var c=this.createDate(b[1]);if(isNaN(c))return}else{var c=new Date;c.setMilliseconds(0)}var d=parseFloat(b[2]);return c.setHours(d,parseInt(b[3],10),parseInt(b[4],10),1e3*parseFloat(b[5])),c}return a},function(a){var b=a.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(b){var c,d,e,f=new Date,g=R.config.defaultCentury,h=parseFloat(b[1]),i=parseFloat(b[3]);h>31?(d=i,c=g+h):(d=h,c=g+i);var e=C(b[2],R.regional[R.regional.getLocale()].monthNamesShort);return-1==e&&(e=C(b[2],R.regional[R.regional.getLocale()].monthNames)),f.setFullYear(c,e,d),f.setHours(0,0,0,0),f}return a}],a.jsDate=R,a.jqplot.sprintf=function(){function b(a,b,c,d){var e=a.length>=b?"":Array(1+b-a.length>>>0).join(c);return d?a+e:e+a}function c(b){for(var c=new String(b),d=10;d>0&&c!=(c=c.replace(/^(\d+)(\d{3})/,"$1"+a.jqplot.sprintf.thousandsSeparator+"$2"));d--);return c}function d(a,c,d,e,f,g){var h=e-a.length;if(h>0){var i=" ";g&&(i="&nbsp;"),a=d||!f?b(a,e,i,d):a.slice(0,c.length)+b("",h,"0",!0)+a.slice(c.length)}return a}function e(a,c,e,f,g,h,i,j){var k=a>>>0;return e=e&&k&&{2:"0b",8:"0",16:"0x"}[c]||"",a=e+b(k.toString(c),h||0,"0",!1),d(a,e,f,g,i,j)}function f(a,b,c,e,f,g){return null!=e&&(a=a.slice(0,e)),d(a,"",b,c,f,g)}var g=arguments,h=0,i=g[h++];return i.replace(a.jqplot.sprintf.regex,function(a,i,j,k,l,m,n){if("%%"==a)return"%";for(var o=!1,p="",q=!1,r=!1,s=!1,t=!1,u=0;j&&u<j.length;u++)switch(j.charAt(u)){case" ":p=" ";break;case"+":p="+";break;case"-":o=!0;break;case"0":q=!0;break;case"#":r=!0;break;case"&":s=!0;break;case"'":t=!0}if(k=k?"*"==k?+g[h++]:"*"==k.charAt(0)?+g[k.slice(1,-1)]:+k:0,0>k&&(k=-k,o=!0),!isFinite(k))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");m=m?"*"==m?+g[h++]:"*"==m.charAt(0)?+g[m.slice(1,-1)]:+m:"fFeE".indexOf(n)>-1?6:"d"==n?0:void 0;var v=i?g[i.slice(0,-1)]:g[h++];switch(n){case"s":return null==v?"":f(String(v),o,k,m,q,s);case"c":return f(String.fromCharCode(+v),o,k,m,q,s);case"b":return e(v,2,r,o,k,m,q,s);case"o":return e(v,8,r,o,k,m,q,s);case"x":return e(v,16,r,o,k,m,q,s);case"X":return e(v,16,r,o,k,m,q,s).toUpperCase();case"u":return e(v,10,r,o,k,m,q,s);case"i":var w=parseInt(+v,10);if(isNaN(w))return"";var x=0>w?"-":p,y=t?c(String(Math.abs(w))):String(Math.abs(w));return v=x+b(y,m,"0",!1),d(v,x,o,k,q,s);case"d":var w=Math.round(+v);if(isNaN(w))return"";var x=0>w?"-":p,y=t?c(String(Math.abs(w))):String(Math.abs(w));return v=x+b(y,m,"0",!1),d(v,x,o,k,q,s);case"e":case"E":case"f":case"F":case"g":case"G":var w=+v;if(isNaN(w))return"";var x=0>w?"-":p,z=["toExponential","toFixed","toPrecision"]["efg".indexOf(n.toLowerCase())],A=["toString","toUpperCase"]["eEfFgG".indexOf(n)%2],y=Math.abs(w)[z](m);return y=t?c(y):y,v=x+y,d(v,x,o,k,q,s)[A]();case"p":case"P":var w=+v;if(isNaN(w))return"";var x=0>w?"-":p,B=String(Number(Math.abs(w)).toExponential()).split(/e|E/),C=-1!=B[0].indexOf(".")?B[0].length-1:B[0].length,D=B[1]<0?-B[1]-1:0;if(Math.abs(w)<1)v=m>=C+D?x+Math.abs(w).toPrecision(C):m-1>=C?x+Math.abs(w).toExponential(C-1):x+Math.abs(w).toExponential(m-1);else{var E=m>=C?C:m;v=x+Math.abs(w).toPrecision(E)}var A=["toString","toUpperCase"]["pP".indexOf(n)%2];return d(v,x,o,k,q,s)[A]();case"n":return"";default:return a}})},a.jqplot.sprintf.thousandsSeparator=",",a.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,a.jqplot.getSignificantFigures=function(a){var b=String(Number(Math.abs(a)).toExponential()).split(/e|E/),c=-1!=b[0].indexOf(".")?b[0].length-1:b[0].length,d=b[1]<0?-b[1]-1:0,e=parseInt(b[1],10),f=e+1>0?e+1:0,g=f>=c?0:c-e-1;return{significantDigits:c,digitsLeft:f,digitsRight:g,zeros:d,exponent:e}},a.jqplot.getPrecision=function(b){return a.jqplot.getSignificantFigures(b).digitsRight}}(jQuery);var backCompat=$.uiBackCompat!==!1;$.jqplot.effects={effect:{}};var dataSpace="jqplot.storage.";$.extend($.jqplot.effects,{version:"1.9pre",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data(dataSpace+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data(dataSpace+b[c]))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d={width:a.width(),height:a.height()},e=document.activeElement;return a.wrap(c),(a[0]===e||$.contains(a[0],e))&&$(e).focus(),c=a.parent(),"static"===a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):($.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),$.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d),isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),a.css(d),c.css(b).show()},removeWrapper:function(a){var b=document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===b||$.contains(a[0],b))&&$(b).focus()),a}}),$.fn.extend({jqplotEffect:function(){function a(a){function c(){$.isFunction(f)&&f.call(d[0]),$.isFunction(a)&&a()}var d=$(this),f=b.complete,g=b.mode;(d.is(":hidden")?"hide"===g:"show"===g)?c():e.call(d[0],b,c)}var b=_normalizeArguments.apply(this,arguments),c=b.mode,d=b.queue,e=$.jqplot.effects.effect[b.effect],f=!e&&backCompat&&$.jqplot.effects[b.effect];return $.fx.off||!e&&!f?c?this[c](b.duration,b.complete):this.each(function(){b.complete&&b.complete.call(this)}):e?d===!1?this.each(a):this.queue(d||"fx",a):f.call(this,{options:b,duration:b.duration,callback:b.complete,mode:b.mode})}});var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.jqplot.effects.effect.blind=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.jqplot.effects.setMode(f,a.mode||"hide"),i=a.direction||"up",j=rvertical.test(i),k=j?"height":"width",l=j?"top":"left",m=rpositivemotion.test(i),n={},o="show"===h;f.parent().is(".ui-effects-wrapper")?$.jqplot.effects.save(f.parent(),g):$.jqplot.effects.save(f,g),f.show(),e=parseInt(f.css("top"),10),c=$.jqplot.effects.createWrapper(f).css({overflow:"hidden"}),d=j?c[k]()+e:c[k](),n[k]=o?String(d):"0",m||(f.css(j?"bottom":"right",0).css(j?"top":"left","").css({position:"absolute"}),n[l]=o?"0":String(d)),o&&(c.css(k,0),m||c.css(l,d)),c.animate(n,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){"hide"===h&&f.hide(),$.jqplot.effects.restore(f,g),$.jqplot.effects.removeWrapper(f),b()}})},function(a){function b(b,c,e){var f=e.plugins.cursor,g="",h=!1;if(f.showTooltipGridPosition&&(g=b.x+", "+b.y,h=!0),f.showTooltipUnitPosition)for(var i,j=0;j<f.tooltipAxisGroups.length;j++){if(i=f.tooltipAxisGroups[j],h&&(g+="<br />"),f.useAxesFormatters)for(var k=0;k<i.length;k++){k&&(g+=", ");var l=e.axes[i[k]]._ticks[0].formatter,m=e.axes[i[k]]._ticks[0].formatString;g+=l(m,c[i[k]])}else g+=a.jqplot.sprintf(f.tooltipFormatString,c[i[0]],c[i[1]]);h=!0}if(f.showTooltipDataPosition)for(var n=e.series,o=d(e,b.x,b.y),h=!1,j=0;j<n.length;j++)if(n[j].show){var p=n[j].index,q=n[j].label.toString(),r=a.inArray(p,o.indices),s=void 0,t=void 0;if(-1!=r){var u=o.data[r].data;if(f.useAxesFormatters){var v=n[j]._xaxis._ticks[0].formatter,w=n[j]._yaxis._ticks[0].formatter,x=n[j]._xaxis._ticks[0].formatString,y=n[j]._yaxis._ticks[0].formatString;s=v(x,u[0]),t=w(y,u[1])}else s=u[0],t=u[1];h&&(g+="<br />"),g+=a.jqplot.sprintf(f.tooltipFormatString,q,s,t),h=!0}}f._tooltipElem.html(g)}function c(b,c){var e=c.plugins.cursor,f=e.cursorCanvas._ctx;f.clearRect(0,0,f.canvas.width,f.canvas.height),e.showVerticalLine&&e.shapeRenderer.draw(f,[[b.x,0],[b.x,f.canvas.height]]),e.showHorizontalLine&&e.shapeRenderer.draw(f,[[0,b.y],[f.canvas.width,b.y]]);var g=d(c,b.x,b.y);if(e.showCursorLegend)for(var h=a(c.targetId+" td.jqplot-cursor-legend-label"),i=0;i<h.length;i++){var j=a(h[i]).data("seriesIndex"),k=c.series[j],l=k.label.toString(),m=a.inArray(j,g.indices),n=void 0,o=void 0;if(-1!=m){var p=g.data[m].data;if(e.useAxesFormatters){var q=k._xaxis._ticks[0].formatter,r=k._yaxis._ticks[0].formatter,s=k._xaxis._ticks[0].formatString,t=k._yaxis._ticks[0].formatString;n=q(s,p[0]),o=r(t,p[1])}else n=p[0],o=p[1]}c.legend.escapeHtml?a(h[i]).text(a.jqplot.sprintf(e.cursorLegendFormatString,l,n,o)):a(h[i]).html(a.jqplot.sprintf(e.cursorLegendFormatString,l,n,o))}f=null}function d(a,b){for(var c,d,e,f,g,h,i={indices:[],data:[]},j=a.plugins.cursor,d=0;d<a.series.length;d++)if(c=a.series[d],f=c.renderer,c.show){h=j.intersectionThreshold,c.showMarker&&(h+=c.markerRenderer.size/2);for(var e=0;e<c.gridData.length;e++)g=c.gridData[e],j.showVerticalLine&&Math.abs(b-g[0])<=h&&(i.indices.push(d),i.data.push({seriesIndex:d,pointIndex:e,gridData:g,data:c.data[e]}))}return i}function e(a,b){var c=b.plugins.cursor,d=c._tooltipElem;switch(c.tooltipLocation){case"nw":var e=a.x+b._gridPadding.left-d.outerWidth(!0)-c.tooltipOffset,f=a.y+b._gridPadding.top-c.tooltipOffset-d.outerHeight(!0);break;case"n":var e=a.x+b._gridPadding.left-d.outerWidth(!0)/2,f=a.y+b._gridPadding.top-c.tooltipOffset-d.outerHeight(!0);break;case"ne":var e=a.x+b._gridPadding.left+c.tooltipOffset,f=a.y+b._gridPadding.top-c.tooltipOffset-d.outerHeight(!0);break;case"e":var e=a.x+b._gridPadding.left+c.tooltipOffset,f=a.y+b._gridPadding.top-d.outerHeight(!0)/2;break;case"se":var e=a.x+b._gridPadding.left+c.tooltipOffset,f=a.y+b._gridPadding.top+c.tooltipOffset;break;case"s":var e=a.x+b._gridPadding.left-d.outerWidth(!0)/2,f=a.y+b._gridPadding.top+c.tooltipOffset;break;case"sw":var e=a.x+b._gridPadding.left-d.outerWidth(!0)-c.tooltipOffset,f=a.y+b._gridPadding.top+c.tooltipOffset;break;case"w":var e=a.x+b._gridPadding.left-d.outerWidth(!0)-c.tooltipOffset,f=a.y+b._gridPadding.top-d.outerHeight(!0)/2;break;default:var e=a.x+b._gridPadding.left+c.tooltipOffset,f=a.y+b._gridPadding.top+c.tooltipOffset}d.css("left",e),d.css("top",f),d=null}function f(a){var b=a._gridPadding,c=a.plugins.cursor,d=c._tooltipElem;switch(c.tooltipLocation){case"nw":var e=b.left+c.tooltipOffset,f=b.top+c.tooltipOffset;d.css("left",e),d.css("top",f);break;case"n":var e=(b.left+(a._plotDimensions.width-b.right))/2-d.outerWidth(!0)/2,f=b.top+c.tooltipOffset;d.css("left",e),d.css("top",f);break;case"ne":var e=b.right+c.tooltipOffset,f=b.top+c.tooltipOffset;d.css({right:e,top:f});break;case"e":var e=b.right+c.tooltipOffset,f=(b.top+(a._plotDimensions.height-b.bottom))/2-d.outerHeight(!0)/2;d.css({right:e,top:f});break;case"se":var e=b.right+c.tooltipOffset,f=b.bottom+c.tooltipOffset;d.css({right:e,bottom:f});break;case"s":var e=(b.left+(a._plotDimensions.width-b.right))/2-d.outerWidth(!0)/2,f=b.bottom+c.tooltipOffset;d.css({left:e,bottom:f});break;case"sw":var e=b.left+c.tooltipOffset,f=b.bottom+c.tooltipOffset;d.css({left:e,bottom:f});break;case"w":var e=b.left+c.tooltipOffset,f=(b.top+(a._plotDimensions.height-b.bottom))/2-d.outerHeight(!0)/2;d.css({left:e,top:f});break;default:var e=b.right-c.tooltipOffset,f=b.bottom+c.tooltipOffset;d.css({right:e,bottom:f})}d=null}function g(a,b,c,d,e){a.preventDefault(),a.stopImmediatePropagation();var f=e.plugins.cursor;f.clickReset&&f.resetZoom(e,f);var g=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():g&&!g().isCollapsed&&g().collapse(),!1}function h(a,b,c,d,e){a.preventDefault(),a.stopImmediatePropagation();var f=e.plugins.cursor;f.dblClickReset&&f.resetZoom(e,f);var g=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():g&&!g().isCollapsed&&g().collapse(),!1}function i(b,c,d,e,f){var g=f.plugins.cursor;if(g.onGrid=!1,g.show){if(a(b.target).css("cursor",g.previousCursor),!g.showTooltip||g._zoom.zooming&&g.showTooltipOutsideZoom&&!g.constrainOutsideZoom||(g._tooltipElem.empty(),g._tooltipElem.hide()),g.zoom&&(g._zoom.gridpos=c,g._zoom.datapos=d),g.showVerticalLine||g.showHorizontalLine){var h=g.cursorCanvas._ctx;h.clearRect(0,0,h.canvas.width,h.canvas.height),h=null}if(g.showCursorLegend)for(var i=a(f.targetId+" td.jqplot-cursor-legend-label"),j=0;j<i.length;j++){var k=a(i[j]).data("seriesIndex"),l=f.series[k],m=l.label.toString();f.legend.escapeHtml?a(i[j]).text(a.jqplot.sprintf(g.cursorLegendFormatString,m,void 0,void 0)):a(i[j]).html(a.jqplot.sprintf(g.cursorLegendFormatString,m,void 0,void 0))}}}function j(a,d,g,h,i){var j=i.plugins.cursor;j.onGrid=!0,j.show&&(j.previousCursor=a.target.style.cursor,a.target.style.cursor=j.style,j.showTooltip&&(b(d,g,i),j.followMouse?e(d,i):f(i),j._tooltipElem.show()),(j.showVerticalLine||j.showHorizontalLine)&&c(d,i))}function k(a,d,f,g,h){var i=h.plugins.cursor;i.show&&(i.showTooltip&&(b(d,f,h),i.followMouse&&e(d,h)),(i.showVerticalLine||i.showHorizontalLine)&&c(d,h))}function l(a){var b,c,d=a.data.plot,e=d.eventCanvas._elem.offset(),f={x:a.pageX-e.left,y:a.pageY-e.top},g={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},h=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],i=d.axes;for(b=11;b>0;b--)c=h[b-1],i[c].show&&(g[c]=i[c].series_p2u(f[c.charAt(0)]));return{offsets:e,gridPos:f,dataPos:g}}function m(a){var c=a.data.plot,d=c.plugins.cursor;if(d.show&&d.zoom&&d._zoom.started&&!d.zoomTarget){a.preventDefault();var f=d.zoomCanvas._ctx,g=l(a),h=g.gridPos,i=g.dataPos;d._zoom.gridpos=h,d._zoom.datapos=i,d._zoom.zooming=!0;var j=h.x,k=h.y,m=f.canvas.height,n=f.canvas.width;d.showTooltip&&!d.onGrid&&d.showTooltipOutsideZoom&&(b(h,i,c),d.followMouse&&e(h,c)),d._zoom.end="x"==d.constrainZoomTo?[j,m]:"y"==d.constrainZoomTo?[n,k]:[j,k];var o=window.getSelection;document.selection&&document.selection.empty?document.selection.empty():o&&!o().isCollapsed&&o().collapse(),p.call(d),f=null}}function n(b,c,d,e,f){var g=f.plugins.cursor;f.plugins.mobile?a(document).one("vmouseup.jqplot_cursor",{plot:f},o):a(document).one("mouseup.jqplot_cursor",{plot:f},o);f.axes;if(void 0!=document.onselectstart&&(g._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!=document.ondrag&&(g._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),void 0!=document.onmousedown&&(g._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return!1}),g.zoom){if(!g.zoomProxy){var h=g.zoomCanvas._ctx;h.clearRect(0,0,h.canvas.width,h.canvas.height),h=null}g._zoom.start="x"==g.constrainZoomTo?[c.x,0]:"y"==g.constrainZoomTo?[0,c.y]:[c.x,c.y],g._zoom.started=!0;for(var i in d)g._zoom.axes.start[i]=d[i];f.plugins.mobile?a(document).bind("vmousemove.jqplotCursor",{plot:f},m):a(document).bind("mousemove.jqplotCursor",{plot:f},m)}}function o(b){var c=b.data.plot,d=c.plugins.cursor;if(d.zoom&&d._zoom.zooming&&!d.zoomTarget){var e=d._zoom.gridpos.x,f=d._zoom.gridpos.y,g=d._zoom.datapos,h=d.zoomCanvas._ctx.canvas.height,i=d.zoomCanvas._ctx.canvas.width,j=c.axes;if(d.constrainOutsideZoom&&!d.onGrid){0>e?e=0:e>i&&(e=i),0>f?f=0:f>h&&(f=h);for(var k in g)g[k]&&(g[k]=j[k].series_p2u("x"==k.charAt(0)?e:f))}"x"==d.constrainZoomTo?f=h:"y"==d.constrainZoomTo&&(e=i),d._zoom.end=[e,f],d._zoom.gridpos={x:e,y:f},d.doZoom(d._zoom.gridpos,g,c,d)}d._zoom.started=!1,d._zoom.zooming=!1,a(document).unbind("mousemove.jqplotCursor",m),void 0!=document.onselectstart&&null!=d._oldHandlers.onselectstart&&(document.onselectstart=d._oldHandlers.onselectstart,d._oldHandlers.onselectstart=null),void 0!=document.ondrag&&null!=d._oldHandlers.ondrag&&(document.ondrag=d._oldHandlers.ondrag,d._oldHandlers.ondrag=null),void 0!=document.onmousedown&&null!=d._oldHandlers.onmousedown&&(document.onmousedown=d._oldHandlers.onmousedown,d._oldHandlers.onmousedown=null)}function p(){var a,b,c,d,e=this._zoom.start,f=this._zoom.end,g=this.zoomCanvas._ctx;f[0]>e[0]?(a=e[0],d=f[0]-e[0]):(a=f[0],d=e[0]-f[0]),f[1]>e[1]?(b=e[1],c=f[1]-e[1]):(b=f[1],c=e[1]-f[1]),g.fillStyle="rgba(0,0,0,0.2)",g.strokeStyle="#999999",g.lineWidth=1,g.clearRect(0,0,g.canvas.width,g.canvas.height),g.fillRect(0,0,g.canvas.width,g.canvas.height),g.clearRect(a,b,d,c),g.strokeRect(a,b,d,c),g=null}a.jqplot.Cursor=function(b){this.style="crosshair",this.previousCursor="auto",this.show=a.jqplot.config.enablePlugins,this.showTooltip=!0,this.followMouse=!1,this.tooltipLocation="se",this.tooltipOffset=6,this.showTooltipGridPosition=!1,this.showTooltipUnitPosition=!0,this.showTooltipDataPosition=!1,this.tooltipFormatString="%.4P, %.4P",this.useAxesFormatters=!0,this.tooltipAxisGroups=[],this.zoom=!1,this.zoomProxy=!1,this.zoomTarget=!1,this.looseZoom=!0,this.clickReset=!1,this.dblClickReset=!0,this.showVerticalLine=!1,this.showHorizontalLine=!1,this.constrainZoomTo="none",this.shapeRenderer=new a.jqplot.ShapeRenderer,this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}},this._tooltipElem,this.zoomCanvas,this.cursorCanvas,this.intersectionThreshold=2,this.showCursorLegend=!1,this.cursorLegendFormatString=a.jqplot.Cursor.cursorLegendFormatString,this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null},this.constrainOutsideZoom=!0,this.showTooltipOutsideZoom=!1,this.onGrid=!1,a.extend(!0,this,b)},a.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s",a.jqplot.Cursor.init=function(b,c,d){var e=d||{};this.plugins.cursor=new a.jqplot.Cursor(e.cursor);var f=this.plugins.cursor;f.show&&(a.jqplot.eventListenerHooks.push(["jqplotMouseEnter",j]),a.jqplot.eventListenerHooks.push(["jqplotMouseLeave",i]),a.jqplot.eventListenerHooks.push(["jqplotMouseMove",k]),f.showCursorLegend&&(d.legend=d.legend||{},d.legend.renderer=a.jqplot.CursorLegendRenderer,d.legend.formatString=this.plugins.cursor.cursorLegendFormatString,d.legend.show=!0),f.zoom&&(a.jqplot.eventListenerHooks.push(["jqplotMouseDown",n]),f.clickReset&&a.jqplot.eventListenerHooks.push(["jqplotClick",g]),f.dblClickReset&&a.jqplot.eventListenerHooks.push(["jqplotDblClick",h])),this.resetZoom=function(){var a=this.axes;if(f.zoomProxy){var b=this.plugins.cursor.zoomCanvas._ctx;b.clearRect(0,0,b.canvas.width,b.canvas.height),b=null}else{for(var c in a)a[c].reset(),a[c]._ticks=[],void 0!==f._zoom.axes[c]&&(a[c]._autoFormatString=f._zoom.axes[c].tickFormatString);this.redraw()}this.plugins.cursor._zoom.isZoomed=!1,this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},f.showTooltipDataPosition&&(f.showTooltipUnitPosition=!1,f.showTooltipGridPosition=!1,void 0==e.cursor.tooltipFormatString&&(f.tooltipFormatString=a.jqplot.Cursor.cursorLegendFormatString)))},a.jqplot.Cursor.postDraw=function(){var b=this.plugins.cursor;b.zoomCanvas&&(b.zoomCanvas.resetCanvas(),b.zoomCanvas=null),b.cursorCanvas&&(b.cursorCanvas.resetCanvas(),b.cursorCanvas=null),b._tooltipElem&&(b._tooltipElem.emptyForce(),b._tooltipElem=null),b.zoom&&(b.zoomCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),b.zoomCanvas.setContext());var c=document.createElement("div");if(b._tooltipElem=a(c),c=null,b._tooltipElem.addClass("jqplot-cursor-tooltip"),b._tooltipElem.css({position:"absolute",display:"none"}),b.zoomCanvas?b.zoomCanvas._elem.before(b._tooltipElem):this.eventCanvas._elem.before(b._tooltipElem),(b.showVerticalLine||b.showHorizontalLine)&&(b.cursorCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),b.cursorCanvas.setContext()),b.showTooltipUnitPosition&&0===b.tooltipAxisGroups.length){for(var d,e=this.series,f=[],g=0;g<e.length;g++){d=e[g];var h=d.xaxis+","+d.yaxis;-1==a.inArray(h,f)&&f.push(h)}for(var g=0;g<f.length;g++)b.tooltipAxisGroups.push(f[g].split(","))}},a.jqplot.Cursor.zoomProxy=function(a,b){function c(b,c,d,f,g){e.doZoom(c,d,a,g)}function d(){a.resetZoom()}var e=a.plugins.cursor,f=b.plugins.cursor;e.zoomTarget=!0,e.zoom=!0,e.style="auto",e.dblClickReset=!1,f.zoom=!0,f.zoomProxy=!0,b.target.bind("jqplotZoom",c),b.target.bind("jqplotResetZoom",d)},a.jqplot.Cursor.prototype.resetZoom=function(a,b){var c=a.axes,d=b._zoom.axes;if(!a.plugins.cursor.zoomProxy&&b._zoom.isZoomed){for(var e in c)c[e].reset(),c[e]._ticks=[],c[e]._autoFormatString=d[e].tickFormatString;a.redraw(),b._zoom.isZoomed=!1}else{var f=b.zoomCanvas._ctx;f.clearRect(0,0,f.canvas.width,f.canvas.height),f=null}a.target.trigger("jqplotResetZoom",[a,b])},a.jqplot.Cursor.resetZoom=function(a){a.resetZoom()},a.jqplot.Cursor.prototype.doZoom=function(b,c,d,e){var f,g,h,i,j,k,l,m=e,n=d.axes,o=m._zoom.axes,p=o.start,q=(o.end,d.plugins.cursor.zoomCanvas._ctx);if("none"==m.constrainZoomTo&&Math.abs(b.x-m._zoom.start[0])>6&&Math.abs(b.y-m._zoom.start[1])>6||"x"==m.constrainZoomTo&&Math.abs(b.x-m._zoom.start[0])>6||"y"==m.constrainZoomTo&&Math.abs(b.y-m._zoom.start[1])>6){if(!d.plugins.cursor.zoomProxy){for(var r in c)void 0==m._zoom.axes[r]&&(m._zoom.axes[r]={},m._zoom.axes[r].numberTicks=n[r].numberTicks,m._zoom.axes[r].tickInterval=n[r].tickInterval,m._zoom.axes[r].daTickInterval=n[r].daTickInterval,m._zoom.axes[r].min=n[r].min,m._zoom.axes[r].max=n[r].max,m._zoom.axes[r].tickFormatString=null!=n[r].tickOptions?n[r].tickOptions.formatString:""),("none"==m.constrainZoomTo||"x"==m.constrainZoomTo&&"x"==r.charAt(0)||"y"==m.constrainZoomTo&&"y"==r.charAt(0))&&(f=c[r],null!=f&&(f>p[r]?(h=p[r],i=f):(g=p[r]-f,h=f,i=p[r]),j=n[r],k=null,j.alignTicks&&("x2axis"===j.name&&d.axes.xaxis.show?k=d.axes.xaxis.numberTicks:"y"===j.name.charAt(0)&&"yaxis"!==j.name&&"yMidAxis"!==j.name&&d.axes.yaxis.show&&(k=d.axes.yaxis.numberTicks)),!this.looseZoom||n[r].renderer.constructor!==a.jqplot.LinearAxisRenderer&&n[r].renderer.constructor!==a.jqplot.LogAxisRenderer?(n[r].min=h,n[r].max=i,n[r].tickInterval=null,n[r].numberTicks=null,n[r].daTickInterval=null):(l=a.jqplot.LinearTickGenerator(h,i,j._scalefact,k),n[r].tickInset&&l[0]<n[r].min+n[r].tickInset*n[r].tickInterval&&(l[0]+=l[4],l[2]-=1),n[r].tickInset&&l[1]>n[r].max-n[r].tickInset*n[r].tickInterval&&(l[1]-=l[4],l[2]-=1),n[r].renderer.constructor===a.jqplot.LogAxisRenderer&&l[0]<n[r].min&&(l[0]+=l[4],l[2]-=1),n[r].min=l[0],n[r].max=l[1],n[r]._autoFormatString=l[3],n[r].numberTicks=l[2],n[r].tickInterval=l[4],n[r].daTickInterval=[l[4]/1e3,"seconds"]),n[r]._ticks=[]));q.clearRect(0,0,q.canvas.width,q.canvas.height),d.redraw(),m._zoom.isZoomed=!0,q=null}d.target.trigger("jqplotZoom",[b,c,d,e])}},a.jqplot.preInitHooks.push(a.jqplot.Cursor.init),a.jqplot.postDrawHooks.push(a.jqplot.Cursor.postDraw),a.jqplot.CursorLegendRenderer=function(b){a.jqplot.TableLegendRenderer.call(this,b),this.formatString="%s"},a.jqplot.CursorLegendRenderer.prototype=new a.jqplot.TableLegendRenderer,a.jqplot.CursorLegendRenderer.prototype.constructor=a.jqplot.CursorLegendRenderer,a.jqplot.CursorLegendRenderer.prototype.draw=function(){function b(b,c,d,e){var f=d?this.rowSpacing:"0",g=a('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);g.data("seriesIndex",e),a('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+f+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+c+';"></div></div></td>').appendTo(g);var h=a('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+f+';"></td>');h.appendTo(g),h.data("seriesIndex",e),this.escapeHtml?h.text(b):h.html(b),g=null,h=null}if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var c,d=this._series,e=document.createElement("div");this._elem=a(e),e=null,this._elem.addClass("jqplot-legend jqplot-cursor-legend"),this._elem.css("position","absolute");for(var f=!1,g=0;g<d.length;g++)if(c=d[g],c.show&&c.showLabel){var h=a.jqplot.sprintf(this.formatString,c.label.toString());if(h){var i=c.color;c._stack&&!c.fill&&(i=""),b.call(this,h,i,f,g),f=!0}for(var j=0;j<a.jqplot.addLegendRowHooks.length;j++){var k=a.jqplot.addLegendRowHooks[j].call(this,c);k&&(b.call(this,k.label,k.color,f),f=!0)}}d=c=null,delete d,delete c}return this._elem}}(jQuery),function(a){function b(){if("horizontal"==this.rendererOptions.barDirection&&(this._stackAxis="x",this._primaryAxis="_yaxis"),1==this.rendererOptions.waterfall){this._data=a.extend(!0,[],this.data);for(var b=0,c=this.rendererOptions.barDirection&&"vertical"!==this.rendererOptions.barDirection&&this.transposedData!==!1?0:1,d=0;d<this.data.length;d++)b+=this.data[d][c],d>0&&(this.data[d][c]+=this.data[d-1][c]);this.data[this.data.length]=1==c?[this.data.length+1,b]:[b,this.data.length+1],this._data[this._data.length]=1==c?[this._data.length+1,b]:[b,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;for(var e=this.data.length,f=parseInt(e/this.rendererOptions.groups,10),g=0,d=f;e>d;d+=f)this.data.splice(d+g,0,[null,null]),g++;for(d=0;d<this.data.length;d++)"_xaxis"==this._primaryAxis?this.data[d][0]=d+1:this.data[d][1]=d+1}}function c(){for(var b=0;b<this.series.length;b++)this.series[b].renderer.constructor==a.jqplot.BarRenderer&&this.series[b].highlightMouseOver&&(this.series[b].highlightMouseDown=!1)}function d(){this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas&&(this.plugins.barRenderer.highlightCanvas.resetCanvas(),this.plugins.barRenderer.highlightCanvas=null),this.plugins.barRenderer={highlightedSeriesIndex:null},this.plugins.barRenderer.highlightCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.barRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(a){f(a.data.plot)})}function e(a,b,c,d){var e=a.series[b],f=a.plugins.barRenderer.highlightCanvas;f._ctx.clearRect(0,0,f._ctx.canvas.width,f._ctx.canvas.height),e._highlightedPoint=c,a.plugins.barRenderer.highlightedSeriesIndex=b;var g={fillStyle:e.highlightColors[c]};e.renderer.shapeRenderer.draw(f._ctx,d,g),f=null}function f(a){var b=a.plugins.barRenderer.highlightCanvas;b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(var c=0;c<a.series.length;c++)a.series[c]._highlightedPoint=null;a.plugins.barRenderer.highlightedSeriesIndex=null,a.target.trigger("jqplotDataUnhighlight"),b=null}function g(a,b,c,d,g){if(d){var h=[d.seriesIndex,d.pointIndex,d.data],i=jQuery.Event("jqplotDataMouseOver");if(i.pageX=a.pageX,i.pageY=a.pageY,g.target.trigger(i,h),g.series[h[0]].highlightMouseOver&&(h[0]!=g.plugins.barRenderer.highlightedSeriesIndex||h[1]!=g.series[h[0]]._highlightedPoint)){var j=jQuery.Event("jqplotDataHighlight");j.pageX=a.pageX,j.pageY=a.pageY,g.target.trigger(j,h),e(g,d.seriesIndex,d.pointIndex,d.points)}}else null==d&&f(g)}function h(a,b,c,d,g){if(d){var h=[d.seriesIndex,d.pointIndex,d.data];if(g.series[h[0]].highlightMouseDown&&(h[0]!=g.plugins.barRenderer.highlightedSeriesIndex||h[1]!=g.series[h[0]]._highlightedPoint)){var i=jQuery.Event("jqplotDataHighlight");
i.pageX=a.pageX,i.pageY=a.pageY,g.target.trigger(i,h),e(g,d.seriesIndex,d.pointIndex,d.points)}}else null==d&&f(g)}function i(a,b,c,d,e){var g=e.plugins.barRenderer.highlightedSeriesIndex;null!=g&&e.series[g].highlightMouseDown&&f(e)}function j(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],g=jQuery.Event("jqplotDataClick");g.pageX=a.pageX,g.pageY=a.pageY,e.target.trigger(g,f)}}function k(a,b,c,d,e){if(d){var g=[d.seriesIndex,d.pointIndex,d.data],h=e.plugins.barRenderer.highlightedSeriesIndex;null!=h&&e.series[h].highlightMouseDown&&f(e);var i=jQuery.Event("jqplotDataRightClick");i.pageX=a.pageX,i.pageY=a.pageY,e.target.trigger(i,g)}}a.jqplot.BarRenderer=function(){a.jqplot.LineRenderer.call(this)},a.jqplot.BarRenderer.prototype=new a.jqplot.LineRenderer,a.jqplot.BarRenderer.prototype.constructor=a.jqplot.BarRenderer,a.jqplot.BarRenderer.prototype.init=function(b,e){this.barPadding=8,this.barMargin=10,this.barDirection="vertical",this.barWidth=null,this.shadowOffset=2,this.shadowDepth=5,this.shadowAlpha=.08,this.waterfall=!1,this.groups=1,this.varyBarColor=!1,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.transposedData=!0,this.renderer.animation={show:!1,direction:"down",speed:3e3,_supported:!0},this._type="bar",b.highlightMouseDown&&null==b.highlightMouseOver&&(b.highlightMouseOver=!1),a.extend(!0,this,b),a.extend(!0,this.renderer,b),this.fill=!0,"horizontal"===this.barDirection&&this.rendererOptions.animation&&null==this.rendererOptions.animation.direction&&(this.renderer.animation.direction="left"),this.waterfall&&(this.fillToZero=!1,this.disableStack=!0),"vertical"==this.barDirection?(this._primaryAxis="_xaxis",this._stackAxis="y",this.fillAxis="y"):(this._primaryAxis="_yaxis",this._stackAxis="x",this.fillAxis="x"),this._highlightedPoint=null,this._plotSeriesInfo=null,this._dataColors=[],this._barPoints=[];var f={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill};this.renderer.shapeRenderer.init(f);var l={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(l),e.postInitHooks.addOnce(c),e.postDrawHooks.addOnce(d),e.eventListenerHooks.addOnce("jqplotMouseMove",g),e.eventListenerHooks.addOnce("jqplotMouseDown",h),e.eventListenerHooks.addOnce("jqplotMouseUp",i),e.eventListenerHooks.addOnce("jqplotClick",j),e.eventListenerHooks.addOnce("jqplotRightClick",k)},a.jqplot.preSeriesInitHooks.push(b),a.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){for(var b,c,d=0,e=0,f=this[this._primaryAxis],g=0;g<f._series.length;g++)b=f._series[g],b===this&&(c=g),b.renderer.constructor==a.jqplot.BarRenderer&&(d+=b.data.length,e+=1);return[d,e,c]},a.jqplot.BarRenderer.prototype.setBarWidth=function(){var a=0,b=0,c=this[this._primaryAxis],d=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);a=d[0],b=d[1];var e=c.numberTicks,f=(e-1)/2;return this.barWidth="xaxis"==c.name||"x2axis"==c.name?this._stack?(c._offsets.max-c._offsets.min)/a*b-this.barMargin:((c._offsets.max-c._offsets.min)/f-this.barPadding*(b-1)-2*this.barMargin)/b:this._stack?(c._offsets.min-c._offsets.max)/a*b-this.barMargin:((c._offsets.min-c._offsets.max)/f-this.barPadding*(b-1)-2*this.barMargin)/b,[a,b]},a.jqplot.BarRenderer.prototype.draw=function(b,c,d){{var e,f=a.extend({},d),g=void 0!=f.shadow?f.shadow:this.shadow,h=void 0!=f.showLine?f.showLine:this.showLine;void 0!=f.fill?f.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p}this._dataColors=[],this._barPoints=[],null==this.barWidth&&this.renderer.setBarWidth.call(this);var i=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),j=(i[0],i[1]),k=i[2],l=[];if(this._barNudge=this._stack?0:(-Math.abs(j/2-.5)+k)*(this.barWidth+this.barPadding),h){var m=new a.jqplot.ColorGenerator(this.negativeSeriesColors),n=new a.jqplot.ColorGenerator(this.seriesColors),o=m.get(this.index);this.useNegativeColors||(o=f.fillStyle);var p,q,r,s=f.fillStyle;if("vertical"==this.barDirection){for(var e=0;e<c.length;e++)if(null!=this.data[e][1]){if(l=[],p=c[e][0]+this._barNudge,r=this._stack&&this._prevGridData.length?this._prevGridData[e][1]:this.fillToZero?this._yaxis.series_u2p(0):this.waterfall&&e>0&&e<this.gridData.length-1?this.gridData[e-1][1]:this.waterfall&&0==e&&e<this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?b.canvas.height:0:this.waterfall&&e==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?b.canvas.height:0:b.canvas.height,f.fillStyle=this.fillToZero&&this._plotData[e][1]<0||this.waterfall&&this._data[e][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?m.next():n.next():o:this.varyBarColor&&!this._stack?n.next():s,!this.fillToZero||this._plotData[e][1]>=0?(l.push([p-this.barWidth/2,r]),l.push([p-this.barWidth/2,c[e][1]]),l.push([p+this.barWidth/2,c[e][1]]),l.push([p+this.barWidth/2,r])):(l.push([p-this.barWidth/2,c[e][1]]),l.push([p-this.barWidth/2,r]),l.push([p+this.barWidth/2,r]),l.push([p+this.barWidth/2,c[e][1]])),this._barPoints.push(l),g&&!this._stack){var t=a.extend(!0,{},f);delete t.fillStyle,this.renderer.shadowRenderer.draw(b,l,t)}var u=f.fillStyle||this.color;this._dataColors.push(u),this.renderer.shapeRenderer.draw(b,l,f)}}else if("horizontal"==this.barDirection)for(var e=0;e<c.length;e++)if(null!=this.data[e][0]){if(l=[],p=c[e][1]-this._barNudge,q=this._stack&&this._prevGridData.length?this._prevGridData[e][0]:this.fillToZero?this._xaxis.series_u2p(0):this.waterfall&&e>0&&e<this.gridData.length-1?this.gridData[e-1][1]:this.waterfall&&0==e&&e<this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:b.canvas.width:this.waterfall&&e==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:b.canvas.width:0,this.fillToZero&&this._plotData[e][1]<0||this.waterfall&&this._data[e][1]<0?this.varyBarColor&&!this._stack&&(f.fillStyle=this.useNegativeColors?m.next():n.next()):f.fillStyle=this.varyBarColor&&!this._stack?n.next():s,!this.fillToZero||this._plotData[e][0]>=0?(l.push([q,p+this.barWidth/2]),l.push([q,p-this.barWidth/2]),l.push([c[e][0],p-this.barWidth/2]),l.push([c[e][0],p+this.barWidth/2])):(l.push([c[e][0],p+this.barWidth/2]),l.push([c[e][0],p-this.barWidth/2]),l.push([q,p-this.barWidth/2]),l.push([q,p+this.barWidth/2])),this._barPoints.push(l),g&&!this._stack){var t=a.extend(!0,{},f);delete t.fillStyle,this.renderer.shadowRenderer.draw(b,l,t)}var u=f.fillStyle||this.color;this._dataColors.push(u),this.renderer.shapeRenderer.draw(b,l,f)}}if(0==this.highlightColors.length)this.highlightColors=a.jqplot.computeHighlightColors(this._dataColors);else if("string"==typeof this.highlightColors){var i=this.highlightColors;this.highlightColors=[];for(var e=0;e<this._dataColors.length;e++)this.highlightColors.push(i)}},a.jqplot.BarRenderer.prototype.drawShadow=function(a,b,c){{var d,e,f,g,h,i=void 0!=c?c:{},j=(void 0!=i.shadow?i.shadow:this.shadow,void 0!=i.showLine?i.showLine:this.showLine);void 0!=i.fill?i.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p}if(this._stack&&this.shadow){null==this.barWidth&&this.renderer.setBarWidth.call(this);var k=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);if(f=k[0],g=k[1],h=k[2],this._barNudge=this._stack?0:(-Math.abs(g/2-.5)+h)*(this.barWidth+this.barPadding),j)if("vertical"==this.barDirection){for(var d=0;d<b.length;d++)if(null!=this.data[d][1]){e=[];var l,m=b[d][0]+this._barNudge;l=this._stack&&this._prevGridData.length?this._prevGridData[d][1]:this.fillToZero?this._yaxis.series_u2p(0):a.canvas.height,e.push([m-this.barWidth/2,l]),e.push([m-this.barWidth/2,b[d][1]]),e.push([m+this.barWidth/2,b[d][1]]),e.push([m+this.barWidth/2,l]),this.renderer.shadowRenderer.draw(a,e,i)}}else if("horizontal"==this.barDirection)for(var d=0;d<b.length;d++)if(null!=this.data[d][0]){e=[];var n,m=b[d][1]-this._barNudge;n=this._stack&&this._prevGridData.length?this._prevGridData[d][0]:0,e.push([n,m+this.barWidth/2]),e.push([b[d][0],m+this.barWidth/2]),e.push([b[d][0],m-this.barWidth/2]),e.push([n,m-this.barWidth/2]),this.renderer.shadowRenderer.draw(a,e,i)}}}}(jQuery),function(a){a.jqplot.CategoryAxisRenderer=function(){a.jqplot.LinearAxisRenderer.call(this),this.sortMergedLabels=!1},a.jqplot.CategoryAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer,a.jqplot.CategoryAxisRenderer.prototype.constructor=a.jqplot.CategoryAxisRenderer,a.jqplot.CategoryAxisRenderer.prototype.init=function(b){this.groups=1,this.groupLabels=[],this._groupLabels=[],this._grouped=!1,this._barsPerGroup=null,a.extend(!0,this,{tickOptions:{formatString:"%d"}},b);for(var c=this._dataBounds,d=0;d<this._series.length;d++){var e=this._series[d];e.groups&&(this.groups=e.groups);for(var f=e.data,g=0;g<f.length;g++)"xaxis"==this.name||"x2axis"==this.name?((f[g][0]<c.min||null==c.min)&&(c.min=f[g][0]),(f[g][0]>c.max||null==c.max)&&(c.max=f[g][0])):((f[g][1]<c.min||null==c.min)&&(c.min=f[g][1]),(f[g][1]>c.max||null==c.max)&&(c.max=f[g][1]))}this.groupLabels.length&&(this.groups=this.groupLabels.length)},a.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){{var b,c,d,e,f,g=(this._ticks,this.ticks),h=this.name;this._dataBounds}if(g.length){if(this.groups>1&&!this._grouped){for(var i=g.length,j=parseInt(i/this.groups,10),k=0,f=j;i>f;f+=j)g.splice(f+k,0," "),k++;this._grouped=!0}this.min=.5,this.max=g.length+.5;var l=this.max-this.min;for(this.numberTicks=2*g.length+1,f=0;f<g.length;f++){e=this.min+2*f*l/(this.numberTicks-1);var m=new this.tickRenderer(this.tickOptions);m.showLabel=!1,m.setTick(e,this.name),this._ticks.push(m);var m=new this.tickRenderer(this.tickOptions);m.label=g[f],m.showMark=!1,m.showGridline=!1,m.setTick(e+.5,this.name),this._ticks.push(m)}var m=new this.tickRenderer(this.tickOptions);m.showLabel=!1,m.setTick(e+1,this.name),this._ticks.push(m)}else{b="xaxis"==h||"x2axis"==h?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.min&&null!=this.max&&null!=this.tickInterval&&parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval&&(this.tickInterval=null);for(var d,n,o=[],p=0,c=.5,q=!1,f=0;f<this._series.length;f++)for(var r=this._series[f],s=0;s<r.data.length;s++)n="xaxis"==this.name||"x2axis"==this.name?r.data[s][0]:r.data[s][1],-1==a.inArray(n,o)&&(q=!0,p+=1,o.push(n));q&&this.sortMergedLabels&&o.sort(function(a,b){return a-b}),this.ticks=o;for(var f=0;f<this._series.length;f++)for(var r=this._series[f],s=0;s<r.data.length;s++){n="xaxis"==this.name||"x2axis"==this.name?r.data[s][0]:r.data[s][1];var t=a.inArray(n,o)+1;"xaxis"==this.name||"x2axis"==this.name?r.data[s][0]=t:r.data[s][1]=t}if(this.groups>1&&!this._grouped){for(var i=o.length,j=parseInt(i/this.groups,10),k=0,f=j;i>f;f+=j+1)o[f]=" ";this._grouped=!0}d=p+.5,null==this.numberTicks&&(this.numberTicks=2*p+1);var l=d-c;this.min=c,this.max=d;var u=0,v=parseInt(3+b/10,10),j=parseInt(p/v,10);null==this.tickInterval&&(this.tickInterval=l/(this.numberTicks-1));for(var f=0;f<this.numberTicks;f++){e=this.min+f*this.tickInterval;var m=new this.tickRenderer(this.tickOptions);f/2==parseInt(f/2,10)?(m.showLabel=!1,m.showMark=!0):(j>0&&j>u?(m.showLabel=!1,u+=1):(m.showLabel=!0,u=0),m.label=m.formatter(m.formatString,o[(f-1)/2]),m.showMark=!1,m.showGridline=!1),m.setTick(e,this.name),this._ticks.push(m)}}},a.jqplot.CategoryAxisRenderer.prototype.draw=function(b,c){if(this.show){this.renderer.createTicks.call(this);if(this._elem&&this._elem.emptyForce(),this._elem=this._elem||a('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>'),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var d=this._label.draw(b,c);d.appendTo(this._elem)}for(var e=this._ticks,f=0;f<e.length;f++){var g=e[f];if(g.showLabel&&(!g.isMinorTick||this.showMinorTicks)){var d=g.draw(b,c);d.appendTo(this._elem)}}this._groupLabels=[];for(var f=0;f<this.groupLabels.length;f++){var d=a('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>');d.html(this.groupLabels[f]),this._groupLabels.push(d),d.appendTo(this._elem)}}return this._elem},a.jqplot.CategoryAxisRenderer.prototype.set=function(){var b,c=0,d=0,e=0,f=null==this._label?!1:this._label.show;if(this.show){for(var g=this._ticks,h=0;h<g.length;h++){var i=g[h];!i.showLabel||i.isMinorTick&&!this.showMinorTicks||(b="xaxis"==this.name||"x2axis"==this.name?i._elem.outerHeight(!0):i._elem.outerWidth(!0),b>c&&(c=b))}for(var j=0,h=0;h<this._groupLabels.length;h++){var k=this._groupLabels[h];b="xaxis"==this.name||"x2axis"==this.name?k.outerHeight(!0):k.outerWidth(!0),b>j&&(j=b)}f&&(d=this._label._elem.outerWidth(!0),e=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(c+=j+e,this._elem.css({height:c+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(c+=j+e,this._elem.css({height:c+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(c+=j+d,this._elem.css({width:c+"px",left:"0px",top:"0px"}),f&&this._label.constructor==a.jqplot.AxisLabelRenderer&&this._label._elem.css("width",d+"px")):(c+=j+d,this._elem.css({width:c+"px",right:"0px",top:"0px"}),f&&this._label.constructor==a.jqplot.AxisLabelRenderer&&this._label._elem.css("width",d+"px"))}},a.jqplot.CategoryAxisRenderer.prototype.pack=function(b,c){var d,e=this._ticks,f=this.max,g=this.min,h=c.max,i=c.min,j=null==this._label?!1:this._label.show;for(var k in b)this._elem.css(k,b[k]);this._offsets=c;var l=h-i,m=f-g;if(this.p2u=function(a){return(a-i)*m/l+g},this.u2p=function(a){return(a-g)*l/m+i},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(a){return(a-g)*l/m},this.series_p2u=function(a){return a*m/l+g}):(this.series_u2p=function(a){return(a-f)*l/m},this.series_p2u=function(a){return a*m/l+f}),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(d=0;d<e.length;d++){var n=e[d];if(n.show&&n.showLabel){var o;if(n.constructor==a.jqplot.CanvasAxisTickRenderer&&n.angle){var p="xaxis"==this.name?1:-1;switch(n.labelPosition){case"auto":o=p*n.angle<0?-n.getWidth()+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2:-n._textRenderer.height*Math.sin(n._textRenderer.angle)/2;break;case"end":o=-n.getWidth()+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2;break;case"start":o=-n._textRenderer.height*Math.sin(n._textRenderer.angle)/2;break;case"middle":o=-n.getWidth()/2+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2;break;default:o=-n.getWidth()/2+n._textRenderer.height*Math.sin(-n._textRenderer.angle)/2}}else o=-n.getWidth()/2;var q=this.u2p(n.value)+o+"px";n._elem.css("left",q),n.pack()}}var r=["bottom",0];if(j){var s=this._label._elem.outerWidth(!0);this._label._elem.css("left",i+l/2-s/2+"px"),"xaxis"==this.name?(this._label._elem.css("bottom","0px"),r=["bottom",this._label._elem.outerHeight(!0)]):(this._label._elem.css("top","0px"),r=["top",this._label._elem.outerHeight(!0)]),this._label.pack()}var t=parseInt(this._ticks.length/this.groups,10);for(d=0;d<this._groupLabels.length;d++){for(var u=0,v=0,w=d*t;(d+1)*t>=w;w++)if(this._ticks[w]._elem&&" "!=this._ticks[w].label){var n=this._ticks[w]._elem,k=n.position();u+=k.left+n.outerWidth(!0)/2,v++}u/=v,this._groupLabels[d].css({left:u-this._groupLabels[d].outerWidth(!0)/2}),this._groupLabels[d].css(r[0],r[1])}}else{for(d=0;d<e.length;d++){var n=e[d];if(n.show&&n.showLabel){var o;if(n.constructor==a.jqplot.CanvasAxisTickRenderer&&n.angle){var p="yaxis"==this.name?1:-1;switch(n.labelPosition){case"auto":case"end":o=p*n.angle<0?-n._textRenderer.height*Math.cos(-n._textRenderer.angle)/2:-n.getHeight()+n._textRenderer.height*Math.cos(n._textRenderer.angle)/2;break;case"start":o=n.angle>0?-n._textRenderer.height*Math.cos(-n._textRenderer.angle)/2:-n.getHeight()+n._textRenderer.height*Math.cos(n._textRenderer.angle)/2;break;case"middle":o=-n.getHeight()/2;break;default:o=-n.getHeight()/2}}else o=-n.getHeight()/2;var q=this.u2p(n.value)+o+"px";n._elem.css("top",q),n.pack()}}var r=["left",0];if(j){var x=this._label._elem.outerHeight(!0);this._label._elem.css("top",h-l/2-x/2+"px"),"yaxis"==this.name?(this._label._elem.css("left","0px"),r=["left",this._label._elem.outerWidth(!0)]):(this._label._elem.css("right","0px"),r=["right",this._label._elem.outerWidth(!0)]),this._label.pack()}var t=parseInt(this._ticks.length/this.groups,10);for(d=0;d<this._groupLabels.length;d++){for(var u=0,v=0,w=d*t;(d+1)*t>=w;w++)if(this._ticks[w]._elem&&" "!=this._ticks[w].label){var n=this._ticks[w]._elem,k=n.position();u+=k.top+n.outerHeight()/2,v++}u/=v,this._groupLabels[d].css({top:u-this._groupLabels[d].outerHeight()/2}),this._groupLabels[d].css(r[0],r[1])}}}}(jQuery),function(a){a.fn.console=function(b){function c(){R=0,S="",W=0,s(),G=a('<div class="jquery-console-prompt-box"></div>');var b=a('<span class="jquery-console-prompt-label"></span>'),c=Z.continuedPrompt?Q:P;G.append(b.text(c).show()),b.html(b.html().replace(" ","&nbsp;")),H=a('<span class="jquery-console-prompt"></span>'),G.append(H),N.append(G),E()}function d(a){return(a.keyCode==I.tab||192==a.keyCode)&&a.altKey}function e(a){if(0!=V.length){W+=a,0>W?W=V.length:W>V.length&&(W=0);S=0==W?T:V[W-1],b.historyPreserveColumn?S.length<R+1?R=S.length:0==R&&(R=S.length):R=S.length,E()}}function f(){e(-1)}function g(){e(1)}function h(a){V.push(a),T=""}function i(){return R<S.length?(S=S.substring(0,R)+S.substring(R+1),T=S,!0):!1}function j(){v(-1)&&(i(),E())}function k(){i()&&E()}function l(){for(;i();)E()}function m(){for(;R<S.length&&!C(S[R]);)i(),E();for(;R<S.length&&C(S[R]);)i(),E()}function n(){var a=S;if("function"==typeof b.commandValidate){var c=b.commandValidate(a);1==c||0==c?c&&q():t(c,"jquery-console-message-error")}else q()}function o(){jQuery.fn.jquery>"1.6"?N.prop({scrollTop:N.prop("scrollHeight")}):N.attr({scrollTop:N.attr("scrollHeight")})}function p(){"function"==typeof b.cancelHandle&&b.cancelHandle()}function q(){if("function"==typeof b.commandHandle){r(),h(S);var a=S;Z.continuedPrompt?U?U+="\n"+S:U=S:U=void 0,U&&(a=U);var c=b.commandHandle(a,function(a){t(a)});Z.continuedPrompt&&!U&&(U=S),"boolean"==typeof c?c?t():t("Command failed.","jquery-console-message-error"):"string"==typeof c?t(c,"jquery-console-message-success"):"object"==typeof c&&c.length?t(c):Z.continuedPrompt&&t()}}function r(){Y=!1}function s(){Y=!0}function t(b,d){if(R=-1,E(),"string"==typeof b)u(b,d);else if(a.isArray(b))for(var e in b){var f=b[e];u(f.msg,f.className)}else N.append(b);c()}function u(b,c){var d=a('<div class="jquery-console-message"></div>');c&&d.addClass(c),d.filledText(b).hide(),N.append(d),d.show()}function v(a){return R+a>=0&&R+a<=S.length?(R+=a,!0):!1}function w(){return v(1)?(E(),!0):!1}function x(){return v(-1)?(E(),!0):!1}function y(){v(-R)&&E()}function z(){v(S.length-R)&&E()}function A(){for(;R<S.length&&!C(S[R])&&w(););for(;R<S.length&&C(S[R])&&w(););}function B(){for(;R-1>=0&&!C(S[R-1])&&x(););for(;R-1>=0&&C(S[R-1])&&x(););}function C(a){if("string"==typeof a){var b=a.charCodeAt();return b>="A".charCodeAt()&&b<="Z".charCodeAt()||b>="a".charCodeAt()&&b<="z".charCodeAt()||b>="0".charCodeAt()&&b<="9".charCodeAt()}return!1}function D(){}function E(){var a=S,b="";if(R>0&&""==a)b=L;else if(R==S.length)b=F(a)+L;else{var c=a.substring(0,R),d=a.substring(R,R+1);d&&(d='<span class="jquery-console-cursor">'+F(d)+"</span>");var e=a.substring(R+1);b=F(c)+d+F(e)}H.html(b),o()}function F(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/</g,"&lt;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br />")}var G,H,I={37:x,39:w,38:f,40:g,8:j,46:k,35:z,36:y,13:n,18:D},J={65:y,69:z,68:k,78:g,80:f,66:x,70:w,75:l},K={70:A,66:B,68:m},L='<span class="jquery-console-cursor">&nbsp;</span>',M=a(this),N=a('<div class="jquery-console-inner"></div>'),O=a('<textarea class="jquery-console-typer"></textarea>'),P=b&&b.promptLabel?b.promptLabel:"> ",Q=b&&b.continuedPromptLabel?b.continuedPromptLabel:"> ",R=0,S="",T="",U="",V=[],W=0,X=0,Y=!0,Z={};return function(){M.append(N),N.append(O),O.css({position:"absolute",top:0,left:"-9999px"}),b.welcomeMessage&&u(b.welcomeMessage,"jquery-console-welcome"),c(),b.autofocus&&(N.addClass("jquery-console-focus"),O.focus(),setTimeout(function(){N.addClass("jquery-console-focus"),O.focus()},100)),Z.inner=N,Z.typer=O,Z.scrollToBottom=o}(),Z.reset=function(){var d="undefined"!=typeof b.welcomeMessage;N.parent().fadeOut(function(){N.find("div").each(function(){d?d=!1:a(this).remove()}),c(),N.parent().fadeIn(function(){N.addClass("jquery-console-focus"),O.focus()})})},Z.notice=function(b,c){var d=a('<div class="notice"></div>').append(a("<div></div>").text(b)).css({visibility:"hidden"});M.append(d);var e=!0;if("fadeout"==c)setTimeout(function(){d.fadeOut(function(){d.remove()})},4e3);else if("prompt"==c){var f=a('<br/><div class="action"><a href="javascript:">OK</a><div class="clear"></div></div>');d.append(f),e=!1,f.click(function(){d.fadeOut(function(){d.remove(),N.css({opacity:1})})})}var g=d.height();return d.css({height:"0px",visibility:"visible"}).animate({height:g+"px"},function(){e||N.css({opacity:.5})}),d.css("cursor","default"),d},M.click(function(){return N.addClass("jquery-console-focus"),N.removeClass("jquery-console-nofocus"),O.focus(),o(),!1}),O.blur(function(){N.removeClass("jquery-console-focus"),N.addClass("jquery-console-nofocus")}),O.bind("paste",function(){O.val(""),setTimeout(function(){O.consoleInsert(O.val()),O.val("")},0)}),O.keydown(function(a){X=0;var b=a.keyCode;if(a.ctrlKey&&67==b)return X=b,p(),!1;if(Y){if(b in I)return X=b,I[b](),!1;if(a.ctrlKey&&b in J)return X=b,J[b](),!1;if(a.altKey&&b in K)return X=b,K[b](),!1}}),O.keypress(function(c){var e=c.keyCode||c.which;if(d(c))return!1;if(c.ctrlKey&&"v"==String.fromCharCode(e).toLowerCase())return!0;if(Y&&X!=e&&e>=32){if(X)return!1;("undefined"==typeof b.charInsertTrigger||"function"==typeof b.charInsertTrigger&&b.charInsertTrigger(e,S))&&O.consoleInsert(e)}return a.browser.webkit?!1:void 0}),O.consoleInsert=function(a){var b=isNaN(a)?a:String.fromCharCode(a),c=S.substring(0,R),d=S.substring(R);S=c+b+d,v(b.length),T=S,E()},Z.promptText=function(a){return a&&(S=a,R=S.length,E()),S},Z},a.fn.filledText=function(b){return a(this).text(b),a(this).html(a(this).html().replace(/\n/g,"<br/>")),this}}(jQuery),hsdataset={},hsdataset.crs="http://planetserver.jacobs-university.de:8080/def/crs/PS/0/2",hsdataset.prj='GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_sphere",SPHEROID["Mars_2000_Sphere",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',hsdataset.productid="",hsdataset.point=[],hsdataset.nodata=65535,hsdataset.mapoptions={opacity:1,isBaseLayer:!1,numZoomLevels:20,isVisible:!0,displayOutsideMaxExtent:!0,wrapDateLine:!0,alwaysInRange:!0,displayInLayerSwitcher:!1},hsdataset.ir={},hsdataset.ir.crs="http://kahlua.eecs.jacobs-university.de:8080/def/crs/PS/0/1/",hsdataset.ir.prj='GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_sphere",SPHEROID["Mars_2000_Sphere",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',hsdataset.ir.productid="",hsdataset.ir.point=[],hsdataset.ir.mapoptions={opacity:1,isBaseLayer:!1,numZoomLevels:20,isVisible:!0,displayOutsideMaxExtent:!0,wrapDateLine:!0,alwaysInRange:!0,displayInLayerSwitcher:!1},hsdataset.vnir={},hsdataset.vnir.crs="http://kahlua.eecs.jacobs-university.de:8080/def/crs/PS/0/1/",hsdataset.vnir.prj='GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_sphere",SPHEROID["Mars_2000_Sphere",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',hsdataset.vnir.productid="",hsdataset.vnir.point=[],hsdataset.vnir.mapoptions={opacity:1,isBaseLayer:!1,numZoomLevels:20,isVisible:!0,displayOutsideMaxExtent:!0,wrapDateLine:!0,alwaysInRange:!0,displayInLayerSwitcher:!1},dtmdefault={},dtmdefault.collection="moladtm",dtmdefault.crs="http://planetserver.jacobs-university.de:8080/def/crs/PS/0/1",dtmdefault.crsx="Long",dtmdefault.crsy="Lat",dtmdefault.xmin=-180,dtmdefault.xmax=180,dtmdefault.ymin=-88,dtmdefault.ymax=88,dtmdefault.width=46080,dtmdefault.height=22528;var vnirsp,irsp,bd530,bd860,bd920,bd640,sh600,rbr,r770,olindex,olindex2,lcpindex,hcpindex,bd2100,bd2200,bd2210,bd1900r,sindex,d2300,bd1980,doub2200,bd2230,bd2500,cindex,bd3400,bd3200,bd3100,bd3000,bdcarb,icer2,bd1900,bd1750,icer1,bd1500,bd1435,islope1,ira,irr3,bd2700,r2700,irr2,bd2600,bd2350,bd2000co2,bd1400h2o,bd1270o2,mrdr={T0590_MRRIF_25S018_0256_3:{name:"T0590_MRRIF_25S018_0256_3",westernlon:15,easternlon:20,minlat:-27.5,maxlat:-22.5,wms:{name:"CTX of T0590_MRRIF_25S018_0256_3",map:"T0590_MRRIF_25S018_0256_3.map",layer:"T0590_MRRIF_25S018_0256_3",projection:"PS:2"}},T0591_MRRIF_25S023_0256_3:{name:"T0591_MRRIF_25S023_0256_3",westernlon:20,easternlon:25,minlat:-27.5,maxlat:-22.5,wms:{name:"CTX of T0591_MRRIF_25S023_0256_3",map:"T0591_MRRIF_25S023_0256_3.map",layer:"T0591_MRRIF_25S023_0256_3",projection:"PS:2"}},T0592_MRRIF_25S028_0256_3:{name:"T0592_MRRIF_25S028_0256_3",westernlon:25,easternlon:30,minlat:-27.5,maxlat:-22.5,wms:{name:"CTX of T0592_MRRIF_25S028_0256_3",map:"T0592_MRRIF_25S028_0256_3.map",layer:"T0592_MRRIF_25S028_0256_3",projection:"PS:2"}},T0593_MRRIF_25S033_0256_3:{name:"T0593_MRRIF_25S033_0256_3",westernlon:30,easternlon:35,minlat:-27.5,maxlat:-22.5,wms:{name:"CTX of T0593_MRRIF_25S033_0256_3",map:"T0593_MRRIF_25S033_0256_3.map",layer:"T0593_MRRIF_25S033_0256_3",projection:"PS:2"}},T0594_MRRIF_25S038_0256_3:{name:"T0594_MRRIF_25S038_0256_3",westernlon:35,easternlon:40,minlat:-27.5,maxlat:-22.5,wms:{name:"CTX of T0594_MRRIF_25S038_0256_3",map:"T0594_MRRIF_25S038_0256_3.map",layer:"T0594_MRRIF_25S038_0256_3",projection:"PS:2"}},T0595_MRRIF_25S043_0256_3:{name:"T0595_MRRIF_25S043_0256_3",westernlon:40,easternlon:45,minlat:-27.5,maxlat:-22.5,wms:{name:"CTX of T0595_MRRIF_25S043_0256_3",map:"T0595_MRRIF_25S043_0256_3.map",layer:"T0595_MRRIF_25S043_0256_3",projection:"PS:2"}},T0663_MRRIF_20S023_0256_3:{name:"T0663_MRRIF_20S023_0256_3",westernlon:20,easternlon:25,minlat:-22.5,maxlat:-17.5,wms:{name:"CTX of T0663_MRRIF_20S023_0256_3",map:"T0663_MRRIF_20S023_0256_3.map",layer:"T0663_MRRIF_20S023_0256_3",projection:"PS:2"}},T0664_MRRIF_20S028_0256_3:{name:"T0664_MRRIF_20S028_0256_3",westernlon:25,easternlon:30,minlat:-22.5,maxlat:-17.5,wms:{name:"CTX of T0664_MRRIF_20S028_0256_3",map:"T0664_MRRIF_20S028_0256_3.map",layer:"T0664_MRRIF_20S028_0256_3",projection:"PS:2"}},T0665_MRRIF_20S033_0256_3:{name:"T0665_MRRIF_20S033_0256_3",westernlon:30,easternlon:35,minlat:-22.5,maxlat:-17.5,wms:{name:"CTX of T0665_MRRIF_20S033_0256_3",map:"T0665_MRRIF_20S033_0256_3.map",layer:"T0665_MRRIF_20S033_0256_3",projection:"PS:2"}},T0666_MRRIF_20S038_0256_3:{name:"T0666_MRRIF_20S038_0256_3",westernlon:35,easternlon:40,minlat:-22.5,maxlat:-17.5,wms:{name:"CTX of T0666_MRRIF_20S038_0256_3",map:"T0666_MRRIF_20S038_0256_3.map",layer:"T0666_MRRIF_20S038_0256_3",projection:"PS:2"}},T0667_MRRIF_20S043_0256_3:{name:"T0667_MRRIF_20S043_0256_3",westernlon:40,easternlon:45,minlat:-22.5,maxlat:-17.5,wms:{name:"CTX of T0667_MRRIF_20S043_0256_3",map:"T0667_MRRIF_20S043_0256_3.map",layer:"T0667_MRRIF_20S043_0256_3",projection:"PS:2"}},T0668_MRRIF_20S048_0256_3:{name:"T0668_MRRIF_20S048_0256_3",westernlon:45,easternlon:50,minlat:-22.5,maxlat:-17.5,wms:{name:"CTX of T0668_MRRIF_20S048_0256_3",map:"T0668_MRRIF_20S048_0256_3.map",layer:"T0668_MRRIF_20S048_0256_3",projection:"PS:2"}},T0445_MRRIF_35S013_0256_3:{name:"T0445_MRRIF_35S013_0256_3",westernlon:10,easternlon:15,minlat:-37.5,maxlat:-32.5,wms:{name:"CTX of T0445_MRRIF_35S013_0256_3",map:"T0445_MRRIF_35S013_0256_3.map",layer:"T0445_MRRIF_35S013_0256_3",projection:"PS:2"}},T0446_MRRIF_35S018_0256_3:{name:"T0446_MRRIF_35S018_0256_3",westernlon:15,easternlon:20,minlat:-37.5,maxlat:-32.5,wms:{name:"CTX of T0446_MRRIF_35S018_0256_3",map:"T0446_MRRIF_35S018_0256_3.map",layer:"T0446_MRRIF_35S018_0256_3",projection:"PS:2"}},T0447_MRRIF_35S023_0256_3:{name:"T0447_MRRIF_35S023_0256_3",westernlon:20,easternlon:25,minlat:-37.5,maxlat:-32.5,wms:{name:"CTX of T0447_MRRIF_35S023_0256_3",map:"T0447_MRRIF_35S023_0256_3.map",layer:"T0447_MRRIF_35S023_0256_3",projection:"PS:2"}},T0448_MRRIF_35S028_0256_3:{name:"T0448_MRRIF_35S028_0256_3",westernlon:25,easternlon:30,minlat:-37.5,maxlat:-32.5,wms:{name:"CTX of T0448_MRRIF_35S028_0256_3",map:"T0448_MRRIF_35S028_0256_3.map",layer:"T0448_MRRIF_35S028_0256_3",projection:"PS:2"}},T0517_MRRIF_30S013_0256_3:{name:"T0517_MRRIF_30S013_0256_3",westernlon:10,easternlon:15,minlat:-32.5,maxlat:-27.5,wms:{name:"CTX of T0517_MRRIF_30S013_0256_3",map:"T0517_MRRIF_30S013_0256_3.map",layer:"T0517_MRRIF_30S013_0256_3",projection:"PS:2"}},T0518_MRRIF_30S018_0256_3:{name:"T0518_MRRIF_30S018_0256_3",westernlon:15,easternlon:20,minlat:-32.5,maxlat:-27.5,wms:{name:"CTX of T0518_MRRIF_30S018_0256_3",map:"T0518_MRRIF_30S018_0256_3.map",layer:"T0518_MRRIF_30S018_0256_3",projection:"PS:2"}},T0519_MRRIF_30S023_0256_3:{name:"T0519_MRRIF_30S023_0256_3",westernlon:20,easternlon:25,minlat:-32.5,maxlat:-27.5,wms:{name:"CTX of T0519_MRRIF_30S023_0256_3",map:"T0519_MRRIF_30S023_0256_3.map",layer:"T0519_MRRIF_30S023_0256_3",projection:"PS:2"}},T0520_MRRIF_30S028_0256_3:{name:"T0520_MRRIF_30S028_0256_3",westernlon:25,easternlon:30,minlat:-32.5,maxlat:-27.5,wms:{name:"CTX of T0520_MRRIF_30S028_0256_3",map:"T0520_MRRIF_30S028_0256_3.map",layer:"T0520_MRRIF_30S028_0256_3",projection:"PS:2"}}},regions={gale:{id:"gale",name:"Gale crater",westernlon:135.5,easternlon:140,minlat:-7.5,maxlat:-3,thumbnail:"Gale.jpg",wms:[{name:"Gale HRSC mosaic",map:"/var/lib/pgsql/process_data/wms/gale/galehrsc.map",layer:"galehrsc",projection:"PS:1"},{name:"Gale CTX mosaic",map:"/var/lib/pgsql/process_data/wms/gale/galectx.map",layer:"galectx",projection:"PS:1"}],dtm:[{collection:"galehrscdtm",name:"Gale HRSC DTM",width:2325,height:4549,xmin:135.86945014764,xmax:139.79208522914,ymin:-8.1666731664627,ymax:-.49180564570269,crs:"http://planetserver.jacobs-university.de:8080/def/crs/PS/0/1",crsx:"Long",crsy:"Lat"}]},ganges:{id:"ganges",name:"Ganges Chasma",westernlon:-55,easternlon:-40,minlat:-11,maxlat:-5.5,thumbnail:"Ganges.jpg",wms:[],dtm:[{collection:"gangeshrscdtm",name:"Ganges HRSC DTM",width:12180,height:6368,xmin:-52.853791943154,xmax:-42.579593584562,ymin:-11.030629160831,ymax:-5.6590285740068,crs:"http://planetserver.jacobs-university.de:8080/def/crs/PS/0/1",crsx:"Long",crsy:"Lat"}]},capri:{id:"capri",name:"Capri Chasma",westernlon:-58,easternlon:-36,minlat:-18.5,maxlat:-10,thumbnail:"Capri.jpg",wms:[],dtm:[]},juventae:{id:"juventae",name:"Juventae Chasma",westernlon:-64,easternlon:-59,minlat:-6,maxlat:-.5,thumbnail:"Juventae.jpg",wms:[],dtm:[]},mawrth:{id:"mawrth",name:"Marwth Vallis",westernlon:-30,easternlon:-14,minlat:19,maxlat:28,thumbnail:"Marwth.jpg",wms:[],dtm:[]},nili:{id:"nili",name:"Nili Fossae",westernlon:70,easternlon:82,minlat:16,maxlat:30,thumbnail:"Nili.jpg",wms:[],dtm:[]},arabia:{id:"arabia",name:"Arabia Terra",westernlon:-15,easternlon:5,minlat:-7.5,maxlat:7.5,thumbnail:"Arabia.jpg",wms:[{name:"Arabia Terra CTX mosaics",map:"planetserver.map",layer:"arabia",projection:"PS:2"}],dtm:[]},noachis:{id:"noachis",name:"Noachis Terra",westernlon:10,easternlon:50,minlat:-37.5,maxlat:-17.5,thumbnail:"Noachis.jpg",wms:[{name:"Noachia Terra CTX mosaics",map:"planetserver.map",layer:"noachis",projection:"PS:2"}],dtm:[]},schiaparelli:{id:"schiaparelli",name:"Schiaparelli crater",westernlon:12,easternlon:21.5,minlat:-7,maxlat:2,thumbnail:"Schiaparelli.jpg",wms:[],dtm:[]},aram:{id:"aram",name:"Aram Chaos",westernlon:-24,easternlon:-18,minlat:-.5,maxlat:6,thumbnail:"Aram.jpg",wms:[],dtm:[]}};
dtmdataset={},dtmdataset=jQuery.extend({},dtmdefault);var region,maplonlat,WMSlayers=[],PNGimages=[],imagedata=[],diagramplot={},hist,spectra,cross,pos=0,full=0,turn=0,crossturn=0,rgb=0,hstype="ir",nrpoints=100,binvalue=3,maxbin=7,nrclicks=10,colors=["Red","Green","Blue","#6500bb","Magenta","Pink","Gray","Brown","Orange","Yellow"],pointsize=.0024,minstretch=0,maxstretch=0,filename="image",planetserver_path="http://planetserver.jacobs-university.de/",planetserver_ps_wms="http://planetserver.jacobs-university.de:8080/petascope/wms",planetserver_ms_wms="http://planetserver.jacobs-university.de/cgi-bin/mapserv",planetserver_wcps="http://planetserver.jacobs-university.de:8080/rasdaman/ows",planetserver_wcsdc="http://planetserver.jacobs-university.de:8080/petascope/wcs?version=2.0.0&service=WCS&request=DescribeCoverage&coverageId=";Proj4js.defs["PS:1"]="+proj=longlat +a=3396190 +b=3396190 +no_defs",Proj4js.defs.ODE="+proj=longlat +a=3396190 +b=3396190 +lon_wrap=180 +no_defs",Proj4js.defs["PS:2?0"]="+proj=eqc +lat_ts=0 +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=3396190 +b=3396190 +units=m +no_defs",Proj4js.defs["PS:2?180"]="+proj=eqc +lat_ts=0 +lat_0=0 +lon_0=180 +x_0=0 +y_0=0 +a=3396190 +b=3396190 +units=m +no_defs";var pcversion="1",ptversion="01",winChoiceVNIR,winTutorial,winAbout,winToc,winDiagrams,winWebsearch,winConsole,usedCrism=0,footprints,curiosity;inrasdaman=["moladtm","frt0002456a_07_if165l_trr3_1_01","hrs00011952_07_if174l_trr3_1_01","frt0001fd99_07_if164s_trr3_1_01","frt00020ac4_07_if165s_trr3_1_01","frt000148b8_07_if165s_trr3_1_01","frt0001ca91_07_if165s_trr3_1_01","frt0002208d_07_if125s_trr3_1_01","frt00012ddf_07_if165s_trr3_1_01","frt00020b9d_07_if165l_trr3_1_01","frt00024077_07_if165l_trr3_1_01","frt0000c0ef_07_if165l_trr3_1_01","frt000243ff_07_if164l_trr3_1_01","frt0001d29c_07_if127s_trr3_1_01","frt00024c67_07_if165s_trr3_1_01","frt0002393a_07_if125s_trr3_1_01","frt000104f0_07_if165s_trr3_1_01","frt00024277_07_if165l_trr3_1_01","frt0001d889_07_if165s_trr3_1_01","frt0000a091_07_if165s_trr3_1_01","hrl00011d43_07_if182l_trr3_1_01","hrl0000ab3a_07_if182s_trr3_1_01","hrs00011952_07_if174s_trr3_1_01","frt00020787_07_if125s_trr3_1_01","frt00011f99_07_if164s_trr3_1_01","frt0000a906_07_if165l_trr3_1_01","hrl0000d21c_07_if183l_trr3_1_01","frt000233ac_07_if165l_trr3_1_01","frt0001dd5d_07_if125s_trr3_1_01","frt00022598_07_if125s_trr3_1_01","frt0001c075_07_if125s_trr3_1_01","hrl00009d8a_07_if182s_trr3_1_01","frt0001dba4_07_if125s_trr3_1_01","hrl0000d21c_07_if183s_trr3_1_01","frt00024c67_07_if165l_trr3_1_01","frt0001c6bd_07_if165s_trr3_1_01","hrl00012f46_07_if182l_trr3_1_01","frt00022b16_07_if125s_trr3_1_01","frt00010820_07_if165l_trr3_1_01","frt0001117b_07_if165s_trr3_1_01","hrl0001e7f9_07_if193s_trr3_1_01","frt00016648_07_if165l_trr3_1_01","frt0002037a_07_if165s_trr3_1_01","hrl0001c3fd_07_if182s_trr3_1_01","frt00021c92_07_if164l_trr3_1_01","frt0000a091_07_if165l_trr3_1_01","hrl0000ab3a_07_if182l_trr3_1_01","frt0000a906_07_if165s_trr3_1_01","frt00020900_07_if126s_trr3_1_01","frt0000cd48_07_if165s_trr3_1_01","hrl0000ac00_07_if182s_trr3_1_01","frt00021d9c_07_if165s_trr3_1_01","frt000211c8_07_if125s_trr3_1_01","frt0001646d_07_if165l_trr3_1_01","frt0001e99a_07_if124s_trr3_1_01","hrl00011d43_07_if182s_trr3_1_01","frt00020ac4_07_if165l_trr3_1_01","hrs0001328a_07_if144s_trr3_1_01","frt000095ee_07_if165s_trr3_1_01","frt000148b8_07_if165l_trr3_1_01","frt000095ee_07_if165l_trr3_1_01","frt0002376b_07_if165s_trr3_1_01","hrl0000d349_07_if182s_trr3_1_01","frt00023e88_07_if125s_trr3_1_01","frt0001ebc6_07_if165s_trr3_1_01","frt00012506_07_if165s_trr3_1_01","frt0000c518_07_if165s_trr3_1_01","frt00022f29_07_if125s_trr3_1_01","frt000233ac_07_if165s_trr3_1_01","frt0002456a_07_if165s_trr3_1_01","hrl0001233b_07_if183s_trr3_1_01","frt000201b1_07_if125s_trr3_1_01","hrl0001c3fd_07_if182l_trr3_1_01","frt0000c0ef_07_if165s_trr3_1_01","frt00020b9d_07_if165s_trr3_1_01","frt00021d9c_07_if165l_trr3_1_01","frt0001e238_07_if165l_trr3_1_01","hrl0000d349_07_if182l_trr3_1_01","frt00024077_07_if165s_trr3_1_01","frt00012506_07_if165l_trr3_1_01","frt00010820_07_if165s_trr3_1_01","hrl0000c95a_07_if182s_trr3_1_01","hrl0001233b_07_if183l_trr3_1_01","hrl0001fb6a_07_if182l_trr3_1_01","frt0001117b_07_if165l_trr3_1_01","frt0001646d_07_if165s_trr3_1_01","frt0000c518_07_if165l_trr3_1_01","frt00012ddf_07_if165l_trr3_1_01","frt00021c92_07_if164s_trr3_1_01","frt0001ebc6_07_if165l_trr3_1_01","frt0001e238_07_if165s_trr3_1_01","frt0002376b_07_if165l_trr3_1_01","frt000243ff_07_if164s_trr3_1_01","frt00024277_07_if165s_trr3_1_01","frt000248e9_07_if164s_trr3_1_01","hrl0000c95a_07_if182l_trr3_1_01","hrl0001fb6a_07_if182s_trr3_1_01","frt0002037a_07_if165l_trr3_1_01","frt00016648_07_if165s_trr3_1_01","frt0001da85_07_if164s_trr3_1_01","frt0000c620_07_if166s_trr3_1_01","frt0001d889_07_if165l_trr3_1_01","hrl00012f46_07_if182s_trr3_1_01","hrl00009d8a_07_if182l_trr3_1_01","frt000248e9_07_if164l_trr3_1_01","frt00022960_07_if125s_trr3_1_01","frt0001ca91_07_if165l_trr3_1_01","frt0000cd48_07_if165l_trr3_1_01","frt0000c620_07_if166l_trr3_1_01","frt000037df_07_if165l_trr3_1_01","frt000037df_07_if165s_trr3_1_01","frt000045f2_07_if165l_trr3_1_01","frt000045f2_07_if165s_trr3_1_01","frt000058a3_07_if165l_trr3_1_01","frt000058a3_07_if165s_trr3_1_01","frt00007c09_07_if164l_trr3_1_01","frt00007c09_07_if164s_trr3_1_01","frt0000901a_07_if165l_trr3_1_01","frt0000901a_07_if165s_trr3_1_01","frt0000b5a3_07_if165l_trr3_1_01","frt0000b5a3_07_if165s_trr3_1_01","frt0000b6f1_07_if165l_trr3_1_01","frt0000b6f1_07_if165s_trr3_1_01","frt0000bee7_07_if165l_trr3_1_01","frt0000bee7_07_if165s_trr3_1_01","frt0000bfca_07_if167l_trr3_1_01","frt0000bfca_07_if167s_trr3_1_01","frt0001422f_07_if165l_trr3_1_01","frt0001422f_07_if165s_trr3_1_01","frt00016acd_07_if166l_trr3_1_01","frt00016acd_07_if166s_trr3_1_01","frt00017327_07_if165l_trr3_1_01","frt00017327_07_if165s_trr3_1_01","frt0001791f_07_if165l_trr3_1_01","frt0001791f_07_if165s_trr3_1_01","frt00017d33_07_if165l_trr3_1_01","frt00017d33_07_if165s_trr3_1_01","frt00018285_07_if165l_trr3_1_01","frt00018285_07_if165s_trr3_1_01","frt00018c29_07_if165l_trr3_1_01","frt00018c29_07_if165s_trr3_1_01","frt00018f9c_07_if165l_trr3_1_01","frt00018f9c_07_if165s_trr3_1_01","frt0001968f_07_if165l_trr3_1_01","frt0001968f_07_if165s_trr3_1_01","frt00019dd9_07_if165l_trr3_1_01","frt00019dd9_07_if165s_trr3_1_01","frt0001a261_07_if125s_trr3_1_01","frt0001a435_07_if126s_trr3_1_01","frt0001b4c5_07_if126s_trr3_1_01","frt0001b696_07_if165l_trr3_1_01","frt0001b696_07_if165s_trr3_1_01","frt0001bba1_07_if165l_trr3_1_01","frt0001bba1_07_if165s_trr3_1_01","frt00024e46_07_if125s_trr3_1_01","frt000251ee_07_if166s_trr3_1_01","hrl000028b4_07_if181l_trr3_1_01","hrl000028b4_07_if181s_trr3_1_01","hrl00003010_07_if181l_trr3_1_01","hrl00003010_07_if181s_trr3_1_01","hrl00004371_07_if182l_trr3_1_01","hrl00004371_07_if182s_trr3_1_01","hrl00005491_07_if181l_trr3_1_01","hrl00005491_07_if181s_trr3_1_01","hrl0000baba_07_if182l_trr3_1_01","hrl0000baba_07_if182s_trr3_1_01","hrl0000bff1_07_if182l_trr3_1_01","hrl0000bff1_07_if182s_trr3_1_01","hrl00013d7e_07_if182l_trr3_1_01","hrs0000326e_07_if174l_trr3_1_01","hrs0000326e_07_if174s_trr3_1_01","hrs0000336a_07_if174l_trr3_1_01","hrs0000336a_07_if174s_trr3_1_01","hrs00004259_07_if174l_trr3_1_01","hrs00004259_07_if174s_trr3_1_01","hrl00013d7e_07_if182s_trr3_1_01","frt0001ff44_07_if126s_trr3_1_01","frt0000d23e_07_if164s_trr3_1_01","hrl0000b30b_07_if181s_trr3_1_01","frt0001fdb2_07_if164l_trr3_1_01","frt0002222c_07_if124s_trr3_1_01","frt0000a16b_07_if164s_trr3_1_01","frt00021cb0_07_if165l_trr3_1_01","frt0000c678_07_if164s_trr3_1_01","frt0001f755_07_if124s_trr3_1_01","frt0001fd85_07_if164s_trr3_1_01","hrl0000d0de_07_if181l_trr3_1_01","frt00009e70_07_if164s_trr3_1_01","frt0001070a_07_if164l_trr3_1_01","frt0000c59a_07_if164l_trr3_1_01","frt00011728_07_if164l_trr3_1_01","hrs0001ec1b_07_if173s_trr3_1_01","frt0000d117_07_if164s_trr3_1_01","frt00020261_07_if124s_trr3_1_01","frt0000c76c_07_if164l_trr3_1_01","frt00024c3d_07_if164s_trr3_1_01","frt00020bd6_07_if165s_trr3_1_01","frt00023c5d_07_if124s_trr3_1_01","frt0001070a_07_if164s_trr3_1_01","frt00024ca2_07_if124s_trr3_1_01","frt000217e9_07_if124s_trr3_1_01","frt0000943d_07_if164s_trr3_1_01","frt0000c678_07_if164l_trr3_1_01","frt0000c81d_07_if164l_trr3_1_01","hrs0001e2fb_07_if174s_trr3_1_01","frt00020421_07_if164l_trr3_1_01","hrl0000a23f_07_if181s_trr3_1_01","hrs0000c6ea_07_if174s_trr3_1_01","frt0000a51a_07_if164s_trr3_1_01","hrl0001daa1_07_if181l_trr3_1_01","frt00009e70_07_if164l_trr3_1_01","frt00021ed0_07_if164s_trr3_1_01","frt00012316_07_if164l_trr3_1_01","frt00009b24_07_if164s_trr3_1_01","frt0001ca72_07_if164s_trr3_1_01","frt0000a82e_07_if164s_trr3_1_01","hrl0001fc32_07_if181s_trr3_1_01","frt0000a391_07_if164s_trr3_1_01","frt0001dddd_07_if124s_trr3_1_01","frt00024582_07_if165l_trr3_1_01","frt00024c3d_07_if164l_trr3_1_01","hrl0000d770_07_if181s_trr3_1_01","frt00020b07_07_if164s_trr3_1_01","frt0000c152_07_if164s_trr3_1_01","frt00013b6b_07_if124s_trr3_1_01","frt00022b9d_07_if124s_trr3_1_01","hrl0000a23f_07_if181l_trr3_1_01","hrl0000c069_07_if181l_trr3_1_01","frt0000a16b_07_if164l_trr3_1_01","hrs00024b7e_07_if173l_trr3_1_01","hrl0001fc32_07_if181l_trr3_1_01","frt00011d80_07_if164l_trr3_1_01","frt0000d23e_07_if164l_trr3_1_01","hrl0001f2e9_07_if194s_trr3_1_01","frt0000d5f5_07_if164l_trr3_1_01","frt00011728_07_if164s_trr3_1_01","hrl00010d3b_07_if183l_trr3_1_01","frt0001fb00_07_if125s_trr3_1_01","frt0000c564_07_if164s_trr3_1_01","hrl0001dd8c_07_if194s_trr3_1_01","hrl0002327e_07_if181s_trr3_1_01","frt0000a34f_07_if164s_trr3_1_01","frt00022fd5_07_if124s_trr3_1_01","frt00023742_07_if164s_trr3_1_01","frt0001c71b_07_if165s_trr3_1_01","frt0001fd85_07_if164l_trr3_1_01","hrs00012c57_07_if173l_trr3_1_01","frt00020b07_07_if164l_trr3_1_01","frt0001d4e8_07_if124s_trr3_1_01","hrl0000cd37_07_if181l_trr3_1_01","frt00012613_07_if164s_trr3_1_01","frt00021cb0_07_if165s_trr3_1_01","hrl0001daa1_07_if181s_trr3_1_01","hrl00012165_07_if181s_trr3_1_01","frt00009db4_07_if164s_trr3_1_01","frt00024104_07_if165s_trr3_1_01","frt0001e53e_07_if124s_trr3_1_01","frt000245aa_07_if164s_trr3_1_01","frt00024582_07_if165s_trr3_1_01","frt0001deed_07_if124s_trr3_1_01","frt0000d5f5_07_if164s_trr3_1_01","frt00009ce0_07_if164s_trr3_1_01","frt0001f50d_07_if124s_trr3_1_01","hrl0001eb3e_07_if181s_trr3_1_01","frt000111f6_07_if164l_trr3_1_01","frt00011d80_07_if164s_trr3_1_01","hrl0000d2a3_07_if182l_trr3_1_01","frt0001dcae_07_if124s_trr3_1_01","hrl0001e3e9_07_if193s_trr3_1_01","frt00012fce_07_if164l_trr3_1_01","hrs00009991_07_if173l_trr3_1_01","frt0000c59a_07_if164s_trr3_1_01","frt0001dc0e_07_if124s_trr3_1_01","frt00009804_07_if164s_trr3_1_01","frt0000943d_07_if164l_trr3_1_01","frt0000c81d_07_if164s_trr3_1_01","hrl0000d770_07_if181l_trr3_1_01","hrl00012e34_07_if181s_trr3_1_01","frt0001ce8c_07_if124s_trr3_1_01","frt0000d3a4_07_if164s_trr3_1_01","frt000093e3_07_if164s_trr3_1_01","frt0002424c_07_if164s_trr3_1_01","hrl0000cd37_07_if181s_trr3_1_01","hrl00010d3b_07_if183s_trr3_1_01","frt0000cc74_07_if164l_trr3_1_01","frt0000a34f_07_if164l_trr3_1_01","frt0001ef9a_07_if124s_trr3_1_01","hrs00024b7e_07_if173s_trr3_1_01","frt0000d62d_07_if164s_trr3_1_01","frt0001c479_07_if164s_trr3_1_01","frt00022993_07_if125s_trr3_1_01","hrl0000d2a3_07_if182s_trr3_1_01","frt0001fdb2_07_if164s_trr3_1_01","frt00011840_07_if164s_trr3_1_01","hrl0000c069_07_if181s_trr3_1_01","frt0000c152_07_if164l_trr3_1_01","frt000132ad_07_if164s_trr3_1_01","hrl000119a7_07_if181l_trr3_1_01","frt00012613_07_if164l_trr3_1_01","hrl0000d0de_07_if181s_trr3_1_01","frt0000a12d_07_if164l_trr3_1_01","frt0000d117_07_if164l_trr3_1_01","frt00020421_07_if164s_trr3_1_01","frt0000a12d_07_if164s_trr3_1_01","hrl00012256_07_if181s_trr3_1_01","hrs0001ec1b_07_if173l_trr3_1_01","hrl00012e34_07_if181l_trr3_1_01","hrs0001e2fb_07_if174l_trr3_1_01","frt0001c479_07_if164l_trr3_1_01","frt000111f6_07_if164s_trr3_1_01","frt00020ff8_07_if125s_trr3_1_01","frt00023cd7_07_if124s_trr3_1_01","frt0002397a_07_if124s_trr3_1_01","frt0001fa67_07_if124s_trr3_1_01","frt0001ed62_07_if126s_trr3_1_01","frt0001f138_07_if124s_trr3_1_01","hrl000119a7_07_if181s_trr3_1_01","frt000132ad_07_if164l_trr3_1_01","frt00024331_07_if165l_trr3_1_01","hrl0001eb3e_07_if181l_trr3_1_01","hrl0001c5ad_07_if181l_trr3_1_01","hrl00012165_07_if181l_trr3_1_01","frt00020976_07_if124s_trr3_1_01","frt000093e3_07_if164l_trr3_1_01","frt00023742_07_if164l_trr3_1_01","hrl0000a8f6_07_if181s_trr3_1_01","frt0000d3a4_07_if164l_trr3_1_01","frt00009b24_07_if164l_trr3_1_01","hrl0000b30b_07_if181l_trr3_1_01","hrl0000a8f6_07_if181l_trr3_1_01","frt00022627_07_if124s_trr3_1_01","frt0000a82e_07_if164l_trr3_1_01","frt0000a51a_07_if164l_trr3_1_01","hrl0001c5ad_07_if181s_trr3_1_01","frt00024104_07_if165l_trr3_1_01","frt00012fce_07_if164s_trr3_1_01","frt0000a391_07_if164l_trr3_1_01","frt000134a0_07_if164s_trr3_1_01","frt00009804_07_if164l_trr3_1_01","hrs0000c6ea_07_if174l_trr3_1_01","frt0000cc74_07_if164s_trr3_1_01","frt00012316_07_if164s_trr3_1_01","frt0002424c_07_if164l_trr3_1_01","frt00022938_07_if124s_trr3_1_01","frt000134a0_07_if164l_trr3_1_01","frt0000c564_07_if164l_trr3_1_01","hrs00012c57_07_if173s_trr3_1_01","frt0001be11_07_if124s_trr3_1_01","frt0001fdf0_07_if164s_trr3_1_01","frt0000c76c_07_if164s_trr3_1_01","frt00022eee_07_if124s_trr3_1_01","frt0001ca72_07_if164l_trr3_1_01","hrl00012256_07_if181l_trr3_1_01","frt00024331_07_if165s_trr3_1_01","frt000242f0_07_if164s_trr3_1_01","frt0001e051_07_if124s_trr3_1_01","frt0001c71b_07_if165l_trr3_1_01","frt00009db4_07_if164l_trr3_1_01","hrl0000af21_07_if181s_trr3_1_01","frt000230b0_07_if125s_trr3_1_01","hrs00009991_07_if173s_trr3_1_01","frt0000d62d_07_if164l_trr3_1_01","frt0000282f_07_if164l_trr3_1_01","frt0000282f_07_if164s_trr3_1_01","frt00003050_07_if164l_trr3_1_01","frt00003050_07_if164s_trr3_1_01","frt000035bd_07_if164l_trr3_1_01","frt000035bd_07_if164s_trr3_1_01","frt0000539f_07_if164l_trr3_1_01","frt0000539f_07_if164s_trr3_1_01","frt00005f23_07_if165l_trr3_1_01","frt00005f23_07_if165s_trr3_1_01","frt00006419_07_if165l_trr3_1_01","frt00006419_07_if165s_trr3_1_01","frt0000681a_07_if164l_trr3_1_01","frt0000681a_07_if164s_trr3_1_01","frt00007117_07_if164l_trr3_1_01","frt00007117_07_if164s_trr3_1_01","frt000076dc_07_if164l_trr3_1_01","frt000076dc_07_if164s_trr3_1_01","frt00007f63_07_if164l_trr3_1_01","frt00007f63_07_if164s_trr3_1_01","frt00007faa_07_if164l_trr3_1_01","frt00007faa_07_if164s_trr3_1_01","frt00008112_07_if164l_trr3_1_01","frt00008112_07_if164s_trr3_1_01","frt000081a0_07_if164l_trr3_1_01","frt000081a0_07_if164s_trr3_1_01","frt000085f9_07_if164l_trr3_1_01","frt000085f9_07_if164s_trr3_1_01","frt00008cc0_07_if164l_trr3_1_01","frt00008cc0_07_if164s_trr3_1_01","frt00008fe7_07_if164l_trr3_1_01","frt00008fe7_07_if164s_trr3_1_01","frt00009052_07_if164l_trr3_1_01","frt00009052_07_if164s_trr3_1_01","frt00009226_07_if164l_trr3_1_01","frt00009226_07_if164s_trr3_1_01","frt0000a1ff_07_if164l_trr3_1_01","frt0000a1ff_07_if164s_trr3_1_01","frt0000b385_07_if164l_trr3_1_01","frt0000b385_07_if164s_trr3_1_01","frt0000b58a_07_if164l_trr3_1_01","frt0000b58a_07_if164s_trr3_1_01","frt0000b776_07_if165l_trr3_1_01","frt0000b776_07_if165s_trr3_1_01","frt0000b8e2_07_if164l_trr3_1_01","frt0000b8e2_07_if164s_trr3_1_01","frt0000bb25_07_if164l_trr3_1_01","frt0000bb25_07_if164s_trr3_1_01","frt0000cade_07_if164l_trr3_1_01","frt0000cade_07_if164s_trr3_1_01","frt00011c67_07_if164l_trr3_1_01","frt00011c67_07_if164s_trr3_1_01","frt000123bf_07_if164l_trr3_1_01","frt000123bf_07_if164s_trr3_1_01","frt00016723_07_if164l_trr3_1_01","frt00016723_07_if164s_trr3_1_01","frt00016cda_07_if164l_trr3_1_01","frt00016cda_07_if164s_trr3_1_01","frt00016f51_07_if164l_trr3_1_01","frt00016f51_07_if164s_trr3_1_01","frt00017b42_07_if164l_trr3_1_01","frt00017b42_07_if164s_trr3_1_01","frt00017e5d_07_if164l_trr3_1_01","frt00017e5d_07_if164s_trr3_1_01","frt000180d8_07_if164l_trr3_1_01","frt000180d8_07_if164s_trr3_1_01","frt00018342_07_if164l_trr3_1_01","frt00018342_07_if164s_trr3_1_01","frt00018afb_07_if164l_trr3_1_01","frt00018afb_07_if164s_trr3_1_01","frt0001957c_07_if164l_trr3_1_01","frt0001957c_07_if164s_trr3_1_01","frt00019666_07_if164l_trr3_1_01","frt00019666_07_if164s_trr3_1_01","frt0001a0b7_07_if124s_trr3_1_01","frt0001b59b_07_if124s_trr3_1_01","frt0001e9c6_07_if124s_trr3_1_01","frt0001fa15_07_if124s_trr3_1_01","frt00020caf_07_if164s_trr3_1_01","frt00021d05_07_if164l_trr3_1_01","frt00021d05_07_if164s_trr3_1_01","frt0002345e_07_if164l_trr3_1_01","frt0002345e_07_if164s_trr3_1_01","frt00023f8f_07_if164l_trr3_1_01","frt00023f8f_07_if164s_trr3_1_01","frt000244aa_07_if164l_trr3_1_01","frt000244aa_07_if164s_trr3_1_01","frt00024982_07_if164l_trr3_1_01","frt00024982_07_if164s_trr3_1_01","frt00025247_07_if164s_trr3_1_01","hrl000067f1_07_if181l_trr3_1_01","hrl000067f1_07_if181s_trr3_1_01","hrl000072c9_07_if181l_trr3_1_01","hrl000072c9_07_if181s_trr3_1_01","hrl000080cb_07_if181l_trr3_1_01","hrl000080cb_07_if181s_trr3_1_01","hrl000090b5_07_if181l_trr3_1_01","hrl000090b5_07_if181s_trr3_1_01","hrl0000b3e6_07_if181l_trr3_1_01","hrl0000b3e6_07_if181s_trr3_1_01","hrl0000cd5a_07_if181l_trr3_1_01","hrl0000cd5a_07_if181s_trr3_1_01","hrl00019dc2_07_if181l_trr3_1_01","hrl00019dc2_07_if181s_trr3_1_01","hrs00002f87_07_if173l_trr3_1_01","hrs00002f87_07_if173s_trr3_1_01","hrs00003619_07_if173l_trr3_1_01","hrs00003619_07_if173s_trr3_1_01","hrs00003b3c_07_if173l_trr3_1_01","hrs00003b3c_07_if173s_trr3_1_01","hrs00004421_07_if174l_trr3_1_01","hrs00004421_07_if174s_trr3_1_01","hrs000048c4_07_if173l_trr3_1_01","hrs0000bdbb_07_if173l_trr3_1_01","hrs0000bdbb_07_if173s_trr3_1_01","hrs00012b62_07_if173l_trr3_1_01","hrs00012b62_07_if173s_trr3_1_01","hrs0001b6ea_07_if173l_trr3_1_01","hrs0001b6ea_07_if173s_trr3_1_01","frt00022d65_07_if124s_trr3_1_01","frt0000cb4b_07_if165s_trr3_1_01","frt0000d4a5_07_if164l_trr3_1_01","frt000125ad_07_if164l_trr3_1_01","frt0001011a_07_if165s_trr3_1_01","frt0001274e_07_if164s_trr3_1_01","frt0000c532_07_if164s_trr3_1_01","frt0000a0f0_07_if165l_trr3_1_01","frt0000c402_07_if164s_trr3_1_01","frt000136cf_07_if165l_trr3_1_01","hrl0000a919_07_if181s_trr3_1_01","frt0000b092_07_if164s_trr3_1_01","frt000136cf_07_if165s_trr3_1_01","frt0000ad38_07_if165s_trr3_1_01","hrl0000c642_07_if181s_trr3_1_01","frt0000d4a5_07_if164s_trr3_1_01","frt0000a865_07_if164l_trr3_1_01","frt000125ad_07_if164s_trr3_1_01","frt0000cc2e_07_if164l_trr3_1_01","frt0001d162_07_if125s_trr3_1_01","frt0000c114_07_if164s_trr3_1_01","frt00009a1b_07_if165l_trr3_1_01","frt0000a5af_07_if165s_trr3_1_01","frt0000b092_07_if164l_trr3_1_01","frt0000c7be_07_if164l_trr3_1_01","frt0002159c_07_if124s_trr3_1_01","frt00009c7b_07_if164l_trr3_1_01","frt0001186e_07_if164l_trr3_1_01","frt0000a865_07_if164s_trr3_1_01","frt0000c430_07_if164s_trr3_1_01","frt0000cb16_07_if164l_trr3_1_01","frt00020043_07_if125s_trr3_1_01","hrs0000b146_07_if174l_trr3_1_01","frt0001f346_07_if124s_trr3_1_01","hrl0000acdc_07_if181s_trr3_1_01","frt0000a55e_07_if165l_trr3_1_01","frt0000ad38_07_if165l_trr3_1_01","frt0000cb4b_07_if165l_trr3_1_01","frt0000a55e_07_if165s_trr3_1_01","hrl0001189f_07_if181s_trr3_1_01","frt00020840_07_if125s_trr3_1_01","frt0000ad86_07_if165s_trr3_1_01","frt0001e824_07_if124s_trr3_1_01","frt0000ad86_07_if165l_trr3_1_01","frt0000c402_07_if164l_trr3_1_01","hrs0001124a_07_if174l_trr3_1_01","hrl0001301a_07_if181l_trr3_1_01","frt0002092b_07_if124s_trr3_1_01","frt0000c114_07_if164l_trr3_1_01","hrs0001124a_07_if174s_trr3_1_01","frt00022bfd_07_if124s_trr3_1_01","frt0000c987_07_if164s_trr3_1_01","frt000209ba_07_if125s_trr3_1_01","frt0000cc2e_07_if164s_trr3_1_01","frt00022e01_07_if125s_trr3_1_01","frt00022c51_07_if124s_trr3_1_01","hrl0000c642_07_if181l_trr3_1_01","frt0001274e_07_if164l_trr3_1_01","frt0001ff7a_07_if124s_trr3_1_01","frt000127c0_07_if164s_trr3_1_01","frt0001186e_07_if164s_trr3_1_01","frt00024d52_07_if125s_trr3_1_01","frt0000c430_07_if164l_trr3_1_01","frt0000b278_07_if164l_trr3_1_01","hrs0000b146_07_if174s_trr3_1_01","frt0000a3e3_07_if164l_trr3_1_01","frt0000a0f0_07_if165s_trr3_1_01","hrl0000acdc_07_if181l_trr3_1_01","frt000103bc_07_if164s_trr3_1_01","hrl0000a919_07_if181l_trr3_1_01","frt000103bc_07_if164l_trr3_1_01","frt0002285a_07_if124s_trr3_1_01","frt0000c532_07_if164l_trr3_1_01","frt0000cb16_07_if164s_trr3_1_01","hrl0001301a_07_if181s_trr3_1_01","hrl0001189f_07_if181l_trr3_1_01","frt00009c7b_07_if164s_trr3_1_01","frt0001011a_07_if165l_trr3_1_01","frt000227ab_07_if124s_trr3_1_01","frt0000c7be_07_if164s_trr3_1_01","frt00009a1b_07_if165s_trr3_1_01","frt000222d6_07_if125s_trr3_1_01","frt0000b278_07_if164s_trr3_1_01","frt0000451c_07_if165l_trr3_1_01","frt0000451c_07_if165s_trr3_1_01","frt00007af6_07_if164l_trr3_1_01","frt00007af6_07_if164s_trr3_1_01","frt00007e1c_07_if164l_trr3_1_01","frt00007e1c_07_if164s_trr3_1_01","frt00008236_07_if164l_trr3_1_01","frt00008236_07_if164s_trr3_1_01","frt000083f4_07_if164l_trr3_1_01","frt000083f4_07_if164s_trr3_1_01","frt00008842_07_if165l_trr3_1_01","frt00008842_07_if165s_trr3_1_01","frt00008949_07_if164l_trr3_1_01","frt00008949_07_if164s_trr3_1_01","frt0000b44d_07_if164l_trr3_1_01","frt0000b44d_07_if164s_trr3_1_01","frt0000b98d_07_if165l_trr3_1_01","frt0000b98d_07_if165s_trr3_1_01","frt0000c00c_07_if164l_trr3_1_01","frt0000c00c_07_if164s_trr3_1_01","frt00016849_07_if164l_trr3_1_01","frt00016849_07_if164s_trr3_1_01","frt0001693a_07_if165l_trr3_1_01","frt0001693a_07_if165s_trr3_1_01","frt00016b09_07_if164l_trr3_1_01","frt00016b09_07_if164s_trr3_1_01","frt00016d4d_07_if164l_trr3_1_01","frt00016d4d_07_if164s_trr3_1_01","frt00016dc2_07_if164l_trr3_1_01","frt00016dc2_07_if164s_trr3_1_01","frt00016e34_07_if165l_trr3_1_01","frt00016e34_07_if165s_trr3_1_01","frt00017004_07_if164l_trr3_1_01","frt00017004_07_if164s_trr3_1_01","frt00017181_07_if164l_trr3_1_01","frt00017181_07_if164s_trr3_1_01","frt000171d3_07_if164l_trr3_1_01","frt000171d3_07_if164s_trr3_1_01","frt00017349_07_if164l_trr3_1_01","frt00017349_07_if164s_trr3_1_01","frt000173fb_07_if164l_trr3_1_01","frt000173fb_07_if164s_trr3_1_01","frt00017515_07_if164l_trr3_1_01","frt00017515_07_if164s_trr3_1_01","frt000175d8_07_if164l_trr3_1_01","frt000175d8_07_if164s_trr3_1_01","frt00017757_07_if164l_trr3_1_01","frt00017757_07_if164s_trr3_1_01","frt00017956_07_if164l_trr3_1_01","frt00017956_07_if164s_trr3_1_01","frt000179bc_07_if165l_trr3_1_01","frt000179bc_07_if165s_trr3_1_01","frt000185da_07_if164l_trr3_1_01","frt000185da_07_if164s_trr3_1_01","frt00018a9d_07_if164s_trr3_1_01","frt00018fcf_07_if164l_trr3_1_01","frt00018fcf_07_if164s_trr3_1_01","frt00019f51_07_if164l_trr3_1_01","frt00019f51_07_if164s_trr3_1_01","frt0001a174_07_if124s_trr3_1_01","frt0001ba3c_07_if164l_trr3_1_01","frt0001ba3c_07_if164s_trr3_1_01","frt0001bbd5_07_if164l_trr3_1_01","frt0001bbd5_07_if164s_trr3_1_01","hrl0000633f_07_if181l_trr3_1_01","hrl0000633f_07_if181s_trr3_1_01","hrl0000638c_07_if182l_trr3_1_01","hrl0000638c_07_if182s_trr3_1_01","hrl00006f5e_07_if181l_trr3_1_01","hrl00006f5e_07_if181s_trr3_1_01","hrl0000715f_07_if181l_trr3_1_01","hrl0000715f_07_if181s_trr3_1_01","hrl00007ff1_07_if181l_trr3_1_01","hrl00007ff1_07_if181s_trr3_1_01","hrl0000843e_07_if181l_trr3_1_01","hrl0000843e_07_if181s_trr3_1_01","hrl000087ec_07_if182l_trr3_1_01","hrl000087ec_07_if182s_trr3_1_01","hrl000089a2_07_if182l_trr3_1_01","hrl000089a2_07_if182s_trr3_1_01","hrl0000b48a_07_if181l_trr3_1_01","hrl0000b48a_07_if181s_trr3_1_01","hrl0000badc_07_if181l_trr3_1_01","hrl0000badc_07_if181s_trr3_1_01","hrl0000bf5a_07_if182l_trr3_1_01","hrl0000bf5a_07_if182s_trr3_1_01","hrl0000c038_07_if182l_trr3_1_01","hrl0000c038_07_if182s_trr3_1_01","hrl000177c5_07_if182l_trr3_1_01","hrl000177c5_07_if182s_trr3_1_01","hrl00018559_07_if181l_trr3_1_01","hrl00018559_07_if181s_trr3_1_01","hrl0001b7d2_07_if181s_trr3_1_01","hrs00018e7b_07_if174l_trr3_1_01","hrs00018e7b_07_if174s_trr3_1_01","frt000097a8_07_if165l_trr3_1_01","frt0000ca9a_07_if165s_trr3_1_01","hrl00011155_07_if181s_trr3_1_01","frt00024a3d_07_if165s_trr3_1_01","frt0000a1b4_07_if164s_trr3_1_01","hrl0001e60b_07_if193s_trr3_1_01","frt00009adc_07_if165s_trr3_1_01","frt0001f7b2_07_if124s_trr3_1_01","frt0000b2d6_07_if164s_trr3_1_01","frt0001d5d3_07_if125s_trr3_1_01","frt00009c0a_07_if164l_trr3_1_01","frt00024bd2_07_if164s_trr3_1_01","frt0000b2d6_07_if164l_trr3_1_01","frt00009c0a_07_if164s_trr3_1_01","frt0001d272_07_if125s_trr3_1_01","frt00010a43_07_if165l_trr3_1_01","frt0000b1c9_07_if164l_trr3_1_01","frt000165b8_07_if164s_trr3_1_01","frt000138ce_07_if164s_trr3_1_01","frt0000cbc3_07_if165l_trr3_1_01","frt00009562_07_if164s_trr3_1_01","frt0001f0a4_07_if124s_trr3_1_01","frt0001484d_07_if165l_trr3_1_01","frt000138ce_07_if164l_trr3_1_01","frt00010a43_07_if165s_trr3_1_01","frt000231c7_07_if124s_trr3_1_01","frt0001484d_07_if165s_trr3_1_01","frt0000b1c9_07_if164s_trr3_1_01","frt0001180d_07_if166s_trr3_1_01","frt000218d1_07_if125s_trr3_1_01","hrl00009ebb_07_if181l_trr3_1_01","frt0001bd2a_07_if125s_trr3_1_01","frt00012d8b_07_if164l_trr3_1_01","frt0000a4cf_07_if165s_trr3_1_01","frt000208d9_07_if124s_trr3_1_01","frt00009adc_07_if165l_trr3_1_01","hrl000238fd_07_if182l_trr3_1_01","frt0000a65a_07_if164s_trr3_1_01","frt000163f5_07_if165s_trr3_1_01","frt0000c72a_07_if164l_trr3_1_01","frt0000c72a_07_if164s_trr3_1_01","frt0000a4cf_07_if165l_trr3_1_01","frt0001180d_07_if166l_trr3_1_01","hrs0002011e_07_if144s_trr3_1_01","frt0000a310_07_if164l_trr3_1_01","frt00024bd2_07_if164l_trr3_1_01","frt0000a310_07_if164s_trr3_1_01","frt0001c650_07_if164s_trr3_1_01","frt00023132_07_if125s_trr3_1_01","frt000163f5_07_if165l_trr3_1_01","hrl000095c7_07_if182l_trr3_1_01","frt0001c7e0_07_if125s_trr3_1_01","frt000126d4_07_if164s_trr3_1_01","frt0000a1b4_07_if164l_trr3_1_01","frt00009386_07_if164l_trr3_1_01","frt0000afdb_07_if165s_trr3_1_01","frt0000cbc3_07_if165s_trr3_1_01","frt00009562_07_if164l_trr3_1_01","frt0000afdb_07_if165l_trr3_1_01","hrs0000c601_07_if174s_trr3_1_01","hrs0000c601_07_if174l_trr3_1_01","frt00012d8b_07_if164s_trr3_1_01","frt00024a3d_07_if165l_trr3_1_01","hrl000238fd_07_if182s_trr3_1_01","frt000097a8_07_if165s_trr3_1_01","hrl0001fc69_07_if181s_trr3_1_01","frt0001c650_07_if164l_trr3_1_01","hrl00011155_07_if181l_trr3_1_01","hrl000095c7_07_if182s_trr3_1_01","frt00022cad_07_if124s_trr3_1_01","frt00009386_07_if164s_trr3_1_01","frt0000ca9a_07_if165l_trr3_1_01","frt000165b8_07_if164l_trr3_1_01","frt00005633_07_if165l_trr3_1_01","frt00005633_07_if165s_trr3_1_01","frt00005814_07_if164l_trr3_1_01","frt00005814_07_if164s_trr3_1_01","frt00005c2b_07_if164l_trr3_1_01","frt000068a0_07_if165l_trr3_1_01","frt000068a0_07_if165s_trr3_1_01","frt0000735c_07_if164l_trr3_1_01","frt0000735c_07_if164s_trr3_1_01","frt00007b97_07_if164l_trr3_1_01","frt00007b97_07_if164s_trr3_1_01","frt0000803b_07_if165l_trr3_1_01","frt0000803b_07_if165s_trr3_1_01","frt0000b417_07_if165l_trr3_1_01","frt0000b417_07_if165s_trr3_1_01","frt0000b67d_07_if165l_trr3_1_01","frt0000b67d_07_if165s_trr3_1_01","frt0000ba4e_07_if164l_trr3_1_01","frt0000ba4e_07_if164s_trr3_1_01","frt0000bea0_07_if164l_trr3_1_01","frt0000bea0_07_if164s_trr3_1_01","frt000167e0_07_if166l_trr3_1_01","frt000167e0_07_if166s_trr3_1_01","frt00016a32_07_if165l_trr3_1_01","frt00016a32_07_if165s_trr3_1_01","frt00016c66_07_if164l_trr3_1_01","frt00016c66_07_if164s_trr3_1_01","frt000170c3_07_if164l_trr3_1_01","frt000170c3_07_if164s_trr3_1_01","frt00017ae0_07_if165s_trr3_1_01","frt00017ae0_07_if165l_trr3_1_01","frt000181d0_07_if165l_trr3_1_01","frt000181d0_07_if165s_trr3_1_01","frt000189a5_07_if164l_trr3_1_01","frt000189a5_07_if164s_trr3_1_01","frt00018d8c_07_if164l_trr3_1_01","frt00018d8c_07_if164s_trr3_1_01","frt0001999e_07_if165l_trr3_1_01","frt0001999e_07_if165s_trr3_1_01","frt0001a1d1_07_if124s_trr3_1_01","frt0001cd89_07_if124s_trr3_1_01","frt00024e18_07_if125s_trr3_1_01","frt00024fe0_07_if125s_trr3_1_01","hrl000028a6_07_if181l_trr3_1_01","hrl000028a6_07_if181s_trr3_1_01","hrl0000444c_07_if182l_trr3_1_01","hrl0000444c_07_if182s_trr3_1_01","hrl00005a8d_07_if183l_trr3_1_01","hrl00005a8d_07_if183s_trr3_1_01","hrl000081ef_07_if182l_trr3_1_01","hrl000081ef_07_if182s_trr3_1_01","hrl00017f58_07_if182l_trr3_1_01","hrl00017f58_07_if182s_trr3_1_01","hrl0001bb75_07_if182l_trr3_1_01","hrl0001bb75_07_if182s_trr3_1_01","hrl0001cbf6_07_if194s_trr3_1_01","frt000061b2_07_if163l_trr3_1_01","frt000061b2_07_if163s_trr3_1_01","frt00009317_07_if164l_trr3_1_01","frt00009317_07_if164s_trr3_1_01","frt00009318_07_if164l_trr3_1_01","frt00009318_07_if164s_trr3_1_01","frt00009368_07_if164l_trr3_1_01","frt00009368_07_if164s_trr3_1_01","frt000093c3_07_if164l_trr3_1_01","frt000093c3_07_if164s_trr3_1_01","frt000093ca_07_if163l_trr3_1_01","frt000093ca_07_if163s_trr3_1_01","frt00009428_07_if163l_trr3_1_01","frt00009428_07_if163s_trr3_1_01","frt0000942d_07_if164l_trr3_1_01","frt0000942d_07_if164s_trr3_1_01","frt00009483_07_if163l_trr3_1_01","frt00009483_07_if163s_trr3_1_01","frt0000948c_07_if164l_trr3_1_01","frt0000948c_07_if164s_trr3_1_01","frt000094e6_07_if164l_trr3_1_01","frt000094e6_07_if164s_trr3_1_01","frt000094ee_07_if163l_trr3_1_01","frt000094ee_07_if163s_trr3_1_01","frt00009542_07_if164l_trr3_1_01","frt00009542_07_if164s_trr3_1_01","frt00009553_07_if163l_trr3_1_01","frt00009553_07_if163s_trr3_1_01","frt000095a6_07_if164l_trr3_1_01","frt000095a6_07_if164s_trr3_1_01","frt000095ae_07_if163l_trr3_1_01","frt000095ae_07_if163s_trr3_1_01","frt00009602_07_if164l_trr3_1_01","frt00009602_07_if164s_trr3_1_01","frt0000960a_07_if164l_trr3_1_01","frt0000960a_07_if164s_trr3_1_01","frt00009665_07_if164l_trr3_1_01","frt00009665_07_if164s_trr3_1_01","frt0000966b_07_if163l_trr3_1_01","frt0000966b_07_if163s_trr3_1_01","frt0000978a_07_if164l_trr3_1_01","frt0000978a_07_if164s_trr3_1_01","frt000097e4_07_if164l_trr3_1_01","frt000097e4_07_if164s_trr3_1_01","frt000097ee_07_if164l_trr3_1_01","frt000097ee_07_if164s_trr3_1_01","frt000097f7_07_if164l_trr3_1_01","frt000097f7_07_if164s_trr3_1_01","frt00009847_07_if164l_trr3_1_01","frt00009847_07_if164s_trr3_1_01","frt000098a3_07_if164l_trr3_1_01","frt000098a3_07_if164s_trr3_1_01","frt000098aa_07_if164l_trr3_1_01","frt000098aa_07_if164s_trr3_1_01","frt000098e8_07_if164l_trr3_1_01","frt000098e8_07_if164s_trr3_1_01","frt000098ed_07_if164l_trr3_1_01","frt000098ed_07_if164s_trr3_1_01","frt0000992d_07_if164l_trr3_1_01","frt0000992d_07_if164s_trr3_1_01","frt00009933_07_if164l_trr3_1_01","frt00009933_07_if164s_trr3_1_01","frt00009938_07_if164l_trr3_1_01","frt00009938_07_if164s_trr3_1_01","frt00009983_07_if164l_trr3_1_01","frt00009983_07_if164s_trr3_1_01","frt00009984_07_if164l_trr3_1_01","frt00009984_07_if164s_trr3_1_01","frt000099c4_07_if163l_trr3_1_01","frt000099c4_07_if163s_trr3_1_01","frt000099c7_07_if164l_trr3_1_01","frt000099c7_07_if164s_trr3_1_01","frt00009a09_07_if163l_trr3_1_01","frt00009a09_07_if163s_trr3_1_01","frt00009a51_07_if163l_trr3_1_01","frt00009a51_07_if163s_trr3_1_01","frt00009a90_07_if164l_trr3_1_01","frt00009a90_07_if164s_trr3_1_01","frt00009a95_07_if164l_trr3_1_01","frt00009a95_07_if164s_trr3_1_01","frt00009a97_07_if164l_trr3_1_01","frt00009a97_07_if164s_trr3_1_01","frt00009ac1_07_if164l_trr3_1_01","frt00009ac1_07_if164s_trr3_1_01","frt00009b17_07_if163l_trr3_1_01","frt00009b17_07_if163s_trr3_1_01","frt00009b5d_07_if164l_trr3_1_01","frt00009b5d_07_if164s_trr3_1_01","frt00009b99_07_if164l_trr3_1_01","frt00009b99_07_if164s_trr3_1_01","frt00009b9d_07_if163l_trr3_1_01","frt00009b9d_07_if163s_trr3_1_01","frt00009bcf_07_if164l_trr3_1_01","frt00009bcf_07_if164s_trr3_1_01","frt00009bf8_07_if164l_trr3_1_01","frt00009bf8_07_if164s_trr3_1_01","frt00009bfc_07_if164l_trr3_1_01","frt00009bfc_07_if164s_trr3_1_01","frt00009c3a_07_if163l_trr3_1_01","frt00009c3a_07_if163s_trr3_1_01","frt00009c40_07_if164l_trr3_1_01","frt00009c40_07_if164s_trr3_1_01","frt00009c70_07_if163l_trr3_1_01","frt00009c70_07_if163s_trr3_1_01","frt00009ca6_07_if163l_trr3_1_01","frt00009ca6_07_if163s_trr3_1_01","frt00009ca9_07_if164l_trr3_1_01","frt00009ca9_07_if164s_trr3_1_01","frt00009d47_07_if164l_trr3_1_01","frt00009d47_07_if164s_trr3_1_01","frt00009da2_07_if163l_trr3_1_01","frt00009da2_07_if163s_trr3_1_01","frt00009e29_07_if163l_trr3_1_01","frt00009e29_07_if163s_trr3_1_01","frt00009e33_07_if163l_trr3_1_01","frt00009e33_07_if163s_trr3_1_01","frt00009e61_07_if164l_trr3_1_01","frt00009e61_07_if164s_trr3_1_01","frt00009e66_07_if164l_trr3_1_01","frt00009e66_07_if164s_trr3_1_01","frt00009ea7_07_if164s_trr3_1_01","frt0000a05f_07_if164l_trr3_1_01","frt0000a05f_07_if164s_trr3_1_01","frt0000a0e1_07_if163l_trr3_1_01","frt0000a0e1_07_if163s_trr3_1_01","frt0000a0e6_07_if164l_trr3_1_01","frt0000a0e6_07_if164s_trr3_1_01","frt0000a11f_07_if163l_trr3_1_01","frt0000a11f_07_if163s_trr3_1_01","frt0000a158_07_if164l_trr3_1_01","frt0000a158_07_if164s_trr3_1_01","frt0000a1a7_07_if164l_trr3_1_01","frt0000a1a7_07_if164s_trr3_1_01","frt0000a1f8_07_if163l_trr3_1_01","frt0000a1f8_07_if163s_trr3_1_01","frt0000a22d_07_if163l_trr3_1_01","frt0000a22d_07_if163s_trr3_1_01","frt0000a239_07_if163l_trr3_1_01","frt0000a239_07_if163s_trr3_1_01","frt0000a270_07_if164l_trr3_1_01","frt0000a270_07_if164s_trr3_1_01","frt0000a275_07_if163l_trr3_1_01","frt0000a275_07_if163s_trr3_1_01","frt0000a2b8_07_if164l_trr3_1_01","frt0000a2b8_07_if164s_trr3_1_01","frt0000a2bc_07_if164l_trr3_1_01","frt0000a2bc_07_if164s_trr3_1_01","frt0000a307_07_if164l_trr3_1_01","frt0000a307_07_if164s_trr3_1_01","frt0000a347_07_if164l_trr3_1_01","frt0000a347_07_if164s_trr3_1_01","frt0000a37a_07_if164l_trr3_1_01","frt0000a37a_07_if164s_trr3_1_01","frt0000a37e_07_if164l_trr3_1_01","frt0000a37e_07_if164s_trr3_1_01","frt0000a385_07_if164l_trr3_1_01","frt0000a385_07_if164s_trr3_1_01","frt0000a3ce_07_if163l_trr3_1_01","frt0000a3d5_07_if163l_trr3_1_01","frt0000a41b_07_if163l_trr3_1_01","frt0000a41b_07_if163s_trr3_1_01","frt0000a424_07_if164l_trr3_1_01","frt0000a424_07_if164s_trr3_1_01","frt0000a4b8_07_if164l_trr3_1_01","frt0000a4b8_07_if164s_trr3_1_01","frt0000a4bd_07_if163l_trr3_1_01","frt0000a4bd_07_if163s_trr3_1_01","frt0000a4c4_07_if164l_trr3_1_01","frt0000a4c4_07_if164s_trr3_1_01","frt0000a4ff_07_if165l_trr3_1_01","frt0000a4ff_07_if165s_trr3_1_01","frt0000a545_07_if164l_trr3_1_01","frt0000a545_07_if164s_trr3_1_01","frt0000a54c_07_if163l_trr3_1_01","frt0000a54c_07_if163s_trr3_1_01","frt0000a551_07_if163l_trr3_1_01","frt0000a551_07_if163s_trr3_1_01","frt0000a552_07_if164l_trr3_1_01","frt0000a552_07_if164s_trr3_1_01","frt0000a5a1_07_if164l_trr3_1_01","frt0000a5a1_07_if164s_trr3_1_01","frt0000a5a5_07_if163l_trr3_1_01","frt0000a5a5_07_if163s_trr3_1_01","frt0000a5a9_07_if164l_trr3_1_01","frt0000a5a9_07_if164s_trr3_1_01","frt0000a5ff_07_if164l_trr3_1_01","frt0000a5ff_07_if164s_trr3_1_01","frt0000a642_07_if164l_trr3_1_01","frt0000a642_07_if164s_trr3_1_01","frt0000a64f_07_if164l_trr3_1_01","frt0000a64f_07_if164s_trr3_1_01","frt0000a821_07_if164l_trr3_1_01","frt0000a821_07_if164s_trr3_1_01","frt0000a826_07_if163l_trr3_1_01","frt0000a826_07_if163s_trr3_1_01","frt0000a858_07_if164l_trr3_1_01","frt0000a858_07_if164s_trr3_1_01","frt0000a89d_07_if164l_trr3_1_01","frt0000a89d_07_if164s_trr3_1_01","frt0000a8f0_07_if164l_trr3_1_01","frt0000a8f0_07_if164s_trr3_1_01","frt0000a910_07_if164l_trr3_1_01","frt0000a910_07_if164s_trr3_1_01","frt0000a94e_07_if164l_trr3_1_01","frt0000a94e_07_if164s_trr3_1_01","frt0000a97c_07_if164l_trr3_1_01","frt0000a97c_07_if164s_trr3_1_01","frt0000aa7c_07_if164l_trr3_1_01","frt0000aa7c_07_if164s_trr3_1_01","frt0000aad1_07_if164l_trr3_1_01","frt0000aad1_07_if164s_trr3_1_01","frt0000ab0f_07_if164l_trr3_1_01","frt0000ab0f_07_if164s_trr3_1_01","frt0000ab45_07_if164l_trr3_1_01","frt0000ab45_07_if164s_trr3_1_01","frt0000abce_07_if164l_trr3_1_01","frt0000abce_07_if164s_trr3_1_01","frt0000ac96_07_if164l_trr3_1_01","frt0000ac96_07_if164s_trr3_1_01","frt0000afc4_07_if164l_trr3_1_01","frt0000afc4_07_if164s_trr3_1_01","frt0000b187_07_if164l_trr3_1_01","frt0000b187_07_if164s_trr3_1_01","frt0000b26c_07_if164l_trr3_1_01","frt0000b26c_07_if164s_trr3_1_01","frt0000b29a_07_if164l_trr3_1_01","frt0000b29a_07_if164s_trr3_1_01","frt0000b2a1_07_if164l_trr3_1_01","frt0000b2a1_07_if164s_trr3_1_01","frt0000c08d_07_if164l_trr3_1_01","frt0000c08d_07_if164s_trr3_1_01","frt0000c1c8_07_if164l_trr3_1_01","frt0000c1c8_07_if164s_trr3_1_01","frt0000c2a5_07_if164l_trr3_1_01","frt0000c2a5_07_if164s_trr3_1_01","frt0000c37b_07_if164l_trr3_1_01","frt0000c37b_07_if164s_trr3_1_01","frt0000c423_07_if164l_trr3_1_01","frt0000c423_07_if164s_trr3_1_01","frt0000c457_07_if164l_trr3_1_01","frt0000c457_07_if164s_trr3_1_01","frt0000c49b_07_if164l_trr3_1_01","frt0000c49b_07_if164s_trr3_1_01","frt0000c55b_07_if163l_trr3_1_01","frt0000c55b_07_if163s_trr3_1_01","frt0000c5f2_07_if164l_trr3_1_01","frt0000c5f2_07_if164s_trr3_1_01","frt0000c63b_07_if164l_trr3_1_01","frt0000c63b_07_if164s_trr3_1_01","frt0000c716_07_if164l_trr3_1_01","frt0000c716_07_if164s_trr3_1_01","frt0000c760_07_if164l_trr3_1_01","frt0000c760_07_if164s_trr3_1_01","frt0000c8c7_07_if164l_trr3_1_01","frt0000c8c7_07_if164s_trr3_1_01","frt0000cb3f_07_if164l_trr3_1_01","frt0000cb3f_07_if164s_trr3_1_01","frt0000cb42_07_if164l_trr3_1_01","frt0000cb42_07_if164s_trr3_1_01","frt0000cd8e_07_if163l_trr3_1_01","frt0000cd8e_07_if163s_trr3_1_01","frt0000ce19_07_if164l_trr3_1_01","frt0000ce19_07_if164s_trr3_1_01","frt0000ce46_07_if164l_trr3_1_01","frt0000ce46_07_if164s_trr3_1_01","frt0000cfe6_07_if164l_trr3_1_01","frt0000cfe6_07_if164s_trr3_1_01","frt0000d02e_07_if164l_trr3_1_01","frt0000d02e_07_if164s_trr3_1_01","frt0000d17a_07_if163l_trr3_1_01","frt0000d17a_07_if163s_trr3_1_01","frt0000d3f3_07_if164l_trr3_1_01","frt0000d3f3_07_if164s_trr3_1_01","frt0000d4de_07_if164l_trr3_1_01","frt0000d4de_07_if164s_trr3_1_01","frt00010419_07_if165l_trr3_1_01","frt00010419_07_if165s_trr3_1_01","frt0001051a_07_if163l_trr3_1_01","frt0001051a_07_if163s_trr3_1_01","frt00010589_07_if163l_trr3_1_01","frt00010589_07_if163s_trr3_1_01","frt00010635_07_if163l_trr3_1_01","frt00010635_07_if163s_trr3_1_01","frt00010668_07_if163s_trr3_1_01","frt00010737_07_if164l_trr3_1_01","frt00010737_07_if164s_trr3_1_01","frt0001073b_07_if163l_trr3_1_01","frt0001073b_07_if163s_trr3_1_01","frt000108f4_07_if164l_trr3_1_01","frt000108f4_07_if164s_trr3_1_01","frt0001092b_07_if164l_trr3_1_01","frt0001092b_07_if164s_trr3_1_01","frt000109df_07_if163l_trr3_1_01","frt000109df_07_if163s_trr3_1_01","frt00010beb_07_if164s_trr3_1_01","frt00010bf1_07_if164s_trr3_1_01","frt00010ced_07_if164l_trr3_1_01","frt00010ced_07_if164s_trr3_1_01","frt00010df1_07_if164l_trr3_1_01","frt00010df1_07_if164s_trr3_1_01","frt00010e7f_07_if164l_trr3_1_01","frt00010e7f_07_if164s_trr3_1_01","frt00011399_07_if164l_trr3_1_01","frt00011399_07_if164s_trr3_1_01","frt0001171d_07_if164l_trr3_1_01","frt0001171d_07_if164s_trr3_1_01","frt000117aa_07_if163l_trr3_1_01","frt000117aa_07_if163s_trr3_1_01","frt000117b1_07_if163l_trr3_1_01","frt000117b1_07_if163s_trr3_1_01","frt00011ada_07_if164l_trr3_1_01","frt00011ada_07_if164s_trr3_1_01","frt00011b1d_07_if164l_trr3_1_01","frt00011b1d_07_if164s_trr3_1_01","frt00011b6a_07_if164l_trr3_1_01","frt00011b6a_07_if164s_trr3_1_01","frt00011c53_07_if164l_trr3_1_01","frt00011c53_07_if164s_trr3_1_01","frt00011c92_07_if164l_trr3_1_01","frt00011c92_07_if164s_trr3_1_01","frt00011d76_07_if164l_trr3_1_01","frt00011d76_07_if164s_trr3_1_01","frt00011de8_07_if164l_trr3_1_01","frt00011de8_07_if164s_trr3_1_01","frt000121f7_07_if164l_trr3_1_01","frt000121f7_07_if164s_trr3_1_01","frt0001224a_07_if164l_trr3_1_01","frt0001224a_07_if164s_trr3_1_01","frt00012461_07_if164l_trr3_1_01","frt00012461_07_if164s_trr3_1_01","frt00012527_07_if163l_trr3_1_01","frt00012527_07_if163s_trr3_1_01","frt00012658_07_if164l_trr3_1_01","frt00012658_07_if164s_trr3_1_01","frt000127f3_07_if164s_trr3_1_01","frt000127f6_07_if164s_trr3_1_01","frt00012924_07_if164l_trr3_1_01","frt00012924_07_if164s_trr3_1_01","frt00012983_07_if165l_trr3_1_01","frt00012983_07_if165s_trr3_1_01","frt00012a09_07_if164l_trr3_1_01","frt00012a09_07_if164s_trr3_1_01","frt00012a61_07_if165l_trr3_1_01","frt00012a61_07_if165s_trr3_1_01","frt00012aba_07_if164l_trr3_1_01","frt00012aba_07_if164s_trr3_1_01","frt00012bda_07_if164l_trr3_1_01","frt00012bda_07_if164s_trr3_1_01","frt00012c49_07_if163l_trr3_1_01","frt00012c49_07_if163s_trr3_1_01","frt00012d33_07_if163l_trr3_1_01","frt00012d33_07_if163s_trr3_1_01","frt00012d79_07_if164l_trr3_1_01","frt00012d79_07_if164s_trr3_1_01","frt00012d82_07_if163l_trr3_1_01","frt00012d82_07_if163s_trr3_1_01","frt00012dba_07_if164l_trr3_1_01","frt00012dba_07_if164s_trr3_1_01","frt00012f6b_07_if164l_trr3_1_01","frt00012f6b_07_if164s_trr3_1_01","frt0001300b_07_if164l_trr3_1_01","frt0001300b_07_if164s_trr3_1_01","frt00013219_07_if124s_trr3_1_01","frt000134cb_07_if164l_trr3_1_01","frt000134cb_07_if164s_trr3_1_01","frt000135bc_07_if124s_trr3_1_01","frt00013632_07_if124s_trr3_1_01","frt00013674_07_if163s_trr3_1_01","frt000136c4_07_if164l_trr3_1_01","frt000136c4_07_if164s_trr3_1_01","frt000136f4_07_if164l_trr3_1_01","frt000136f4_07_if164s_trr3_1_01","frt0001371f_07_if164l_trr3_1_01","frt0001371f_07_if164s_trr3_1_01","frt00013722_07_if163l_trr3_1_01","frt00013722_07_if163s_trr3_1_01","frt00013978_07_if163l_trr3_1_01","frt00013978_07_if163s_trr3_1_01","frt000139e6_07_if164l_trr3_1_01","frt000139e6_07_if164s_trr3_1_01","frt00013af8_07_if124s_trr3_1_01","frt00013c86_07_if164l_trr3_1_01","frt00013c86_07_if164s_trr3_1_01","frt00014633_07_if163l_trr3_1_01","frt00014633_07_if163s_trr3_1_01","frt00014710_07_if163l_trr3_1_01","frt00014710_07_if163s_trr3_1_01","frt000147fb_07_if164l_trr3_1_01","frt000147fb_07_if164s_trr3_1_01","frt00014838_07_if164l_trr3_1_01","frt00014838_07_if164s_trr3_1_01","frt000149c8_07_if164l_trr3_1_01","frt000149c8_07_if164s_trr3_1_01","frt00016329_07_if163s_trr3_1_01","frt0001632a_07_if164s_trr3_1_01","frt00016383_07_if164l_trr3_1_01","frt00016383_07_if164s_trr3_1_01","frt0001638a_07_if164l_trr3_1_01","frt0001638a_07_if164s_trr3_1_01","frt000163d8_07_if164s_trr3_1_01","frt00016438_07_if164l_trr3_1_01","frt00016438_07_if164s_trr3_1_01","frt0001648a_07_if164s_trr3_1_01","frt000164e4_07_if163l_trr3_1_01","frt000164e4_07_if163s_trr3_1_01","frt000164eb_07_if164l_trr3_1_01","frt000164eb_07_if164s_trr3_1_01","frt00016606_07_if164l_trr3_1_01","frt00016606_07_if164s_trr3_1_01","frt0001660e_07_if164l_trr3_1_01","frt0001660e_07_if164s_trr3_1_01","frt0001bcc6_07_if124s_trr3_1_01","frt0001bccc_07_if124s_trr3_1_01","frt0001bcd5_07_if124s_trr3_1_01","frt0001bd68_07_if123s_trr3_1_01","frt0001bdad_07_if124s_trr3_1_01","frt0001be4b_07_if123s_trr3_1_01","frt0001bec8_07_if124s_trr3_1_01","frt0001bf57_07_if123s_trr3_1_01","frt0001bf9e_07_if124s_trr3_1_01","frt0001bfed_07_if124s_trr3_1_01","frt0001c14f_07_if123s_trr3_1_01","frt0001c242_07_if124s_trr3_1_01","frt0001c3c4_07_if164l_trr3_1_01","frt0001c3c4_07_if164s_trr3_1_01","frt0001c413_07_if163l_trr3_1_01","frt0001c413_07_if163s_trr3_1_01","frt0001c422_07_if163l_trr3_1_01","frt0001c422_07_if163s_trr3_1_01","frt0001c695_07_if164l_trr3_1_01","frt0001c695_07_if164s_trr3_1_01","frt0001c7c5_07_if164l_trr3_1_01","frt0001c7c5_07_if164s_trr3_1_01","frt0001ca62_07_if163s_trr3_1_01","frt0001ce7e_07_if123s_trr3_1_01","frt0001cecf_07_if124s_trr3_1_01","frt0001cf15_07_if124s_trr3_1_01","frt0001cfa7_07_if123s_trr3_1_01","frt0001cfae_07_if124s_trr3_1_01","frt0001d033_07_if124s_trr3_1_01","frt0001d076_07_if124s_trr3_1_01","frt0001d07a_07_if124s_trr3_1_01","frt0001d0b4_07_if124s_trr3_1_01","frt0001d100_07_if124s_trr3_1_01","frt0001d1d5_07_if124s_trr3_1_01","frt0001d215_07_if124s_trr3_1_01","frt0001d269_07_if125s_trr3_1_01","frt0001d28e_07_if123s_trr3_1_01","frt0001d2b2_07_if124s_trr3_1_01","frt0001d3cc_07_if124s_trr3_1_01","frt0001d410_07_if124s_trr3_1_01","frt0001d418_07_if124s_trr3_1_01","frt0001d41e_07_if123s_trr3_1_01","frt0001d47e_07_if125s_trr3_1_01","frt0001d4dc_07_if124s_trr3_1_01","frt0001d542_07_if124s_trr3_1_01","frt0001d579_07_if124s_trr3_1_01","frt0001d57b_07_if123s_trr3_1_01","frt0001d61b_07_if123s_trr3_1_01","frt0001d795_07_if163l_trr3_1_01","frt0001d795_07_if163s_trr3_1_01","frt0001d860_07_if164l_trr3_1_01","frt0001d860_07_if164s_trr3_1_01","frt0001db7b_07_if124s_trr3_1_01","frt0001dbbd_07_if123s_trr3_1_01","frt0001dc58_07_if123s_trr3_1_01","frt0001dc5e_07_if123s_trr3_1_01","frt0001de15_07_if163s_trr3_1_01","frt0001de49_07_if164s_trr3_1_01","frt0001df9b_07_if124s_trr3_1_01","frt0001dfff_07_if124s_trr3_1_01","frt0001e340_07_if164s_trr3_1_01","frt0001e4ba_07_if124s_trr3_1_01","frt0001e4f9_07_if124s_trr3_1_01","frt0001e534_07_if123s_trr3_1_01","frt0001e538_07_if124s_trr3_1_01","frt0001e573_07_if124s_trr3_1_01","frt0001e5b3_07_if124s_trr3_1_01","frt0001e5bd_07_if124s_trr3_1_01","frt0001e647_07_if124s_trr3_1_01","frt0001e64a_07_if124s_trr3_1_01","frt0001e68f_07_if123s_trr3_1_01","frt0001e696_07_if123s_trr3_1_01","frt0001e6e3_07_if123s_trr3_1_01","frt0001e722_07_if123s_trr3_1_01","frt0001e779_07_if123s_trr3_1_01","frt0001e7bb_07_if124s_trr3_1_01","frt0001e8c5_07_if125s_trr3_1_01","frt0001e8cb_07_if124s_trr3_1_01","frt0001e8cf_07_if123s_trr3_1_01","frt0001e9b5_07_if123s_trr3_1_01","frt0001ea04_07_if124s_trr3_1_01","frt0001ea13_07_if124s_trr3_1_01","frt0001ea43_07_if123s_trr3_1_01","frt0001ea47_07_if123s_trr3_1_01","frt0001ea8e_07_if125s_trr3_1_01","frt0001ea92_07_if124s_trr3_1_01","frt0001eae3_07_if164s_trr3_1_01","frt0001ecc4_07_if164l_trr3_1_01","frt0001ecc4_07_if164s_trr3_1_01","frt0001ed4c_07_if123s_trr3_1_01","frt0001ed54_07_if126s_trr3_1_01","frt0001ef22_07_if124s_trr3_1_01","frt0001f08d_07_if124s_trr3_1_01","frt0001f0e4_07_if123s_trr3_1_01","frt0001f129_07_if123s_trr3_1_01","frt0001f17c_07_if124s_trr3_1_01","frt0001f1bd_07_if124s_trr3_1_01","frt0001f21b_07_if123s_trr3_1_01","frt0001f280_07_if124s_trr3_1_01","frt0001f4a3_07_if123s_trr3_1_01","frt0001f4ab_07_if124s_trr3_1_01","frt0001f544_07_if126s_trr3_1_01","frt0001f54c_07_if123s_trr3_1_01","frt0001f59c_07_if124s_trr3_1_01","frt0001f5ed_07_if125s_trr3_1_01","frt0001f5f3_07_if124s_trr3_1_01","frt0001f5fb_07_if124s_trr3_1_01","frt0001f69e_07_if124s_trr3_1_01","frt0001f6f0_07_if123s_trr3_1_01","frt0001f6f6_07_if124s_trr3_1_01","frt0001f740_07_if124s_trr3_1_01","frt0001f746_07_if123s_trr3_1_01","frt0001f74f_07_if124s_trr3_1_01","frt0001f7a0_07_if123s_trr3_1_01","frt0001f854_07_if123s_trr3_1_01","frt0001f85c_07_if124s_trr3_1_01","frt0001f8a5_07_if124s_trr3_1_01","frt0001f8fa_07_if124s_trr3_1_01","frt0001f9af_07_if124s_trr3_1_01","frt0001fa03_07_if123s_trr3_1_01","frt0001fa52_07_if123s_trr3_1_01","frt0001fa5a_07_if123s_trr3_1_01","frt0001faa7_07_if123s_trr3_1_01","frt0001faeb_07_if124s_trr3_1_01","frt0001fd35_07_if164l_trr3_1_01","frt0001fd35_07_if164s_trr3_1_01","frt0001fe30_07_if124s_trr3_1_01","frt0001fe8f_07_if124s_trr3_1_01","frt0001ff02_07_if124s_trr3_1_01","frt0001ff06_07_if123s_trr3_1_01","frt0001ff59_07_if124s_trr3_1_01","frt0001ff66_07_if124s_trr3_1_01","frt0001ffcf_07_if123s_trr3_1_01","frt00020029_07_if124s_trr3_1_01","frt00020087_07_if123s_trr3_1_01","frt00020090_07_if124s_trr3_1_01","frt000200f5_07_if124s_trr3_1_01","frt0002010b_07_if124s_trr3_1_01","frt00020164_07_if124s_trr3_1_01","frt00020175_07_if124s_trr3_1_01","frt000202be_07_if124s_trr3_1_01","frt000202c8_07_if123s_trr3_1_01","frt000202d0_07_if125s_trr3_1_01","frt00020314_07_if125s_trr3_1_01","frt00020355_07_if123s_trr3_1_01","frt0002039d_07_if164s_trr3_1_01","frt000204f6_07_if125s_trr3_1_01","frt00020741_07_if125s_trr3_1_01","frt00020749_07_if124s_trr3_1_01","frt00020751_07_if124s_trr3_1_01","frt00020796_07_if124s_trr3_1_01","frt0002079d_07_if123s_trr3_1_01","frt000207eb_07_if123s_trr3_1_01","frt000207f1_07_if124s_trr3_1_01","frt00020872_07_if124s_trr3_1_01","frt0002087f_07_if124s_trr3_1_01","frt000208bf_07_if126s_trr3_1_01","frt00020917_07_if125s_trr3_1_01","frt0002091c_07_if124s_trr3_1_01","frt00020967_07_if123s_trr3_1_01","frt0002096c_07_if123s_trr3_1_01","frt000209e9_07_if123s_trr3_1_01","frt000209ee_07_if124s_trr3_1_01","frt000209f4_07_if124s_trr3_1_01","frt00020a2b_07_if124s_trr3_1_01","frt00020a35_07_if124s_trr3_1_01","frt00020a80_07_if124s_trr3_1_01","frt00020a86_07_if123s_trr3_1_01","frt00020a8b_07_if123s_trr3_1_01","frt00020b72_07_if164l_trr3_1_01","frt00020b72_07_if164s_trr3_1_01","frt00020e51_07_if123s_trr3_1_01","frt00020e59_07_if123s_trr3_1_01","frt00020e8d_07_if123s_trr3_1_01","frt00020e96_07_if124s_trr3_1_01","frt00020ed9_07_if124s_trr3_1_01","frt00020edf_07_if123s_trr3_1_01","frt00020f1e_07_if123s_trr3_1_01","frt00020f77_07_if124s_trr3_1_01","frt00020f7e_07_if124s_trr3_1_01","frt00020fdc_07_if123s_trr3_1_01","frt0002104a_07_if126s_trr3_1_01","frt000210b9_07_if123s_trr3_1_01","frt0002111e_07_if124s_trr3_1_01","frt00021182_07_if123s_trr3_1_01","frt00021415_07_if123s_trr3_1_01","frt0002158b_07_if123s_trr3_1_01","frt000215e2_07_if123s_trr3_1_01","frt00021686_07_if124s_trr3_1_01","frt000216d8_07_if124s_trr3_1_01","frt000216dd_07_if123s_trr3_1_01","frt0002172d_07_if124s_trr3_1_01","frt00021734_07_if123s_trr3_1_01","frt00021868_07_if124s_trr3_1_01","frt000218bb_07_if123s_trr3_1_01","frt000219c3_07_if123s_trr3_1_01","frt00021a6d_07_if123s_trr3_1_01","frt00021ac9_07_if124s_trr3_1_01","frt00021ad6_07_if124s_trr3_1_01","frt00021c63_07_if164l_trr3_1_01","frt00021c63_07_if164s_trr3_1_01","frt00021c6a_07_if164l_trr3_1_01","frt00021c6a_07_if164s_trr3_1_01","frt00021d27_07_if164s_trr3_1_01","frt00021da9_07_if164l_trr3_1_01","frt00021da9_07_if164s_trr3_1_01","frt00021ebe_07_if164s_trr3_1_01","frt00021f09_07_if164l_trr3_1_01","frt00021f09_07_if164s_trr3_1_01","frt00021f49_07_if163s_trr3_1_01","frt00021f9c_07_if164l_trr3_1_01","frt00021f9c_07_if164s_trr3_1_01","frt00021fa2_07_if164l_trr3_1_01","frt00021fa2_07_if164s_trr3_1_01","frt00021fce_07_if164l_trr3_1_01","frt00021fce_07_if164s_trr3_1_01","frt00022136_07_if124s_trr3_1_01","frt0002213f_07_if124s_trr3_1_01","frt00022177_07_if124s_trr3_1_01","frt000221c0_07_if124s_trr3_1_01","frt000221c6_07_if124s_trr3_1_01","frt0002221b_07_if123s_trr3_1_01","frt0002230d_07_if123s_trr3_1_01","frt0002235c_07_if123s_trr3_1_01","frt0002236b_07_if124s_trr3_1_01","frt000223a3_07_if124s_trr3_1_01","frt000223b0_07_if124s_trr3_1_01","frt000223e8_07_if124s_trr3_1_01","frt000223f4_07_if124s_trr3_1_01","frt00022455_07_if124s_trr3_1_01","frt000224ab_07_if124s_trr3_1_01","frt00022514_07_if124s_trr3_1_01","frt00022560_07_if124s_trr3_1_01","frt00022566_07_if124s_trr3_1_01","frt000225b1_07_if123s_trr3_1_01","frt00022610_07_if123s_trr3_1_01","frt00022619_07_if123s_trr3_1_01","frt0002266e_07_if124s_trr3_1_01","frt000226d8_07_if124s_trr3_1_01","frt000226e7_07_if124s_trr3_1_01","frt0002272b_07_if124s_trr3_1_01","frt00022734_07_if124s_trr3_1_01","frt0002273c_07_if124s_trr3_1_01","frt0002278e_07_if124s_trr3_1_01","frt0002279c_07_if124s_trr3_1_01","frt000227f1_07_if124s_trr3_1_01","frt0002284c_07_if124s_trr3_1_01","frt0002289e_07_if123s_trr3_1_01","frt000228cb_07_if124s_trr3_1_01","frt0002291e_07_if124s_trr3_1_01","frt00022979_07_if124s_trr3_1_01","frt00022988_07_if123s_trr3_1_01","frt00022a2d_07_if124s_trr3_1_01","frt00022a31_07_if124s_trr3_1_01","frt00022a7c_07_if124s_trr3_1_01","frt00022ad7_07_if124s_trr3_1_01","frt00022ae5_07_if124s_trr3_1_01","frt00022b8b_07_if124s_trr3_1_01","frt00022bf4_07_if124s_trr3_1_01","frt00022c3d_07_if124s_trr3_1_01","frt00022c97_07_if123s_trr3_1_01","frt00022d01_07_if123s_trr3_1_01","frt00022d57_07_if124s_trr3_1_01","frt00022df5_07_if123s_trr3_1_01","frt00022ec6_07_if124s_trr3_1_01","frt00022ecb_07_if124s_trr3_1_01","frt00022f45_07_if123s_trr3_1_01","frt00022f4f_07_if123s_trr3_1_01","frt0002308f_07_if124s_trr3_1_01","frt00023101_07_if124s_trr3_1_01","frt00023118_07_if124s_trr3_1_01","frt000231a6_07_if123s_trr3_1_01","frt00023208_07_if125s_trr3_1_01","frt00023210_07_if124s_trr3_1_01","frt0002340a_07_if164l_trr3_1_01","frt0002340a_07_if164s_trr3_1_01","frt00023504_07_if164l_trr3_1_01","frt00023504_07_if164s_trr3_1_01","frt00023577_07_if163l_trr3_1_01","frt00023577_07_if163s_trr3_1_01","frt000235d8_07_if164l_trr3_1_01","frt000235d8_07_if164s_trr3_1_01","frt00023843_07_if164l_trr3_1_01","frt00023843_07_if164s_trr3_1_01","frt00023954_07_if125s_trr3_1_01","frt0002395f_07_if123s_trr3_1_01","frt000239d9_07_if124s_trr3_1_01","frt000239e1_07_if124s_trr3_1_01","frt00023a4e_07_if123s_trr3_1_01","frt00023b49_07_if123s_trr3_1_01","frt00023bb5_07_if124s_trr3_1_01","frt00023cbd_07_if124s_trr3_1_01","frt00023d2a_07_if124s_trr3_1_01","frt00023db2_07_if124s_trr3_1_01","frt00023e27_07_if124s_trr3_1_01","frt00023ea0_07_if124s_trr3_1_01","frt00023ea8_07_if123s_trr3_1_01","frt00023f1d_07_if164l_trr3_1_01","frt00023f1d_07_if164s_trr3_1_01","frt00023fe4_07_if164l_trr3_1_01","frt00023fe4_07_if164s_trr3_1_01","frt00024093_07_if164l_trr3_1_01","frt00024093_07_if164s_trr3_1_01","frt00024099_07_if164l_trr3_1_01","frt00024099_07_if164s_trr3_1_01","frt000241ee_07_if164l_trr3_1_01","frt000241ee_07_if164s_trr3_1_01","frt00024293_07_if164l_trr3_1_01","frt00024293_07_if164s_trr3_1_01","frt00024411_07_if165l_trr3_1_01","frt00024411_07_if165s_trr3_1_01","frt000244e3_07_if164l_trr3_1_01","frt000244e3_07_if164s_trr3_1_01","frt00024578_07_if163l_trr3_1_01","frt00024578_07_if163s_trr3_1_01","frt000245d9_07_if164l_trr3_1_01","frt000245d9_07_if164s_trr3_1_01","frt0002461a_07_if163l_trr3_1_01","frt0002461a_07_if163s_trr3_1_01","frt00024661_07_if164l_trr3_1_01","frt00024661_07_if164s_trr3_1_01","frt000246e3_07_if164l_trr3_1_01","frt000246e3_07_if164s_trr3_1_01","frt00024742_07_if164l_trr3_1_01","frt00024742_07_if164s_trr3_1_01","frt00024896_07_if164l_trr3_1_01","frt00024896_07_if164s_trr3_1_01","frt0002489b_07_if164l_trr3_1_01","frt00024974_07_if164l_trr3_1_01","frt00024974_07_if164s_trr3_1_01","frt00024b33_07_if163l_trr3_1_01","frt00024b33_07_if163s_trr3_1_01","frt00024b69_07_if164l_trr3_1_01","frt00024b69_07_if164s_trr3_1_01","frt00024bbd_07_if164l_trr3_1_01","frt00024bbd_07_if164s_trr3_1_01","frt00024c2c_07_if164l_trr3_1_01","frt00024c2c_07_if164s_trr3_1_01","frt00024c30_07_if164l_trr3_1_01","frt00024c30_07_if164s_trr3_1_01","frt00024c89_07_if124s_trr3_1_01","frt00024d43_07_if124s_trr3_1_01","hrl000060cf_07_if181l_trr3_1_01","hrl000060cf_07_if181s_trr3_1_01","hrl00009792_07_if181l_trr3_1_01","hrl00009792_07_if181s_trr3_1_01","hrl00009a52_07_if181l_trr3_1_01","hrl00009a52_07_if181s_trr3_1_01","hrl00009c3f_07_if180l_trr3_1_01","hrl00009c3f_07_if180s_trr3_1_01","hrl00009eac_07_if181s_trr3_1_01","hrl0000a15f_07_if180l_trr3_1_01","hrl0000a15f_07_if180s_trr3_1_01","hrl0000a199_07_if181l_trr3_1_01","hrl0000a199_07_if181s_trr3_1_01","hrl0000a19f_07_if180l_trr3_1_01","hrl0000a19f_07_if180s_trr3_1_01","hrl0000a1e8_07_if181l_trr3_1_01","hrl0000a1e8_07_if181s_trr3_1_01","hrl0000a2fa_07_if181l_trr3_1_01","hrl0000a2fa_07_if181s_trr3_1_01","hrl0000a3dc_07_if181l_trr3_1_01","hrl0000a469_07_if180l_trr3_1_01","hrl0000a469_07_if180s_trr3_1_01","hrl0000a46a_07_if181l_trr3_1_01","hrl0000a46a_07_if181s_trr3_1_01","hrl0000a471_07_if181l_trr3_1_01","hrl0000a471_07_if181s_trr3_1_01","hrl0000a5f5_07_if180l_trr3_1_01","hrl0000a5f5_07_if180s_trr3_1_01","hrl0000a5f6_07_if181l_trr3_1_01","hrl0000a5f6_07_if181s_trr3_1_01","hrl0000aaa2_07_if181l_trr3_1_01","hrl0000aaa2_07_if181s_trr3_1_01","hrl0000aaa7_07_if181l_trr3_1_01","hrl0000aaa7_07_if181s_trr3_1_01","hrl0000aad7_07_if181l_trr3_1_01","hrl0000aad7_07_if181s_trr3_1_01","hrl0000ab4a_07_if181l_trr3_1_01","hrl0000ab4a_07_if181s_trr3_1_01","hrl0000abb0_07_if181l_trr3_1_01","hrl0000abb0_07_if181s_trr3_1_01","hrl0000ac52_07_if181l_trr3_1_01","hrl0000ac52_07_if181s_trr3_1_01","hrl0000adbf_07_if181s_trr3_1_01","hrl0000adbf_07_if181l_trr3_1_01","hrl0000adca_07_if181l_trr3_1_01","hrl0000adca_07_if181s_trr3_1_01","hrl0000afbd_07_if181l_trr3_1_01","hrl0000afbd_07_if181s_trr3_1_01","hrl0000b020_07_if181l_trr3_1_01","hrl0000b020_07_if181s_trr3_1_01","hrl0000b236_07_if181l_trr3_1_01","hrl0000b236_07_if181s_trr3_1_01","hrl0000b300_07_if181l_trr3_1_01","hrl0000b300_07_if181s_trr3_1_01","hrl0000c147_07_if181l_trr3_1_01","hrl0000c147_07_if181s_trr3_1_01","hrl0000c1c3_07_if181l_trr3_1_01","hrl0000c1c3_07_if181s_trr3_1_01","hrl0000c210_07_if181l_trr3_1_01","hrl0000c210_07_if181s_trr3_1_01","hrl0000c3fa_07_if181l_trr3_1_01","hrl0000c3fa_07_if181s_trr3_1_01","hrl0000c498_07_if181l_trr3_1_01","hrl0000c498_07_if181s_trr3_1_01","hrl0000c591_07_if181l_trr3_1_01","hrl0000c591_07_if181s_trr3_1_01","hrl0000c5b8_07_if181l_trr3_1_01","hrl0000c5b8_07_if181s_trr3_1_01","hrl0000c6db_07_if181l_trr3_1_01","hrl0000c6db_07_if181s_trr3_1_01","hrl0000c866_07_if181l_trr3_1_01","hrl0000c866_07_if181s_trr3_1_01","hrl0000c8c0_07_if181l_trr3_1_01","hrl0000c8c0_07_if181s_trr3_1_01","hrl0000cbb5_07_if181l_trr3_1_01","hrl0000cbb5_07_if181s_trr3_1_01","hrl0000cce7_07_if181s_trr3_1_01","hrl0000cce7_07_if181l_trr3_1_01","hrl0000cdec_07_if181l_trr3_1_01","hrl0000cdec_07_if181s_trr3_1_01","hrl0000cebd_07_if181l_trr3_1_01","hrl0000cebd_07_if181s_trr3_1_01","hrl0000cf3a_07_if181l_trr3_1_01","hrl0000cf3a_07_if181s_trr3_1_01","hrl0000d025_07_if181l_trr3_1_01","hrl0000d025_07_if181s_trr3_1_01","hrl0000d13b_07_if181l_trr3_1_01","hrl0000d13b_07_if181s_trr3_1_01","hrl0000d145_07_if181l_trr3_1_01","hrl0000d145_07_if181s_trr3_1_01","hrl0000d293_07_if181l_trr3_1_01","hrl0000d293_07_if181s_trr3_1_01","hrl0000d2cd_07_if181l_trr3_1_01","hrl0000d2cd_07_if181s_trr3_1_01","hrl0000d6a0_07_if181l_trr3_1_01","hrl0000d6a0_07_if181s_trr3_1_01","hrl0000d768_07_if181l_trr3_1_01","hrl0000d768_07_if181s_trr3_1_01","hrl000107ab_07_if181l_trr3_1_01","hrl000107ab_07_if181s_trr3_1_01","hrl00010a3a_07_if180l_trr3_1_01","hrl00010a3a_07_if180s_trr3_1_01","hrl00010bf0_07_if180s_trr3_1_01","hrl00010cf5_07_if181l_trr3_1_01","hrl00010cf5_07_if181s_trr3_1_01","hrl0001113a_07_if180l_trr3_1_01","hrl0001113a_07_if180s_trr3_1_01","hrl0001113b_07_if181l_trr3_1_01","hrl0001113b_07_if181s_trr3_1_01","hrl00011143_07_if181l_trr3_1_01","hrl00011143_07_if181s_trr3_1_01","hrl00011144_07_if181l_trr3_1_01","hrl00011144_07_if181s_trr3_1_01","hrl0001123b_07_if181l_trr3_1_01","hrl0001123b_07_if181s_trr3_1_01","hrl0001128b_07_if181l_trr3_1_01","hrl0001128b_07_if181s_trr3_1_01","hrl00011931_07_if181l_trr3_1_01","hrl00011931_07_if181s_trr3_1_01","hrl0001199f_07_if181l_trr3_1_01","hrl0001199f_07_if181s_trr3_1_01","hrl00011ae0_07_if180l_trr3_1_01","hrl00011ae0_07_if180s_trr3_1_01","hrl00011ba5_07_if181l_trr3_1_01","hrl00011ba5_07_if181s_trr3_1_01","hrl00011c10_07_if181l_trr3_1_01","hrl00011c10_07_if181s_trr3_1_01","hrl00011cc5_07_if181l_trr3_1_01","hrl00011cc5_07_if181s_trr3_1_01","hrl00011fae_07_if180s_trr3_1_01","hrl00011fbc_07_if181s_trr3_1_01","hrl000120f7_07_if181l_trr3_1_01","hrl000120f7_07_if181s_trr3_1_01","hrl000121a7_07_if181l_trr3_1_01","hrl000121f2_07_if181l_trr3_1_01","hrl000121f2_07_if181s_trr3_1_01","hrl00012252_07_if181l_trr3_1_01","hrl00012252_07_if181s_trr3_1_01","hrl000123fd_07_if181l_trr3_1_01","hrl000123fd_07_if181s_trr3_1_01","hrl00012403_07_if180l_trr3_1_01","hrl00012403_07_if180s_trr3_1_01","hrl00012455_07_if181l_trr3_1_01","hrl00012455_07_if181s_trr3_1_01","hrl000125a4_07_if181l_trr3_1_01","hrl000125a4_07_if181s_trr3_1_01","hrl000125fe_07_if181l_trr3_1_01","hrl000125fe_07_if181s_trr3_1_01","hrl00012605_07_if181l_trr3_1_01","hrl00012605_07_if181s_trr3_1_01","hrl00012c3d_07_if181l_trr3_1_01","hrl00012c3d_07_if181s_trr3_1_01","hrl00012e27_07_if181l_trr3_1_01","hrl00012e27_07_if181s_trr3_1_01","hrl00012f70_07_if180l_trr3_1_01","hrl00012f70_07_if180s_trr3_1_01","hrl000132da_07_if181l_trr3_1_01","hrl000132da_07_if181s_trr3_1_01","hrl00013311_07_if181l_trr3_1_01","hrl00013311_07_if181s_trr3_1_01","hrl00013315_07_if181l_trr3_1_01","hrl00013315_07_if181s_trr3_1_01","hrl00013366_07_if181l_trr3_1_01","hrl00013366_07_if181s_trr3_1_01","hrl00013370_07_if181l_trr3_1_01","hrl00013370_07_if181s_trr3_1_01","hrl00013438_07_if181l_trr3_1_01","hrl00013438_07_if181s_trr3_1_01","hrl00013499_07_if180l_trr3_1_01","hrl00013499_07_if180s_trr3_1_01","hrl00013501_07_if181l_trr3_1_01","hrl00013501_07_if181s_trr3_1_01","hrl000135dd_07_if193s_trr3_1_01","hrl000135e1_07_if191s_trr3_1_01","hrl00013606_07_if193s_trr3_1_01","hrl00013637_07_if193s_trr3_1_01","hrl00013c22_07_if181l_trr3_1_01","hrl00013c22_07_if181s_trr3_1_01","hrl0001637b_07_if181l_trr3_1_01","hrl0001637b_07_if181s_trr3_1_01","hrl0001648f_07_if181s_trr3_1_01","hrl00016545_07_if181l_trr3_1_01","hrl00016545_07_if181s_trr3_1_01","hrl0001654c_07_if180l_trr3_1_01","hrl0001654c_07_if180s_trr3_1_01","hrl0001654d_07_if181l_trr3_1_01","hrl0001654d_07_if181s_trr3_1_01","hrl0001be8d_07_if193s_trr3_1_01","hrl0001bfe8_07_if193s_trr3_1_01","hrl0001c49a_07_if181l_trr3_1_01","hrl0001c49a_07_if181s_trr3_1_01","hrl0001ca1d_07_if181l_trr3_1_01","hrl0001ca1d_07_if181s_trr3_1_01","hrl0001d3be_07_if193s_trr3_1_01","hrl0001d6e9_07_if193s_trr3_1_01","hrl0001da8c_07_if180s_trr3_1_01","hrl0001da8f_07_if182l_trr3_1_01","hrl0001da8f_07_if182s_trr3_1_01","hrl0001dafd_07_if181l_trr3_1_01","hrl0001dafd_07_if181s_trr3_1_01","hrl0001dbb4_07_if191s_trr3_1_01","hrl0001dbba_07_if191s_trr3_1_01","hrl0001dd81_07_if191s_trr3_1_01","hrl0001de13_07_if181l_trr3_1_01","hrl0001de13_07_if181s_trr3_1_01","hrl0001e388_07_if181l_trr3_1_01","hrl0001e388_07_if181s_trr3_1_01","hrl0001e3a9_07_if181s_trr3_1_01","hrl0001e3d6_07_if193s_trr3_1_01","hrl0001e46a_07_if191s_trr3_1_01","hrl0001e4ae_07_if193s_trr3_1_01","hrl0001e4f4_07_if193s_trr3_1_01","hrl0001e5f0_07_if193s_trr3_1_01","hrl0001e5fa_07_if191s_trr3_1_01","hrl0001e811_07_if191s_trr3_1_01","hrl0001e872_07_if191s_trr3_1_01","hrl0001e920_07_if193s_trr3_1_01","hrl0001ea88_07_if193s_trr3_1_01","hrl0001ec60_07_if181l_trr3_1_01","hrl0001ec60_07_if181s_trr3_1_01","hrl0001edbf_07_if194s_trr3_1_01","hrl0001ee34_07_if191s_trr3_1_01","hrl0001eea8_07_if193s_trr3_1_01","hrl0001eeb1_07_if193s_trr3_1_01","hrl0001ef18_07_if191s_trr3_1_01","hrl0001f02d_07_if193s_trr3_1_01","hrl0001f12d_07_if191s_trr3_1_01","hrl0001f1c5_07_if194s_trr3_1_01","hrl0001f274_07_if193s_trr3_1_01","hrl0001f27a_07_if191s_trr3_1_01","hrl0001f2d7_07_if191s_trr3_1_01","hrl0001f2df_07_if191s_trr3_1_01","hrl0001f375_07_if193s_trr3_1_01","hrl0001f37b_07_if193s_trr3_1_01","hrl0001f955_07_if193s_trr3_1_01","hrl0001fb44_07_if193s_trr3_1_01","hrl0001fbf8_07_if181s_trr3_1_01","hrl00020384_07_if181l_trr3_1_01","hrl00020384_07_if181s_trr3_1_01","hrl000203e3_07_if180l_trr3_1_01","hrl000203e3_07_if180s_trr3_1_01","hrl00021b2d_07_if180l_trr3_1_01","hrl00021b2d_07_if180s_trr3_1_01","hrl00021bc0_07_if181l_trr3_1_01","hrl00021bc0_07_if181s_trr3_1_01","hrl00021c06_07_if181l_trr3_1_01","hrl00021c06_07_if181s_trr3_1_01","hrl00021f72_07_if181l_trr3_1_01","hrl00021f72_07_if181s_trr3_1_01","hrl00021fc9_07_if181l_trr3_1_01","hrl00021fc9_07_if181s_trr3_1_01","hrl00021ffa_07_if181s_trr3_1_01","hrl00022e57_07_if193s_trr3_1_01","hrl00023316_07_if181l_trr3_1_01","hrl00023316_07_if181s_trr3_1_01","hrl00023341_07_if181l_trr3_1_01","hrl00023341_07_if181s_trr3_1_01","hrl0002372b_07_if181l_trr3_1_01","hrl0002372b_07_if181s_trr3_1_01","hrl00023784_07_if181l_trr3_1_01","hrl00023784_07_if181s_trr3_1_01","hrl000237e4_07_if181l_trr3_1_01","hrl000237e4_07_if181s_trr3_1_01","hrl00023836_07_if181l_trr3_1_01","hrl00023836_07_if181s_trr3_1_01","hrl000238d9_07_if181l_trr3_1_01","hrl000238d9_07_if181s_trr3_1_01","hrl000242df_07_if181s_trr3_1_01","hrs00009976_07_if173l_trr3_1_01","hrs00009976_07_if173s_trr3_1_01","hrs0000a057_07_if173l_trr3_1_01","hrs0000a057_07_if173s_trr3_1_01","hrs0000a058_07_if173l_trr3_1_01","hrs0000a058_07_if173s_trr3_1_01","hrs0000a165_07_if173l_trr3_1_01","hrs0000a165_07_if173s_trr3_1_01","hrs0000a1a0_07_if173l_trr3_1_01","hrs0000a1a0_07_if173s_trr3_1_01","hrs0000a477_07_if172l_trr3_1_01","hrs0000a477_07_if172s_trr3_1_01","hrs0000a478_07_if173l_trr3_1_01","hrs0000a478_07_if173s_trr3_1_01","hrs0000a8c7_07_if173l_trr3_1_01","hrs0000a8c7_07_if173s_trr3_1_01","hrs0000a8ca_07_if173l_trr3_1_01","hrs0000a8ca_07_if173s_trr3_1_01","hrs0000a988_07_if173l_trr3_1_01","hrs0000a988_07_if173s_trr3_1_01","hrs0000aa41_07_if173l_trr3_1_01","hrs0000aa41_07_if173s_trr3_1_01","hrs0000ab14_07_if173l_trr3_1_01","hrs0000ab14_07_if173s_trr3_1_01","hrs0000ab70_07_if173l_trr3_1_01","hrs0000ab70_07_if173s_trr3_1_01","hrs0000ca4b_07_if173l_trr3_1_01","hrs0000ca4b_07_if173s_trr3_1_01","hrs0000cb08_07_if173l_trr3_1_01","hrs0000cb08_07_if173s_trr3_1_01","hrs0000ce17_07_if173l_trr3_1_01","hrs0000ce17_07_if173s_trr3_1_01","hrs0000d623_07_if173l_trr3_1_01","hrs0000d623_07_if173s_trr3_1_01","hrs00010ef1_07_if173l_trr3_1_01","hrs00010ef1_07_if173s_trr3_1_01","hrs0001129b_07_if173l_trr3_1_01","hrs0001129b_07_if173s_trr3_1_01","hrs00011349_07_if173l_trr3_1_01","hrs00011349_07_if173s_trr3_1_01","hrs00011409_07_if173l_trr3_1_01","hrs00011409_07_if173s_trr3_1_01","hrs00011961_07_if172l_trr3_1_01","hrs00011961_07_if172s_trr3_1_01","hrs000119d3_07_if173l_trr3_1_01","hrs000119d3_07_if173s_trr3_1_01","hrs00011a0e_07_if173l_trr3_1_01","hrs00011a0e_07_if173s_trr3_1_01","hrs00011b64_07_if173l_trr3_1_01","hrs00011b64_07_if173s_trr3_1_01","hrs00011c8e_07_if173l_trr3_1_01","hrs00011c8e_07_if173s_trr3_1_01","hrs00011c96_07_if173l_trr3_1_01","hrs00011c96_07_if173s_trr3_1_01","hrs000120f2_07_if173l_trr3_1_01","hrs000120f2_07_if173s_trr3_1_01","hrs0001219c_07_if173l_trr3_1_01","hrs0001219c_07_if173s_trr3_1_01","hrs0001224b_07_if173l_trr3_1_01","hrs0001224b_07_if173s_trr3_1_01","hrs0001235b_07_if172l_trr3_1_01","hrs0001235b_07_if172s_trr3_1_01","hrs000123af_07_if173l_trr3_1_01","hrs000123af_07_if173s_trr3_1_01","hrs000127ae_07_if172s_trr3_1_01","hrs00012b06_07_if172l_trr3_1_01","hrs00012b06_07_if172s_trr3_1_01","hrs00012b0d_07_if172l_trr3_1_01","hrs00012b0d_07_if172s_trr3_1_01","hrs00012b59_07_if173l_trr3_1_01","hrs00012b59_07_if173s_trr3_1_01","hrs00013505_07_if173l_trr3_1_01","hrs00013505_07_if173s_trr3_1_01","hrs000136cc_07_if172l_trr3_1_01","hrs000136cc_07_if172s_trr3_1_01","hrs00013bad_07_if172l_trr3_1_01","hrs00013bad_07_if172s_trr3_1_01","hrs00013bb6_07_if172l_trr3_1_01","hrs00013bb6_07_if172s_trr3_1_01","hrs00013bb7_07_if173l_trr3_1_01","hrs00013bb7_07_if173s_trr3_1_01","hrs00013bbe_07_if172l_trr3_1_01","hrs00013bbe_07_if172s_trr3_1_01","hrs00013bbf_07_if173l_trr3_1_01","hrs00013bbf_07_if173s_trr3_1_01","hrs00013bc7_07_if172l_trr3_1_01","hrs00013bc7_07_if172s_trr3_1_01","hrs00013c7e_07_if173l_trr3_1_01","hrs00013c7e_07_if173s_trr3_1_01","hrs00013c7f_07_if173l_trr3_1_01","hrs00013c7f_07_if173s_trr3_1_01","hrs0001c470_07_if173l_trr3_1_01","hrs0001c470_07_if173s_trr3_1_01","hrs0001c4a2_07_if172l_trr3_1_01","hrs0001c4a2_07_if172s_trr3_1_01","hrs0001c6ce_07_if172l_trr3_1_01","hrs0001c6ce_07_if172s_trr3_1_01","hrs0001cfed_07_if144s_trr3_1_01","hrs0001d02f_07_if144s_trr3_1_01","hrs0001d0b9_07_if144s_trr3_1_01","hrs0001d1da_07_if144s_trr3_1_01","hrs0001d25b_07_if144s_trr3_1_01","hrs0001d330_07_if144s_trr3_1_01","hrs0001d6f4_07_if172l_trr3_1_01","hrs0001d6f4_07_if172s_trr3_1_01","hrs0001d979_07_if173s_trr3_1_01","hrs0001eb57_07_if173l_trr3_1_01","hrs0001eb57_07_if173s_trr3_1_01","hrs0001eb7b_07_if173s_trr3_1_01","hrs0001ebd7_07_if173s_trr3_1_01","hrs0001fb3d_07_if144s_trr3_1_01","hrs0001ff60_07_if144s_trr3_1_01","hrs000203c7_07_if173l_trr3_1_01","hrs000203c7_07_if173s_trr3_1_01","hrs00021f0e_07_if173l_trr3_1_01","hrs00021f0e_07_if173s_trr3_1_01","hrs00021f11_07_if173l_trr3_1_01","hrs00021f11_07_if173s_trr3_1_01","hrs00023411_07_if173l_trr3_1_01","hrs00023411_07_if173s_trr3_1_01","hrs00024417_07_if172l_trr3_1_01","hrs00024417_07_if172s_trr3_1_01","hrs00024c21_07_if173l_trr3_1_01","hrs00024c21_07_if173s_trr3_1_01","frt00003590_07_if164l_trr3_1_01","frt00003590_07_if164s_trr3_1_01","frt000039df_07_if163l_trr3_1_01","frt000039df_07_if163s_trr3_1_01","frt00003e23_07_if163l_trr3_1_01","frt00003e23_07_if163s_trr3_1_01","frt0000426f_07_if164l_trr3_1_01","frt0000426f_07_if164s_trr3_1_01","frt000042aa_07_if164l_trr3_1_01","frt000042aa_07_if164s_trr3_1_01","frt00004512_07_if155s_trr3_1_01","frt00004512_07_if163l_trr3_1_01","frt00004737_07_if164l_trr3_1_01","frt00004737_07_if164s_trr3_1_01","frt000049fe_07_if163l_trr3_1_01","frt000049fe_07_if163s_trr3_1_01","frt00005339_07_if163l_trr3_1_01","frt00005339_07_if163s_trr3_1_01","frt000055b7_07_if164l_trr3_1_01","frt000055b7_07_if164s_trr3_1_01","frt0000585b_07_if163l_trr3_1_01","frt0000585b_07_if163s_trr3_1_01","frt0000586b_07_if163l_trr3_1_01","frt0000586b_07_if163s_trr3_1_01","frt00005d88_07_if163l_trr3_1_01","frt00005d88_07_if163s_trr3_1_01","frt00005e13_07_if163l_trr3_1_01","frt00005e13_07_if163s_trr3_1_01","frt00005e53_07_if163l_trr3_1_01","frt00005e53_07_if163s_trr3_1_01","frt00006073_07_if163l_trr3_1_01","frt00006073_07_if163s_trr3_1_01","frt000062e5_07_if163l_trr3_1_01","frt000062e5_07_if163s_trr3_1_01","frt000063b9_07_if164l_trr3_1_01","frt000063b9_07_if164s_trr3_1_01","frt0000675a_07_if163l_trr3_1_01","frt0000675a_07_if163s_trr3_1_01","frt0000683a_07_if164l_trr3_1_01","frt0000683a_07_if164s_trr3_1_01","frt0000683f_07_if163l_trr3_1_01","frt0000683f_07_if163s_trr3_1_01","frt00007151_07_if163l_trr3_1_01","frt00007151_07_if163s_trr3_1_01","frt00007349_07_if163l_trr3_1_01","frt00007349_07_if163s_trr3_1_01","frt000073ca_07_if163l_trr3_1_01","frt000073ca_07_if163s_trr3_1_01","frt000073cb_07_if164l_trr3_1_01","frt000073cb_07_if164s_trr3_1_01","frt00007451_07_if163l_trr3_1_01","frt00007451_07_if163s_trr3_1_01","frt00007452_07_if163l_trr3_1_01","frt00007452_07_if163s_trr3_1_01","frt0000749a_07_if163l_trr3_1_01","frt0000749a_07_if163s_trr3_1_01","frt0000749b_07_if164l_trr3_1_01","frt0000749b_07_if164s_trr3_1_01","frt000074df_07_if163l_trr3_1_01","frt000074df_07_if163s_trr3_1_01","frt00007532_07_if164l_trr3_1_01","frt00007532_07_if164s_trr3_1_01","frt00007536_07_if163l_trr3_1_01","frt00007536_07_if163s_trr3_1_01","frt000075d1_07_if164l_trr3_1_01","frt000075d1_07_if164s_trr3_1_01","frt000075d6_07_if164l_trr3_1_01","frt000075d6_07_if164s_trr3_1_01","frt00007678_07_if163l_trr3_1_01","frt00007678_07_if163s_trr3_1_01","frt0000778c_07_if164l_trr3_1_01","frt0000778c_07_if164s_trr3_1_01","frt00007831_07_if164l_trr3_1_01","frt00007831_07_if164s_trr3_1_01","frt000078df_07_if163l_trr3_1_01","frt000078df_07_if163s_trr3_1_01","frt00007a86_07_if163l_trr3_1_01","frt00007a86_07_if163s_trr3_1_01","frt00007bd0_07_if163l_trr3_1_01","frt00007bd0_07_if163s_trr3_1_01","frt00007bd1_07_if164l_trr3_1_01","frt00007bd1_07_if164s_trr3_1_01","frt00007c64_07_if163l_trr3_1_01","frt00007c64_07_if163s_trr3_1_01","frt00007c73_07_if164l_trr3_1_01","frt00007c73_07_if164s_trr3_1_01","frt00007cc1_07_if163l_trr3_1_01","frt00007cc1_07_if163s_trr3_1_01","frt00007cce_07_if164l_trr3_1_01","frt00007cce_07_if164s_trr3_1_01","frt00007d12_07_if164l_trr3_1_01","frt00007d12_07_if164s_trr3_1_01","frt00007d63_07_if163l_trr3_1_01","frt00007d63_07_if163s_trr3_1_01","frt00007f9e_07_if164l_trr3_1_01","frt00007f9e_07_if164s_trr3_1_01","frt00008028_07_if164l_trr3_1_01","frt00008028_07_if164s_trr3_1_01","frt0000802d_07_if163l_trr3_1_01","frt0000802d_07_if163s_trr3_1_01","frt000080b8_07_if163l_trr3_1_01","frt000080b8_07_if163s_trr3_1_01","frt00008195_07_if163l_trr3_1_01","frt00008195_07_if163s_trr3_1_01","frt000081da_07_if163l_trr3_1_01","frt000081da_07_if163s_trr3_1_01","frt000081db_07_if164s_trr3_1_01","frt00008272_07_if163l_trr3_1_01","frt00008272_07_if163s_trr3_1_01","frt000082b2_07_if163l_trr3_1_01","frt000082b2_07_if163s_trr3_1_01","frt0000834a_07_if163l_trr3_1_01","frt0000834a_07_if163s_trr3_1_01","frt00008431_07_if164l_trr3_1_01","frt00008431_07_if164s_trr3_1_01","frt0000847a_07_if163l_trr3_1_01","frt0000847a_07_if163s_trr3_1_01","frt0000847b_07_if164l_trr3_1_01","frt0000847b_07_if164s_trr3_1_01","frt0000848a_07_if163l_trr3_1_01","frt0000848a_07_if163s_trr3_1_01","frt000085e2_07_if164l_trr3_1_01","frt000085e2_07_if164s_trr3_1_01","frt00008726_07_if163l_trr3_1_01","frt00008726_07_if163s_trr3_1_01","frt00008783_07_if163l_trr3_1_01","frt00008783_07_if163s_trr3_1_01","frt000088dc_07_if163l_trr3_1_01","frt000088dc_07_if163s_trr3_1_01","frt000088dd_07_if164l_trr3_1_01","frt000088dd_07_if164s_trr3_1_01","frt000088e5_07_if164l_trr3_1_01","frt000088e5_07_if164s_trr3_1_01","frt00008936_07_if164l_trr3_1_01","frt00008936_07_if164s_trr3_1_01","frt0000898b_07_if163l_trr3_1_01","frt0000898b_07_if163s_trr3_1_01","frt00008999_07_if163l_trr3_1_01","frt00008999_07_if163s_trr3_1_01","frt00008a4b_07_if164l_trr3_1_01","frt00008a4b_07_if164s_trr3_1_01","frt00008c6f_07_if163l_trr3_1_01","frt00008c6f_07_if163s_trr3_1_01","frt00008cbb_07_if163l_trr3_1_01","frt00008cbb_07_if163s_trr3_1_01","frt00008d08_07_if163l_trr3_1_01","frt00008d08_07_if163s_trr3_1_01","frt00008d50_07_if163l_trr3_1_01","frt00008d50_07_if163s_trr3_1_01","frt00008d57_07_if163l_trr3_1_01","frt00008d57_07_if163s_trr3_1_01","frt00008d9d_07_if164l_trr3_1_01","frt00008d9d_07_if164s_trr3_1_01","frt00008d9e_07_if164l_trr3_1_01","frt00008d9e_07_if164s_trr3_1_01","frt00008df3_07_if163l_trr3_1_01","frt00008df3_07_if163s_trr3_1_01","frt00008e50_07_if163l_trr3_1_01","frt00008ea6_07_if164l_trr3_1_01","frt00008ea6_07_if164s_trr3_1_01","frt00008ead_07_if163l_trr3_1_01","frt00008ead_07_if163s_trr3_1_01","frt00008f08_07_if164l_trr3_1_01","frt00008f08_07_if164s_trr3_1_01","frt00008f6e_07_if164l_trr3_1_01","frt00008f6e_07_if164s_trr3_1_01","frt00008f74_07_if163l_trr3_1_01","frt00008f74_07_if163s_trr3_1_01","frt00008fc6_07_if164l_trr3_1_01","frt00008fc6_07_if164s_trr3_1_01","frt00008fd6_07_if164l_trr3_1_01","frt00008fd6_07_if164s_trr3_1_01","frt0000903a_07_if163l_trr3_1_01","frt0000903a_07_if163s_trr3_1_01","frt00009042_07_if164l_trr3_1_01","frt00009042_07_if164s_trr3_1_01","frt0000909e_07_if163l_trr3_1_01","frt0000909e_07_if163s_trr3_1_01","frt00009100_07_if164l_trr3_1_01","frt00009100_07_if164s_trr3_1_01","frt0000915d_07_if164l_trr3_1_01","frt0000915d_07_if164s_trr3_1_01","frt00009169_07_if163l_trr3_1_01","frt00009169_07_if163s_trr3_1_01","frt0000916a_07_if164l_trr3_1_01","frt0000916a_07_if164s_trr3_1_01","frt000091b7_07_if164l_trr3_1_01","frt000091b7_07_if164s_trr3_1_01","frt00009216_07_if163l_trr3_1_01","frt00009216_07_if163s_trr3_1_01","frt0000921c_07_if163l_trr3_1_01","frt0000921c_07_if163s_trr3_1_01","frt00009271_07_if163l_trr3_1_01","frt00009271_07_if163s_trr3_1_01","frt000092bb_07_if163l_trr3_1_01","frt000092bb_07_if163s_trr3_1_01","frt00009b59_07_if163l_trr3_1_01","frt00009b59_07_if163s_trr3_1_01","frt00009c01_07_if163l_trr3_1_01","frt00009c01_07_if163s_trr3_1_01","frt0000a3cd_07_if163l_trr3_1_01","frt0000b4bf_07_if164l_trr3_1_01","frt0000b4bf_07_if164s_trr3_1_01","frt0000b4fa_07_if164l_trr3_1_01","frt0000b4fa_07_if164s_trr3_1_01","frt0000b977_07_if164l_trr3_1_01","frt0000b977_07_if164s_trr3_1_01","frt0000bb55_07_if164l_trr3_1_01","frt0000bb55_07_if164s_trr3_1_01","frt0000bb8e_07_if164s_trr3_1_01","frt0000be8e_07_if164l_trr3_1_01","frt0000be8e_07_if164s_trr3_1_01","frt0000bef2_07_if163l_trr3_1_01","frt0000bef2_07_if163s_trr3_1_01","frt0000bf22_07_if163l_trr3_1_01","frt0000bf22_07_if163s_trr3_1_01","frt00011ad4_07_if163l_trr3_1_01","frt00011ad4_07_if163s_trr3_1_01","frt00013a8e_07_if123s_trr3_1_01","frt00013afd_07_if123s_trr3_1_01","frt00013f19_07_if164l_trr3_1_01","frt00013f19_07_if164s_trr3_1_01","frt00013f79_07_if164l_trr3_1_01","frt00013f79_07_if164s_trr3_1_01","frt00013faa_07_if164l_trr3_1_01","frt00013faa_07_if164s_trr3_1_01","frt000140fc_07_if123s_trr3_1_01","frt00014106_07_if124s_trr3_1_01","frt000144bd_07_if163l_trr3_1_01","frt000144bd_07_if163s_trr3_1_01","frt000145bc_07_if165l_trr3_1_01","frt000145bc_07_if165s_trr3_1_01","frt00016662_07_if163l_trr3_1_01","frt00016662_07_if163s_trr3_1_01","frt000166ca_07_if164l_trr3_1_01","frt000166ca_07_if164s_trr3_1_01","frt00016714_07_if164l_trr3_1_01","frt00016714_07_if164s_trr3_1_01","frt000167cb_07_if164l_trr3_1_01","frt000167cb_07_if164s_trr3_1_01","frt0001682b_07_if164l_trr3_1_01","frt0001682b_07_if164s_trr3_1_01","frt00016833_07_if163l_trr3_1_01","frt00016833_07_if163s_trr3_1_01","frt000168a1_07_if164l_trr3_1_01","frt000168a1_07_if164s_trr3_1_01","frt000168ab_07_if164l_trr3_1_01","frt000168ab_07_if164s_trr3_1_01","frt00016930_07_if164l_trr3_1_01","frt00016930_07_if164s_trr3_1_01","frt00016998_07_if164l_trr3_1_01","frt00016998_07_if164s_trr3_1_01","frt000169a2_07_if164l_trr3_1_01","frt000169a2_07_if164s_trr3_1_01","frt000169ab_07_if164l_trr3_1_01","frt000169ab_07_if164s_trr3_1_01","frt00016af1_07_if164l_trr3_1_01","frt00016af1_07_if164s_trr3_1_01","frt00016af8_07_if164l_trr3_1_01","frt00016af8_07_if164s_trr3_1_01","frt00016b60_07_if164l_trr3_1_01","frt00016b60_07_if164s_trr3_1_01","frt00016bd3_07_if164l_trr3_1_01","frt00016bd3_07_if164s_trr3_1_01","frt00016bda_07_if164l_trr3_1_01","frt00016bda_07_if164s_trr3_1_01","frt00016c45_07_if164l_trr3_1_01","frt00016c45_07_if164s_trr3_1_01","frt00016c4f_07_if164l_trr3_1_01","frt00016c4f_07_if164s_trr3_1_01","frt00016c54_07_if164l_trr3_1_01","frt00016c54_07_if164s_trr3_1_01","frt00016d30_07_if163l_trr3_1_01","frt00016d30_07_if163s_trr3_1_01","frt00016d3a_07_if164l_trr3_1_01","frt00016d3a_07_if164s_trr3_1_01","frt00016da8_07_if164l_trr3_1_01","frt00016da8_07_if164s_trr3_1_01","frt00016db1_07_if164l_trr3_1_01","frt00016db1_07_if164s_trr3_1_01","frt00016e1a_07_if165s_trr3_1_01","frt00016e2b_07_if164l_trr3_1_01","frt00016e2b_07_if164s_trr3_1_01","frt00016e7f_07_if164l_trr3_1_01","frt00016e7f_07_if164s_trr3_1_01","frt00016f32_07_if164l_trr3_1_01","frt00016f32_07_if164s_trr3_1_01","frt00016f91_07_if164l_trr3_1_01","frt00016f91_07_if164s_trr3_1_01","frt00016ff6_07_if163l_trr3_1_01","frt00016ff6_07_if163s_trr3_1_01","frt00017042_07_if164l_trr3_1_01","frt00017042_07_if164s_trr3_1_01","frt00017049_07_if163s_trr3_1_01","frt0001710e_07_if163l_trr3_1_01","frt0001710e_07_if163s_trr3_1_01","frt00017116_07_if164l_trr3_1_01","frt00017116_07_if164s_trr3_1_01","frt000171be_07_if164l_trr3_1_01","frt000171be_07_if164s_trr3_1_01","frt00017219_07_if164l_trr3_1_01","frt00017219_07_if164s_trr3_1_01","frt00017220_07_if164l_trr3_1_01","frt00017220_07_if164s_trr3_1_01","frt00017226_07_if164l_trr3_1_01","frt00017226_07_if164s_trr3_1_01","frt00017277_07_if164l_trr3_1_01","frt00017277_07_if164s_trr3_1_01","frt0001727c_07_if164l_trr3_1_01","frt0001727c_07_if164s_trr3_1_01","frt000172e1_07_if164l_trr3_1_01","frt000172e1_07_if164s_trr3_1_01","frt000172e9_07_if164l_trr3_1_01","frt000172e9_07_if164s_trr3_1_01","frt0001738d_07_if164l_trr3_1_01","frt0001738d_07_if164s_trr3_1_01","frt00017396_07_if164l_trr3_1_01","frt00017396_07_if164s_trr3_1_01","frt00017450_07_if164l_trr3_1_01","frt00017450_07_if164s_trr3_1_01","frt000174b3_07_if163l_trr3_1_01","frt000174b3_07_if163s_trr3_1_01","frt00017500_07_if164l_trr3_1_01","frt00017500_07_if164s_trr3_1_01","frt00017561_07_if163l_trr3_1_01","frt00017561_07_if163s_trr3_1_01","frt000175c0_07_if164l_trr3_1_01","frt000175c0_07_if164s_trr3_1_01","frt00017685_07_if164l_trr3_1_01","frt00017685_07_if164s_trr3_1_01","frt0001768d_07_if164l_trr3_1_01","frt0001768d_07_if164s_trr3_1_01","frt000177aa_07_if164l_trr3_1_01","frt000177aa_07_if164s_trr3_1_01","frt000177b2_07_if164l_trr3_1_01","frt000177b2_07_if164s_trr3_1_01","frt00017804_07_if164l_trr3_1_01","frt00017804_07_if164s_trr3_1_01","frt0001780c_07_if164l_trr3_1_01","frt0001780c_07_if164s_trr3_1_01","frt00017874_07_if164l_trr3_1_01","frt00017874_07_if164s_trr3_1_01","frt000179aa_07_if164l_trr3_1_01","frt000179aa_07_if164s_trr3_1_01","frt000179b1_07_if163l_trr3_1_01","frt000179b1_07_if163s_trr3_1_01","frt00017ac8_07_if164l_trr3_1_01","frt00017ac8_07_if164s_trr3_1_01","frt00017c50_07_if164l_trr3_1_01","frt00017c50_07_if164s_trr3_1_01","frt00017c84_07_if164l_trr3_1_01","frt00017c84_07_if164s_trr3_1_01","frt00017d4d_07_if164l_trr3_1_01","frt00017d4d_07_if164s_trr3_1_01","frt00017dc7_07_if164l_trr3_1_01","frt00017dc7_07_if164s_trr3_1_01","frt00018046_07_if164l_trr3_1_01","frt00018046_07_if164s_trr3_1_01","frt00018238_07_if164l_trr3_1_01","frt00018238_07_if164s_trr3_1_01","frt00018333_07_if164l_trr3_1_01","frt00018333_07_if164s_trr3_1_01","frt00018432_07_if164l_trr3_1_01","frt00018432_07_if164s_trr3_1_01","frt000184bb_07_if164l_trr3_1_01","frt000184bb_07_if164s_trr3_1_01","frt00018a0b_07_if164l_trr3_1_01","frt00018a0b_07_if164s_trr3_1_01","frt00019070_07_if164s_trr3_1_01","frt000190ad_07_if164l_trr3_1_01","frt000190ad_07_if164s_trr3_1_01","frt000195d7_07_if164l_trr3_1_01","frt000195d7_07_if164s_trr3_1_01","frt00019614_07_if164l_trr3_1_01","frt00019614_07_if164s_trr3_1_01","frt00019e5e_07_if124s_trr3_1_01","frt0001a0a3_07_if124s_trr3_1_01","frt0001a1b7_07_if124s_trr3_1_01","frt0001a21a_07_if124s_trr3_1_01","frt0001a27b_07_if123s_trr3_1_01","frt0001a2d9_07_if123s_trr3_1_01","frt0001a38b_07_if124s_trr3_1_01","frt0001b43a_07_if124s_trr3_1_01","frt0001b529_07_if124s_trr3_1_01","frt0001b618_07_if164l_trr3_1_01","frt0001b618_07_if164s_trr3_1_01","frt0001ba2d_07_if163l_trr3_1_01","frt0001ba2d_07_if163s_trr3_1_01","frt0001bb61_07_if164l_trr3_1_01","frt0001bb61_07_if164s_trr3_1_01","frt0001bf0d_07_if123s_trr3_1_01","frt0001caec_07_if123s_trr3_1_01","frt0001cb42_07_if124s_trr3_1_01","frt0001cb4a_07_if123s_trr3_1_01","frt0001cb8f_07_if124s_trr3_1_01","frt0001cb95_07_if123s_trr3_1_01","frt0001cbd5_07_if123s_trr3_1_01","frt0001cc3c_07_if123s_trr3_1_01","frt0001cc42_07_if124s_trr3_1_01","frt0001cc8d_07_if123s_trr3_1_01","frt0001cccf_07_if124s_trr3_1_01","frt0001ccd5_07_if123s_trr3_1_01","frt0001cd1f_07_if124s_trr3_1_01","frt0001cd26_07_if123s_trr3_1_01","frt0001cd77_07_if124s_trr3_1_01","frt0001d27e_07_if124s_trr3_1_01","frt0001e5b7_07_if123s_trr3_1_01","frt0001f7f4_07_if123s_trr3_1_01","frt000208bb_07_if123s_trr3_1_01","frt00020fe2_07_if123s_trr3_1_01","frt0002245f_07_if123s_trr3_1_01","frt000225ac_07_if123s_trr3_1_01","frt00024d94_07_if124s_trr3_1_01","frt00024e01_07_if124s_trr3_1_01","frt00024e60_07_if124s_trr3_1_01","frt00024f18_07_if124s_trr3_1_01","frt00024fbd_07_if124s_trr3_1_01","frt00024fca_07_if123s_trr3_1_01","frt0002519a_07_if164s_trr3_1_01","hrl00003ce6_07_if180l_trr3_1_01","hrl00003ce6_07_if180s_trr3_1_01","hrl000042d9_07_if181l_trr3_1_01","hrl000042d9_07_if181s_trr3_1_01","hrl000044d4_07_if181l_trr3_1_01","hrl000044d4_07_if181s_trr3_1_01","hrl00004550_07_if181l_trr3_1_01","hrl00004550_07_if181s_trr3_1_01","hrl00004f1f_07_if181l_trr3_1_01","hrl00004f1f_07_if181s_trr3_1_01","hrl000051ab_07_if181l_trr3_1_01","hrl000051ab_07_if181s_trr3_1_01","hrl000052de_07_if181l_trr3_1_01","hrl000052de_07_if181s_trr3_1_01","hrl00005657_07_if188l_trr3_1_01","hrl00005657_07_if188s_trr3_1_01","hrl000057f4_07_if181l_trr3_1_01","hrl000057f4_07_if181s_trr3_1_01","hrl000059e5_07_if181l_trr3_1_01","hrl000059e5_07_if181s_trr3_1_01","hrl00005c69_07_if180l_trr3_1_01","hrl00005c69_07_if180s_trr3_1_01","hrl00005d4a_07_if181l_trr3_1_01","hrl00005d4a_07_if181s_trr3_1_01","hrl00005dc8_07_if181l_trr3_1_01","hrl00005dc8_07_if181s_trr3_1_01","hrl000061d9_07_if181l_trr3_1_01","hrl00006381_07_if181l_trr3_1_01","hrl00006381_07_if181s_trr3_1_01","hrl00006466_07_if181l_trr3_1_01","hrl00006466_07_if181s_trr3_1_01","hrl000064ac_07_if181l_trr3_1_01","hrl000064ac_07_if181s_trr3_1_01","hrl000067e7_07_if181l_trr3_1_01","hrl000067e7_07_if181s_trr3_1_01","hrl00006862_07_if181l_trr3_1_01","hrl00006862_07_if181s_trr3_1_01","hrl00006890_07_if181l_trr3_1_01","hrl00006890_07_if181s_trr3_1_01","hrl00007733_07_if180l_trr3_1_01","hrl00007733_07_if180s_trr3_1_01","hrl00007734_07_if181l_trr3_1_01","hrl00007734_07_if181s_trr3_1_01","hrl0000777e_07_if181l_trr3_1_01","hrl0000777e_07_if181s_trr3_1_01","hrl0000782d_07_if181l_trr3_1_01","hrl0000782d_07_if181s_trr3_1_01","hrl00007881_07_if180l_trr3_1_01","hrl00007881_07_if180s_trr3_1_01","hrl00007982_07_if181l_trr3_1_01","hrl00007982_07_if181s_trr3_1_01","hrl000079dd_07_if181l_trr3_1_01","hrl000079dd_07_if181s_trr3_1_01","hrl00007a8e_07_if181l_trr3_1_01","hrl00007a8e_07_if181s_trr3_1_01","hrl00007d19_07_if181l_trr3_1_01","hrl00007d19_07_if181s_trr3_1_01","hrl00007f58_07_if181l_trr3_1_01","hrl00007f58_07_if181s_trr3_1_01","hrl00007fe1_07_if181l_trr3_1_01","hrl00007fe1_07_if181s_trr3_1_01","hrl00007fe5_07_if181l_trr3_1_01","hrl00007fe5_07_if181s_trr3_1_01","hrl0000814a_07_if181l_trr3_1_01","hrl0000814a_07_if181s_trr3_1_01","hrl000083e1_07_if181l_trr3_1_01","hrl000083e1_07_if181s_trr3_1_01","hrl000084dd_07_if181l_trr3_1_01","hrl000084dd_07_if181s_trr3_1_01","hrl0000853c_07_if181l_trr3_1_01","hrl0000853c_07_if181s_trr3_1_01","hrl0000877f_07_if181l_trr3_1_01","hrl0000877f_07_if181s_trr3_1_01","hrl00008881_07_if181l_trr3_1_01","hrl00008881_07_if181s_trr3_1_01","hrl000089e6_07_if181l_trr3_1_01","hrl000089e6_07_if181s_trr3_1_01","hrl00008a3f_07_if181l_trr3_1_01","hrl00008a3f_07_if181s_trr3_1_01","hrl00009165_07_if181l_trr3_1_01","hrl00009165_07_if181s_trr3_1_01","hrl0000a3db_07_if180l_trr3_1_01","hrl0000b543_07_if181l_trr3_1_01","hrl0000b543_07_if181s_trr3_1_01","hrl0000b63a_07_if181l_trr3_1_01","hrl0000b63a_07_if181s_trr3_1_01","hrl0000b9d9_07_if181l_trr3_1_01","hrl0000b9d9_07_if181s_trr3_1_01","hrl0000bf56_07_if181l_trr3_1_01","hrl0000bf56_07_if181s_trr3_1_01","hrl0000bfa9_07_if181l_trr3_1_01","hrl0000bfa9_07_if181s_trr3_1_01","hrl00012970_07_if191s_trr3_1_01","hrl00013e78_07_if181l_trr3_1_01","hrl00013e78_07_if181s_trr3_1_01","hrl00013f4d_07_if180l_trr3_1_01","hrl00013f4d_07_if180s_trr3_1_01","hrl00013f76_07_if180l_trr3_1_01","hrl00013f76_07_if180s_trr3_1_01","hrl00013fda_07_if181l_trr3_1_01","hrl00013fda_07_if181s_trr3_1_01","hrl0001401b_07_if181l_trr3_1_01","hrl0001401b_07_if181s_trr3_1_01","hrl000166c3_07_if181l_trr3_1_01","hrl000166c3_07_if181s_trr3_1_01","hrl0001716b_07_if181l_trr3_1_01","hrl0001716b_07_if181s_trr3_1_01","hrl00017fbc_07_if181l_trr3_1_01","hrl00017fbc_07_if181s_trr3_1_01","hrl00018130_07_if181l_trr3_1_01","hrl0001813b_07_if181l_trr3_1_01","hrl0001813b_07_if181s_trr3_1_01","hrl000181a8_07_if181l_trr3_1_01","hrl000181a8_07_if181s_trr3_1_01","hrl0001822f_07_if181l_trr3_1_01","hrl0001822f_07_if181s_trr3_1_01","hrl0001832b_07_if181l_trr3_1_01","hrl0001832b_07_if181s_trr3_1_01","hrl00018618_07_if181l_trr3_1_01","hrl00018618_07_if181s_trr3_1_01","hrl00018985_07_if181l_trr3_1_01","hrl00018985_07_if181s_trr3_1_01","hrl00018d2d_07_if181l_trr3_1_01","hrl00018d2d_07_if181s_trr3_1_01","hrl00018eea_07_if181l_trr3_1_01","hrl00018eea_07_if181s_trr3_1_01","hrl000195ad_07_if181s_trr3_1_01","hrl00019acc_07_if181l_trr3_1_01","hrl00019acc_07_if181s_trr3_1_01","hrl00019de4_07_if181s_trr3_1_01","hrl0001a327_07_if193s_trr3_1_01","hrl0001b66e_07_if181l_trr3_1_01","hrl0001b66e_07_if181s_trr3_1_01","hrl0001b91b_07_if181s_trr3_1_01","hrl0001b96e_07_if181l_trr3_1_01","hrl0001b96e_07_if181s_trr3_1_01","hrl0001ba2e_07_if181l_trr3_1_01","hrl0001ba2e_07_if181s_trr3_1_01","hrl0001bb51_07_if181l_trr3_1_01","hrl0001bb51_07_if181s_trr3_1_01","hrl0001cbdc_07_if193s_trr3_1_01","hrl0001ea0a_07_if191s_trr3_1_01","hrl0001f0df_07_if191s_trr3_1_01","hrl0001f338_07_if191s_trr3_1_01","hrs00004006_07_if172l_trr3_1_01","hrs00004006_07_if172s_trr3_1_01","hrs000043bc_07_if172l_trr3_1_01","hrs000043bc_07_if172s_trr3_1_01","hrs000048eb_07_if172l_trr3_1_01","hrs000048eb_07_if172s_trr3_1_01","hrs000085f1_07_if172l_trr3_1_01","hrs000085f1_07_if172s_trr3_1_01","hrs00009096_07_if172l_trr3_1_01","hrs00009096_07_if172s_trr3_1_01","hrs000090a5_07_if172l_trr3_1_01","hrs000090a5_07_if172s_trr3_1_01","hrs000090a6_07_if173l_trr3_1_01","hrs000090a6_07_if173s_trr3_1_01","hrs0000926a_07_if172l_trr3_1_01","hrs0000926a_07_if172s_trr3_1_01","hrs0000926b_07_if173l_trr3_1_01","hrs0000926b_07_if173s_trr3_1_01","hrs00009278_07_if172l_trr3_1_01","hrs00009278_07_if172s_trr3_1_01","hrs0000b66e_07_if173l_trr3_1_01","hrs0000b66e_07_if173s_trr3_1_01","hrs0000b6a7_07_if173l_trr3_1_01","hrs0000b6a7_07_if173s_trr3_1_01","hrs0000ba95_07_if173l_trr3_1_01","hrs0000ba95_07_if173s_trr3_1_01","hrs0000bd7b_07_if173l_trr3_1_01","hrs0000bd7b_07_if173s_trr3_1_01","hrs0001259a_07_if172l_trr3_1_01","hrs0001259a_07_if172s_trr3_1_01","hrs00013f4a_07_if172l_trr3_1_01","hrs00013f4a_07_if172s_trr3_1_01","hrs000173f3_07_if173l_trr3_1_01","hrs000173f3_07_if173s_trr3_1_01","hrs000197f5_07_if173l_trr3_1_01","hrs000197f5_07_if173s_trr3_1_01","hrs0001a105_07_if144s_trr3_1_01","hrs0001b82c_07_if173l_trr3_1_01","hrs0001b82c_07_if173s_trr3_1_01","hrs0001bc26_07_if172l_trr3_1_01","hrs0001bc26_07_if172s_trr3_1_01","mask","FRT0000C51807S","FRT0000C51807L","FRT0000B6F107S","FRT0000B6F107L","galehrscdtm","gangeshrscdtm","t0667_mrrif_20s043_0256_3","frt00003bfb_07_if166l_trr3_1_01","frt00003bfb_07_if166s_trr3_1_01","frt00004eca_07_if166l_trr3_1_01","frt00004eca_07_if166s_trr3_1_01","frt0000633c_07_if166l_trr3_1_01","frt000063c2_07_if166l_trr3_1_01","frt000063c2_07_if166s_trr3_1_01","frt00007e68_07_if166l_trr3_1_01","frt00007e68_07_if166s_trr3_1_01","frt000082ff_07_if166l_trr3_1_01","frt0000848d_07_if166l_trr3_1_01","frt0000848d_07_if166s_trr3_1_01","frt0000863e_07_if166l_trr3_1_01","frt00008838_07_if166l_trr3_1_01","frt00008838_07_if166s_trr3_1_01","frt000089f7_07_if166s_trr3_1_01","frt00008cbc_07_if166l_trr3_1_01","frt00008cbc_07_if166s_trr3_1_01","frt00008f1a_07_if166l_trr3_1_01","frt00008f1a_07_if166s_trr3_1_01","frt000090af_07_if166l_trr3_1_01","frt000090af_07_if166s_trr3_1_01","frt00009326_07_if167l_trr3_1_01","frt00009326_07_if167s_trr3_1_01","frt00009436_07_if166l_trr3_1_01","frt00009436_07_if166s_trr3_1_01","frt000094f6_07_if166l_trr3_1_01","frt000094f6_07_if166s_trr3_1_01","frt000096da_07_if166l_trr3_1_01","frt000096da_07_if166s_trr3_1_01","frt000098f7_07_if166l_trr3_1_01","frt000098f7_07_if166s_trr3_1_01","frt00009a98_07_if166l_trr3_1_01","frt00009a98_07_if166s_trr3_1_01","frt00009b5e_07_if166l_trr3_1_01","frt00009b5e_07_if166s_trr3_1_01","frt00009bd8_07_if166l_trr3_1_01","frt00009bd8_07_if166s_trr3_1_01","frt00009c77_07_if166l_trr3_1_01","frt00009c77_07_if166s_trr3_1_01","frt00009cae_07_if166l_trr3_1_01","frt00009cae_07_if166s_trr3_1_01","frt00009e35_07_if166l_trr3_1_01","frt00009e35_07_if166s_trr3_1_01","frt0000a0b3_07_if166s_trr3_1_01","frt0000a0ec_07_if166l_trr3_1_01","frt0000a0ec_07_if166s_trr3_1_01","frt0000a12a_07_if166l_trr3_1_01","frt0000a12a_07_if166s_trr3_1_01","frt0000a166_07_if166l_trr3_1_01","frt0000a166_07_if166s_trr3_1_01","frt0000a23b_07_if166l_trr3_1_01","frt0000a23b_07_if166s_trr3_1_01","frt0000a27c_07_if166l_trr3_1_01","frt0000a27c_07_if166s_trr3_1_01","frt0000a2c2_07_if166l_trr3_1_01","frt0000a2c2_07_if166s_trr3_1_01","frt0000a425_07_if166l_trr3_1_01","frt0000a425_07_if166s_trr3_1_01","frt0000a5aa_07_if166l_trr3_1_01","frt0000a5aa_07_if166s_trr3_1_01","frt0000a600_07_if167l_trr3_1_01","frt0000a600_07_if167s_trr3_1_01","frt0000a89f_07_if166l_trr3_1_01","frt0000a89f_07_if166s_trr3_1_01","frt0000a955_07_if167l_trr3_1_01","frt0000a955_07_if167s_trr3_1_01","frt0000aa47_07_if166l_trr3_1_01","frt0000aa47_07_if166s_trr3_1_01","frt0000aa7d_07_if166l_trr3_1_01","frt0000aa7d_07_if166s_trr3_1_01","frt0000aaa8_07_if166l_trr3_1_01","frt0000aaa8_07_if166s_trr3_1_01","frt0000ab94_07_if167l_trr3_1_01","frt0000ab94_07_if167s_trr3_1_01","frt0000ac83_07_if166l_trr3_1_01","frt0000ac83_07_if166s_trr3_1_01","frt0000ad33_07_if166l_trr3_1_01","frt0000ad33_07_if166s_trr3_1_01","frt0000ad81_07_if167l_trr3_1_01","frt0000ad81_07_if167s_trr3_1_01","frt0000b141_07_if167l_trr3_1_01","frt0000b141_07_if167s_trr3_1_01","frt0000b190_07_if166l_trr3_1_01","frt0000b190_07_if166s_trr3_1_01","frt0000b23c_07_if166l_trr3_1_01","frt0000b23c_07_if166s_trr3_1_01","frt0000b273_07_if168l_trr3_1_01","frt0000b273_07_if168s_trr3_1_01","frt0000b2a2_07_if166l_trr3_1_01","frt0000b2a2_07_if166s_trr3_1_01","frt0000b3b6_07_if166l_trr3_1_01","frt0000b3b6_07_if166s_trr3_1_01","frt0000b506_07_if156l_trr3_1_01","frt0000b506_07_if166s_trr3_1_01","frt0000b60c_07_if166l_trr3_1_01","frt0000b60c_07_if166s_trr3_1_01","frt0000b643_07_if166l_trr3_1_01","frt0000b643_07_if166s_trr3_1_01","frt0000b675_07_if166l_trr3_1_01","frt0000b675_07_if166s_trr3_1_01","frt0000b772_07_if166l_trr3_1_01","frt0000b772_07_if166s_trr3_1_01","frt0000b7ca_07_if166l_trr3_1_01","frt0000b7ca_07_if166s_trr3_1_01","frt0000b822_07_if166l_trr3_1_01","frt0000b822_07_if166s_trr3_1_01","frt0000b98a_07_if166l_trr3_1_01","frt0000b98a_07_if166s_trr3_1_01","frt0000b9e6_07_if167l_trr3_1_01","frt0000b9e6_07_if167s_trr3_1_01","frt0000bb21_07_if166l_trr3_1_01","frt0000bb21_07_if166s_trr3_1_01","frt0000bb59_07_if166l_trr3_1_01","frt0000bb59_07_if166s_trr3_1_01","frt0000bb9c_07_if166l_trr3_1_01","frt0000bb9c_07_if166s_trr3_1_01","frt0000bcf4_07_if166l_trr3_1_01","frt0000bcf4_07_if166s_trr3_1_01","frt0000be5e_07_if166l_trr3_1_01","frt0000be5e_07_if166s_trr3_1_01","frt0000bf27_07_if166l_trr3_1_01","frt0000bf27_07_if166s_trr3_1_01","frt0000bf57_07_if166l_trr3_1_01","frt0000bf57_07_if166s_trr3_1_01","frt0000c008_07_if166l_trr3_1_01","frt0000c008_07_if166s_trr3_1_01","frt0000c066_07_if166l_trr3_1_01","frt0000c066_07_if166s_trr3_1_01","frt0000c18e_07_if166l_trr3_1_01","frt0000c18e_07_if166s_trr3_1_01","frt0000c42e_07_if166l_trr3_1_01","frt0000c42e_07_if166s_trr3_1_01","frt0000c467_07_if166l_trr3_1_01","frt0000c467_07_if166s_trr3_1_01","frt0000c596_07_if166l_trr3_1_01","frt0000c596_07_if166s_trr3_1_01","frt0000c674_07_if166l_trr3_1_01","frt0000c674_07_if166s_trr3_1_01","frt0000c6af_07_if166l_trr3_1_01","frt0000c6af_07_if166s_trr3_1_01","frt0000c872_07_if166l_trr3_1_01","frt0000c872_07_if166s_trr3_1_01","frt0000c9dc_07_if166l_trr3_1_01","frt0000c9dc_07_if166s_trr3_1_01","frt0000ca4c_07_if166l_trr3_1_01","frt0000ca4c_07_if166s_trr3_1_01","frt0000cb48_07_if166l_trr3_1_01","frt0000cb48_07_if166s_trr3_1_01","frt0000cfed_07_if166l_trr3_1_01","frt0000cfed_07_if166s_trr3_1_01","frt0000d02f_07_if166l_trr3_1_01","frt0000d02f_07_if166s_trr3_1_01","frt0000d4ec_07_if166l_trr3_1_01","frt0000d4ec_07_if166s_trr3_1_01","frt00010424_07_if166s_trr3_1_01","frt000109e0_07_if166l_trr3_1_01","frt000109e0_07_if166s_trr3_1_01","frt00011243_07_if166l_trr3_1_01","frt00011243_07_if166s_trr3_1_01","frt000117bb_07_if168l_trr3_1_01","frt000117bb_07_if168s_trr3_1_01","frt000119dc_07_if166l_trr3_1_01","frt000119dc_07_if166s_trr3_1_01","frt00011aea_07_if166l_trr3_1_01","frt00011aea_07_if166s_trr3_1_01","frt00011e65_07_if166s_trr3_1_01","frt000129cf_07_if166l_trr3_1_01","frt000129cf_07_if166s_trr3_1_01","frt00012b5f_07_if166l_trr3_1_01","frt00012b5f_07_if166s_trr3_1_01","frt00012d3c_07_if167l_trr3_1_01","frt00012d3c_07_if167s_trr3_1_01","frt00012e72_07_if166l_trr3_1_01","frt00012e72_07_if166s_trr3_1_01","frt00013698_07_if126s_trr3_1_01","frt000137a9_07_if166l_trr3_1_01","frt000137a9_07_if166s_trr3_1_01","frt000139f7_07_if166l_trr3_1_01","frt000139f7_07_if166s_trr3_1_01","frt00013e49_07_if166l_trr3_1_01","frt00013e49_07_if166s_trr3_1_01","frt00013f53_07_if166l_trr3_1_01","frt00013f53_07_if166s_trr3_1_01","frt0001406f_07_if166l_trr3_1_01","frt0001406f_07_if166s_trr3_1_01","frt0001454d_07_if168l_trr3_1_01","frt0001454d_07_if168s_trr3_1_01","frt0001638b_07_if166l_trr3_1_01","frt0001638b_07_if166s_trr3_1_01","frt0001654f_07_if166l_trr3_1_01","frt0001654f_07_if166s_trr3_1_01","frt00016931_07_if166l_trr3_1_01","frt00016931_07_if166s_trr3_1_01","frt000169ac_07_if166l_trr3_1_01","frt000169ac_07_if166s_trr3_1_01","frt00016e2d_07_if166l_trr3_1_01","frt00016e2d_07_if166s_trr3_1_01","frt00016f9f_07_if166l_trr3_1_01","frt00016f9f_07_if166s_trr3_1_01","frt00016ffe_07_if166l_trr3_1_01","frt00016ffe_07_if166s_trr3_1_01","frt00017229_07_if166l_trr3_1_01","frt00017229_07_if166s_trr3_1_01","frt0001739f_07_if166l_trr3_1_01","frt0001739f_07_if166s_trr3_1_01","frt000173f4_07_if166l_trr3_1_01","frt000173f4_07_if166s_trr3_1_01","frt00017452_07_if166l_trr3_1_01","frt00017452_07_if166s_trr3_1_01","frt00017639_07_if166l_trr3_1_01","frt00017639_07_if166s_trr3_1_01","frt00017816_07_if166l_trr3_1_01","frt00017816_07_if166s_trr3_1_01","frt00017dda_07_if166l_trr3_1_01","frt00017dda_07_if166s_trr3_1_01","frt00017e53_07_if166l_trr3_1_01","frt00017e53_07_if166s_trr3_1_01","frt00017ed4_07_if166l_trr3_1_01","frt00017ed4_07_if166s_trr3_1_01","frt00018146_07_if166l_trr3_1_01","frt00018146_07_if166s_trr3_1_01","frt000183c4_07_if166s_trr3_1_01","frt000185cf_07_if166l_trr3_1_01","frt000185cf_07_if166s_trr3_1_01","frt00018627_07_if166l_trr3_1_01","frt00018627_07_if166s_trr3_1_01","frt00018d37_07_if166l_trr3_1_01","frt00018d37_07_if166s_trr3_1_01","frt00018e14_07_if166l_trr3_1_01","frt00018e14_07_if166s_trr3_1_01","frt00018e76_07_if166l_trr3_1_01","frt00018e76_07_if166s_trr3_1_01","frt0001903b_07_if166l_trr3_1_01","frt0001903b_07_if166s_trr3_1_01","frt00019759_07_if166l_trr3_1_01","frt00019759_07_if166s_trr3_1_01","frt00019aa0_07_if166l_trr3_1_01","frt00019aa0_07_if166s_trr3_1_01","frt00019f4e_07_if167l_trr3_1_01","frt00019f4e_07_if167s_trr3_1_01","frt0001b595_07_if127s_trr3_1_01","frt0001baaa_07_if166s_trr3_1_01","frt0001bc7f_07_if166l_trr3_1_01","frt0001bc7f_07_if166s_trr3_1_01","frt0001bcd7_07_if126s_trr3_1_01","frt0001c4a4_07_if166l_trr3_1_01","frt0001c4a4_07_if166s_trr3_1_01","frt0001c9ea_07_if166s_trr3_1_01","frt0001cb53_07_if126s_trr3_1_01","frt0001cd2b_07_if126s_trr3_1_01","frt0000633c_07_if166s_trr3_1_01","frt000082ff_07_if166s_trr3_1_01","h6398_0000_da4","h0010_0009_da4","h0016_0008_da4","h0018_0000_da4","h0022_0000_da4","h0024_0000_da4","h0032_0000_da4","h0037_0000_da4","h0038_0000_da4","h0047_0000_da4","h0049_0000_da4","h0061_0008_da4","h0068_0000_da4","h0068_0009_da4","h0071_0000_da4","h0072_0000_da4","h0097_0000_da4","h0100_0000_da4","h0100_0009_da4","h0103_0009_da4","h0143_0009_da4","h0155_0000_da4","h0155_0001_da4","h0165_0000_da4","h0165_0068_da4","h0228_0000_da4","h0232_0000_da4","h0241_0000_da4","h0243_0000_da4","h0248_0000_da4","h0259_0000_da4","h0262_0000_da4","h0263_0000_da4","h0266_0000_da4","h0275_0000_da4","h0277_0000_da4","h0279_0000_da4","h0280_0001_da4","h0283_0000_da4","h0286_0000_da4","h0292_0000_da4","h0293_0000_da4","h0299_0001_da4","h0300_0000_da4","h0329_0000_da4","h0330_0000_da4","h0332_0001_da4","h0334_0001_da4","h0335_0000_da4","h0337_0000_da4","h0344_0000_da4","h0347_0000_da4","h0353_0001_da4","h0357_0000_da4","h0360_0000_da4","h0365_0000_da4","h0368_0000_da4","h0376_0000_da4","h0380_0000_da4","h0380_0001_da4","h0383_0000_da4","h0389_0000_da4","h0394_0000_da4","h0394_0009_da4","h0397_0000_da4","h0401_0000_da4","h0401_0001_da4","h0411_0000_da4","h0416_0000_da4","h0420_0000_da4","h0420_0001_da4","h0424_0000_da4","h0427_0000_da4","h0430_0000_da4","h0431_0000_da4","h0438_0000_da4","h0442_0000_da4","h0442_0008_da4","h0445_0000_da4","h0449_0009_da4","h0451_0000_da4","h0453_0000_da4","h0460_0000_da4","h0462_0000_da4","h0466_0000_da4","h0469_0000_da4","h0471_0000_da4","h0471_0001_da4","h0478_0000_da4","h0479_0000_da4","h0482_0000_da4","h0486_0000_da4","h0489_0000_da4","h0493_0000_da4","h0494_0000_da4","h0497_0000_da4","h0500_0000_da4","h0506_0000_da4","h0508_0000_da4","h0510_0000_da4","h0511_0000_da4","h0515_0000_da4","h0521_0000_da4","h0526_0000_da4","h0528_0000_da4","h0530_0000_da4","h0532_0000_da4","h0533_0000_da4","h0538_0000_da4","h0544_0000_da4","h0550_0000_da4","h0554_0000_da4","h0558_0000_da4","h0561_0000_da4","h0563_0000_da4","h0567_0000_da4","h0568_0000_da4","h0572_0000_da4","h0887_0000_da4","h0890_0000_da4","h0894_0000_da4","h0901_0000_da4","h0905_0000_da4","h0912_0000_da4","h0917_0000_da4","h0920_0000_da4","h0922_0000_da4","h0923_0000_da4","h0927_0000_da4","h0931_0000_da4","h0933_0000_da4","h0934_0000_da4","h0938_0000_da4","h0939_0000_da4","h0944_0009_da4","h0945_0000_da4","h0946_0000_da4","h0951_0000_da4","h0962_0000_da4","h0967_0000_da4","h0982_0000_da4","h0988_0000_da4","h0994_0000_da4","h0997_0000_da4","h0997_0001_da4","h1000_0000_da4","h1004_0000_da4","h1004_0001_da4","h1008_0000_da4","h1009_0009_da4","h1011_0000_da4","h1015_0000_da4","h1022_0000_da4","h1023_0000_da4","h1026_0000_da4","h1037_0000_da4","h1041_0001_da4","h1045_0000_da4","h1048_0000_da4","h1052_0001_da4","h1054_0000_da4","h1055_0000_da4","h1059_0000_da4","h1066_0000_da4","h1070_0000_da4","h1070_0001_da4","h1076_0000_da4","h1081_0000_da4","h1084_0009_da4","h1085_0001_da4","h1087_0000_da4","h1087_0001_da4","h1089_0000_da4","h1104_0000_da4","h1143_0000_da4","h1147_0000_da4","h1152_0000_da4","h1154_0000_da4","h1154_0001_da4","h1158_0000_da4","h1167_0000_da4","h1167_0001_da4","h1168_0000_da4","h1169_0000_da4","h1169_0001_da4","h1176_0000_da4","h1180_0000_da4","h1183_0000_da4","h1187_0001_da4","h1191_0000_da4","h1193_0000_da4","h1193_0001_da4","h1194_0000_da4","h1196_0000_da4","h1201_0000_da4","h1201_0001_da4","h1202_0000_da4","h1205_0000_da4","h1206_0000_da4","h1210_0000_da4","h1216_0000_da4","h1217_0000_da4","h1219_0000_da4","h1224_0000_da4","h1229_0000_da4","h1232_0000_da4","h1235_0000_da4","h1235_0001_da4","h1238_0000_da4","h1240_0000_da4","h1241_0000_da4","h1245_0000_da4","h1249_0000_da4","h1251_0000_da4","h1257_0000_da4","h1258_0000_da4","h1258_0001_da4","h1260_0000_da4","h1262_0000_da4","h1264_0000_da4","h1266_0001_da4","h1272_0000_da4","h1275_0000_da4","h1275_0001_da4","h1276_0000_da4","h1284_0000_da4","h1287_0000_da4","h1287_0001_da4","h1289_0000_da4","h1291_0000_da4","h1293_0000_da4","h1295_0000_da4","h1301_0000_da4","h1305_0000_da4","h1309_0000_da4","h1312_0000_da4","h1313_0000_da4","h1316_0000_da4","h1317_0000_da4","h1319_0000_da4","h1326_0000_da4","h1337_0000_da4","h1337_0009_da4","h1339_0000_da4","h1343_0000_da4","h1343_0001_da4","h1347_0000_da4","h1351_0001_da4","h1354_0000_da4","h1360_0000_da4","h1361_0000_da4","h1372_0000_da4","h1387_0000_da4","h1391_0000_da4","h1394_0000_da4","h1395_0000_da4","h1398_0000_da4","h1402_0009_da4","h1405_0000_da4","h1408_0000_da4","h1410_0009_da4","h1412_0001_da4","h1416_0000_da4","h1420_0000_da4","h1422_0000_da4","h1423_0001_da4","h1425_0000_da4","h1428_0000_da4","h1429_0000_da4","h1433_0009_da4","h1436_0000_da4","h1437_0000_da4","h1445_0000_da4","h1446_0000_da4","h1450_0000_da4","h1451_0000_da4","h1455_0000_da4","h1461_0000_da4","h1462_0000_da4","h1465_0009_da4","h1466_0000_da4","h1468_0001_da4","h1476_0000_da4","h1483_0000_da4","h1485_0000_da4","h1489_0001_da4","h1491_0009_da4","h1495_0000_da4","h1498_0000_da4","h1503_0000_da4","h1518_0001_da4","h1523_0000_da4","h1526_0000_da4","h1528_0000_da4","h1540_0009_da4","h1542_0009_da4","h1545_0000_da4","h1550_0000_da4","h1564_0008_da4","h1568_0000_da4","h1571_0000_da4","h1578_0000_da4","h1582_0000_da4","h1586_0000_da4","h1590_0000_da4","h1591_0000_da4","h1594_0000_da4","h1595_0000_da4","h1596_0001_da4","h1600_0001_da4","h1604_0000_da4","h1606_0000_da4","h1607_0009_da4","h1608_0000_da4","h1616_0000_da4","h1618_0000_da4","h1619_0000_da4","h1622_0000_da4","h1626_0000_da4","h1628_0000_da4","h1629_0000_da4","h1640_0000_da4","h1644_0000_da4","h1879_0000_da4","h1884_0000_da4","h1885_0000_da4","h1887_0000_da4","h1887_0009_da4","h1889_0000_da4","h1892_0000_da4","h1897_0000_da4","h1899_0000_da4","h1900_0000_da4","h1903_0000_da4","h1907_0000_da4","h1908_0000_da4","h1909_0000_da4","h1910_0000_da4","h1910_0009_da4","h1914_0000_da4","h1916_0000_da4","h1917_0000_da4","h1918_0000_da4","h1920_0000_da4","h1921_0000_da4","h1924_0000_da4","h1925_0000_da4","h1927_0000_da4","h1928_0000_da4","h1929_0000_da4","h1932_0000_da4","h1932_0001_da4","h1933_0000_da4","h1933_0001_da4","h1934_0000_da4","h1935_0000_da4","h1936_0000_da4","h1937_0000_da4","h1938_0000_da4","h1943_0000_da4","h1944_0000_da4","h1945_0000_da4","h1946_0009_da4","h1947_0000_da4","h1947_0001_da4","h1949_0000_da4","h1950_0000_da4","h1953_0000_da4","h1954_0000_da4","h1955_0000_da4","h1957_0000_da4","h1958_0000_da4","h1960_0000_da4","h1961_0000_da4","h1962_0000_da4","h1963_0000_da4","h1964_0000_da4","h1965_0000_da4","h1967_0000_da4","h1968_0000_da4","h1969_0000_da4","h1971_0000_da4","h1972_0000_da4","h1973_0000_da4","h1974_0000_da4","h1975_0000_da4","h1976_0000_da4","h1977_0000_da4","h1978_0000_da4","h1980_0000_da4","h1981_0000_da4","h1982_0000_da4","h1984_0000_da4","h1984_0009_da4","h1985_0000_da4","h1986_0000_da4","h1987_0000_da4","h1988_0000_da4","h1989_0000_da4","h1990_0000_da4","h1991_0000_da4","h1993_0000_da4","h1994_0000_da4","h1995_0000_da4","h1996_0000_da4","h1997_0000_da4","h1998_0000_da4","h1999_0000_da4","h2000_0000_da4","h2001_0000_da4","h2002_0000_da4","h2002_0001_da4","h2004_0000_da4","h2005_0000_da4","h2006_0000_da4","h2007_0000_da4","h2009_0000_da4","h2011_0001_da4","h2012_0000_da4","h2013_0000_da4","h2013_0001_da4","h2018_0000_da4","h2021_0000_da4","h2021_0001_da4","h2024_0000_da4","h2024_0001_da4","h2027_0000_da4","h2028_0000_da4","h2032_0000_da4","h2033_0000_da4","h2035_0000_da4","h2037_0000_da4","h2039_0000_da4","h2041_0000_da4","h2044_0000_da4","h2044_0001_da4","h2046_0000_da4","h2052_0000_da4","h2055_0000_da4","h2055_0001_da4","h2056_0000_da4","h2057_0001_da4","h2059_0000_da4","h2062_0000_da4","h2063_0000_da4","h2064_0000_da4","h2066_0000_da4","h2066_0001_da4","h2070_0000_da4","h2073_0000_da4","h2074_0000_da4","h2075_0000_da4","h2081_0000_da4","h2082_0000_da4","h2083_0000_da4","h2086_0000_da4","h2087_0000_da4","h2090_0000_da4","h2096_0000_da4","h2096_0001_da4","h2097_0000_da4","h2101_0000_da4","h2103_0000_da4","h2107_0000_da4","h2107_0001_da4","h2108_0000_da4","h2109_0000_da4","h2110_0000_da4","h2112_0000_da4","h2116_0000_da4","h2117_0000_da4","h2120_0000_da4","h2121_0000_da4","h2123_0000_da4","h2124_0000_da4","h2128_0000_da4","h2131_0000_da4","h2134_0000_da4","h2135_0000_da4","h2138_0000_da4","h2143_0000_da4","h2144_0000_da4","h2145_0000_da4","h2148_0000_da4","h2148_0009_da4","h2149_0000_da4","h2153_0001_da4","h2154_0000_da4","h2158_0000_da4","h2158_0001_da4","h2159_0001_da4","h2160_0000_da4","h2162_0000_da4","h2162_0002_da4","h2163_0000_da4","h2165_0000_da4","h2165_0001_da4","h2167_0000_da4","h2167_0001_da4","h2169_0000_da4","h2169_0001_da4","h2176_0000_da4","h2179_0000_da4","h2181_0000_da4","h2181_0001_da4","h2181_0002_da4","h2183_0000_da4","h2183_0001_da4","h2185_0000_da4","h2188_0000_da4","h2189_0000_da4","h2191_0009_da4","h2192_0009_da4","h2195_0000_da4","h2195_0001_da4","h2196_0000_da4","h2196_0001_da4","h2197_0000_da4","h2197_0001_da4","h2198_0000_da4","h2201_0000_da4","h2205_0001_da4","h2206_0000_da4","h2206_0001_da4","h2206_0002_da4","h2209_0000_da4","h2210_0000_da4","h2211_0000_da4","h2213_0000_da4","h2213_0001_da4","h2215_0000_da4","h2216_0000_da4","h2216_0001_da4","h2217_0000_da4","h2220_0000_da4","h2222_0000_da4","h2224_0000_da4","h2224_0001_da4","h2225_0000_da4","h2226_0000_da4","h2228_0001_da4","h2228_0002_da4","h2229_0000_da4","h2229_0001_da4","h2233_0009_da4","h2233_0010_da4","h2234_0000_da4","h2238_0000_da4","h2238_0001_da4","h2240_0000_da4","h2242_0000_da4","h2244_0000_da4","h2247_0000_da4","h2248_0000_da4","h2249_0000_da4","h2254_0000_da4","h2257_0001_da4","h2258_0000_da4","h2271_0009_da4","h2272_0000_da4","h2272_0001_da4","h2274_0000_da4","h2276_0000_da4","h2277_0000_da4","h2279_0000_da4","h2279_0001_da4","h2280_0000_da4","h2281_0000_da4","h2283_0000_da4","h2286_0000_da4","h2286_0009_da4","h2286_0010_da4","h2287_0000_da4","h2287_0001_da4","h2288_0000_da4","h2290_0000_da4","h2293_0000_da4","h2296_0000_da4","h2297_0000_da4","h2300_0000_da4","h2312_0000_da4","h2315_0000_da4","h2318_0008_da4","h2319_0008_da4","h2322_0000_da4","h2324_0001_da4","h2330_0001_da4","h2341_0001_da4","h2345_0000_da4","h2350_0002_da4","h2353_0000_da4","h2356_0002_da4","h2357_0000_da4","h2357_0009_da4","h2359_0000_da4","h2360_0000_da4","h2364_0000_da4","h2366_0000_da4","h2370_0000_da4","h2372_0000_da4","h2372_0001_da4","h2379_0001_da4","h2380_0000_da4","h2382_0000_da4","h2383_0000_da4","h2386_0000_da4","h2386_0001_da4","h2387_0000_da4","h2388_0000_da4","h2389_0000_da4","h2390_0000_da4","h2392_0000_da4","h2399_0000_da4","h2400_0001_da4","h2402_0001_da4","h2403_0001_da4","h2407_0000_da4","h2407_0001_da4","h2410_0000_da4","h2411_0000_da4","h2412_0000_da4","h2414_0000_da4","h2415_0000_da4","h2416_0000_da4","h2419_0000_da4","h2419_0009_da4","h2421_0000_da4","h2424_0000_da4","h2425_0000_da4","h2430_0001_da4","h2431_0000_da4","h2432_0001_da4","h2433_0000_da4","h2434_0009_da4","h2434_0010_da4","h2436_0000_da4","h2438_0000_da4","h2439_0000_da4","h2441_0000_da4","h2445_0000_da4","h2447_0000_da4","h2448_0000_da4","h2449_0000_da4","h2451_0000_da4","h2451_0001_da4","h2453_0000_da4","h2454_0000_da4","h2454_0001_da4","h2457_0000_da4","h2459_0000_da4","h2459_0009_da4","h2460_0001_da4","h2461_0000_da4","h2465_0000_da4","h2466_0000_da4","h2467_0000_da4","h2468_0000_da4","h2469_0001_da4","h2473_0000_da4","h2475_0000_da4","h2476_0000_da4","h2477_0000_da4","h2478_0001_da4","h2479_0010_da4","h2480_0000_da4","h2482_0000_da4","h2484_0000_da4","h2486_0000_da4","h2486_0001_da4","h2487_0009_da4","h2489_0000_da4","h2493_0000_da4","h2493_0001_da4","h2494_0000_da4","h2496_0000_da4","h2501_0000_da4","h2503_0000_da4","h2507_0000_da4","h2508_0000_da4","h2510_0000_da4","h2510_0001_da4","h2511_0000_da4","h2513_0000_da4","h2514_0001_da4","h2515_0000_da4","h2517_0000_da4","h2521_0000_da4","h2524_0000_da4","h2525_0000_da4","h2526_0000_da4","h2526_0001_da4","h2527_0000_da4","h2528_0000_da4","h2529_0000_da4","h2530_0000_da4","h2530_0001_da4","h2534_0000_da4","h2538_0000_da4","h2539_0000_da4","h2540_0000_da4","h2541_0000_da4","h2543_0000_da4","h2544_0000_da4","h2550_0000_da4","h2573_0000_da4","h2574_0000_da4","h2575_0000_da4","h2577_0000_da4","h2579_0000_da4","h2582_0000_da4","h2583_0000_da4","h2584_0000_da4","h2586_0000_da4","h2586_0001_da4","h2587_0001_da4","h2590_0001_da4","h2594_0001_da4","h2595_0001_da4","h2596_0001_da4","h2598_0000_da4","h2598_0001_da4","h2600_0000_da4","h2604_0000_da4","h2607_0000_da4","h2609_0000_da4","h2612_0000_da4","h2613_0000_da4","h2616_0000_da4","h2619_0000_da4","h2620_0000_da4","h2625_0000_da4","h2626_0001_da4","h2627_0001_da4","h2628_0001_da4","h2630_0001_da4","h2631_0001_da4","h2632_0000_da4","h2634_0000_da4","h2638_0000_da4","h2639_0000_da4","h2640_0000_da4","h2643_0009_da4","h2645_0000_da4","h2648_0000_da4","h2650_0000_da4","h2652_0000_da4","h2660_0001_da4","h2662_0001_da4","h2664_0001_da4","h2665_0001_da4","h2667_0000_da4","h2669_0000_da4","h2671_0000_da4","h2677_0000_da4","h2681_0000_da4","h2684_0000_da4","h2687_0000_da4","h2688_0000_da4","h2689_0001_da4","h2692_0001_da4","h2694_0001_da4","h2728_0000_da4","h2729_0000_da4","h2736_0000_da4","h2864_0000_da4","h2872_0000_da4","h2878_0000_da4","h2880_0000_da4","h2882_0000_da4","h2908_0000_da4","h2913_0000_da4","h2922_0000_da4","h2926_0000_da4","h2938_0000_da4","h2939_0000_da4","h2940_0000_da4","h2941_0000_da4","h2942_0000_da4","h2948_0000_da4","h2950_0000_da4","h2956_0000_da4","h2957_0000_da4","h2963_0000_da4","h2964_0000_da4","h2965_0000_da4","h2969_0000_da4","h2970_0000_da4","h2973_0000_da4","h2976_0000_da4","h2979_0000_da4","h2980_0000_da4","h2985_0000_da4","h2989_0000_da4","h2991_0000_da4","h2996_0000_da4","h2998_0000_da4","h3000_0000_da4","h3003_0000_da4","h3023_0000_da4","h3024_0000_da4","h3025_0000_da4","h3030_0000_da4","h3032_0000_da4","h3035_0000_da4","h3036_0000_da4","h3037_0000_da4","h3038_0000_da4","h3041_0000_da4","h3047_0000_da4","h3047_0001_da4","h3048_0000_da4","h3052_0000_da4","h3056_0000_da4","h3058_0000_da4","h3059_0000_da4","h3065_0000_da4","h3068_0000_da4","h3069_0000_da4","h3075_0000_da4","h3076_0000_da4","h3079_0000_da4","h3081_0000_da4","h3086_0000_da4","h3096_0000_da4","h3108_0000_da4","h3114_0000_da4","h3122_0000_da4","h3124_0000_da4","h3128_0000_da4","h3132_0000_da4","h3135_0000_da4","h3140_0000_da4","h3147_0000_da4","h3147_0001_da4","h3149_0000_da4","h3151_0000_da4","h3153_0000_da4","h3155_0000_da4","h3156_0000_da4","h3156_0001_da4","h3158_0000_da4","h3160_0000_da4","h3183_0000_da4","h3183_0001_da4","h3185_0000_da4","h3193_0000_da4","h3194_0000_da4","h3195_0000_da4","h3198_0000_da4","h3198_0001_da4","h3202_0000_da4","h3207_0000_da4","h3210_0000_da4","h3211_0000_da4","h3211_0001_da4","h3217_0000_da4","h3217_0001_da4","h3220_0000_da4","h3220_0001_da4","h3222_0000_da4","h3231_0000_da4","h3231_0001_da4","h3235_0000_da4","h3235_0001_da4","h3244_0000_da4","h3246_0000_da4","h3249_0000_da4","h3249_0001_da4","h3253_0000_da4","h3253_0002_da4","h3261_0000_da4","h3264_0000_da4","h3272_0000_da4","h3275_0000_da4","h3283_0000_da4","h3285_0000_da4","h3286_0000_da4","h3289_0000_da4","h3293_0000_da4","h3294_0000_da4","h3297_0000_da4","h3304_0000_da4","h3308_0000_da4","h3316_0001_da4","h3319_0000_da4","h3322_0000_da4","h3333_0000_da4","h3340_0000_da4","h3635_0000_da4","h3636_0000_da4","h3639_0000_da4","h3643_0000_da4","h3645_0000_da4","h3646_0000_da4","h3654_0000_da4","h3663_0000_da4","h3706_0000_da4","h3737_0000_da4","h4076_0000_da4","h4079_0000_da4","h4080_0000_da4","h4087_0000_da4","h4090_0000_da4","h4092_0000_da4","h4094_0000_da4","h4097_0000_da4","h4100_0000_da4","h4101_0000_da4","h4105_0000_da4","h4111_0000_da4","h4114_0000_da4","h4117_0000_da4","h4118_0000_da4","h4122_0000_da4","h4123_0000_da4","h4125_0000_da4","h4127_0000_da4","h4131_0000_da4","h4132_0000_da4","h4133_0000_da4","h4134_0000_da4","h4135_0000_da4","h4142_0000_da4","h4146_0000_da4","h4150_0000_da4","h4153_0000_da4","h4154_0000_da4","h4157_0000_da4","h4160_0000_da4","h4161_0000_da4","h4162_0000_da4","h4162_0001_da4","h4164_0000_da4","h4165_0000_da4","h4167_0000_da4","h4171_0000_da4","h4172_0000_da4","h4174_0000_da4","h4175_0000_da4","h4175_0001_da4","h4178_0000_da4","h4180_0000_da4","h4182_0000_da4","h4187_0000_da4","h4189_0000_da4","h4190_0000_da4","h4191_0000_da4","h4195_0001_da4","h4199_0000_da4","h4201_0000_da4","h4202_0000_da4","h4204_0000_da4","h4207_0000_da4","h4208_0000_da4","h4209_0000_da4","h4209_0001_da4","h4215_0000_da4","h4223_0000_da4","h4226_0000_da4","h4230_0000_da4","h4231_0000_da4","h4231_0001_da4","h4232_0000_da4","h4234_0000_da4","h4235_0000_da4","h4235_0001_da4","h4238_0000_da4","h4241_0000_da4","h4242_0000_da4","h4245_0000_da4","h4248_0000_da4","h4249_0000_da4","h4257_0000_da4","h4260_0000_da4","h4261_0000_da4","h4264_0001_da4","h4266_0000_da4","h4267_0000_da4","h4272_0000_da4","h4279_0000_da4","h4286_0000_da4","h4289_0000_da4","h4290_0000_da4","h4292_0001_da4","h4293_0000_da4","h4294_0000_da4","h4295_0000_da4","h4297_0000_da4","h4303_0000_da4","h4304_0000_da4","h4306_0000_da4","h4308_0000_da4","h4310_0000_da4","h4311_0000_da4","h4314_0000_da4","h4315_0000_da4","h4325_0000_da4","h4326_0000_da4","h4328_0000_da4","h4330_0000_da4","h4332_0009_da4","h4336_0000_da4","h4340_0009_da4","h4340_0010_da4","h4346_0000_da4","h4347_0000_da4","h4350_0000_da4","h4351_0001_da4","h4355_0000_da4","h4357_0000_da4","h4358_0000_da4","h4359_0000_da4","h4361_0000_da4","h4364_0001_da4","h4365_0001_da4","h4367_0000_da4","h4369_0000_da4","h4369_0001_da4","h4370_0000_da4","h4372_0000_da4","h4376_0000_da4","h4378_0000_da4","h4380_0000_da4","h4384_0000_da4","h4387_0000_da4","h4391_0000_da4","h4394_0000_da4","h4401_0000_da4","h4413_0000_da4","h4418_0001_da4","h4420_0000_da4","h4424_0000_da4","h4427_0000_da4","h4429_0000_da4","h4438_0000_da4","h4442_0000_da4","h4445_0000_da4","h4456_0001_da4","h4469_0001_da4","h4477_0001_da4","h4526_0000_da4","h4547_0000_da4","h4559_0000_da4","h4574_0000_da4","h4596_0000_da4","h4625_0000_da4","h4629_0000_da4","h4632_0000_da4","h4650_0000_da4","h4654_0000_da4","h4660_0000_da4","h4661_0000_da4","h4685_0000_da4","h4691_0000_da4","h4693_0000_da4","h4694_0000_da4","h4696_0000_da4","h4705_0000_da4","h4706_0000_da4","h4709_0000_da4","h4972_0001_da4","h5045_0000_da4","h5063_0000_da4","h5063_0001_da4","h5072_0000_da4","h5075_0000_da4","h5081_0000_da4","h5081_0002_da4","h5083_0000_da4","h5085_0000_da4","h5091_0000_da4","h5093_0000_da4","h5094_0000_da4","h5096_0000_da4","h5097_0000_da4","h5100_0000_da4","h5105_0000_da4","h5109_0000_da4","h5112_0000_da4","h5114_0000_da4","h5115_0000_da4","h5117_0000_da4","h5118_0000_da4","h5122_0000_da4","h5124_0009_da4","h5125_0000_da4","h5128_0000_da4","h5129_0000_da4","h5130_0000_da4","h5132_0000_da4","h5134_0000_da4","h5135_0000_da4","h5136_0000_da4","h5139_0000_da4","h5140_0000_da4","h5141_0000_da4","h5142_0000_da4","h5143_0000_da4","h5144_0000_da4","h5145_0000_da4","h5146_0009_da4","h5148_0000_da4","h5149_0000_da4","h5150_0000_da4","h5150_0001_da4","h5151_0000_da4","h5153_0000_da4","h5154_0000_da4","h5155_0000_da4","h5156_0000_da4","h5157_0000_da4","h5158_0000_da4","h5159_0000_da4","h5159_0001_da4","h5160_0000_da4","h5161_0000_da4","h5162_0000_da4","h5163_0009_da4","h5165_0000_da4","h5166_0000_da4","h5167_0000_da4","h5168_0000_da4","h5169_0000_da4","h5170_0000_da4","h5172_0000_da4","h5173_0000_da4","h5176_0000_da4","h5177_0000_da4","h5178_0000_da4","h5179_0000_da4","h5180_0000_da4","h5181_0000_da4","h5183_0000_da4","h5184_0000_da4","h5190_0001_da4","h5191_0000_da4","h5192_0000_da4","h5195_0000_da4","h5195_0001_da4","h5196_0000_da4","h5199_0000_da4","h5201_0000_da4","h5202_0000_da4","h5203_0000_da4","h5203_0001_da4","h5204_0000_da4","h5205_0000_da4","h5206_0000_da4","h5207_0000_da4","h5208_0000_da4","h5208_0001_da4","h5209_0000_da4","h5210_0000_da4","h5212_0000_da4","h5213_0000_da4","h5216_0000_da4","h5217_0000_da4","h5221_0000_da4","h5223_0000_da4","h5226_0000_da4","h5227_0000_da4","h5228_0000_da4","h5230_0000_da4","h5231_0000_da4","h5234_0000_da4","h5235_0000_da4","h5236_0000_da4","h5239_0010_da4","h5241_0000_da4","h5242_0000_da4","h5243_0000_da4","h5244_0000_da4","h5245_0000_da4","h5246_0000_da4","h5247_0000_da4","h5248_0000_da4","h5249_0000_da4","h5252_0000_da4","h5253_0000_da4","h5260_0000_da4","h5263_0000_da4","h5263_0001_da4","h5267_0000_da4","h5270_0000_da4","h5271_0000_da4","h5273_0000_da4","h5275_0000_da4","h5275_0001_da4","h5278_0000_da4","h5281_0000_da4","h5281_0001_da4","h5282_0000_da4","h5285_0000_da4","h5286_0000_da4","h5287_0000_da4","h5288_0000_da4","h5289_0000_da4","h5293_0000_da4","h5293_0001_da4","h5295_0001_da4","h5296_0000_da4","h5299_0000_da4","h5300_0000_da4","h5301_0000_da4","h5302_0000_da4","h5303_0000_da4","h5304_0000_da4","h5306_0000_da4","h5309_0000_da4","h5310_0000_da4","h5311_0000_da4","h5314_0000_da4","h5317_0000_da4","h5319_0009_da4","h5321_0000_da4","h5322_0000_da4","h5324_0000_da4","h5325_0000_da4","h5325_0001_da4","h5327_0000_da4","h5328_0000_da4","h5329_0000_da4","h5335_0000_da4","h5336_0000_da4","h5339_0000_da4","h5340_0000_da4","h5341_0000_da4","h5342_0000_da4","h5344_0000_da4","h5345_0000_da4","h5350_0000_da4","h5353_0000_da4","h5357_0000_da4","h5358_0000_da4","h5360_0000_da4","h5361_0000_da4","h5362_0009_da4","h5363_0000_da4","h5364_0000_da4","h5365_0000_da4","h5367_0000_da4","h5368_0000_da4","h5371_0000_da4","h5376_0000_da4","h5378_0000_da4","h5379_0000_da4","h5380_0000_da4","h5383_0000_da4","h5386_0000_da4","h5397_0000_da4","h5400_0000_da4","h5401_0000_da4","h5406_0001_da4","h5407_0000_da4","h5408_0000_da4","h5418_0000_da4","h5425_0009_da4","h5432_0000_da4","h5436_0000_da4","h5437_0000_da4","h5446_0000_da4","h5478_0000_da4","h5485_0000_da4","h5498_0000_da4","h5502_0000_da4","h5508_0000_da4","h5521_0000_da4","h5525_0000_da4","h5529_0000_da4","h5559_0000_da4","h5566_0000_da4","h5573_0000_da4","h5601_0000_da4","h5605_0000_da4","h5611_0000_da4","h5618_0000_da4","h5626_0000_da4","h5675_0000_da4","h5700_0000_da4","h5715_0000_da4","h5794_0000_da4","h5796_0000_da4","h5827_0000_da4","h6224_0000_da4","h6241_0000_da4","h6242_0000_da4","h6250_0000_da4","h6251_0000_da4","h6382_0000_da4","h6384_0000_da4","h6387_0000_da4","h6392_0000_da4","h6393_0000_da4","h6395_0000_da4","h6397_0000_da4","frt0000289e_07_if165l_trr3_1_01","frt0000289e_07_if165s_trr3_1_01","frt000028ba_07_if165l_trr3_1_01","frt000028ba_07_if165s_trr3_1_01","frt00003584_07_if166s_trr3_1_01","frt000037ae_07_if166l_trr3_1_01","frt000037ae_07_if166s_trr3_1_01","frt00003e12_07_if166l_trr3_1_01","frt00003e12_07_if166s_trr3_1_01","frt00003fb9_07_if166s_trr3_1_01","frt0000454e_07_if165l_trr3_1_01","frt0000454e_07_if165s_trr3_1_01","frt000047a3_07_if166l_trr3_1_01","frt000047a3_07_if166s_trr3_1_01","frt000048b2_07_if165l_trr3_1_01","frt000048b2_07_if165s_trr3_1_01","frt00004f75_07_if166s_trr3_1_01","frt0000527d_07_if166l_trr3_1_01","frt0000527d_07_if166s_trr3_1_01","frt00005443_07_if166l_trr3_1_01","frt00005850_07_if167l_trr3_1_01","frt00005850_07_if167s_trr3_1_01","frt00005a3e_07_if165l_trr3_1_01","frt00005a3e_07_if165s_trr3_1_01","frt00005c5e_07_if166l_trr3_1_01","frt00005dbd_07_if166l_trr3_1_01","frt00005dbd_07_if166s_trr3_1_01","frt000064d9_07_if166l_trr3_1_01","frt000064d9_07_if166s_trr3_1_01","frt00006789_07_if165l_trr3_1_01","frt000067e1_07_if166l_trr3_1_01","frt000067e1_07_if166s_trr3_1_01","frt0000688b_07_if166l_trr3_1_01","frt0000688b_07_if166s_trr3_1_01","frt000069ca_07_if167l_trr3_1_01","frt0000722c_07_if165l_trr3_1_01","frt0000722c_07_if165s_trr3_1_01","frt00007bc8_07_if166l_trr3_1_01","frt00007bc8_07_if166s_trr3_1_01","frt00007d61_07_if166l_trr3_1_01","frt0000805f_07_if166l_trr3_1_01","frt0000805f_07_if166s_trr3_1_01","frt0000821f_07_if166l_trr3_1_01","frt0000821f_07_if166s_trr3_1_01","frt00008389_07_if166l_trr3_1_01","frt00008530_07_if166l_trr3_1_01","frt00008530_07_if166s_trr3_1_01","frt0000857f_07_if166l_trr3_1_01","frt0000857f_07_if166s_trr3_1_01","frt0000871c_07_if166l_trr3_1_01","frt0000871c_07_if166s_trr3_1_01","frt000088d0_07_if166l_trr3_1_01","frt000088d0_07_if166s_trr3_1_01","frt00008f68_07_if165l_trr3_1_01","frt00008fc1_07_if166s_trr3_1_01","frt000091b2_07_if165l_trr3_1_01","frt000091b2_07_if165s_trr3_1_01","frt000093be_07_if166l_trr3_1_01","frt000095fe_07_if166l_trr3_1_01","frt000095fe_07_if166s_trr3_1_01","frt00009786_07_if165l_trr3_1_01","frt00009786_07_if165s_trr3_1_01","frt000097e2_07_if166l_trr3_1_01","frt00009971_07_if166l_trr3_1_01","frt00009971_07_if166s_trr3_1_01","frt000099bb_07_if166l_trr3_1_01","frt000099bb_07_if166s_trr3_1_01","frt00009c31_07_if166s_trr3_1_01","frt00009c6a_07_if166l_trr3_1_01","frt00009c6a_07_if166s_trr3_1_01","frt00009d44_07_if165l_trr3_1_01","frt00009d44_07_if165s_trr3_1_01","frt00009d96_07_if166l_trr3_1_01","frt00009d96_07_if166s_trr3_1_01","frt0000a053_07_if166l_trr3_1_01","frt0000a053_07_if166s_trr3_1_01","frt0000a09c_07_if166s_trr3_1_01","frt0000a194_07_if166l_trr3_1_01","frt0000a194_07_if166s_trr3_1_01","frt0000a4b5_07_if167l_trr3_1_01","frt0000a4b5_07_if167s_trr3_1_01","frt0000a4fc_07_if166l_trr3_1_01","frt0000a4fc_07_if166s_trr3_1_01","frt0000a63f_07_if166s_trr3_1_01","frt0000a8c6_07_if165l_trr3_1_01","frt0000a8c6_07_if165s_trr3_1_01","frt0000a9be_07_if165l_trr3_1_01","frt0000a9be_07_if165s_trr3_1_01","frt0000aa03_07_if166s_trr3_1_01","frt0000aace_07_if166l_trr3_1_01","frt0000aace_07_if166s_trr3_1_01","frt0000abcb_07_if166l_trr3_1_01","frt0000ae09_07_if165l_trr3_1_01","frt0000ae09_07_if165s_trr3_1_01","frt0000b012_07_if166l_trr3_1_01","frt0000b012_07_if166s_trr3_1_01","frt0000b072_07_if166s_trr3_1_01","frt0000b1b5_07_if165l_trr3_1_01","frt0000b1b5_07_if165s_trr3_1_01","frt0000b2c7_07_if166l_trr3_1_01","frt0000b2c7_07_if166s_trr3_1_01","frt0000b2f8_07_if165l_trr3_1_01","frt0000b438_07_if166l_trr3_1_01","frt0000b438_07_if166s_trr3_1_01","frt0000b537_07_if165l_trr3_1_01","frt0000b537_07_if165s_trr3_1_01","frt0000b573_07_if166s_trr3_1_01","frt0000bbcb_07_if166l_trr3_1_01","frt0000bbcb_07_if166s_trr3_1_01","frt0000bc1c_07_if166l_trr3_1_01","frt0000bda8_07_if165l_trr3_1_01","frt0000bda8_07_if165s_trr3_1_01","frt0000bec0_07_if165l_trr3_1_01","frt0000bec0_07_if165s_trr3_1_01","frt0000beeb_07_if166l_trr3_1_01","frt0000bfd1_07_if166l_trr3_1_01","frt0000bfd1_07_if166s_trr3_1_01","frt0000c202_07_if165l_trr3_1_01","frt0000c202_07_if165s_trr3_1_01","frt0000c256_07_if165s_trr3_1_01","frt0000c379_07_if166l_trr3_1_01","frt0000c379_07_if166s_trr3_1_01","frt0000c5ea_07_if166s_trr3_1_01","frt0000c62b_07_if166l_trr3_1_01","frt0000c62b_07_if166s_trr3_1_01","frt0000c79d_07_if166l_trr3_1_01","frt0000c968_07_if166l_trr3_1_01","frt0000c968_07_if166s_trr3_1_01","frt0000cbe5_07_if166l_trr3_1_01","frt0000cbe5_07_if166s_trr3_1_01","frt0000cd4d_07_if166l_trr3_1_01","frt0000cf6e_07_if166l_trr3_1_01","frt0000cf6e_07_if166s_trr3_1_01","frt0000d452_07_if166l_trr3_1_01","frt0000d452_07_if166s_trr3_1_01","frt0000d6d6_07_if166l_trr3_1_01","frt0001021b_07_if165l_trr3_1_01","frt0001021b_07_if165s_trr3_1_01","frt00010666_07_if166s_trr3_1_01","frt000107a7_07_if166l_trr3_1_01","frt00010e79_07_if165l_trr3_1_01","frt00010e79_07_if165s_trr3_1_01","frt0001112b_07_if166l_trr3_1_01","frt0001112b_07_if166s_trr3_1_01","frt00011188_07_if166l_trr3_1_01","frt00011188_07_if166s_trr3_1_01","frt0001182a_07_if165l_trr3_1_01","frt0001195a_07_if166l_trr3_1_01","frt00011d4c_07_if166l_trr3_1_01","frt00011d4c_07_if166s_trr3_1_01","frt00011de1_07_if166l_trr3_1_01","frt00011de1_07_if166s_trr3_1_01","frt00012149_07_if166s_trr3_1_01","frt00012291_07_if165l_trr3_1_01","frt00012291_07_if165s_trr3_1_01","frt00012722_07_if166s_trr3_1_01","frt000128d0_07_if165s_trr3_1_01","frt0001324d_07_if126s_trr3_1_01","frt00013b4c_07_if126s_trr3_1_01","frt00013d3b_07_if165l_trr3_1_01","frt00013d3b_07_if165s_trr3_1_01","frt00013ebc_07_if166l_trr3_1_01","frt00013ebc_07_if166s_trr3_1_01","frt00014836_07_if165l_trr3_1_01","frt0001487a_07_if166l_trr3_1_01","frt0001487a_07_if166s_trr3_1_01","frt000161ef_07_if167l_trr3_1_01","frt000161ef_07_if167s_trr3_1_01","frt000163d1_07_if167s_trr3_1_01","frt0001642e_07_if166s_trr3_1_01","frt000165f7_07_if166l_trr3_1_01","frt000165f7_07_if166s_trr3_1_01","frt00016655_07_if166l_trr3_1_01","frt00016a73_07_if166l_trr3_1_01","frt00016a73_07_if166s_trr3_1_01","frt00016ed6_07_if165l_trr3_1_01","frt00016ed6_07_if165s_trr3_1_01","frt00016f2c_07_if166s_trr3_1_01","frt0001709c_07_if166l_trr3_1_01","frt0001709c_07_if166s_trr3_1_01","frt00017103_07_if165l_trr3_1_01","frt00017103_07_if165s_trr3_1_01","frt000172dd_07_if166s_trr3_1_01","frt000174f4_07_if166l_trr3_1_01","frt000174f4_07_if166s_trr3_1_01","frt00017736_07_if166l_trr3_1_01","frt0001792c_07_if166l_trr3_1_01","frt0001792c_07_if166s_trr3_1_01","frt00017aba_07_if165l_trr3_1_01","frt00017b1b_07_if166l_trr3_1_01","frt00017b1b_07_if166s_trr3_1_01","frt00017d42_07_if166l_trr3_1_01","frt00017d42_07_if166s_trr3_1_01","frt000181a0_07_if166l_trr3_1_01","frt000181a0_07_if166s_trr3_1_01","frt0001821c_07_if166l_trr3_1_01","frt0001821c_07_if166s_trr3_1_01","frt0001849f_07_if166l_trr3_1_01","frt0001849f_07_if166s_trr3_1_01","frt00018524_07_if166s_trr3_1_01","frt000186fa_07_if166l_trr3_1_01","frt000186fa_07_if166s_trr3_1_01","frt00018781_07_if165l_trr3_1_01","frt00018781_07_if165s_trr3_1_01","frt00018dca_07_if166s_trr3_1_01","frt00019538_07_if166l_trr3_1_01","frt00019538_07_if166s_trr3_1_01","frt000199c7_07_if166l_trr3_1_01","frt000199c7_07_if166s_trr3_1_01","frt00019daa_07_if165l_trr3_1_01","frt00019daa_07_if165s_trr3_1_01","frt0001a023_07_if125s_trr3_1_01","frt0001a3ce_07_if126s_trr3_1_01","frt0001b615_07_if166l_trr3_1_01","frt00004f75_07_if166l_trr3_1_01","frt00005443_07_if166s_trr3_1_01","frt00005c5e_07_if166s_trr3_1_01","frt00006789_07_if165s_trr3_1_01","frt000069ca_07_if167s_trr3_1_01","frt00007d61_07_if166s_trr3_1_01","frt00008389_07_if166s_trr3_1_01","frt00008f68_07_if165s_trr3_1_01","frt00008fc1_07_if166l_trr3_1_01","frt000093be_07_if166s_trr3_1_01","frt000097e2_07_if166s_trr3_1_01","frt00009c31_07_if166l_trr3_1_01","frt0000a09c_07_if166l_trr3_1_01","frt0000a63f_07_if166l_trr3_1_01","frt0000aa03_07_if166l_trr3_1_01","frt0000abcb_07_if166s_trr3_1_01","frt0000b072_07_if166l_trr3_1_01","frt0000b2f8_07_if165s_trr3_1_01","frt0000b573_07_if166l_trr3_1_01","frt0000bc1c_07_if166s_trr3_1_01","frt0000beeb_07_if166s_trr3_1_01","frt0000c256_07_if165l_trr3_1_01","frt0000c5ea_07_if166l_trr3_1_01","frt0000c79d_07_if166s_trr3_1_01","frt0000cd4d_07_if166s_trr3_1_01","frt0000d6d6_07_if166s_trr3_1_01","frt000107a7_07_if166s_trr3_1_01","frt0001182a_07_if165s_trr3_1_01","frt0001195a_07_if166s_trr3_1_01","frt00012149_07_if166l_trr3_1_01","frt000128d0_07_if165l_trr3_1_01","frt00014836_07_if165s_trr3_1_01","frt0001642e_07_if166l_trr3_1_01","frt00016655_07_if166s_trr3_1_01","frt00016f2c_07_if166l_trr3_1_01","frt000172dd_07_if166l_trr3_1_01","frt00017736_07_if166s_trr3_1_01","frt00017aba_07_if165s_trr3_1_01","frt00018524_07_if166l_trr3_1_01","frt00018dca_07_if166l_trr3_1_01","frt0001b47d_07_if126s_trr3_1_01","frt0001b8e3_07_if166s_trr3_1_01","frt0001bd16_07_if126s_trr3_1_01","frt0001c50b_07_if165l_trr3_1_01","frt0001c50b_07_if165s_trr3_1_01","frt0001c558_07_if165l_trr3_1_01","frt0001c558_07_if165s_trr3_1_01","frt0001c63a_07_if166l_trr3_1_01","frt0001c63a_07_if166s_trr3_1_01","frt0001ca56_07_if166s_trr3_1_01","frt0001cbd0_07_if125s_trr3_1_01","frt0001d256_07_if125s_trr3_1_01","frt0001d2a7_07_if126s_trr3_1_01","frt0001dbad_07_if126s_trr3_1_01","frt0001e0f5_07_if126s_trr3_1_01","frt0001e4f0_07_if127s_trr3_1_01","frt0001e7b7_07_if126s_trr3_1_01","frt0001e95b_07_if126s_trr3_1_01","frt0001eae0_07_if166s_trr3_1_01","frt0001ecba_07_if166l_trr3_1_01","frt0001ecba_07_if166s_trr3_1_01","frt0001f083_07_if126s_trr3_1_01","frt0001f0d2_07_if127s_trr3_1_01","frt0001f7ea_07_if126s_trr3_1_01","frt0001f83e_07_if126s_trr3_1_01","frt0001fb37_07_if126s_trr3_1_01","frt0001fb74_07_if166l_trr3_1_01","frt0001fb74_07_if166s_trr3_1_01","frt0001fd76_07_if166l_trr3_1_01","frt0001fd76_07_if166s_trr3_1_01","frt0001fd9e_07_if165s_trr3_1_01","frt000201c2_07_if126s_trr3_1_01","frt000203de_07_if165l_trr3_1_01","frt000203de_07_if165s_trr3_1_01","frt00020c77_07_if166l_trr3_1_01","frt00020c77_07_if166s_trr3_1_01","frt00020f6c_07_if125s_trr3_1_01","frt00021523_07_if125s_trr3_1_01","frt000215d0_07_if126s_trr3_1_01","frt00021912_07_if126s_trr3_1_01","frt00021a63_07_if125s_trr3_1_01","frt00021b1d_07_if126s_trr3_1_01","frt00021c5a_07_if166l_trr3_1_01","frt00021c5a_07_if166s_trr3_1_01","frt00021da6_07_if166l_trr3_1_01","frt00021da6_07_if166s_trr3_1_01","frt00021f08_07_if165l_trr3_1_01","frt00021f08_07_if165s_trr3_1_01","frt00021f40_07_if166s_trr3_1_01","frt00022212_07_if126s_trr3_1_01","frt00022788_07_if126s_trr3_1_01","frt00022ad3_07_if126s_trr3_1_01","frt00022f39_07_if126s_trr3_1_01","frt00023203_07_if126s_trr3_1_01","frt00023370_07_if166s_trr3_1_01","frt00023565_07_if166l_trr3_1_01","frt00023565_07_if166s_trr3_1_01","frt00023728_07_if166l_trr3_1_01","frt00023728_07_if166s_trr3_1_01","frt0002394f_07_if126s_trr3_1_01","frt00023b3a_07_if126s_trr3_1_01","frt00023bad_07_if126s_trr3_1_01","frt00023e20_07_if126s_trr3_1_01","frt00024657_07_if166l_trr3_1_01","frt00024657_07_if166s_trr3_1_01","frt000246cf_07_if166l_trr3_1_01","frt000246cf_07_if166s_trr3_1_01","frt00024a87_07_if165l_trr3_1_01","frt00024a87_07_if165s_trr3_1_01","frt00024c1a_07_if165l_trr3_1_01","frt00024c1a_07_if165s_trr3_1_01","frt00024fb9_07_if126s_trr3_1_01","frt000251c0_07_if165l_trr3_1_01","frt000251c0_07_if165s_trr3_1_01","hrl000040ff_07_if183l_trr3_1_01","hrl000040ff_07_if183s_trr3_1_01","hrl00006408_07_if183l_trr3_1_01","hrl00006408_07_if183s_trr3_1_01","hrl000068c3_07_if183l_trr3_1_01","hrl000068c3_07_if183s_trr3_1_01","hrl000086ca_07_if182l_trr3_1_01","hrl000086ca_07_if182s_trr3_1_01","hrl000095a2_07_if183l_trr3_1_01","hrl000095a2_07_if183s_trr3_1_01","hrl00009abe_07_if183l_trr3_1_01","hrl00009abe_07_if183s_trr3_1_01","hrl00009ea3_07_if182s_trr3_1_01","hrl0000a8ec_07_if183l_trr3_1_01","hrl0000a8ec_07_if183s_trr3_1_01","hrl0000ab0a_07_if183l_trr3_1_01","hrl0000ab0a_07_if183s_trr3_1_01","hrl0000ac07_07_if183l_trr3_1_01","hrl0000ac07_07_if183s_trr3_1_01","hrl0000b404_07_if183l_trr3_1_01","hrl0000b404_07_if183s_trr3_1_01","hrl0000b6ff_07_if183l_trr3_1_01","hrl0000b6ff_07_if183s_trr3_1_01","hrl0000b868_07_if182l_trr3_1_01","hrl0000b868_07_if182s_trr3_1_01","hrl0000b8c2_07_if183l_trr3_1_01","hrl0000b8c2_07_if183s_trr3_1_01","hrl0000bdda_07_if183l_trr3_1_01","hrl0000bdda_07_if183s_trr3_1_01","hrl0000c0ba_07_if183l_trr3_1_01","hrl0000c0ba_07_if183s_trr3_1_01","hrl0000c4d8_07_if183l_trr3_1_01","hrl0000c4d8_07_if183s_trr3_1_01","hrl0000c712_07_if182l_trr3_1_01","hrl0000c712_07_if182s_trr3_1_01","hrl0000cbac_07_if183l_trr3_1_01","hrl0000cbac_07_if183s_trr3_1_01","hrl0000cc16_07_if184l_trr3_1_01","hrl0000cc16_07_if184s_trr3_1_01","hrl0000d08f_07_if183l_trr3_1_01","hrl0000d08f_07_if183s_trr3_1_01","hrl0000d0c7_07_if183l_trr3_1_01","hrl0000d0c7_07_if183s_trr3_1_01","hrl0000d1a9_07_if182l_trr3_1_01","hrl0000d1a9_07_if182s_trr3_1_01","hrl00010963_07_if183l_trr3_1_01","hrl00010963_07_if183s_trr3_1_01","hrl00010d72_07_if183l_trr3_1_01","hrl00010d72_07_if183s_trr3_1_01","hrl00010eea_07_if183l_trr3_1_01","hrl00010eea_07_if183s_trr3_1_01","hrl00011336_07_if183l_trr3_1_01","hrl00011336_07_if183s_trr3_1_01","hrl000116c6_07_if183l_trr3_1_01","hrl000116c6_07_if183s_trr3_1_01","hrl00011a72_07_if183l_trr3_1_01","hrl00011a72_07_if183s_trr3_1_01","hrl00013d8b_07_if183l_trr3_1_01","hrl00013d8b_07_if183s_trr3_1_01","hrl00013fd3_07_if183l_trr3_1_01","hrl00013fd3_07_if183s_trr3_1_01","hrl000141d5_07_if183l_trr3_1_01","hrl000141d5_07_if183s_trr3_1_01","hrl000178cf_07_if183l_trr3_1_01","hrl000178cf_07_if183s_trr3_1_01","hrl00017fa7_07_if183l_trr3_1_01","hrl00017fa7_07_if183s_trr3_1_01","hrl00018d6d_07_if182l_trr3_1_01","hrl00018d6d_07_if182s_trr3_1_01","hrl00019989_07_if182s_trr3_1_01","hrl00019b04_07_if183l_trr3_1_01","hrl00019b04_07_if183s_trr3_1_01","hrl0001b769_07_if183l_trr3_1_01","hrl0001b769_07_if183s_trr3_1_01","hrl0001c7c0_07_if183l_trr3_1_01","hrl0001c7c0_07_if183s_trr3_1_01","hrl0001d93d_07_if182l_trr3_1_01","hrl0001d93d_07_if182s_trr3_1_01","hrl0001d976_07_if183l_trr3_1_01","hrl0001d976_07_if183s_trr3_1_01","hrl0001e20d_07_if183l_trr3_1_01","hrl0001e20d_07_if183s_trr3_1_01","hrl0001e5ec_07_if195s_trr3_1_01","hrl0001f26f_07_if195s_trr3_1_01","hrl0001f43a_07_if195s_trr3_1_01","hrl0001fc92_07_if182l_trr3_1_01","hrl0001fc92_07_if182s_trr3_1_01","hrl00020ba3_07_if183l_trr3_1_01","hrl00020ba3_07_if183s_trr3_1_01","hrl00021113_07_if195s_trr3_1_01","hrl00022c8d_07_if195s_trr3_1_01","hrl00024023_07_if183l_trr3_1_01","hrl00024023_07_if183s_trr3_1_01","hrl0002422e_07_if182l_trr3_1_01","hrl0002422e_07_if182s_trr3_1_01","hrl000243c0_07_if183s_trr3_1_01","hrl00024bb2_07_if183l_trr3_1_01","hrl00024bb2_07_if183s_trr3_1_01","hrs00002ee7_07_if174l_trr3_1_01","hrs00002ee7_07_if174s_trr3_1_01","hrs00002fc5_07_if175l_trr3_1_01","hrs00002fc5_07_if175s_trr3_1_01","hrs00008d9a_07_if174l_trr3_1_01","hrs00008d9a_07_if174s_trr3_1_01","hrs0000b6a2_07_if176l_trr3_1_01","hrs0000b6a2_07_if176s_trr3_1_01","hrs0000c90e_07_if175l_trr3_1_01","hrs0000c90e_07_if175s_trr3_1_01","hrs00011a2f_07_if175l_trr3_1_01","hrs00011a2f_07_if175s_trr3_1_01","hrs00011c01_07_if175l_trr3_1_01","hrs00011c01_07_if175s_trr3_1_01","hrs00012aa7_07_if175l_trr3_1_01","hrs00012aa7_07_if175s_trr3_1_01","hrs00018c35_07_if175l_trr3_1_01","hrs00018c35_07_if175s_trr3_1_01","hrs000197ec_07_if175l_trr3_1_01","hrs000197ec_07_if175s_trr3_1_01","hrs00019832_07_if175s_trr3_1_01","hrs0001cf52_07_if144s_trr3_1_01","hrs0001e23e_07_if175l_trr3_1_01","hrs0001e23e_07_if175s_trr3_1_01","hrs0001eba1_07_if174l_trr3_1_01","hrs0001eba1_07_if174s_trr3_1_01","hrs00024571_07_if175l_trr3_1_01","hrs00024571_07_if175s_trr3_1_01","frt00003584_07_if166l_trr3_1_01","frt00003fb9_07_if166l_trr3_1_01","frt000089f7_07_if166l_trr3_1_01","frt0001d080_07_if126s_trr3_1_01","frt0001d4e4_07_if126s_trr3_1_01","frt0001d543_07_if126s_trr3_1_01","frt0001d803_07_if166l_trr3_1_01","frt0001d803_07_if166s_trr3_1_01","frt0001d8ea_07_if166l_trr3_1_01","frt0001d8ea_07_if166s_trr3_1_01","frt0001db03_07_if166l_trr3_1_01","frt0001db03_07_if166s_trr3_1_01","frt0001de1b_07_if166s_trr3_1_01","frt0001df23_07_if126s_trr3_1_01","frt0001e089_07_if126s_trr3_1_01","frt0001e0c7_07_if127s_trr3_1_01","frt0001e26e_07_if166l_trr3_1_01","frt0001e26e_07_if166s_trr3_1_01","frt0001e539_07_if126s_trr3_1_01","frt0001e72a_07_if126s_trr3_1_01","frt0001eb5f_07_if166l_trr3_1_01","frt0001eb5f_07_if166s_trr3_1_01","frt0001ec38_07_if166l_trr3_1_01","frt0001ec38_07_if166s_trr3_1_01","frt0001ed5d_07_if126s_trr3_1_01","frt0001f50a_07_if140s_trr3_1_01","frt0001f551_07_if126s_trr3_1_01","frt0001f6f8_07_if126s_trr3_1_01","frt0001f85f_07_if126s_trr3_1_01","frt0001f8b1_07_if127s_trr3_1_01","frt0001f908_07_if126s_trr3_1_01","frt0001faae_07_if127s_trr3_1_01","frt0001fbbc_07_if166l_trr3_1_01","frt0001fbbc_07_if166s_trr3_1_01","frt0001fbfa_07_if166s_trr3_1_01","frt0001fd36_07_if166l_trr3_1_01","frt0001fd36_07_if166s_trr3_1_01","frt000202d1_07_if126s_trr3_1_01","frt000204f8_07_if126s_trr3_1_01","frt00020b2b_07_if166l_trr3_1_01","frt00020b2b_07_if166s_trr3_1_01","frt00020bf9_07_if166l_trr3_1_01","frt00020bf9_07_if166s_trr3_1_01","frt00020cf2_07_if166l_trr3_1_01","frt00020cf2_07_if166s_trr3_1_01","frt00020e98_07_if126s_trr3_1_01","frt0002105d_07_if140s_trr3_1_01","frt00021696_07_if140s_trr3_1_01","frt00021bcb_07_if166l_trr3_1_01","frt00021bcb_07_if166s_trr3_1_01","frt00021d02_07_if166l_trr3_1_01","frt00021d02_07_if166s_trr3_1_01","frt00021d2c_07_if166l_trr3_1_01","frt00021d2c_07_if166s_trr3_1_01","frt00021e6d_07_if166l_trr3_1_01","frt00021e6d_07_if166s_trr3_1_01","frt00021ecd_07_if166s_trr3_1_01","frt00022141_07_if126s_trr3_1_01","frt000222d3_07_if127s_trr3_1_01","frt0002231c_07_if127s_trr3_1_01","frt000224bc_07_if127s_trr3_1_01","frt00022854_07_if126s_trr3_1_01","frt00023040_07_if126s_trr3_1_01","frt00023319_07_if166l_trr3_1_01","frt00023319_07_if166s_trr3_1_01","frt0002345b_07_if166l_trr3_1_01","frt0002345b_07_if166s_trr3_1_01","frt00023844_07_if166l_trr3_1_01","frt00023844_07_if166s_trr3_1_01","frt00023eb9_07_if126s_trr3_1_01","frt00023f87_07_if166l_trr3_1_01","frt00023f87_07_if166s_trr3_1_01","frt0002414f_07_if166l_trr3_1_01","frt0002414f_07_if166s_trr3_1_01","frt000242eb_07_if166s_trr3_1_01","frt0002432f_07_if166l_trr3_1_01","frt0002432f_07_if166s_trr3_1_01","frt000244a8_07_if167l_trr3_1_01","frt000244a8_07_if167s_trr3_1_01","frt000245dd_07_if167l_trr3_1_01","frt000245dd_07_if167s_trr3_1_01","frt000247a0_07_if166l_trr3_1_01","frt000247a0_07_if166s_trr3_1_01","frt00024f27_07_if126s_trr3_1_01","frt00025242_07_if166s_trr3_1_01","hrl0000285a_07_if183l_trr3_1_01","hrl0000285a_07_if183s_trr3_1_01","hrl000043ec_07_if183l_trr3_1_01","hrl000043ec_07_if183s_trr3_1_01","hrl00004962_07_if183l_trr3_1_01","hrl00004962_07_if183s_trr3_1_01","hrl00004a93_07_if183l_trr3_1_01","hrl00004a93_07_if183s_trr3_1_01","hrl0000648c_07_if183l_trr3_1_01","hrl0000648c_07_if183s_trr3_1_01","hrl00006840_07_if183l_trr3_1_01","hrl00006840_07_if183s_trr3_1_01","hrl00009a5f_07_if183l_trr3_1_01","hrl00009a5f_07_if183s_trr3_1_01","hrl0000adcb_07_if183l_trr3_1_01","hrl0000adcb_07_if183s_trr3_1_01","hrl0000af78_07_if183l_trr3_1_01","hrl0000af78_07_if183s_trr3_1_01","hrl0000b5bf_07_if183l_trr3_1_01","hrl0000b5bf_07_if183s_trr3_1_01","hrl0000d3d0_07_if183l_trr3_1_01","hrl0000d3d0_07_if183s_trr3_1_01","hrl00011ccd_07_if183l_trr3_1_01","hrl00011ccd_07_if183s_trr3_1_01","hrl00012253_07_if183l_trr3_1_01","hrl00012253_07_if183s_trr3_1_01","hrl000135e8_07_if195s_trr3_1_01","hrl00013da3_07_if183s_trr3_1_01","hrl00013f20_07_if183l_trr3_1_01","hrl00013f20_07_if183s_trr3_1_01","hrl00017c51_07_if183l_trr3_1_01","hrl00017c51_07_if183s_trr3_1_01","hrl000180cf_07_if183l_trr3_1_01","hrl000180cf_07_if183s_trr3_1_01","hrl0001deba_07_if183s_trr3_1_01","hrl0001f340_07_if195s_trr3_1_01","hrl00020bd3_07_if183s_trr3_1_01","hrl000247f2_07_if183l_trr3_1_01","hrl000247f2_07_if183s_trr3_1_01","hrs0000307a_07_if175l_trr3_1_01","hrs0000307a_07_if175s_trr3_1_01","hrs00006ac4_07_if175l_trr3_1_01","hrs00006ac4_07_if175s_trr3_1_01","hrs0000927b_07_if175l_trr3_1_01","hrs0000927b_07_if175s_trr3_1_01","hrs0000a47a_07_if175l_trr3_1_01","hrs0000a47a_07_if175s_trr3_1_01","hrs0000ab53_07_if175l_trr3_1_01","hrs0000ab53_07_if175s_trr3_1_01","hrs000113a1_07_if175l_trr3_1_01","hrs000113a1_07_if175s_trr3_1_01","hrs0001176a_07_if176l_trr3_1_01","hrs0001176a_07_if176s_trr3_1_01","hrs00013bca_07_if175l_trr3_1_01","hrs00013bca_07_if175s_trr3_1_01","hrs00018eb8_07_if175l_trr3_1_01","hrs00018eb8_07_if175s_trr3_1_01","hrs000203b3_07_if176l_trr3_1_01","hrs000203b3_07_if176s_trr3_1_01","frt00011840_07_if164l_trr3_1_01","frt000072c4_07_if165l_trr3_1_01","frt000072c4_07_if165s_trr3_1_01","frt00007fa4_07_if165l_trr3_1_01","frt00007fa4_07_if165s_trr3_1_01","frt00008eb6_07_if165s_trr3_1_01","frt00009496_07_if165l_trr3_1_01","frt00009496_07_if165s_trr3_1_01","frt000098b2_07_if165l_trr3_1_01","frt0000ab75_07_if165l_trr3_1_01","frt0000ab75_07_if165s_trr3_1_01","frt0000be2d_07_if165l_trr3_1_01","frt0000be2d_07_if165s_trr3_1_01","frt0000c14e_07_if165s_trr3_1_01","frt0000c815_07_if165l_trr3_1_01","frt0000c815_07_if165s_trr3_1_01","frt0000d26b_07_if165l_trr3_1_01","frt0000d3a0_07_if165l_trr3_1_01","frt0000d3a0_07_if165s_trr3_1_01","frt00011c97_07_if165l_trr3_1_01","frt00011c97_07_if165s_trr3_1_01","hrl00005930_07_if182l_trr3_1_01","hrl00005930_07_if182s_trr3_1_01","hrl0000646a_07_if182l_trr3_1_01","hrl0000646a_07_if182s_trr3_1_01","hrl00006818_07_if182l_trr3_1_01","hrl00006914_07_if182l_trr3_1_01","hrl000082b8_07_if182l_trr3_1_01","hrl000082b8_07_if182s_trr3_1_01","hrl000087e6_07_if182l_trr3_1_01","hrl000087e6_07_if182s_trr3_1_01","hrl00011b25_07_if182s_trr3_1_01","hrl00019a69_07_if182s_trr3_1_01","hrl0001dd88_07_if194s_trr3_1_01","hrs0000d628_07_if174l_trr3_1_01","hrs0000d628_07_if174s_trr3_1_01","hrs0001ef91_07_if144s_trr3_1_01","frt00013803_07_if165l_trr3_1_01","frt00008eb6_07_if165l_trr3_1_01","frt000098b2_07_if165s_trr3_1_01","frt0000c14e_07_if165l_trr3_1_01","frt0000d26b_07_if165s_trr3_1_01","frt000123ba_07_if165l_trr3_1_01","ba378x","frt000081db_07_if164l_trr3_1_01","hrl000061d9_07_if181s_trr3_1_01","frt00013803_07_if165s_trr3_1_01","frt00013df4_07_if165l_trr3_1_01","frt00013df4_07_if165s_trr3_1_01","frt000164f0_07_if165l_trr3_1_01","frt000164f0_07_if165s_trr3_1_01","frt000166d2_07_if165l_trr3_1_01","frt000166d2_07_if165s_trr3_1_01","frt00016b73_07_if165l_trr3_1_01","frt00016b73_07_if165s_trr3_1_01","frt000175d0_07_if165l_trr3_1_01","frt000175d0_07_if165s_trr3_1_01","frt000177bb_07_if165l_trr3_1_01","frt000177bb_07_if165s_trr3_1_01","frt0001833a_07_if165l_trr3_1_01","frt0001833a_07_if165s_trr3_1_01","frt00018ca0_07_if165l_trr3_1_01","frt00018ca0_07_if165s_trr3_1_01","frt0001ea14_07_if125s_trr3_1_01","frt0002083b_07_if127s_trr3_1_01","frt00020b04_07_if165l_trr3_1_01","frt00020b04_07_if165s_trr3_1_01","frt00020ff3_07_if125s_trr3_1_01","frt00021983_07_if125s_trr3_1_01","frt00021fa3_07_if165l_trr3_1_01","frt00021fa3_07_if165s_trr3_1_01","frt000229e7_07_if125s_trr3_1_01","hrl0000282d_07_if182l_trr3_1_01","hrl0000282d_07_if182s_trr3_1_01","hrl00004009_07_if182l_trr3_1_01","hrl00004009_07_if182s_trr3_1_01","hrl00004164_07_if182l_trr3_1_01","hrl00004164_07_if182s_trr3_1_01","hrl0000507f_07_if182l_trr3_1_01","hrl00006818_07_if182s_trr3_1_01","hrl00006914_07_if182s_trr3_1_01","hrl00011b25_07_if182l_trr3_1_01","hrs00020e5e_07_if144s_trr3_1_01","hrs00022fcd_07_if144s_trr3_1_01","frt000123ba_07_if165s_trr3_1_01","frt00008833_07_if165l_trr3_1_01","frt00008833_07_if165s_trr3_1_01","frt0000931e_07_if165l_trr3_1_01","frt0000931e_07_if165s_trr3_1_01","frt0000a160_07_if165l_trr3_1_01","frt0000a160_07_if165s_trr3_1_01","frt000163e2_07_if164s_trr3_1_01","frt00016546_07_if165l_trr3_1_01","frt00016546_07_if165s_trr3_1_01","frt00016a18_07_if164l_trr3_1_01","frt00016a18_07_if164s_trr3_1_01","frt00016e8a_07_if164l_trr3_1_01","frt00016e8a_07_if164s_trr3_1_01","frt000170ac_07_if165l_trr3_1_01","frt000170ac_07_if165s_trr3_1_01","frt00017632_07_if165l_trr3_1_01","frt00017632_07_if165s_trr3_1_01","frt0001b441_07_if125s_trr3_1_01","frt0001be4d_07_if125s_trr3_1_01","frt0001cf1b_07_if125s_trr3_1_01","frt0001e0c1_07_if124s_trr3_1_01","frt0001e724_07_if124s_trr3_1_01","frt000210bb_07_if125s_trr3_1_01","frt0002217b_07_if125s_trr3_1_01","frt00022311_07_if125s_trr3_1_01","frt000228d3_07_if124s_trr3_1_01","frt00023037_07_if125s_trr3_1_01","frt00024327_07_if165l_trr3_1_01","frt00024327_07_if165s_trr3_1_01","frt000247e6_07_if165l_trr3_1_01","frt000247e6_07_if165s_trr3_1_01","frt00025263_07_if165s_trr3_1_01","hrl00004784_07_if182l_trr3_1_01","hrl00004784_07_if182s_trr3_1_01","hrl00004881_07_if181l_trr3_1_01","hrl00004881_07_if181s_trr3_1_01","hrl00004ec3_07_if182l_trr3_1_01","hrl00004ec3_07_if182s_trr3_1_01","hrl00006b41_07_if181l_trr3_1_01","hrl00006b41_07_if181s_trr3_1_01","hrl00007b86_07_if181l_trr3_1_01","hrl00007b86_07_if181s_trr3_1_01","hrl00007d69_07_if182l_trr3_1_01","hrl00007d69_07_if182s_trr3_1_01","hrl00007eb1_07_if181l_trr3_1_01","hrl00007eb1_07_if181s_trr3_1_01","hrl00008889_07_if181l_trr3_1_01","hrl00008889_07_if181s_trr3_1_01","hrl00009370_07_if181l_trr3_1_01","hrl00009370_07_if181s_trr3_1_01","hrl000094ef_07_if182l_trr3_1_01","hrl000094ef_07_if182s_trr3_1_01","hrl00009bfd_07_if181l_trr3_1_01","hrl00009bfd_07_if181s_trr3_1_01","hrl0000a302_07_if181l_trr3_1_01","hrl0000a302_07_if181s_trr3_1_01","hrl0000b2cc_07_if181l_trr3_1_01","hrl0000b2cc_07_if181s_trr3_1_01","hrl0000b40b_07_if182l_trr3_1_01","hrl0000b40b_07_if182s_trr3_1_01","hrl0000b673_07_if182l_trr3_1_01","hrl0000b673_07_if182s_trr3_1_01","hrl0000bd45_07_if182l_trr3_1_01","hrl0000bd45_07_if182s_trr3_1_01","hrl0000bd81_07_if181l_trr3_1_01","hrl0000bd81_07_if181s_trr3_1_01","hrl0000bf7f_07_if182l_trr3_1_01","hrl0000bf7f_07_if182s_trr3_1_01","hrl0000c34c_07_if182l_trr3_1_01","hrl0000c34c_07_if182s_trr3_1_01","hrl0000c5bc_07_if182l_trr3_1_01","hrl0000c5bc_07_if182s_trr3_1_01","hrl0000d525_07_if181l_trr3_1_01","hrl0000d525_07_if181s_trr3_1_01","hrl00011f1f_07_if181l_trr3_1_01","hrl00011f1f_07_if181s_trr3_1_01","hrl0001245a_07_if181l_trr3_1_01","hrl0001245a_07_if181s_trr3_1_01","hrl00012a12_07_if181l_trr3_1_01","hrl00012a12_07_if181s_trr3_1_01","hrl000138bd_07_if181l_trr3_1_01","hrl000138bd_07_if181s_trr3_1_01","hrl00013cef_07_if181l_trr3_1_01","hrl00013cef_07_if181s_trr3_1_01","hrl0001813c_07_if182l_trr3_1_01","hrl0001813c_07_if182s_trr3_1_01","hrl0001b8a1_07_if182l_trr3_1_01","hrl0001b8a1_07_if182s_trr3_1_01","hrl0001b971_07_if182l_trr3_1_01","hrl0001b971_07_if182s_trr3_1_01","hrl0001eac4_07_if182s_trr3_1_01","hrl00025196_07_if181s_trr3_1_01","hrs00003ec8_07_if174l_trr3_1_01","hrs00003ec8_07_if174s_trr3_1_01","hrs00011bab_07_if174l_trr3_1_01","hrs00011bab_07_if174s_trr3_1_01","hrs00013e43_07_if174l_trr3_1_01","hrs00013e43_07_if174s_trr3_1_01","hrs0001f033_07_if144s_trr3_1_01","frt000028a1_07_if164l_trr3_1_01","frt000028a1_07_if164s_trr3_1_01","frt000028c1_07_if165l_trr3_1_01","frt000028c1_07_if165s_trr3_1_01","frt0000334d_07_if165l_trr3_1_01","frt0000334d_07_if165s_trr3_1_01","frt00003ce0_07_if165l_trr3_1_01","frt00003ce0_07_if165s_trr3_1_01","frt00003e24_07_if165l_trr3_1_01","frt00003e24_07_if165s_trr3_1_01","frt0000410f_07_if166l_trr3_1_01","frt0000410f_07_if166s_trr3_1_01","frt00004616_07_if165l_trr3_1_01","frt00004616_07_if165s_trr3_1_01","frt000048bd_07_if165l_trr3_1_01","frt000048bd_07_if165s_trr3_1_01","frt00004a01_07_if165l_trr3_1_01","frt00004a01_07_if165s_trr3_1_01","frt00004fe8_07_if165l_trr3_1_01","frt00004fe8_07_if165s_trr3_1_01","frt0000550c_07_if165l_trr3_1_01","frt0000550c_07_if165s_trr3_1_01","frt000062e6_07_if165l_trr3_1_01","frt000062e6_07_if165s_trr3_1_01","frt00006445_07_if165l_trr3_1_01","frt00006445_07_if165s_trr3_1_01","frt000067ea_07_if165l_trr3_1_01","frt000067ea_07_if165s_trr3_1_01","frt000069db_07_if165l_trr3_1_01","frt000069db_07_if165s_trr3_1_01","frt00006a2a_07_if165l_trr3_1_01","frt00006a2a_07_if165s_trr3_1_01","frt00006ec6_07_if165l_trr3_1_01","frt00006ec6_07_if165s_trr3_1_01","frt00007833_07_if165l_trr3_1_01","frt00007833_07_if165s_trr3_1_01","frt00007c29_07_if166l_trr3_1_01","frt00007c29_07_if166s_trr3_1_01","frt00007d6c_07_if165l_trr3_1_01","frt00007d6c_07_if165s_trr3_1_01","frt00007da9_07_if165l_trr3_1_01","frt00007da9_07_if165s_trr3_1_01","frt00007eb6_07_if165l_trr3_1_01","frt00007eb6_07_if165s_trr3_1_01","frt000080c0_07_if166l_trr3_1_01","frt000080c0_07_if166s_trr3_1_01","frt00008107_07_if165l_trr3_1_01","frt00008107_07_if165s_trr3_1_01","frt0000839d_07_if165l_trr3_1_01","frt0000839d_07_if165s_trr3_1_01","frt000083e7_07_if167l_trr3_1_01","frt000083e7_07_if167s_trr3_1_01","frt00008541_07_if165l_trr3_1_01","frt00008541_07_if165s_trr3_1_01","frt00008592_07_if165l_trr3_1_01","frt00008592_07_if165s_trr3_1_01","frt000085ec_07_if165l_trr3_1_01","frt000085ec_07_if165s_trr3_1_01","frt0000872d_07_if165l_trr3_1_01","frt0000872d_07_if165s_trr3_1_01","frt00008890_07_if165l_trr3_1_01","frt00008890_07_if165s_trr3_1_01","frt000088e6_07_if165l_trr3_1_01","frt000088e6_07_if165s_trr3_1_01","frt0000893e_07_if165l_trr3_1_01","frt0000893e_07_if165s_trr3_1_01","frt00008cb7_07_if165l_trr3_1_01","frt00008cb7_07_if165s_trr3_1_01","frt00008e51_07_if165l_trr3_1_01","frt00008e51_07_if165s_trr3_1_01","frt00008f7d_07_if165l_trr3_1_01","frt00008f7d_07_if165s_trr3_1_01","frt00008fd8_07_if165l_trr3_1_01","frt00008fd8_07_if165s_trr3_1_01","frt00009217_07_if165l_trr3_1_01","frt00009217_07_if165s_trr3_1_01","frt00009272_07_if165l_trr3_1_01","frt00009272_07_if165s_trr3_1_01","frt000093d3_07_if165l_trr3_1_01","frt000093d3_07_if165s_trr3_1_01","frt0000942e_07_if165l_trr3_1_01","frt0000942e_07_if165s_trr3_1_01","frt000095b8_07_if165l_trr3_1_01","frt000095b8_07_if165s_trr3_1_01","frt0000960f_07_if165l_trr3_1_01","frt0000960f_07_if165s_trr3_1_01","frt0000966c_07_if165l_trr3_1_01","frt0000966c_07_if165s_trr3_1_01","frt00009739_07_if165l_trr3_1_01","frt00009739_07_if165s_trr3_1_01","frt000097f8_07_if165l_trr3_1_01","frt000097f8_07_if165s_trr3_1_01","frt0000984f_07_if165l_trr3_1_01","frt0000984f_07_if165s_trr3_1_01","frt00009985_07_if165l_trr3_1_01","frt00009985_07_if165s_trr3_1_01","frt000099c8_07_if165l_trr3_1_01","frt000099c8_07_if165s_trr3_1_01","frt00009a0f_07_if165l_trr3_1_01","frt00009a0f_07_if165s_trr3_1_01","frt00009b1c_07_if165l_trr3_1_01","frt00009b1c_07_if165s_trr3_1_01","frt00009b5a_07_if165l_trr3_1_01","frt00009b5a_07_if165s_trr3_1_01","frt00009c73_07_if165l_trr3_1_01","frt00009c73_07_if165s_trr3_1_01","frt00009dee_07_if165l_trr3_1_01","frt00009dee_07_if165s_trr3_1_01","frt0000a0ac_07_if165l_trr3_1_01","frt0000a0ac_07_if165s_trr3_1_01","frt0000a1a8_07_if165l_trr3_1_01","frt0000a1a8_07_if165s_trr3_1_01","frt0000a1f3_07_if165l_trr3_1_01","frt0000a1f3_07_if165s_trr3_1_01","frt0000a235_07_if165l_trr3_1_01","frt0000a235_07_if165s_trr3_1_01","frt0000a50d_07_if165l_trr3_1_01","frt0000a50d_07_if165s_trr3_1_01","frt0000a553_07_if165l_trr3_1_01","frt0000a553_07_if165s_trr3_1_01","frt0000aa11_07_if165l_trr3_1_01","frt0000aa11_07_if165s_trr3_1_01","frt0000ab4f_07_if165l_trr3_1_01","frt0000ab4f_07_if165s_trr3_1_01","frt0000ac13_07_if165l_trr3_1_01","frt0000ac13_07_if165s_trr3_1_01","frt0000acbc_07_if165l_trr3_1_01","frt0000acbc_07_if165s_trr3_1_01","frt0000ad2e_07_if165l_trr3_1_01","frt0000ad2e_07_if165s_trr3_1_01","frt0000b084_07_if165l_trr3_1_01","frt0000b084_07_if165s_trr3_1_01","frt0000b203_07_if165l_trr3_1_01","frt0000b203_07_if165s_trr3_1_01","frt0000b33a_07_if165l_trr3_1_01","frt0000b33a_07_if165s_trr3_1_01","frt0000b480_07_if165l_trr3_1_01","frt0000b480_07_if165s_trr3_1_01","frt0000b580_07_if165l_trr3_1_01","frt0000b580_07_if165s_trr3_1_01","frt0000b6b5_07_if165l_trr3_1_01","frt0000b6b5_07_if165s_trr3_1_01","frt0000b710_07_if165l_trr3_1_01","frt0000b710_07_if165s_trr3_1_01","frt0000b8d7_07_if165l_trr3_1_01","frt0000b8d7_07_if165s_trr3_1_01","frt0000bad3_07_if165l_trr3_1_01","frt0000bad3_07_if165s_trr3_1_01","frt0000bc30_07_if165l_trr3_1_01","frt0000bc30_07_if165s_trr3_1_01","frt0000bef5_07_if165l_trr3_1_01","frt0000bef5_07_if165s_trr3_1_01","frt0000c2ab_07_if165l_trr3_1_01","frt0000c2ab_07_if165s_trr3_1_01","frt0000c384_07_if165l_trr3_1_01","frt0000c384_07_if165s_trr3_1_01","frt0000c52c_07_if165l_trr3_1_01","frt0000c52c_07_if165s_trr3_1_01","frt0000cb0f_07_if165l_trr3_1_01","frt0000cb0f_07_if165s_trr3_1_01","frt0000cc22_07_if165l_trr3_1_01","frt0000cc22_07_if165s_trr3_1_01","frt0000ce1d_07_if166l_trr3_1_01","frt0000ce1d_07_if166s_trr3_1_01","frt0000d562_07_if165l_trr3_1_01","frt0000d562_07_if165s_trr3_1_01","frt00010099_07_if165s_trr3_1_01","frt00010107_07_if165l_trr3_1_01","frt00010107_07_if165s_trr3_1_01","frt000102ab_07_if165l_trr3_1_01","frt000102ab_07_if165s_trr3_1_01","frt000104c7_07_if165l_trr3_1_01","frt000104c7_07_if165s_trr3_1_01","frt00010837_07_if166l_trr3_1_01","frt00010837_07_if166s_trr3_1_01","frt00010bb3_07_if165s_trr3_1_01","frt00010f03_07_if165l_trr3_1_01","frt00010f03_07_if165s_trr3_1_01","frt00011805_07_if166l_trr3_1_01","frt00011805_07_if166s_trr3_1_01","frt00011a38_07_if165l_trr3_1_01","frt00011a38_07_if165s_trr3_1_01","frt00011c15_07_if166l_trr3_1_01","frt00011c15_07_if166s_trr3_1_01","frt00011d7a_07_if165l_trr3_1_01","frt00011d7a_07_if165s_trr3_1_01","frt000120fd_07_if165l_trr3_1_01","frt000120fd_07_if165s_trr3_1_01","frt0001215b_07_if165l_trr3_1_01","frt0001215b_07_if165s_trr3_1_01","frt000122a1_07_if166l_trr3_1_01","frt000122a1_07_if166s_trr3_1_01","frt0001252f_07_if165l_trr3_1_01","frt0001252f_07_if165s_trr3_1_01","frt00012929_07_if165l_trr3_1_01","frt00012929_07_if165s_trr3_1_01","frt00012abb_07_if165l_trr3_1_01","frt00012abb_07_if165s_trr3_1_01","frt00012dbd_07_if165l_trr3_1_01","frt00012dbd_07_if165s_trr3_1_01","frt00012fc3_07_if165l_trr3_1_01","frt00012fc3_07_if165s_trr3_1_01","frt0001363d_07_if125s_trr3_1_01","frt00013671_07_if165s_trr3_1_01","frt00013980_07_if165l_trr3_1_01","frt00013980_07_if165s_trr3_1_01","frt00013b02_07_if126s_trr3_1_01","frt00013cf4_07_if166l_trr3_1_01","frt00013cf4_07_if166s_trr3_1_01","frt0001660f_07_if165l_trr3_1_01","frt0001660f_07_if165s_trr3_1_01","frt000168ad_07_if165l_trr3_1_01","frt000168ad_07_if165s_trr3_1_01","frt00016c56_07_if165l_trr3_1_01","frt00016c56_07_if165s_trr3_1_01","frt00016f45_07_if165l_trr3_1_01","frt00016f45_07_if165s_trr3_1_01","frt000170b5_07_if165l_trr3_1_01","frt000170b5_07_if165s_trr3_1_01","frt00017117_07_if165l_trr3_1_01","frt00017117_07_if165s_trr3_1_01","frt00017172_07_if165l_trr3_1_01","frt00017172_07_if165s_trr3_1_01","frt000172f1_07_if165l_trr3_1_01","frt000172f1_07_if165s_trr3_1_01","frt0001750a_07_if165l_trr3_1_01","frt0001750a_07_if165s_trr3_1_01","frt00017562_07_if165l_trr3_1_01","frt00017562_07_if165s_trr3_1_01","frt00017697_07_if165l_trr3_1_01","frt00017697_07_if165s_trr3_1_01","frt00017946_07_if165l_trr3_1_01","frt00017946_07_if165s_trr3_1_01","frt00017c94_07_if165l_trr3_1_01","frt00017c94_07_if165s_trr3_1_01","frt00018047_07_if165l_trr3_1_01","frt00018047_07_if165s_trr3_1_01","frt00018545_07_if165l_trr3_1_01","frt00018545_07_if165s_trr3_1_01","frt000187a1_07_if165l_trr3_1_01","frt000187a1_07_if165s_trr3_1_01","frt00018c99_07_if164l_trr3_1_01","frt00018c99_07_if164s_trr3_1_01","frt00018f64_07_if165l_trr3_1_01","frt00018f64_07_if165s_trr3_1_01","frt000193ab_07_if165l_trr3_1_01","frt000193ab_07_if165s_trr3_1_01","frt000199d5_07_if165l_trr3_1_01","frt000199d5_07_if165s_trr3_1_01","frt00019dba_07_if165l_trr3_1_01","frt00019dba_07_if165s_trr3_1_01","frt00019e9c_07_if041l_trr3_1_01","frt00019e9c_07_if041s_trr3_1_01","frt0001a228_07_if125s_trr3_1_01","frt0001a3e3_07_if125s_trr3_1_01","frt0001b8a4_07_if165l_trr3_1_01","frt0001b8a4_07_if165s_trr3_1_01","frt0001c044_07_if125s_trr3_1_01","frt0001c3d1_07_if165l_trr3_1_01","frt0001c3d1_07_if165s_trr3_1_01","frt0001c645_07_if165l_trr3_1_01","frt0001c645_07_if165s_trr3_1_01","frt0001c7d2_07_if164l_trr3_1_01","frt0001c7d2_07_if164s_trr3_1_01","frt0001ca41_07_if166s_trr3_1_01","frt0001ca6b_07_if165s_trr3_1_01","frt0001caa7_07_if165l_trr3_1_01","frt0001caa7_07_if165s_trr3_1_01","frt0001cc8e_07_if125s_trr3_1_01","frt0001cd7d_07_if125s_trr3_1_01","frt0001cf61_07_if125s_trr3_1_01","frt0001d105_07_if125s_trr3_1_01","frt0001d420_07_if125s_trr3_1_01","frt0001d5c7_07_if125s_trr3_1_01","frt0001d830_07_if165s_trr3_1_01","frt0001d86b_07_if165l_trr3_1_01","frt0001d86b_07_if165s_trr3_1_01","frt0001d97c_07_if165l_trr3_1_01","frt0001d97c_07_if165s_trr3_1_01","frt0001da6c_07_if164s_trr3_1_01","frt0001dca9_07_if126s_trr3_1_01","frt0001de85_07_if164l_trr3_1_01","frt0001de85_07_if164s_trr3_1_01","frt0001e213_07_if165l_trr3_1_01","frt0001e213_07_if165s_trr3_1_01","frt0001e4be_07_if125s_trr3_1_01","frt0001e64b_07_if125s_trr3_1_01","frt0001e968_07_if126s_trr3_1_01","frt0001f7a2_07_if125s_trr3_1_01","frt0001f7fc_07_if126s_trr3_1_01","frt0001f855_07_if125s_trr3_1_01","frt0001f9b5_07_if126s_trr3_1_01","frt0001fca1_07_if165l_trr3_1_01","frt0001fca1_07_if165s_trr3_1_01","frt0001fd59_07_if165l_trr3_1_01","frt0001fd59_07_if165s_trr3_1_01","frt0001fea3_07_if125s_trr3_1_01","frt00020359_07_if125s_trr3_1_01","frt0002041c_07_if165l_trr3_1_01","frt0002041c_07_if165s_trr3_1_01","frt000207ec_07_if125s_trr3_1_01","frt0002091e_07_if125s_trr3_1_01","frt00020a8d_07_if125s_trr3_1_01","frt00020c1b_07_if165l_trr3_1_01","frt00020c1b_07_if165s_trr3_1_01","frt0002141d_07_if125s_trr3_1_01","frt000216e2_07_if125s_trr3_1_01","frt000217df_07_if125s_trr3_1_01","frt000218bf_07_if125s_trr3_1_01","frt00021a75_07_if125s_trr3_1_01","frt00021adb_07_if125s_trr3_1_01","frt00021cab_07_if165l_trr3_1_01","frt00021cab_07_if165s_trr3_1_01","frt00021f4e_07_if164s_trr3_1_01","frt00021f75_07_if165s_trr3_1_01","frt00022567_07_if125s_trr3_1_01","frt0002261a_07_if125s_trr3_1_01","frt000228da_07_if125s_trr3_1_01","frt0002292b_07_if125s_trr3_1_01","frt00022a8d_07_if126s_trr3_1_01","frt00022b37_07_if125s_trr3_1_01","frt00022e65_07_if125s_trr3_1_01","frt00022fc2_07_if125s_trr3_1_01","frt000230a7_07_if126s_trr3_1_01","frt00023119_07_if125s_trr3_1_01","frt000231aa_07_if125s_trr3_1_01","frt00023512_07_if165l_trr3_1_01","frt00023512_07_if165s_trr3_1_01","frt00023700_07_if164l_trr3_1_01","frt00023700_07_if164s_trr3_1_01","frt00023e39_07_if126s_trr3_1_01","frt0002409a_07_if165l_trr3_1_01","frt0002409a_07_if165s_trr3_1_01","frt0002437e_07_if165l_trr3_1_01","frt0002437e_07_if165s_trr3_1_01","frt0002441e_07_if165l_trr3_1_01","frt0002441e_07_if165s_trr3_1_01","frt000248a2_07_if165l_trr3_1_01","frt000248a2_07_if165s_trr3_1_01","frt00024a9a_07_if165l_trr3_1_01","frt00024a9a_07_if165s_trr3_1_01","frt00024e68_07_if125s_trr3_1_01","hrl000047aa_07_if182l_trr3_1_01","hrl000047aa_07_if182s_trr3_1_01","hrl000055c7_07_if182l_trr3_1_01","hrl000055c7_07_if182s_trr3_1_01","hrl00005865_07_if182l_trr3_1_01","hrl000059f7_07_if182l_trr3_1_01","hrl000059f7_07_if182s_trr3_1_01","hrl00005b20_07_if182l_trr3_1_01","hrl00005b20_07_if182s_trr3_1_01","hrl00005f1c_07_if182s_trr3_1_01","hrl00006335_07_if182s_trr3_1_01","hrl000064b2_07_if182l_trr3_1_01","hrl000064b2_07_if182s_trr3_1_01","hrl000064ef_07_if183l_trr3_1_01","hrl000064ef_07_if183s_trr3_1_01","hrl000068d0_07_if182l_trr3_1_01","hrl000068d0_07_if182s_trr3_1_01","hrl00006996_07_if182l_trr3_1_01","hrl00006996_07_if182s_trr3_1_01","hrl0000822e_07_if182l_trr3_1_01","hrl0000822e_07_if182s_trr3_1_01","hrl00008c6b_07_if182l_trr3_1_01","hrl00008c6b_07_if182s_trr3_1_01","hrl00009c41_07_if182l_trr3_1_01","hrl00009c41_07_if182s_trr3_1_01","hrl0000ac53_07_if182l_trr3_1_01","hrl0000ac53_07_if182s_trr3_1_01","hrl0000b37a_07_if182l_trr3_1_01","hrl0000b37a_07_if182s_trr3_1_01","hrl0000b76c_07_if182l_trr3_1_01","hrl0000b76c_07_if182s_trr3_1_01","hrl0000bc94_07_if182l_trr3_1_01","hrl0000bc94_07_if182s_trr3_1_01","hrl0000bdb1_07_if182l_trr3_1_01","hrl0000bdb1_07_if182s_trr3_1_01","hrl0000c4ec_07_if182l_trr3_1_01","hrl0000c4ec_07_if182s_trr3_1_01","hrl0000ccf1_07_if182l_trr3_1_01","hrl0000ccf1_07_if182s_trr3_1_01","hrl0000cfb0_07_if182l_trr3_1_01","hrl0000cfb0_07_if182s_trr3_1_01","hrl0000d09a_07_if182l_trr3_1_01","hrl0000d09a_07_if182s_trr3_1_01","hrl0000d1b1_07_if182l_trr3_1_01","hrl0000d1b1_07_if182s_trr3_1_01","hrl00010bf6_07_if182s_trr3_1_01","hrl00011145_07_if182l_trr3_1_01","hrl00011145_07_if182s_trr3_1_01","hrl000112e9_07_if182l_trr3_1_01","hrl000112e9_07_if182s_trr3_1_01","hrl000121a3_07_if182l_trr3_1_01","hrl000121a3_07_if182s_trr3_1_01","hrl000127b0_07_if182s_trr3_1_01","hrl00013d9c_07_if182l_trr3_1_01","hrl00013d9c_07_if182s_trr3_1_01","hrl00013e81_07_if182l_trr3_1_01","hrl00013e81_07_if182s_trr3_1_01","hrl00014017_07_if182l_trr3_1_01","hrl00014017_07_if182s_trr3_1_01","hrl00014069_07_if182l_trr3_1_01","hrl00014069_07_if182s_trr3_1_01","hrl00016490_07_if182s_trr3_1_01","hrl00016f9a_07_if182l_trr3_1_01","hrl00016f9a_07_if182s_trr3_1_01","hrl0001b91e_07_if182s_trr3_1_01","hrl0001db40_07_if194s_trr3_1_01","hrl0001e42d_07_if194s_trr3_1_01","hrl0001e46b_07_if194s_trr3_1_01","hrl0001e817_07_if194s_trr3_1_01","hrl0001ee36_07_if194s_trr3_1_01","hrl0001f3ef_07_if195s_trr3_1_01","hrl0001f44e_07_if194s_trr3_1_01","hrl0001fcd2_07_if182l_trr3_1_01","hrl0001fcd2_07_if182s_trr3_1_01","hrl0001fda9_07_if182l_trr3_1_01","hrl0001fda9_07_if182s_trr3_1_01","hrl0001fdc4_07_if181l_trr3_1_01","hrl0001fdc4_07_if181s_trr3_1_01","hrl000203cd_07_if182l_trr3_1_01","hrl000203cd_07_if182s_trr3_1_01","hrl00024294_07_if182l_trr3_1_01","hrl00024294_07_if182s_trr3_1_01","hrs000035b5_07_if174l_trr3_1_01","hrs000035b5_07_if174s_trr3_1_01","hrs00004007_07_if174l_trr3_1_01","hrs00004007_07_if174s_trr3_1_01","hrs0000513b_07_if174l_trr3_1_01","hrs0000513b_07_if174s_trr3_1_01","hrs00005173_07_if174l_trr3_1_01","hrs00005173_07_if174s_trr3_1_01","hrs00006a75_07_if174l_trr3_1_01","hrs00006a75_07_if174s_trr3_1_01","hrs0000a7f6_07_if174l_trr3_1_01","hrs0000a7f6_07_if174s_trr3_1_01","hrs0000a89e_07_if174l_trr3_1_01","hrs0000a89e_07_if174s_trr3_1_01","hrs0000b237_07_if174l_trr3_1_01","hrs0000b237_07_if174s_trr3_1_01","hrs0000c004_07_if174l_trr3_1_01","hrs0000c004_07_if174s_trr3_1_01","hrs0000c10b_07_if174l_trr3_1_01","hrs0000c10b_07_if174s_trr3_1_01","hrs0000c7b0_07_if174l_trr3_1_01","hrs0000c7b0_07_if174s_trr3_1_01","hrs0000d731_07_if174l_trr3_1_01","hrs0000d731_07_if174s_trr3_1_01","hrs00011720_07_if174l_trr3_1_01","hrs00011720_07_if174s_trr3_1_01","hrs00012a18_07_if174l_trr3_1_01","hrs00012a18_07_if174s_trr3_1_01","hrs00013bc0_07_if173l_trr3_1_01","hrs00013bc0_07_if173s_trr3_1_01","hrs00018b9f_07_if175l_trr3_1_01","hrs00018b9f_07_if175s_trr3_1_01","hrs00018e2c_07_if174l_trr3_1_01","hrs00018e2c_07_if174s_trr3_1_01","hrs0001965d_07_if174l_trr3_1_01","hrs0001965d_07_if174s_trr3_1_01","hrs0001d6f6_07_if174l_trr3_1_01","hrs0001d6f6_07_if174s_trr3_1_01","hrs0001ecf8_07_if174l_trr3_1_01","hrs0001ecf8_07_if174s_trr3_1_01","hrs0001fb7f_07_if174l_trr3_1_01","hrs0001fb7f_07_if174s_trr3_1_01","hrs0001ff10_07_if144s_trr3_1_01","hrs00020433_07_if174s_trr3_1_01"];
var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();!function(){Downloadify=window.Downloadify={queue:{},uid:(new Date).getTime(),getTextForSave:function(a){var b=Downloadify.queue[a];return b?b.getData():""},getFileNameForSave:function(a){var b=Downloadify.queue[a];return b?b.getFilename():""},getDataTypeForSave:function(a){var b=Downloadify.queue[a];return b?b.getDataType():""},saveComplete:function(a){var b=Downloadify.queue[a];return b&&b.complete(),!0},saveCancel:function(a){var b=Downloadify.queue[a];return b&&b.cancel(),!0},saveError:function(a){var b=Downloadify.queue[a];return b&&b.error(),!0},addToQueue:function(a){Downloadify.queue[a.queue_name]=a},getUID:function(a){return""==a.id&&(a.id="downloadify_"+Downloadify.uid++),a.id}},Downloadify.create=function(a,b){var c="string"==typeof a?document.getElementById(a):a;return new Downloadify.Container(c,b)},Downloadify.Container=function(a,b){var c=this;c.el=a,c.enabled=!0,c.dataCallback=null,c.filenameCallback=null,c.data=null,c.filename=null;var d=function(){c.options=b,c.options.append||(c.el.innerHTML=""),c.flashContainer=document.createElement("span"),c.el.appendChild(c.flashContainer),c.queue_name=Downloadify.getUID(c.flashContainer),"function"==typeof c.options.filename?c.filenameCallback=c.options.filename:c.options.filename&&(c.filename=c.options.filename),"function"==typeof c.options.data?c.dataCallback=c.options.data:c.options.data&&(c.data=c.options.data);var a={queue_name:c.queue_name,width:c.options.width,height:c.options.height},d={allowScriptAccess:"always"},e={id:c.flashContainer.id,name:c.flashContainer.id};c.options.enabled===!1&&(c.enabled=!1),c.options.transparent===!0&&(d.wmode="transparent"),c.options.downloadImage&&(a.downloadImage=c.options.downloadImage),swfobject.embedSWF(c.options.swf,c.flashContainer.id,c.options.width,c.options.height,"10",null,a,d,e),Downloadify.addToQueue(c)};c.enable=function(){var a=document.getElementById(c.flashContainer.id);a.setEnabled(!0),c.enabled=!0},c.disable=function(){var a=document.getElementById(c.flashContainer.id);a.setEnabled(!1),c.enabled=!1},c.getData=function(){return c.enabled?c.dataCallback?c.dataCallback():c.data?c.data:"":""},c.getFilename=function(){return c.filenameCallback?c.filenameCallback():c.filename?c.filename:""},c.getDataType=function(){return c.options.dataType?c.options.dataType:"string"},c.complete=function(){"function"==typeof c.options.onComplete&&c.options.onComplete()},c.cancel=function(){"function"==typeof c.options.onCancel&&c.options.onCancel()},c.error=function(){"function"==typeof c.options.onError&&c.options.onError()},d()},Downloadify.defaultOptions={swf:"/static/media/downloadify.swf",downloadImage:"/static/images/download.png",width:100,height:30,transparent:!0,append:!1,dataType:"string"}}(),"undefined"!=typeof jQuery&&!function(a){a.fn.downloadify=function(b){return this.each(function(){b=a.extend({},Downloadify.defaultOptions,b);var c=Downloadify.create(this,b);a(this).data("Downloadify",c)})}}(jQuery),"undefined"!=typeof MooTools&&Element.implement({downloadify:function(a){return a=$merge(Downloadify.defaultOptions,a),this.store("Downloadify",Downloadify.create(this,a))}}),$.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase()),$.browser.chrome&&(OpenLayers.Layer.Vector.prototype.renderers=["Canvas"]),$.browser.chrome||$.browser.mozilla||$.browser.safari||$.browser.webkit||$.browser.opera||window.location.replace("browser.html"),String.prototype.replaceAll=function(a,b,c){var d,e=this+"",f=-1;if("string"==typeof a){if(!c)return this.split(a).join(b);for(d=a.toLowerCase();-1!==(f=e.toLowerCase().indexOf(a,f>=0?f+b.length:0));)e=e.substring(0,f)+b+e.substring(f+a.length)}return e};var zoomed=!1,toggleBands,toggleQuery,toggleSpectrum,toggleX3d,toggleTutorial,toggleAbout,permalink,map,GlobalMOLARGB,GlobalTHEMISIRday,GaleCTXWms,GaleHRSCWms,fake,vector_layer,vector_layer2,vector_layer3,vector_layer4,mousePosition;OpenLayers.Util.VincentyConstants={a:3396190,b:3396190,f:0},OpenLayers.IMAGE_RELOAD_ATTEMPTS=2,OpenLayers.Util.onImageLoadErrorColor="transparent",OpenLayers.ImgPath="/static/images/",OpenLayers.Feature.Vector.style["default"].strokeWidth="2";var maxextent=new OpenLayers.Bounds(-180,-90,180,90),zoomBox,navHistory=new OpenLayers.Control.NavigationHistory,zoomToContextExtent,featureInfo,featureInfo1,featureInfo2,featureInfo3,featureInfo4,measureControls,zoomBoxIn=new OpenLayers.Control.ZoomBox({out:!1}),zoomBoxOut=new OpenLayers.Control.ZoomBox({out:!0}),queryEventHandler1,queryEventHandler2,queryEventHandler3,queryEventHandler4,layerSwitcher,sp,highlightCtrl,selectCtrl;jQuery(document).ready(function(){$(".loadingScreen").hide(),initdownloadify(),initloadregion(),initconsole(),resizeMap(),initmap(),initmapevents(),initvectors(),checksinglecollection(),checkregion(),checkmrdr()});var footprints,highlightCtrl,selectCtrl,curiosity,QueryString=function(){for(var a={},b=window.location.hash.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if("undefined"==typeof a[e[0]])a[e[0]]=e[1];else if("string"==typeof a[e[0]]){var f=[a[e[0]],e[1]];a[e[0]]=f}else a[e[0]].push(e[1])}return a}(),Ext=Ext||{};Ext.Direct||(Ext.Direct={}),Ext.Toolbar||(Ext.Toolbar={}),Ext.app||(Ext.app={}),Ext.app.domain||(Ext.app.domain={}),Ext.button||(Ext.button={}),Ext.chart||(Ext.chart={}),Ext.chart.axis||(Ext.chart.axis={}),Ext.chart.series||(Ext.chart.series={}),Ext.chart.theme||(Ext.chart.theme={}),Ext.container||(Ext.container={}),Ext.core||(Ext.core={}),Ext.data||(Ext.data={}),Ext.data.association||(Ext.data.association={}),Ext.data.flash||(Ext.data.flash={}),Ext.data.proxy||(Ext.data.proxy={}),Ext.data.reader||(Ext.data.reader={}),Ext.data.writer||(Ext.data.writer={}),Ext.dd||(Ext.dd={}),Ext.direct||(Ext.direct={}),Ext.dom||(Ext.dom={}),Ext.draw||(Ext.draw={}),Ext.draw.engine||(Ext.draw.engine={}),Ext.flash||(Ext.flash={}),Ext.form||(Ext.form={}),Ext.form.Action||(Ext.form.Action={}),Ext.form.action||(Ext.form.action={}),Ext.form.field||(Ext.form.field={}),Ext.fx||(Ext.fx={}),Ext.fx.target||(Ext.fx.target={}),Ext.grid||(Ext.grid={}),Ext.grid.column||(Ext.grid.column={}),Ext.grid.feature||(Ext.grid.feature={}),Ext.grid.header||(Ext.grid.header={}),Ext.grid.locking||(Ext.grid.locking={}),Ext.grid.plugin||(Ext.grid.plugin={}),Ext.grid.property||(Ext.grid.property={}),Ext.layout||(Ext.layout={}),Ext.layout.boxOverflow||(Ext.layout.boxOverflow={}),Ext.layout.component||(Ext.layout.component={}),Ext.layout.component.field||(Ext.layout.component.field={}),Ext.layout.container||(Ext.layout.container={}),Ext.layout.container.border||(Ext.layout.container.border={}),Ext.layout.container.boxOverflow||(Ext.layout.container.boxOverflow={}),Ext.list||(Ext.list={}),Ext.menu||(Ext.menu={}),Ext.panel||(Ext.panel={}),Ext.perf||(Ext.perf={}),Ext.picker||(Ext.picker={}),Ext.resizer||(Ext.resizer={}),Ext.rtl||(Ext.rtl={}),Ext.rtl.button||(Ext.rtl.button={}),Ext.rtl.dd||(Ext.rtl.dd={}),Ext.rtl.dom||(Ext.rtl.dom={}),Ext.rtl.form||(Ext.rtl.form={}),Ext.rtl.form.field||(Ext.rtl.form.field={}),Ext.rtl.grid||(Ext.rtl.grid={}),Ext.rtl.grid.column||(Ext.rtl.grid.column={}),Ext.rtl.grid.plugin||(Ext.rtl.grid.plugin={}),Ext.rtl.layout||(Ext.rtl.layout={}),Ext.rtl.layout.component||(Ext.rtl.layout.component={}),Ext.rtl.layout.component.field||(Ext.rtl.layout.component.field={}),Ext.rtl.layout.container||(Ext.rtl.layout.container={}),Ext.rtl.layout.container.boxOverflow||(Ext.rtl.layout.container.boxOverflow={}),Ext.rtl.panel||(Ext.rtl.panel={}),Ext.rtl.resizer||(Ext.rtl.resizer={}),Ext.rtl.selection||(Ext.rtl.selection={}),Ext.rtl.slider||(Ext.rtl.slider={}),Ext.rtl.tab||(Ext.rtl.tab={}),Ext.rtl.tip||(Ext.rtl.tip={}),Ext.rtl.tree||(Ext.rtl.tree={}),Ext.rtl.util||(Ext.rtl.util={}),Ext.rtl.view||(Ext.rtl.view={}),Ext.selection||(Ext.selection={}),Ext.slider||(Ext.slider={}),Ext.state||(Ext.state={}),Ext.tab||(Ext.tab={}),Ext.tip||(Ext.tip={}),Ext.toolbar||(Ext.toolbar={}),Ext.tree||(Ext.tree={}),Ext.tree.plugin||(Ext.tree.plugin={}),Ext.util||(Ext.util={}),Ext.ux||(Ext.ux={}),Ext.ux.form||(Ext.ux.form={}),Ext.view||(Ext.view={}),Ext.window||(Ext.window={}),function(a){var b,c,d,e,f=[],g=["constructor","toString","valueOf","toLocaleString"],h={},i={},j=0,k=function(){var k,l;for(c=Ext.Base,d=Ext.ClassManager,k=g.length;k-->0;)l=1<<k,i[h[l]=g[k]]=l;for(k in i)j|=i[k];j=~j,Function.prototype.$isFunction=1,e=Ext.Class.getPreprocessor("config").fn;for(b in c)c.hasOwnProperty(b)&&f.push(b);return a.derive=m,m.apply(this,arguments)},l=function(a,b,c){var d,e,f,g,i=c.enumerableMembers,j=a.prototype;if(b){for(d in b)g=b[d],g&&g.$isFunction&&!g.$isClass&&g!==Ext.emptyFn&&g!==Ext.identityFn?(j[d]=e=g,e.$owner=a,e.$name=d):j[d]=g;for(f=1;i;f<<=1)i&f&&(i&=~f,d=h[f],j[d]=e=b[d],e.$owner=a,e.$name=d)}},m=function(a,b,g,h,i,k,m,n,o,p,q){var r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=function(){return this.constructor.apply(this,arguments)||null},G=F,H={enumerableMembers:h&j,onCreated:q,onBeforeCreated:l,aliases:n},I=g.alternateClassName||[],J=Ext.global;for(t=f.length;t-->0;)x=f[t],F[x]=c[x];if(g.$isFunction&&(g=g(F)),H.data=g,A=g.statics,g.$className=a,g.$className&&(F.$className=g.$className),F.extend(b),z=F.prototype,F.xtype=g.xtype=i[0],i&&(z.xtypes=i),z.xtypesChain=k,z.xtypesMap=m,g.alias=n,G.triggerExtended(F,g,H),g.onClassExtended&&(F.onExtended(g.onClassExtended,F),delete g.onClassExtended),A)for(B in A)A.hasOwnProperty(B)&&(E=A[B],E&&E.$isFunction&&!E.$isClass&&E!==Ext.emptyFn&&E!==Ext.identityFn&&(F[B]=D=E,D.$owner=F,D.$name=B),F[B]=E);for(delete g.statics,g.inheritableStatics&&F.addInheritableStatics(g.inheritableStatics),z.onClassExtended&&(G.onExtended(z.onClassExtended,G),delete z.onClassExtended),g.config&&e(F,g),H.onBeforeCreated(F,H.data,H),t=0,v=o&&o.length;v>t;++t)F.mixin.apply(F,o[t]);for(t=0,v=n.length;v>t;t++)r=n[t],d.setAlias(F,r);for(g.singleton&&(G=new F),I instanceof Array||(I=[I]),t=0,u=I.length;u>t;t++)s=I[t],d.classes[s]=G,C=d.getName(G),y=d.maps.nameToAlternates,C&&C!==s&&(d.maps.alternateToName[s]=C,I=y[C]||(y[C]=[]),I.push(s));for(t=0,v=p.length;v>t;t+=2)w=p[t],w||(w=J),w[p[t+1]]=G;return d.classes[a]=G,C=d.getName(G),y=d.maps.nameToAlternates,C&&C!==a&&(d.maps.alternateToName[a]=C,I=y[C]||(y[C]=[]),I.push(a)),delete z.alternateClassName,H.onCreated&&H.onCreated.call(G,G),a&&d.triggerCreated(a),G};a.derive=k}(Ext.cmd={});var Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var a,b,c=this,d=Object.prototype,e=d.toString,f=!0,g={toString:1},h=function(){},i=function(){var a=i.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},j=/\S/,k=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=!0,Ext.global=c;for(a in g)f=null;f&&(f=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=f,Ext.apply=function(a,b,c){if(c&&Ext.apply(a,c),a&&b&&"object"==typeof b){var d,e,g;for(d in b)a[d]=b[d];if(f)for(e=f.length;e--;)g=f[e],b.hasOwnProperty(g)&&(a[g]=b[g])}return a},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:h,identityFn:function(a){return a},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(a,b){var c;if(a)for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},iterate:function(a,b,c){Ext.isEmpty(a)||(void 0===c&&(c=a),Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,b,c):Ext.Object.each.call(Ext.Object,a,b,c))}}),Ext.apply(Ext,{extend:function(){var a=d.constructor,b=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return function(c,d,e){Ext.isObject(d)&&(e=d,d=c,c=e.constructor!==a?e.constructor:function(){d.apply(this,arguments)});var f,g=function(){},h=d.prototype;return g.prototype=h,f=c.prototype=new g,f.constructor=c,c.superclass=h,h.constructor===a&&(h.constructor=d),c.override=function(a){Ext.override(c,a)},f.override=b,f.proto=f,c.override(e),c.extend=function(a){return Ext.extend(c,a)},c}}(),override:function(a,b){if(a.$isClass)a.override(b);else if("function"==typeof a)Ext.apply(a.prototype,b);else{var c,d,e=a.self;if(e&&e.$isClass)for(c in b)b.hasOwnProperty(c)&&(d=b[c],"function"==typeof d&&(d.$name=c,d.$owner=e,d.$previous=a.hasOwnProperty(c)?a[c]:i),a[c]=d);else Ext.apply(a,b)}return a}}),Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},typeOf:function(a){var b,c;if(null===a)return"null";if(b=typeof a,"undefined"===b||"string"===b||"number"===b||"boolean"===b)return b;switch(c=e.call(a)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===b?"function":"object"===b?void 0!==a.nodeType?3===a.nodeType?j.test(a.nodeValue)?"textnode":"whitespace":"element":"object":void 0},coerce:function(a,b){var c=Ext.typeOf(a),d=Ext.typeOf(b),e="string"==typeof a;if(c!==d)switch(d){case"string":return String(a);case"number":return Number(a);case"boolean":return!e||a&&"false"!==a?Boolean(a):!1;case"null":return!e||a&&"null"!==a?a:null;case"undefined":return!e||a&&"undefined"!==a?a:void 0;case"date":return e&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a))}return a},isEmpty:function(a,b){return null===a||void 0===a||(b?!1:""===a)||Ext.isArray(a)&&0===a.length},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===e.call(a)},isDate:function(a){return"[object Date]"===e.call(a)},isObject:"[object Object]"===e.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===e.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===e.call(a)},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){var b=typeof a;return"string"===b||"number"===b||"boolean"===b},isFunction:function(a){return!(!a||!a.$extIsFunction)},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isElement:function(a){return a?1===a.nodeType:!1},isTextNode:function(a){return a?"#text"===a.nodeName:!1},isDefined:function(a){return"undefined"!=typeof a},isIterable:function(a){return!a||"number"!=typeof a.length||"string"==typeof a||a.$extIsFunction?!1:a.propertyIsEnumerable?a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")?!0:k.test(e.call(a)):!!a.item}}),Ext.apply(Ext,{clone:function(a){var b,c,d,g,h,i;if(null===a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);if(b=e.call(a),"[object Date]"===b)return new Date(a.getTime());if("[object Array]"===b)for(c=a.length,h=[];c--;)h[c]=Ext.clone(a[c]);else if("[object Object]"===b&&a.constructor===Object){h={};for(i in a)h[i]=Ext.clone(a[i]);if(f)for(d=f.length;d--;)g=f[d],a.hasOwnProperty(g)&&(h[g]=a[g])}return h||a},getUniqueGlobalNamespace:function(){var a,b=this.uniqueGlobalNamespace;if(void 0===b){a=0;do b="ExtBox"+ ++a;while(void 0!==Ext.global[b]);Ext.global[b]=Ext,this.uniqueGlobalNamespace=b}return b},functionFactoryCache:{},cacheableFunctionFactory:function(){var a,b,c,d=this,e=Array.prototype.slice.call(arguments),f=d.functionFactoryCache;return Ext.isSandboxed&&(c=e.length,c>0&&(c--,e[c]="var Ext=window."+Ext.name+";"+e[c])),a=e.join(""),b=f[a],b||(b=Function.prototype.constructor.apply(Function.prototype,e),f[a]=b),b},functionFactory:function(){var a,b=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(a=b.length,a>0&&(a--,b[a]="var Ext=window."+Ext.name+";"+b[a])),Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:h,log:h,info:h,warn:h,error:function(a){throw new Error(a)},deprecate:h}}),Ext.type=Ext.typeOf,b=Ext.app,b||(b=Ext.app={}),Ext.apply(b,{namespaces:{},collectNamespaces:function(a){var b,c=Ext.app.namespaces;for(b in a)a.hasOwnProperty(b)&&(c[b]=!0)},addNamespaces:function(a){var b,c,d=Ext.app.namespaces;for(Ext.isArray(a)||(a=[a]),b=0,c=a.length;c>b;b++)d[a[b]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(a){var b,c=Ext.app.namespaces,d="";for(b in c)c.hasOwnProperty(b)&&b.length>d.length&&b+"."===a.substring(0,b.length+1)&&(d=b);return""===d?void 0:d}})}(),Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},function(){var a,b="4.2.1.883";Ext.Version=a=Ext.extend(Object,{constructor:function(b){var c,d;return b instanceof a?b:(this.version=this.shortVersion=String(b).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),d=this.version.search(/([^\d\.])/),-1!==d&&(this.release=this.version.substr(d,b.length),this.shortVersion=this.version.substr(0,d)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),c=this.version.split("."),this.major=parseInt(c.shift()||0,10),this.minor=parseInt(c.shift()||0,10),this.patch=parseInt(c.shift()||0,10),this.build=parseInt(c.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(b){return 1===a.compare(this.version,b)},isGreaterThanOrEqual:function(b){return a.compare(this.version,b)>=0},isLessThan:function(b){return-1===a.compare(this.version,b)},isLessThanOrEqual:function(b){return a.compare(this.version,b)<=0},equals:function(b){return 0===a.compare(this.version,b)},match:function(a){return a=String(a),this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(a,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return a?isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10):0},compare:function(b,c){var d,e,f;for(b=new a(b).toArray(),c=new a(c).toArray(),f=0;f<Math.max(b.length,c.length);f++){if(d=this.getComponentValue(b[f]),e=this.getComponentValue(c[f]),e>d)return-1;if(d>e)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(b,c){return Ext.versions[b]=new a(c),Ext.lastRegisteredVersion=Ext.versions[b],this},getVersion:function(a){return void 0===a?Ext.lastRegisteredVersion:Ext.versions[a]},deprecate:function(b,c,d,e){a.compare(Ext.getVersion(b),c)<1&&d.call(e)}}),Ext.setVersion("core",b)}(),Ext.String=function(){var a,b,c,d,e=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,f=/('|\\)/g,g=/\{(\d+)\}/g,h=/([-.*+?\^${}()|\[\]\/\\])/g,i=/^\s+|\s+$/g,j=/\s+/,k=/(^[^a-z]*|[^\w])/gi,l=function(b,c){return a[c]},m=function(a,c){return c in b?b[c]:String.fromCharCode(parseInt(c.substr(2),10))},n=function(a,b){return null===a||void 0===a||null===b||void 0===b?!1:b.length<=a.length};return{insert:function(a,b,c){if(!a)return b;if(!b)return a;var d=a.length;return c||0===c||(c=d),0>c&&(c*=-1,c=c>=d?0:d-c),0===c?a=b+a:c>=a.length?a+=b:a=a.substr(0,c)+b+a.substr(c),a},startsWith:function(a,b,c){var d=n(a,b);return d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=0===a.lastIndexOf(b,0)),d},endsWith:function(a,b,c){var d=n(a,b);return d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=-1!==a.indexOf(b,a.length-b.length)),d},createVarName:function(a){return a.replace(k,"")},htmlEncode:function(a){return a?String(a).replace(c,l):a},htmlDecode:function(a){return a?String(a).replace(d,m):a},addCharacterEntities:function(e){var f,g,h=[],i=[];for(f in e)g=e[f],b[f]=g,a[g]=f,h.push(g),i.push(f);c=new RegExp("("+h.join("|")+")","g"),d=new RegExp("("+i.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){a={},b={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,b){return Ext.isEmpty(b)?a:a+(-1===a.indexOf("?")?"?":"&")+b},trim:function(a){return a.replace(e,"")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var d=a.substr(0,b-2),e=Math.max(d.lastIndexOf(" "),d.lastIndexOf("."),d.lastIndexOf("!"),d.lastIndexOf("?"));if(-1!==e&&e>=b-15)return d.substr(0,e)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(h,"\\$1")},escape:function(a){return a.replace(f,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){var d=String(a);for(c=c||" ";d.length<b;)d=c+d;return d},format:function(a){var b=Ext.Array.toArray(arguments,1);return a.replace(g,function(a,c){return b[c]})},repeat:function(a,b,c){1>b&&(b=0);for(var d=[],e=b;e--;)d.push(a);return d.join(c||"")},splitWords:function(a){return a&&"string"==typeof a?a.replace(i,"").split(j):a||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var a=this,b="1"!==.9.toFixed(),c=Math;Ext.apply(this,{constrain:function(a,b,c){var d=parseFloat(a);return b>d?b:d>c?c:d},snap:function(b,c,d,e){var f;return void 0===b||d>b?d||0:(c&&(f=b%c,0!==f&&(b-=f,2*f>=c?b+=c:-c>2*f&&(b-=c))),a.constrain(b,d,e))},snapInRange:function(b,c,d,e){var f;return d=d||0,void 0===b||d>b?d:(c&&(f=(b-d)%c)&&(b-=f,f*=2,f>=c&&(b+=c)),void 0!==e&&b>(e=a.snapInRange(e,c,d))&&(b=e),b)},toFixed:b?function(a,b){b=b||0;var d=c.pow(10,b);return(c.round(a*d)/d).toFixed(b)}:function(a,b){return a.toFixed(b)},from:function(a,b){return isFinite(a)&&(a=parseFloat(a)),isNaN(a)?b:a},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}}),Ext.num=function(){return a.from.apply(this,arguments)}},function(){function a(a,b){return 0>b?Math.max(0,a.length+b):Math.min(a.length,b)}function b(b,c,d,e){var f,g,h,i,j,k,l=e?e.length:0,m=b.length,n=a(b,c);if(n===m)l&&b.push.apply(b,e);else{if(f=Math.min(d,m-n),g=n+f,h=g+l-f,i=m-g,j=m-f,g>h)for(k=0;i>k;++k)b[h+k]=b[g+k];else if(h>g)for(k=i;k--;)b[h+k]=b[g+k];if(l&&n===j)b.length=j,b.push.apply(b,e);else for(b.length=j+l,k=0;l>k;++k)b[n+k]=e[k]}return b}function c(a,b,c,d){return d&&d.length?0!==b||c?b<a.length?a.splice.apply(a,[b,c].concat(d)):a.push.apply(a,d):a.unshift.apply(a,d):a.splice(b,c),a
}function d(a,c,d){return b(a,c,d)}function e(a,b,c){return a.splice(b,c),a}function f(c,d,e){var f=a(c,d),g=c.slice(d,a(c,f+e));return arguments.length<4?b(c,f,e):b(c,f,e,m.call(arguments,3)),g}function g(a){return a.splice.apply(a,m.call(arguments,1))}var h,i,j,k,l=Array.prototype,m=l.slice,n=function(){var a,b=[],c=20;if(!b.splice)return!1;for(;c--;)b.push("A");return b.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),a=b.length,b.splice(13,0,"XXX"),a+1!=b.length?!1:!0}(),o="forEach"in l,p="map"in l,q="indexOf"in l,r="every"in l,s="some"in l,t="filter"in l,u=function(){var a=[1,2,3,4,5].sort(function(){return 0});return 1===a[0]&&2===a[1]&&3===a[2]&&4===a[3]&&5===a[4]}(),v=!0;try{"undefined"!=typeof document&&m.call(document.getElementsByTagName("body"))}catch(w){v=!1}i=n?e:d,j=n?c:b,k=n?g:f,h=Ext.Array={each:function(a,b,c,d){a=h.from(a);var e,f=a.length;if(d!==!0){for(e=0;f>e;e++)if(b.call(c||a[e],a[e],e,a)===!1)return e}else for(e=f-1;e>-1;e--)if(b.call(c||a[e],a[e],e,a)===!1)return e;return!0},forEach:o?function(a,b,c){a.forEach(b,c)}:function(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a)},indexOf:q?function(a,b,c){return l.indexOf.call(a,b,c)}:function(a,b,c){var d,e=a.length;for(d=0>c?Math.max(0,e+c):c||0;e>d;d++)if(a[d]===b)return d;return-1},contains:q?function(a,b){return-1!==l.indexOf.call(a,b)}:function(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},toArray:function(a,b,c){if(!a||!a.length)return[];if("string"==typeof a&&(a=a.split("")),v)return m.call(a,b||0,c||a.length);var d,e=[];for(b=b||0,c=c?0>c?a.length+c:c:a.length,d=b;c>d;d++)e.push(a[d]);return e},pluck:function(a,b){var c,d,e,f=[];for(c=0,d=a.length;d>c;c++)e=a[c],f.push(e[b]);return f},map:p?function(a,b,c){return a.map(b,c)}:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)d[e]=b.call(c,a[e],e,a);return d},every:r?function(a,b,c){return a.every(b,c)}:function(a,b,c){for(var d=0,e=a.length;e>d;++d)if(!b.call(c,a[d],d,a))return!1;return!0},some:s?function(a,b,c){return a.some(b,c)}:function(a,b,c){for(var d=0,e=a.length;e>d;++d)if(b.call(c,a[d],d,a))return!0;return!1},equals:function(a,b){var c,d=a.length,e=b.length;if(a===b)return!0;if(d!==e)return!1;for(c=0;d>c;++c)if(a[c]!==b[c])return!1;return!0},clean:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],Ext.isEmpty(b)||c.push(b);return c},unique:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],-1===h.indexOf(c,b)&&c.push(b);return c},filter:t?function(a,b,c){return a.filter(b,c)}:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d},findBy:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c||a,a[d],d))return a[d];return null},from:function(a,b){if(void 0===a||null===a)return[];if(Ext.isArray(a))return b?m.call(a):a;var c=typeof a;return!a||void 0===a.length||"string"===c||"function"===c&&a.apply?[a]:h.toArray(a)},remove:function(a,b){var c=h.indexOf(a,b);return-1!==c&&i(a,c,1),a},include:function(a,b){h.contains(a,b)||a.push(b)},clone:function(a){return m.call(a)},merge:function(){var a,b,c=m.call(arguments),d=[];for(a=0,b=c.length;b>a;a++)d=d.concat(c[a]);return h.unique(d)},intersect:function(){var a,b,c,d,e,f,g,j,k,l,n,o,p,q=[],r=m.call(arguments);if(!r.length)return q;for(a=r.length,n=e=0;a>n;n++)f=r[n],(!d||f.length<d.length)&&(d=f,e=n);for(d=h.unique(d),i(r,e,1),g=d.length,a=r.length,n=0;g>n;n++){for(j=d[n],l=0,o=0;a>o;o++)for(b=r[o],c=b.length,p=0;c>p;p++)if(k=b[p],j===k){l++;break}l===a&&q.push(j)}return q},difference:function(a,b){var c,d,e,f=m.call(a),g=f.length;for(c=0,e=b.length;e>c;c++)for(d=0;g>d;d++)f[d]===b[c]&&(i(f,d,1),d--,g--);return f},slice:[1,2].slice(1,void 0).length?function(a,b,c){return m.call(a,b,c)}:function(a,b,c){return"undefined"==typeof b?m.call(a):"undefined"==typeof c?m.call(a,b):m.call(a,b,c)},sort:u?function(a,b){return b?a.sort(b):a.sort()}:function(a,b){for(var c,d,e,f,g=a.length,h=0;g>h;h++){for(e=h,d=h+1;g>d;d++)b?(c=b(a[d],a[e]),0>c&&(e=d)):a[d]<a[e]&&(e=d);e!==h&&(f=a[h],a[h]=a[e],a[e]=f)}return a},flatten:function(a){function b(a){var d,e,f;for(d=0,e=a.length;e>d;d++)f=a[d],Ext.isArray(f)?b(f):c.push(f);return c}var c=[];return b(a)},min:function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;d>c;c++)e=a[c],b?1===b(f,e)&&(f=e):f>e&&(f=e);return f},max:function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;d>c;c++)e=a[c],b?-1===b(f,e)&&(f=e):e>f&&(f=e);return f},mean:function(a){return a.length>0?h.sum(a)/a.length:void 0},sum:function(a){var b,c,d,e=0;for(b=0,c=a.length;c>b;b++)d=a[b],e+=d;return e},toMap:function(a,b,c){var d={},e=a.length;if(b)if("string"==typeof b)for(;e--;)d[a[e][b]]=e+1;else for(;e--;)d[b.call(c,a[e])]=e+1;else for(;e--;)d[a[e]]=e+1;return d},toValueMap:function(a,b,c){var d={},e=a.length;if(b)if("string"==typeof b)for(;e--;)d[a[e][b]]=a[e];else for(;e--;)d[b.call(c,a[e])]=a[e];else for(;e--;)d[a[e]]=a[e];return d},erase:i,insert:function(a,b,c){return j(a,b,0,c)},replace:j,splice:k,push:function(a){var b,c=arguments.length,d=1;for(void 0===a?a=[]:Ext.isArray(a)||(a=[a]);c>d;d++)b=arguments[d],Array.prototype.push[Ext.isIterable(b)?"apply":"call"](a,b);return a}},Ext.each=h.each,h.union=h.merge,Ext.min=h.min,Ext.max=h.max,Ext.sum=h.sum,Ext.mean=h.mean,Ext.flatten=h.flatten,Ext.clean=h.clean,Ext.unique=h.unique,Ext.pluck=h.pluck,Ext.toArray=function(){return h.toArray.apply(h,arguments)}}(),Ext.Function={flexSetter:function(a){return function(b,c){var d,e;if(null===b)return this;if("string"!=typeof b){for(d in b)b.hasOwnProperty(d)&&a.call(this,d,b[d]);if(Ext.enumerables)for(e=Ext.enumerables.length;e--;)d=Ext.enumerables[e],b.hasOwnProperty(d)&&a.call(this,d,b[d])}else a.call(this,b,c);return this}},bind:function(a,b,c,d){if(2===arguments.length)return function(){return a.apply(b,arguments)};var e=a,f=Array.prototype.slice;return function(){var a=c||arguments;return d===!0?(a=f.call(arguments,0),a=a.concat(c)):"number"==typeof d&&(a=f.call(arguments,0),Ext.Array.insert(a,d,c)),e.apply(b||Ext.global,a)}},pass:function(a,b,c){return Ext.isArray(b)||(b=Ext.isIterable(b)?Ext.Array.clone(b):void 0!==b?[b]:[]),function(){var d=[].concat(b);return d.push.apply(d,arguments),a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,b,c,d){return Ext.isFunction(b)?(d=Ext.isDefined(d)?d:null,function(){var e=this,f=arguments;return b.target=e,b.method=a,b.apply(c||e||Ext.global,f)!==!1?a.apply(e||Ext.global,f):d}):a},createDelayed:function(a,b,c,d,e){return(c||d)&&(a=Ext.Function.bind(a,c,d,e)),function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(c,d)},b)}},defer:function(a,b,c,d,e){return a=Ext.Function.bind(a,c,d,e),b>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b):(a(),0)},createSequence:function(a,b,c){return b?function(){var d=a.apply(this,arguments);return b.apply(c||this,arguments),d}:a},createBuffered:function(a,b,c,d){var e;return function(){var f=d||Array.prototype.slice.call(arguments,0),g=c||this;e&&clearTimeout(e),e=setTimeout(function(){a.apply(g,f)},b)}},createThrottled:function(a,b,c){var d,e,f,g,h=function(){a.apply(c||this,f),d=Ext.Date.now()};return function(){e=Ext.Date.now()-d,f=arguments,clearTimeout(g),!d||e>=b?h():g=setTimeout(h,b-e)}},interceptBefore:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);return e.apply(this,arguments),a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){return e.apply(this,arguments),c.apply(d||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var a=function(){},b=Ext.Object={chain:Object.create||function(b){a.prototype=b;var c=new a;return a.prototype=null,c},toQueryObjects:function(a,c,d){var e,f,g=b.toQueryObjects,h=[];if(Ext.isArray(c))for(e=0,f=c.length;f>e;e++)d?h=h.concat(g(a+"["+e+"]",c[e],!0)):h.push({name:a,value:c[e]});else if(Ext.isObject(c))for(e in c)c.hasOwnProperty(e)&&(d?h=h.concat(g(a+"["+e+"]",c[e],!0)):h.push({name:a,value:c[e]}));else h.push({name:a,value:c});return h},toQueryString:function(a,c){var d,e,f,g,h,i=[],j=[];for(d in a)a.hasOwnProperty(d)&&(i=i.concat(b.toQueryObjects(d,a[d],c)));for(e=0,f=i.length;f>e;e++)g=i[e],h=g.value,Ext.isEmpty(h)?h="":Ext.isDate(h)&&(h=Ext.Date.toString(h)),j.push(encodeURIComponent(g.name)+"="+encodeURIComponent(String(h)));return j.join("&")},fromQueryString:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.replace(/^\?/,"").split("&"),r={};for(g=0,h=q.length;h>g;g++)if(i=q[g],i.length>0)if(d=i.split("="),e=decodeURIComponent(d[0]),f=void 0!==d[1]?decodeURIComponent(d[1]):"",b){if(l=e.match(/(\[):?([^\]]*)\]/g),m=e.match(/^([^\[]+)/),e=m[0],n=[],null===l){r[e]=f;continue}for(j=0,k=l.length;k>j;j++)o=l[j],o=2===o.length?"":o.substring(1,o.length-1),n.push(o);for(n.unshift(e),c=r,j=0,k=n.length;k>j;j++)o=n[j],j===k-1?Ext.isArray(c)&&""===o?c.push(f):c[o]=f:((void 0===c[o]||"string"==typeof c[o])&&(p=n[j+1],c[o]=Ext.isNumeric(p)||""===p?[]:{}),c=c[o])}else r.hasOwnProperty(e)?(Ext.isArray(r[e])||(r[e]=[r[e]]),r[e].push(f)):r[e]=f;return r},each:function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)&&b.call(c||a,d,a[d],a)===!1)return},merge:function(a){for(var c,d,e,f,g=1,h=arguments.length,i=b.merge,j=Ext.clone;h>g;g++){c=arguments[g];for(d in c)e=c[d],e&&e.constructor===Object?(f=a[d],f&&f.constructor===Object?i(f,e):a[d]=j(e)):a[d]=e}return a},mergeIf:function(a){for(var b,c,d,e=1,f=arguments.length,g=Ext.clone;f>e;e++){b=arguments[e];for(c in b)c in a||(d=b[c],a[c]=d&&d.constructor===Object?g(d):d)}return a},getKey:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null},getValues:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c},getKeys:"function"==typeof Object.keys?function(a){return a?Object.keys(a):[]}:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},getSize:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},equals:function(){var a=function(a,b){var c;for(c in a)if(a.hasOwnProperty(c)&&a[c]!==b[c])return!1;return!0};return function(b,c){return b===c?!0:b&&c?a(b,c)&&a(c,b):b||c?!1:b===c}}(),classify:function(a){var c,d,e=a,f=[],g={},h=function(){for(var a,b=0,c=f.length;c>b;b++)a=f[b],this[a]=new g[a]};for(c in a)a.hasOwnProperty(c)&&(d=a[c],d&&d.constructor===Object&&(f.push(c),g[c]=b.classify(d)));return h.prototype=e,h}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var a=Ext.Array.from(arguments),c="";return"string"==typeof a[1]&&(c=a[1]+"&",a[1]=!1),c+b.toQueryString.apply(b,a)},Ext.urlDecode=function(){return b.fromQueryString.apply(b,arguments)}}(),Ext.Date=new function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(g,function(a,c){return b[c]})}var b=this,c=/(\\.)/g,d=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,f=/\\/gi,g=/\{(\d+)\}/g,h=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),i=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");Ext.apply(b,{now:Date.now||function(){return+new Date},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),2,"0")+":"+b(a.getSeconds(),2,"0")},getElapsed:function(a,c){return Math.abs(a-(c||b.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];return e&&(e="function"==typeof e?e():e,b.parseCodes[c]=e),e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a){var b=(a||"").match(h);return b?new Date(1*((b[1]||"")+b[2])):null},time:function(a){var b=parseInt(a,10);return b||0===b?new Date(b):null},timestamp:function(a){var b=parseInt(a,10);return b||0===b?new Date(1e3*b):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return b.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return d.test(a.replace(c,""))},formatContainsDateInfo:function(a){return e.test(a.replace(c,""))},unescapeFormat:function(a){return a.replace(f,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var a,c,d,e,f;for(a="Y-m-dTH:i:sP",c=[],d=0,e=a.length;e>d;++d)f=a.charAt(d),c.push("T"==f?"'T'":b.getFormatCode(f));return c.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,c,d,e,f,g,h){e=e||0,f=f||0,g=g||0,h=h||0;var i=b.add(new Date(100>a?100:a,c-1,d,e,f,g,h),b.YEAR,100>a?a-100:0);return a==i.getFullYear()&&c==i.getMonth()+1&&d==i.getDate()&&e==i.getHours()&&f==i.getMinutes()&&g==i.getSeconds()&&h==i.getMilliseconds()},parse:function(a,c,d){var e=b.parseFunctions;return null==e[c]&&b.createParser(c),e[c].call(b,a,Ext.isDefined(d)?d:b.useStrict)},parseDate:function(a,c,d){return b.parse(a,c,d)},getFormatCode:function(a){var c=b.formatCodes[a];return c&&(c="function"==typeof c?c():c,b.formatCodes[a]=c),c||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var c,d=[],e=!1,f="";for(c=0;c<a.length;++c)f=a.charAt(c),e||"\\"!=f?e?(e=!1,d.push("'"+Ext.String.escape(f)+"'")):d.push(b.getFormatCode(f)):e=!0;b.formatFunctions[a]=Ext.functionFactory("return "+d.join("+"))},createParser:function(c){for(var d,e=b.parseRegexes.length,f=1,g=[],h=[],j=!1,k="",l=0,m=c.length,n=[];m>l;++l)k=c.charAt(l),j||"\\"!=k?j?(j=!1,h.push(Ext.String.escape(k))):(d=b.formatCodeToRegex(k,f),f+=d.g,h.push(d.s),d.g&&d.c&&(d.calcAtEnd?n.push(d.c):g.push(d.c))):j=!0;g=g.concat(n),b.parseRegexes[e]=new RegExp("^"+h.join("")+"$","i"),b.parseFunctions[c]=Ext.functionFactory("input","strict",a(i,e,g.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],c=0;7>c;a.push(b.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;12>c;a.push(b.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a,c,d=[],e=[b.formatCodeToRegex("Y",1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("H",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(a=0,c=e.length;c>a;++a)d.push(e[a].c);return{g:1,c:d.join(""),s:[e[0].s,"(?:","-",e[1].s,"(?:","-",e[2].s,"(?:","(?:T| )?",e[3].s,":",e[4].s,"(?::",e[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,c){return b.format(a,c)},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},format:function(a,c){var d=b.formatFunctions;return Ext.isDate(a)?(null==d[c]&&b.createFormat(c),d[c].call(a)+""):""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(c>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(a){var c,d=0,e=Ext.Date.clone(a),f=a.getMonth();for(c=0,e.setDate(1),e.setMonth(0);f>c;e.setMonth(++c))d+=b.getDaysInMonth(e);return d+a.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(c){var d=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,e=Math.floor(d/7),f=new Date(e*b).getUTCFullYear();return e-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(a){var b=a.getFullYear();return!(0!=(3&b)||!(b%100||b%400==0&&b))},getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return 0>b?b+7:b},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return 1==d&&b.isLeapYear(c)?29:a[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return new Date(a.getFullYear(),0,1).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,c){if(c)return Ext.Date.clearTime(Ext.Date.clone(a));var d,e,f=a.getDate();if(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.getDate()!=f){for(d=1,e=b.add(a,Ext.Date.HOUR,d);e.getDate()!=f;d++,e=b.add(a,Ext.Date.HOUR,d));a.setDate(f),a.setHours(e.getHours())}return a},add:function(a,c,d){var e,f,g=Ext.Date.clone(a),h=(Ext.Date,0);if(!c||0===d)return g;if(f=d-parseInt(d,10),d=parseInt(d,10))switch(c.toLowerCase()){case Ext.Date.MILLI:g.setTime(g.getTime()+d);break;case Ext.Date.SECOND:g.setTime(g.getTime()+1e3*d);break;case Ext.Date.MINUTE:g.setTime(g.getTime()+60*d*1e3);break;case Ext.Date.HOUR:g.setTime(g.getTime()+60*d*60*1e3);break;case Ext.Date.DAY:g.setDate(g.getDate()+d);break;case Ext.Date.MONTH:e=a.getDate(),e>28&&(e=Math.min(e,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.MONTH,d)).getDate())),g.setDate(e),g.setMonth(a.getMonth()+d);break;case Ext.Date.YEAR:e=a.getDate(),e>28&&(e=Math.min(e,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.YEAR,d)).getDate())),g.setDate(e),g.setFullYear(a.getFullYear()+d)}if(f){switch(c.toLowerCase()){case Ext.Date.MILLI:h=1;break;case Ext.Date.SECOND:h=1e3;break;case Ext.Date.MINUTE:h=6e4;break;case Ext.Date.HOUR:h=36e5;break;case Ext.Date.DAY:h=864e5;break;case Ext.Date.MONTH:e=b.getDaysInMonth(g),h=864e5*e;break;case Ext.Date.YEAR:e=b.isLeapYear(g)?366:365,h=864e5*e}h&&g.setTime(g.getTime()+h*f)}return g},subtract:function(a,c,d){return b.add(a,c,-d)},between:function(a,b,c){var d=a.getTime();return b.getTime()<=d&&d<=c.getTime()},compat:function(){var a,c,d,e,f=window.Date,g=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],h=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],i=g.length,j=h.length;for(e=0;i>e;e++)c=g[e],f[c]=b[c];for(a=0;j>a;a++)d=h[a],f.prototype[d]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(this),b[d].apply(b,a)}}})},function(a){var b=[],c=function(){},d=function(a,b,c,d){var e=function(){var b=this.callParent(arguments);return a.apply(this,arguments),b};return e.$name=c,e.$owner=d,b&&(e.$previous=b.$previous,b.$previous=e),e};Ext.apply(c,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(a){var b,c,d,e,f,g,h=a.prototype;if(c=this.prototype=Ext.Object.chain(h),c.self=this,this.superclass=c.superclass=h,!a.$isClass){b=Ext.Base.prototype;for(d in b)d in c&&(c[d]=b[d])}if(g=h.$inheritableStatics)for(d=0,e=g.length;e>d;d++)f=g[d],this.hasOwnProperty(f)||(this[f]=a[f]);a.$onExtended&&(this.$onExtended=a.$onExtended.slice()),c.config=new c.configClass,c.initConfigList=c.initConfigList.slice(),c.initConfigMap=Ext.clone(c.initConfigMap),c.configMap=Ext.Object.chain(c.configMap)},$onExtended:[],triggerExtended:function(){var a,b,c=this.$onExtended,d=c.length;if(d>0)for(a=0;d>a;a++)b=c[a],b.fn.apply(b.scope||this,arguments)},onExtended:function(a,b){return this.$onExtended.push({fn:a,scope:b}),this},addConfig:function(a,b){var c,d,e,f=this.prototype,g=Ext.Class.configNameCache,h=f.configMap,i=f.initConfigList,j=f.initConfigMap,k=f.config;for(d in a)a.hasOwnProperty(d)&&(h[d]||(h[d]=!0),e=a[d],c=g[d].initialized,j[d]||null===e||f[c]||(j[d]=!0,i.push(d)));b?Ext.merge(k,a):Ext.mergeIf(k,a),f.configClass=Ext.Object.classify(k)},addStatics:function(a){var b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],"function"!=typeof b||b.$isClass||b===Ext.emptyFn||b===Ext.identityFn||(b.$owner=this,b.$name=c),this[c]=b);return this},addInheritableStatics:function(a){var b,c,d,e,f=this.prototype;b=f.$inheritableStatics,c=f.$hasInheritableStatics,b||(b=f.$inheritableStatics=[],c=f.$hasInheritableStatics={});for(d in a)a.hasOwnProperty(d)&&(e=a[d],this[d]=e,c[d]||(c[d]=!0,b.push(d)));return this},addMembers:function(a){var b,c,d,e,f=this.prototype,g=Ext.enumerables,h=[];for(d in a)h.push(d);for(g&&h.push.apply(h,g),b=0,c=h.length;c>b;b++)d=h[b],a.hasOwnProperty(d)&&(e=a[d],"function"!=typeof e||e.$isClass||e===Ext.emptyFn||e===Ext.identityFn||(e.$owner=this,e.$name=d),f[d]=e);return this},addMember:function(a,b){return"function"!=typeof b||b.$isClass||b===Ext.emptyFn||b===Ext.identityFn||(b.$owner=this,b.$name=a),this.prototype[a]=b,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(a,b){var c,d,e,f,g,h=this.prototype,i=a.prototype;for(b=Ext.Array.from(b),c=0,d=b.length;d>c;c++)e=b[c],g=i[e],"function"==typeof g?(f=Ext.Function.clone(g),f.$owner=this,f.$name=e,h[e]=f):h[e]=g;return this},override:function(a){var b,c,d,e,f,g,h=this,i=Ext.enumerables,j=h.prototype,k=Ext.Function.clone;2===arguments.length&&(b=a,a={},a[b]=arguments[1],i=null);do{f=[],e=null;for(b in a)"statics"==b?e=a[b]:"inheritableStatics"==b?h.addInheritableStatics(a[b]):"config"==b?h.addConfig(a[b],!0):f.push(b);for(i&&f.push.apply(f,i),c=f.length;c--;)b=f[c],a.hasOwnProperty(b)&&(d=a[b],"function"!=typeof d||d.$className||d===Ext.emptyFn||d===Ext.identityFn||("undefined"!=typeof d.$owner&&(d=k(d)),d.$owner=h,d.$name=b,g=j[b],g&&(d.$previous=g)),j[b]=d);j=h,a=e}while(a);return this},callParent:function(a){var c;return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,b){var c,e,f,g,h,i,j,k,l=this,m=b.prototype,n=l.prototype;"undefined"!=typeof m.onClassMixedIn&&m.onClassMixedIn.call(b,l),n.hasOwnProperty("mixins")||(n.mixins="mixins"in n?Ext.Object.chain(n.mixins):{});for(c in m)if(i=m[c],"mixins"===c)Ext.merge(n.mixins,i);else if("xhooks"===c)for(j in i)k=i[j],k.$previous=Ext.emptyFn,n.hasOwnProperty(j)?d(k,n[j],j,l):n[j]=d(k,null,j,l);else"mixinId"!==c&&"config"!==c&&void 0===n[c]&&(n[c]=i);if(e=m.$inheritableStatics)for(f=0,g=e.length;g>f;f++)h=e[f],l.hasOwnProperty(h)||(l[h]=b[h]);return"config"in m&&l.addConfig(m.config,!1),n.mixins[a]=m,l},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){this.override(a,function(){return this[b].apply(this,arguments)})}),addXtype:function(a){var b=this.prototype,c=b.xtypesMap,d=b.xtypes,e=b.xtypesChain;return b.hasOwnProperty("xtypesMap")||(c=b.xtypesMap=Ext.merge({},b.xtypesMap||{}),d=b.xtypes=b.xtypes?[].concat(b.xtypes):[],e=b.xtypesChain=b.xtypesChain?[].concat(b.xtypesChain):[],b.xtype=a),c[a]||(c[a]=!0,d.push(a),e.push(a),Ext.ClassManager.setAlias(this,"widget."+a)),this}}),c.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,b=this.self;return a?a.$owner:b},callParent:function(a){var c,d=(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);return d.apply(this,a||b)},callSuper:function(a){var c,d=(c=this.callSuper.caller)&&(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name];return d.apply(this,a||b)},self:c,constructor:function(){return this},initConfig:function(a){var b,c,d,e,f,g=a,h=Ext.Class.configNameCache,i=new this.configClass,j=this.initConfigList,k=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=g||{},this.config=a=g?Ext.merge(i,a):i,g){j=j.slice();for(e in g)k[e]&&null!==g[e]&&(j.push(e),this[h[e].initialized]=!1)}for(c=0,d=j.length;d>c;c++)e=j[c],b=h[e],f=b.initialized,this[f]||(this[f]=!0,this[b.set].call(this,a[e]));return this},hasConfig:function(a){return Boolean(this.configMap[a])},setConfig:function(a,b){if(!a)return this;var c,d,e=Ext.Class.configNameCache,f=this.config,g=this.configMap,h=this.initialConfig;b=Boolean(b);for(c in a)b&&h.hasOwnProperty(c)||(d=a[c],f[c]=d,g[c]&&this[e[c].set](d));return this},getConfig:function(a){var b=Ext.Class.configNameCache;return this[b[a].get]()},getInitialConfig:function(a){var b=this.config;return a?b[a]:b},onConfigUpdate:function(a,b,c){var d,e,f,g,h,i,j=this.self;for(a=Ext.Array.from(a),c=c||this,d=0,e=a.length;e>d;d++)f=a[d],g="update"+Ext.String.capitalize(f),h=this[g]||Ext.emptyFn,i=function(){h.apply(this,arguments),c[b].apply(c,arguments)},i.$name=g,i.$owner=j,this[g]=i},destroy:function(){this.destroy=Ext.emptyFn
}}),c.prototype.callOverridden=c.prototype.callParent,Ext.Base=c}(Ext.Function.flexSetter),function(){function a(){function a(){return this.constructor.apply(this,arguments)||null}return a}var b,c,d,e=Ext.Base,f=[];for(c in e)e.hasOwnProperty(c)&&f.push(c);d=f.length,Ext.Class=b=function(a,c,d){return"function"!=typeof a&&(d=c,c=a,a=null),c||(c={}),a=b.create(a,c),b.process(a,c,d),a},Ext.apply(b,{onBeforeCreated:function(a,b,c){a.addMembers(b),c.onCreated.call(a,a)},create:function(b){var c,g;for(b||(b=a()),g=0;d>g;g++)c=f[g],b[c]=e[c];return b},process:function(a,c,d){var e,f,g,h,i,j,k,l=c.preprocessors||b.defaultPreprocessors,m=this.preprocessors,n={onBeforeCreated:this.onBeforeCreated},o=[];for(delete c.preprocessors,g=0,h=l.length;h>g;g++)if(e=l[g],"string"==typeof e){if(e=m[e],f=e.properties,f===!0)o.push(e.fn);else if(f)for(i=0,j=f.length;j>i;i++)if(k=f[i],c.hasOwnProperty(k)){o.push(e.fn);break}}else o.push(e);n.onCreated=d?d:Ext.emptyFn,n.preprocessors=o,this.doProcess(a,c,n)},doProcess:function(a,b,c){for(var d=this,e=c.preprocessors,f=e.shift(),g=d.doProcess;f;f=e.shift())if(f.call(d,a,b,c,g)===!1)return;c.onBeforeCreated.apply(d,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,e){return d||(d="last"),c||(c=[a]),this.preprocessors[a]={name:a,properties:c||!1,fn:b},this.setDefaultPreprocessorPosition(a,d,e),this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){return this.defaultPreprocessors=Ext.Array.from(a),this},setDefaultPreprocessorPosition:function(a,b,c){var d,e=this.defaultPreprocessors;if("string"==typeof b){if("first"===b)return e.unshift(a),this;if("last"===b)return e.push(a),this;b="after"===b?1:-1}return d=Ext.Array.indexOf(e,c),-1!==d&&Ext.Array.splice(e,Math.max(0,d+b),0,a),this},configNameCache:{},getConfigNameMap:function(a){var b,c=this.configNameCache,d=c[a];return d||(b=a.charAt(0).toUpperCase()+a.substr(1),d=c[a]={internal:a,initialized:"_is"+b+"Initialized",apply:"apply"+b,update:"update"+b,set:"set"+b,get:"get"+b,doSet:"doSet"+b,changeEvent:a.toLowerCase()+"change"}),d}}),b.registerPreprocessor("extend",function(a,b){var c,d,e,f=Ext.Base,g=f.prototype,h=b.extend;if(delete b.extend,c=h&&h!==Object?h:f,d=c.prototype,!c.$isClass)for(e in g)d[e]||(d[e]=g[e]);a.extend(c),a.triggerExtended.apply(a,arguments),b.onClassExtended&&(a.onExtended(b.onClassExtended,a),delete b.onClassExtended)},!0),b.registerPreprocessor("statics",function(a,b){a.addStatics(b.statics),delete b.statics}),b.registerPreprocessor("inheritableStatics",function(a,b){a.addInheritableStatics(b.inheritableStatics),delete b.inheritableStatics}),b.registerPreprocessor("config",function(a,c){var d=c.config,e=a.prototype;delete c.config,Ext.Object.each(d,function(a,d){var f,g,h=b.getConfigNameMap(a),i=h.internal,j=h.initialized,k=h.apply,l=h.update,m=h.set,n=h.get,o=m in e||c.hasOwnProperty(m),p=k in e||c.hasOwnProperty(k),q=l in e||c.hasOwnProperty(l);null!==d&&(o||p||q)?e[j]=!1:(e[i]=d,e[j]=!0),o||(c[m]=function(a){var b=this[i],c=this[k],d=this[l];return this[j]||(this[j]=!0),c&&(a=c.call(this,a,b)),"undefined"!=typeof a&&(this[i]=a,d&&a!==b&&d.call(this,a,b)),this}),n in e&&!c.hasOwnProperty(n)||(g=c[n]||!1,f=g?function(){return g.apply(this,arguments)}:function(){return this[i]},c[n]=function(){var b;return this[j]||(this[j]=!0,this[m](this.config[a])),b=this[n],"$previous"in b?b.$previous=f:this[n]=f,f.apply(this,arguments)})}),a.addConfig(d,!0)}),b.registerPreprocessor("mixins",function(a,b,c){var d,e,f,g,h=b.mixins;delete b.mixins,Ext.Function.interceptBefore(c,"onCreated",function(){if(h instanceof Array)for(f=0,g=h.length;g>f;f++)e=h[f],d=e.prototype.mixinId||e.$className,a.mixin(d,e);else for(var b in h)h.hasOwnProperty(b)&&a.mixin(b,h[b])})}),Ext.extend=function(a,c,d){2===arguments.length&&Ext.isObject(c)&&(d=c,c=a,a=null);var e;if(!c)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return d.extend=c,d.preprocessors=["extend","statics","inheritableStatics","mixins","config"],a?(e=new b(a,d),e.prototype.constructor=a):e=new b(d),e.prototype.override=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},e}}(),function(a,b,c,d,e){function f(){function a(){return this.constructor.apply(this,arguments)||null}return a}var g=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(a){var b,c,d,f,g,h=this.existCache;if(this.classes[a]||h[a])return!0;for(f=e,g=this.parseNamespace(a),b=0,c=g.length;c>b;b++)if(d=g[b],"string"!=typeof d)f=d;else{if(!f||!f[d])return!1;f=f[d]}return h[a]=!0,this.triggerCreated(a),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(a){var b,c,d,e,f,g,h=this.createdListeners,i=this.nameCreatedListeners,j=this.maps.nameToAlternates[a],k=[a];for(b=0,c=h.length;c>b;b++)f=h[b],f.fn.call(f.scope,a);for(j&&k.push.apply(k,j),b=0,c=k.length;c>b;b++)if(g=k[b],h=i[g]){for(d=0,e=h.length;e>d;d++)f=h[d],f.fn.call(f.scope,g);delete i[g]}},onCreated:function(a,b,c){var d=this.createdListeners,e=this.nameCreatedListeners,f={fn:a,scope:b};if(c){if(this.isCreated(c))return void a.call(b,c);e[c]||(e[c]=[]),e[c].push(f)}else d.push(f)},parseNamespace:function(a){var b,c,d,f,g,h,i,j,k,l=this.namespaceParseCache;if(this.enableNamespaceParseCache&&l.hasOwnProperty(a))return l[a];for(b=[],c=this.namespaceRewrites,d=e,f=a,j=0,k=c.length;k>j;j++)if(g=c[j],h=g.from,i=g.to,f===h||f.substring(0,h.length)===h){f=f.substring(h.length),"string"!=typeof i?d=i:b=b.concat(i.split("."));break}return b.push(d),b=b.concat(f.split(".")),this.enableNamespaceParseCache&&(l[a]=b),b},setNamespace:function(a,b){var c,d,f=e,g=this.parseNamespace(a),h=g.length-1,i=g[h];for(c=0;h>c;c++)d=g[c],"string"!=typeof d?f=d:(f[d]||(f[d]={}),f=f[d]);return f[i]=b,f[i]},createNamespaces:function(){var a,b,c,d,f,g,h=e;for(c=0,f=arguments.length;f>c;c++)for(a=this.parseNamespace(arguments[c]),d=0,g=a.length;g>d;d++)b=a[d],"string"!=typeof b?h=b:(h[b]||(h[b]={}),h=h[b]);return h},set:function(a,b){var c,d=this,e=d.maps,f=e.nameToAlternates,g=d.getName(b);return d.classes[a]=d.setNamespace(a,b),g&&g!==a&&(e.alternateToName[a]=g,c=f[g]||(f[g]=[]),c.push(a)),this},get:function(a){var b,c,d,f,g,h=this.classes;if(h[a])return h[a];for(b=e,c=this.parseNamespace(a),f=0,g=c.length;g>f;f++)if(d=c[f],"string"!=typeof d)b=d;else{if(!b||!b[d])return null;b=b[d]}return b},setAlias:function(a,b){var c,d=this.maps.aliasToName,e=this.maps.nameToAliases;return c="string"==typeof a?a:this.getName(a),b&&d[b]!==c&&(d[b]=c),e[c]||(e[c]=[]),b&&Ext.Array.include(e[c],b),this},addNameAliasMappings:function(a){var b,c,d,e,f=this.maps.aliasToName,g=this.maps.nameToAliases;for(b in a)for(c=g[b]||(g[b]=[]),e=0;e<a[b].length;e++)d=a[b][e],f[d]||(f[d]=b,c.push(d));return this},addNameAlternateMappings:function(a){var b,c,d,e,f=this.maps.alternateToName,g=this.maps.nameToAlternates;for(b in a)for(c=g[b]||(g[b]=[]),e=0;e<a[b].length;e++)d=a[b][e],f[d]||(f[d]=b,c.push(d));return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){var e=f();return"function"==typeof c&&(c=c(e)),c.$className=b,new a(e,c,function(){var a,e,f,h,i,j,k,l=c.postprocessors||g.defaultPostprocessors,m=g.postprocessors,n=[];for(delete c.postprocessors,e=0,f=l.length;f>e;e++)if(a=l[e],"string"==typeof a){if(a=m[a],j=a.properties,j===!0)n.push(a.fn);else if(j)for(h=0,i=j.length;i>h;h++)if(k=j[h],c.hasOwnProperty(k)){n.push(a.fn);break}}else n.push(a);c.postprocessors=n,c.createdFn=d,g.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=this,e=c.postprocessors.shift(),f=c.createdFn;return e?void(e.call(d,a,b,c,d.processCreate)!==!1&&d.processCreate(a,b,c)):(a&&d.set(a,b),f&&f.call(b,b),void(a&&d.triggerCreated(a)))},createOverride:function(a,b,c){var d=this,e=b.override,f=b.requires,g=b.uses,h=function(){var i,j;f?(j=f,f=null,Ext.Loader.require(j,h)):(i=d.get(e),delete b.override,delete b.requires,delete b.uses,Ext.override(i,b),d.triggerCreated(a),g&&Ext.Loader.addUsedClasses(g),c&&c.call(i))};return d.existCache[a]=!0,d.onCreated(h,d,e),d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),d=this.getNameByAlias(a);return d||(d=this.maps.aliasToName[a],Ext.syncRequire(d)),b[0]=d,this.instantiate.apply(this,b)},instantiate:function(){var a,b,d=arguments[0],e=typeof d,f=c.call(arguments,1);return"function"!=e?("string"!=e&&0===f.length&&(f=[d],d=d.xclass),b=this.get(d)):b=d,b||(a=this.getNameByAlias(d),a&&(d=a,b=this.get(d))),b||(a=this.getNameByAlternate(d),a&&(d=a,b=this.get(d))),b||(Ext.syncRequire(d),b=this.get(d)),this.getInstantiator(f.length)(b,f)},dynInstantiate:function(a,b){return b=d(b,!0),b.unshift(a),this.instantiate.apply(this,b)},getInstantiator:function(a){var b,c,d,e=this.instantiators;if(b=e[a],!b){for(c=a,d=[],c=0;a>c;c++)d.push("a["+c+"]");b=e[a]=new Function("c","a","return new c("+d.join(",")+")")}return b},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){return d||(d="last"),c||(c=[a]),this.postprocessors[a]={name:a,properties:c||!1,fn:b},this.setDefaultPostprocessorPosition(a,d,e),this},setDefaultPostprocessors:function(a){return this.defaultPostprocessors=d(a),this},setDefaultPostprocessorPosition:function(a,b,c){var d,e=this.defaultPostprocessors;if("string"==typeof b){if("first"===b)return e.unshift(a),this;if("last"===b)return e.push(a),this;b="after"===b?1:-1}return d=Ext.Array.indexOf(e,c),-1!==d&&Ext.Array.splice(e,Math.max(0,d+b),0,a),this},getNamesByExpression:function(a){var b,c,d,e,f,g,h,i=this.maps.nameToAliases,j=[];if(-1!==a.indexOf("*")){a=a.replace(/\*/g,"(.*?)"),f=new RegExp("^"+a+"$");for(b in i)if(i.hasOwnProperty(b))if(d=i[b],-1!==b.search(f))j.push(b);else for(g=0,h=d.length;h>g;g++)if(c=d[g],-1!==c.search(f)){j.push(b);break}}else e=this.getNameByAlias(a),e?j.push(e):(e=this.getNameByAlternate(a),j.push(e?e:a));return j}};g.registerPostprocessor("alias",function(a,c,d){var e,f,g=d.alias;for(e=0,f=g.length;f>e;e++)b=g[e],this.setAlias(c,b)},["xtype","alias"]),g.registerPostprocessor("singleton",function(a,b,c,d){return c.singleton?(d.call(this,a,new b,c),!1):!0}),g.registerPostprocessor("alternateClassName",function(a,b,c){var d,e,f,g=c.alternateClassName;for(g instanceof Array||(g=[g]),d=0,e=g.length;e>d;d++)f=g[d],this.set(f,b)}),Ext.apply(Ext,{create:b(g,"instantiate"),widget:function(a,b){var c,d,e,f,h=a;return"string"!=typeof h?(b=a,h=b.xtype):b=b||{},b.isComponent?b:(c="widget."+h,d=g.getNameByAlias(c),d||(f=!0),e=g.get(d),f||!e?g.instantiateByAlias(c,b):new e(b))},createByAlias:b(g,"instantiateByAlias"),define:function(a,b){return b.override?g.createOverride.apply(g,arguments):g.create.apply(g,arguments)},undefine:function(a){var b,c,d,e,f=g.classes,h=g.maps,i=h.aliasToName,j=h.nameToAliases,k=h.alternateToName,l=h.nameToAlternates,m=j[a],n=l[a];if(delete g.namespaceParseCache[a],delete j[a],delete l[a],delete f[a],m)for(e=m.length;e--;)delete i[m[e]];if(n)for(e=n.length;e--;)delete k[n[e]];for(b=g.parseNamespace(a),c=b.length-1,d=b[0],e=1;c>e;e++)if(d=d[b[e]],!d)return;try{delete d[b[c]]}catch(o){d[b[c]]=void 0}},getClassName:b(g,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},getClass:b(g,"getClass"),namespace:b(g,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,a.registerPreprocessor("className",function(a,b){b.$className&&(a.$className=b.$className)},!0,"first"),a.registerPreprocessor("alias",function(a,b){var c,e,f,g,h=a.prototype,i=d(b.xtype),j=d(b.alias),k="widget.",l=k.length,m=Array.prototype.slice.call(h.xtypesChain||[]),n=Ext.merge({},h.xtypesMap||{});for(c=0,e=j.length;e>c;c++)f=j[c],f.substring(0,l)===k&&(g=f.substring(l),Ext.Array.include(i,g));for(a.xtype=b.xtype=i[0],b.xtypes=i,c=0,e=i.length;e>c;c++)g=i[c],n[g]||(n[g]=!0,m.push(g));for(b.xtypesChain=m,b.xtypesMap=n,Ext.Function.interceptAfter(b,"onClassCreated",function(){var a,b,d=h.mixins;for(a in d)if(d.hasOwnProperty(a)&&(b=d[a],i=b.xtypes))for(c=0,e=i.length;e>c;c++)g=i[c],n[g]||(n[g]=!0,m.push(g))}),c=0,e=i.length;e>c;c++)g=i[c],Ext.Array.include(j,k+g);b.alias=j},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null),Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null),Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Class,d=Ext.Function.flexSetter,e=Ext.Function.alias,f=Ext.Function.pass,g=Ext.Function.defer,h=Ext.Array.erase,i=["extend","mixins","requires"],j={},k=[],l=/\/\.\//g,m=/\./g,n=0;Ext.apply(a,{isInHistory:j,history:k,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(b,c){return Ext.isObject(b)&&1===arguments.length?(Ext.merge(a.config,b),"paths"in b&&Ext.app.collectNamespaces(b.paths)):(a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c,"paths"===b&&Ext.app.collectNamespaces(c)),a},getConfig:function(b){return b?a.config[b]:a.config},setPath:d(function(b,c){return a.config.paths[b]=c,Ext.app.namespaces[b]=!0,n++,a}),addClassPathMappings:function(b){var c;if(0==n)a.config.paths=b;else for(c in b)a.config.paths[c]=b[c];return n++,a},getPath:function(b){var c="",d=a.config.paths,e=a.getPrefix(b);if(e.length>0){if(e===b)return d[e];c=d[e],b=b.substring(e.length+1)}return c.length>0&&(c+="/"),c.replace(l,"/")+b.replace(m,"/")+".js"},getPrefix:function(b){var c,d=a.config.paths,e="";if(d.hasOwnProperty(b))return b;for(c in d)d.hasOwnProperty(c)&&c+"."===b.substring(0,c.length+1)&&c.length>e.length&&(e=c);return e},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return""!==c&&c!==b},require:function(a,b,c){b&&b.call(c)},syncRequire:function(){},exclude:function(b){return{require:function(c,d,e){return a.require(c,d,e,b)},syncRequire:function(c,d,e){return a.syncRequire(c,d,e,b)}}},onReady:function(a,b,c,d){var e;c!==!1&&Ext.onDocumentReady&&(e=a,a=function(){Ext.onDocumentReady(e,b,d)}),a.call(b)}});var o=[],p={},q={},r={},s={},t=[],u=[],v={},w=function(a,b){return b.priority-a.priority};Ext.apply(a,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:o,isClassFileLoaded:p,isFileLoaded:q,readyListeners:t,optionalRequires:u,requiresMap:v,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:r,scriptsLoading:0,syncModeEnabled:!1,scriptElements:s,refreshQueue:function(){var c,d,e,f,g=o.length;if(!g&&!a.scriptsLoading)return a.triggerReady();for(c=0;g>c;c++)if(d=o[c]){if(f=d.requires,f.length>a.numLoadedFiles)continue;for(e=0;e<f.length;)b.isCreated(f[e])?h(f,e,1):e++;if(0===d.requires.length){h(o,c,1),d.callback.call(d.scope),a.refreshQueue();break}}return a},injectScriptElement:function(b,c,d,e,f){var h=document.createElement("script"),i=!1,j=a.config,k=function(){i||(i=!0,h.onload=h.onreadystatechange=h.onerror=null,"number"==typeof j.scriptChainDelay?g(c,j.scriptChainDelay,e):c.call(e),a.cleanupScriptElement(h,j.preserveScripts===!1,j.garbageCollect))},l=function(){g(d,1,e),a.cleanupScriptElement(h,j.preserveScripts===!1,j.garbageCollect)};return h.type="text/javascript",h.onerror=l,f=f||j.scriptCharset,f&&(h.charset=f),"addEventListener"in h?h.onload=k:"readyState"in h?h.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&k()}:h.onload=k,h.src=b,(a.documentHead||document.getElementsByTagName("head")[0]).appendChild(h),h},removeScriptElement:function(b){return s[b]&&(a.cleanupScriptElement(s[b],!0,!!a.getConfig("garbageCollect")),delete s[b]),a},cleanupScriptElement:function(b,c,d){var e;if(b.onload=b.onreadystatechange=b.onerror=null,c&&(Ext.removeNode(b),d))for(e in b)try{"src"!=e&&(b[e]=null),delete b[e]}catch(f){}return a},loadScript:function(b){var c,d=a.getConfig(),e="string"==typeof b,f=e?b:b.url,g=!e&&b.onError,h=!e&&b.onLoad,i=!e&&b.scope,j=function(){a.numPendingFiles--,a.scriptsLoading--,g&&g.call(i,"Failed loading '"+f+"', please verify that the file exists"),a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()},k=function(){a.numPendingFiles--,a.scriptsLoading--,h&&h.call(i),a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()};a.isLoading=!0,a.numPendingFiles++,a.scriptsLoading++,c=d.disableCaching?f+"?"+d.disableCachingParam+"="+Ext.Date.now():f,s[f]=a.injectScriptElement(c,k,j)},loadScriptFile:function(b,c,d,e,f){if(q[b])return a;var g,h,i,j=a.getConfig(),k=b+(j.disableCaching?"?"+j.disableCachingParam+"="+Ext.Date.now():""),l=!1,m="";if(e=e||a,a.isLoading=!0,f){g="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{g.open("GET",k,!1),g.send(null)}catch(n){l=!0}h=1223===g.status?204:0!==g.status||"file:"!=(self.location||{}).protocol&&"ionp:"!=(self.location||{}).protocol?g.status:200,l=l||0===h,l||(h>=200&&300>h||304===h)&&(Ext.isIE||(m="\n//@ sourceURL="+b),Ext.globalEval(g.responseText+m),c.call(e)),g=null}else i=function(){},s[b]=a.injectScriptElement(k,c,i,e)},syncRequire:function(){var b=a.syncModeEnabled;b||(a.syncModeEnabled=!0),a.require.apply(a,arguments),b||(a.syncModeEnabled=!1),a.refreshQueue()},require:function(c,d,e,g){var h,i,j,k,l,m,n,q,s,t,u,v={},w={},x=[],y=[],z=[],A=[];if(g)for(g="string"==typeof g?[g]:g,q=0,t=g.length;t>q;q++)if(l=g[q],"string"==typeof l&&l.length>0)for(x=b.getNamesByExpression(l),s=0,u=x.length;u>s;s++)v[x[s]]=!0;for(c="string"==typeof c?[c]:c?c:[],h=d?d.length>0?function(){var a,c,e=[];for(a=0,c=A.length;c>a;a++)e.push(b.get(A[a]));return d.apply(this,e)}:d:Ext.emptyFn,e=e||Ext.global,q=0,t=c.length;t>q;q++)if(k=c[q],"string"==typeof k&&k.length>0)for(y=b.getNamesByExpression(k),u=y.length,s=0;u>s;s++)n=y[s],v[n]!==!0&&(A.push(n),b.isCreated(n)||w[n]||(w[n]=!0,z.push(n)));if(!(z.length>0))return h.call(e),a;if(!a.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(z.length>1?"es":"")+": "+z.join(", "));for(i=a.syncModeEnabled,i||o.push({requires:z.slice(),callback:h,scope:e}),t=z.length,q=0;t>q;q++)m=z[q],j=a.getPath(m),i&&p.hasOwnProperty(m)&&(p[m]||(a.numPendingFiles--,a.removeScriptElement(j),delete p[m])),p.hasOwnProperty(m)||(p[m]=!1,r[m]=j,a.numPendingFiles++,a.loadScriptFile(j,f(a.onFileLoaded,[m,j],a),f(a.onFileLoadError,[m,j],a),a,i));return i&&(h.call(e),1===t)?b.get(m):a},onFileLoaded:function(b,c){var d=p[b];a.numLoadedFiles++,p[b]=!0,q[c]=!0,d||a.numPendingFiles--,0===a.numPendingFiles&&a.refreshQueue()},onFileLoadError:function(){a.numPendingFiles--,a.hasFileLoadError=!0},addUsedClasses:function(b){var c,d,e;if(b)for(b="string"==typeof b?[b]:b,d=0,e=b.length;e>d;d++)c=b[d],"string"!=typeof c||Ext.Array.contains(u,c)||u.push(c);return a},triggerReady:function(){var b,c=u;if(a.isLoading&&(a.isLoading=!1,0!==c.length))return c=c.slice(),u.length=0,a.require(c,a.triggerReady,a),a;for(Ext.Array.sort(t,w);t.length&&!a.isLoading;)b=t.shift(),b.fn.call(b.scope);return a},onReady:function(b,c,d,e){var f;d!==!1&&Ext.onDocumentReady&&(f=b,b=function(){Ext.onDocumentReady(f,c,e)}),a.isLoading?t.push({fn:b,scope:c,priority:e&&e.priority||0}):b.call(c)},historyPush:function(b){return b&&p.hasOwnProperty(b)&&!j[b]&&(j[b]=!0,k.push(b)),a}}),Ext.disableCacheBuster=function(a,b){var c=new Date;c.setTime(c.getTime()+24*(a?3650:-1)*60*60*1e3),c=c.toGMTString(),document.cookie="ext-cache=1; expires="+c+"; path="+(b||"/")},Ext.require=e(a,"require"),Ext.syncRequire=e(a,"syncRequire"),Ext.exclude=e(a,"exclude"),Ext.onReady=function(b,c,d){a.onReady(b,c,!0,d)},c.registerPreprocessor("loader",function(c,d,e,f){{var g,h,j,k,l,m,n,o=this,p=[];b.getName(c)}for(g=0,j=i.length;j>g;g++)if(m=i[g],d.hasOwnProperty(m))if(n=d[m],"string"==typeof n)p.push(n);else if(n instanceof Array)for(h=0,k=n.length;k>h;h++)l=n[h],"string"==typeof l&&p.push(l);else if("function"!=typeof n)for(h in n)n.hasOwnProperty(h)&&(l=n[h],"string"==typeof l&&p.push(l));if(0!==p.length)return a.require(p,function(){for(g=0,j=i.length;j>g;g++)if(m=i[g],d.hasOwnProperty(m))if(n=d[m],"string"==typeof n)d[m]=b.get(n);else if(n instanceof Array)for(h=0,k=n.length;k>h;h++)l=n[h],"string"==typeof l&&(d[m][h]=b.get(l));else if("function"!=typeof n)for(var a in n)n.hasOwnProperty(a)&&(l=n[a],"string"==typeof l&&(d[m][a]=b.get(l)));f.call(o,c,d,e)}),!1},!0,"after","className"),b.registerPostprocessor("uses",function(b,c,d){var e=d.uses;e&&a.addUsedClasses(e)}),b.onCreated(a.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b.src,d=c.substring(0,c.lastIndexOf("/")+1),e=Ext.Loader;e.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:d+"src"}})}(),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(a){a=a||{},Ext.isString(a)&&(a={msg:a});var b,c=this.raise.caller;if(c&&(c.$name&&(a.sourceMethod=c.$name),c.$owner&&(a.sourceClass=c.$owner.$className)),Ext.Error.handle(a)!==!0)throw b=Ext.Error.prototype.toString.call(a),Ext.log({msg:b,level:"error",dump:a,stack:!0}),new Ext.Error(a)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){Ext.isString(a)&&(a={msg:a});var b=this;Ext.apply(b,a),b.message=b.message||b.msg},toString:function(){var a=this,b=a.sourceClass?a.sourceClass:"",c=a.sourceMethod?"."+a.sourceMethod+"(): ":"",d=a.msg||"(No description provided)";return b+c+d}}),Ext.deprecated=function(){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(a){return 10>a?"0"+a:a},doDecode=function(json){return eval("("+json+")")},doEncode=function(a,b){return null===a||void 0===a?"null":Ext.isDate(a)?Ext.JSON.encodeDate(a):Ext.isString(a)?Ext.JSON.encodeString(a):"number"==typeof a?isFinite(a)?String(a):"null":Ext.isBoolean(a)?String(a):a.toJSON?a.toJSON():Ext.isArray(a)?encodeArray(a,b):Ext.isObject(a)?encodeObject(a,b):"function"==typeof a?"null":"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return'"'+a.replace(charToReplace,function(a){var b=m[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(a){var b,c=["[",""],d=a.length;for(b=0;d>b;b+=1)c.push(Ext.JSON.encodeValue(a[b]),",");return c[c.length-1]="]",c.join("")},encodeObject=function(a){var b,c,d=["{",""];for(b in a)if(c=a[b],!useHasOwn||a.hasOwnProperty(b)){if("function"==typeof c||void 0===c)continue;d.push(Ext.JSON.encodeValue(b),":",Ext.JSON.encodeValue(c),",")}return d[d.length-1]="}",d.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'},me.encode=function(a){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(a)},me.decode=function(a,b){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(a)}catch(c){if(b===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(a,b,c){c=c||b.dom;var d=Ext.cache,e=a||b&&b.id||c.id,f=d[e]||(d[e]={data:{},events:{},dom:c,skipGarbageCollection:!(!c.getElementById&&!c.navigator)});return b&&(b.$cache=f,f.el=b),f},updateCacheEntry:function(a,b){return a.dom=b,a.el&&(a.el.dom=b),a},id:function(a,b){var c=this,d="";return a=Ext.getDom(a,!0)||{},a===document?a.id=c.documentId:a===window&&(a.id=c.windowId),a.id||(c.isSandboxed&&(d=Ext.sandboxName.toLowerCase()+"-"),a.id=d+(b||"ext-gen")+ ++Ext.idSeed),a.id},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(f){return a.test(f)?f:f.replace(b,d).replace(c,e)}}(),getBody:function(){var a;return function(){return a||(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=arguments[a],b&&(Ext.isArray(b)?this.destroy.apply(this,b):b.isStore?b.destroyStore():Ext.isFunction(b.destroy)?b.destroy():b.dom&&b.remove())},callback:function(a,b,c,d){var e,f;return Ext.isFunction(a)?e=a:b&&Ext.isString(a)&&(e=b[a]),e&&(c=c||[],b=b||window,d?Ext.defer(e,d,b,c):f=e.apply(b,c)),f},resolveMethod:function(a,b){return Ext.isFunction(a)?a:b[a]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var a,b=function(a){return a.test(Ext.userAgent)},c="CSS1Compat"==document.compatMode,d=function(a,b){var c;return a&&(c=b.exec(Ext.userAgent))?parseFloat(c[1]):0},e=document.documentMode,f=b(/opera/),g=f&&b(/version\/10\.5/),h=b(/\bchrome\b/),i=b(/webkit/),j=!h&&b(/safari/),k=j&&b(/applewebkit\/4/),l=j&&b(/version\/3/),m=j&&b(/version\/4/),n=j&&b(/version\/5\.0/),o=j&&b(/version\/5/),p=!f&&b(/msie/),q=p&&(b(/msie 7/)&&8!=e&&9!=e&&10!=e||7==e),r=p&&(b(/msie 8/)&&7!=e&&9!=e&&10!=e||8==e),s=p&&(b(/msie 9/)&&7!=e&&8!=e&&10!=e||9==e),t=p&&(b(/msie 10/)&&7!=e&&8!=e&&9!=e||10==e),u=p&&b(/msie 6/),v=!i&&b(/gecko/),w=v&&b(/rv:1\.9/),x=v&&b(/rv:2\.0/),y=v&&b(/rv:5\./),z=v&&b(/rv:10\./),A=w&&b(/rv:1\.9\.0/),B=w&&b(/rv:1\.9\.1/),C=w&&b(/rv:1\.9\.2/),D=b(/windows|win32/),E=b(/macintosh|mac os x/),F=b(/linux/),G=null,H=d(!0,/\bchrome\/(\d+\.\d+)/),I=d(!0,/\bfirefox\/(\d+\.\d+)/),J=d(p,/msie (\d+\.\d+)/),K=d(f,/version\/(\d+\.\d+)/),L=d(j,/version\/(\d+\.\d+)/),M=d(i,/webkit\/(\d+\.\d+)/),N=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(O){}a=function(){},a.info=a.warn=a.error=Ext.emptyFn,Ext.setVersion("extjs","4.2.1.883"),Ext.apply(Ext,{SSL_SECURE_URL:N&&p?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(a,b){if(!a||!document)return null;if(a.dom)return a.dom;if("string"==typeof a){var c=Ext.getElementById(a);return c&&p&&b?a==c.getAttribute("id")?c:null:c}return a},removeNode:u||q||r?function(){var a;return function(b){if(b&&"BODY"!=b.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;c[d]&&(delete c[d].dom,delete c[d]),r&&b.parentNode&&b.parentNode.removeChild(b),a=a||document.createElement("div"),a.appendChild(b),a.innerHTML=""}}}():function(a){if(a&&a.parentNode&&"BODY"!=a.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,c=a.id;b[c]&&(delete b[c].dom,delete b[c]),a.parentNode.removeChild(a)}},isStrict:c,isIEQuirks:p&&!c&&(u||q||r||s),isOpera:f,isOpera10_5:g,isWebKit:i,isChrome:h,isSafari:j,isSafari3:l,isSafari4:m,isSafari5:o,isSafari5_0:n,isSafari2:k,isIE:p,isIE6:u,isIE7:q,isIE7m:u||q,isIE7p:p&&!u,isIE8:r,isIE8m:u||q||r,isIE8p:p&&!(u||q),isIE9:s,isIE9m:u||q||r||s,isIE9p:p&&!(u||q||r),isIE10:t,isIE10m:u||q||r||s||t,isIE10p:p&&!(u||q||r||s),isGecko:v,isGecko3:w,isGecko4:x,isGecko5:y,isGecko10:z,isFF3_0:A,isFF3_5:B,isFF3_6:C,isFF4:I>=4&&5>I,isFF5:I>=5&&6>I,isFF10:I>=10&&11>I,isLinux:F,isWindows:D,isMac:E,chromeVersion:H,firefoxVersion:I,ieVersion:J,operaVersion:K,safariVersion:L,webKitVersion:M,isSecure:N,BLANK_IMAGE_URL:u||q?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(a){if(Ext.isReady){var b,c,d,e={};for(c in a)(b=c.split("@"))[1]&&(d=b[0],e[d]||(e[d]=Ext.select(d)),e[d].on(b[1],a[c]));e=null}else Ext.onReady(function(){Ext.addBehaviors(a)})},getScrollbarSize:function(a){if(!Ext.isReady)return{};if(a||!G){var b=document.body,c=document.createElement("div");c.style.width=c.style.height="100px",c.style.overflow="scroll",c.style.position="absolute",b.appendChild(c),G={width:c.offsetWidth-c.clientWidth,height:c.offsetHeight-c.clientHeight},b.removeChild(c)}return G},getScrollBarWidth:function(a){var b=Ext.getScrollbarSize(a);return b.width+2},copyTo:function(a,b,c,d){"string"==typeof c&&(c=c.split(/[,;\s]/));var e,f,g=c?c.length:0;for(e=0;g>e;e++)f=c[e],(d||b.hasOwnProperty(f))&&(a[f]=b[f]);return a},destroyMembers:function(a){for(var b=1,c=arguments,d=c.length;d>b;b++)Ext.destroy(a[c[b]]),delete a[c[b]]},log:a,partition:function(a,b){var c,d,e=[[],[]],f=a.length;for(c=0;f>c;c++)d=a[c],e[b&&b(d,c,a)||!b&&d?0:1].push(d);return e},invoke:function(a,b){var c,d,e=[],f=Array.prototype.slice.call(arguments,2),g=a.length;for(c=0;g>c;c++)d=a[c],e.push(d&&"function"==typeof d[b]?d[b].apply(d,f):void 0);return e},zip:function(){var a,b,c,d=Ext.partition(arguments,function(a){return"function"!=typeof a}),e=d[0],f=d[1][0],g=Ext.max(Ext.pluck(e,"length")),h=[];for(a=0;g>a;a++)if(h[a]=[],f)h[a]=f.apply(f,Ext.pluck(e,a));else for(b=0,c=e.length;c>b;b++)h[a].push(e[b][a]);return h},toSentence:function(a,b){var c,d,e=a.length;return 1>=e?a[0]:(c=a.slice(0,e-1),d=a[e-1],Ext.util.Format.format("{0} {1} {2}",c.join(", "),b||"and",d))},setGlyphFontFamily:function(a){Ext._glyphFontFamily=a},useShims:u})}(),Ext.application=function(a){var b,c,d;if("string"==typeof a)Ext.require(a,function(){b=Ext.ClassManager.get(a)});else{if(Ext.Loader.setPath(a.name,a.appFolder||"app"),c=a.paths)for(d in c)c.hasOwnProperty(d)&&Ext.Loader.setPath(d,c[d]);a["paths processed"]=!0,Ext.define(a.name+".$application",Ext.apply({extend:"Ext.app.Application"},a),function(){b=this})}Ext.onReady(function(){Ext.app.Application.instance=new b})},function(){Ext.ns("Ext.util");var a,b=Ext.util.Format={},c=/<\/?[^>]+>/gi,d=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,e=/\r?\n/g,f=/^#+$/,g=/[\d,\.#]+/,h=/[^\d\.#]/g,i={};Ext.apply(b,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(a){return void 0!==a?a:""
},defaultValue:function(a,b){return void 0!==a&&""!==a?a:b},substr:"b"!="ab".substr(-1)?function(a,b,c){var d=String(a);return 0>b?d.substr(Math.max(d.length+b,0),c):d.substr(b,c)}:function(a,b,c){return String(a).substr(b,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(a){return b.currency(a,"$",2)},currency:function(a,c,d,e){var f="",g=",0",h=0;for(a-=0,0>a&&(a=-a,f="-"),d=Ext.isDefined(d)?d:b.currencyPrecision,g+=d>0?".":"";d>h;h++)g+="0";return a=b.number(a,g),(e||b.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",f,a,c||b.currencySign):Ext.String.format("{0}{1}{2}",f,c||b.currencySign,a)},date:function(a,b){return a?(Ext.isDate(a)||(a=new Date(Date.parse(a))),Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)):""},dateRenderer:function(a){return function(c){return b.date(c,a)}},stripTags:function(a){return a?String(a).replace(c,""):a},stripScripts:function(a){return a?String(a).replace(d,""):a},fileSize:function(){var a=1024,b=1048576,c=1073741824;return function(d){var e;return e=a>d?1===d?"1 byte":d+" bytes":b>d?Math.round(10*d/a)/10+" KB":c>d?Math.round(10*d/b)/10+" MB":Math.round(10*d/c)/10+" GB"}}(),math:function(){var a={};return function(b,c){return a[c]||(a[c]=Ext.functionFactory("v","return v "+c+";")),a[c](b)}}(),round:function(a,b){var c=Number(a);return"number"==typeof b&&(b=Math.pow(10,b),c=Math.round(a*b)/b),c},number:function(c,d){if(!d)return c;var e=i[d];if(!e){var j,k,l,m,n,o=d,p=b.thousandSeparator,q=b.decimalSeparator,r=0;"/i"==d.substr(d.length-2)?(a||(a=new RegExp("[^\\d\\"+b.decimalSeparator+"]","g")),d=d.substr(0,d.length-2),j=-1!=d.indexOf(p),k=d.replace(a,"").split(q)):(j=-1!=d.indexOf(","),k=d.replace(h,"").split(".")),l=d.replace(g,""),k.length>2||2===k.length&&(r=k[1].length,m=f.test(k[1])),n=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(j?",thousandSeparator,thousands=[],j,n,i":"")+(l?',formatString="'+d+'",formatPattern=/[\\d,\\.#]+/':"")+(m?",trailingZeroes=/\\.?0+$/;":";")+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"fnum=Ext.Number.toFixed(Math.abs(v), "+r+");"],j?(r&&(n[n.length]='parts=fnum.split(".");',n[n.length]="fnum=parts[0];"),n[n.length]="if(v>=1000) {",n[n.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",r&&(n[n.length]="fnum += utilFormat.decimalSeparator+parts[1];")):r&&(n[n.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),m&&(n[n.length]='fnum=fnum.replace(trailingZeroes,"");'),n[n.length]='if(neg&&fnum!=="'+(r?"0."+Ext.String.repeat("0",r):"0")+'")fnum="-"+fnum;',n[n.length]="return ",n[n.length]=l?"formatString.replace(formatPattern, fnum);":"fnum;",n[n.length]="};",e=i[o]=Ext.functionFactory("Ext",n.join(""))(Ext)}return e(c)},numberRenderer:function(a){return function(c){return b.number(c,a)}},attributes:function(a){if("object"==typeof a){var b,c=[];for(b in a)c.push(b,'="',"style"===b?Ext.DomHelper.generateStyles(a[b]):Ext.htmlEncode(a[b]),'"');a=c.join("")}return a||""},plural:function(a,b,c){return a+" "+(1==a?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(e,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(a){if(a=a||0,"number"==typeof a)return{top:a,right:a,bottom:a,left:a};var b=a.split(" "),c=b.length;return 1==c?b[1]=b[2]=b[3]=b[0]:2==c?(b[2]=b[0],b[3]=b[1]):3==c&&(b[3]=b[1]),{top:parseInt(b[0],10)||0,right:parseInt(b[1],10)||0,bottom:parseInt(b[2],10)||0,left:parseInt(b[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(a){var b=this;"number"==typeof a?b.interval=a:a&&Ext.apply(b,a),b.tasks=[],b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(a){var b=new Ext.util.TaskRunner.Task(a);return b.manager=this,b},start:function(a){var b=this,c=Ext.Date.now();return a.pending||(b.tasks.push(a),a.pending=!0),a.stopped=!1,a.taskStartTime=c,a.taskRunTime=a.fireOnStart!==!1?0:a.taskStartTime,a.taskRunCount=0,b.firing||(a.fireOnStart!==!1?b.startTimer(0,c):b.startTimer(a.interval,c)),a},stop:function(a){return a.stopped||(a.stopped=!0,a.onStop&&a.onStop.call(a.scope||a,a)),a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var a,b,c,d,e,f,g=this,h=g.tasks,i=Ext.Date.now(),j=1e99,k=h.length;for(g.timerId=null,g.firing=!0,c=0;k>c||c<(k=h.length);++c){if(d=h[c],!(f=d.stopped)){if(a=d.taskRunTime+d.interval,i>=a){e=1;try{e=d.run.apply(d.scope||d,d.args||[++d.taskRunCount])}catch(l){try{d.onError&&(e=d.onError.call(d.scope||d,d,l))}catch(m){}}d.taskRunTime=i,e===!1||d.taskRunCount===d.repeat?(g.stop(d),f=!0):(f=d.stopped,a=i+d.interval)}!f&&d.duration&&d.duration<=i-d.taskStartTime&&(g.stop(d),f=!0)}f?(d.pending=!1,b||(b=h.slice(0,c))):(b&&b.push(d),j>a&&(j=a))}b&&(g.tasks=b),g.firing=!1,g.tasks.length&&g.startTimer(j-i,Ext.Date.now()),g.fireIdleEvent!==!1&&Ext.EventManager.idleEvent.fire()},startTimer:function(a,b){var c=this,d=b+a,e=c.timerId;e&&c.nextExpires-d>c.interval&&(clearTimeout(e),e=null),e||(a<c.interval&&(a=c.interval),c.timerId=setTimeout(c.timerFn,a),c.nextExpires=d)}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var a=this,b=a.prototype;b.destroy=b.stopAll,Ext.util.TaskManager=Ext.TaskManager=new a,a.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){void 0!==a&&(this.interval=a),this.manager.start(this)},start:function(a){this.stopped&&this.restart(a)},stop:function(){this.manager.stop(this)}}),b=a.Task.prototype,b.destroy=b.stop}),Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:!0},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0),Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){function a(a,b){a.sum+=b,a.min=Math.min(a.min,b),a.max=Math.max(a.max,b)}function b(b){var c=b?b:i()-this.time,d=this,e=d.accum;++e.count,--e.depth||a(e.total,c),a(e.pure,c-d.childTime),g=d.parent,g&&(++g.accum.childCount,g.childTime+=c)}function c(){return{min:Number.MAX_VALUE,max:0,sum:0}}function d(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);return c.leave(),d}}function e(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};return a&&(c=c||0,e.sum=d.sum-b*c,e.avg=e.sum/a),e}var f,g=null,h=Ext.global.chrome,i=function(){i=function(){return(new Date).getTime()};var a,b;if(Ext.isChrome&&h&&h.Interval)a=new h.Interval,a.start(),i=function(){return a.microseconds()/1e3};else if(window.ActiveXObject)try{b=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=b,i=function(){return b.milliseconds}}catch(c){}else Date.now&&(i=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=i,i()};return{constructor:function(a){var b=this;b.count=b.childCount=b.depth=b.maxDepth=0,b.pure=c(),b.total=c(),b.name=a},statics:{getTimestamp:i},format:function(a){f||(f=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(a){return Math.round(100*a)/100}}));var b=this.getData(a);return b.name=this.name,b.pure.type="Pure",b.total.type="Total",b.times=[b.pure,b.total],f.apply(b)},getData:function(a){var b=this;return{count:b.count,childCount:b.childCount,depth:b.maxDepth,pure:e(b.count,b.childCount,a,b.pure),total:e(b.count,b.childCount,a,b.total)}},enter:function(){var a=this,c={accum:a,leave:b,childTime:0,parent:g};return++a.depth,a.maxDepth<a.depth&&(a.maxDepth=a.depth),g=c,c.time=i(),c},monitor:function(a,b,c){var d=this.enter();c?a.apply(b,c):a.call(b),d.leave()},report:function(){Ext.log(this.format())},tap:function(a,b){var c,e,f,g,h,i,j,k,l=this,m="string"==typeof b?[b]:b;return k=function(){if("string"==typeof a)for(c=Ext.global,g=a.split("."),f=0,h=g.length;h>f;++f)c=c[g[f]];else c=a;for(f=0,h=m.length;h>f;++f)i=m[f],e="!"==i.charAt(0),e?i=i.substring(1):e=!(i in c.prototype),j=e?c:c.prototype,j[i]=d(l,j[i])},Ext.ClassManager.onCreated(k,l,a),l}}}(),1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var a,b,c,d=new Ext.perf.Accumulator("$"),e=d.total,f=Ext.perf.Accumulator.getTimestamp,g=0;c=f();do a=d.enter(),a.leave(),++g;while(e.sum<100);return b=f(),(b-c)/g},get:function(a){var b=this,c=b.accumulatorsByName[a];return c||(b.accumulatorsByName[a]=c=new Ext.perf.Accumulator(a),b.accumulators.push(c)),c},enter:function(a){return this.get(a).enter()},monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this,b=a.accumulators,c=a.calibrate();b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0}),a.updateGC(),Ext.log("Calibration: "+Math.round(100*c)/100+" msec/sample"),Ext.each(b,function(a){Ext.log(a.format(c))})},getData:function(a){var b={},c=this.accumulators;return Ext.each(c,function(c){(a||c.count)&&(b[c.name]=c.getData())}),b},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0,b.pure={min:Number.MAX_VALUE,max:0,sum:0},b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a,b=this.accumulatorsByName.GC,c=Ext.senchaToolbox;b&&(b.count=c.garbageCollectionCounter||0,b.count&&(a=b.pure,b.total.sum=a.sum=c.garbageCollectionMilliseconds,a.min=a.max=a.sum/b.count,a=b.total,a.min=a.max=a.sum/b.count))},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;a&&(this.get("GC"),a.watchGarbageCollector(!1))},setup:function(a){a||(a={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=a;var b,c,d,e,f;for(b in a)if(a.hasOwnProperty(b)){c=a[b],d=Ext.Perf.get(b);for(e in c)c.hasOwnProperty(e)&&(f=c[e],d.tap(e,f))}this.watchGC()}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0),Ext.is={init:function(a){var b,c,d=this.platforms,e=d.length;for(a=a||window.navigator,b=0;e>b;b++)c=d[b],this[c.identity]=c.regex.test(a[c.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){function a(){var a=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return a?a+(Ext.isStrict?"-strict":"-quirks"):""}var b=function(a,b){var c=a.ownerDocument.defaultView,d=(c?c.getComputedStyle(a,null):a.currentStyle)||a.style;return d[b]},c={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};Ext.supports={init:function(){var b,d,e,f=this,g=document,h=f.toRun||f.tests,i=h.length,j=i&&Ext.isReady&&g.createElement("div"),k=[],l=a();for(j&&(j.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),g.body.appendChild(j)),d=c[l];i--;)b=h[i],e=d&&d[i],void 0!==e?f[b.identity]=e:j||b.early?f[b.identity]=b.fn.call(f,g,j):k.push(b);j&&g.body.removeChild(j),f.toRun=k},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:"undefined"!=typeof window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0)}(),tests:[{identity:"Transitions",fn:function(a,c){for(var d=["webkit","Moz","o","ms","khtml"],e="TransitionEnd",f=[d[0]+e,"transitionend",d[2]+e,d[3]+e,d[4]+e],g=d.length,h=0,i=!1;g>h;h++)if(b(c,d[h]+"TransitionProperty")){Ext.supports.CSS3Prefix=d[h],Ext.supports.CSS3TransitionEnd=f[h],i=!0;break}return i}},{identity:"RightMargin",fn:function(a,b){var c=a.defaultView;return!(c&&"0px"!=c.getComputedStyle(b.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var a=Ext.webKitVersion;return a>0&&533>a}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var a=Ext.webKitVersion;return a>0&&534.24>a}},{identity:"TransparentColor",fn:function(a,b,c){return c=a.defaultView,!(c&&"transparent"!=c.getComputedStyle(b.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(a,b,c){return c=a.defaultView,c&&c.getComputedStyle}},{identity:"Svg",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"Vml",fn:function(a){var b=a.createElement("div");return b.innerHTML="<!--[if vml]><br/><br/><![endif]-->",2==b.childNodes.length}},{identity:"Float",fn:function(a,b){return!!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){var a=window.history;return!(!a||!a.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(a,b){var c="background-image:",d="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",e="linear-gradient(left top, black, white)",f="-moz-"+e,g="-ms-"+e,h="-o-"+e,i=[c+d,c+e,c+f,c+g,c+h];return b.style.cssText=i.join(";"),-1!==(""+b.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(){var a,b=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c=!1;for(a=0;a<b.length;a++)if(void 0!==document.body.style[b[a]])return!0;return c}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"geolocation"in navigator||"undefined"!=typeof google&&"undefined"!=typeof google.gears}},{identity:"MouseEnterLeave",fn:function(a,b){return"onmouseenter"in b&&"onmouseleave"in b}},{identity:"MouseWheel",fn:function(a,b){return"onmousewheel"in b}},{identity:"Opacity",fn:function(a,b){return Ext.isIE6||Ext.isIE7||Ext.isIE8?!1:(b.firstChild.style.cssText="opacity:0.73","0.73"==b.firstChild.style.opacity)}},{identity:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(a,b){return Ext.isFunction(b.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var a=document.body,b=!1,c=document.createElement("div"),d=c.style;return c.getBoundingClientRect&&(d.WebkitTransform=d.MozTransform=d.OTransform=d.transform="rotate(90deg)",d.width="100px",d.height="30px",a.appendChild(c),b=100!==c.getBoundingClientRect().height,a.removeChild(c)),b}},{identity:"IncludePaddingInWidthCalculation",fn:function(a,b){return 210==b.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(a,b){return 210==b.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return 1===a[0]&&2===a[1]&&3===a[2]&&4===a[3]&&5===a[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var a=Ext.supports.Range?document.createRange():!1;return a&&!!a.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var a=document.createElement("textarea");return"maxlength"in a}},{identity:"GetPositionPercentage",fn:function(a,c){return"10%"==b(c.childNodes[2],"left")}},{identity:"PercentageHeightOverflowBug",fn:function(a){var b,c,d=!1;return Ext.getScrollbarSize().height&&(c=a.createElement("div"),b=c.style,b.height="50px",b.width="50px",b.overflow="auto",b.position="absolute",c.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),a.body.appendChild(c),50===c.firstChild.offsetHeight&&(d=!0),a.body.removeChild(c)),d}},{identity:"xOriginBug",fn:function(a,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var c=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),e=document.getElementById("b3").getBoundingClientRect();return d.left!==c.left&&e.right!==c.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(a){var b,c,d=!1;return c=a.createElement("div"),b=c.style,b.height="50px",b.width="50px",b.padding="10px",b.overflow="hidden",b.position="absolute",c.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',a.body.appendChild(c),70===c.scrollWidth&&(d=!0),a.body.removeChild(c),d}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(a,b,c,d){var e,f=this,g=function(){clearInterval(f.id),f.id=null,a.apply(b,c||[]),Ext.EventManager.idleEvent.fire()};d="boolean"==typeof d?d:!0,f.id=null,f.delay=function(h,i,j,k){d&&f.cancel(),e=h||e,a=i||a,b=j||b,c=k||c,f.id||(f.id=setInterval(g,e))},f.cancel=function(){f.id&&(clearInterval(f.id),f.id=null)}},Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var a=Array.prototype.slice,b=Ext.Array.insert,c=Ext.Array.toArray,d=Ext.util.DelayedTask;return{isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b,this.observable=a,this.listeners=[]},addListener:function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o=this;if(c=c||o.observable,!o.isListening(a,c)){if(f=o.createListener(a,c,d),o.firing&&(o.listeners=o.listeners.slice(0)),e=o.listeners,l=k=e.length,g=d&&d.priority,i=o._highestNegativePriorityIndex,j=void 0!==i,g)if(h=0>g,!h||j){for(m=h?i:0;k>m;m++)if(n=e[m].o?e[m].o.priority||0:0,g>n){l=m;break}}else o._highestNegativePriorityIndex=l;else j&&(l=i);!h&&i>=l&&o._highestNegativePriorityIndex++,l===k?o.listeners[k]=f:b(o.listeners,l,[f])}},createListener:function(a,b,c){b=b||this.observable;var d=this,e={fn:a,scope:b,ev:d},f=a;return c&&(e.o=c,c.single&&(f=d.createSingle(f,e,c,b)),c.target&&(f=d.createTargeted(f,e,c,b)),c.delay&&(f=d.createDelayed(f,e,c,b)),c.buffer&&(f=d.createBuffered(f,e,c,b))),e.fireFn=f,e},findListener:function(a,b){for(var c,d,e=this.listeners,f=e.length;f--;)if(c=e[f],c&&(d=c.scope,c.fn==a&&d==(b||this.observable)))return f;return-1},isListening:function(a,b){return-1!==this.findListener(a,b)},removeListener:function(a,b){var c,d,e,f,g=this;if(c=g.findListener(a,b),-1!=c){if(d=g.listeners[c],e=g._highestNegativePriorityIndex,g.firing&&(g.listeners=g.listeners.slice(0)),d.task&&(d.task.cancel(),delete d.task),f=d.tasks&&d.tasks.length){for(;f--;)d.tasks[f].cancel();delete d.tasks}return g.listeners.splice(c,1),e&&(e>c?g._highestNegativePriorityIndex--:c===e&&c===g.listeners.length&&delete g._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var a=this.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var b,c,d,e,f=this,g=f.listeners,h=g.length;if(!f.suspended&&h>0)for(f.firing=!0,c=arguments.length?a.call(arguments,0):[],e=c.length,b=0;h>b;b++)if(d=g[b],d.o&&(c[e]=d.o),d&&d.fireFn.apply(d.scope||f.observable,c)===!1)return f.firing=!1;return f.firing=!1,!0},createTargeted:function(a,b,c,d){return function(){c.target===arguments[0]&&a.apply(d,arguments)}},createBuffered:function(a,b,e,f){return b.task=new d,function(){b.task.delay(e.buffer,a,f,c(arguments))}},createDelayed:function(a,b,e,f){return function(){var g=new d;b.tasks||(b.tasks=[]),b.tasks.push(g),g.delay(e.delay||10,a,f,c(arguments))}},createSingle:function(a,b,c,d){return function(){var c=b.ev;return c.removeListener(b.fn,d)&&c.observable&&c.observable.hasListeners[c.name]--,a.apply(d,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0),Ext.EventManager=new function(){var a,b=this,c=document,d=window,e=/\\/g,f=Ext.baseCSSPrefix,g=!Ext.isIE9&&"addEventListener"in c,h=function(){function a(a){e.push(f+a)}var b,d=c.body||c.getElementsByTagName("body")[0],e=[f+"body"],g=[],h=Ext.supports.CSS3LinearGradient,i=Ext.supports.CSS3BorderRadius;return d?(b=d.parentNode,Ext.isIE&&Ext.isIE9m&&(a("ie"),Ext.isIE6?a("ie6"):(a("ie7p"),Ext.isIE7?a("ie7"):(a("ie8p"),Ext.isIE8?a("ie8"):(a("ie9p"),Ext.isIE9&&a("ie9")))),Ext.isIE7m&&a("ie7m"),Ext.isIE8m&&a("ie8m"),Ext.isIE9m&&a("ie9m"),(Ext.isIE7||Ext.isIE8)&&a("ie78")),Ext.isIE10&&a("ie10"),Ext.isGecko&&(a("gecko"),Ext.isGecko3&&a("gecko3"),Ext.isGecko4&&a("gecko4"),Ext.isGecko5&&a("gecko5")),Ext.isOpera&&a("opera"),Ext.isWebKit&&a("webkit"),Ext.isSafari&&(a("safari"),Ext.isSafari2&&a("safari2"),Ext.isSafari3&&a("safari3"),Ext.isSafari4&&a("safari4"),Ext.isSafari5&&a("safari5"),Ext.isSafari5_0&&a("safari5_0")),Ext.isChrome&&a("chrome"),Ext.isMac&&a("mac"),Ext.isLinux&&a("linux"),i||a("nbr"),h||a("nlg"),b&&(Ext.isBorderBox=Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?!1:!0,Ext.isBorderBox||g.push(f+"content-box"),g.push(Ext.isStrict?f+"strict":f+"quirks"),Ext.fly(b,"_internal").addCls(g)),Ext.fly(d,"_internal").addCls(e),!0):!1};Ext.apply(b,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){return a=new Ext.util.Event,a.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),a.self.prototype.fire.apply(a,arguments),Ext._afterReadytime=(new Date).getTime()},a}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){b.hasBoundOnReady||("complete"==c.readyState?b.onReadyEvent({type:c.readyState||"body"}):(c.addEventListener("DOMContentLoaded",b.onReadyEvent,!1),d.addEventListener("load",b.onReadyEvent,!1),b.hasBoundOnReady=!0))},onReadyEvent:function(a){a&&a.type&&b.onReadyChain.push(a.type),b.hasBoundOnReady&&(c.removeEventListener("DOMContentLoaded",b.onReadyEvent,!1),d.removeEventListener("load",b.onReadyEvent,!1)),Ext.isReady||b.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),b.onWindowUnload(),a.onReadyChain=b.onReadyChain,Ext.isNumber(b.deferReadyEvent)?(Ext.Function.defer(b.fireReadyEvent,b.deferReadyEvent),b.hasDocReadyTimer=!0):b.fireReadyEvent())},fireReadyEvent:function(){for(b.hasDocReadyTimer=!1,b.isFiring=!0;a.listeners.length&&!b.isReadyPaused();)a.fire();b.isFiring=!1,b.hasFiredReady=!0,Ext.EventManager.idleEvent.fire()},onDocumentReady:function(c,d,e){e=e||{},e.single=!0,a.addListener(c,d,e),b.isFiring||b.hasDocReadyTimer||(Ext.isReady?b.fireReadyEvent():b.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var b;return a=Ext.getDom(a),b=a===c||a===d?a===c?Ext.documentId:Ext.windowId:Ext.id(a),Ext.cache[b]||Ext.addCacheEntry(b,null,a),b},prepareListenerConfig:function(a,c,d){var e,f,g,h=b.propRe;for(e in c)c.hasOwnProperty(e)&&(h.test(e)||(f=c[e],g="function"==typeof f?[a,e,f,c.scope,c]:[a,e,f.fn,f.scope,f],d?b.removeListener.apply(b,g):b.addListener.apply(b,g)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(a,c){return b.mouseEnterLeaveRe.test(a)&&!Ext.supports.MouseEnterLeave?(c&&(c=Ext.Function.createInterceptor(c,b.contains)),a="mouseenter"==a?"mouseover":"mouseout"):"mousewheel"!=a||Ext.supports.MouseWheel||Ext.isOpera||(a="DOMMouseScroll"),{eventName:a,fn:c}},contains:function(a){a=a.browserEvent||a;var c=a.currentTarget,d=b.getRelatedTarget(a);if(c&&c.firstChild)for(;d;){if(d===c)return!1;d=d.parentNode,d&&1!=d.nodeType&&(d=null)}return!0},addListener:function(a,d,e,f,h){if("string"!=typeof d)return void b.prepareListenerConfig(a,d);var i,j,k,l,m,n,o,p=a.dom||Ext.getDom(a);"string"==typeof e&&(e=Ext.resolveMethod(e,f||a)),h=h||{},j=b.normalizeEvent(d,e),k=b.createListenerWrap(p,d,j.fn,f,h),l=b.getEventListenerCache(a.dom?a:p,d),d=j.eventName,i=g||Ext.isIE9&&!p.attachEvent,i||(m=b.normalizeId(p),m&&(n=Ext.cache[m][d],n&&n.firing&&(l=b.cloneEventListenerCache(p,d)))),o=!!h.capture,l.push({fn:e,wrap:k,scope:f,capture:o}),i?p.addEventListener(d,k,o):1===l.length&&(m=b.normalizeId(p,!0),e=Ext.Function.bind(b.handleSingleEvent,b,[m,d],!0),Ext.cache[m][d]={firing:!1,fn:e},p.attachEvent("on"+d,e)),p==c&&"mousedown"==d&&b.stoppedMouseDownEvent.addListener(k)},normalizeId:function(a,c){var d;return d=a===document?Ext.documentId:a===window?Ext.windowId:a.id,!d&&c&&(d=b.getId(a)),d},handleSingleEvent:function(a,c,d){var e,f,g=b.getEventListenerCache(c,d),h=Ext.cache[c][d];if(!h.firing){for(h.firing=!0,f=0,e=g.length;e>f;++f)g[f].wrap(a);h.firing=!1}},removeListener:function(a,d,e,f){if("string"!=typeof d)return void b.prepareListenerConfig(a,d,!0);var h,i,j,k,l,m,n=Ext.getDom(a),o=a.dom?a:Ext.get(n),p=b.getEventListenerCache(o,d),q=b.normalizeEvent(d).eventName,r=p.length;if(n)for(k=g||Ext.isIE9&&!n.detachEvent,"string"==typeof e&&(e=Ext.resolveMethod(e,f||a));r--;)if(l=p[r],!(!l||e&&l.fn!=e||f&&l.scope!==f)){if(m=l.wrap,m.task&&(clearTimeout(m.task),delete m.task),i=m.tasks&&m.tasks.length){for(;i--;)clearTimeout(m.tasks[i]);delete m.tasks}k?n.removeEventListener(q,m,l.capture):(h=b.normalizeId(n,!0),j=Ext.cache[h][q],j&&j.firing&&(p=b.cloneEventListenerCache(n,q)),1===p.length&&(e=j.fn,delete Ext.cache[h][q],n.detachEvent("on"+q,e))),m&&n==c&&"mousedown"==d&&b.stoppedMouseDownEvent.removeListener(m),Ext.Array.erase(p,r,1)}},removeAll:function(a){var c,d,e,f="string"==typeof a?a:a.id;if(f&&(c=Ext.cache[f])){d=c.events;for(e in d)d.hasOwnProperty(e)&&b.removeListener(a,e);c.events={}}},purgeElement:function(a,c){var d,e,f=Ext.getDom(a),g=0;if(c?b.removeListener(a,c):b.removeAll(a),f&&f.childNodes)for(e=f.childNodes,d=e.length;d>g;g++)b.purgeElement(e[g],c)},createListenerWrap:function(a,c,d,f,g){g=g||{};var h,i,j=function(k,l){return i||(h=["if(!"+Ext.name+") {return;}"],g.buffer||g.delay||g.freezeEvent?(g.freezeEvent&&h.push("e = X.EventObject.setEvent(e);"),h.push("e = new X.EventObjectImpl(e, "+(g.freezeEvent?"true":"false")+");")):h.push("e = X.EventObject.setEvent(e);"),g.delegate?(h.push('var result, t = e.getTarget("'+(g.delegate+"").replace(e,"\\\\")+'", this);'),h.push("if(!t) {return;}")):h.push("var t = e.target, result;"),g.target&&h.push("if(e.target !== options.target) {return;}"),g.stopEvent?h.push("e.stopEvent();"):(g.preventDefault&&h.push("e.preventDefault();"),g.stopPropagation&&h.push("e.stopPropagation();")),g.normalized===!1&&h.push("e = e.browserEvent;"),g.buffer&&(h.push("(wrap.task && clearTimeout(wrap.task));"),h.push("wrap.task = setTimeout(function() {")),g.delay&&(h.push("wrap.tasks = wrap.tasks || [];"),h.push("wrap.tasks.push(setTimeout(function() {")),h.push("result = fn.call(scope || dom, e, t, options);"),g.single&&h.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==c&&"unload"!==c&&(h.push("if (evtMgr.idleEvent.listeners.length) {"),h.push("evtMgr.idleEvent.fire();"),h.push("}")),g.delay&&h.push("}, "+g.delay+"));"),g.buffer&&h.push("}, "+g.buffer+");"),h.push("return result;"),i=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",h.join("\n"))),i.call(a,k,g,d,f,c,a,j,l,Ext,b)};return j},getEventCache:function(a){var c,d,e;return a?(a.$cache?c=a.$cache:(e="string"==typeof a?a:b.getId(a),c=Ext.cache[e]),d=c.events||(c.events={})):[]},getEventListenerCache:function(a,c){var d=b.getEventCache(a);return d[c]||(d[c]=[])},cloneEventListenerCache:function(a,c){var d,e=b.getEventCache(a);return d=e[c]?e[c].slice(0):[],e[c]=d,d},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(a){b.stopPropagation(a),b.preventDefault(a)},stopPropagation:function(a){a=a.browserEvent||a,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){if(a=a.browserEvent||a,a.preventDefault)a.preventDefault();else{a.returnValue=!1;try{(a.ctrlKey||a.keyCode>111&&a.keyCode<124)&&(a.keyCode=-1)}catch(b){}}},getRelatedTarget:function(a){a=a.browserEvent||a;var c=a.relatedTarget;return c||(b.mouseLeaveRe.test(a.type)?c=a.toElement:b.mouseEnterRe.test(a.type)&&(c=a.fromElement)),b.resolveTextNode(c)},getPageX:function(a){return b.getPageXY(a)[0]},getPageY:function(a){return b.getPageXY(a)[1]},getPageXY:function(a){a=a.browserEvent||a;var b=a.pageX,d=a.pageY,e=c.documentElement,f=c.body;return b||0===b||(b=a.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),d=a.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),[b,d]},getTarget:function(a){return a=a.browserEvent||a,b.resolveTextNode(a.target||a.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if("[xpconnect wrapped native prototype]"!==b&&"[object XULElement]"!==b)return 3==a.nodeType?a.parentNode:a}}:function(a){return a&&3==a.nodeType?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(a,c,e){var f=b.resizeEvent;f||(b.resizeEvent=f=new Ext.util.Event,b.on(d,"resize",b.fireResize,null,{buffer:100})),f.addListener(a,c,e)},fireResize:function(){var a=Ext.Element.getViewWidth(),c=Ext.Element.getViewHeight();(b.curHeight!=c||b.curWidth!=a)&&(b.curHeight=c,b.curWidth=a,b.resizeEvent.fire(a,c))
},removeResizeListener:function(a,c){var d=b.resizeEvent;d&&d.removeListener(a,c)},onWindowUnload:function(a,c,e){var f=b.unloadEvent;f||(b.unloadEvent=f=new Ext.util.Event,b.addListener(d,"unload",b.fireUnload)),a&&f.addListener(a,c,e)},fireUnload:function(){try{c=d=void 0;var a,e,f,g,h;if(b.unloadEvent.fire(),Ext.isGecko3)for(a=Ext.ComponentQuery.query("gridview"),e=0,f=a.length;f>e;e++)a[e].scrollToTop();h=Ext.cache;for(g in h)h.hasOwnProperty(g)&&b.removeAll(g)}catch(i){}},removeUnloadListener:function(a,c){var d=b.unloadEvent;d&&d.removeListener(a,c)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return b.useKeyDown?"keydown":"keypress"}}),!g&&document.attachEvent&&Ext.apply(b,{pollScroll:function(){var a=!0;try{document.documentElement.doScroll("left")}catch(c){a=!1}return a&&document.body?b.onReadyEvent({type:"doScroll"}):b.scrollTimeout=setTimeout(b.pollScroll,20),a},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var a=document.readyState;b.readyStatesRe.test(a)&&b.onReadyEvent({type:a})},bindReadyEvent:function(){var a=!0;if(!b.hasBoundOnReady){try{a=void 0===window.frameElement}catch(d){a=!1}a&&c.documentElement.doScroll||(b.pollScroll=Ext.emptyFn),b.pollScroll()!==!0&&("complete"==c.readyState?b.onReadyEvent({type:"already "+(c.readyState||"body")}):(c.attachEvent("onreadystatechange",b.checkReadyState),window.attachEvent("onload",b.onReadyEvent),b.hasBoundOnReady=!0))}},onReadyEvent:function(a){a&&a.type&&b.onReadyChain.push(a.type),b.hasBoundOnReady&&(document.detachEvent("onreadystatechange",b.checkReadyState),window.detachEvent("onload",b.onReadyEvent)),Ext.isNumber(b.scrollTimeout)&&(clearTimeout(b.scrollTimeout),delete b.scrollTimeout),Ext.isReady||b.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(a,b,c){Ext.Loader.onReady(a,b,!0,c)},Ext.onDocumentReady=b.onDocumentReady,b.on=b.addListener,b.un=b.removeListener,Ext.onReady(h)},Ext.cmd.derive("Ext.util.Observable",Ext.Base,function(a){var b=[],c=Array.prototype,d=c.slice,e=Ext.util.Event,f=function(a){return a instanceof f?a:(this.observable=a,arguments[1].isObservable&&(this.managedListeners=!0),void(this.args=d.call(arguments,1)))};return f.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(a,b,c){var d=function(a,d){return b.apply(c,[a].concat(d))};this.captureArgs(a,d,c)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(a,b){return a&&(a.isObservable||(Ext.applyIf(a,new this),this.captureArgs(a.prototype,a.fireEventArgs,a)),Ext.isObject(b)&&a.on(b)),a},prepareClass:function(b,c){if(!b.HasListeners){var d=function(){},e=b.superclass.HasListeners||c&&c.HasListeners||a.HasListeners;b.prototype.HasListeners=b.HasListeners=d,d.prototype=b.hasListeners=new e}}},isObservable:!0,eventsSuspended:0,constructor:function(a){var b=this;Ext.apply(b,a),b.hasListeners||(b.hasListeners=new b.HasListeners),b.events=b.events||{},b.listeners&&(b.on(b.listeners),b.listeners=null),b.bubbleEvents&&b.enableBubble(b.bubbleEvents)},onClassExtended:function(b){b.HasListeners||a.prepareClass(b)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(a,b,c,d,e,g){var h,i,j=this,k=j.managedListeners=j.managedListeners||[];if("string"!=typeof b){i=arguments.length>4?e:b,e=b;for(b in e)e.hasOwnProperty(b)&&(h=e[b],j.eventOptionsRe.test(b)||j.addManagedListener(a,b,h.fn||h,h.scope||e.scope||d,h.fn?h:i,!0));if(e&&e.destroyable)return new f(j,a,e)}else if("string"==typeof c&&(d=d||j,c=Ext.resolveMethod(c,d)),k.push({item:a,ename:b,fn:c,scope:d,options:e}),a.on(b,c,d,e),!g&&e&&e.destroyable)return new f(j,a,b,c,d)},removeManagedListener:function(a,b,c,d){var e,f,g,h,i,j=this;if("string"!=typeof b){e=b;for(b in e)e.hasOwnProperty(b)&&(f=e[b],j.eventOptionsRe.test(b)||j.removeManagedListener(a,b,f.fn||f,f.scope||e.scope||d))}else for(g=j.managedListeners?j.managedListeners.slice():[],"string"==typeof c&&(d=d||j,c=Ext.resolveMethod(c,d)),i=0,h=g.length;h>i;i++)j.removeManagedListenerItem(!1,g[i],a,b,c,d)},fireEvent:function(a){return this.fireEventArgs(a,d.call(arguments,1))},fireEventArgs:function(a,c){a=a.toLowerCase();var d=this,e=d.events,f=e&&e[a],g=!0;return f&&d.hasListeners[a]&&(g=d.continueFireEvent(a,c||b,f.bubble)),g},continueFireEvent:function(a,b,c){var d,e,f=this,g=!0;do{if(f.eventsSuspended)return(d=f.eventQueue)&&d.push([a,b,c]),g;if(e=f.events[a],e&&e!==!0&&(g=e.fire.apply(e,b))===!1)break}while(c&&(f=f.getBubbleParent()));return g},getBubbleParent:function(){var a=this,b=a.getBubbleTarget&&a.getBubbleTarget();return b&&b.isObservable?b:null},addListener:function(a,b,c,d){var g,h,i=this,j=0;if("string"!=typeof a){d=a;for(a in d)d.hasOwnProperty(a)&&(g=d[a],i.eventOptionsRe.test(a)||i.addListener(a,g.fn||g,g.scope||d.scope,g.fn?g:d));if(d&&d.destroyable)return new f(i,d)}else if(a=a.toLowerCase(),h=i.events[a],h&&h.isEvent?j=h.listeners.length:i.events[a]=h=new e(i,a),"string"==typeof b&&(c=c||i,b=Ext.resolveMethod(b,c)),h.addListener(b,c,d),h.listeners.length!==j&&i.hasListeners._incr_(a),d&&d.destroyable)return new f(i,a,b,c,d)},removeListener:function(a,b,c){var d,e,f,g=this;if("string"!=typeof a){f=a;for(a in f)f.hasOwnProperty(a)&&(d=f[a],g.eventOptionsRe.test(a)||g.removeListener(a,d.fn||d,d.scope||f.scope))}else a=a.toLowerCase(),e=g.events[a],e&&e.isEvent&&("string"==typeof b&&(c=c||g,b=Ext.resolveMethod(b,c)),e.removeListener(b,c)&&g.hasListeners._decr_(a))},clearListeners:function(){var a,b,c=this.events,d=this.hasListeners;for(b in c)c.hasOwnProperty(b)&&(a=c[b],a.isEvent&&(delete d[b],a.clearListeners()));this.clearManagedListeners()},clearManagedListeners:function(){for(var a=this.managedListeners||[],b=0,c=a.length;c>b;b++)this.removeManagedListenerItem(!0,a[b]);this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,f){!a&&(b.item!==c||b.ename!==d||e&&b.fn!==e||f&&b.scope!==f)||(b.item.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(this.managedListeners,b))},addEvents:function(a){var b,c,d,e=this,f=e.events||(e.events={});if("string"==typeof a)for(c=arguments,d=c.length;d--;)b=c[d],f[b]||(f[b]=!0);else Ext.applyIf(e.events,a)},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended+=1,a&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=this.events[arguments[a]],b&&b.suspend&&b.suspend()},resumeEvent:function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=this.events[arguments[a]],b&&b.resume&&b.resume()},resumeEvents:function(){var a,b,c=this,d=c.eventQueue;if(c.eventsSuspended&&!--c.eventsSuspended&&(delete c.eventQueue,d))for(a=d.length,b=0;a>b;b++)c.continueFireEvent.apply(c,d[b])},relayEvents:function(a,b,c){for(var d,e=this,g=b.length,h=0,i={};g>h;h++)d=b[h],i[d]=e.createRelayer(c?c+d:d);return e.mon(a,i,null,null,void 0),new f(e,a,i)},createRelayer:function(a,b){var c=this;return function(){return c.fireEventArgs.call(c,a,b?d.apply(arguments,b):arguments)}},enableBubble:function(a){if(a){var b,c,d,f=this,g="string"==typeof a?arguments:a,h=g.length,i=f.events;for(d=0;h>d;++d)b=g[d].toLowerCase(),c=i[b],c&&"boolean"!=typeof c||(i[b]=c=new e(f,b)),f.hasListeners._incr_(b),c.bubble=!0}}}},1,0,0,0,0,0,[Ext.util,"Observable"],function(){function a(a){var b,c,d,e,f=(this.methodEvents=this.methodEvents||{})[a],g=this;return f||(this.methodEvents[a]=f={},f.originalFn=this[a],f.methodName=a,f.before=[],f.after=[],e=function(a,e,f){void 0!==(c=a.apply(e||g,f))&&("object"==typeof c?(b=void 0!==c.returnValue?c.returnValue:c,d=!!c.cancel):c===!1?d=!0:b=c)},this[a]=function(){var a,h,i,j=Array.prototype.slice.call(arguments,0);for(b=c=void 0,d=!1,h=0,i=f.before.length;i>h;h++)if(a=f.before[h],e(a.fn,a.scope,j),d)return b;for(void 0!==(c=f.originalFn.apply(g,j))&&(b=c),h=0,i=f.after.length;i>h;h++)if(a=f.after[h],e(a.fn,a.scope,j),d)return b;return b}),f}var b,c=this,d=c.prototype,e=function(){},f=function(a){if(!a.HasListeners){var b=a.prototype;c.prepareClass(a,this),a.onExtended(function(a){c.prepareClass(a)}),b.onClassMixedIn?Ext.override(a,{onClassMixedIn:function(a){f.call(this,a),this.callParent(arguments)}}):b.onClassMixedIn=function(a){f.call(this,a)}}};e.prototype={_decr_:function(a){--this[a]||delete this[a]},_incr_:function(a){this.hasOwnProperty(a)?++this[a]:this[a]=1}},d.HasListeners=c.HasListeners=e,c.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),c.observeClass=c.observe,Ext.globalEvents=b=new c({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}}),Ext.on=function(){return b.addListener.apply(b,arguments)},Ext.un=function(){return b.removeListener.apply(b,arguments)},Ext.apply(d,{onClassMixedIn:f,beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,b,c){var d,e,f=this.getMethodEvent(a);for(d=0,e=f.before.length;e>d;d++)if(f.before[d].fn==b&&f.before[d].scope==c)return void Ext.Array.erase(f.before,d,1);for(d=0,e=f.after.length;e>d;d++)if(f.after[d].fn==b&&f.after[d].scope==c)return void Ext.Array.erase(f.after,d,1)},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})}),Ext.cmd.derive("Ext.EventObjectImpl",Ext.Base,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;return Ext.isGecko?a=3:Ext.isMac?(a=Ext.isSafari&&Ext.webKitVersion>=532?120:12,a*=3):a=120,a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){a&&this.setEvent(a.browserEvent||a,b)},setEvent:function(a,b){var c,d,e=this;return a===e||a&&a.browserEvent?a:(e.browserEvent=a,a?(c=a.button?e.btnMap[a.button]:a.which?a.which-1:-1,e.clickRe.test(a.type)&&-1==c&&(c=0),d={type:a.type,button:c,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||!1,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:b?e.getXY():null}):d={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(e,d),e)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var a=this.browserEvent;a&&("mousedown"==a.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(a))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getRelatedTarget:function(a,b,c){return a&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(a,b,c):c?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var b=this.WHEEL_SCALE,c=Math.round(a/b);return!c&&a&&(c=0>a?-1:1),c},getWheelDeltas:function(){var a=this,b=a.browserEvent,c=0,d=0;return Ext.isDefined(b.wheelDeltaX)?(c=b.wheelDeltaX,d=b.wheelDeltaY):b.wheelDelta?d=b.wheelDelta:b.detail&&(d=-b.detail,d>100?d=3:-100>d&&(d=-3),Ext.isDefined(b.axis)&&b.axis===b.HORIZONTAL_AXIS&&(c=d,d=0)),{x:a.correctWheelDelta(c),y:a.correctWheelDelta(d)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(a,b,c){if(a){var d,e=b?this.getRelatedTarget():this.getTarget();if(e)return d=Ext.fly(a,"_internal").contains(e),!d&&c&&(d=e==Ext.getDom(a)),d}return!1},isNavKeyPress:function(){var a=this,b=this.normalizeKey(a.keyCode);return b>=33&&40>=b||b==a.RETURN||b==a.TAB||b==a.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&20>=a||a>=44&&46>=a},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function a(a,b){var d="mousemove"!=a;return function(e,f){var g=f.getXY(),h=c.createMouseEvent(e.ownerDocument,a,!0,d,b,g[0],g[1],f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);c.fireEvent(e,a,h)}}function b(){}var c,d,e={};return!Ext.isIE9m&&document.createEvent?c={createHtmlEvent:function(a,b,c,d){var e=a.createEvent("HTMLEvents");return e.initEvent(b,c,d),e},createMouseEvent:function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=a.createEvent("MouseEvents"),o=a.defaultView||window;return n.initMouseEvent?n.initMouseEvent(b,c,d,o,e,f,g,f,g,h,i,j,k,l,m):(n=a.createEvent("UIEvents"),n.initEvent(b,c,d),n.view=o,n.detail=e,n.screenX=f,n.screenY=g,n.clientX=f,n.clientY=g,n.ctrlKey=h,n.altKey=i,n.metaKey=k,n.shiftKey=j,n.button=l,n.relatedTarget=m),n},createUIEvent:function(a,b,c,d,e){var f=a.createEvent("UIEvents"),g=a.defaultView||window;return f.initUIEvent(b,c,d,g,e),f},fireEvent:function(a,b,c){a.dispatchEvent(c)},fixTarget:function(a){return a!=window||a.dispatchEvent?a:document}}:document.createEventObject&&(d={0:1,1:4,2:2},c={createHtmlEvent:function(a,b,c,d){var e=a.createEventObject();return e.bubbles=c,e.cancelable=d,e},createMouseEvent:function(a,b,c,e,f,g,h,i,j,k,l,m,n){var o=a.createEventObject();return o.bubbles=c,o.cancelable=e,o.detail=f,o.screenX=g,o.screenY=h,o.clientX=g,o.clientY=h,o.ctrlKey=i,o.altKey=j,o.shiftKey=k,o.metaKey=l,o.button=d[m]||m,o.relatedTarget=n,o},createUIEvent:function(a,b,c,d){var e=a.createEventObject();return e.bubbles=c,e.cancelable=d,e},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)},fixTarget:function(a){return a==document?document.documentElement:a}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(a,b){var d=b[0],f=b[1];e[a]=function(b){var e=c.createHtmlEvent(a,d,f);c.fireEvent(b,a,e)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(b){e[b]=a(b,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(a,b){var d=b[0],f=b[1];e[a]=function(b){var e=c.createUIEvent(b.ownerDocument,a,d,f,1);c.fireEvent(b,a,e)}}),c||(e={},c={fixTarget:Ext.identityFn}),function(a){var d=this,f=e[d.type]||b,g=a?a.dom||a:d.getTarget();g=c.fixTarget(g),f(g,d)}}()},1,0,0,0,0,0,[Ext,"EventObjectImpl"],function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.cmd.derive("Ext.dom.AbstractQuery",Ext.Base,{select:function(a,b){var c,d,e,f,g,h=[];for(b=b||document,"string"==typeof b&&(b=document.getElementById(b)),a=a.split(","),d=0,f=a.length;f>d;d++)if("string"==typeof a[d])if("@"==typeof a[d][0])c=b.getAttributeNode(a[d].substring(1)),h.push(c);else for(c=b.querySelectorAll(a[d]),e=0,g=c.length;g>e;e++)h.push(c[e]);return h},selectNode:function(a,b){return this.select(a,b)[0]},is:function(a,b){return"string"==typeof a&&(a=document.getElementById(a)),-1!==this.select(b).indexOf(a)}},0,0,0,0,0,0,[Ext.dom,"AbstractQuery"],0),Ext.cmd.derive("Ext.dom.AbstractHelper",Ext.Base,{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function a(a,b,c){return b+"-"+c.toLowerCase()}var b=/([a-z])([A-Z])/g,c={};return function(d){return c[d]||(c[d]=d.replace(b,a))}}(),generateMarkup:function(a,b){var c,d,e,f,g,h=this,i=typeof a;if("string"==i||"number"==i)b.push(a);else if(Ext.isArray(a))for(f=0;f<a.length;f++)a[f]&&h.generateMarkup(a[f],b);else{e=a.tag||"div",b.push("<",e);for(c in a)a.hasOwnProperty(c)&&(d=a[c],h.confRe.test(c)||("object"==typeof d?(b.push(" ",c,'="'),h.generateStyles(d,b).push('"')):b.push(" ",h.attributeTransform[c]||c,'="',d,'"')));h.emptyTags.test(e)?b.push("/>"):(b.push(">"),(d=a.tpl)&&d.applyOut(a.tplData,b),(d=a.html)&&b.push(d),(d=a.cn||a.children)&&h.generateMarkup(d,b),g=h.closeTags,b.push(g[e]||(g[e]="</"+e+">")))}return b},generateStyles:function(a,b){var c,d=b||[];for(c in a)a.hasOwnProperty(c)&&d.push(this.decamelizeName(c),":",a[c],";");return b||d.join("")},markup:function(a){if("string"==typeof a)return a;var b=this.generateMarkup(a,[]);return b.join("")},applyStyles:function(a,b){if(b){var c,d=0;if(a=Ext.fly(a,"_applyStyles"),"function"==typeof b&&(b=b.call()),"string"==typeof b)for(b=Ext.util.Format.trim(b).split(this.styleSepRe),c=b.length;c>d;)a.setStyle(b[d++],b[d++]);else Ext.isObject(b)&&a.setStyle(b)}},insertHtml:function(a,b,c){var d,e,f,g,h={};return a=a.toLowerCase(),h.beforebegin=["BeforeBegin","previousSibling"],h.afterend=["AfterEnd","nextSibling"],e=b.ownerDocument.createRange(),d="setStart"+(this.endRe.test(a)?"After":"Before"),h[a]?(e[d](b),f=e.createContextualFragment(c),b.parentNode.insertBefore(f,"beforebegin"==a?b:b.nextSibling),b[("beforebegin"==a?"previous":"next")+"Sibling"]):(g=("afterbegin"==a?"first":"last")+"Child",b.firstChild?(e[d](b[g]),f=e.createContextualFragment(c),"afterbegin"==a?b.insertBefore(f,b.firstChild):b.appendChild(f)):b.innerHTML=c,b[g])},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",!0)},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.markup(b),c?Ext.get(a.firstChild):a.firstChild},doInsert:function(a,b,c,d){var e=this.insertHtml(d,Ext.getDom(a),this.markup(b));return c?Ext.get(e,!0):e}},0,0,0,0,0,0,[Ext.dom,"AbstractHelper"],0),Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){return"number"==typeof a?a+(b||this.defaultUnit||"px"):""===a||"auto"==a||void 0===a||null===a?a||"":this.unitRe.test(a)?a:a||""},isAncestor:function(a,b){var c=!1;if(a=Ext.getDom(a),b=Ext.getDom(b),a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(;b=b.parentNode;)c=b==a||c}return c},parseBox:function(a){a=a||0;var b,c,d=typeof a;return"number"===d?{top:a,right:a,bottom:a,left:a}:"string"!==d?a:(b=a.split(" "),c=b.length,1==c?b[1]=b[2]=b[3]=b[0]:2==c?(b[2]=b[0],b[3]=b[1]):3==c&&(b[3]=b[1]),{top:parseFloat(b[0])||0,right:parseFloat(b[1])||0,bottom:parseFloat(b[2])||0,left:parseFloat(b[3])||0})},unitizeBox:function(a,b){var c=this.addUnits,d=this.parseBox(a);return c(d.top,b)+" "+c(d.right,b)+" "+c(d.bottom,b)+" "+c(d.left,b)},camelReplaceFn:function(a,b){return b.charAt(1).toUpperCase()},normalize:function(a){return"float"==a&&(a=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(a){var b,c={},d=this.cssRe;if(a)for(d.lastIndex=0;b=d.exec(a);)c[b[1]]=b[2]||"";return c}}},function(){function a(a,b,c){return function(){a.selectionStart=b,a.selectionEnd=c}}var b=document,c=null,d="CSS1Compat"==b.compatMode;"activeElement"in b||!b.addEventListener||b.addEventListener("focus",function(a){a&&a.target&&(c=a.target==b?null:a.target)},!0),this.addInheritableStatics({getActiveElement:function(){var a;try{a=b.activeElement}catch(d){}return a=a||c,a||(a=c=document.body),a},getRightMarginFixCleaner:function(d){var e,f,g,h,i=Ext.supports,j=i.DisplayChangeInputSelectionBug,k=i.DisplayChangeTextAreaSelectionBug;return(j||k)&&(e=b.activeElement||c,f=e&&e.tagName,(k&&"TEXTAREA"==f||j&&"INPUT"==f&&"text"==e.type)&&Ext.dom.Element.isAncestor(d,e)&&(g=e.selectionStart,h=e.selectionEnd,Ext.isNumber(g)&&Ext.isNumber(h)))?a(e,g,h):Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(d?b.documentElement.scrollHeight:b.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(d?b.documentElement.scrollWidth:b.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE9m?b.documentElement.clientWidth:self.innerWidth:b.body.clientWidth},serializeForm:function(a){var b,c,d,e,f,g,h,i,j,k=a.elements||(document.forms[a]||Ext.getDom(a)).elements,l=!1,m=encodeURIComponent,n="",o=k.length;for(g=0;o>g;g++)if(b=k[g],c=b.name,d=b.type,e=b.options,!b.disabled&&c)if(/select-(one|multiple)/i.test(d))for(i=e.length,h=0;i>h;h++)j=e[h],j.selected&&(f=j.hasAttribute?j.hasAttribute("value"):j.getAttributeNode("value").specified,n+=Ext.String.format("{0}={1}&",m(c),m(f?j.value:j.text)));else/file|undefined|reset|button/i.test(d)||/radio|checkbox/i.test(d)&&!b.checked||"submit"==d&&l||(n+=m(c)+"="+m(b.value)+"&",l=/submit/i.test(d));return n.substr(0,n.length-1)}})}),Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(a,b){var c,d,e,f,g=this;if(a.nodeType||a.dom||"string"==typeof a)return a=Ext.getDom(a),g.dom.appendChild(a),b?a:Ext.get(a);if(a.length){for(c=Ext.fly(document.createDocumentFragment(),"_internal"),d=a.length,Ext.DomHelper.useDom=!0,e=0;d>e;e++)c.appendChild(a[e],b);return Ext.DomHelper.useDom=f,g.dom.appendChild(c.dom),b?c.dom:c}return g.createChild(a,null,b)},appendTo:function(a){return Ext.getDom(a).appendChild(this.dom),this},insertBefore:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a),this},insertAfter:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a.nextSibling),this},insertFirst:function(a,b){return a=a||{},a.nodeType||a.dom||"string"==typeof a?(a=Ext.getDom(a),this.dom.insertBefore(a,this.dom.firstChild),b?a:Ext.get(a)):this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,b,c){var d,e,f,g,h=this,i=Ext.core.DomHelper,j=i.useDom,k="after"==(b||"before").toLowerCase();if(Ext.isArray(a)){for(e=Ext.fly(document.createDocumentFragment(),"_internal"),f=a.length,i.useDom=!0,g=0;f>g;g++)d=e.appendChild(a[g],c);return i.useDom=j,h.dom.parentNode.insertBefore(e.dom,k?h.dom.nextSibling:h.dom),d}return a=a||{},a.nodeType||a.dom?(d=h.dom.parentNode.insertBefore(Ext.getDom(a),k?h.dom.nextSibling:h.dom),c||(d=Ext.get(d))):d=k&&!h.dom.nextSibling?i.append(h.dom.parentNode,a,!c):i[k?"insertAfter":"insertBefore"](h.dom,a,!c),d},replace:function(a){return a=Ext.get(a),this.insertBefore(a),a.remove(),this},replaceWith:function(a){var b=this;return a.nodeType||a.dom||"string"==typeof a?(a=Ext.get(a),b.dom.parentNode.insertBefore(a.dom,b.dom)):a=Ext.core.DomHelper.insertBefore(b.dom,a),delete Ext.cache[b.id],Ext.removeNode(b.dom),b.id=Ext.id(b.dom=a),Ext.dom.AbstractElement.addToCache(b.isFlyweight?new Ext.dom.AbstractElement(b.dom):b),b},createChild:function(a,b,c){return a=a||{tag:"div"},b?Ext.core.DomHelper.insertBefore(b,a,c!==!0):Ext.core.DomHelper.append(this.dom,a,c!==!0)},wrap:function(a,b,c){var d=Ext.core.DomHelper.insertBefore(this.dom,a||{tag:"div"},!0),e=d;return c&&(e=Ext.DomQuery.selectNode(c,d.dom)),e.appendChild(this.dom),b?d.dom:d},insertHtml:function(a,b,c){var d=Ext.core.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(d):d}}),Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var a=this,b=/\w/g,c=/\s+/,d=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,e=Ext.supports.ClassList,f="padding",g="margin",h="border",i="-left",j="-right",k="-top",l="-bottom",m="-width",n={l:h+i+m,r:h+j+m,t:h+k+m,b:h+l+m},o={l:f+i,r:f+j,t:f+k,b:f+l},p={l:g+i,r:g+j,t:g+k,b:g+l},q=new a.Fly;Ext.override(a,{styleHooks:{},addStyles:function(a,c){var d,e,f=0,g=(a||"").match(b),h=g.length,i=[];if(1==h)f=Math.abs(parseFloat(this.getStyle(c[g[0]]))||0);else if(h){for(d=0;h>d;d++)e=g[d],i.push(c[e]);for(i=this.getStyle(i),d=0;h>d;d++)e=g[d],f+=Math.abs(parseFloat(i[c[e]])||0)}return f},addCls:function(){var a=function(a){var d,e,f,g,h,i=this,j=i.dom,k=i.trimRe,l=a;if("string"==typeof a&&(a=a.replace(k,"").split(c)),j&&a&&(g=a.length))if(j.className)if(d=j.classList){for(f=0;g>f;++f)h=a[f],h&&(d.contains(h)||(e?e.push(h):(e=j.className.replace(k,""),e=e?[e,h]:[h])));e&&(j.className=e.join(" "))}else b(l);else j.className=a.join(" ");return i},b=function(a){var b,c=this,d=c.dom;return d&&a&&a.length&&(b=Ext.Element.mergeClsList(d.className,a),b.changed&&(d.className=b.join(" "))),c};return e?a:b}(),removeCls:function(a){var b,d,e,f=this,g=f.dom;return"string"==typeof a&&(a=a.replace(f.trimRe,"").split(c)),g&&g.className&&a&&(d=a.length)&&(b=g.classList,1===d&&b?a[0]&&b.remove(a[0]):(e=Ext.Element.removeCls(g.className,a),e.changed&&(g.className=e.join(" ")))),f},radioCls:function(a){var b,c,d,e=this.dom.parentNode.childNodes;for(a=Ext.isArray(a)?a:[a],c=0,d=e.length;d>c;c++)b=e[c],b&&1==b.nodeType&&q.attach(b).removeCls(a);return this.addCls(a)},toggleCls:function(){var a=function(a){var c,d=this,e=d.dom;return e&&(a=a.replace(d.trimRe,""),a&&(c=e.classList,c?c.toggle(a):b(a))),d},b=function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)};return e?a:b}(),hasCls:function(){var a=function(a){var c,d=this.dom,e=!1;return d&&a&&(c=d.classList,e=c?c.contains(a):b(a)),e},b=function(a){var b=this.dom;return b?a&&-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1};return e?a:b}(),replaceCls:function(a,b){return this.removeCls(a).addCls(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(b,c){var d,e,f,g,h,i,j,k=this,l=k.dom,m="string"!=typeof b,n=k.styleHooks,o=b,p=o,q=1;if(m&&(f={},o=p[0],j=0,!(q=p.length)))return f;if(!l||l.documentElement)return f||"";d=l.style,c?i=d:(i=l.ownerDocument.defaultView.getComputedStyle(l,null),i||(c=!0,i=d));do{if(g=n[o],g||(n[o]=g={name:a.normalize(o)}),g.get?h=g.get(l,k,c,i):(e=g.name,h=i[e]),!m)return h;f[o]=h,o=p[++j]}while(q>j);return f},getStyles:function(){var a,b=Ext.Array.slice(arguments),c=b.length;return c&&"boolean"==typeof b[c-1]&&(a=b.pop()),this.getStyle(b,a)},isTransparent:function(a){var b=this.getStyle(a);return b?d.test(b):!1},setStyle:function(b,c){var d,e=this,f=e.dom,g=e.styleHooks,h=f.style,i=b;if("string"==typeof i)d=g[i],d||(g[i]=d={name:a.normalize(i)}),c=null==c?"":c,d.set?d.set(f,c,e):h[d.name]=c,d.afterSet&&d.afterSet(f,c,e);else for(i in b)b.hasOwnProperty(i)&&(d=g[i],d||(g[i]=d={name:a.normalize(i)}),c=b[i],c=null==c?"":c,d.set?d.set(f,c,e):h[d.name]=c,d.afterSet&&d.afterSet(f,c,e));return e},getHeight:function(a){var b=this.dom,c=a?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return c>0?c:0},getWidth:function(a){var b=this.dom,c=a?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return c>0?c:0},setWidth:function(b){var c=this;return c.dom.style.width=a.addUnits(b),c},setHeight:function(b){var c=this;return c.dom.style.height=a.addUnits(b),c},getBorderWidth:function(a){return this.addStyles(a,n)},getPadding:function(a){return this.addStyles(a,o)},margins:p,applyStyles:function(b){if(b){var c,d,e=this.dom;if("function"==typeof b&&(b=b.call()),"string"==typeof b)for(b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/),c=0,d=b.length;d>c;)e.style[a.normalize(b[c++])]=b[c++];else"object"==typeof b&&this.setStyle(b)}},setSize:function(b,c){var d=this,e=d.dom.style;return Ext.isObject(b)&&(c=b.height,b=b.width),e.width=a.addUnits(b),e.height=a.addUnits(c),d},getViewSize:function(){var b=document,c=this.dom;return c==b||c==b.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?b.clientWidth-this.getPadding("lr"):b.offsetWidth),height:Math.max(0,a?b.clientHeight-this.getPadding("tb"):b.offsetHeight)}},repaint:function(){var a=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){q.attach(a).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(a){var b,c,d,e=this,f={t:"top",l:"left",r:"right",b:"bottom"};if(a)return e.addStyles(a,e.margins);d=[];for(b in e.margins)e.margins.hasOwnProperty(b)&&d.push(e.margins[b]);if(c=e.getStyle(d),c&&"object"==typeof c)for(b in e.margins)e.margins.hasOwnProperty(b)&&(c[f[b]]=parseFloat(c[e.margins[b]])||0);return c},mask:function(a,b,c){var d,e,f=this,g=f.dom,h=(f.$cache||f.getCache()).data,i=h.mask,j="",k=Ext.baseCSSPrefix;f.addCls(k+"masked"),"static"==f.getStyle("position")&&f.addCls(k+"masked-relative"),i&&i.remove(),j=b&&"string"==typeof b?" "+b:" "+k+"mask-gray",d=f.createChild({cls:k+"mask"+(c!==!1?"":" "+k+"mask-gray"),html:a?'<div class="'+(b||k+"mask-message")+'">'+a+"</div>":""}),e=f.getSize(),h.mask=d,g===document.body&&(e.height=window.innerHeight,f.orientationHandler&&Ext.EventManager.unOrientationChange(f.orientationHandler,f),f.orientationHandler=function(){e=f.getSize(),e.height=window.innerHeight,d.setSize(e)},Ext.EventManager.onOrientationChange(f.orientationHandler,f)),d.setSize(e),Ext.is.iPad&&Ext.repaint()
},unmask:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.mask,d=Ext.baseCSSPrefix;c&&(c.remove(),delete b.mask),a.removeCls([d+"masked",d+"masked-relative"]),a.dom===document.body&&(Ext.EventManager.unOrientationChange(a.orientationHandler,a),delete a.orientationHandler)}}),Ext.onReady(function(){function b(a,b,c,e){var f=e[this.name]||"";return d.test(f)?"transparent":f}function c(a,b,c,d){var e,f,g=d.marginRight;return"0px"!=g&&(e=a.style,f=e.display,e.display="inline-block",g=(c?d:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight,e.display=f),g}function e(b,c,d,e){var f,g,h,i=e.marginRight;return"0px"!=i&&(f=b.style,g=a.getRightMarginFixCleaner(b),h=f.display,f.display="inline-block",i=(d?e:b.ownerDocument.defaultView.getComputedStyle(b,"")).marginRight,f.display=h,g()),i}var f,g,h,i,j,k=Ext.supports;if(f=a.prototype.styleHooks,k.init&&k.init(),k.RightMargin||(f.marginRight=f["margin-right"]={name:"marginRight",get:k.DisplayChangeInputSelectionBug||k.DisplayChangeTextAreaSelectionBug?e:c}),!k.TransparentColor)for(g=["background-color","border-color","color","outline-color"],h=g.length;h--;)i=g[h],j=a.normalize(i),f[i]=f[j]={name:j,get:b}})}),Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(a,b,c){var d,e=this.dom,f=document.documentElement,g=0;for(b=b||50,isNaN(b)&&(d=Ext.getDom(b),b=Number.MAX_VALUE);e&&1==e.nodeType&&b>g&&e!=f&&e!=d;){if(Ext.DomQuery.is(e,a))return c?Ext.get(e):e;g++,e=e.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b,c){return this.findParentNode(a,b,!c)},select:function(a,b){return Ext.dom.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var c,d,e=this;return d=Ext.id(e.dom),d=Ext.escapeId(d),c=Ext.DomQuery.selectNode("#"+d+" > "+a,e.dom),b?c:Ext.get(c)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){if(!this.dom)return null;for(var e=this.dom[b];e;){if(1==e.nodeType&&(!c||Ext.DomQuery.is(e,c)))return d?e:Ext.get(e);e=e[a]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}}),Ext.cmd.derive("Ext.dom.AbstractElement",Ext.Base,{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(a){var b,c,d,e,f,g=this,h=window.document,i=Ext.dom.Element;return a?(a.isFly&&(a=a.dom),"string"==typeof a?a==Ext.windowId?i.get(window):a==Ext.documentId?i.get(h):(b=Ext.cache[a],b&&b.skipGarbageCollection?d=b.el:(e=h.getElementById(a))?d=b&&b.el?Ext.updateCacheEntry(b,e).el:new i(e,!!b):null):a.tagName?((f=a.id)||(f=Ext.id(a)),b=Ext.cache[f],d=b&&b.el?Ext.updateCacheEntry(b,a).el:new i(a,!!b)):a instanceof g?(a!=g.docEl&&a!=g.winEl&&(f=a.id,b=Ext.cache[f],b&&Ext.updateCacheEntry(b,h.getElementById(f)||a.dom)),a):a.isComposite?a:Ext.isArray(a)?g.select(a):a===h?(g.docEl||(c=g.docEl=Ext.Object.chain(i.prototype),c.dom=h,c.el=c,c.id=Ext.id(h),g.addToCache(c)),g.docEl):a===window?(g.winEl||(g.winEl=Ext.Object.chain(i.prototype),g.winEl.dom=window,g.winEl.id=Ext.id(window),g.addToCache(g.winEl)),g.winEl):null):null},addToCache:function(a,b){return a&&Ext.addCacheEntry(b,a),a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,b,c,d,e,f,g={},h=[],i=!1,j=this.trimRe,k=this.whitespaceRe;for(b=0,c=arguments.length;c>b;b++)if(a=arguments[b],Ext.isString(a)&&(a=a.replace(j,"").split(k)),a)for(d=0,e=a.length;e>d;d++)f=a[d],g[f]||(b&&(i=!0),g[f]=!0);for(f in g)h.push(f);return h.changed=i,h},removeCls:function(a,b){var c,d,e,f={},g=[],h=!1,i=this.whitespaceRe;if(a)for(Ext.isString(a)&&(a=a.replace(this.trimRe,"").split(i)),c=0,d=a.length;d>c;c++)f[a[c]]=!0;if(b)for(Ext.isString(b)&&(b=b.split(i)),c=0,d=b.length;d>c;c++)e=b[c],f[e]&&(h=!0,delete f[e]);for(e in f)g.push(e);return g.changed=h,g},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(a,b){var c,d=this,e="string"==typeof a?document.getElementById(a):a;return d.el=d,e?(c=e.id,!b&&c&&Ext.cache[c]?Ext.cache[c].el:(d.dom=e,d.id=c||Ext.id(e),void d.self.addToCache(d))):null},set:function(a,b){var c,d,e=this.dom;for(c in a)a.hasOwnProperty(c)&&(d=a[c],"style"==c?this.applyStyles(d):"cls"==c?e.className=d:b!==!1?void 0===d?e.removeAttribute(c):e.setAttribute(c,d):e[c]=d);return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var a=this,b=a.dom;a.isAnimate&&a.stopAnimation(),b&&(Ext.removeNode(b),delete a.dom)},contains:function(a){if(!a)return!1;var b=this,c=a.dom||a;return c===b.dom||Ext.dom.AbstractElement.isAncestor(b.dom,c)},getAttribute:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},update:function(a){return this.dom&&(this.dom.innerHTML=a),this},setHTML:function(a){return this.dom&&(this.dom.innerHTML=a),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(a){var b=this,c=b.self,d=b.getVisibilityMode(),e=Ext.baseCSSPrefix;switch(d){case c.VISIBILITY:b.removeCls([e+"hidden-display",e+"hidden-offsets"]),b[a?"removeCls":"addCls"](e+"hidden-visibility");break;case c.DISPLAY:b.removeCls([e+"hidden-visibility",e+"hidden-offsets"]),b[a?"removeCls":"addCls"](e+"hidden-display");break;case c.OFFSETS:b.removeCls([e+"hidden-visibility",e+"hidden-display"]),b[a?"removeCls":"addCls"](e+"hidden-offsets")}return b},getVisibilityMode:function(){var a=(this.$cache||this.getCache()).data,b=a.visibilityMode;return void 0===b&&(a.visibilityMode=b=this.self.DISPLAY),b},setVisibilityMode:function(a){return(this.$cache||this.getCache()).data.visibilityMode=a,this},getCache:function(){var a=this,b=a.dom.id||Ext.id(a.dom);return a.$cache=Ext.cache[b]||Ext.addCacheEntry(b,null,a.dom),a.$cache}},1,0,0,0,0,0,[Ext.dom,"AbstractElement"],function(){var a=this;Ext.getDetachedBody=function(){var b=a.detachedBodyEl;return b||(b=document.createElement("div"),a.detachedBodyEl=b=new a.Fly(b),b.isDetachedBody=!0),b},Ext.getElementById=function(b){var c,d=document.getElementById(b);return!d&&(c=a.detachedBodyEl)&&(d=c.dom.querySelector("#"+Ext.escapeId(b))),d},Ext.get=function(a){return Ext.dom.Element.get(a)},this.addStatics({Fly:new Ext.Class({extend:a,isFly:!0,constructor:function(a){this.dom=a,this.el=this},attach:function(a){return this.dom=a,this.$cache=a.id?Ext.cache[a.id]:null,this}}),_flyweights:{},fly:function(b,c){var d=null,e=a._flyweights;return c=c||"_global",b=Ext.getDom(b),b&&(d=e[c]||(e[c]=new a.Fly),d.dom=b,d.$cache=b.id?Ext.cache[b.id]:null),d}}),Ext.fly=function(){return a.fly.apply(a,arguments)},function(a){a.destroy=a.remove,a.getById=document.querySelector?function(a,b){var c=document.getElementById(a)||this.dom.querySelector("#"+Ext.escapeId(a));return b?c:c?Ext.get(c):null}:function(a,b){var c=document.getElementById(a);return b?c:c?Ext.get(c):null}}(this.prototype)}),Ext.cmd.derive("Ext.dom.Helper",Ext.dom.AbstractHelper,function(){var a="afterbegin",b="afterend",c="beforebegin",d="beforeend",e="<table>",f="</table>",g=e+"<tbody>",h="</tbody>"+f,i=g+"<tr>",j="</tr>"+h,k=document.createElement("div"),l=["BeforeBegin","previousSibling"],m=["AfterEnd","nextSibling"],n={beforebegin:l,afterend:m},o={beforebegin:l,afterend:m,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(a,b){var c,d,e,f,g,h,i,j=document;if(Ext.isArray(a))for(c=j.createDocumentFragment(),h=0,i=a.length;i>h;h++)this.createDom(a[h],c);else if("string"==typeof a)c=j.createTextNode(a);else{c=j.createElement(a.tag||"div"),d=!!c.setAttribute;for(e in a)this.confRe.test(e)||(f=a[e],"cls"==e?c.className=f:d?c.setAttribute(e,f):c[e]=f);Ext.DomHelper.applyStyles(c,a.style),(g=a.children||a.cn)?this.createDom(g,c):a.html&&(c.innerHTML=a.html)}return b&&b.appendChild(c),c},ieTable:function(a,b,c,d){k.innerHTML=[b,c,d].join("");for(var e,f=-1,g=k;++f<a;)g=g.firstChild;if(e=g.nextSibling)for(e=g,g=document.createDocumentFragment();e;)nx=e.nextSibling,g.appendChild(e),e=nx;return g},insertIntoTable:function(k,l,m,n){var o,p,q=l==c,r=l==a,s=l==d,t=l==b;return"td"==k&&(r||s)||!this.tableElRe.test(k)&&(q||t)?null:(p=q?m:t?m.nextSibling:r?m.firstChild:null,(q||t)&&(m=m.parentNode),o="td"==k||"tr"==k&&(s||r)?this.ieTable(4,i,n,j):("tbody"==k||"thead"==k)&&(s||r)||"tr"==k&&(q||t)?this.ieTable(3,g,n,h):this.ieTable(2,e,n,f),m.insertBefore(o,p),o)},createContextualFragment:function(a){var b,c,d=document.createDocumentFragment();for(k.innerHTML=a,c=k.childNodes,b=c.length;b--;)d.appendChild(c[0]);return d},applyStyles:function(a,b){b&&("function"==typeof b&&(b=b.call()),"string"==typeof b&&(b=Ext.dom.Element.parseStyles(b)),"object"==typeof b&&Ext.fly(a,"_applyStyles").setStyle(b))},createHtml:function(a){return this.markup(a)},doInsert:function(a,b,c,d,e,f){a=a.dom||Ext.getDom(a);var g;return this.useDom?(g=this.createDom(b,null),f?a.appendChild(g):("firstChild"==e?a:a.parentNode).insertBefore(g,a[e]||a)):g=this.insertHtml(d,a,this.markup(b)),c?Ext.get(g,!0):g},overwrite:function(a,b,c){var d;if(a=Ext.getDom(a),b=this.markup(b),Ext.isIE&&this.tableRe.test(a.tagName)){for(;a.firstChild;)a.removeChild(a.firstChild);return b?(d=this.insertHtml("afterbegin",a,b),c?Ext.get(d):d):null}return a.innerHTML=b,c?Ext.get(a.firstChild):a.firstChild},insertHtml:function(b,d,e){var f,g,h,i,j;return b=b.toLowerCase(),d.insertAdjacentHTML?Ext.isIE&&this.tableRe.test(d.tagName)&&(j=this.insertIntoTable(d.tagName.toLowerCase(),b,d,e))?j:(f=o[b])?(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){d.insertAdjacentHTML(f[0],e)}):d.insertAdjacentHTML(f[0],e),d[f[1]]):void 0:(3===d.nodeType&&(b="afterbegin"===b?"beforebegin":b,b="beforeend"===b?"afterend":b),g=Ext.supports.CreateContextualFragment?d.ownerDocument.createRange():void 0,i="setStart"+(this.endRe.test(b)?"After":"Before"),n[b]?(g?(g[i](d),j=g.createContextualFragment(e)):j=this.createContextualFragment(e),d.parentNode.insertBefore(j,b==c?d:d.nextSibling),d[(b==c?"previous":"next")+"Sibling"]):(h=(b==a?"first":"last")+"Child",d.firstChild?(g?(g[i](d[h]),j=g.createContextualFragment(e)):j=this.createContextualFragment(e),b==a?d.insertBefore(j,d.firstChild):d.appendChild(j)):d.innerHTML=e,d[h]))},createTemplate:function(a){var b=this.markup(a);return new Ext.Template(b)}}}(),0,0,0,0,0,0,[Ext.dom,"Helper"],function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this}),Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(a,b){return a=Ext.getDom(a),new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b,c=this,d=arguments,e=[],f=0,g=d.length;if(c.initialConfig={},1===g&&Ext.isArray(a)&&(d=a,g=d.length),g>1)for(;g>f;f++)b=d[f],"object"==typeof b?(Ext.apply(c.initialConfig,b),Ext.apply(c,b)):e.push(b);else e.push(a);c.html=e.join(""),c.compiled&&c.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){function b(b,c,d,h){return d&&e?(h=h?[a[c]].concat(Ext.functionFactory("return ["+h+"];")()):[a[c]],"this."==d.substr(0,5)?g[d.substr(5)].apply(g,h):f[d].apply(f,h)):void 0!==a[c]?a[c]:""}var c,d=this,e=d.disableFormats!==!0,f=Ext.util.Format,g=d;return d.compiled?d.compiled(a).join(""):c=d.html.replace(d.re,b)},applyOut:function(a,b){var c=this;return c.compiled?b.push.apply(b,c.compiled(a)):b.push(c.apply(a)),b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){var c=this;return c.html=a,c.compiled=null,b?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(a,b,c,d){return c&&useFormat?(d=d?","+d:"",c="this."!=c.substr(0,5)?"fm."+c+"(":"this."+c.substr(5)+"("):(d="",c="(values['"+b+"'] == undefined ? '' : "),"',"+c+"values['"+b+"']"+d+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){var e=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(e):e},overwrite:function(a,b,c){var d=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(d):d}},1,0,0,0,0,0,[Ext,"Template"],0),Ext.cmd.derive("Ext.XTemplateParser",Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=a.length,p={elseif:"elif"},q=n.topRe,r=n.actionsRe;for(n.level=0,n.stack=c=[],b=0;o>b;b=k){if(q.lastIndex=b,e=q.exec(a),!e){n.doText(a.substring(b,o));break}if(j=e.index,k=q.lastIndex,j>b&&n.doText(a.substring(b,j)),e[1])k=a.indexOf("%}",j+2),n.doEval(a.substring(j+2,k)),k+=2;else if(e[2])k=a.indexOf("]}",j+2),n.doExpr(a.substring(j+2,k)),k+=2;else if(e[3])n.doTag(e[3]);else if(e[4]){for(l=null;null!==(i=r.exec(e[4]));)d=i[2]||i[3],d&&(d=Ext.String.htmlDecode(d),f=i[1],f=p[f]||f,l=l||{},g=l[f],"string"==typeof g?l[f]=[g,d]:g?l[f].push(d):l[f]=d);l?l["if"]?(n.doIf(l["if"],l),c.push({type:"if"})):l["switch"]?(n.doSwitch(l["switch"],l),c.push({type:"switch"})):l["case"]?n.doCase(l["case"],l):l.elif?n.doElseIf(l.elif,l):l["for"]?(++n.level,(m=n.propRe.exec(e[4]))&&(l.propName=m[1]||m[2]),n.doFor(l["for"],l),c.push({type:"for",actions:l})):l.foreach?(++n.level,(m=n.propRe.exec(e[4]))&&(l.propName=m[1]||m[2]),n.doForEach(l.foreach,l),c.push({type:"foreach",actions:l})):l.exec&&(n.doExec(l.exec,l),c.push({type:"exec",actions:l})):n.elseRe.test(e[4])?n.doElse():n.defaultRe.test(e[4])?n.doDefault():(n.doTpl(),c.push({type:"tpl"}))}else 5===e[0].length?c.push({type:"tpl"}):(h=c.pop(),n.doEnd(h.type,h.actions),("for"==h.type||"foreach"==h.type)&&--n.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext,"XTemplateParser"],0),Ext.cmd.derive("Ext.XTemplateCompiler",Ext.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){var b=this,c=b.generate(a);return b.useEval?b.evalTpl(c):new Function("Ext",c)(Ext)},generate:function(a){var b,c=this,d="var fm=Ext.util.Format,ts=Object.prototype.toString;";return c.maxLevel=0,c.body=["var c0=values, a0="+c.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],c.definitions?"string"==typeof c.definitions?c.definitions=[c.definitions,d]:c.definitions.push(d):c.definitions=[d],c.switches=[],c.parse(a),c.definitions.push((c.useEval?"$=":"return")+" function ("+c.fnArgs+") {",c.body.join(""),"}"),b=c.definitions.join("\n"),c.definitions.length=c.body.length=c.switches.length=0,delete c.definitions,delete c.body,delete c.switches,b},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n"),b.useIndex?c.push("out[out.length]='",a,"'\n"):c.push("out.push('",a,"')\n")},doExpr:function(a){var b=this.body;b.push("if ((v="+a+") != null) out"),b.push(this.useIndex?"[out.length]=v+''\n":".push(v+'')\n")},doTag:function(a){var b=this.parseTag(a);b?this.doExpr(b):this.doText("{"+a+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){var c=this;"."===a?c.body.push("if (values) {\n"):c.propNameRe.test(a)?c.body.push("if (",c.parseTag(a),") {\n"):c.body.push("if (",c.addFn(a),c.callFn,") {\n"),b.exec&&c.doExec(b.exec)},doElseIf:function(a,b){var c=this;"."===a?c.body.push("else if (values) {\n"):c.propNameRe.test(a)?c.body.push("} else if (",c.parseTag(a),") {\n"):c.body.push("} else if (",c.addFn(a),c.callFn,") {\n"),b.exec&&c.doExec(b.exec)},doSwitch:function(a){var b=this;"."===a?b.body.push("switch (values) {\n"):b.propNameRe.test(a)?b.body.push("switch (",b.parseTag(a),") {\n"):b.body.push("switch (",b.addFn(a),b.callFn,") {\n"),b.switches.push(0)},doCase:function(a){var b,c,d=this,e=Ext.isArray(a)?a:[a],f=d.switches.length-1;for(d.switches[f]?d.body.push("break;\n"):d.switches[f]++,c=0,f=e.length;f>c;++c)b=d.intRe.exec(e[c]),e[c]=b?b[1]:"'"+e[c].replace(d.aposRe,"\\'")+"'";d.body.push("case ",e.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;a.switches[b]?a.body.push("break;\n"):a.switches[b]++,a.body.push("default:\n")},doEnd:function(a,b){var c=this,d=c.level-1;"for"==a||"foreach"==a?(b.exec&&c.doExec(b.exec),c.body.push("}\n"),c.body.push("parent=p",d,";values=r",d+1,";xcount=n"+d+";xindex=i",d,"+1;xkey=k",d,";\n")):("if"==a||"switch"==a)&&c.body.push("}\n")},doFor:function(a,b){var c,d,e=this,f=e.level,g=f-1;c="."===a?"values":e.propNameRe.test(a)?e.parseTag(a):e.addFn(a)+e.callFn,e.maxLevel<f&&(e.maxLevel=f,e.body.push("var ")),d="."==a?"c"+f:"a"+g+"?c"+g+"[i"+g+"]:c"+g,e.body.push("i",f,"=0,n",f,"=0,c",f,"=",c,",a",f,"=",e.createArrayTest(f),",r",f,"=values,p",f,",k",f,";\n","p",f,"=parent=",d,"\n","if (c",f,"){if(a",f,"){n",f,"=c",f,".length;}else if (c",f,".isMixedCollection){c",f,"=c",f,".items;n",f,"=c",f,".length;}else if(c",f,".isStore){c",f,"=c",f,".data.items;n",f,"=c",f,".length;}else{c",f,"=[c",f,"];n",f,"=1;}}\n","for (xcount=n",f,";i",f,"<n"+f+";++i",f,"){\n","values=c",f,"[i",f,"]"),b.propName&&e.body.push(".",b.propName),e.body.push("\n","xindex=i",f,"+1\n"),b.between&&e.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},doForEach:function(a,b){var c,d,e=this,f=e.level,g=f-1;c="."===a?"values":e.propNameRe.test(a)?e.parseTag(a):e.addFn(a)+e.callFn,e.maxLevel<f&&(e.maxLevel=f,e.body.push("var ")),d="."==a?"c"+f:"a"+g+"?c"+g+"[i"+g+"]:c"+g,e.body.push("i",f,"=-1,n",f,"=0,c",f,"=",c,",a",f,"=",e.createArrayTest(f),",r",f,"=values,p",f,",k",f,";\n","p",f,"=parent=",d,"\n","for(k",f," in c",f,"){\n","xindex=++i",f,"+1;\n","xkey=k",f,";\n","values=c",f,"[k",f,"];"),b.propName&&e.body.push(".",b.propName),b.between&&e.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a){var b=this,c="f"+b.definitions.length;b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {","}","}"),b.body.push(c+b.callFn+"\n")},addFn:function(a){var b=this,c="f"+b.definitions.length;return"."===a?b.definitions.push("function "+c+"("+b.fnArgs+") {"," return values","}"):".."===a?b.definitions.push("function "+c+"("+b.fnArgs+") {"," return parent","}"):b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {","}","}"),c},parseTag:function(a){var b,c,d,e,f,g=this,h=g.tagRe.exec(a);return h?(b=h[1],c=h[2],d=h[3],e=h[4],"."==b?(g.validTypes||(g.definitions.push("var validTypes={string:1,number:1,boolean:1};"),g.validTypes=!0),f='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):f="#"==b?"xindex":"$"==b?"xkey":"parent."==b.substr(0,7)?b:isNaN(b)&&-1==b.indexOf("-")&&-1!=b.indexOf(".")?"values."+b:"values['"+b+"']",e&&(f="("+f+e+")"),c&&g.useFormat?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":c+="(",c+f+d+")"):f):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext,"XTemplateCompiler"],function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey",a.callFn=".call(this,"+a.fnArgs+")"}),Ext.cmd.derive("Ext.XTemplate",Ext.Template,{emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d,e=this;e.fn||(d=new Ext.XTemplateCompiler({useFormat:e.disableFormats!==!0,definitions:e.definitions}),e.fn=d.compile(e.html));try{e.fn(b,a,c||e.emptyObj,1,1)}catch(f){}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c,d=a[b];if(d&&!d.isTemplate){if(d=Ext.ClassManager.dynInstantiate("Ext.XTemplate",d),a.hasOwnProperty(b))c=a;else for(c=a.self.prototype;c&&!c.hasOwnProperty(b);c=c.superclass);c[b]=d,d.owner=c}return d||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function children(a){for(var b,c=a.firstChild,d=-1;c;)b=c.nextSibling,3!=c.nodeType||nonSpace.test(c.nodeValue)?c.nodeIndex=++d:a.removeChild(c),c=b;return this}function attrValue(a,b){return a.tagName||"undefined"==typeof a.length||(a=a[0]),a?"for"==b?a.htmlFor:"class"==b||"className"==b?a.className:a.getAttribute(b)||a[b]:null}function getNodes(a,b,c){var d,e,f,g,h,i,j,k,l,m=[],n=-1;if(!a)return m;if(c=c.replace("|",":")||"*","undefined"!=typeof a.getElementsByTagName&&(a=[a]),b){if("/"==b||">"==b)for(j=c.toUpperCase(),e=0;f=a[e];e++)for(i=f.childNodes,g=0;l=i[g];g++)(l.nodeName==j||l.nodeName==c||"*"==c)&&(m[++n]=l);else if("+"==b)for(j=c.toUpperCase(),e=0;k=a[e];e++){for(;(k=k.nextSibling)&&1!=k.nodeType;);!k||k.nodeName!=j&&k.nodeName!=c&&"*"!=c||(m[++n]=k)}else if("~"==b)for(j=c.toUpperCase(),e=0;k=a[e];e++)for(;k=k.nextSibling;)(k.nodeName==j||k.nodeName==c||"*"==c)&&(m[++n]=k)}else if(c=unescapeCssSelector(c),!supportsColonNsSeparator&&DQ.isXml(a[0])&&-1!==c.indexOf(":"))for(e=0;f=a[e];e++)for(d=f.getElementsByTagName(c.split(":").pop()),g=0;h=d[g];g++)h.tagName===c&&(m[++n]=h);else for(e=0;f=a[e];e++)for(d=f.getElementsByTagName(c),g=0;h=d[g];g++)m[++n]=h;return m}function concat(a,b){return a.push.apply(a,b),a}function byTag(a,b){if((a.tagName||a===doc)&&(a=[a]),!b)return a;var c,d,e=[],f=-1;for(b=b.toLowerCase(),c=0;d=a[c];c++)1==d.nodeType&&d.tagName.toLowerCase()==b&&(e[++f]=d);return e}function byId(a,b){if(b=unescapeCssSelector(b),(a.tagName||a===doc)&&(a=[a]),!b)return a;var c,d,e=[],f=-1;for(c=0;d=a[c];c++)if(d&&d.id==b)return e[++f]=d,e;return e}function byAttribute(a,b,c,d,e){var f,g,h,i,j,k=[],l=-1,m="{"==e,n=DQ.operators[d];for(c=unescapeCssSelector(c),i=0;j=a[i];i++)1===j.nodeType&&(h||(g=DQ.isXml(j),h=!0),f=g?j.getAttribute(b):m?DQ.getStyle(j,b):"class"==b||"className"==b?j.className:"for"==b?j.htmlFor:"href"==b?j.getAttribute("href",2):j.getAttribute(b),(n&&n(f,c)||!n&&f)&&(k[++l]=j));return k}function byPseudo(a,b,c){return c=unescapeCssSelector(c),DQ.pseudos[b](a,c)}function nodupIEXml(a){var b,c,d,e,f=++key;for(a[0].setAttribute("_nodup",f),b=[a[0]],c=1,d=a.length;d>c;c++)e=a[c],!e.getAttribute("_nodup")!=f&&(e.setAttribute("_nodup",f),b[b.length]=e);for(c=0,d=a.length;d>c;c++)a[c].removeAttribute("_nodup");return b}function nodup(a){if(!a)return[];var b,c,d,e,f,g=a.length,h=a,i=-1;if(!g||"undefined"!=typeof a.nodeType||1==g)return a;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return nodupIEXml(a);for(e=++key,a[0]._nodup=e,c=1;b=a[c];c++){if(b._nodup==e){for(h=[],f=0;c>f;f++)h[++i]=a[f];for(f=c+1;d=a[f];f++)d._nodup!=e&&(d._nodup=e,h[++i]=d);return h}b._nodup=e}return h}function quickDiffIEXml(a,b){var c,d,e=++key,f=[];for(c=0,d=a.length;d>c;c++)a[c].setAttribute("_qdiff",e);for(c=0,d=b.length;d>c;c++)b[c].getAttribute("_qdiff")!=e&&(f[f.length]=b[c]);for(c=0,d=a.length;d>c;c++)a[c].removeAttribute("_qdiff");return f}function quickDiff(a,b){var c,d,e=a.length,f=++key,g=[];if(!e)return b;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return quickDiffIEXml(a,b);for(c=0;e>c;c++)a[c]._qdiff=f;for(c=0,d=b.length;d>c;c++)b[c]._qdiff!=f&&(g[g.length]=b[c]);return g}function quickId(a,b,c,d){if(a==c){d=unescapeCssSelector(d);var e=c.ownerDocument||c;return e.getElementById(d)}return a=getNodes(a,b,"*"),byId(a,d)}var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var a=doc.createElement("div");return a.innerHTML="<!-- -->text<!-- -->",a.children&&0===a.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var a,b='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?a=(new DOMParser).parseFromString(b,"application/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(b)),!!a.getElementsByTagName("a:b").length}(),longHexToChar=function(a,b){return String.fromCharCode(parseInt(b,16))},shortToLongHex=function(a,b){for(;b.length<6;)b="0"+b;return"\\"+b},charToLongHex=function(a,b){return num=b.charCodeAt(0).toString(16),1===num.length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(a){return hasEscapes?a.replace(longHex,longHexToChar):a},setupEscapes=function(a){return hasEscapes=a.indexOf("\\")>-1,hasEscapes&&(a=a.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),a};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(a,b){return a.children[b]}:function(a,b){for(var c=0,d=a.firstChild;d;){if(1==d.nodeType&&++c==b)return d;d=d.nextSibling}return null},next=useElementPointer?function(a){return a.nextElementSibling}:function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return a},prev=useElementPointer?function(a){return a.previousElementSibling}:function(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a},byClassName=useClassList?function(a,b){if(b=unescapeCssSelector(b),!b)return a;var c,d,e,f=[],g=-1;for(c=0;d=a[c];c++)e=d.classList,e?e.contains(b)&&(f[++g]=d):-1!==(" "+d.className+" ").indexOf(b)&&(f[++g]=d);return f}:function(a,b){if(b=unescapeCssSelector(b),!b)return a;var c,d,e=[],f=-1;for(c=0;d=a[c];c++)-1!==(" "+d.className+" ").indexOf(b)&&(e[++f]=d);return e},DQ={getStyle:function(a,b){return Ext.fly(a,"_DomQuery").getStyle(b)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?(fn[fn.length]="#"==tokenMatch[1]?'n = quickId(n, mode, root, "'+tokenMatch[2]+'");':'n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&(fn[fn.length]="#"==tokenMatch[1]?'n = byId(n, "'+tokenMatch[2]+'");':'n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;matchersLn>j;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(a,b){return m[b]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(a,b,c){b=b||doc,"string"==typeof b&&(b=doc.getElementById(b));var d,e,f,g,h=a.split(","),i=[];for(d=0,e=h.length;e>d;d++)f=h[d].replace(trimRe,""),cache[f]?setupEscapes(f):(cache[f]=DQ.compile(f,c),cache[f]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:f+" is not a valid selector"})),g=cache[f](b),g&&g!==doc&&(i=i.concat(g));return h.length>1?nodup(i):i},isXml:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1},select:doc.querySelectorAll?function(a,b,c,d){if(b=b||doc,!DQ.isXml(b))try{return b.parentNode&&9!==b.nodeType&&-1===a.indexOf(",")&&!startIdRe.test(a)&&(a="#"+Ext.escapeId(Ext.id(b))+" "+a,b=b.parentNode),d?[b.querySelector(a)]:Ext.Array.toArray(b.querySelectorAll(a))}catch(e){}return DQ.jsSelect.call(this,a,b,c)}:function(a,b,c){return DQ.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,!0)[0]},selectValue:function(a,b,c){a=a.replace(trimRe,""),valueCache[a]?setupEscapes(a):valueCache[a]=DQ.compile(a,"select");var d,e=valueCache[a](b);return e=e[0]?e[0]:e,"function"==typeof e.normalize&&e.normalize(),d=e&&e.firstChild?e.firstChild.nodeValue:null,null===d||void 0===d||""===d?c:d},selectNumber:function(a,b,c){var d=DQ.selectValue(a,b,c||0);return parseFloat(d)},is:function(a,b){"string"==typeof a&&(a=doc.getElementById(a));var c=Ext.isArray(a),d=DQ.filter(c?a:[a],b);return c?d.length==a.length:d.length>0},filter:function(a,b,c){b=b.replace(trimRe,""),simpleCache[b]?setupEscapes(b):simpleCache[b]=DQ.compile(b,"simple");var d=simpleCache[b](a);return c?quickDiff(d,a):d},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&-1!==a.indexOf(b)},"%=":function(a,b){return a%b===0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}},pseudos:{"first-child":function(a){var b,c,d,e=[],f=-1;for(c=0;d=b=a[c];c++){for(;(b=b.previousSibling)&&1!=b.nodeType;);b||(e[++f]=d)}return e},"last-child":function(a){var b,c,d,e=[],f=-1;for(c=0;d=b=a[c];c++){for(;(b=b.nextSibling)&&1!=b.nodeType;);b||(e[++f]=d)}return e},"nth-child":function(a,b){var c,d,e,f,g,h=[],i=-1,j=nthRe.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!nthRe2.test(b)&&"n+"+b||b),k=(j[1]||1)-0,l=j[2]-0;for(c=0;d=a[c];c++){if(g=d.parentNode,batch!=g._batch){for(e=0,f=g.firstChild;f;f=f.nextSibling)1==f.nodeType&&(f.nodeIndex=++e);g._batch=batch}1==k?(0===l||d.nodeIndex==l)&&(h[++i]=d):(d.nodeIndex+l)%k===0&&(h[++i]=d)}return h},"only-child":function(a){var b,c,d=[],e=-1;for(b=0;c=a[b];b++)prev(c)||next(c)||(d[++e]=c);return d},empty:function(a){var b,c,d,e,f,g,h=[],i=-1;for(b=0;c=a[b];b++){for(d=c.childNodes,e=0,g=!0;f=d[e];)if(++e,1==f.nodeType||3==f.nodeType){g=!1;break}g&&(h[++i]=c)}return h},contains:function(a,b){var c,d,e=[],f=-1;for(c=0;d=a[c];c++)-1!=(d.textContent||d.innerText||d.text||"").indexOf(b)&&(e[++f]=d);
return e},nodeValue:function(a,b){var c,d,e=[],f=-1;for(c=0;d=a[c];c++)d.firstChild&&d.firstChild.nodeValue==b&&(e[++f]=d);return e},checked:function(a){var b,c,d=[],e=-1;for(b=0;c=a[b];b++)c.checked===!0&&(d[++e]=c);return d},not:function(a,b){return DQ.filter(a,b,!0)},any:function(a,b){var c,d,e,f,g=b.split("|"),h=[],i=-1;for(d=0;e=a[d];d++)for(f=0;c=g[f];f++)if(DQ.is(e,c)){h[++i]=e;break}return h},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){var c,d,e=DQ.select,f=[],g=-1;for(c=0;d=a[c];c++)e(b,d).length>0&&(f[++g]=d);return f},next:function(a,b){var c,d,e,f=DQ.is,g=[],h=-1;for(c=0;d=a[c];c++)e=next(d),e&&f(e,b)&&(g[++h]=d);return g},prev:function(a,b){var c,d,e,f=DQ.is,g=[],h=-1;for(c=0;d=a[c];c++)e=prev(d),e&&f(e,b)&&(g[++h]=d);return g},focusable:function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a[e],Ext.fly(b,"_DomQuery").isFocusable()&&d.push(b);return d},visible:function(a,b){for(var c,d=a.length,e=[],f=0;d>f;f++)c=a[f],Ext.fly(c,"_DomQuery").isVisible(b)&&e.push(c);return e}}}}(),Ext.query=Ext.DomQuery.select,Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(a){var b,c,d=this,e=d.dom.id||Ext.id(d.dom);return Ext.fx.Manager.hasFxBlock(e)||(a.listeners&&(b=a.listeners,delete a.listeners),a.internalListeners&&(a.listeners=a.internalListeners,delete a.internalListeners),c=new Ext.fx.Anim(d.anim(a)),b&&c.on(b),Ext.fx.Manager.queueFx(c)),d},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;var b,c=this,d=a.duration||Ext.fx.Anim.prototype.duration,e=a.easing||"ease";return a.stopAnimation&&c.stopAnimation(),Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(c.id)),Ext.fx.Manager.setFxDefaults(c.id,{delay:0}),b={target:c.dom,remove:a.remove,alternate:a.alternate||!1,duration:d,easing:e,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:!0,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)},Ext.apply(b.to,a.to),delete b.to.to,delete b.to.from,delete b.to.remove,delete b.to.alternate,delete b.to.keyframes,delete b.to.iterations,delete b.to.listeners,delete b.to.target,delete b.to.paused,delete b.to.callback,delete b.to.scope,delete b.to.duration,delete b.to.easing,delete b.to.concurrent,delete b.to.block,delete b.to.stopAnimation,delete b.to.delay,b},slideIn:function(a,b,c){var d,e,f,g,h=this,i=h.dom,j=i.style;return a=a||"t",b=b||{},d=function(){var d,k,l,m,n=this,o=b.listeners,p=Ext.fly(i,"_anim");switch(c||p.fixDisplay(),d=p.getBox(),"t"!=a&&"b"!=a||0!==d.height?"l"!=a&&"r"!=a||0!==d.width||(d.width=i.scrollWidth):d.height=i.scrollHeight,k=p.getStyles("width","height","left","right","top","bottom","position","z-index",!0),p.setSize(d.width,d.height),b.preserveScroll&&(f=p.cacheScrollValues()),m=p.wrap({id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:c?"visible":"hidden"}}),g=m.dom.parentNode,m.setPositioning(p.getPositioning(!0)),m.isStyle("position","static")&&m.position("relative"),p.clearPositioning("auto"),m.clip(),f&&f(),p.setStyle({visibility:"",position:"absolute"}),c&&m.setSize(d.width,d.height),a){case"t":l={from:{width:d.width+"px",height:"0px"},to:{width:d.width+"px",height:d.height+"px"}},j.bottom="0px";break;case"l":l={from:{width:"0px",height:d.height+"px"},to:{width:d.width+"px",height:d.height+"px"}},h.anchorAnimX(a);break;case"r":l={from:{x:d.x+d.width,width:"0px",height:d.height+"px"},to:{x:d.x,width:d.width+"px",height:d.height+"px"}},h.anchorAnimX(a);break;case"b":l={from:{y:d.y+d.height,width:d.width+"px",height:"0px"},to:{y:d.y,width:d.width+"px",height:d.height+"px"}};break;case"tl":l={from:{x:d.x,y:d.y,width:"0px",height:"0px"},to:{width:d.width+"px",height:d.height+"px"}},j.bottom="0px",h.anchorAnimX("l");break;case"bl":l={from:{y:d.y+d.height,width:"0px",height:"0px"},to:{y:d.y,width:d.width+"px",height:d.height+"px"}},h.anchorAnimX("l");break;case"br":l={from:{x:d.x+d.width,y:d.y+d.height,width:"0px",height:"0px"},to:{x:d.x,y:d.y,width:d.width+"px",height:d.height+"px"}},h.anchorAnimX("r");break;case"tr":l={from:{x:d.x+d.width,width:"0px",height:"0px"},to:{x:d.x,width:d.width+"px",height:d.height+"px"}},j.bottom="0px",h.anchorAnimX("r")}m.show(),e=Ext.apply({},b),delete e.listeners,e=new Ext.fx.Anim(Ext.applyIf(e,{target:m,duration:500,easing:"ease-out",from:c?l.to:l.from,to:c?l.from:l.to})),e.on("afteranimate",function(){var a=Ext.fly(i,"_anim");a.setStyle(k),c&&(b.useDisplay?a.setDisplayed(!1):a.hide()),m.dom&&(m.dom.parentNode?m.dom.parentNode.insertBefore(a.dom,m.dom):g.appendChild(a.dom),m.remove()),f&&f(),n.end()}),o&&e.on(o)},h.animate({duration:b.duration?2*Math.max(b.duration,500):1e3,listeners:{beforeanimate:d}}),h},slideOut:function(a,b){return this.slideIn(a,b,!0)},puff:function(a){var b,c=this,d=c.dom,e=c.getBox(),f=c.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:!1}),b=function(){var b=Ext.fly(d,"_anim");b.clearOpacity(),b.show(),this.to={width:2*e.width,height:2*e.height,x:e.x-e.width/2,y:e.y-e.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var b=Ext.fly(d,"_anim");b&&(a.useDisplay?b.setDisplayed(!1):b.hide(),b.setStyle(f),Ext.callback(a.callback,a.scope))})},c.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:b}}}),c},switchOff:function(a){var b,c=this,d=c.dom;return a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),b=function(){var b,c,e=Ext.fly(d,"_anim"),f=this,g=e.getSize(),h=e.getXY();e.clearOpacity(),e.clip(),c=e.getPositioning(),b=new Ext.fx.Animator({target:d,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:.3},66:{height:1,y:h[1]+g.height/2},100:{width:1,x:h[0]+g.width/2}}}),b.on("afteranimate",function(){var b=Ext.fly(d,"_anim");a.useDisplay?b.setDisplayed(!1):b.hide(),b.clearOpacity(),b.setPositioning(c),b.setSize(g),f.end()})},c.animate({duration:2*Math.max(a.duration,500),listeners:{beforeanimate:{fn:b}},callback:a.callback,scope:a.scope}),c},frame:function(a,b,c){var d,e=this,f=e.dom;return a=a||"#C3DAF9",b=b||1,c=c||{},d=function(){var d,e,g,h=Ext.fly(f,"_anim"),i=this;h.show(),d=h.getBox(),e=Ext.getBody().createChild({id:h.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+a}}),g=new Ext.fx.Anim({target:e,duration:c.duration||1e3,iterations:b,from:{top:d.y,left:d.x,borderWidth:0,opacity:1,height:d.height,width:d.width},to:{top:d.y-20,left:d.x-20,borderWidth:10,opacity:0,height:d.height+40,width:d.width+40}}),g.on("afteranimate",function(){e.remove(),i.end()})},e.animate({duration:2*Math.max(c.duration,500)||2e3,listeners:{beforeanimate:{fn:d}},callback:c.callback,scope:c.scope}),e},ghost:function(a,b){var c,d=this,e=d.dom;return a=a||"b",c=function(){var b=Ext.fly(e,"_anim"),c=b.getWidth(),d=b.getHeight(),f=b.getXY(),g=b.getPositioning(),h={opacity:0};switch(a){case"t":h.y=f[1]-d;break;case"l":h.x=f[0]-c;break;case"r":h.x=f[0]+c;break;case"b":h.y=f[1]+d;break;case"tl":h.x=f[0]-c,h.y=f[1]-d;break;case"bl":h.x=f[0]-c,h.y=f[1]+d;break;case"br":h.x=f[0]+c,h.y=f[1]+d;break;case"tr":h.x=f[0]+c,h.y=f[1]-d}this.to=h,this.on("afteranimate",function(){var a=Ext.fly(e,"_anim");a&&(a.hide(),a.clearOpacity(),a.setPositioning(g))})},d.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:c}})),d},highlight:function(a,b){var c,d,e,f,g,h,i=this,j=i.dom,k={};return j.tagName.match(i.tableTagRe)?i.select("div").highlight(a,b):(b=b||{},f=b.listeners||{},e=b.attr||"backgroundColor",k[e]=a||"ffff9c",b.to?d=b.to:(d={},d[e]=b.endColor||i.getColor(e,"ffffff","")),b.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){c=j.style[e];var a=Ext.fly(j,"_anim");return a.clearOpacity(),a.show(),g=f.beforeanimate,g?(h=g.fn||g,h.apply(g.scope||f.scope||window,arguments)):void 0},afteranimate:function(){j&&(j.style[e]=c),g=f.afteranimate,g&&(h=g.fn||g,h.apply(g.scope||f.scope||window,arguments))}}),i.animate(Ext.apply({},b,{duration:1e3,easing:"ease-in",from:k,to:d})),i)},pause:function(a){var b=this;return Ext.fx.Manager.setFxDefaults(b.id,{delay:a}),b},fadeIn:function(a){var b=this,c=b.dom;return b.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(){var a=Ext.fly(c,"_anim");a.isStyle("display","none")?a.setDisplayed(""):a.show()}}})),this},fadeOut:function(a){var b=this,c=b.dom;return a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(b){if(c&&0===b.to.opacity){var d=Ext.fly(c,"_anim");a.useDisplay?d.setDisplayed(!1):d.hide()}}}},a),b.animate(a),b},scale:function(a,b,c){return this.animate(Ext.apply({},c,{width:a,height:b})),this},shift:function(a){return this.animate(a),this},anchorAnimX:function(a){var b="l"===a?"right":"left";this.dom.style[b]="0px"}}),Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(a,b,c){var d=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDProxy:function(a,b,c){var d=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDTarget:function(a,b,c){var d=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(d,c)}}),Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var a=Ext.dom.Element,b="visibility",c="display",d="none",e="hidden",f="offsets",g="asclass",h="nosize",i="originalDisplay",j="visibilityMode",k="isVisible",l=Ext.baseCSSPrefix+"hide-offsets",m=function(a){var b=(a.$cache||a.getCache()).data,c=b[i];return void 0===c&&(b[i]=c=""),c},n=function(b){var c=(b.$cache||b.getCache()).data,d=c[j];return void 0===d&&(c[j]=d=a.VISIBILITY),d};a.override({originalDisplay:"",visibilityMode:1,setVisible:function(d,i){var j=this,m=j.dom,o=n(j);if("string"==typeof i){switch(i){case c:o=a.DISPLAY;break;case b:o=a.VISIBILITY;break;case f:o=a.OFFSETS;break;case h:case g:o=a.ASCLASS}j.setVisibilityMode(o),i=!1}if(i&&j.anim)d&&(j.setOpacity(.01),j.setVisible(!0)),Ext.isObject(i)||(i={duration:350,easing:"ease-in"}),j.animate(Ext.applyIf({callback:function(){d||Ext.fly(m,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:d?1:0}},i));else{if(o==a.DISPLAY)return j.setDisplayed(d);o==a.OFFSETS?j[d?"removeCls":"addCls"](l):o==a.VISIBILITY?(j.fixDisplay(),m.style.visibility=d?"":e):o==a.ASCLASS&&j[d?"removeCls":"addCls"](j.visibilityCls||a.visibilityCls)}return(j.$cache||j.getCache()).data[k]=d,j},hasMetrics:function(){var b=n(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(a){var b=this;return b.setVisible(!b.isVisible(),b.anim(a)),b},setDisplayed:function(a){return"boolean"==typeof a&&(a=a?m(this):d),this.setStyle(c,a),this},fixDisplay:function(){var a=this;a.isStyle(c,d)&&(a.setStyle(b,e),a.setStyle(c,m(a)),a.isStyle(c,d)&&a.setStyle(c,"block"))},hide:function(a){return"string"==typeof a?(this.setVisible(!1,a),this):(this.setVisible(!1,this.anim(a)),this)},show:function(a){return"string"==typeof a?(this.setVisible(!0,a),this):(this.setVisible(!0,this.anim(a)),this)}})}),Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var a,b=this,c="left",d="right",e="top",f="bottom",g="position",h="static",i="relative",j="z-index",k="BODY",l="padding",m="border",n="-left",o="-right",p="-top",q="-bottom",r="-width",s={l:m+n+r,r:m+o+r,t:m+p+r,b:m+q+r},t={l:l+n,r:l+o,t:l+p,b:l+q},u=[t.l,t.r,t.t,t.b],v=[s.l,s.r,s.t,s.b],w=Math.round,x=document,y=function(b){return a||(a=new Ext.Element.Fly),a.attach(b),a};b.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(a){return b.getXY(a)[0]},getXY:function(a){var b,c,d=x.body,e=x.documentElement,f=0,g=0,h=[0,0];if(a=Ext.getDom(a),a!=x&&a!=d){if(Ext.isIE)try{b=a.getBoundingClientRect(),g=e.clientTop||d.clientTop,f=e.clientLeft||d.clientLeft}catch(i){b={left:0,top:0}}else b=a.getBoundingClientRect();c=y(x).getScroll(),h=[w(b.left+c.left-f),w(b.top+c.top-g)]}return h},getY:function(a){return b.getXY(a)[1]},setX:function(a,c){b.setXY(a,[c,!1])},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c,d=a.translatePoints(b),e=a.dom.style;e.right="auto";for(c in d)isNaN(d[c])||(e[c]=d[c]+"px")},setY:function(a,c){b.setXY(a,[!1,c])}},center:function(a){return this.alignTo(a||x,"c-c")},clearPositioning:function(a){return a=a||"",this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:h})},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var a=this.getStyle(u),b=this.getStyle(v);return{beforeX:(parseFloat(b[s.l])||0)+(parseFloat(a[t.l])||0),afterX:(parseFloat(b[s.r])||0)+(parseFloat(a[t.r])||0),beforeY:(parseFloat(b[s.t])||0)+(parseFloat(a[t.t])||0),afterY:(parseFloat(b[s.b])||0)+(parseFloat(a[t.b])||0)}},getCenterXY:function(){return this.getAlignToXY(x,"c-c")},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle("left");return d&&"auto"!==d?a.pxRe.test(d)?d=parseFloat(d):(d=a.getX(),c&&(d-=b.getX(c))):d=0,d},getLocalXY:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle(["left","top"]),e=d.left,f=d.top;return e&&"auto"!==e?a.pxRe.test(e)?e=parseFloat(e):(e=a.getX(),c&&(e-=b.getX(c))):e=0,f&&"auto"!==f?a.pxRe.test(f)?f=parseFloat(f):(f=a.getY(),c&&(f-=b.getY(c))):f=0,[e,f]},getLocalY:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle("top");return d&&"auto"!==d?a.pxRe.test(d)?d=parseFloat(d):(d=a.getY(),c&&(d-=b.getY(c))):d=0,d},getPageBox:function(a){var b=this,c=b.dom,d=c.nodeName==k,e=d?Ext.Element.getViewWidth():c.offsetWidth,f=d?Ext.Element.getViewHeight():c.offsetHeight,g=b.getXY(),h=g[1],i=g[0]+e,j=g[1]+f,l=g[0];return a?new Ext.util.Region(h,i,j,l):{left:l,top:h,width:e,height:f,right:i,bottom:j}},getPositioning:function(a){var b=this.getStyle(["left","top","position","z-index"]),c=this.dom;return a&&("auto"===b.left&&(b.left=c.offsetLeft+"px"),"auto"===b.top&&(b.top=c.offsetTop+"px")),b},getRight:function(a){return(a?this.getLocalX():this.getX())+this.getWidth()},getTop:function(a){return a?this.getLocalY():this.getY()},getX:function(){return b.getX(this.dom)},getXY:function(){return b.getXY(this.dom)},getY:function(){return b.getY(this.dom)},moveTo:function(a,b,c){return this.setXY([a,b],c)},position:function(a,b,c,d){var e=this;!a&&e.isStyle(g,h)?e.setStyle(g,i):a&&e.setStyle(g,a),b&&e.setStyle(j,b),(c||d)&&e.setXY([c||!1,d||!1])},setBottom:function(a){return this.dom.style[f]=this.addUnits(a),this},setBounds:function(a,b,c,d,e){return this.setBox({x:a,y:b,width:c,height:d},e)},setLeft:function(a){return this.dom.style[c]=this.addUnits(a),this},setLeftTop:function(a,b){var c=this,d=c.dom.style;return d.left=c.addUnits(a),d.top=c.addUnits(b),c},setLocalX:function(a){var b=this.dom.style;b.right="auto",b.left=null===a?"auto":a+"px"},setLocalXY:function(a,b){var c=this.dom.style;c.right="auto",a&&a.length&&(b=a[1],a=a[0]),null===a?c.left="auto":void 0!==a&&(c.left=a+"px"),null===b?c.top="auto":void 0!==b&&(c.top=b+"px")},setLocalY:function(a){this.dom.style.top=null===a?"auto":a+"px"},setLocation:function(a,b,c){return this.setXY([a,b],c)},setPositioning:function(a){return this.setStyle(a)},setRight:function(a){return this.dom.style[d]=this.addUnits(a),this},setTop:function(a){return this.dom.style[e]=this.addUnits(a),this},setX:function(a,b){return this.setXY([a,this.getY()],b)},setXY:function(a,c){var d=this;return c&&d.anim?(Ext.isObject(c)||(c={}),d.animate(Ext.applyIf({to:{x:a[0],y:a[1]}},c))):b.setXY(d.dom,a),this},setY:function(a,b){return this.setXY([this.getX(),a],b)}}),b.getTrueXY=b.getXY}),Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var a,b,c=this,d=c.dom,e=document,f=e.body,g=e.documentElement;return d===e||d===f?(a=g.scrollLeft||(f?f.scrollLeft:0),b=g.scrollTop||(f?f.scrollTop:0)):(a=d.scrollLeft,b=d.scrollTop),{left:a,top:b}},getScrollLeft:function(){var a=this.dom,b=document;return a===b||a===b.body?this.getScroll().left:a.scrollLeft},getScrollTop:function(){var a=this.dom,b=document;return a===b||a===b.body?this.getScroll().top:a.scrollTop},setScrollLeft:function(a){return this.dom.scrollLeft=a,this},setScrollTop:function(a){return this.dom.scrollTop=a,this},scrollBy:function(a,b,c){var d=this,e=d.dom;return a.length?(c=b,b=a[1],a=a[0]):"number"!=typeof a&&(c=b,b=a.y,a=a.x),a&&d.scrollTo("left",d.constrainScrollLeft(e.scrollLeft+a),c),b&&d.scrollTo("top",d.constrainScrollTop(e.scrollTop+b),c),d},scrollTo:function(a,b,c){var d,e=/top/i.test(a),f=this,g=e?"scrollTop":"scrollLeft",h=f.dom;return c&&f.anim?(d={to:{}},d.to[g]=b,Ext.isObject(c)&&Ext.applyIf(d,c),f.animate(d)):(h[g]=b,h[g]=b),f},scrollIntoView:function(a,b,c,d){var e,f=this,g=f.dom,h=f.getOffsetsTo(a=Ext.getDom(a)||Ext.getBody().dom),i=h[0]+a.scrollLeft,j=h[1]+a.scrollTop,k=j+g.offsetHeight,l=i+g.offsetWidth,m=a.clientHeight,n=parseInt(a.scrollTop,10),o=parseInt(a.scrollLeft,10),p=n+m,q=o+a.clientWidth;return d&&(c?c=Ext.apply({listeners:{afteranimate:function(){f.scrollChildFly.attach(g).highlight()}}},c):f.scrollChildFly.attach(g).highlight()),g.offsetHeight>m||n>j?e=j:k>p&&(e=k-m),null!=e&&f.scrollChildFly.attach(a).scrollTo("top",e,c),b!==!1&&(e=null,g.offsetWidth>a.clientWidth||o>i?e=i:l>q&&(e=l-a.clientWidth),null!=e&&f.scrollChildFly.attach(a).scrollTo("left",e,c)),f},scrollChildIntoView:function(a,b){this.scrollChildFly.attach(Ext.getDom(a)).scrollIntoView(this,b)},scroll:function(a,b,c){if(!this.isScrollable())return!1;var d,e,f=this,g=f.dom,h="r"===a||"l"===a?"left":"top",i=!1;return"r"===a&&(b=-b),"left"===h?(d=g.scrollLeft,e=f.constrainScrollLeft(d+b)):(d=g.scrollTop,e=f.constrainScrollTop(d+b)),e!==d&&(this.scrollTo(h,e,c),i=!0),i},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly,this.prototype.scrolltoFly=new this.Fly}),Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){function a(a,b,c,d){return"none"==d[this.styleName]?"0px":d[this.name]}var b,c,d,e,f,g,h,i=this,j=document.defaultView,k=/table-row|table-.*-group/,l="_internal",m="hidden",n="height",o="width",p="isClipped",q="overflow",r="overflow-x",s="overflow-y",t="originalClip",u=/#document|body/i;if(j&&j.getComputedStyle||(i.prototype.getStyle=function(a,b){var c,d,e,f,g,h,j,k=this,l=k.dom,m="string"!=typeof a,n=k.styleHooks,o=a,p=o,q=1,r=b;if(m&&(e={},o=p[0],j=0,!(q=p.length)))return e;if(!l||l.documentElement)return e||"";d=l.style,b?h=d:(h=l.currentStyle,h||(r=!0,h=d));do{if(f=n[o],f||(n[o]=f={name:i.normalize(o)}),f.get)g=f.get(l,k,r,h);else if(c=f.name,f.canThrow)try{g=h[c]}catch(s){g=""}else g=h?h[c]:"";if(!m)return g;e[o]=g,o=p[++j]}while(q>j);return e}),i.override({getHeight:function(a,b){var c,d,e=this,f=e.isStyle("display","none");return f?0:(c=e.dom.offsetHeight,Ext.supports.Direct2DBug&&(d=e.adjustDirect2DDimension(n),b?c+=d:d>0&&.5>d&&c++),a&&(c-=e.getBorderWidth("tb")+e.getPadding("tb")),0>c?0:c)},getWidth:function(a,b){var c,d,e,f=this,g=f.dom,h=f.isStyle("display","none");return h?0:(b&&Ext.supports.BoundingClientRect?(c=g.getBoundingClientRect(),d=!f.vertical||Ext.isIE9||Ext.supports.RotatedBoundingClientRect?c.right-c.left:c.bottom-c.top):d=g.offsetWidth,Ext.supports.Direct2DBug&&!f.vertical&&(e=f.adjustDirect2DDimension(o),b?d+=e:e>0&&.5>e&&d++),a&&(d-=f.getBorderWidth("lr")+f.getPadding("lr")),0>d?0:d)},setWidth:function(a,b){var c=this;return a=c.adjustWidth(a),b&&c.anim?(Ext.isObject(b)||(b={}),c.animate(Ext.applyIf({to:{width:a}},b))):c.dom.style.width=c.addUnits(a),c},setHeight:function(a,b){var c=this;return a=c.adjustHeight(a),b&&c.anim?(Ext.isObject(b)||(b={}),c.animate(Ext.applyIf({to:{height:a}},b))):c.dom.style.height=c.addUnits(a),c},applyStyles:function(a){return Ext.DomHelper.applyStyles(this.dom,a),this},setSize:function(a,b,c){var d=this;return Ext.isObject(a)&&(c=b,b=a.height,a=a.width),a=d.adjustWidth(a),b=d.adjustHeight(b),c&&d.anim?(c===!0&&(c={}),d.animate(Ext.applyIf({to:{width:a,height:b}},c))):(d.dom.style.width=d.addUnits(a),d.dom.style.height=d.addUnits(b)),d},getViewSize:function(){var a,b=this,c=b.dom,d=u.test(c.nodeName);return a=d?{width:i.getViewWidth(),height:i.getViewHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=this,c="number"==typeof a;return c&&b.autoBoxAdjust&&!b.isBorderBox()&&(a-=b.getBorderWidth("lr")+b.getPadding("lr")),c&&0>a?0:a},adjustHeight:function(a){var b=this,c="number"==typeof a;return c&&b.autoBoxAdjust&&!b.isBorderBox()&&(a-=b.getBorderWidth("tb")+b.getPadding("tb")),c&&0>a?0:a},getColor:function(a,b,c){var d,e,f=this.getStyle(a),g=c||""===c?c:"#",h=0;if(!f||/transparent|inherit/.test(f))return b;if(/^r/.test(f))for(f=f.slice(4,f.length-1).split(","),e=f.length;e>h;h++)d=parseInt(f[h],10),g+=(16>d?"0":"")+d.toString(16);else f=f.replace("#",""),g+=3==f.length?f.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):f;return g.length>5?g.toLowerCase():b},setOpacity:function(a,b){var c=this;return c.dom?(b&&c.anim?("object"!=typeof b&&(b={duration:350,easing:"ease-in"}),c.animate(Ext.applyIf({to:{opacity:a}},b))):c.setStyle("opacity",a),c):c},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(a){var b,c=this,d=c.dom,e=c.getStyle("display"),f=d.style.display,g=d.style.position,h=a===o?0:1,i=d.currentStyle;return"inline"===e&&(d.style.display="inline-block"),d.style.position=e.match(k)?"absolute":"static",b=(parseFloat(i[a])||2*parseFloat(i.msTransformOrigin.split(" ")[h]))%1,d.style.position=g,"inline"===e&&(d.style.display=f),b},clip:function(){var a,b=this,c=(b.$cache||b.getCache()).data;return c[p]||(c[p]=!0,a=b.getStyle([q,r,s]),c[t]={o:a[q],x:a[r],y:a[s]},b.setStyle(q,m),b.setStyle(r,m),b.setStyle(s,m)),b},unclip:function(){var a,b=this,c=(b.$cache||b.getCache()).data;return c[p]&&(c[p]=!1,a=c[t],a.o&&b.setStyle(q,a.o),a.x&&b.setStyle(r,a.x),a.y&&b.setStyle(s,a.y)),b},boxWrap:function(a){a=a||Ext.baseCSSPrefix+"box";var b=Ext.get(this.insertHtml("beforeBegin","<div class='"+a+"'>"+Ext.String.format(i.boxMarkup,a)+"</div>"));return Ext.DomQuery.selectNode("."+a+"-mc",b.dom).appendChild(this.dom),b},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);return b||(b=parseFloat(a.getStyle(n))||0,a.isBorderBox()||(b+=a.getFrameWidth("tb"))),b},getComputedWidth:function(){var a=this,b=Math.max(a.dom.offsetWidth,a.dom.clientWidth);return b||(b=parseFloat(a.getStyle(o))||0,a.isBorderBox()||(b+=a.getFrameWidth("lr"))),b},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);return d.hover(function(){f&&b.call(c||d,d)===!1||Ext.fly(e,l).addCls(a)},function(){Ext.fly(e,l).removeCls(a)}),d},addClsOnFocus:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);return d.on("focus",function(){return f&&b.call(c||d,d)===!1?!1:void Ext.fly(e,l).addCls(a)}),d.on("blur",function(){Ext.fly(e,l).removeCls(a)}),d},addClsOnClick:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);return d.on("mousedown",function(){if(f&&b.call(c||d,d)===!1)return!1;Ext.fly(e,l).addCls(a);var g=Ext.getDoc(),h=function(){Ext.fly(e,l).removeCls(a),g.removeListener("mouseup",h)};g.on("mouseup",h)}),d},getStyleSize:function(){var a,b,c,d=this,e=this.dom,f=u.test(e.nodeName);return f?{width:i.getViewWidth(),height:i.getViewHeight()}:(a=d.getStyle([n,o],!0),a.width&&"auto"!=a.width&&(b=parseFloat(a.width),d.isBorderBox()&&(b-=d.getFrameWidth("lr"))),a.height&&"auto"!=a.height&&(c=parseFloat(a.height),d.isBorderBox()&&(c-=d.getFrameWidth("tb"))),{width:b||d.getWidth(!0),height:c||d.getHeight(!0)})},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var a=this;return a.dom.unselectable="",a.removeCls(i.unselectableCls),a.addCls(i.selectableCls),a},unselectable:function(){var a=this;return Ext.isOpera&&(a.dom.unselectable="on"),a.removeCls(i.selectableCls),a.addCls(i.unselectableCls),a},setVertical:function(a,b){var c=this,d=i.prototype;c.vertical=!0,b&&c.addCls(c.verticalCls=b),c.setWidth=d.setHeight,c.setHeight=d.setWidth,Ext.isIE9m||(c.getWidth=d.getHeight,c.getHeight=d.getWidth),c.styleHooks=270===a?i.prototype.verticalStyleHooks270:i.prototype.verticalStyleHooks90},setHorizontal:function(){var a=this,b=a.verticalCls;delete a.vertical,b&&(delete a.verticalCls,a.removeCls(b)),delete a.setWidth,delete a.setHeight,Ext.isIE9m||(delete a.getWidth,delete a.getHeight),delete a.styleHooks}}),i.prototype.styleHooks=b=Ext.dom.AbstractElement.prototype.styleHooks,i.prototype.verticalStyleHooks90=c=Ext.Object.chain(i.prototype.styleHooks),i.prototype.verticalStyleHooks270=d=Ext.Object.chain(i.prototype.styleHooks),c.width={name:"height"},c.height={name:"width"},c["margin-top"]={name:"marginLeft"},c["margin-right"]={name:"marginTop"},c["margin-bottom"]={name:"marginRight"},c["margin-left"]={name:"marginBottom"},c["padding-top"]={name:"paddingLeft"},c["padding-right"]={name:"paddingTop"},c["padding-bottom"]={name:"paddingRight"},c["padding-left"]={name:"paddingBottom"},c["border-top"]={name:"borderLeft"},c["border-right"]={name:"borderTop"},c["border-bottom"]={name:"borderRight"},c["border-left"]={name:"borderBottom"},d.width={name:"height"},d.height={name:"width"},d["margin-top"]={name:"marginRight"},d["margin-right"]={name:"marginBottom"},d["margin-bottom"]={name:"marginLeft"},d["margin-left"]={name:"marginTop"},d["padding-top"]={name:"paddingRight"},d["padding-right"]={name:"paddingBottom"},d["padding-bottom"]={name:"paddingLeft"},d["padding-left"]={name:"paddingTop"},d["border-top"]={name:"borderRight"},d["border-right"]={name:"borderBottom"},d["border-bottom"]={name:"borderLeft"},d["border-left"]={name:"borderTop"},Ext.isIE7m&&(b.fontSize=b["font-size"]={name:"fontSize",canThrow:!0},b.fontStyle=b["font-style"]={name:"fontStyle",canThrow:!0},b.fontFamily=b["font-family"]={name:"fontFamily",canThrow:!0}),Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8)for(e=["Top","Right","Bottom","Left"],f=e.length;f--;)g=e[f],h="border"+g+"Width",b["border-"+g.toLowerCase()+"-width"]=b[h]={name:h,styleName:"border"+g+"Style",get:a};Ext.getDoc().on("selectstart",function(a,b){var c=document.documentElement,d=i.selectableCls,e=i.unselectableCls,f=b&&b.tagName;if(f=f&&f.toLowerCase(),"input"!==f&&"textarea"!==f)for(;b&&1===b.nodeType&&b!==c;){var g=Ext.fly(b);if(g.hasCls(d))return;if(g.hasCls(e))return void a.stopEvent();b=b.parentNode}})}),Ext.onReady(function(){var a=/alpha\(opacity=(.*)\)/i,b=/^\s+|\s+$/g,c=Ext.dom.Element.prototype.styleHooks;c.opacity={name:"opacity",afterSet:function(a,b,c){c.isLayer&&c.onOpacitySet(b)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(c.opacity,{get:function(b){var c,d,e=b.style.filter;return e.match&&(c=e.match(a),c&&(d=parseFloat(c[1]),!isNaN(d)))?d?d/100:0:1},set:function(c,d){var e=c.style,f=e.filter.replace(a,"").replace(b,"");e.zoom=1,"number"==typeof d&&d>=0&&1>d?(d*=100,e.filter=f+(f.length?" ":"")+"alpha(opacity="+d+")"):e.filter=f}})}),Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);return c&&(a[0]+=c[0],a[1]+=c[1]),a},alignTo:function(a,b,c,d){var e=this,f=e.el;return e.setXY(e.getAlignToXY(a,b,c),f.anim&&d?f.anim(d):!1)},anchorTo:function(a,b,c,d,e,f){var g=this,h=!Ext.isEmpty(e),i=function(){g.alignTo(a,b,c,d),Ext.callback(f,g)},j=g.getAnchor();return g.removeAnchor(),Ext.apply(j,{fn:i,scroll:h}),Ext.EventManager.onWindowResize(i,null),h&&Ext.EventManager.on(window,"scroll",i,null,{buffer:isNaN(e)?50:e}),i(),g},calculateAnchorXY:function(a,b,c,d){var e,f,g,h=this,i=h.el,j=document,k=i.dom==j.body||i.dom==j,l=Math.round;switch(a=(a||"tl").toLowerCase(),d=d||{},f=d.width||k?Ext.Element.getViewWidth():h.getWidth(),g=d.height||k?Ext.Element.getViewHeight():h.getHeight(),a){case"tl":e=[0,0];break;case"bl":e=[0,g];break;case"tr":e=[f,0];break;case"c":e=[l(.5*f),l(.5*g)];break;case"t":e=[l(.5*f),0];break;case"l":e=[0,l(.5*g)];break;case"r":e=[f,l(.5*g)];break;case"b":e=[l(.5*f),g];break;case"tc":e=[l(.5*f),0];break;case"bc":e=[l(.5*f),g];break;case"br":e=[f,g]}return[e[0]+b,e[1]+c]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this,v=Ext.Element.getViewWidth()-10,w=Ext.Element.getViewHeight()-10,x=document,y=x.documentElement,z=x.body,A=y.scrollLeft||z.scrollLeft||0,B=y.scrollTop||z.scrollTop||0;return a=Ext.get(a.el||a),!a||!a.dom,c=c||[0,0],b=(b&&"?"!=b?/-/.test(b)||""===b?b||"tl-bl":"tl-"+b:"tl-bl?").toLowerCase(),b=u.convertPositionSpec(b),d=b.match(u._alignRe),m=d[1],n=d[2],l=!!d[3],e=u.getAnchorXY(m,!0),f=u.getAnchorToXY(a,n,!1),s=f[0]-e[0]+c[0],t=f[1]-e[1]+c[1],l&&(g=u.getWidth(),h=u.getHeight(),i=a.getRegion(),o=m.charAt(0),p=m.charAt(m.length-1),q=n.charAt(0),r=n.charAt(n.length-1),j="t"==o&&"b"==q||"b"==o&&"t"==q,k="r"==p&&"l"==r||"l"==p&&"r"==r,s+g>v+A&&(s=k?i.left-g:v+A-g),A>s&&(s=k?i.right:A),t+h>w+B&&(t=j?i.top-h:w+B-h),B>t&&(t=j?i.bottom:B)),[s,t]},getAnchor:function(){var a,b=this.el,c=(b.$cache||b.getCache()).data;if(b.dom)return a=c._anchor,a||(a=c._anchor={}),a},getAnchorXY:function(a,b,c){var d=this,e=d.getXY(),f=d.el,g=document,h=f.dom==g.body||f.dom==g,i=f.getScroll(),j=h?i.left:b?0:e[0],k=h?i.top:b?0:e[1];return d.calculateAnchorXY(a,j,k,c)},getBox:function(a,b){var c,d,e,f=this,g=b?f.getLocalXY():f.getXY(),h=g[0],i=g[1],j=f.getWidth(),k=f.getHeight();return a&&(c=f.getBorderPadding(),d=c.beforeX,e=c.beforeY,h+=d,i+=e,j-=d+c.afterX,k-=e+c.afterY),{x:h,left:h,0:h,y:i,top:i,1:i,width:j,height:k,right:h+j,bottom:i+k}},calculateConstrainedPosition:function(a,b,c,d){var e,f,g,h,i=this,j=i.floatParent,k=j?j.getTargetEl():null,l=!1;return c&&j?(f=k.getXY(),g=k.getBorderPadding(),f[0]+=g.beforeX,f[1]+=g.beforeY,b&&(h=[b[0]+f[0],b[1]+f[1]])):h=b,a=a||i.constrainTo||k||i.container||i.el.parent(),e=(i.constrainHeader?i.header:i).getConstrainVector(a,h,d),e&&(l=b||i.getPosition(c),l[0]+=e[0],l[1]+=e[1]),l},getConstrainVector:function(a,b,c){var d=this.getRegion(),e=[0,0],f=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,g=!1,h=this.constraintInsets;return a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getViewRegion()),h&&(h=Ext.isObject(h)?h:Ext.Element.parseBox(h),a.adjust(h.top,h.right,h.bottom,h.length)),b&&d.translateBy(b[0]-d.x,b[1]-d.y),c&&(d.right=d.left+c[0],d.bottom=d.top+c[1]),f&&a.adjust(f[0],-f[1],-f[2],f[3]),d.right>a.right&&(g=!0,e[0]=a.right-d.right),d.left+e[0]<a.left&&(g=!0,e[0]=a.left-d.left),d.bottom>a.bottom&&(g=!0,e[1]=a.bottom-d.bottom),d.top+e[1]<a.top&&(g=!0,e[1]=a.top-d.top),g?e:!1},getOffsetsTo:function(a){var b=this.getXY(),c=Ext.fly(a.el||a,"_internal").getXY();return[b[0]-c[0],b[1]-c[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a,b,c,d,e,f,g,h=this,i=h.el,j="BODY"===i.dom.nodeName;return j?(b=i.getScroll(),e=b.left,d=b.top,f=Ext.dom.AbstractElement.getViewportWidth(),g=Ext.dom.AbstractElement.getViewportHeight()):(a=h.getBorderPadding(),c=h.getXY(),e=c[0]+a.beforeX,d=c[1]+a.beforeY,f=h.getWidth(!0),g=h.getHeight(!0)),new Ext.util.Region(d,e+f,d+g,e)},move:function(a,b,c){var d=this,e=d.getXY(),f=e[0],g=e[1],h=[f-b,g],i=[f+b,g],j=[f,g-b],k=[f,g+b],l={l:h,left:h,r:i,right:i,t:j,top:j,up:j,b:k,bottom:k,down:k};
a=a.toLowerCase(),d.setXY([l[a][0],l[a][1]],c)},removeAnchor:function(){var a=this.getAnchor();return a&&a.fn&&(Ext.EventManager.removeResizeListener(a.fn),a.scroll&&Ext.EventManager.un(window,"scroll",a.fn),delete a.fn),this},setBox:function(a,b){var c=this,d=c.el,e=a.x,f=a.y,g=a.width,h=a.height,i=c.constrain||c.constrainHeader,j=i&&c.calculateConstrainedPosition(null,[e,f],!1,[g,h]);return j&&(e=j[0],f=j[1]),b&&d.anim?c.animate(Ext.applyIf({to:{x:e,y:f,width:d.adjustWidth(g),height:d.adjustHeight(h)},listeners:{afteranimate:Ext.Function.bind(c.afterSetPosition,c,[e,f])}},b)):(c.setSize(g,h),c.setXY([e,f]),c.afterSetPosition(e,f)),c},setRegion:function(a,b){return this.setBox({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top},b)},translatePoints:function(a,b){var c=this.translateXY(a,b);return{left:c.x,top:c.y}},translateXY:function(a,b){var c=this,d=c.el,e=d.getStyle(c._positionTopLeft),f="relative"==e.position,g=parseFloat(e.left),h=parseFloat(e.top),i=c.getXY();return Ext.isArray(a)&&(b=a[1],a=a[0]),isNaN(g)&&(g=f?0:d.dom.offsetLeft),isNaN(h)&&(h=f?0:d.dom.offsetTop),g="number"==typeof a?a-i[0]+g:void 0,h="number"==typeof b?b-i[1]+h:void 0,{x:g,y:h}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0),Ext.cmd.derive("Ext.dom.Element",Ext.dom.AbstractElement,function(a){var b,c="hidden",d=document,e="visibility",f="display",g="none",h=Ext.baseCSSPrefix+"masked",i=Ext.baseCSSPrefix+"masked-relative",j=Ext.baseCSSPrefix+"mask-msg",k=/^body/i,l=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},m=function(a){var b,c,d=[],e=-1;for(b=0;c=a[b];b++)(c.scrollTop>0||c.scrollLeft>0)&&(d[++e]=c);return d};return{alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,addUnits:function(){return a.addUnits.apply(a,arguments)},focus:function(a,b){var c=this;b=b||c.dom;try{Number(a)?Ext.defer(c.focus,a,c,[null,b]):b.focus()}catch(d){}return c},blur:function(){var a=this,b=a.dom;if(b!==document.body){try{b.blur()}catch(c){}return a}return a.focus(void 0,b)},isBorderBox:function(){var a=Ext.isBorderBox;return a&&Ext.isIE7m&&(a=!((this.dom.tagName||"").toLowerCase()in l)),a},hover:function(a,b,c,d){var e=this;return e.on("mouseenter",a,c||e.dom,d),e.on("mouseleave",b,c||e.dom,d),e},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:!Ext.isIE||Ext.isIE9p&&d.documentMode>=9?function(a,b){var c=this.dom;return b?c.getAttributeNS(b,a)||c.getAttribute(b+":"+a):c.getAttribute(a)||c[a]||null}:function(a,b){var c,d=this.dom;return b?(c=typeof d[b+":"+a],"undefined"!=c&&"unknown"!=c?d[b+":"+a]||null:null):("for"===a&&(a="htmlFor"),d[a]||null)},cacheScrollValues:function(){var a,b,c,d=this,e=[],f=function(){for(c=0;c<a.length;c++)b=a[c],b.scrollLeft=e[c][0],b.scrollTop=e[c][1]};for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=m),a=d.query(":isScrolled"),c=0;c<a.length;c++)b=a[c],e[c]=[b.scrollLeft,b.scrollTop];return f},autoBoxAdjust:!0,isVisible:function(d){var h=this,i=h.dom,j=i.ownerDocument.documentElement;for(b||(b=new a.Fly);i!==j;){if(!i||11===i.nodeType||b.attach(i).isStyle(e,c)||b.isStyle(f,g))return!1;if(!d)break;i=i.parentNode}return!0},isDisplayed:function(){return!this.isStyle(f,g)},enableDisplayMode:function(b){var c=this;return c.setVisibilityMode(a.DISPLAY),Ext.isEmpty(b)||((c.$cache||c.getCache()).data.originalDisplay=b),c},mask:function(a,b,c){var e,f,g=this,l=g.dom,m=l.style.setExpression,n=(g.$cache||g.getCache()).data,o=n.maskShimEl,p=n.maskEl,q=n.maskMsg;if(k.test(l.tagName)&&"static"==g.getStyle("position")||g.addCls(i),p&&p.remove(),q&&q.remove(),o&&o.remove(),Ext.isIE6&&(o=Ext.DomHelper.append(l,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},!0),n.maskShimEl=o,o.setDisplayed(!0)),Ext.DomHelper.append(l,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:b?j+" "+b:j,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:a||""}}}]),q=Ext.get(l.lastChild),p=Ext.get(q.dom.previousSibling),n.maskMsg=q,n.maskEl=p,g.addCls(h),p.setDisplayed(!0),"string"==typeof a?(q.setDisplayed(!0),q.center(g)):q.setDisplayed(!1),!Ext.supports.IncludePaddingInWidthCalculation&&m)try{p.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"'),e='this.parentNode.clientWidth + "px"',o&&o.dom.style.setExpression("width",e),p.dom.style.setExpression("width",e)}catch(r){}if(!Ext.supports.IncludePaddingInHeightCalculation&&m)try{f="this.parentNode."+(l==d.body?"scrollHeight":"offsetHeight")+' + "px"',o&&o.dom.style.setExpression("height",f),p.dom.style.setExpression("height",f)}catch(r){}else!Ext.isIE9m||Ext.isIE7&&Ext.isStrict||"auto"!=g.getStyle("height")||(o&&o.setSize(void 0,c||g.getHeight()),p.setSize(void 0,c||g.getHeight()));return p},unmask:function(){var a,b=this,c=(b.$cache||b.getCache()).data,d=c.maskEl,e=c.maskShimEl,f=c.maskMsg;d&&(a=d.dom.style,a.clearExpression&&(a.clearExpression("width"),a.clearExpression("height")),d&&(d.remove(),delete c.maskEl),f&&(f.remove(),delete c.maskMsg),b.removeCls([h,i]),e&&(a=e.dom.style,a.clearExpression&&(a.clearExpression("width"),a.clearExpression("height")),e.remove(),delete c.maskShimEl))},isMasked:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.maskEl,d=b.maskMsg,e=!1;return c&&c.isVisible()&&(d&&d.center(a),e=!0),e},createShim:function(){var a,b=d.createElement("iframe");return b.frameBorder="0",b.className=Ext.baseCSSPrefix+"shim",b.src=Ext.SSL_SECURE_URL,a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom)),a.autoBoxAdjust=!1,a},addKeyListener:function(a,b,c){var d;return d="object"!=typeof a||Ext.isArray(a)?{target:this,key:a,fn:b,scope:c}:{target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c},new Ext.util.KeyMap(d)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},on:function(a,b,c,d){return Ext.EventManager.on(this,a,b,c||this,d),this},un:function(a,b,c){return Ext.EventManager.un(this,a,b,c||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this},select:function(b){return a.select(b,!1,this.dom)}}},0,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable]],[Ext.dom,"Element",Ext,"Element",Ext.core,"Element"],function(){function a(){if(Ext.enableGarbageCollector){var a,b,c,f;for(a in d)d.hasOwnProperty(a)&&(c=d[a],c.skipGarbageCollection||(b=c.dom,!b||b.parentNode&&(b.offsetParent||Ext.getElementById(a))||(Ext.enableListenerCollection&&Ext.EventManager.removeAll(b),delete d[a])));if(Ext.isIE){f={};for(a in d)d.hasOwnProperty(a)&&(f[a]=d[a]);d=Ext.cache=f}}else clearInterval(e.collectorThreadId)}var b,c=document,d=Ext.cache,e=this,f=Ext.dom.AbstractElement,g=/^a|button|embed|iframe|input|object|select|textarea$/i,h=/\S/,i=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,j=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,k=/\ssrc=([\'\"])(.*?)\1/i,l=/\stype=([\'\"])(.*?)\1/i,m=!Ext.isIE8m;e.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',e.collectorThreadId=setInterval(a,3e4),e.addMethods({monitorMouseLeave:function(a,b,c){var d,e=this,f={mouseleave:function(f){d=setTimeout(Ext.Function.bind(b,c||e,[f]),a)},mouseenter:function(){clearTimeout(d)},freezeEvent:!0};return e.on(f),f},swallowEvent:function(a,b){var c,d,e=this,f=function(a){a.stopPropagation(),b&&a.preventDefault()};if(Ext.isArray(a)){for(d=a.length,c=0;d>c;c++)e.on(a[c],f);return e}return e.on(a,f),e},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var c,d=this,e=d.dom,f=(d.$cache||d.getCache()).data,g=e.firstChild,i=-1;if(f.isCleaned&&a!==!0)return d;for(;g;)c=g.nextSibling,3==g.nodeType?h.test(g.nodeValue)?c&&3==c.nodeType&&(g.appendData(Ext.String.trim(c.data)),e.removeChild(c),c=g.nextSibling,g.nodeIndex=++i):e.removeChild(g):(b.attach(g).clean(),g.nodeIndex=++i),g=c;return f.isCleaned=!0,d},load:function(a){return this.getLoader().load(a),this},getLoader:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.loader;return c||(b.loader=c=new Ext.ElementLoader({target:a})),c},syncContent:function(a){a=Ext.getDom(a);var c,d,e,f,g,h,i,j=a.childNodes,k=j.length,l=this.dom,m=l.childNodes,n=m.length;if(Ext.isIE9m&&l.mergeAttributes)l.mergeAttributes(a,!0),l.src=a.src;else for(g=a.attributes,h=g.length,c=0;h>c;c++)i=g[c].name,"id"!==i&&l.setAttribute(i,g[c].value);if(k!==n)return void(l.innerHTML=a.innerHTML);for(c=0;k>c;c++){if(e=j[c],d=m[c],f=e.nodeType,f!==d.nodeType||1===f&&e.tagName!==d.tagName)return void(l.innerHTML=a.innerHTML);3===f?d.data=e.data:(e.id&&d.id!==e.id&&(d.id=e.id),d.style.cssText=e.style.cssText,d.className=e.className,b.attach(d).syncContent(e))}},update:function(a,b,d){var e,f,g,h=this;return h.dom?(a=a||"",f=h.dom,b!==!0?(f.innerHTML=a,Ext.callback(d,h),h):(e=Ext.id(),a+='<span id="'+e+'"></span>',g=setInterval(function(){var b,f,j,m,n,o,p;if(!(o=c.getElementById(e)))return!1;for(clearInterval(g),Ext.removeNode(o),b=Ext.getHead().dom;f=i.exec(a);)j=f[1],m=j?j.match(k):!1,m&&m[2]?(p=c.createElement("script"),p.src=m[2],n=j.match(l),n&&n[2]&&(p.type=n[2]),b.appendChild(p)):f[2]&&f[2].length>0&&(window.execScript?window.execScript(f[2]):window.eval(f[2]));Ext.callback(d,h)},20),f.innerHTML=a.replace(j,""),h)):h},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(a,b,c){a="object"==typeof a?a:{tag:"div",cls:a};var d=this,f=b?Ext.DomHelper.append(b,a,!0):Ext.DomHelper.insertBefore(d.dom,a,!0);return f.setVisibilityMode(e.DISPLAY),f.hide(),c&&d.setBox&&d.getBox&&f.setBox(d.getBox()),f},needsTabIndex:function(){return this.dom?"a"!==this.dom.nodeName||this.dom.href?!g.test(this.dom.nodeName):!0:void 0},isFocusable:function(a){var b,c=this.dom,d=c.getAttributeNode("tabIndex"),e=c.nodeName,f=!1;return d&&d.specified&&(b=d.value),c&&!c.disabled&&(-1==b?f=Ext.FocusManager&&Ext.FocusManager.enabled&&a:g.test(e)?("a"!==e||c.href)&&(f=!0):f=null!=b&&b>=0,f=f&&this.isVisible(!0)),f}}),Ext.isIE&&(e.prototype.getById=function(a,b){var f,g,h,i=this.dom;return i&&(g=m&&c.getElementById(a)||i.all[a])?(b?h=g:(f=d[a],h=f&&f.el?Ext.updateCacheEntry(f,g).el:new e(g)),h):b?Ext.getDom(a):e.get(a)}),e.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"}),e.Fly=f.Fly=new Ext.Class({extend:e,isFly:!0,constructor:function(a){this.dom=a,this.el=this},attach:f.Fly.prototype.attach}),b=new e.Fly,Ext.isIE?Ext.getElementById=function(a){var b,d=c.getElementById(a);return!d&&(b=f.detachedBodyEl)&&(d=b.dom.all[a]),d}:c.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(a){return c.getElementById(a)})}),Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var a,b=Ext.dom.Element.prototype,c=this.prototype;for(a in b)"function"==typeof b[a]&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)}},constructor:function(a,b){this.elements=[],this.add(a,b),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c,d,e=this.elements;if(!a)return this;for("string"==typeof a?a=Ext.dom.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]),c=0,d=a.length;d>c;++c)e.push(this.transformElement(a[c]));return this},invoke:function(a,b){var c,d,e=this.elements,f=e.length;for(a=Ext.dom.Element.prototype[a],d=0;f>d;d++)c=e[d],c&&a.apply(this.getElement(c),b);return this},item:function(a){var b=this.elements[a],c=null;return b&&(c=this.getElement(b)),c},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(a,b,c,d){var e,f,g=this.elements,h=g.length;for(e=0;h>e;e++)f=g[e],f&&Ext.EventManager.on(f,a,b,c||f,d);return this},each:function(a,b){var c,d,e=this,f=e.elements,g=f.length;for(c=0;g>c&&(d=f[c],!d||(d=this.getElement(d),a.call(b||d,d,e,c)!==!1));c++);return e},fill:function(a){var b=this;return b.elements=[],b.add(a),b},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(a){for(var b,c,d=this,e=d.elements,f=e.length,g=[],h=0,i="function"==typeof a;f>h;h++)c=e[h],b=!1,c&&(c=d.getElement(c),b=i?a.call(c,c,d,h)!==!1:c.is(a),b&&g.push(d.transformElement(c)));return d.elements=g,d},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){var d,e=isNaN(a)?this.indexOf(a):a;return e>-1&&(b=Ext.getDom(b),c&&(d=this.elements[e],d.parentNode.insertBefore(b,d),Ext.removeNode(d)),Ext.Array.splice(this.elements,e,1,b)),this},clear:function(a){var b=this,c=b.elements,d=c.length-1;if(a)for(;d>=0;d--)Ext.removeNode(c[d]);this.elements=[]},addElements:function(a,b){if(!a)return this;"string"==typeof a&&(a=Ext.dom.Element.selectorFunction(a,b));var c,d=this.elements,e=a.length;for(c=0;e>c;c++)d.push(Ext.get(a[c]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(a,b){a=[].concat(a);var c,d,e,f=this,g=f.elements,h=a.length;for(e=0;h>e;e++)c=a[e],(d=g[c]||g[c=f.indexOf(c)])&&(b&&(d.dom?d.remove():Ext.removeNode(d)),Ext.Array.erase(g,c,1));return f}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(a,b){var c;return"string"==typeof a?c=Ext.dom.Element.selectorFunction(a,b):void 0!==a.length&&(c=a),new Ext.CompositeElementLite(c)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],function(){Ext.dom.Element.select=function(a,b,c){var d;return"string"==typeof a?d=Ext.dom.Element.selectorFunction(a,c):void 0!==a.length&&(d=a),b===!0?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)}}),Ext.select=Ext.Element.select,Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,constructor:function(a){a=a||{};var b=this,c=a.keyFn;b.initialConfig=a,b.addEvents("add","clear","remove","replace"),b.mixins.observable.constructor.call(b,a),b.clear(!0),c&&(b.getKey=c)},getCount:function(){return this.length},getData:function(a,b){return void 0===b&&(b=a,a=this.getKey(b)),[a,b]},getKey:function(a){return a.id},add:function(a,b){var c=this;return 1===arguments.length&&(b=a,a=c.getKey(b)),c.containsKey(a)?c.replace(a,b):(c.map[a]=b,++c.length,c.generation++,c.hasListeners.add&&c.fireEvent("add",c,a,b),b)},replace:function(a,b){var c,d=this,e=d.map;return 1===arguments.length&&(b=a,a=d.getKey(b)),d.containsKey(a)||d.add(a,b),c=e[a],e[a]=b,d.generation++,d.hasListeners.replace&&d.fireEvent("replace",d,a,b,c),b},remove:function(a){var b=this.findKey(a);return void 0!==b?this.removeAtKey(b):!1},removeAtKey:function(a){var b,c=this;return c.containsKey(a)?(b=c.map[a],delete c.map[a],--c.length,c.generation++,c.hasListeners.remove&&c.fireEvent("remove",c,a,b),!0):!1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:void 0},clear:function(a){var b=this;return(a||b.generation)&&(b.map={},b.length=0,b.generation=a?0:b.generation+1),a!==!0&&b.hasListeners.clear&&b.fireEvent("clear",b),b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&void 0!==b[a]},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(a){var b,c=[],d=this.map;for(b in d)d.hasOwnProperty(b)&&c.push(a?b:d[b]);return c},each:function(a,b){var c,d=Ext.apply({},this.map),e=this.length;b=b||this;for(c in d)if(d.hasOwnProperty(c)&&a.call(b,c,d[c],e)===!1)break;return this},clone:function(){var a,b=new this.self(this.initialConfig),c=this.map;b.suspendEvents();for(a in c)c.hasOwnProperty(a)&&b.add(a,c[a]);return b.resumeEvents(),b},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b;return void 0}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"HashMap"],0),Ext.cmd.derive("Ext.AbstractManager",Ext.Base,{typeName:"type",constructor:function(a){Ext.apply(this,a||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a},isRegistered:function(a){return void 0!==this.types[a]},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];return new d(a)},onAvailable:function(a,b,c){var d,e,f=this.all;f.containsKey(a)?(d=f.get(a),b.call(c||d,d)):(e=function(d,g,h){g==a&&(b.call(c||h,h),f.un("add",e))},f.on("add",e))},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}},1,0,0,0,0,0,[Ext,"AbstractManager"],0),Ext.cmd.derive("Ext.ComponentManager",Ext.AbstractManager,{alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(a,b){return"string"==typeof a?Ext.widget(a):a.isComponent?a:Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a,b.prototype[this.typeName]=a}},0,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}}),Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var a=this,b=Ext.dom.Query.operators,c=/(\d*)n\+?(\d*)/,d=/\D/,e=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),f=function(a,b){return b.method.apply(this,[a].concat(b.args))},g=function(a,b){for(var c,d=[],e=0,f=a.length,g=">"!==b;f>e;e++)c=a[e],c.getRefItems&&(d=d.concat(c.getRefItems(g)));return d},h=function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)for(b=a[d];b=b.getRefOwner();)c.push(b);return c},i=function(a,b,c){if("*"===b)return a.slice();for(var d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.isXType(b,c)&&e.push(d);return e},j=function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],c.hasCls(b)&&d.push(c);return d},k=function(a,c,d,e){var f,g,h,i,j,k,l=[],m=0,n=a.length;for("@"===c.charAt(0)&&(f=!0,c=c.substr(1)),"?"===c.charAt(0)&&(f=!0,g=!0,c=c.substr(1));n>m;m++)if(h=a[m],!f||h.hasOwnProperty(c))if(i=h[c],g)l.push(h);else if("~="===d){if(i)for(Ext.isArray(i)||(i=i.split(" ")),j=0,k=i.length;k>j;j++)if(b[d](Ext.coerce(i[j],e),e)){l.push(h);break}}else(e?b[d](Ext.coerce(i,e),e):!!h[c])&&l.push(h);return l},l=function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],c.getItemId()===b&&d.push(c);return d},m=function(b,c,d){return a.pseudos[c](b,d)},n=/^(\s?([>\^])\s?|\s|$)/,o=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,p=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:i},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:k},{re:/^#([\w\-]+)/,method:l},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:m},{re:/^(?:\{([^\}]+)\})/,method:e}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{},Ext.apply(this,a)},execute:function(a){var b,c,d=this.operations,e=0,i=d.length;for(a?Ext.isIterable(a)?c=a:a.isMixedCollection&&(c=a.items):c=Ext.ComponentManager.all.getArray();i>e;e++)if(b=d[e],c="^"===b.mode?h(c||[a]):b.mode?g(c||[a],b.mode):f(c||g([a]),b),e===i-1)return c;return[]},is:function(a){var b,c,d=this.operations,e=Ext.isArray(a)?a:[a],g=e.length,h=d[d.length-1];if(e=f(e,h),e.length===g){if(d.length>1)for(c=0,b=e.length;b>c;c++)if(-1===Ext.Array.indexOf(this.execute(),e[c]))return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(a,b){for(var c,d=Ext.ComponentQuery,e=0,f=a.length,g=[],h=-1;f>e;++e)c=a[e],d.is(c,b)||(g[++h]=c);return g},first:function(a){var b=[];return a.length>0&&b.push(a[0]),b},last:function(a){var b=a.length,c=[];return b>0&&c.push(a[b-1]),c},focusable:function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a[e],b.isFocusable()&&d.push(b);return d},"nth-child":function(a,b){var e,f,g,h=[],i=c.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!d.test(b)&&"n+"+b||b),j=(i[1]||1)-0,k=i[2]-0;for(e=0;f=a[e];e++)g=e+1,1==j?(0==k||g==k)&&h.push(f):(g+k)%j==0&&h.push(f);return h}},query:function(a,b){for(var c,d,e,f=a.split(","),g=f.length,h=0,i=[],j=[],k={};g>h;h++)a=Ext.String.trim(f[h]),c=this.cache[a]||(this.cache[a]=this.parse(a)),i=i.concat(c.execute(b));if(g>1){for(d=i.length,h=0;d>h;h++)e=i[h],k[e.id]||(j.push(e),k[e.id]=!0);i=j}return i},is:function(a,b){if(!b)return!0;for(var c,d=b.split(","),e=d.length,f=0;e>f;f++)if(b=Ext.String.trim(d[f]),c=this.cache[b]||(this.cache[b]=this.parse(b)),c.is(a))return!0;return!1},parse:function(b){for(var c,d,e,f,g,h,k,m,q=[],r=p.length;b&&c!==b;){for(c=b,d=b.match(o),d&&(e=d[1],q.push("#"===e?{method:l,args:[Ext.String.trim(d[2])]}:"."===e?{method:j,args:[Ext.String.trim(d[2])]}:{method:i,args:[Ext.String.trim(d[2]),Boolean(d[3])]}),b=b.replace(d[0],""));!(f=b.match(n));)for(h=0;b&&r>h;h++){if(k=p[h],g=b.match(k.re),m=k.method,g){q.push({method:Ext.isString(k.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[m].concat(g.slice(1)))):k.method,args:g.slice(1)}),b=b.replace(g[0],"");break}h===r-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}f[1]&&(q.push({mode:f[2]||f[1]}),b=b.replace(f[0],""))}return new a.Query({operations:q})}})}),Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(c){var d=this;Ext.apply(d,c),d.classList=a(d.cls),d.classMap=b(d.classList),delete d.cls,Ext.isFunction(d.style)?(d.styleFn=d.style,delete d.style):"string"==typeof d.style?d.style=Ext.Element.parseStyles(d.style):d.style&&(d.style=Ext.apply({},d.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(b){for(var c,d=this,e="string"==typeof b?a(b):b,f=e.length,g=d.classList,h=d.classMap,i=d.flushClassList,j=0;f>j;++j)c=e[j],h[c]||(h[c]=!0,g.push(c),i&&(i.push(c),delete d.removedClasses[c]));return d},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d,e,f=this,g=f.classList,h=f.classList=[],i=b(a(c)),j=g.length,k=f.classMap,l=f.removedClasses;for(d=0;j>d;++d)e=g[d],i[e]?(l&&k[e]&&(l[e]=!0,Ext.Array.remove(f.flushClassList,e)),delete k[e]):h.push(e);return f},setStyle:function(a,b){var c=this,d=c.style||(c.style={});return"string"==typeof a?1===arguments.length?c.setStyle(Ext.Element.parseStyles(a)):d[a]=b:Ext.apply(d,a),c},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(a){var b,c=this,d=c.flushClassList||c.classList,e=c.removedClasses;return c.styleFn?(b=Ext.apply({},c.styleFn()),Ext.apply(b,c.style)):b=c.style,a[c.clsProp]=d.join(" "),b&&(a[c.styleProp]=c.styleIsText?Ext.DomHelper.generateStyles(b):b),e&&(e=Ext.Object.getKeys(e),e.length&&(a[c.removedProp]=e.join(" "))),c.unselectableAttr&&(a.unselectable="on"),a}}}(),1,0,0,0,0,0,[Ext.util,"ProtoElement"],0),Ext.cmd.derive("Ext.PluginManager",Ext.AbstractManager,{alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(a,b,c){var d;return a.init?d=a:(c?(a=Ext.apply({},a),a.cmp=c):c=a.cmp,a.xclass?d=Ext.create(a):(d=Ext.ClassManager.getByAlias("plugin."+(a.ptype||b)),"function"==typeof d&&(d=new d(a)))),d&&c&&d.setCmp&&!d.setCmpCalled&&(d.setCmp(c),d.setCmpCalled=!0),d},findByType:function(a,b){var c,d,e=[],f=this.types;for(c in f)f.hasOwnProperty(c)&&(d=f[c],d.type==a&&(!b||b===!0&&d.isDefault)&&e.push(d));return e}},0,0,0,0,0,0,[Ext,"PluginManager",Ext,"PluginMgr"],function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.cmd.derive("Ext.util.Filter",Ext.Base,{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(b){var c,d,e=!0,f=a.length;for(c=0;e&&f>c;c++)d=a[c],d.disabled||(e=e&&d.filterFn.call(d.scope||d,b));return e}:function(){return!0}}},operatorFns:{"<":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},"<=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=this.value},"=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},">=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},">":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},"!=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(a){var b=this;b.initialConfig=a,Ext.apply(b,a),b.filter=b.filter||b.filterFn,void 0===b.filter&&b.setValue(a.value)},setValue:function(a){var b=this;b.value=a,void 0===b.property||void 0===b.value||(b.filter=b.createFilterFn()),b.filterFn=b.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return a.operator?a.operatorFns[a.operator]:function(d){var e=a.getRoot(d)[c];return null===b?null===e:b.test(e)}},getRoot:function(a){var b=this.root;return void 0===b?a:a[b]},createValueMatcher:function(){var a=this,b=a.value,c=a.anyMatch,d=a.exactMatch,e=a.caseSensitive,f=Ext.String.escapeRegex;return null===b?b:(b.exec||(b=String(b),c===!0?b=f(b):(b="^"+f(b),d===!0&&(b+="$")),b=new RegExp(b,e?"":"i")),b)},serialize:function(){var a=this,b=Ext.apply({},a.initialConfig);return b.value=a.value,b}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}),Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(a,b){var c=this;1===arguments.length&&Ext.isObject(a)?(c.initialConfig=a,Ext.apply(c,a)):(c.allowFunctions=a===!0,b&&(c.getKey=b),c.initialConfig={allowFunctions:c.allowFunctions,getKey:c.getKey}),c.items=[],c.map={},c.keys=[],c.indexMap={},c.length=0,c.mixins.observable.constructor.call(c)},allowFunctions:!1,add:function(a,b){var c,d=this.length;return c=1===arguments.length?this.insert(d,a):this.insert(d,a,b)},getKey:function(a){return a.id},replace:function(a,b){var c,d,e=this;return 1==arguments.length&&(b=arguments[0],a=e.getKey(b)),c=e.map[a],"undefined"==typeof a||null===a||"undefined"==typeof c?e.add(a,b):(e.generation++,d=e.indexOfKey(a),e.items[d]=b,e.map[a]=b,e.hasListeners.replace&&e.fireEvent("replace",a,c,b),b)},updateKey:function(a,b){var c,d=this,e=d.map,f=d.indexMap,g=d.indexOfKey(a);g>-1&&(c=e[a],delete e[a],delete f[a],e[b]=c,f[b]=g,d.keys[g]=b,d.generation++)},addAll:function(a){var b,c=this;if(arguments.length>1||Ext.isArray(a))c.insert(c.length,arguments.length>1?arguments:a);else for(b in a)a.hasOwnProperty(b)&&(c.allowFunctions||"function"!=typeof a[b])&&c.add(b,a[b])},each:function(a,b){for(var c,d=Ext.Array.push([],this.items),e=0,f=d.length;f>e&&(c=d[e],a.call(b||c,c,e,f)!==!1);e++);},eachKey:function(a,b){for(var c=this.keys,d=this.items,e=0,f=c.length;f>e;e++)a.call(b||window,c[e],d[e],e,f)},findBy:function(a,b){for(var c=this.keys,d=this.items,e=0,f=d.length;f>e;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;return Ext.isIterable(b)?d=this.doInsert(a,b,c):(d=arguments.length>2?this.doInsert(a,[b],[c]):this.doInsert(a,[b]),d=d[0]),d},doInsert:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=b.length,m=l,n=k.hasListeners.add,o={};if(null!=c)k.useLinearSearch=!0;else for(c=b,b=new Array(l),f=0;l>f;f++)b[f]=this.getKey(c[f]);for(k.suspendEvents(),f=0;l>f;f++)d=b[f],e=k.indexOfKey(d),-1!==e&&(a>e&&a--,k.removeAt(e)),null!=d&&(null!=o[d]&&(h=!0,m--),o[d]=f);if(k.resumeEvents(),h){i=b,j=c,b=new Array(m),c=new Array(m),f=0;for(d in o)b[f]=i[o[d]],c[f]=j[o[d]],f++;l=m}for(g=a===k.length&&k.indexGeneration===k.generation,Ext.Array.insert(k.items,a,c),Ext.Array.insert(k.keys,a,b),k.length+=l,k.generation++,g&&(k.indexGeneration=k.generation),f=0;l>f;f++,a++)d=b[f],null!=d&&(k.map[d]=c[f],g&&(k.indexMap[d]=a)),n&&k.fireEvent("add",a,c[f],d);return c},remove:function(a){var b,c,d=this;return c=!d.useLinearSearch&&(b=d.getKey(a))?d.indexOfKey(b):Ext.Array.indexOf(d.items,a),-1===c?!1:d.removeAt(c)},removeAll:function(a){var b,c=this;if(a||c.hasListeners.remove)if(a)for(b=a.length-1;b>=0;--b)c.remove(a[b]);else for(;c.length;)c.removeAt(0);else c.length=c.items.length=c.keys.length=0,c.map={},c.indexMap={},c.generation++,c.indexGeneration=c.generation},removeAt:function(a){var b,c,d=this;return a<d.length&&a>=0?(d.length--,b=d.items[a],Ext.Array.erase(d.items,a,1),c=d.keys[a],"undefined"!=typeof c&&delete d.map[c],Ext.Array.erase(d.keys,a,1),d.hasListeners.remove&&d.fireEvent("remove",b,c),d.generation++,b):!1},removeRange:function(a,b){var c,d,e,f,g,h,i=this;if(a<i.length&&a>=0){for(b||(b=1),f=Math.min(a+b,i.length),b=f-a,h=f===i.length,g=h&&i.indexGeneration===i.generation,e=a;f>e;e++)d=i.keys[e],null!=d&&(delete i.map[d],g&&delete i.indexMap[d]);return c=i.items[e-1],i.length-=b,i.generation++,g&&(i.indexGeneration=i.generation),h?i.items.length=i.keys.length=i.length:(i.items.splice(a,b),i.keys.splice(a,b)),c}return!1},removeAtKey:function(a){var b,c=this,d=c.keys;if(null!=a)return c.removeAt(c.indexOfKey(a));for(b=d.length-1;b>=0;b--)null==d[b]&&c.removeAt(b)},getCount:function(){return this.length},indexOf:function(a){var b,c=this;return null!=a?!c.useLinearSearch&&(b=c.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(c.items,a):-1},indexOfKey:function(a){return this.map.hasOwnProperty(a)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[a]):-1},rebuildIndexMap:function(){var a,b=this,c=b.indexMap={},d=b.keys,e=d.length;for(a=0;e>a;a++)c[d[a]]=a;b.indexGeneration=b.generation},get:function(a){var b=this,c=b.map[a],d=void 0!==c?c:"number"==typeof a?b.items[a]:void 0;return"function"!=typeof d||b.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b,c=this;return null!=a?!c.useLinearSearch&&(b=c.getKey(a))?null!=this.map[b]:-1!==Ext.Array.indexOf(this.items,a):!1},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;a.generation&&(a.length=0,a.items=[],a.keys=[],a.map={},a.indexMap={},a.generation++,a.indexGeneration=a.generation),a.hasListeners.clear&&a.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){var e,f=this.extractValues(a,b),g=f.length,h=0;for(c=c||0,d=d||0===d?d:g-1,e=c;d>=e;e++)h+=f[e];return h},collect:function(a,b,c){var d,e,f,g=this.extractValues(a,b),h=g.length,i={},j=[];for(f=0;h>f;f++)d=g[f],e=String(d),!c&&Ext.isEmpty(d)||i[e]||(i[e]=!0,j.push(d));return j},extractValues:function(a,b){var c=this.items;return b&&(c=Ext.Array.pluck(c,b)),Ext.Array.pluck(c,a)},hasRange:function(a,b){return b<this.length},getRange:function(a,b){var c,d,e=this,f=e.items,g=[],h=f.length;
return 1>h?g:(a>b&&(d=!0,c=a,a=b,b=c),0>a&&(a=0),(null==b||b>=h)&&(b=h-1),g=f.slice(a,b+1),d&&g.length&&g.reverse(),g)},filter:function(a,b,c,d){var e=[];return Ext.isString(a)?e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d})):(Ext.isArray(a)||a instanceof Ext.util.Filter)&&(e=e.concat(a)),this.filterBy(Ext.util.Filter.createFilterFn(e))},filterBy:function(a,b){var c,d=this,e=new d.self(d.initialConfig),f=d.keys,g=d.items,h=g.length;for(e.getKey=d.getKey,c=0;h>c;c++)a.call(b||d,g[c],f[c])&&e.add(f[c],g[c]);return e},findIndex:function(a,b,c,d,e){return Ext.isEmpty(b,!1)?-1:(b=this.createValueMatcher(b,d,e),this.findIndexBy(function(c){return c&&b.test(c[a])},null,c))},findIndexBy:function(a,b,c){for(var d=this,e=d.keys,f=d.items,g=c||0,h=f.length;h>g;g++)if(a.call(b||d,f[g],e[g]))return g;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a),b===!0?a=e(a):(a="^"+e(a),d===!0&&(a+="$")),a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=this,b=new this.self(a.initialConfig);return b.add(a.keys,a.items),b}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0),Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{direction:"ASC",constructor:function(a){var b=this;Ext.apply(b,a),b.updateSortFunction()},createSortFunction:function(a){var b=this,c=b.direction||"ASC",d="DESC"==c.toUpperCase()?-1:1;return function(c,e){return d*a.call(b,c,e)}},defaultSorterFn:function(a,b){var c=this,d=c.transform,e=c.getRoot(a)[c.property],f=c.getRoot(b)[c.property];return d&&(e=d(e),f=d(f)),e>f?1:f>e?-1:0},getRoot:function(a){return void 0===this.root?a:a[this.root]},setDirection:function(a){var b=this;b.direction=a?a.toUpperCase():a,b.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC"),a.updateSortFunction()},updateSortFunction:function(a){var b=this;a=a||b.sorterFn||b.defaultSorterFn,b.sort=b.createSortFunction(a)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0),Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:!0,defaultSortDirection:"ASC",statics:{createComparator:function(a){return a&&a.length?function(b,c){for(var d=a[0].sort(b,c),e=a.length,f=1;e>f;f++)d=d||a[f].sort.call(this,b,c);return d}:function(){return 0}}},initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(!1,function(a){return a.id||a.property}),b&&a.sorters.addAll(a.decodeSorters(b))},sort:function(a,b,c,d){var e,f,g=this;return Ext.isArray(a)?(d=c,c=b,f=a):Ext.isObject(a)?(d=c,c=b,f=[a]):Ext.isString(a)&&(e=g.sorters.get(a),e?void 0===b?e.toggle():e.setDirection(b):(e={property:a,direction:b},f=[e])),f&&f.length&&(f=g.decodeSorters(f),Ext.isString(c)?"prepend"===c?g.sorters.insert(0,f):g.sorters.addAll(f):(g.sorters.clear(),g.sorters.addAll(f))),d!==!1&&(g.fireEvent("beforesort",g,f),g.onBeforeSort(f),a=g.sorters.items,a.length&&g.doSort(g.generateComparator())),a},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b,c,d,e=a.length,f=Ext.util.Sorter,g=this.model?this.model.prototype.fields:null;for(d=0;e>d;d++)c=a[d],c instanceof f||(Ext.isString(c)&&(c={property:c}),Ext.applyIf(c,{root:this.sortRoot,direction:"ASC"}),c.fn&&(c.sorterFn=c.fn),"function"==typeof c&&(c={sorterFn:c}),g&&!c.transform&&(b=g.get(c.property),c.transform=b&&b.sortType!==Ext.identityFn?b.sortType:void 0),a[d]=new Ext.util.Sorter(c));return a},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var a,b=this.sorters.items,c=b.length,d=0;c>d;++d)if(a=b[d],!a.isGrouper)return a;return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}),Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){var a=this;a.callParent(arguments),a.addEvents("sort"),a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e,f,g=this,h="DESC"==String(b).toUpperCase()?-1:1,i=[],j=g.keys,k=g.items;for(c=c||function(a,b){return a-b},d=0,e=k.length;e>d;d++)i[i.length]={key:j[d],value:k[d],index:d};for(Ext.Array.sort(i,function(b,d){return c(b[a],d[a])*h||(b.index<d.index?-1:1)}),d=0,e=i.length;e>d;d++)f=i[d],k[d]=f.value,j[d]=f.key,g.indexMap[f.key]=d;g.generation++,g.indexGeneration=g.generation,g.fireEvent("sort",g)},sortBy:function(a){var b,c,d,e=this,f=e.items,g=e.keys,h=f.length;for(d=0;h>d;d++)f[d].$extCollectionIndex=d;for(Ext.Array.sort(f,function(b,c){return a(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)}),d=0;h>d;d++)b=f[d],c=e.getKey(b),g[d]=c,e.indexMap[c]=d,delete f.$extCollectionIndex;e.generation++,e.indexGeneration=e.generation,e.fireEvent("sort",e,f,g)},findInsertionIndex:function(a,b){var c,d,e=this,f=e.items,g=0,h=f.length-1;for(b||(b=e.generateComparator());h>=g;)c=g+h>>1,d=b(a,f[c]),d>=0?g=c+1:0>d&&(h=c-1);return g},reorder:function(a){var b,c=this,d=c.items,e=0,f=d.length,g=[],h=[];c.suspendEvents();for(b in a)g[a[b]]=d[b];for(e=0;f>e;e++)void 0==a[e]&&h.push(d[e]);for(e=0;f>e;e++)void 0==g[e]&&(g[e]=h.shift());c.clear(),c.addAll(g),c.resumeEvents(),c.fireEvent("sort",c)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:d>c?-1:0})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0),Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:!0,constructor:function(a){this.target=a,this.id=this.getId()},getId:function(){return this.target.id}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0),Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(a,b,c){return void 0==c&&(c="x"===b?a.getX():"y"===b?a.getY():"scrollTop"===b?a.getScroll().top:"scrollLeft"===b?a.getScroll().left:"height"===b?a.getHeight():"width"===b?a.getWidth():a.getStyle(b)),c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b,c,d,e,f,g,h=(this.target,a.length);for(e=0;h>e;e++){b=a[e].attrs;for(c in b)if(b.hasOwnProperty(c))for(g=b[c].length,f=0;g>f;f++)d=b[c][f],this.setElVal(d[0],c,d[1])}},setElVal:function(a,b,c){"x"===b?a.setX(c):"y"===b?a.setY(c):"scrollTop"===b?a.scrollTo("top",c):"scrollLeft"===b?a.scrollTo("left",c):"width"===b?a.setWidth(c):"height"===b?a.setHeight(c):a.setStyle(b,c)}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0),Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(a,b){var c,d,e,f,g,h,i,j,k,l={attrs:[],duration:[],easing:[]},m=a.length;for(i=0;m>i;i++){d=a[i],g=d.duration,f=d.easing,d=d.attrs;for(e in d)-1==Ext.Array.indexOf(l.attrs,e)&&(l.attrs.push(e.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})),l.duration.push(g+"ms"),l.easing.push(f))}for(c=l.attrs.join(","),g=l.duration.join(","),f=l.easing.join(", "),i=0;m>i;i++){d=a[i].attrs;for(e in d)for(k=d[e].length,j=0;k>j;j++)h=d[e][j],h[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",b?"":c),h[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":g),h[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":f),h[0].setStyle(e,h[1]),b?h=h[0].dom.offsetWidth:h[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},h[0],{single:!0})}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0),Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-"),this.callParent([a])},getAttr:function(a,b){var c,d,e=[],f=this.target,g=f.elements,h=g.length;for(c=0;h>c;c++)d=g[c],d&&(d=f.getElement(d),e.push([d,this.getElVal(d,a,b)]));return e},setAttr:function(a){var b,c,d,e,f,g,h,i=this.target,j=a.length,k=i.elements,l=k.length;for(f=0;j>f;f++){d=a[f].attrs;for(e in d)if(d.hasOwnProperty(e))for(h=d[e].length,g=0;h>g;g++)for(b=d[e][g][1],c=0;l>c;++c)el=k[c],el&&(el=i.getElement(el),this.setElVal(el,e,b))}}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0),Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0),Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(a,b){var c;switch(b){case"rotate":case"rotation":return c=a.attr.rotation,{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case"scale":case"scaling":return c=a.attr.scaling,{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case"translate":case"translation":return c=a.attr.translation,{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,void 0!=b?b:this.getFromPrim(this.target,a)]]},setAttr:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=a.length,o=[];for(i=0;n>i;i++){b=a[i].attrs;for(c in b)for(d=b[c],m=d.length,j=0;m>j;j++)f=d[j][0],e=d[j][1],"translate"===c||"translation"===c?h={x:e.x,y:e.y}:"rotate"===c||"rotation"===c?(k=e.x,isNaN(k)&&(k=null),l=e.y,isNaN(l)&&(l=null),h={degrees:e.degrees,x:k,y:l}):"scale"===c||"scaling"===c?(k=e.x,isNaN(k)&&(k=null),l=e.y,isNaN(l)&&(l=null),h={x:k,y:l,cx:e.cx,cy:e.cy}):h="width"===c||"height"===c||"x"===c||"y"===c?parseFloat(e):e,g=Ext.Array.indexOf(o,f),-1==g&&(o.push([f,{}]),g=o.length-1),o[g][1][c]=h}for(n=o.length,i=0;n>i;i++)o[i][0].setAttributes(o[i][1]);this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0),Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(a,b){var c,d,e=[],f=[].concat(this.target.items),g=f.length;for(c=0;g>c;c++)d=f[c],e.push([d,void 0!=b?b:this.getFromPrim(d,a)]);return e}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0),Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=a.length,q={};for(g=0;p>g;g++){d=a[g].attrs;for(e in d)for(i=d[e].length,h=0;i>h;h++)f=d[e][h],n=q[o.setMethods[e]]||(q[o.setMethods[e]]={}),n.target=f[0],n[e]=f[1];q.setPosition&&(f=q.setPosition,j=void 0===f.left?void 0:parseFloat(f.left),k=void 0===f.top?void 0:parseFloat(f.top),f.target.setPosition(j,k)),q.setPagePosition&&(f=q.setPagePosition,f.target.setPagePosition(f.x,f.y)),q.setSize&&(f=q.setSize,l=void 0===f.width?f.target.getWidth():parseFloat(f.width),m=void 0===f.height?f.target.getHeight():parseFloat(f.height),f.target.el.setSize(l,m),(c||o.dynamic)&&Ext.globalEvents.on({idle:Ext.Function.bind(f.target.setSize,f.target,[l,m]),single:!0})),q.setOpacity&&(f=q.setOpacity,f.target.el.setStyle("opacity",f.opacity))}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0),Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);return b?b.fxDefaults:{}},setFxDefaults:function(a,b){var c=this.targets.get(a);c&&(c.fxDefaults=Ext.apply(c.fxDefaults||{},b))},stopAnimation:function(a){for(var b=this,c=b.getFxQueue(a),d=c.length;d;)c[d-1].end(),d--},getActiveAnimation:function(a){var b=this.getFxQueue(a);return b&&b.length?b[0]:!1},hasFxBlock:function(a){var b=this.getFxQueue(a);return b&&b[0]&&b[0].block},getFxQueue:function(a){if(!a)return!1;var b=this,c=b.fxQueue[a],d=b.targets.get(a);return d?(c||(b.fxQueue[a]=[],"element"!=d.type&&d.target.on("destroy",function(){b.fxQueue[a]=[]})),b.fxQueue[a]):!1},queueFx:function(a){var b,c,d=this,e=a.target;e&&(b=d.getFxQueue(e.getId()),c=b.length,c?a.concurrent?a.paused=!1:b[c-1].on("afteranimate",function(){a.paused=!1}):a.paused=!1,a.on("afteranimate",function(){if(Ext.Array.remove(b,a),0===b.length&&d.targets.remove(a.target),a.remove&&"element"==e.type){var c=Ext.get(e.id);c&&c.remove()}},d,{single:!0}),b.push(a))}},1,0,0,0,0,0,[Ext.fx,"Queue"],0),Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:!0,constructor:function(){var a=this;a.items=new Ext.util.MixedCollection,a.mixins.queue.constructor.call(a),a.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(a){var b,c=this,d=!c.forceJS&&Ext.supports.Transitions;if(c.useCSS3=d,a){if(a.tagName||Ext.isString(a)||a.isFly)a=Ext.get(a),b=new Ext.fx.target["Element"+(d?"CSS":"")](a);else if(a.dom)b=new Ext.fx.target["Element"+(d?"CSS":"")](a);else if(a.isComposite)b=new Ext.fx.target["CompositeElement"+(d?"CSS":"")](a);else if(a.isSprite)b=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)b=new Ext.fx.target.CompositeSprite(a);else{if(!a.isComponent)return a.isAnimTarget?a:null;b=new Ext.fx.target.Component(a)}return c.targets.add(b),b}return null},addAnim:function(a){var b=this,c=b.items,d=b.task;c.add(a.id,a),!d&&c.length&&(d=b.task={run:b.runner,interval:b.interval,scope:b},b.taskRunner.start(d))},removeAnim:function(a){var b=this,c=b.items,d=b.task;c.removeAtKey(a.id),d&&!c.length&&(b.taskRunner.stop(d),delete b.task)},runner:function(){var a,b=this,c=b.items.getRange(),d=0,e=c.length;for(b.targetArr={},b.timestamp=new Date;e>d;d++)a=c[d],a.isReady()&&b.startAnim(a);for(d=0;e>d;d++)a=c[d],a.isRunning()&&b.runAnim(a);b.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(a){var b,c,d=this,e=d.useCSS3&&"element"==a.target.type,f=d.timestamp-a.startTime,g=f>=a.duration;b=this.collectTargetData(a,f,e,g),e&&(a.target.setAttr(b.anims[a.id].attributes,!0),d.collectTargetData(a,a.duration,e,g),a.paused=!0,b=a.target.target,a.target.isComposite&&(b=a.target.target.last()),c={},c[Ext.supports.CSS3TransitionEnd]=a.lastFrame,c.scope=a,c.single=!0,b.on(c))}},collectTargetData:function(a,b,c,d){var e=a.target.getId(),f=this.targetArr[e];return f||(f=this.targetArr[e]={id:e,el:a.target,anims:{}}),f.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]},f},applyPendingAttrs:function(){var a,b,c,d,e,f=this.targetArr;for(b in f)if(f.hasOwnProperty(b)){a=f[b];for(e in a.anims)a.anims.hasOwnProperty(e)&&(c=a.anims[e],d=c.anim,c.attributes&&d.isRunning()&&(a.el.setAttr(c.attributes,!1,c.isLastFrame),c.isLastFrame&&d.lastFrame()))}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0),Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{}),b.config=a,b.id=Ext.id(null,"ext-animator-"),b.addEvents("beforeanimate","keyframe","afteranimate"),b.mixins.observable.constructor.call(b,a),b.timeline=[],b.createTimeline(b.keyframes),b.target&&(b.applyAnimator(b.target),Ext.fx.Manager.addAnim(b))},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b,c,d,e,f,g,h=this,i=[],j=h.to||{},k=h.duration;for(f in a)a.hasOwnProperty(f)&&h.animKeyFramesRE.test(f)&&(g={attrs:Ext.apply(a[f],j)},"from"==f?f=0:"to"==f&&(f=100),g.pct=parseInt(f,10),i.push(g));for(Ext.Array.sort(i,h.sorter),e=i.length,d=0;e>d;d++)b=i[d-1]?k*(i[d-1].pct/100):0,c=k*(i[d].pct/100),h.timeline.push({duration:c-b,attrs:i[d].attrs})},applyAnimator:function(a){var b,c,d,e,f,g=this,h=[],i=g.timeline,j=i.length;if(g.fireEvent("beforeanimate",g)!==!1){for(f=0;j>f;f++)b=i[f],e=b.attrs,c=e.easing||g.easing,d=e.damper||g.damper,delete e.easing,delete e.damper,b=new Ext.fx.Anim({target:a,easing:c,damper:d,duration:b.duration,paused:!0,to:e}),h.push(b);for(g.animations=h,g.target=b.target,f=0;j-1>f;f++)b=h[f],b.nextAnim=h[f+1],b.on("afteranimate",function(){this.nextAnim.paused=!1}),b.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},g);h[j-1].on("afteranimate",function(){this.lastFrame()},g)}},start:function(a){var b,c=this,d=c.delay,e=c.delayStart;if(d){if(!e)return void(c.delayStart=a);if(b=a-e,d>b)return;a=new Date(e.getTime()+d)}c.fireEvent("beforeanimate",c)!==!1&&(c.startTime=a,c.running=!0,c.animations[c.keyframeStep].paused=!1)},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++,b>c?(a.startTime=new Date,a.currentIteration=c,a.keyframeStep=0,a.applyAnimator(a.target),a.animations[a.keyframeStep].paused=!1):(a.currentIteration=0,a.end())},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date-a.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0),Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:!0,cubicBezierAtTime:function(a,b,c,d,e,f){function g(a){return((l*a+k)*a+j)*a}function h(a,b){var c=i(a,b);return((o*c+n)*c+m)*c}function i(a,b){var c,d,e,f,h,i;for(e=a,i=0;8>i;i++){if(f=g(e)-a,Math.abs(f)<b)return e;if(h=(3*l*e+2*k)*e+j,Math.abs(h)<1e-6)break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),Math.abs(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))},cubicBezier:function(a,b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};return e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join(",")+")"},e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)},e}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0),Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,f=a.abs,g=1.70158;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(a){var b=.07813-a/2,d=e(.0066+b*b),g=d-b,h=c(f(g),1/3)*(0>g?-1:1),i=-d-b,j=c(f(i),1/3)*(0>i?-1:1),k=h+j+.25;return 3*c(1-k,2)*k*.1+3*(1-k)*k*k+k*k*k},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,.48)},easeInOut:function(a){var b=.48-a/1.04,d=e(.1734+b*b),g=d-b,h=c(f(g),1/3)*(0>g?-1:1),i=-d-b,j=c(f(i),1/3)*(0>i?-1:1),k=h+j+.5;return 3*(1-k)*k*k+k*k*k},backIn:function(a){return a*a*((g+1)*a-g)},backOut:function(a){return a-=1,a*a*((g+1)*a+g)+1},elasticIn:function(a){if(0===a||1===a)return a;var e=.3,f=e/4;return c(2,-10*a)*d(2*(a-f)*b/e)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}},function(){var a=Ext.fx.Easing.self,b=a.prototype;a.implement({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})})}),Ext.cmd.derive("Ext.draw.Color",Ext.Base,{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(a,b,c){var d=this,e=Ext.Number.constrain;d.r=e(a,0,255),d.g=e(b,0,255),d.b=e(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var a,b=this,c=b.r/255,d=b.g/255,e=b.b/255,f=Math.max(c,d,e),g=Math.min(c,d,e),h=f-g,i=0,j=.5*(f+g);return g!=f&&(i=.5>j?h/(f+g):h/(2-f-g),a=c==f?60*(d-e)/h:d==f?120+60*(e-c)/h:240+60*(c-d)/h,0>a&&(a+=360),a>=360&&(a-=360)),[a,i,j]},getLighter:function(a){var b=this.getHSL();return a=a||this.lightnessFactor,b[2]=Ext.Number.constrain(b[2]+a,0,1),this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){return a=a||this.lightnessFactor,this.getLighter(-a)},toString:function(){var a=this,b=Math.round,c=b(a.r).toString(16),d=b(a.g).toString(16),e=b(a.b).toString(16);return c=1==c.length?"0"+c:c,d=1==d.length?"0"+d:d,e=1==e.length?"0"+e:e,["#",c,d,e].join("")},toHex:function(a){if(Ext.isArray(a)&&(a=a[0]),!Ext.isString(a))return"";if("#"===a.substr(0,1))return a;var b,c,d,e,f=this.colorToHexRe.exec(a);return Ext.isArray(f)?(b=parseInt(f[2],10),c=parseInt(f[3],10),d=parseInt(f[4],10),e=d|c<<8|b<<16,f[1]+"#"+("000000"+e.toString(16)).slice(-6)):a},fromString:function(a){var b,c,d,e,f=parseInt;return 4!=a.length&&7!=a.length||"#"!==a.substr(0,1)?(b=a.match(this.rgbRe),b&&(c=b[1],d=b[2],e=b[3])):(b=a.match(this.hexRe),b&&(c=f(b[1],16)>>0,d=f(b[2],16)>>0,e=f(b[3],16)>>0,4==a.length&&(c+=16*c,d+=16*d,e+=16*e))),"undefined"==typeof c?void 0:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(a,b,c){var d,e,f,g=[],h=Math.abs,i=Math.floor;if(0==b||null==a)g=[c,c,c];else{switch(a/=60,d=b*(1-h(2*c-1)),e=d*(1-h(a-2*i(a/2)-1)),f=c-d/2,i(a)){case 0:g=[d,e,0];break;case 1:g=[e,d,0];break;case 2:g=[0,d,e];break;case 3:g=[0,e,d];break;case 4:g=[e,0,d];break;case 5:g=[d,0,e]}g=[g[0]+f,g[1]+f,g[2]+f]}return new Ext.draw.Color(255*g[0],255*g[1],255*g[2])}},3,0,0,0,0,0,[Ext.draw,"Color"],function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})}),Ext.cmd.derive("Ext.draw.Draw",Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){return b=String(b).toLowerCase(),"object"==b&&a===Object(a)||"undefined"==b&&typeof a==b||"null"==b&&null===a||"array"==b&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){var b=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",b.x,b.y-b.ry,b.rx,b.ry,b.y+b.ry)},rectPath:function(a){var b=a.attr;return b.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b.x+b.radius,b.y,b.width-2*b.radius,b.radius,-b.radius,b.height-2*b.radius,2*b.radius-b.width,2*b.radius-b.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",b.x,b.y,b.width+b.x,b.height+b.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;return d.is(a,"array")&&d.is(a[0],"array")&&(c=d.pathClone(a)),c.length||String(a).replace(d.pathCommandRE,function(a,e,f){var g=[],h=e.toLowerCase();for(f.replace(d.pathValuesRE,function(a,b){b&&g.push(+b)}),"m"==h&&g.length>2&&(c.push([e].concat(Ext.Array.splice(g,0,2))),h="l",e="m"==e?"l":"L");g.length>=b[h]&&(c.push([e].concat(Ext.Array.splice(g,0,b[h]))),b[h]););}),c.toString=d.path2string,c},mapPath:function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=this.path2curve(a),e=0,f=a.length;f>e;e++)for(i=a[e],g=1,h=i.length;h-1>g;g+=2)c=b.x(i[g],i[g+1]),d=b.y(i[g],i[g+1]),i[g]=c,i[g+1]=d;return a},pathClone:function(a){var b,c,d,e,f=[];for(this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a)),d=0,e=a.length;e>d;d++)for(f[d]=[],b=0,c=a[d].length;c>b;b++)f[d][b]=a[d][b];return f.toString=this.path2string,f},pathToAbsolute:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b,c,d,e,f=[],g=0,h=0,i=0,j=0,k=0,l=a.length;for(l&&"M"==a[0][0]&&(g=+a[0][1],h=+a[0][2],i=g,j=h,k++,f[0]=["M",g,h]);l>k;k++){if(b=f[k]=[],c=a[k],c[0]!=c[0].toUpperCase())switch(b[0]=c[0].toUpperCase(),b[0]){case"A":b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=+(c[6]+g),b[7]=+(c[7]+h);break;case"V":b[1]=+c[1]+h;break;case"H":b[1]=+c[1]+g;break;case"M":i=+c[1]+g,j=+c[2]+h;default:for(d=1,e=c.length;e>d;d++)b[d]=+c[d]+(d%2?g:h)}else for(d=0,e=c.length;e>d;d++)f[k][d]=c[d];switch(b[0]){case"Z":g=i,h=j;break;case"H":g=b[1];break;case"V":h=b[1];break;case"M":c=f[k],e=c.length,i=c[e-2],j=c[e-1];default:c=f[k],e=c.length,g=c[e-2],h=c[e-1]}}return f.toString=this.path2string,f},pathToRelative:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b,c,d,e,f,g,h,i,j,k=[],l=0,m=0,n=0,o=0,p=0;for("M"==a[0][0]&&(l=a[0][1],m=a[0][2],n=l,o=m,p++,k.push(["M",l,m])),d=p,h=a.length;h>d;d++){if(b=k[d]=[],c=a[d],c[0]!=c[0].toLowerCase())switch(b[0]=c[0].toLowerCase(),b[0]){case"a":b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=+(c[6]-l).toFixed(3),b[7]=+(c[7]-m).toFixed(3);break;case"v":b[1]=+(c[1]-m).toFixed(3);break;case"m":n=c[1],o=c[2];default:for(e=1,i=c.length;i>e;e++)b[e]=+(c[e]-(e%2?l:m)).toFixed(3)}else for(b=k[d]=[],"m"==c[0]&&(n=c[1]+l,o=c[2]+m),f=0,j=c.length;j>f;f++)k[d][f]=c[f];switch(g=k[d].length,k[d][0]){case"z":l=n,m=o;break;case"h":l+=+k[d][g-1];break;case"v":m+=+k[d][g-1];break;default:l+=+k[d][g-2],m+=+k[d][g-1]}}return k.toString=this.path2string,k},path2curve:function(a){var b,c,d,e,f=this,g=f.pathToAbsolute(a),h=g.length,i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(b=0;h>b;b++){if(g[b]=f.command2curve(g[b],i),g[b].length>7){for(g[b].shift(),e=g[b];e.length;)Ext.Array.splice(g,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(g,b,1),h=g.length,b--}c=g[b],d=c.length,i.x=c[d-2],i.y=c[d-1],i.bx=parseFloat(c[d-4])||i.x,i.by=parseFloat(c[d-3])||i.y}return g},interpolatePaths:function(a,b){var c,d,e,f,g,h,i=this,j=i.pathToAbsolute(a),k=i.pathToAbsolute(b),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(c,0,6)));Ext.Array.erase(a,b,1),d=Math.max(j.length,k.length||0)}},o=function(a,b,c,e,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(Ext.Array.splice(b,f,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],d=Math.max(j.length,k.length||0))};for(c=0,d=Math.max(j.length,k.length||0);d>c;c++)j[c]=i.command2curve(j[c],l),n(j,c),k[c]=i.command2curve(k[c],m),n(k,c),o(j,k,l,m,c),o(k,j,m,l,c),e=j[c],f=k[c],g=e.length,h=f.length,l.x=e[g-2],l.y=e[g-1],l.bx=parseFloat(e[g-4])||l.x,l.by=parseFloat(e[g-3])||l.y,m.bx=parseFloat(f[h-4])||m.x,m.by=parseFloat(f[h-3])||m.y,m.x=f[h-2],m.y=f[h-1];return[j,k]},command2curve:function(a,b){var c=this;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch("T"!=a[0]&&"Q"!=a[0]&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(c.arc2curve.apply(c,[b.x,b.y].concat(a.slice(1))));break;case"S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"].concat(c.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(c.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case"H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case"V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case"Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},rotate:function(a,b,c){var d=Math.cos(c),e=Math.sin(c),f=a*d-b*e,g=a*e+b*d;return{x:f,y:g}},arc2curve:function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=this,O=Math.PI,P=N.radian,Q=120*O/180,R=P*(+e||0),S=[],T=Math,U=T.cos,V=T.sin,W=T.sqrt,X=T.abs,Y=T.asin;if(j?(t=j[0],u=j[1],r=j[2],s=j[3]):(k=N.rotate(a,b,-R),a=k.x,b=k.y,k=N.rotate(h,i,-R),h=k.x,i=k.y,l=(a-h)/2,m=(b-i)/2,n=l*l/(c*c)+m*m/(d*d),n>1&&(n=W(n),c=n*c,d=n*d),o=c*c,p=d*d,q=(f==g?-1:1)*W(X((o*p-o*m*m-p*l*l)/(o*m*m+p*l*l))),r=q*c*m/d+(a+h)/2,s=q*-d*l/c+(b+i)/2,t=Y(((b-s)/d).toFixed(7)),u=Y(((i-s)/d).toFixed(7)),t=r>a?O-t:t,u=r>h?O-u:u,0>t&&(t=2*O+t),0>u&&(u=2*O+u),g&&t>u&&(t-=2*O),!g&&u>t&&(u-=2*O)),v=u-t,X(v)>Q&&(K=u,L=h,M=i,u=t+Q*(g&&u>t?1:-1),h=r+c*U(u),i=s+d*V(u),S=N.arc2curve(h,i,c,d,e,0,g,L,M,[u,K,r,s])),v=u-t,w=U(t),x=V(t),y=U(u),z=V(u),A=T.tan(v/4),B=4/3*c*A,C=4/3*d*A,D=[a,b],E=[a+B*x,b-C*w],F=[h+B*z,i-C*y],G=[h,i],E[0]=2*D[0]-E[0],E[1]=2*D[1]-E[1],j)return[E,F,G].concat(S);for(S=[E,F,G].concat(S).join().split(","),H=[],J=S.length,I=0;J>I;I++)H[I]=I%2?N.rotate(S[I-1],S[I],R).y:N.rotate(S[I],S[I+1],R).x;return H},rotateAndTranslatePath:function(a){var b,c,d,e,f,g=a.rotation.degrees,h=a.rotation.x,i=a.rotation.y,j=a.translation.x,k=a.translation.y,l=[];if(!g&&!j&&!k)return this.pathToAbsolute(a.attr.path);for(j=j||0,k=k||0,b=this.pathToAbsolute(a.attr.path),c=b.length;c--;)if(d=l[c]=b[c].slice(),"A"==d[0])e=this.rotatePoint(d[6],d[7],g,h,i),d[6]=e.x+j,d[7]=e.y+k;else for(f=1;null!=d[f+1];)e=this.rotatePoint(d[f],d[f+1],g,h,i),d[f]=e.x+j,d[f+1]=e.y+k,f+=2;return l},rotatePoint:function(a,b,c,d,e){if(!c)return{x:a,y:b};d=d||0,e=e||0,a-=d,b-=e,c*=this.radian;var f=Math.cos(c),g=Math.sin(c);return{x:a*f-b*g+d,y:a*g+b*f+e}},pathDimensions:function(a){if(!(a&&a+""))return{x:0,y:0,width:0,height:0};a=this.path2curve(a);for(var b,c,d,e,f,g,h=0,i=0,j=[],k=[],l=0,m=a.length;m>l;l++)b=a[l],"M"==b[0]?(h=b[1],i=b[2],j.push(h),k.push(i)):(g=this.curveDim(h,i,b[1],b[2],b[3],b[4],b[5],b[6]),j=j.concat(g.min.x,g.max.x),k=k.concat(g.min.y,g.max.y),h=b[5],i=b[6]);return c=Math.min.apply(0,j),d=Math.min.apply(0,k),e=Math.max.apply(0,j),f=Math.max.apply(0,k),{x:Math.round(c),y:Math.round(d),path:a,width:Math.round(e-c),height:Math.round(f-d)}},intersectInside:function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],f=c[0]-d[0],g=c[1]-d[1],h=a[0]-b[0],i=a[1]-b[1],j=c[0]*d[1]-c[1]*d[0],k=a[0]*b[1]-a[1]*b[0],l=1/(f*i-g*h);return e[0]=(j*h-k*f)*l,e[1]=(j*i-k*g)*l,e},intersect:function(a,b){for(var c,d,e,f,g,h,i=this,j=0,k=b.length,l=b[k-1],m=a;k>j;++j){for(c=b[j],g=m,m=[],d=g[g.length-1],h=0,f=g.length;f>h;h++)e=g[h],i.intersectInside(e,l,c)?(i.intersectInside(d,l,c)||m.push(i.intersectIntersection(d,e,l,c)),m.push(e)):i.intersectInside(d,l,c)&&m.push(i.intersectIntersection(d,e,l,c)),d=e;l=c}return m},bezier:function(a,b,c,d,e){if(0===e)return a;if(1===e)return d;var f=1-e,g=f*f*f,h=e/f;return g*(a+h*(3*b+h*(3*c+d*h)))},bezierDim:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o=[];for(a+3*c==d+3*b?(e=a-b,e/=2*(a-b-b+c),1>e&&e>0&&o.push(e)):(f=a-3*b+3*c-d,g=2*(a-b-b+c),h=a-b,i=g*g-4*f*h,j=f+f,0===i?(e=g/j,1>e&&e>0&&o.push(e)):i>0&&(k=Math.sqrt(i),e=(k+g)/j,1>e&&e>0&&o.push(e),e=(g-k)/j,1>e&&e>0&&o.push(e))),l=Math.min(a,d),m=Math.max(a,d),n=0;n<o.length;n++)l=Math.min(l,this.bezier(a,b,c,d,o[n])),m=Math.max(m,this.bezier(a,b,c,d,o[n]));return[l,m]},curveDim:function(a,b,c,d,e,f,g,h){var i=this.bezierDim(a,c,e,g),j=this.bezierDim(b,d,f,h);return{min:{x:i[0],y:j[0]},max:{x:i[1],y:j[1]}}
},getAnchors:function(a,b,c,d,e,f,g){g=g||4;var h,i,j,k,l,m,n,o,p,q=Math,r=q.PI,s=r/2,t=q.abs,u=q.sin,v=q.cos,w=q.atan;return h=(c-a)/g,i=(e-c)/g,d>=b&&d>=f||b>=d&&f>=d?j=k=s:(j=w((c-a)/t(d-b)),d>b&&(j=r-j),k=w((e-c)/t(d-f)),d>f&&(k=r-k)),p=s-(j+k)%(2*r)/2,p>s&&(p-=r),j+=p,k+=p,l=c-h*u(j),m=d+h*v(j),n=c+i*u(k),o=d+i*v(k),(d>b&&b>m||b>d&&m>b)&&(l+=t(b-m)*(l-c)/(m-d),m=b),(d>f&&f>o||f>d&&o>f)&&(n-=t(f-o)*(n-c)/(o-d),o=f),{x1:l,y1:m,x2:n,y2:o}},smooth:function(a,b){for(var c,d,e,f,g,h,i,j,k,l=this.path2curve(a),m=[l[0]],n=l[0][1],o=l[0][2],p=1,q=l.length,r=1,s=n,t=o;q>p;p++)if(e=l[p],f=e.length,g=l[p-1],h=g.length,i=l[p+1],j=i&&i.length,"M"!=e[0])e[f-2]!=s||e[f-1]!=t||i&&"M"!=i[0]?d=i&&"M"!=i[0]?this.getAnchors(g[h-2],g[h-1],e[f-2],e[f-1],i[j-2],i[j-1],b):{x1:e[f-2],y1:e[f-1]}:(k=m[r].length,d=this.getAnchors(g[h-2],g[h-1],s,t,m[r][k-2],m[r][k-1],b),m[r][1]=d.x2,m[r][2]=d.y2),m.push(["C",n,o,d.x1,d.y1,e[f-2],e[f-1]]),n=d.x2,o=d.y2;else{for(s=e[1],t=e[2],c=p+1;"C"!=l[c][0];)c++;m.push(["M",s,t]),r=m.length,n=s,o=t}return m},findDotAtSegment:function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:Math.pow(j,3)*a+3*Math.pow(j,2)*i*c+3*j*i*i*e+Math.pow(i,3)*g,y:Math.pow(j,3)*b+3*Math.pow(j,2)*i*d+3*j*i*i*f+Math.pow(i,3)*h}},snapEnds:function(a,b,c,d){if(Ext.isDate(a))return this.snapEndsByDate(a,b,c);var e,f,g,h,i,j,k=(b-a)/c,l=Math.floor(Math.log(k)/Math.LN10)+1,m=Math.pow(10,l),n=Math.round(k%m*Math.pow(10,2-l)),o=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],p=0,q=1e9,r=o.length;if(f=Math.floor(a/m)*m,a==f&&f>0&&(f=Math.floor((a-m/10)/m)*m),d){for(i=0;r>i;i++)g=o[i][0],h=0>g-n?1e6:(g-n)/o[i][1],q>h&&(j=g,q=h);if(k=Math.floor(k*Math.pow(10,-l))*Math.pow(10,l)+j*Math.pow(10,l-2),0>a&&b>=0){for(e=0;e>a;)e-=k,p++;for(a=+e.toFixed(10),e=0;b>e;)e+=k,p++;b=+e.toFixed(10)}else for(e=a=f;b>e;)e+=k,p++;b=+e.toFixed(10)}else a=f,p=c;return{from:a,to:b,power:l,step:k,steps:p}},snapEndsByDate:function(a,b,c,d){var e,f,g,h,i=!1,j=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],k=j.length,l=!1;for(h=0;k>h;h++)if(e=j[h],!l)for(f=0;f<e[1].length;f++)if(b<Ext.Date.add(a,e[0],e[1][f]*c)){i=[e[0],e[1][f]],l=!0;break}return i||(g=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d),i=[Date.YEAR,Math.round(g.step)]),this.snapEndsByDateAndStep(a,b,i,d)},snapEndsByDateAndStep:function(a,b,c,d){var e,f,g,h,i,j,k,l,m=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],n=c[0],o=c[1];if(d)f=a;else switch(n){case Ext.Date.MILLI:f=new Date(m[0],m[1],m[2],m[3],m[4],m[5],Math.floor(m[6]/o)*o);break;case Ext.Date.SECOND:f=new Date(m[0],m[1],m[2],m[3],m[4],Math.floor(m[5]/o)*o,0);break;case Ext.Date.MINUTE:f=new Date(m[0],m[1],m[2],m[3],Math.floor(m[4]/o)*o,0,0);break;case Ext.Date.HOUR:f=new Date(m[0],m[1],m[2],Math.floor(m[3]/o)*o,0,0,0);break;case Ext.Date.DAY:f=new Date(m[0],m[1],Math.floor((m[2]-1)/o)*o+1,0,0,0,0);break;case Ext.Date.MONTH:f=new Date(m[0],Math.floor(m[1]/o)*o,1,0,0,0,0);break;default:f=new Date(Math.floor(m[0]/o)*o,0,1,0,0,0,0)}for(l=n===Ext.Date.MONTH&&(.5==o||o==1/3||.25==o),e=l?[]:0,g=new Date(f);b>g;)if(l){switch(h=new Date(g),i=h.getFullYear(),j=h.getMonth(),k=h.getDate(),o){case.5:k>=15?(k=1,++j>11&&i++):k=15;break;case 1/3:k>=20?(k=1,++j>11&&i++):k=k>=10?20:10;break;case.25:k>=22?(k=1,++j>11&&i++):k=k>=15?22:k>=8?15:8}g.setYear(i),g.setMonth(j),g.setDate(k),e.push(new Date(g))}else g=Ext.Date.add(g,n,o),e++;return d&&(g=b),l?{from:+f,to:+g,steps:e}:{from:+f,to:+g,step:(g-f)/e,steps:e}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return 180*a/Math.PI%360},withinBox:function(a,b,c){return c=c||{},a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b,c,d,e,f=this,g=a.type||"linear",h=a.angle||0,i=f.radian,j=a.stops,k=[];"linear"==g&&(c=[0,0,Math.cos(h*i),Math.sin(h*i)],d=1/(Math.max(Math.abs(c[2]),Math.abs(c[3]))||1),c[2]*=d,c[3]*=d,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0));for(b in j)j.hasOwnProperty(b)&&f.stopsRE.test(b)&&(e={offset:parseInt(b,10),color:Ext.draw.Color.toHex(j[b].color)||"#ffffff",opacity:j[b].opacity||1},k.push(e));return Ext.Array.sort(k,f.sorter),"linear"==g?{id:a.id,type:g,vector:c,stops:k}:{id:a.id,type:g,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:c,stops:k}}},0,0,0,0,0,0,[Ext.draw,"Draw"],0),Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){c="number"==typeof c?c:1;var f,g,h=this.unitRE,i=h.exec(a);return i&&(a=i[1],g=i[2],this.scrollRE.test(e)||g||!this.pixelDefaultsRE.test(e)||(g="px")),a=+a||0,i=h.exec(b),i&&(b=i[1],g=i[2]||g),b=+b||0,f=null!=d?d:a,{from:a,delta:(b-f)*c,units:g}},get:function(a,b,c,d,e){var f,g,h,i,j,k=a.length,l=[];for(f=0;k>f;f++)if(d&&(g=d[f][1].from),Ext.isArray(a[f][1])&&Ext.isArray(b)){for(h=[],i=0,j=a[f][1].length;j>i;i++)h.push(this.computeDelta(a[f][1][i],b[i],c,g,e));l.push([a[f][0],h])}else l.push([a[f][0],this.computeDelta(a[f][1],b,c,g,e)]);return l},set:function(a,b){var c,d,e,f,g,h=a.length,i=[];for(c=0;h>c;c++)if(d=a[c][1],Ext.isArray(d)){for(e=[],g=0,f=d.length;f>g;g++)e.push(d[g].from+d[g].delta*b+(d[g].units||0));i.push([a[c][0],e])}else i.push([a[c][0],d.from+d.delta*b+(d.units||0)]);return i}},stringHandler:{computeDelta:function(a,b){return{from:a,delta:b}},get:function(a,b,c,d,e){var f,g,h=a.length,i=[];for(f=0;h>f;f++)i.push([a[f][0],this.computeDelta(a[f][1],b,c,g,e)]);return i},set:function(a){var b,c,d=a.length,e=[];for(b=0;d>b;b++)c=a[b][1],e.push([a[b][0],c.delta]);return e}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a,b){b="number"==typeof b?b:1;var c,d,e,f,g=!1,h=[this.hexRE,this.rgbRE,this.hex3RE],i=h.length;for(f=0;i>f;f++)if(e=h[f],d=f%2===0?16:10,c=e.exec(a),c&&4===c.length){2===f&&(c[1]+=c[1],c[2]+=c[2],c[3]+=c[3]),g={red:parseInt(c[1],d),green:parseInt(c[2],d),blue:parseInt(c[3],d)};break}return g||a},computeDelta:function(a,b,c,d){a=this.parseColor(a),b=this.parseColor(b,c);var e=d?d:a,f=typeof e,g=typeof b;return"string"==f||"undefined"==f||"string"==g||"undefined"==g?b||e:{from:a,delta:{red:Math.round((b.red-e.red)*c),green:Math.round((b.green-e.green)*c),blue:Math.round((b.blue-e.blue)*c)}}},get:function(a,b,c,d){var e,f,g=a.length,h=[];for(e=0;g>e;e++)d&&(f=d[e][1].from),h.push([a[e][0],this.computeDelta(a[e][1],b,c,f)]);return h},set:function(a,b){var c,d,e,f,g,h=a.length,i=[];for(c=0;h>c;c++)if(d=a[c][1]){if(f=d.from,g=d.delta,d="object"==typeof d&&"red"in d?"rgb("+d.red+", "+d.green+", "+d.blue+")":d,d="object"==typeof d&&d.length?d[0]:d,"undefined"==typeof d)return[];e="string"==typeof d?d:"rgb("+[(f.red+Math.round(g.red*b))%256,(f.green+Math.round(g.green*b))%256,(f.blue+Math.round(g.blue*b))%256].join(",")+")",i.push([a[c][0],e])}return i}},object:{interpolate:function(a,b){b="number"==typeof b?b:1;var c,d={};for(c in a)d[c]=parseFloat(a[c])*b;return d},computeDelta:function(a,b,c,d){a=this.interpolate(a),b=this.interpolate(b,c);var e,f=d?d:a,g={};for(e in b)g[e]=b[e]-f[e];return{from:a,delta:g}},get:function(a,b,c,d){var e,f,g=a.length,h=[];for(e=0;g>e;e++)d&&(f=d[e][1].from),h.push([a[e][0],this.computeDelta(a[e][1],b,c,f)]);return h},set:function(a,b){var c,d,e,f,g,h=a.length,i=[],j={};for(c=0;h>c;c++){f=a[c][1],d=f.from,e=f.delta;for(g in d)j[g]=d[g]+e[g]*b;i.push([a[c][0],j])}return i}},path:{computeDelta:function(a,b,c,d){c="number"==typeof c?c:1;var e;return a=+a||0,b=+b||0,e=null!=d?d:a,{from:a,delta:(b-e)*c}},forcePath:function(a){return Ext.isArray(a)||Ext.isArray(a[0])||(a=Ext.draw.Draw.parsePathString(a)),a},get:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=this.forcePath(b),o=[],p=a.length;for(g=0;p>g;g++){for(m=this.forcePath(a[g][1]),h=Ext.draw.Draw.interpolatePaths(m,n),m=h[0],n=h[1],e=m.length,l=[],j=0;e>j;j++){for(h=[m[j][0]],f=m[j].length,k=1;f>k;k++)i=d&&d[0][1][j][k].from,h.push(this.computeDelta(m[j][k],n[j][k],c,i));l.push(h)}o.push([a[g][0],l])}return o},set:function(a,b){var c,d,e,f,g,h,i,j,k=a.length,l=[];for(c=0;k>c;c++){for(h=a[c][1],f=[],i=h.length,d=0;i>d;d++){for(g=[h[d][0]],j=h[d].length,e=1;j>e;e++)g.push(h[d][e].from+h[d][e].delta*b);f.push(g.join(","))}l.push([a[c][0],f.join(",")])}return l}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){for(var a,b=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],c=b.length,d=0;c>d;d++)a=b[d],this[a]=this.color;for(b=["cursor"],c=b.length,d=0;c>d;d++)a=b[d],this[a]=this.stringHandler}),Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b,c=this;return a=a||{},a.keyframes?new Ext.fx.Animator(a):(Ext.apply(c,a),void 0===c.from&&(c.from={}),c.propHandlers={},c.config=a,c.target=Ext.fx.Manager.createTarget(c.target),c.easingFn=Ext.fx.Easing[c.easing],c.target.dynamic=c.dynamic,c.easingFn||(c.easingFn=String(c.easing).match(c.bezierRE),c.easingFn&&5==c.easingFn.length&&(b=c.easingFn,c.easingFn=Ext.fx.CubicBezier.cubicBezier(+b[1],+b[2],+b[3],+b[4]))),c.id=Ext.id(null,"ext-anim-"),c.addEvents("beforeanimate","afteranimate","lastframe"),c.mixins.observable.constructor.call(c),void Ext.fx.Manager.addAnim(c))},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var a,b,c,d,e=this,f=e.from,g=e.to,h=e.initialFrom||{},i={};for(d in g)g.hasOwnProperty(d)&&(a=e.target.getAttr(d,f[d]),b=g[d],c=e.propHandlers[d]=Ext.fx.PropertyHandler[d]?Ext.fx.PropertyHandler[d]:Ext.isObject(b)?Ext.fx.PropertyHandler.object:Ext.fx.PropertyHandler.defaultHandler,i[d]=c.get(a,b,e.damper,h[d],d));e.currentAttrs=i},start:function(a){var b,c=this,d=c.delay,e=c.delayStart;if(d){if(!e)return void(c.delayStart=a);if(b=a-e,d>b)return;a=new Date(e.getTime()+d)}c.fireEvent("beforeanimate",c)!==!1&&(c.startTime=a,c.paused||c.currentAttrs||c.initAttrs(),c.running=!0,c.frameCount=0)},runAnim:function(a){var b,c,d,e,f=this,g=f.currentAttrs,h=f.duration,i=f.easingFn,j=f.propHandlers,k={};a>=h&&(a=h,e=!0),f.reverse&&(a=h-a);for(d in g)g.hasOwnProperty(d)&&(c=g[d],b=e?1:i(a/h),k[d]=j[d].set(c,b));return f.frameCount++,k},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++,b>c?(a.alternate&&(a.reverse=!a.reverse),a.startTime=new Date,a.currentIteration=c,a.paused=!1):(a.currentIteration=0,a.end(),a.fireEvent("lastframe",a,a.startTime))},endWasCalled:0,end:function(){if(!this.endWasCalled++){var a=this;a.startTime=0,a.paused=!1,a.running=!1,Ext.fx.Manager.removeAnim(a),a.fireEvent("afteranimate",a,a.startTime),Ext.callback(a.callback,a.scope,[a,a.startTime])}},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0),Ext.enableFx=!0,Ext.cmd.derive("Ext.util.Animate",Ext.Base,{isAnimate:!0,animate:function(a){var b=this;return Ext.fx.Manager.hasFxBlock(b.id)?b:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a))),this)},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;var b=this;return a.stopAnimation&&b.stopAnimation(),Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id)),Ext.apply({target:b,paused:!0},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{childEls:[],constructor:function(){var a,b=this;b.hasOwnProperty("childEls")&&(a=b.childEls,delete b.childEls,b.addChildEls.apply(b,a))},destroy:function(){var a,b,c,d=this,e=d.getChildEls();for(c=e.length;c--;)b=e[c],"string"!=typeof b&&(b=b.name),a=d[b],a&&(d[b]=null,a.remove())},addChildEls:function(){var a=this,b=arguments;a.hasOwnProperty("childEls")?a.childEls.push.apply(a.childEls,b):a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b)),a.prune(a.childEls,!1)},applyChildEls:function(a,b){var c,d,e,f,g,h=this,i=h.getChildEls();for(c=(b||h.id)+"-",e=i.length;e--;)d=i[e],"string"==typeof d?g=a.getById(c+d):(g=(f=d.select)?Ext.select(f,!0,a.dom):(f=d.selectNode)?Ext.get(Ext.DomQuery.selectNode(f,a.dom)):a.getById(d.id||c+d.itemId),d=d.name),h[d]=g},getChildEls:function(){var a,b=this;return b.hasOwnProperty("childEls")?b.childEls:(a=b.self,a.$childEls||b.getClassChildEls(a))},getClassChildEls:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this,n=a.$childEls;if(!n){k=a.superclass,k?(k=k.self,i=[k.$childEls||m.getClassChildEls(k)],l=k.prototype.mixins||{}):(i=[],l={}),j=a.prototype,g=j.mixins;for(h in g)g.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(f=g[h].self,i.push(f.$childEls||m.getClassChildEls(f)));for(i.push(j.hasOwnProperty("childEls")&&j.childEls),c=0,d=i.length;d>c;++c)b=i[c],b&&b.length&&(n?(e||(e=!0,n=n.slice(0)),n.push.apply(n,b)):n=b);a.$childEls=n=n?m.prune(n,!e):[]}return n},prune:function(a,b){for(var c,d=a.length,e={};d--;)c=a[d],"string"!=typeof c&&(c=c.name),e[c]?(b&&(b=!1,a=a.slice(0)),Ext.Array.erase(a,d,1)):e[c]=1;return a},removeChildEls:function(a){var b,c,d,e=this,f=e.getChildEls(),g=e.childEls=[];for(c=0,b=f.length;b>c;++c)d=f[c],a(d)||g.push(d)}},1,0,0,0,0,0,[Ext.util,"ElementContainer"],0),Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var a,b,c,d,e=this,f={},g=e.protoEl,h=e.el;e.finishRenderChildren(),e.contentEl&&(b=Ext.baseCSSPrefix,c=b+"hide-",d=Ext.get(e.contentEl),d.removeCls([b+"hidden",c+"display",c+"offsets",c+"nosize"]),e.getContentTarget().appendChild(d.dom)),g.writeTo(f),a=f.removed,a&&h.removeCls(a),a=f.cls,a.length&&h.addCls(a),a=f.style,f.style&&h.setStyle(a),e.protoEl=null,e.ownerCt||e.updateLayout()},afterFirstLayout:function(a,b){var c,d,e,f,g=this,h=g.x,i=g.y;g.ownerLayout||(c=Ext.isDefined(h),d=Ext.isDefined(i)),!g.floating||c&&d||(g.floatParent?(e=g.floatParent.getTargetEl().getViewRegion(),f=g.el.getAlignToXY(g.floatParent.getTargetEl(),"c-c"),e.x=f[0]-e.x,e.y=f[1]-e.y):(f=g.el.getAlignToXY(g.container,"c-c"),e=g.container.translateXY(f[0],f[1])),h=c?h:e.x,i=d?i:e.y,c=d=!0),(c||d)&&g.setPosition(h,i),g.onBoxReady(a,b)},applyRenderSelectors:function(){var a,b=this,c=b.renderSelectors,d=b.el,e=d.dom;if(b.applyChildEls(d),c)for(a in c)c.hasOwnProperty(a)&&c[a]&&(b[a]=Ext.get(Ext.DomQuery.selectNode(c[a],e)))},beforeRender:function(){var a=this,b=(a.getTargetEl(),a.getOverflowEl()),c=a.getComponentLayout(),d=a.getOverflowStyle();a.frame=a.frame||a.alwaysFramed,c.initialized||c.initLayout(),b&&(b.setStyle(d),a.overflowStyleSet=!0),a.setUI(a.ui),a.disabled&&a.disable(!0)},doApplyRenderTpl:function(a,b){var c,d=b.$comp;d.rendered||(c=d.initRenderTpl(),c.applyOut(b.renderData,a))},doAutoRender:function(){var a=this;a.rendered||a.render(a.floating?document.body:Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)},doRenderContent:function(a,b){var c=b.$comp;c.html&&(Ext.DomHelper.generateMarkup(c.html,a),delete c.html),c.tpl&&(c.tpl.isTemplate||(c.tpl=new Ext.XTemplate(c.tpl)),c.data&&(c.tpl.applyOut(c.data,a),delete c.data))},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;!d.rendered&&d.doRenderDockedItems&&(b.renderData.$skipDockedItems=!0,d.doRenderDockedItems.call(this,a,b,c))},finishRender:function(a){var b,c,d,e=this;!e.el||e.$pid?(d=e.container?e.container.getById(e.id,!0):Ext.getDom(e.id),e.el?(delete e.$pid,e.el.dom||e.wrapPrimaryEl(e.el),d.parentNode.insertBefore(e.el.dom,d),Ext.removeNode(d)):e.wrapPrimaryEl(d)):e.rendering||(b=e.initRenderTpl(),b&&(c=e.initRenderData(),b.insertFirst(e.getTargetEl(),c))),e.container||(e.container=Ext.get(e.el.dom.parentNode)),e.ctCls&&e.container.addCls(e.ctCls),e.onRender(e.container,a),e.overflowStyleSet||e.getOverflowEl().setStyle(e.getOverflowStyle()),e.el.setVisibilityMode(Ext.Element[e.hideMode.toUpperCase()]),e.overCls&&e.el.hover(e.addOverCls,e.removeOverCls,e),e.hasListeners.render&&e.fireEvent("render",e),e.afterRender(),e.hasListeners.afterrender&&e.fireEvent("afterrender",e),e.initEvents(),e.hidden&&e.el.hide()},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a,b,c,d,e,f,g=this,h=g.autoEl,i=g.getFrameInfo(),j={tag:"div",tpl:i?g.initFramingTpl(i.table):g.initRenderTpl()},k=g.protoEl;if(g.initStyles(k),k.writeTo(j),k.flush(),Ext.isString(h)?j.tag=h:Ext.apply(j,h),j.id=g.id,j.tpl)if(i){for(b=g.frameElNames,c=b.length,j.tplData=f=g.getFrameRenderData(),f.renderData=g.initRenderData(),e=f.fgid,a=0;c>a;a++)d=b[a],g.addChildEls({name:"frame"+d,id:e+d});g.addChildEls({name:"frameBody",id:e+"MC"})}else j.tplData=g.initRenderData();return j},initFramingTpl:function(a){var b=this.getFrameTpl(a);return b&&!b.applyRenderTpl&&this.setupFramingTpl(b),b},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl,a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){return void 0!==a&&(a=Ext.isNumber(a)?this.container.dom.childNodes[a]:Ext.getDom(a)),a},getRenderTree:function(){var a=this;return a.hasListeners.beforerender&&a.fireEvent("beforerender",a)===!1?null:(a.beforeRender(),a.rendering=!0,a.el?{tag:"div",id:a.$pid=Ext.id()}:a.getElConfig())},initContainer:function(a){var b=this;return!a&&b.el&&(a=b.el.dom.parentNode,b.allowDomMove=!1),b.container=a.dom?a:Ext.get(a),b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,childElCls:""},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");return a&&!a.renderContent&&this.setupRenderTpl(a),a},onRender:function(){var a,b,c=this,d=c.x,e=c.y,f=null,g=c.el;c.applyRenderSelectors(),c.rendering=null,c.rendered=!0,null!=d&&(f={x:d}),null!=e&&((f=f||{}).y=e),!c.getFrameInfo()&&Ext.isBorderBox&&(a=c.width,b=c.height,"number"==typeof a&&(f=f||{},f.width=a),"number"==typeof b&&(f=f||{},f.height=b)),c.lastBox=g.lastBox=f},render:function(a,b){var c,d,e,f=this,g=f.el&&(f.el=Ext.get(f.el));Ext.suspendLayouts(),a=f.initContainer(a),e=f.getInsertPosition(b),g?f.hasListeners.beforerender&&f.fireEvent("beforerender",f)===!1?c=!0:(f.beforeRender(),f.initStyles(g),f.allowDomMove!==!1&&(e?a.dom.insertBefore(g.dom,e):a.dom.appendChild(g.dom))):(d=f.getRenderTree(),f.ownerLayout&&f.ownerLayout.transformItemRenderTree&&(d=f.ownerLayout.transformItemRenderTree(d)),d&&(g=e?Ext.DomHelper.insertBefore(e,d):Ext.DomHelper.append(a,d),f.wrapPrimaryEl(g))),g&&!c&&f.finishRender(b),Ext.resumeLayouts(!f.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(a){for(var b,c=this;c.ownerCt;)c=c.ownerCt;c.container.isDetachedBody&&(c.container=b=Ext.getBody(),b.appendChild(c.el.dom),a&&c.updateLayout(),("number"==typeof c.x||"number"==typeof c.y)&&c.setPosition(c.x,c.y))},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,!0)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a,b,c,d,e,f=this,g=f.getFrameInfo(),h=f.frameElNames,i=h.length;if(g)for(a=f.getFrameTpl(g.table),d=f.getFrameRenderData(),b=d.fgid,a.insertFirst(f.el,d),f.frameBody=f.el.down("."+f.frameCls+"-mc"),f.removeChildEls(function(a){return a.id&&f.frameIdRegex.test(a.id)}),c=0;i>c;c++)e=h[c],f["frame"+e]=f.el.getById(b+e)}},getFrameRenderData:function(){var a=this,b=a.frameSize,c=(a.frameGenId||0)+1;return a.frameGenId=c,{$comp:a,fgid:a.id+"-frame"+c,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:""}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a,b=this,c=b.frameSize&&b.frameSize.table,d=b.frameTL,e=b.frameBL,f=b.frameML,g=b.frameMC;b.initFrame(),g?b.frame&&(a=b.frameMC.dom.className,g.insertAfter(b.frameMC),b.frameMC.remove(),b.frameBody=b.frameMC=g,g.dom.className=a,c?b.el.query("> table")[1].remove():(d&&d.remove(),e&&e.remove(),f&&f.remove())):b.frame&&b.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.frameInfoCache,u=s.getFramingInfoCls()+"-frameInfo",v=t[u],w=Math.max;return null==v&&(a=Ext.fly(s.getStyleProxy(u),"frame-style-el"),b=a.getStyle("font-family"),b?(b=b.split("-"),o=parseInt(b[1],10),p=parseInt(b[2],10),q=parseInt(b[3],10),r=parseInt(b[4],10),g=parseInt(b[5],10),h=parseInt(b[6],10),i=parseInt(b[7],10),j=parseInt(b[8],10),k=parseInt(b[9],10),l=parseInt(b[10],10),m=parseInt(b[11],10),n=parseInt(b[12],10),c=w(g,w(o,p)),d=w(h,w(p,q)),e=w(i,w(r,q)),f=w(j,w(o,r)),v={table:"t"===b[0].charAt(0),vertical:"v"===b[0].charAt(1),top:c,right:d,bottom:e,left:f,width:f+d,height:c+e,maxWidth:w(c,d,e,f),border:{top:g,right:h,bottom:i,left:j,width:j+h,height:g+i},padding:{top:k,right:l,bottom:m,left:n,width:n+l,height:k+m},radius:{tl:o,tr:p,br:q,bl:r}}):v=!1,t[u]=v),s.frame=!!v,s.frameSize=v,v},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return b.className=a,b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}},0,0,0,0,0,0,[Ext.util,"Renderable"],0),Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(a){a=a||{};var b=this;Ext.apply(b,a),b.addEvents("statechange"),b.state={},b.mixins.observable.constructor.call(b)},get:function(a,b){return"undefined"==typeof this.state[a]?b:this.state[a]},clear:function(a){var b=this;delete b.state[a],b.fireEvent("statechange",b,a,null)},set:function(a,b){var c=this;c.state[a]=b,c.fireEvent("statechange",c,a,b)},decodeValue:function(a){var b,c,d,e,f,g,h=this,i=/^(a|n|d|b|s|o|e)\:(.*)$/,j=i.exec(unescape(a));if(j&&j[1])switch(c=j[1],a=j[2],c){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return"1"==a;case"a":if(b=[],""!=a)for(e=a.split("^"),f=e.length,g=0;f>g;g++)a=e[g],b.push(h.decodeValue(a));return b;case"o":if(b={},""!=a)for(e=a.split("^"),f=e.length,g=0;f>g;g++)a=e[g],d=a.split("="),b[d[0]]=h.decodeValue(d[1]);return b;default:return a}},encodeValue:function(a){var b,c,d,e="",f=0;if(null==a)return"e:1";if("number"==typeof a)b="n:"+a;else if("boolean"==typeof a)b="b:"+(a?"1":"0");else if(Ext.isDate(a))b="d:"+a.toGMTString();else if(Ext.isArray(a)){for(c=a.length;c>f;f++)e+=this.encodeValue(a[f]),f!=c-1&&(e+="^");b="a:"+e}else if("object"==typeof a){for(d in a)"function"!=typeof a[d]&&void 0!==a[d]&&(e+=d+"="+this.encodeValue(a[d])+"^");b="o:"+e.substring(0,e.length-1)}else b="s:"+a;return escape(b)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0),Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0),Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{stateful:!1,saveDelay:100,constructor:function(a){var b=this;a=a||{},void 0!==a.stateful&&(b.stateful=a.stateful),void 0!==a.saveDelay&&(b.saveDelay=a.saveDelay),b.stateId=b.stateId||a.stateId,b.stateEvents||(b.stateEvents=[]),a.stateEvents&&b.stateEvents.concat(a.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),b.mixins.observable.constructor.call(b),b.stateful!==!1&&(b.addStateEvents(b.stateEvents),b.initState())},addStateEvents:function(a){var b,c,d,e=this;if(e.stateful&&e.getStateId())for("string"==typeof a&&(a=Array.prototype.slice.call(arguments,0)),d=e.stateEventsByName||(e.stateEventsByName={}),b=a.length;b--;)c=a[b],d[c]||(d[c]=1,e.on(c,e.onStateChange,e))},onStateChange:function(){var a,b,c=this,d=c.saveDelay;c.stateful&&(d?(c.stateTask||(a=Ext.state.Stateful,b=a.runner||(a.runner=new Ext.util.TaskRunner),c.stateTask=b.newTask({run:c.saveState,scope:c,interval:d,repeat:1})),c.stateTask.start()):c.saveState())},saveState:function(){var a,b=this,c=b.stateful&&b.getStateId(),d=b.hasListeners;c&&(a=b.getState()||{},d.beforestatesave&&b.fireEvent("beforestatesave",b,a)===!1||(Ext.state.Manager.set(c,a),d.statesave&&b.fireEvent("statesave",b,a)))},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a,b=this,c=b.stateful&&b.getStateId(),d=b.hasListeners;c&&(a=Ext.state.Manager.get(c),a&&(a=Ext.apply({},a),d.beforestaterestore&&b.fireEvent("beforestaterestore",b,a)===!1||(b.applyState(a),d.staterestore&&b.fireEvent("staterestore",b,a))))},savePropToState:function(a,b,c){var d=this,e=d[a],f=d.initialConfig;return!d.hasOwnProperty(a)||f&&f[a]===e?!1:(b&&(b[c||a]=e),!0)},savePropsToState:function(a,b){var c,d,e=this;if("string"==typeof a)e.savePropToState(a,b);else for(c=0,d=a.length;d>c;++c)e.savePropToState(a[c],b);return b},destroy:function(){var a=this,b=a.stateTask;b&&(b.destroy(),a.stateTask=null),a.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Stateful"],0),Ext.cmd.derive("Ext.AbstractComponent",Ext.Base,{statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;c&&c.cancelComponent(a,!1,b)},flushLayouts:function(){var a=this,b=a.pendingLayouts;b&&b.invalidQueue.length&&(a.pendingLayouts=null,a.runningLayoutContext=b,Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;var b=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),b}}),b.run())},resumeLayouts:function(a){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(a&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c,d=this,e=d.runningLayoutContext;e?e.queueInvalidate(a):(c=d.pendingLayouts||(d.pendingLayouts=new Ext.layout.Context),c.queueInvalidate(a),b||d.layoutSuspendCount||a.isLayoutSuspended()||d.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(a){var b,c,d,e=this;
if(a?(Ext.apply(e,a),d=e.xhooks,d&&(delete e.xhooks,Ext.override(e,d))):a={},e.initialConfig=a,e.mixins.elementCt.constructor.call(e),e.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),e.getId(),e.setupProtoEl(),e.cls&&(e.initialCls=e.cls,e.protoEl.addCls(e.cls)),e.style&&(e.initialStyle=e.style,e.protoEl.setStyle(e.style)),e.renderData=e.renderData||{},e.renderSelectors=e.renderSelectors||{},e.plugins&&(e.plugins=e.constructPlugins()),e.hasListeners||(e.hasListeners=new e.HasListeners),e.initComponent(),Ext.ComponentManager.register(e),e.mixins.observable.constructor.call(e),e.mixins.state.constructor.call(e,a),this.addStateEvents("resize"),e.plugins)for(b=0,c=e.plugins.length;c>b;b++)e.plugins[b]=e.initPlugin(e.plugins[b]);e.loader=e.getLoader(),e.renderTo&&e.render(e.renderTo),e.autoShow&&!e.isContained&&e.show()},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var a=this,b=null,c=a.getSizeModel();return c.width.configured&&(b=a.addPropertyToState(b,"width")),c.height.configured&&(b=a.addPropertyToState(b,"height")),b},addPropertyToState:function(a,b,c){var d=this,e=arguments.length;return(3==e||d.hasOwnProperty(b))&&(3>e&&(c=d[b]),c!==d.initialConfig[b]&&((a||(a={}))[b]=c)),a},show:Ext.emptyFn,animate:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;return a=a||{},f=a.to||{},Ext.fx.Manager.hasFxBlock(r.id)?r:(b=Ext.isDefined(f.width),b&&(e=Ext.Number.constrain(f.width,r.minWidth,r.maxWidth)),c=Ext.isDefined(f.height),c&&(d=Ext.Number.constrain(f.height,r.minHeight,r.maxHeight)),a.dynamic||!b&&!c||(i=(a.from?a.from.width:void 0)||r.getWidth(),j=i,k=(a.from?a.from.height:void 0)||r.getHeight(),l=k,m=!1,c&&d>k&&(l=d,m=!0),b&&e>i&&(j=e,m=!0),(c||b)&&(q=r.el.getStyle("overtflow"),"hidden"!==q&&r.el.setStyle("overflow","hidden")),m&&(g=!Ext.isNumber(r.width),h=!Ext.isNumber(r.height),r.setSize(j,l),r.el.setSize(i,k),g&&delete r.width,h&&delete r.height),b&&(f.width=e),c&&(f.height=d)),n=r.constrain,o=r.constrainHeader,(n||o)&&(r.constrain=r.constrainHeader=!1,p=a.callback,a.callback=function(){r.constrain=n,r.constrainHeader=o,p&&p.call(a.scope||r,arguments),"hidden"!==q&&r.el.setStyle("overflow",q)}),r.mixins.animate.animate.apply(r,arguments))},setHiddenState:function(a){var b=this.getHierarchyState();this.hidden=a,a?b.hidden=!0:delete b.hidden},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(a){var b=this;return a="string"==typeof a?Ext.PluginManager.create({},a,b):Ext.PluginManager.create(a,null,b)},constructPlugins:function(){var a,b,c,d=this,e=d.plugins;if(e)for(a=[],Ext.isArray(e)||(e=[e]),b=0,c=e.length;c>b;b++)a[b]=d.constructPlugin(e[b]);return d.pluginsInitialized=!0,a},initPlugin:function(a){return a.init(this),a},addPlugin:function(a){var b=this;return a=b.constructPlugin(a),b.plugins?b.plugins.push(a):b.plugins=[a],b.pluginsInitialized&&b.initPlugin(a),a},removePlugin:function(a){Ext.Array.remove(this.plugins,a),a.destroy()},findPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;d>b;b++)if(c[b].ptype===a)return c[b]},getPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;d>b;b++)if(c[b].pluginId===a)return c[b]},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(a){var b=this;b.floatingDescendants||(b.floatingDescendants=new Ext.ZIndexManager(b)),b.floatingDescendants.register(a)},unregisterFloatingItem:function(a){var b=this;b.floatingDescendants&&b.floatingDescendants.unregister(a)},layoutSuspendCount:0,suspendLayouts:function(){var a=this;a.rendered&&1==++a.layoutSuspendCount&&(a.suspendLayout=!0)},resumeLayouts:function(a){var b=this;b.rendered&&(--b.layoutSuspendCount||(b.suspendLayout=!1,a&&!b.isLayoutSuspended()&&b.updateLayout(a)))},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},initCls:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];return Ext.isDefined(a.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),a.componentCls=a.cmpCls,delete a.cmpCls),a.componentCls?b.push(a.componentCls):a.componentCls=a.baseCls,b},setUI:function(a){var b,c=this,d=c.uiCls,e=c.activeUI;a!==e&&(e?(b=c.removeClsWithUI(d,!0),b.length&&c.removeCls(b),c.removeUIFromElement()):c.uiCls=[],c.ui=a,c.activeUI=a,c.addUIToElement(),b=c.addClsWithUI(d,!0),b.length&&c.addCls(b),c.rendered&&c.updateLayout())},addClsWithUI:function(a,b){var c,d,e=this,f=[],g=0,h=e.uiCls=Ext.Array.clone(e.uiCls),i=e.activeUI;for("string"==typeof a&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)),c=a.length;c>g;g++)d=a[g],d&&!e.hasUICls(d)&&(h.push(d),i&&(f=f.concat(e.addUIClsToElement(d))));return b!==!0&&i&&e.addCls(f),f},removeClsWithUI:function(a,b){var c,d,e=this,f=[],g=0,h=Ext.Array,i=h.remove,j=e.uiCls=h.clone(e.uiCls),k=e.activeUI;for("string"==typeof a&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)),c=a.length,g=0;c>g;g++)d=a[g],d&&e.hasUICls(d)&&(i(j,d),k&&(f=f.concat(e.removeUIClsFromElement(d))));return b!==!0&&k&&e.removeCls(f),f},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(a){var b,c,d,e,f,g=this,h=g.baseCls+"-"+g.ui+"-"+a,i=[Ext.baseCSSPrefix+a,g.baseCls+"-"+a,h];if(g.rendered&&g.frame&&!Ext.supports.CSS3BorderRadius)for(b=g.frameElementsArray,c=b.length,d=0;c>d;d++)f=b[d],e=g["frame"+f.toUpperCase()],e&&e.addCls(h+"-"+f);return i},removeUIClsFromElement:function(a){var b,c,d,e,f,g=this,h=g.baseCls+"-"+g.ui+"-"+a,i=[Ext.baseCSSPrefix+a,g.baseCls+"-"+a,h];if(g.rendered&&g.frame&&!Ext.supports.CSS3BorderRadius)for(b=g.frameElementsArray,c=b.length,d=0;c>d;d++)f=b[d],e=g["frame"+f.toUpperCase()],e&&e.removeCls(h+"-"+f);return i},addUIToElement:function(){var a,b,c,d,e,f=this,g=f.baseCls+"-"+f.ui;if(f.addCls(g),f.rendered&&f.frame&&!Ext.supports.CSS3BorderRadius)for(a=f.frameElementsArray,b=a.length,c=0;b>c;c++)e=a[c],d=f["frame"+e.toUpperCase()],d&&d.addCls(g+"-"+e)},removeUIFromElement:function(){var a,b,c,d,e,f=this,g=f.baseCls+"-"+f.ui;if(f.removeCls(g),f.rendered&&f.frame&&!Ext.supports.CSS3BorderRadius)for(a=f.frameElementsArray,b=a.length,c=0;b>c;c++)e=a[c],d=f["frame"+e.toUpperCase()],d&&d.removeCls(g+"-"+e)},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(a){var b,c,d=this,e=(Ext.Element,d.margin),f=d.border,g=d.cls,h=d.style,i=d.x,j=d.y;d.initPadding(a),null!=e&&a.setStyle("margin",this.unitizeBox(e===!0?5:e)),null!=f&&d.setBorder(f,a),g&&g!=d.initialCls&&(a.addCls(g),d.cls=d.initialCls=null),h&&h!=d.initialStyle&&(a.setStyle(h),d.style=d.initialStyle=null),null!=i&&a.setStyle(d.horizontalPosProp,"number"==typeof i?i+"px":i),null!=j&&a.setStyle("top","number"==typeof j?j+"px":j),!Ext.isBorderBox||d.ownerCt&&!d.floating||a.addCls(d.borderBoxCls),d.getFrameInfo()||(b=d.width,c=d.height,null!=b&&("number"==typeof b?Ext.isBorderBox&&a.setStyle("width",b+"px"):a.setStyle("width",b)),null!=c&&("number"==typeof c?Ext.isBorderBox&&a.setStyle("height",c+"px"):a.setStyle("height",c)))},initPadding:function(a){var b=this,c=b.padding;null!=c&&(b.layout&&b.layout.managePadding&&"padding"===b.contentPaddingProperty?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(c===!0?5:c)))},parseBox:function(a){return Ext.dom.Element.parseBox(a)},unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(a,b){var c=this;c.rendered?(a||0===a?(a===!0&&(a=5),a=this.unitizeBox(a)):a="",c.getTargetEl().setStyle("margin",a),b||c.updateLayout()):c.margin=a},initEvents:function(){var a,b,c,d,e,f=this,g=f.afterRenderEvents;if(g)for(c in g)if(b=f[c],b&&b.on)for(a=g[c],d=0,e=a.length;e>d;++d)f.mon(b,a[d]);f.addFocusListener()},addFocusListener:function(){var a,b=this,c=b.getFocusEl();if(c){if(c.isComponent)return c.addFocusListener();a=c.needsTabIndex(),b.focusListenerAdded||a&&!Ext.FocusManager.enabled||(a&&(c.dom.tabIndex=-1),c.on({focus:b.onFocus,blur:b.onBlur,scope:b}),b.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a,b=this;return b.focusable!==!1&&(a=b.getFocusEl())&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(!0)?a.isFocusable(!0):void 0},beforeFocus:Ext.emptyFn,onFocus:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();b.disabled||(b.beforeFocus(a),c&&d&&d.addCls(b.addClsWithUI(c,!0)),b.hasFocus||(b.hasFocus=!0,b.fireEvent("focus",b,a)))},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();b.destroying||(b.beforeBlur(a),c&&d&&d.removeCls(b.removeClsWithUI(c,!0)),b.validateOnBlur&&b.validate(),b.hasFocus=!1,b.fireEvent("blur",b,a),b.postBlur(a))},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a,b){var c=this.getRefOwner(),d="string"==typeof b,e="number"==typeof b,f=b&&b.isComponent,g=0;if(a)for(;c;c=c.getRefOwner()){if(g++,a.isComponent){if(c===a)return c}else if(Ext.ComponentQuery.is(c,a))return c;if(d&&c.is(b))return;if(e&&g===b)return;if(f&&c===b)return}return c},nextSibling:function(a){var b,c,d,e,f=this.ownerCt;if(f&&(b=f.items,d=b.indexOf(this)+1))if(a){for(c=b.getCount();c>d;d++)if((e=b.getAt(d)).is(a))return e}else if(d<b.getCount())return b.getAt(d);return null},previousSibling:function(a){var b,c,d,e=this.ownerCt;if(e&&(b=e.items,c=b.indexOf(this),-1!=c))if(a){for(--c;c>=0;c--)if((d=b.getAt(c)).is(a))return d}else if(c)return b.getAt(--c);return null},previousNode:function(a,b){var c,d,e,f,g=this,h=g.ownerCt;if(b&&g.is(a))return g;if(h){for(d=h.items.items,e=Ext.Array.indexOf(d,g)-1;e>-1;e--){if(f=d[e],f.query&&(c=f.query(a),c=c[c.length-1]))return c;if(f.is(a))return f}return h.previousNode(a,!0)}return null},nextNode:function(a,b){var c,d,e,f,g,h=this,i=h.ownerCt;if(b&&h.is(a))return h;if(i){for(d=i.items.items,f=Ext.Array.indexOf(d,h)+1,e=d.length;e>f;f++){if(g=d[f],g.is(a))return g;if(g.down&&(c=g.down(a)))return c}return i.nextNode(a)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a,b,c,d=this,e=null;return"boolean"==typeof d.autoScroll?(e={overflow:c=d.autoScroll?"auto":""},d.scrollFlags={overflowX:c,overflowY:c,x:!0,y:!0,both:!0}):(a=d.overflowX,b=d.overflowY,void 0!==a||void 0!==b?(e={overflowX:a=a||"",overflowY:b=b||""},d.scrollFlags={overflowX:a,overflowY:b,x:a="auto"===a||"scroll"===a,y:b="auto"===b||"scroll"===b,both:a&&b}):d.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),e&&Ext.isIE7m&&(e.position="relative"),e},isXType:function(a,b){return b?this.xtype===a:this.xtypesMap[a]},getXTypes:function(){var a,b,c,d=this.self;if(!d.xtypes){for(a=[],b=this;b;)c=b.xtypes,void 0!==c&&a.unshift.apply(a,c),b=b.superclass;d.xtypeChain=a,d.xtypes=a.join("/")}return d.xtypes},update:function(a,b,c){var d,e=this,f=e.tpl&&!Ext.isString(a);f?e.data=a:e.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a,e.rendered&&(d=e.isContainer?e.layout.getRenderTarget():e.getTargetEl(),f?e.tpl[e.tplWriteMode](d,a||{}):d.update(e.html,b,c),e.updateLayout())},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(a){var b,c=this;return c.hidden||!c.rendered||c.isDestroyed?b=!0:a&&(b=c.isHierarchicallyHidden()),!b},isHierarchicallyHidden:function(){for(var a,b,c=this,d=!1;a=c.ownerCt||c.floatParent;c=a){if(b=a.getHierarchyState(),b.hidden){d=!0;break}if(!c.getHierarchyState().collapseImmune){d=!!b.collapsed;break}if(a.collapsed&&!c.collapseImmune){d=!0;break}}return d},onBoxReady:function(a,b){var c=this;c.disableOnBoxReady?c.onDisable():c.enableOnBoxReady&&c.onEnable(),c.resizable&&c.initResizable(c.resizable),c.draggable&&c.initDraggable(),c.hasListeners.boxready&&c.fireEvent("boxready",c,a,b)},enable:function(a){var b=this;return delete b.disableOnBoxReady,b.removeCls(b.disabledCls),b.rendered?b.onEnable():b.enableOnBoxReady=!0,b.disabled=!1,delete b.resetDisable,a!==!0&&b.fireEvent("enable",b),b},disable:function(a){var b=this;return delete b.enableOnBoxReady,b.addCls(b.disabledCls),b.rendered?b.onDisable():b.disableOnBoxReady=!0,b.disabled=!0,a!==!0&&(delete b.resetDisable,b.fireEvent("disable",b)),b},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var a=this,b=a.focusCls,c=a.getFocusEl();b&&c&&c.removeCls(a.removeClsWithUI(b,!0)),a.maskOnDisable&&(a.el.dom.disabled=!0,a.mask())},mask:function(){var a=this.lastBox,b=this.getMaskTarget(),c=[];a&&(c[2]=a.height),b.mask.apply(b,c)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.addCls.apply(b,arguments),a},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.removeCls.apply(b,arguments),a},addOverCls:function(){var a=this;a.disabled||a.el.addCls(a.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,b,c,d){var e,f,g=this;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){e=b,b={},b[a]=e,a=d.element,c&&(b.scope=c);for(f in d)d.hasOwnProperty(f)&&g.eventOptionsRe.test(f)&&(b[f]=d[f])}return void(g[a]&&g[a].on?g.mon(g[a],b):(g.afterRenderEvents=g.afterRenderEvents||{},g.afterRenderEvents[a]||(g.afterRenderEvents[a]=[]),g.afterRenderEvents[a].push(b)))}return g.mixins.observable.addListener.apply(g,arguments)},removeManagedListenerItem:function(a,b,c,d,e,f){var g=this,h=b.options?b.options.element:null;return h?(h=g[h],void(h&&h.un&&(!a&&(b.item!==c||b.ename!==d||e&&b.fn!==e||f&&b.scope!==f)||(h.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(g.managedListeners,b))))):g.mixins.observable.removeManagedListenerItem.apply(g,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){var c=this;c.ownerCt=a,c.hierarchyState&&(c.hierarchyState.invalid=!0,delete c.hierarchyState),c.hasListeners.added&&c.fireEvent("added",c,a,b)},onRemoved:function(){var a=this;a.hasListeners.removed&&a.fireEvent("removed",a,a.ownerCt),delete a.ownerCt,delete a.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(a,b,c,d){var e=this;e.floating&&e.constrain&&e.doConstrain(),e.hasListeners.resize&&e.fireEvent("resize",e,a,b,c,d)},setSize:function(a,b){var c=this;return a&&"object"==typeof a&&(b=a.height,a=a.width),"number"==typeof a?c.width=Ext.Number.constrain(a,c.minWidth,c.maxWidth):null===a&&delete c.width,"number"==typeof b?c.height=Ext.Number.constrain(b,c.minHeight,c.maxHeight):null===b&&delete c.height,c.rendered&&c.isVisible()&&c.updateLayout({isRoot:!1}),c},isLayoutRoot:function(){var a=this,b=a.ownerLayout;return!b||a._isLayoutRoot||a.floating?!0:b.isItemLayoutRoot(a)},isLayoutSuspended:function(){for(var a,b=this;b;){if(b.layoutSuspendCount||b.suspendLayout)return!0;if(a=b.ownerLayout,!a)break;b=a.owner}return!1},updateLayout:function(a){var b,c=this,d=c.lastBox,e=a&&a.isRoot;d&&(d.invalid=!0),!c.rendered||c.layoutSuspendCount||c.suspendLayout||(c.hidden?Ext.AbstractComponent.cancelLayout(c):"boolean"!=typeof e&&(e=c.isLayoutRoot()),!e&&c.ownerLayout&&c.ownerLayout.onContentChange(c)||c.isLayoutSuspended()||(b=a&&a.hasOwnProperty("defer")?a.defer:c.deferLayouts,Ext.AbstractComponent.updateLayout(c,b)))},getSizeModel:function(a){var b,c,d,e,f,g,h,i,j,k,l=this,m=Ext.layout.SizeModel,n=l.componentLayout.ownerContext,o=l.width,p=l.height;return n&&(k=n.widthModel,f=n.heightModel),k&&f||(d="number"==(b=typeof o),e="number"==(c=typeof p),j=l.floating||!(g=l.ownerLayout),j?(h=Ext.layout.Layout.prototype.autoSizePolicy,i=l.floating?3:l.shrinkWrap,d&&(k=m.configured),e&&(f=m.configured)):(h=g.getItemSizePolicy(l,a),i=g.isItemShrinkWrap(l)),n&&(n.ownerSizePolicy=h),i=i===!0?3:i||0,j&&i&&(o&&"string"==b&&(i&=2),p&&"string"==c&&(i&=1)),3!==i&&(a||(a=l.ownerCt&&l.ownerCt.getSizeModel()),a&&(i|=(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0))),k||(k=h.setsWidth?h.readsWidth?d?m.calculatedFromConfigured:1&i?m.calculatedFromShrinkWrap:m.calculatedFromNatural:m.calculated:d?m.configured:1&i?m.shrinkWrap:m.natural),f||(f=h.setsHeight?h.readsHeight?e?m.calculatedFromConfigured:2&i?m.calculatedFromShrinkWrap:m.calculatedFromNatural:m.calculated:e?m.configured:2&i?m.shrinkWrap:m.natural)),k.pairsByHeightOrdinal[f.ordinal]},isDescendant:function(a){if(a.isContainer)for(var b=this.ownerCt;b;b=b.ownerCt)if(b===a)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(a){var b=this.componentLayout;b&&b.isLayout&&b!=a&&b.setOwner(null),this.componentLayout=a,a.setOwner(this)},getComponentLayout:function(){var a=this;return a.componentLayout&&a.componentLayout.isLayout||a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent")),a.componentLayout},afterComponentLayout:function(a,b,c,d){var e=this;1===++e.componentLayoutCounter&&e.afterFirstLayout(a,b),(a!==c||b!==d)&&e.onResize(a,b,c,d)},beforeComponentLayout:function(){return!0},setPosition:function(a,b,c){var d=this,e=d.beforeSetPosition.apply(d,arguments);return e&&d.rendered&&(a=e.x,b=e.y,c?(a!==d.getLocalX()||b!==d.getLocalY())&&(d.stopAnimation(),d.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(d.afterSetPosition,d,[a,b])},to:{x:a,y:b}},c))):(d.setLocalXY(a,b),d.afterSetPosition(a,b))),d},beforeSetPosition:function(a,b,c){var d,e;return a&&(Ext.isNumber(e=a[0])?(c=b,b=a[1],a=e):void 0!==(e=a.x)&&(c=b,b=a.y,a=e)),(this.constrain||this.constrainHeader)&&(d=this.calculateConstrainedPosition(null,[a,b],!0),d&&(a=d[0],b=d[1])),d={x:this.x=a,y:this.y=b,anim:c,hasX:void 0!==a,hasY:void 0!==b},d.hasX||d.hasY?d:null},afterSetPosition:function(a,b){var c=this;c.onPosition(a,b),c.hasListeners.move&&c.fireEvent("move",c,a,b)},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(void 0,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this,b=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,c=a.loader||b;return c?(c.isLoader?c.setTarget(a):a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:b},c)),a.loader):null},setDocked:function(a,b){var c=this;return c.dock=a,b&&c.ownerCt&&c.rendered&&c.ownerCt.updateLayout(),c},setBorder:function(a,b){var c=this,d=!!b;(c.rendered||d)&&(d||(b=c.el),a=a?a===!0?"1px":this.unitizeBox(a):0,b.setStyle("border-width",a),d||c.updateLayout()),c.border=a},onDestroy:function(){var a=this;a.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(a.setSize,a),Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var a,b,c=this,d=c.renderSelectors;if(!(c.isDestroyed||c.hasListeners.beforedestroy&&c.fireEvent("beforedestroy",c)===!1)){if(c.destroying=!0,c.beforeDestroy(),c.floating?(delete c.floatParent,c.zIndexManager&&c.zIndexManager.unregister(c)):c.ownerCt&&c.ownerCt.remove&&c.ownerCt.remove(c,!1),c.stopAnimation(),c.onDestroy(),Ext.destroy(c.plugins),c.hasListeners.destroy&&c.fireEvent("destroy",c),Ext.ComponentManager.unregister(c),c.mixins.state.destroy.call(c),c.clearListeners(),c.rendered){if(c.preserveElOnDestroy||c.el.remove(),c.mixins.elementCt.destroy.call(c),d)for(a in d)d.hasOwnProperty(a)&&(b=c[a],b&&(delete c[a],b.remove()));delete c.el,delete c.frameBody,delete c.rendered}c.destroying=!1,c.isDestroyed=!0}},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})},getHierarchyState:function(a){var b,c,d,e,f=this,g=a&&f.hierarchyStateInner||f.hierarchyState,h=f.ownerCt;return(!g||g.invalid)&&(b=f.getRefOwner(),h&&(e=f.ownerLayout===h.layout),f.hierarchyState=g=Ext.Object.chain(b?b.getHierarchyState(e):Ext.rootHierarchyState),f.initHierarchyState(g),(c=f.componentLayout).initHierarchyState&&c.initHierarchyState(g),f.isContainer&&(f.hierarchyStateInner=d=Ext.Object.chain(g),c=f.layout,c&&c.initHierarchyState&&c.initHierarchyState(d,g),a&&(g=d))),g},initHierarchyState:function(a){var b=this;b.collapsed&&(a.collapsed=!0),b.hidden&&(a.hidden=!0),b.collapseImmune&&(a.collapseImmune=!0)},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(a,b){this.el.setXY(a,b)},setY:function(a,b){this.el.setY(a,b)}},1,0,0,0,0,[["positionable",Ext.util.Positionable],["observable",Ext.util.Observable],["animate",Ext.util.Animate],["elementCt",Ext.util.ElementContainer],["renderable",Ext.util.Renderable],["state",Ext.state.Stateful]],[Ext,"AbstractComponent"],function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(b){a.resumeLayouts(b)},Ext.suspendLayouts=function(){a.suspendLayouts()},Ext.batchLayouts=function(b,c){a.suspendLayouts(),b.call(c),a.resumeLayouts(!0)}}),Ext.cmd.derive("Ext.AbstractPlugin",Ext.Base,{disabled:!1,isPlugin:!0,constructor:function(a){this.pluginConfig=a,Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(a,b){var c=b.alias;c&&!b.ptype&&(Ext.isArray(c)&&(c=c[0]),a.prototype.ptype=c.split("plugin.")[1])}},1,0,0,0,0,0,[Ext,"AbstractPlugin"],0),Ext.cmd.derive("Ext.Action",Ext.Base,{constructor:function(a){this.initialConfig=a,this.itemId=a.itemId=a.itemId||a.id||Ext.id(),this.items=[]},isAction:!0,setText:function(a){this.initialConfig.text=a,this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a,this.callEach("setIconCls",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a,this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a,this.callEach("setVisible",[!a])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a,this.initialConfig.scope=b,this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,a,b)},callEach:function(a,b){var c,d=this.items,e=0,f=d.length;for(Ext.suspendLayouts();f>e;e++)c=d[e],c[a].apply(c,b);Ext.resumeLayouts(!0)},addComponent:function(a){this.items.push(a),a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,"Action"],0),Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.globalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(a,b,c){var d;d=this.liveConnections[Number(a)],d&&d.onFlashStateChange(b,c)},registerConnection:function(a){var b=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[b]=a,b},injectFlashPlugin:function(){var a,b,c,d,e,f,g=this;d=document.createElement("img"),d.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif"),d.setAttribute("alt","Get Adobe Flash player"),c=document.createElement("a"),c.setAttribute("href","http://www.adobe.com/go/getflashplayer"),c.appendChild(d),b=document.createElement("p"),b.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.",a=document.createElement("div"),a.setAttribute("id","ext-flash-polyfill"),a.appendChild(b),a.appendChild(d),Ext.getBody().dom.appendChild(a),e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),f="/plugins/flash/FlashPlugin.swf",Ext.flashPluginPath&&(f=Ext.flashPluginPath),Ext.Loader.loadScript({url:e,onLoad:function(){var a="11.4.0",b="playerProductInstall.swf",c={},d={};d.quality="high",d.bgcolor="#ffffff",d.allowscriptaccess="sameDomain",d.allowfullscreen="true";var e={};e.id="ext-flash-polyfill",e.name="polyfill",e.align="middle",swfobject.embedSWF(f,"ext-flash-polyfill","0","0",a,b,c,d,e)},onError:function(){},scope:g}),Ext.globalEvents.addEvents("flashready"),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();var b=this;Ext.apply(b,a),b.requestHeaders={}},abort:function(){var a=this;if(4!=a.readyState){if(a.aborted=!0,!Ext.data.flash.BinaryXhr.flashPluginActive)return void Ext.globalEvents.removeListener("flashready",a.onFlashReady,a);Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}},getAllResponseHeaders:function(){var a=[];return Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)}),a.join("\r\n")},getResponseHeader:function(a){var b=this.responseHeaders;return b&&b[a]||null},open:function(a,b,c,d,e){var f=this;f.method=a,f.url=b,f.async=c!==!1,f.user=d,f.password=e},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.globalEvents.addListener("flashready",b.onFlashReady,b)},onFlashReady:function(){var a,b,c=this;c.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(c),a={method:c.method,url:c.url,user:c.user,password:c.password,mimeType:c.mimeType,requestHeaders:c.requestHeaders,body:c.body,javascriptId:c.javascriptId},b=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(a)},setReadyState:function(a){var b=this;b.readyState!=a&&(b.readyState=a,b.onreadystatechange())},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0,b.responseHeaders={},b.mimeType&&(b.responseHeaders["content-type"]=b.mimeType),"complete"==a.reason?(this.responseBytes=a.data,b.responseHeaders["content-length"]=a.data.length):("error"==a.reason||"securityError"==a.reason)&&(this.statusText=a.text,b.responseHeaders["content-length"]=0)},onFlashStateChange:function(a,b){var c=this;4==a&&(c.parseData(b),delete Ext.data.flash.BinaryXhr.liveConnections[c.javascriptId]),c.setReadyState(a)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0),Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{},Ext.apply(this,a),this.requests={},this.mixins.observable.constructor.call(this)},request:function(a){a=a||{};var b,c,d,e,f,g=this,h=a.scope||window,i=a.username||g.username,j=a.password||g.password||"";return g.fireEvent("beforerequest",g,a)!==!1?(c=g.setOptions(a,h),g.isFormUpload(a)?(g.upload(a.form,c.url,c.data,a),null):((a.autoAbort||g.autoAbort)&&g.abort(),b=a.async!==!1?a.async||g.async:!1,f=g.openRequest(a,c,b,i,j),g.isXdr||(e=g.setupHeaders(f,a,c.data,c.params)),d={id:++Ext.data.Connection.requestId,xhr:f,headers:e,options:a,async:b,binary:a.binary||g.binary,timeout:setTimeout(function(){d.timedout=!0,g.abort(d)},a.timeout||g.timeout)},g.requests[d.id]=d,g.latestId=d.id,b&&(g.isXdr||(f.onreadystatechange=Ext.Function.bind(g.onStateChange,g,[d]))),g.isXdr&&g.processXdrRequest(d,f),f.send(c.data),b?d:g.onComplete(d))):(Ext.callback(a.callback,a.scope,[a,void 0,void 0]),null)},processXdrRequest:function(a,b){var c=this;delete a.headers,a.contentType=a.options.contentType||c.defaultXdrContentType,b.onload=Ext.Function.bind(c.onStateChange,c,[a,!0]),b.onerror=b.ontimeout=Ext.Function.bind(c.onStateChange,c,[a,!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]},a.getResponseHeader=function(){return""},a.contentType=b.contentType||this.defaultXdrContentType},upload:function(a,b,c,d){a=Ext.getDom(a),d=d||{};var e,f,g,h,i,j,k,l,m=Ext.id(),n=document.createElement("iframe"),o=[],p="multipart/form-data",q={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},r=function(b,c){e=document.createElement("input"),Ext.fly(e).set({type:"hidden",value:c,name:b}),a.appendChild(e),o.push(e)};if(Ext.fly(n).set({id:m,name:m,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(n),document.frames&&(document.frames[m].name=m),Ext.fly(a).set({target:m,method:"POST",enctype:p,encoding:p,action:b||q.action}),c){f=Ext.Object.fromQueryString(c)||{};for(h in f)if(f.hasOwnProperty(h))if(g=f[h],Ext.isArray(g))for(i=g.length,j=0;i>j;j++)r(h,g[j]);else r(h,g)}for(Ext.fly(n).on("load",Ext.Function.bind(this.onUploadComplete,this,[n,d]),null,{single:!Ext.isOpera}),a.submit(),Ext.fly(a).set(q),k=o.length,l=0;k>l;l++)Ext.removeNode(o[l])},onUploadComplete:function(a,b){var c,d,e,f,g=this,h={responseText:"",responseXML:null};try{if(e=a.contentWindow.document||a.contentDocument||window.frames[a.id].document){if(Ext.isOpera&&"about:blank"==e.location)return;e.body&&(h.responseText=(f=e.body.firstChild)&&/pre/i.test(f.tagName)?f.textContent:(f=e.getElementsByTagName("textarea")[0])?f.value:e.body.textContent||e.body.innerText),h.responseXML=e.XMLDocument||e,c=b.success,d=!0}}catch(i){h.responseText='{success:false,message:"'+Ext.String.trim(i.message||i.description)+'"}',c=b.failure,d=!1}g.fireEvent("requestcomplete",g,h,b),Ext.callback(c,b.scope,[h,b]),Ext.callback(b.callback,b.scope,[b,d,h]),setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype")):!1},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c,d,e,f=this,g=a.params||{},h=f.extraParams,i=a.urlParams,j=a.url||f.url,k=a.jsonData;return Ext.isFunction(g)&&(g=g.call(b,a)),Ext.isFunction(j)&&(j=j.call(b,a)),j=this.setupUrl(a,j),e=a.rawData||a.binaryData||a.xmlData||k||null,k&&!Ext.isPrimitive(k)&&(e=Ext.encode(e)),a.binaryData&&f.nativeBinaryPostSupport()&&(e=new Uint8Array(a.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(e=e.buffer)),Ext.isObject(g)&&(g=Ext.Object.toQueryString(g)),Ext.isObject(h)&&(h=Ext.Object.toQueryString(h)),g+=h?(g?"&":"")+h:"",i=Ext.isObject(i)?Ext.Object.toQueryString(i):i,g=this.setupParams(a,g),c=(a.method||f.method||(g||e?"POST":"GET")).toUpperCase(),this.setupMethod(a,c),d=a.disableCaching!==!1?a.disableCaching||f.disableCaching:!1,"GET"===c&&d&&(j=Ext.urlAppend(j,(a.disableCachingParam||f.disableCachingParam)+"="+(new Date).getTime())),("GET"==c||e)&&g&&(j=Ext.urlAppend(j,g),g=null),i&&(j=Ext.urlAppend(j,i)),{url:j,method:c,data:e||g||null}
},setupUrl:function(a,b){var c=this.getForm(a);return c&&(b=b||c.action),b},setupParams:function(a,b){var c,d=this.getForm(a);return d&&!this.isFormUpload(a)&&(c=Ext.Element.serializeForm(d),b=b?b+"&"+c:c),b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(a,b,c,d){var e,f,g=this,h=Ext.apply({},b.headers||{},g.defaultHeaders||{}),i=g.defaultPostHeader,j=b.jsonData,k=b.xmlData;h["Content-Type"]||!c&&!d||(c&&(b.rawData?i="text/plain":k&&Ext.isDefined(k)?i="text/xml":j&&Ext.isDefined(j)&&(i="application/json")),h["Content-Type"]=i),g.useDefaultXhrHeader&&!h["X-Requested-With"]&&(h["X-Requested-With"]=g.defaultXhrHeader);try{for(e in h)h.hasOwnProperty(e)&&(f=h[e],a.setRequestHeader(e,f))}catch(l){g.fireEvent("exception",e,f)}return h},newRequest:function(a){var b,c=this;return a.binaryData?b=c.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:(a.cors||c.cors)&&Ext.isIE&&Ext.ieVersion<=9?(b=c.getXdrInstance(),c.isXdr=!0):b=c.getXhrInstance(),b},openRequest:function(a,b,c,d,e){var f=this,g=f.newRequest(a);return d?g.open(b.method,b.url,c,d,e):f.isXdr?g.open(b.method,b.url):g.open(b.method,b.url,c),(a.binary||f.binary)&&(window.Uint8Array?g.responseType="arraybuffer":g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined")),(a.withCredentials||f.withCredentials)&&(g.withCredentials=!0),g},getXdrInstance:function(){var a;return Ext.ieVersion>=8?a=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),a},getXhrInstance:function(){for(var a,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0,d=b.length;d>c;++c)try{a=b[c],a();break}catch(e){}return a}(),isLoading:function(a){if(a||(a=this.getLatest()),!a||!a.xhr)return!1;var b=a.xhr.readyState;return a.xhr instanceof Ext.data.flash.BinaryXhr&&4!=b||!(0===b||4==b)},abort:function(a){var b,c=this;if(a||(a=c.getLatest()),a&&c.isLoading(a)){b=a.xhr;try{b.onreadystatechange=null}catch(d){b.onreadystatechange=Ext.emptyFn}b.abort(),c.clearTimeout(a),a.timedout||(a.aborted=!0),c.onComplete(a),c.cleanup(a)}},abortAll:function(){var a,b=this.requests;for(a in b)b.hasOwnProperty(a)&&this.abort(b[a])},getLatest:function(){var a,b=this.latestId;return b&&(a=this.requests[b]),a||null},onStateChange:function(a,b){var c=this;(a.xhr&&4==a.xhr.readyState||c.isXdr)&&(c.clearTimeout(a),c.onComplete(a,b),c.cleanup(a),Ext.EventManager.idleEvent.fire())},clearTimeout:function(a){clearTimeout(a.timeout),delete a.timeout},cleanup:function(a){a.xhr=null,delete a.xhr},onComplete:function(a,b){var c,d,e,f=this,g=a.options;try{c=f.parseStatus(a.xhr.status)}catch(h){c={success:!1,isException:!1}}return d=f.isXdr?b:c.success,d?(e=f.createResponse(a),f.fireEvent("requestcomplete",f,e,g),Ext.callback(g.success,g.scope,[e,g])):(e=c.isException||a.aborted||a.timedout?f.createException(a):f.createResponse(a),f.fireEvent("requestexception",f,e,g),Ext.callback(g.failure,g.scope,[e,g])),Ext.callback(g.callback,g.scope,[g,d,e]),delete f.requests[a.id],e},parseStatus:function(a){a=1223==a?204:a;var b=a>=200&&300>a||304==a,c=!1;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=!0}return{success:b,isException:c}},createResponse:function(a){for(var b,c,d,e,f=this,g=a.xhr,h=f.isXdr,i={},j=h?[]:g.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),k=j.length;k--;)b=j[k],c=b.indexOf(":"),c>=0&&(d=b.substr(0,c).toLowerCase()," "==b.charAt(c+1)&&++c,i[d]=b.substr(c+1));return a.xhr=null,delete a.xhr,e={request:a,requestId:a.id,status:g.status,statusText:g.statusText,getResponseHeader:function(a){return i[a.toLowerCase()]},getAllResponseHeaders:function(){return i}},h&&f.processXdrResponse(e,g),a.binary?e.responseBytes=f.getByteArray(g):(e.responseText=g.responseText,e.responseXML=g.responseXML),g=null,e},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(a){var b,c,d,e,f=a.response,g=a.responseBody;if(a instanceof Ext.data.flash.BinaryXhr)b=a.responseBytes;else if(window.Uint8Array)b=f?new Uint8Array(f):[];else if(Ext.isIE9p)try{b=new VBArray(g).toArray()}catch(h){b=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(a.responseBody,b=[]);else for(b=[],c=a.responseText,d=c.length,e=0;d>e;e++)b.push(255&c.charCodeAt(e));return b},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript",a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(a),this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Connection"],0),Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,"Ajax"],0),Ext.cmd.derive("Ext.util.Floating",Ext.Base,{focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(a){var b=this;b.fixed=b.fixed&&!(Ext.isIE6||Ext.isIEQuirks),b.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:b.hideMode,hidden:b.hidden,shadow:"undefined"!=typeof b.shadow?b.shadow:"sides",shadowOffset:b.shadowOffset,constrain:!1,fixed:b.fixed,shim:b.shim===!1?!1:void 0},b.floating),a),!b.modal||Ext.FocusManager&&Ext.FocusManager.enabled||b.mon(b.el,{keydown:b.onKeyDown,scope:b}),b.mon(b.el,{mousedown:b.onMouseDown,scope:b}),b.floating=!0,b.registerWithOwnerCt(),b.initHierarchyEvents()},initHierarchyEvents:function(){var a=this,b=this.syncHidden;a.hasHierarchyEventListeners||(a.mon(a.hierarchyEventSource,{hide:b,collapse:b,show:b,expand:b,added:b,scope:a}),a.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var a=this,b=a.ownerCt,c=a.zIndexParent;c&&c.unregisterFloatingItem(a),c=a.zIndexParent=a.up("[floating]"),a.setFloatParent(b||c),delete a.ownerCt,c?c.registerFloatingItem(a):Ext.WindowManager.register(a)},onKeyDown:function(a){var b,c,d,e,f=this;a.getKey()==Ext.EventObject.TAB&&(b=a.shiftKey,c=f.el.query(":focusable"),d=c[0],e=c[c.length-1],d&&e&&a.target===(b?d:e)&&(a.stopEvent(),(b?e:d).focus(!1,!0)))},onMouseDown:function(a){var b=this.focusTask;!this.floating||b&&b.id||this.toFront(!!a.getTarget(":focusable"))},setFloatParent:function(a){var b=this;b.floatParent=a,!b.constrain&&!b.constrainHeader||b.constrainTo||(b.constrainTo=a?a.getTargetEl():b.container)},syncShadow:function(){this.floating&&this.el.sync(!0)},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync,this.syncShadow()},syncHidden:function(){var a=this,b=a.hidden||!a.rendered,c=a.hierarchicallyHidden=a.isHierarchicallyHidden(),d=a.pendingShow;b!==c&&(c?(a.hide(),a.pendingShow=!0):d&&(delete a.pendingShow,d.length?a.show.apply(a,d):a.show()))},setZIndex:function(a){var b=this;return b.el.setZIndex(a),a+=10,b.floatingDescendants&&(a=100*Math.floor(b.floatingDescendants.setBase(a)/100)+1e4),a},doConstrain:function(a){var b=this,c=b.calculateConstrainedPosition(a,null,!0);c&&b.setPosition(c)},toFront:function(a){var b=this,c=b.zIndexParent,d=b.preventFocusOnActivate;return c&&b.bringParentToFront!==!1&&c.toFront(!0),Ext.isDefined(a)||(a=!b.focusOnToFront),a&&(b.preventFocusOnActivate=!0),b.zIndexManager.bringToFront(b,a)&&(a||b.focus(!1,!0)),b.preventFocusOnActivate=d,b},setActive:function(a,b){var c=this;a?(c.el.shadow&&!c.maximized&&c.el.enableShadow(!0),c.preventFocusOnActivate||c.focus(!1,!0),c.fireEvent("activate",c)):(c.isWindow&&b&&b.isWindow&&c.hideShadowOnDeactivate&&c.el.disableShadow(),c.fireEvent("deactivate",c))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var a,b=this;return b.isVisible()?(a=b.getAlignToXY(b.container,"c-c"),b.setPagePosition(a)):b.needsCenter=!0,b},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},fitContainer:function(a){var b=this,c=b.floatParent,d=c?c.getTargetEl():b.container,e=d.getViewSize(!1),f=c||d.dom!==document.body?[0,0]:d.getXY();e.x=f[0],e.y=f[1],b.setBox(e,a)}},1,0,0,0,0,0,[Ext.util,"Floating"],0),Ext.cmd.derive("Ext.Component",Ext.AbstractComponent,{statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(a){var b=this;a=a||{},a.initialConfig?(a.isAction&&(b.baseAction=a),a=a.initialConfig):(a.tagName||a.dom||Ext.isString(a))&&(a={applyTo:a,id:a.id||a}),b.callParent([a]),b.baseAction&&b.baseAction.addComponent(b)},initComponent:function(){var a=this;a.callParent(),a.listeners&&(a.on(a.listeners),a.listeners=null),a.enableBubble(a.bubbleEvents)},afterRender:function(){var a=this;a.callParent(),a.x&&a.y||!a.pageX&&!a.pageY||a.setPagePosition(a.pageX,a.pageY)},setAutoScroll:function(a){var b=this;return b.autoScroll=!!a,b.rendered&&b.getOverflowEl().setStyle(b.getOverflowStyle()),b.updateLayout(),b},setOverflowXY:function(a,b){var c=this,d=arguments.length;return d&&(c.overflowX=a||"",d>1&&(c.overflowY=b||"")),c.rendered&&c.getOverflowEl().setStyle(c.getOverflowStyle()),c.updateLayout(),c},beforeRender:function(){var a,b=this,c=b.floating;return c&&(b.addCls(Ext.baseCSSPrefix+"layer"),a=c.cls,a&&b.addCls(a)),b.callParent()},beforeLayout:function(){this.callParent(arguments),this.floating&&this.onBeforeFloatLayout()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){this.floating?this.makeFloating(a):this.callParent(arguments)},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:!1,constrainTo:b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():null),handles:b.resizeHandles},a),a.target=b,b.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var a=this,b=a.resizer&&a.resizer.el!==a.el?a.resizerComponent=new Ext.Component({el:a.resizer.el,rendered:!0,container:a.container}):a,c=Ext.applyIf({el:b.getDragEl(),constrainTo:a.constrain||a.draggable.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.container):void 0},a.draggable);(a.constrain||a.constrainDelegate)&&(c.constrain=a.constrain,c.constrainDelegate=a.constrainDelegate),a.dd=new Ext.util.ComponentDragger(b,c)},scrollBy:function(){var a;(a=this.getTargetEl())&&a.dom&&a.scrollBy.apply(a,arguments)},setLoading:function(a,b){var c=this,d={target:c};return c.rendered&&(Ext.destroy(c.loadMask),c.loadMask=null,a===!1||c.collapsed||(Ext.isObject(a)?Ext.apply(d,a):Ext.isString(a)&&(d.msg=a),b&&Ext.applyIf(d,{useTargetEl:!0}),c.loadMask=new Ext.LoadMask(d),c.loadMask.show())),c.loadMask},beforeSetPosition:function(){var a,b=this,c=b.callParent(arguments);return c&&(a=b.adjustPosition(c.x,c.y),c.x=a.x,c.y=a.y),c||null},afterSetPosition:function(a,b){this.onPosition(a,b),this.fireEvent("move",this,a,b)},showAt:function(a,b,c){var d=this;return d.rendered||!d.autoRender&&!d.floating?(d.floating?d.setPosition(a,b,c):d.setPagePosition(a,b,c),void d.show()):(d.x=a,d.y=b,d.show())},showBy:function(a,b,c){var d=this;return d.floating&&a&&(d.show(),d.rendered&&!d.hidden&&d.alignTo(a,b||d.defaultAlign,c)),d},setPagePosition:function(a,b,c){var d,e,f=this;return Ext.isArray(a)&&(b=a[1],a=a[0]),f.pageX=a,f.pageY=b,f.floating?(f.isContainedFloater()?(e=f.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(a)&&Ext.isNumber(e.left)&&(a-=e.left),Ext.isNumber(b)&&Ext.isNumber(e.top)&&(b-=e.top)):(d=f.el.translateXY(a,b),a=d.x,b=d.y),f.setPosition(a,b,c)):(d=f.el.translateXY(a,b),f.setPosition(d.x,d.y,c)),f},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(a){return this.setSize(a.width,a.height),this.setPagePosition(a.x,a.y),this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,b){var c,d=this;return d.isContainedFloater()&&(c=d.floatParent.getTargetEl().getViewRegion(),a+=c.left,b+=c.top),{x:a,y:b}},getPosition:function(a){var b,c,d=this,e=d.isContainedFloater();return a!==!0||e?(b=d.getXY(),a===!0&&e&&(c=d.floatParent.getTargetEl().getViewRegion(),b[0]-=c.left,b[1]-=c.top),b):[d.getLocalX(),d.getLocalY()]},getId:function(){var a,b=this;return b.id||(a=b.getXType(),a=a?a.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",b.id=a+"-"+b.getAutoId()),b.id},show:function(){var a=this,b=a.rendered;return a.hierarchicallyHidden||a.floating&&!b&&a.isHierarchicallyHidden()?(b||a.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,a.pendingShow=arguments):a.pendingShow=!0):b&&a.isVisible()?a.toFrontOnShow&&a.floating&&a.toFront():a.fireEvent("beforeshow",a)!==!1?(a.hidden=!1,delete this.getHierarchyState().hidden,Ext.suspendLayouts(),b||!a.autoRender&&!a.floating||(a.doAutoRender(),b=a.rendered),b?(a.beforeShow(),Ext.resumeLayouts(),a.onShow.apply(a,arguments),a.afterShow.apply(a,arguments)):Ext.resumeLayouts(!0)):a.onShowVeto(),a},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show(),a.callParent(arguments),a.floating&&(a.maximized?a.fitContainer():a.constrain&&a.doConstrain())},getAnimateTarget:function(a){return a=a||this.animateTarget,a&&(a=a.isComponent?a.getEl():Ext.get(a)),a||null},afterShow:function(a,b,c){var d,e,f,g=this,h=g.el;a=g.getAnimateTarget(a),g.ghost||(a=null),a?(e={x:h.getX(),y:h.getY(),width:h.dom.offsetWidth,height:h.dom.offsetHeight},d={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},h.addCls(g.offsetsCls),f=g.ghost(),f.el.stopAnimation(),f.setX(-1e4),g.ghostBox=e,f.el.animate({from:d,to:e,listeners:{afteranimate:function(){delete f.componentLayout.lastComponentSize,g.unghost(),delete g.ghostBox,h.removeCls(g.offsetsCls),g.onShowComplete(b,c)}}})):g.onShowComplete(b,c),g.fireHierarchyEvent("show")},onShowComplete:function(a,b){var c=this;c.floating&&(c.toFront(),c.onFloatShow()),Ext.callback(a,b||c),c.fireEvent("show",c),delete c.hiddenByLayout},hide:function(){var a,b=this;return b.pendingShow&&delete b.pendingShow,(!b.rendered||b.isVisible())&&(a=b.fireEvent("beforehide",b)!==!1,(b.hierarchicallyHidden||a)&&(b.hidden=!0,b.getHierarchyState().hidden=!0,b.rendered&&b.onHide.apply(b,arguments))),b},onHide:function(a,b,c){var d,e,f,g=this;a=g.getAnimateTarget(a),g.ghost||(a=null),a&&(f={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},d=g.ghost(),d.el.stopAnimation(),e=g.getSize(),d.el.animate({to:f,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize,d.el.hide(),d.el.setSize(e),g.afterHide(b,c)}}})),g.el.hide(),a||g.afterHide(b,c)},afterHide:function(a,b){var c=this,d=Ext.Element.getActiveElement();c.hiddenByLayout=null,Ext.AbstractComponent.prototype.onHide.call(c),(d===c.el||c.el.contains(d))&&Ext.fly(d).blur(),Ext.callback(a,b||c),c.fireEvent("hide",c),c.fireHierarchyEvent("hide")},onDestroy:function(){var a=this;a.rendered&&Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent),delete a.focusTask,a.callParent()},deleteMembers:function(){for(var a=arguments,b=a.length,c=0;b>c;++c)delete this[a[c]]},focus:function(a,b,c,d){var e,f,g,h=this;if(b)return h.focusTask||(Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(h.focus)),h.focusTask.delay(Ext.isNumber(b)?b:10,null,h,[a,!1,c,d]),h;if(h.focusTask&&h.focusTask.cancel(),h.rendered&&!h.isDestroyed&&h.isVisible(!0)&&(e=h.getFocusEl())){if(e.isComponent)return e.focus(a,b);(f=e.dom)&&(e.needsTabIndex()&&(f.tabIndex=-1),h.floating&&(g=h.container.dom.scrollTop),e.focus(),a===!0&&f.select(),Ext.callback(c,d)),h.floating&&(h.toFront(!0),void 0!==g&&(h.container.dom.scrollTop=g))}return h},cancelFocus:function(){var a=this.focusTask;a&&a.cancel()},blur:function(){var a;return this.rendered&&(a=this.getFocusEl())&&a.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(a){a=a||{};var b,c=a.id||Ext.id(),d=Ext.applyIf(a,this.initialConfig);return d.id=c,new(b=Ext.getClass(this))(d)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget());return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(a,b,c){for(var d=this;d&&a.apply(b||d,c||[d])!==!1;)d=d.getBubbleTarget();return this},getProxy:function(){var a,b=this;return b.proxy||(a=Ext.getBody(),b.proxy=b.el.createProxy(Ext.baseCSSPrefix+"proxy-el",a,!0)),b.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},1,["component","box"],["component","box"],{component:!0,box:!0},["widget.box","widget.component"],[["floating",Ext.util.Floating]],[Ext,"Component"],function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;a._borderRegionInited||(a._borderRegionInited=!0,a.addStateEvents(["changeregion","changeweight"]),Ext.override(a,{getState:function(){var b=a.callParent();return b=a.addPropertyToState(b,"region"),b=a.addPropertyToState(b,"weight")}}))},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&a.isBorderLayout?a:null},setBorderRegion:function(a){var b,c=this,d=c.region;if(a!==d)if(b=c.getOwningBorderLayout()){var e,f,g,h=b.regionFlags[a],i=c.placeholder,j=c.splitter,k=b.owner,l=b.regionMeta,m=c.collapsed||c.floated;if(c.fireEventArgs("beforechangeregion",[c,a])===!1)return d;Ext.suspendLayouts(),c.region=a,Ext.apply(c,h),c.updateCollapseTool&&c.updateCollapseTool(),j&&(Ext.apply(j,h),j.updateOrientation(),f=k.items,g=f.indexOf(c),g>=0&&(e=l[a].splitterDelta,f.getAt(g+e)!==j&&(f.remove(j),g=f.indexOf(c),e>0&&++g,f.insert(g,j)))),i&&(m&&c.expand(!1),k.remove(i),c.placeholder=null,m&&c.collapse(null,!1)),k.updateLayout(),Ext.resumeLayouts(!0),c.fireEventArgs("changeregion",[c,d])}else c.region=a;return d},setRegionWeight:function(a){var b=this,c=b.getOwningBorderContainer(),d=b.placeholder,e=b.weight;return a!==e&&b.fireEventArgs("beforechangeweight",[b,a])!==!1&&(b.weight=a,d&&(d.weight=a),c&&c.updateLayout(),b.fireEventArgs("changeweight",[b,e])),e}}),Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(a,b,c){return a.getTarget().update(b.responseText,c.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(a){var b,c=this;a=a||{},Ext.apply(c,a),c.setTarget(c.target),c.addEvents("beforeload","exception","load"),c.mixins.observable.constructor.call(c),c.autoLoad&&(b=c.autoLoad,b===!0&&(b={}),c.load(b))},setTarget:function(a){var b=this;a=Ext.get(a),b.target&&b.target!=a&&b.abort(),b.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;void 0!==a&&(Ext.Ajax.abort(a.request),a.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===!0?null:a)},load:function(a){a=Ext.apply({},a);var b=this,c=Ext.isDefined(a.loadMask)?a.loadMask:b.loadMask,d=Ext.apply({},a.params),e=Ext.apply({},a.ajaxOptions),f=a.callback||b.callback,g=a.scope||b.scope||b;Ext.applyIf(e,b.ajaxOptions),Ext.applyIf(a,e),Ext.applyIf(d,b.params),Ext.apply(d,b.baseParams),Ext.applyIf(a,{url:b.url}),Ext.apply(a,{scope:b,params:d,callback:b.onComplete}),b.fireEvent("beforeload",b,a)!==!1&&(c&&b.addMask(c),b.active={options:a,mask:c,scope:g,callback:f,success:a.success||b.success,failure:a.failure||b.failure,renderer:a.renderer||b.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:b.scripts},b.active.request=Ext.Ajax.request(a),b.setOptions(b.active,a))},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d,e=this,f=e.active;f&&(d=f.scope,b&&(b=e.getRenderer(f.renderer).call(e,e,c,f)!==!1),b?(Ext.callback(f.success,d,[e,c,a]),e.fireEvent("load",e,c,a)):(Ext.callback(f.failure,d,[e,c,a]),e.fireEvent("exception",e,c,a)),Ext.callback(f.callback,d,[e,b,c,a]),f.mask&&e.removeMask()),delete e.active},getRenderer:function(a){return Ext.isFunction(a)?a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh(),c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh(),delete a.target,a.abort(),a.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"ElementLoader"],0),Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(a,b){var c=!0;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){c=!1}return c},Component:function(a,b,c){var d=!0,e=a.getTarget(),f=[];try{f=Ext.decode(b.responseText)}catch(g){d=!1}return d&&(e.suspendLayouts(),c.removeAll&&e.removeAll(),e.add(f),e.resumeLayouts(!0)),d}}},target:null,loadMask:!1,renderer:"html",setTarget:function(a){var b=this;Ext.isString(a)&&(a=Ext.getCmp(a)),b.target&&b.target!=a&&b.abort(),b.target=a},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a))return a;var b=this.statics().Renderer;switch(a){case"component":return b.Component;case"data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0),Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(a){var b,c=this,d=c.self,e=d.sizeModelsArray;Ext.apply(c,a),c[b=c.name]=!0,c.fixed=!(c.auto=c.natural||c.shrinkWrap),e[c.ordinal=e.length]=d[b]=d.sizeModels[b]=c},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var a,b,c,d,e,f=this,g=f.sizeModelsArray;for(new f({name:"calculated"}),new f({name:"configured",names:{width:"width",height:"height"}}),new f({name:"natural"}),new f({name:"shrinkWrap"}),new f({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new f({name:"calculatedFromNatural",natural:!0}),new f({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new f({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new f({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new f({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),a=0,c=g.length;c>a;++a)for(e=g[a],e.pairsByHeightOrdinal=d=[],b=0;c>b;++b)d.push({width:e,height:g[b]})}),Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,b){var c,d,e,f,g,h,i=Ext.ClassManager,j=this.layoutsByType;if(a&&"string"!=typeof a){if(a.isLayout)return a;e=a,g=a.type||b}else g=a||b,e={};if(!(f=j[g])){if(c="layout."+g,d=i.getNameByAlias(c),d||(h=!0),f=i.get(d),h||!f)return i.instantiateByAlias(c,e||{});j[g]=f}return new f(e)}},constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-"),Ext.apply(b,a),b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b,c=this,d=c.context;c.lastWidthModel!=a.widthModel&&(c.lastWidthModel&&(b=!0),c.lastWidthModel=a.widthModel),c.lastHeightModel!=a.heightModel&&(c.lastWidthModel&&(b=!0),c.lastHeightModel=a.heightModel),b&&((d=a.context).clearTriggers(c,!1),d.clearTriggers(c,!0),c.triggerCount=0)},finishedLayout:function(a){this.lastWidthModel=a.widthModel,this.lastHeightModel=a.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return!1},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,d=b.height;return a.componentLayout.lastComponentSize||!c.calculated&&!d.calculated?!c.shrinkWrap&&!d.shrinkWrap:!1},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c,d,e,f,g=a.length;if(g)for(f=[],c=0;g>c;++c)d=a[c],d.rendered||(b&&void 0!==b[d.id]?e=b[d.id]:(this.configureItem(d),e=d.getRenderTree(),b&&(b[d.id]=e)),e&&f.push(e));return f},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c,d,e=b.length;for(c=0;e>c;c++)d=b[c],d.rendering&&(d.finishRender(c),this.afterRenderItem(d))},renderChildren:function(){var a=this,b=a.getLayoutItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(a,b){var c,d=this,e=a.length,f=0;if(e){for(Ext.suspendLayouts();e>f;f++)c=a[f],c&&!c.rendered?d.renderItem(c,b,f):d.isValidParent(c,b,f)?d.configureItem(c):d.moveItem(c,b,f);Ext.resumeLayouts(!0)}},isValidParent:function(a,b,c){var d,e=a.el?a.el.dom:Ext.getDom(a),f=b&&b.dom||b,g=e.parentNode;return g&&(d=g.className,d&&-1!==d.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(e=e.parentNode)),e&&f?"number"==typeof c?(c=this.getPositionOffset(c),e===f.childNodes[c]):e.parentNode===f:!1},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){var d=this;a.rendered||(d.configureItem(a),a.render(b,c),d.afterRenderItem(a))},moveItem:function(a,b,c){b=b.dom||b,"number"==typeof c&&(c=b.childNodes[c]),b.insertBefore(a.el.dom,c||null),a.container=Ext.get(b),this.configureItem(a)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b,c=this,d=a.el,e=c.owner;a.rendered&&(b=[].concat(c.itemCls||[]),e.itemCls&&(b=Ext.Array.push(b,e.itemCls)),b.length&&d.removeCls(b)),delete a.ownerLayout},destroy:function(){var a,b=this;b.targetCls&&(a=b.getTarget(),a&&a.removeCls(b.targetCls)),b.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;d>c;++c)a[c].$i=c;for(Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;return d||(d=a.$i-c.$i,a[b]&&(d=-d)),d}),c=0;d>c;++c)delete a[c].$i}},1,0,0,0,0,0,[Ext.layout,"Layout"],function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments),a.targetContext=a.paddingContext=a.getEl("getTarget",this),this.cacheChildItems(a)},beginLayoutCycle:function(a,b){var c=this;c.callParent(arguments),b&&(c.usesContainerHeight&&++a.consumersContainerHeight,c.usesContainerWidth&&++a.consumersContainerWidth)},cacheChildItems:function(a){var b,c=a.context,d=[],e=this.getVisibleItems(),f=e.length;for(a.childItems=d,a.visibleItems=e,b=0;f>b;++b)d.push(c.getCmp(e[b]))},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},configureItem:function(a){var b,c=this,d=c.itemCls,e=c.owner.itemCls;a.ownerLayout=c,d&&(b="string"==typeof d?[d]:d),e&&(b=Ext.Array.push(b||[],e)),b&&a.addCls(b)},doRenderBody:function(a,b){this.renderItems(a,b),this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),e=c.getRenderData();d.applyOut(e,a)},doRenderItems:function(a,b){var c=b.$layout,d=c.getRenderTree();d&&Ext.DomHelper.generateMarkup(d,a)},finishRender:function(){var a,b,c=this;c.callParent(),c.cacheElements(),a=c.getRenderTarget(),b=c.getLayoutItems(),c.finishRenderItems(a,b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,b){var c,d,e,f,g=a.targetContext,h=g.getFrameInfo(),i=a.paddingContext.getPaddingInfo(),j=0,k=0;return a.widthModel.shrinkWrap||(++k,e=b?g.getDomProp("width"):g.getProp("width"),c="number"==typeof e,c&&(++j,e-=h.width+i.width,0>e&&(e=0))),a.heightModel.shrinkWrap||(++k,f=b?g.getDomProp("height"):g.getProp("height"),d="number"==typeof f,d&&(++j,f-=h.height+i.height,0>f&&(f=0))),{width:e,height:f,needed:k,got:j,gotAll:j==k,gotWidth:c,gotHeight:d}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;b&&(a+=b)}return a},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return b&&b.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a,b,c=this,d=c.getRenderTarget(),e=c.getLayoutItems(),f=e.length,g=[];for(a=0;f>a;a++)b=e[a],b.rendered&&c.isValidParent(b,d,a)&&g.push(b);return g},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");return b.renderContent||a.owner.setupRenderTpl(b),b},getRenderTree:function(){var a,b,c=this.owner.items,d={};do b=c.generation,a=this.getItemsRenderTree(this.getLayoutItems(),d);while(c.generation!==b);return a},renderChildren:function(){var a,b,c=this,d=c.owner.items,e=c.getRenderTarget();do a=d.generation,b=c.getLayoutItems(),c.renderItems(b,e);while(d.generation!==a)},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),f="number"==typeof a,g="number"==typeof b,h=0,i=0;return e.width?(g&&d>b&&(i=2,a-=e.width),f&&c>a&&(h=1,!i&&g&&(b-=e.height,d>b&&(i=2))),i+h):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a,b,c=this.getRenderTarget(),d=this.getLayoutItems(),e=d.length,f=[];for(a=0;e>a;a++)b=d[a],b.rendered&&this.isValidParent(b,c,a)&&b.hidden!==!0&&f.push(b);return f},setupRenderTpl:function(a){var b=this;a.renderBody=b.doRenderBody,a.renderContainer=b.doRenderContainer,a.renderItems=b.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}},1,0,0,0,["layout.container"],[["elementCt",Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0),Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:!0,beginLayout:function(a){var b,c,d,e,f=this;
f.callParent(arguments),f.initContextItems(a),f.isShrinkWrapTpl||(a.widthModel.shrinkWrap&&(e=!0),Ext.isStrict&&Ext.isIE7&&(d=f.getOverflowXStyle(a),"auto"!==d&&"scroll"!==d||!a.paddingContext.getPaddingInfo().right||(e=!0)),e&&f.insertTableCt(a)),!f.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!f.clearElHasPadding&&(b=a.paddingContext.getPaddingInfo().bottom,c=f.getOverflowYStyle(a),!b||"auto"!==c&&"scroll"!==c||(f.clearEl.setStyle("height",b),f.clearElHasPadding=!0))},beforeLayoutCycle:function(a){var b=this.owner,c=b.hierarchyState,d=b.hierarchyStateInner;(!c||c.invalid)&&(c=b.getHierarchyState(),d=b.hierarchyStateInner),a.widthModel.shrinkWrap&&this.isShrinkWrapTpl?d.inShrinkWrapTable=!0:delete d.inShrinkWrapTable},beginLayoutCycle:function(a){var b,c,d,e,f,g,h,i=this,j=i.outerCt,k=i.lastOuterCtWidth||"",l=i.lastOuterCtHeight||"",m=i.lastOuterCtTableLayout||"",n=a.state;i.callParent(arguments),d=e=f="",!a.widthModel.shrinkWrap&&i.isShrinkWrapTpl&&(Ext.isIE7m&&Ext.isStrict&&(c=i.getOverflowYStyle(a),("auto"===c||"scroll"===c)&&(g=!0)),g||(d="100%"),h=i.owner.hierarchyStateInner,b=i.getOverflowXStyle(a),f=h.inShrinkWrapTable||"auto"===b||"scroll"===b?"":"fixed"),a.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(e="100%"),(d!==k||i.hasOuterCtPxWidth)&&(j.setStyle("width",d),i.lastOuterCtWidth=d,i.hasOuterCtPxWidth=!1),f!==m&&(j.setStyle("table-layout",f),i.lastOuterCtTableLayout=f),(e!==l||i.hasOuterCtPxHeight)&&(j.setStyle("height",e),i.lastOuterCtHeight=e,i.hasOuterCtPxHeight=!1),i.hasInnerCtPxHeight&&(i.innerCt.setStyle("height",""),i.hasInnerCtPxHeight=!1),n.overflowAdjust=n.overflowAdjust||i.lastOverflowAdjust},calculate:function(a){var b=this,c=a.state,d=b.getContainerSize(a,!0),e=c.calculatedItems||(c.calculatedItems=b.calculateItems?b.calculateItems(a,d):!0);return b.setCtSizeIfNeeded(a,d),e&&a.hasDomProp("containerChildrenSizeDone")&&(b.calculateContentSize(a),d.gotAll)?void(!b.manageOverflow||a.state.secondPass||b.reserveScrollbar||b.calculateOverflow(a,d)):void(b.done=!1)},calculateContentSize:function(a){var b=this,c=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=1&c||void 0,e=2&c||void 0,f=0,g=a.props;d&&(isNaN(g.contentWidth)?++f:d=void 0),e&&(isNaN(g.contentHeight)?++f:e=void 0),f&&(d&&!a.setContentWidth(b.measureContentWidth(a))&&(b.done=!1),e&&!a.setContentHeight(b.measureContentHeight(a))&&(b.done=!1))},calculateOverflow:function(a){var b,c,d,e,f,g,h,i=this;f="auto"===i.getOverflowXStyle(a),g="auto"===i.getOverflowYStyle(a),(f||g)&&(d=Ext.getScrollbarSize(),h=a.overflowContext.el.dom,e=0,h.scrollWidth>h.clientWidth&&(e|=1),h.scrollHeight>h.clientHeight&&(e|=2),b=g&&2&e?d.width:0,c=f&&1&e?d.height:0,(b!==i.lastOverflowAdjust.width||c!==i.lastOverflowAdjust.height)&&(i.done=!1,a.invalidate({state:{overflowAdjust:{width:b,height:c},overflowState:e,secondPass:!0}})))},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadding:function(a,b){var c=b.$layout,d=b.$layout.owner,e=d[d.contentPaddingProperty];c.managePadding&&e&&a.push("padding:",d.unitizeBox(e))},finishedLayout:function(){var a=this.innerCt;this.callParent(arguments),(Ext.isIEQuirks||Ext.isIE8m)&&a.repaint(),Ext.isOpera&&(a.setStyle("position","relative"),a.dom.scrollWidth,a.setStyle("position",""))},getContainerSize:function(a){var b=this.callParent(arguments),c=a.state.overflowAdjust;return c&&(b.width-=c.width,b.height-=c.height),b},getRenderData:function(){var a=this.owner,b=this.callParent();return(Ext.isIEQuirks||Ext.isIE7m)&&(1&a.shrinkWrap||a.floating&&!a.width)&&(b.shrinkWrapWidth=!0),b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(a){var b=this,c=a.target,d=b.owner.customOverflowEl;a.outerCtContext=a.getEl("outerCt",b),a.innerCtContext=a.getEl("innerCt",b),a.overflowContext=d?a.getEl(d):a.targetContext,void 0!==c[c.contentPaddingProperty]&&(a.paddingContext=b.isShrinkWrapTpl?a.innerCtContext:a.outerCtContext)},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width,c=a.owner;a.callParent(),b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")&&(c.autoScroll||a.reserveScrollbar)&&(a.lastOverflowAdjust={width:b,height:0})},insertTableCt:function(a){var b,c,d,e,f,g=this,h=g.owner,i=0;for(b=Ext.XTemplate.getTpl(this,"tableTpl"),b.renderPadding=g.doRenderPadding,g.outerCt.dom.removeChild(g.innerCt.dom),c=document.createDocumentFragment(),d=g.innerCt.dom.childNodes,e=d.length;e>i;i++)c.appendChild(d[0]);f=g.getTarget(),f.dom.innerHTML=b.apply({$layout:g,ownerId:g.owner.id}),f.down("td").dom.appendChild(c),g.applyChildEls(h.el,h.id),g.isShrinkWrapTpl=!0,a.removeEl(g.outerCt),a.removeEl(g.innerCt),g.initContextItems(a)},measureContentHeight:function(a){var b=this.outerCt.getHeight(),c=a.target;return this.managePadding&&void 0===c[c.contentPaddingProperty]&&(b+=a.targetContext.getPaddingInfo().height),b},measureContentWidth:function(a){var b,c,d,e,f;return this.chromeCellMeasureBug&&(b=this.innerCt.dom,c=b.style,d=c.display,"table-cell"==d&&(c.display="",b.offsetWidth,c.display=d)),e=this.outerCt.getWidth(),f=a.target,this.managePadding&&void 0===f[f.contentPaddingProperty]&&(e+=a.targetContext.getPaddingInfo().width),e},setCtSizeIfNeeded:function(a,b){var c,d,e,f,g=this,h=b.width,i=b.height,j=a.paddingContext.getPaddingInfo(),k=g.getTarget(),l=g.getOverflowXStyle(a),m=g.getOverflowYStyle(a),n="auto"===l||"scroll"===l,o="auto"===m||"scroll"===m,p=Ext.getScrollbarSize(),q=g.isShrinkWrapTpl,r=g.manageOverflow;h&&!a.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&q&&o||Ext.isIEQuirks&&!q&&!n)&&(r||o&&k.dom.scrollHeight>k.dom.clientHeight&&(h-=p.width),a.outerCtContext.setProp("width",h+j.width),g.hasOuterCtPxWidth=!0),i&&!a.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(d=!0),(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&q)&&(e=!0,f=!Ext.isIE8),(d||e)&&n&&k.dom.scrollWidth>k.dom.clientWidth&&(i=Math.max(i-p.height,0)),d&&(a.outerCtContext.setProp("height",i+j.height),g.hasOuterCtPxHeight=!0),e&&(f&&(i+=j.height),a.innerCtContext.setProp("height",i),g.hasInnerCtPxHeight=!0)),Ext.isIE7&&Ext.isStrict&&!q&&"auto"===m&&(c="auto"===l?"overflow-x":"overflow-y",k.setStyle(c,"hidden"),k.setStyle(c,"auto"))},setupRenderTpl:function(a){this.callParent(arguments),a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26}),Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(a){var b=this;b.list={},b.zIndexStack=[],b.front=null,a?a.isContainer?(a.on("resize",b._onContainerResize,b),b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed()),b.targetEl=a.getTargetEl(),b.container=a):(Ext.EventManager.onWindowResize(b._onContainerResize,b),b.zseed=b.getNextZSeed(),b.targetEl=Ext.get(a)):(Ext.EventManager.onWindowResize(b._onContainerResize,b),b.zseed=b.getNextZSeed(),Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(a){this.zseed=a;var b=this.assignZIndices();return this._activateLast(),b},assignZIndices:function(){for(var a,b,c=this.zIndexStack,d=c.length,e=0,f=this.zseed;d>e;e++)a=c[e],a&&!a.hidden&&(f=a.setZIndex(f),a.modal&&(b=a));return b&&this._showModalMask(b),f},_setActiveChild:function(a,b){var c=this.front,d=a.preventFocusOnActivate;a!==c&&(c&&!c.destroying&&c.setActive(!1,a),this.front=a,a&&a!=b&&(a.preventFocusOnActivate=a.preventFocusOnActivate||b&&(b.preventFocusOnActivate||!b.focusOnToFront),a.setActive(!0),a.modal&&this._showModalMask(a),a.preventFocusOnActivate=d))},onComponentHide:function(){this._activateLast()},_activateLast:function(){for(var a,b=this,c=b.zIndexStack,d=c.length-1;d>=0&&c[d].hidden;--d);if(a=c[d]){if(b._setActiveChild(a,b.front),a.modal)return}else b.front&&!b.front.destroying&&b.front.setActive(!1),b.front=null;for(;d>=0;--d)if(a=c[d],a.isVisible()&&a.modal)return void b._showModalMask(a);b._hideModalMask()},_showModalMask:function(a){var b,c=this,d=a.el.getStyle("zIndex")-4,e=a.floatParent?a.floatParent.getTargetEl():a.container,f=c.mask,g=c.maskShim;f||(Ext.isIE6&&(g=c.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"}),g.setVisibilityMode(Ext.Element.DISPLAY)),f=c.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"}),f.setVisibilityMode(Ext.Element.DISPLAY),f.on("click",c._onMaskClick,c)),f.maskTarget=e,b=c.getMaskBox(),g&&(g.setStyle("zIndex",d),g.show(),g.setBox(b)),f.setStyle("zIndex",d),f.show(),f.setBox(b)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;a&&a.isVisible()&&(a.maskTarget=void 0,a.hide(),b&&b.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var a=this.mask.maskTarget;return a.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:a.getBox()},_onContainerResize:function(){var a,b=this,c=b.mask,d=b.maskShim;c&&c.isVisible()&&(c.hide(),d&&d.hide(),a=b.getMaskBox(),d&&(d.setSize(a),d.show()),c.setSize(a),c.show())},register:function(a){var b=this,c=a.afterHide;a.zIndexManager&&a.zIndexManager.unregister(a),a.zIndexManager=b,b.list[a.id]=a,b.zIndexStack.push(a),a.afterHide=function(){c.apply(a,arguments),b.onComponentHide(a)}},unregister:function(a){var b=this,c=b.list;delete a.zIndexManager,c&&c[a.id]&&(delete c[a.id],delete a.afterHide,Ext.Array.remove(b.zIndexStack,a),b._activateLast())},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a,b){var c=this,d=!1,e=c.zIndexStack;return a=c.get(a),a!==c.front&&(Ext.Array.remove(e,a),a.preventBringToFront?e.unshift(a):e.push(a),c.assignZIndices(),b||c._activateLast(),d=!0,c.front=a,a.modal&&c._showModalMask(a)),d},sendToBack:function(a){var b=this;return a=b.get(a),Ext.Array.remove(b.zIndexStack,a),b.zIndexStack.unshift(a),b.assignZIndices(),this._activateLast(),a},hideAll:function(){var a,b,c=this.list;for(b in c)c.hasOwnProperty(b)&&(a=c[b],a.isComponent&&a.isVisible()&&a.hide())},hide:function(){var a,b=0,c=this.zIndexStack,d=c.length;for(this.tempHidden=[];d>b;b++)a=c[b],a.isVisible()&&(this.tempHidden.push(a),a.el.hide(),a.hidden=!0)},show:function(){for(var a,b=0,c=this.tempHidden,d=c?c.length:0;d>b;b++)a=c[b],a.el.show(),a.hidden=!1,a.setPosition(a.x,a.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(a,b){for(var c,d=[],e=0,f=this.zIndexStack,g=f.length;g>e;e++)c=f[e],a.call(b||c,c)!==!1&&d.push(c);return d},each:function(a,b){var c,d,e=this.list;for(c in e)if(e.hasOwnProperty(c)&&(d=e[c],d.isComponent&&a.call(b||d,d)===!1))return},eachBottomUp:function(a,b){for(var c,d=this.zIndexStack,e=0,f=d.length;f>e;e++)if(c=d[e],c.isComponent&&a.call(b||c,c)===!1)return},eachTopDown:function(a,b){for(var c,d=this.zIndexStack,e=d.length;e-->0;)if(c=d[e],c.isComponent&&a.call(b||c,c)===!1)return},destroy:function(){var a,b,c=this,d=c.list;for(b in d)d.hasOwnProperty(b)&&(a=d[b],a.isComponent&&a.destroy());delete c.zIndexStack,delete c.list,delete c.container,delete c.targetEl}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.cmd.derive("Ext.Queryable",Ext.Base,{isQueryable:!0,query:function(a){return a=a||"*",Ext.ComponentQuery.query(a,this)},queryBy:function(a,b){for(var c,d=[],e=this.getRefItems(!0),f=0,g=e.length;g>f;++f)c=e[f],a.call(b||c,c)!==!1&&d.push(c);return d},queryById:function(a){return this.down("#"+a)},child:function(a){return a&&a.isComponent&&(a="#"+Ext.escapeId(a.getItemId())),a=a||"",this.query("> "+a)[0]||null},down:function(a){return a&&a.isComponent&&(a="#"+Ext.escapeId(a.getItemId())),a=a||"",this.query(a)[0]||null},getRefItems:function(){return[]}},0,0,0,0,0,0,[Ext,"Queryable"],0),Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(a,b){var c,d,e,f,g=this,h=g.owner,i=a.ownerCtContext,j=a.heightModel,k=a.widthModel,l=h.el.dom===document.body,m=h.lastBox||g.nullBox,n=h.el.lastBox||g.nullBox,o=!l;g.callParent(arguments),b&&(g.usesContentWidth&&++a.consumersContentWidth,g.usesContentHeight&&++a.consumersContentHeight,g.usesWidth&&++a.consumersWidth,g.usesHeight&&++a.consumersHeight,i&&!i.hasRawContent&&(c=h.ownerLayout,c.usesWidth&&++a.consumersWidth,c.usesHeight&&++a.consumersHeight)),k.configured?(e=k.names.width,l||(o=b?h[e]!==n.width:k.constrained),a.setWidth(h[e],o)):a.isTopLevel&&(k.calculated&&(d=m.width,a.setWidth(d,d!=n.width)),d=m.x,a.setProp("x",d,d!=n.x)),j.configured?(f=j.names.height,l||(o=b?h[f]!==n.height:j.constrained),a.setHeight(h[f],o)):a.isTopLevel&&(j.calculated&&(d=m.height,a.setHeight(d,d!=n.height)),d=m.y,a.setProp("y",d,d!=n.y))},finishedLayout:function(a){var b,c,d,e,f,g=this,h=a.children,i=g.owner;if(h)for(b=h.length,c=0;b>c;c++)d=h[c],d.el.lastBox=d.props;a.previousSize=g.lastComponentSize,g.lastComponentSize=i.el.lastBox=f=a.props,e=i.lastBox||(i.lastBox={}),e.x=f.x,e.y=f.y,e.width=f.width,e.height=f.height,e.invalid=!1,g.callParent(arguments)},notifyOwner:function(a){var b=this,c=b.lastComponentSize,d=a.previousSize,e=[c.width,c.height];d&&e.push(d.width,d.height),b.owner.afterComponentLayout.apply(b.owner,e)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b,c=this,d=c.targetInfo;return d||(b=a.getEl("getTarget",c),c.targetInfo=d={padding:b.getPaddingInfo(),border:b.getBorderInfo()}),d},measureAutoDimensions:function(a,b){var c,d,e,f,g,h,i=this,j=i.owner,k=j.layout,l=a.heightModel,m=a.widthModel,n=a.boxParent,o=a.isBoxParent,p=a.props,q={gotWidth:!1,gotHeight:!1,isContainer:c=!a.hasRawContent},r=b||3,s=0,t=0;return m.shrinkWrap&&a.consumersContentWidth?(++s,d=!(1&r),c?d?(q.contentWidth=0,q.gotWidth=!0,++t):void 0!==(q.contentWidth=a.getProp("contentWidth"))&&(q.gotWidth=!0,++t):(g=p.contentWidth,"number"==typeof g?(q.contentWidth=g,q.gotWidth=!0,++t):(f=d?!0:a.hasDomProp("containerChildrenSizeDone")?o||!n||n.widthModel.shrinkWrap?!0:n.hasDomProp("width"):!1,f&&(h=d?0:k&&k.measureContentWidth?k.measureContentWidth(a):i.measureContentWidth(a),isNaN(q.contentWidth=h)||(a.setContentWidth(h,!0),q.gotWidth=!0,++t))))):m.natural&&a.consumersWidth&&(++s,g=p.width,"number"==typeof g?(q.width=g,q.gotWidth=!0,++t):(f=o||!n?!0:n.hasDomProp("width"),f&&(isNaN(q.width=i.measureOwnerWidth(a))||(a.setWidth(q.width,!1),q.gotWidth=!0,++t)))),l.shrinkWrap&&a.consumersContentHeight?(++s,e=!(2&r),c?e?(q.contentHeight=0,q.gotHeight=!0,++t):void 0!==(q.contentHeight=a.getProp("contentHeight"))&&(q.gotHeight=!0,++t):(g=p.contentHeight,"number"==typeof g?(q.contentHeight=g,q.gotHeight=!0,++t):(f=e?!0:a.hasDomProp("containerChildrenSizeDone")?j.noWrap?!0:m.shrinkWrap?o||!n||n.widthModel.shrinkWrap?!0:n.hasDomProp("width"):(a.bodyContext||a).hasDomProp("width"):!1,f&&(h=e?0:k&&k.measureContentHeight?k.measureContentHeight(a):i.measureContentHeight(a),isNaN(q.contentHeight=h)||(a.setContentHeight(h,!0),q.gotHeight=!0,++t))))):l.natural&&a.consumersHeight&&(++s,g=p.height,"number"==typeof g?(q.height=g,q.gotHeight=!0,++t):(f=o||!n?!0:n.hasDomProp("width"),f&&(isNaN(q.height=i.measureOwnerHeight(a))||(a.setHeight(q.height,!1),q.gotHeight=!0,++t)))),n&&a.onBoxMeasured(),q.gotAll=t==s,q},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0),Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(a){var b=this,c=b.lastWidthModel,d=b.lastHeightModel,e=b.owner.el;b.callParent(arguments),c&&c.fixed&&a.widthModel.shrinkWrap&&e.setWidth(null),d&&d.fixed&&a.heightModel.shrinkWrap&&e.setHeight(null)},calculate:function(a){var b,c,d=this,e=d.measureAutoDimensions(a),f=a.heightModel,g=a.widthModel;e.gotWidth?g.shrinkWrap?d.publishOwnerWidth(a,e.contentWidth):d.publishInnerWidth&&d.publishInnerWidth(a,e.width):!g.auto&&d.publishInnerWidth&&(b=d.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width"),void 0===b?d.done=!1:d.publishInnerWidth(a,b)),e.gotHeight?f.shrinkWrap?d.publishOwnerHeight(a,e.contentHeight):d.publishInnerHeight&&d.publishInnerHeight(a,e.height):!f.auto&&d.publishInnerHeight&&(c=d.waitForOuterHeightInDom?a.getDomProp("height"):a.getProp("height"),void 0===c?d.done=!1:d.publishInnerHeight(a,c)),e.gotAll||(d.done=!1)},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c,d,e,f=this,g=f.owner,h=f.calculateOwnerHeightFromContentHeight(a,b);isNaN(h)?f.done=!1:(c=Ext.Number.constrain(h,g.minHeight,g.maxHeight),c==h?d=f.setHeightInDom:(e=f.sizeModels[h>c?"constrainedMax":"constrainedMin"],h=c,a.heightModel.calculatedFromShrinkWrap?a.heightModel=e:a.invalidate({heightModel:e})),a.setHeight(h,d))},publishOwnerWidth:function(a,b){var c,d,e,f=this,g=f.owner,h=f.calculateOwnerWidthFromContentWidth(a,b);isNaN(h)?f.done=!1:(c=Ext.Number.constrain(h,g.minWidth,g.maxWidth),c==h?d=f.setWidthInDom:(e=f.sizeModels[h>c?"constrainedMax":"constrainedMin"],h=c,a.widthModel.calculatedFromShrinkWrap?a.widthModel=e:a.invalidate({widthModel:e})),a.setWidth(h,d))}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0),Ext.cmd.derive("Ext.container.AbstractContainer",Ext.Component,{renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),a.callParent(),a.getLayout(),a.initItems()},initItems:function(){var a=this,b=a.items;a.items=new Ext.util.AbstractMixedCollection(!1,a.getComponentId),a.floatingItems=new Ext.util.MixedCollection(!1,a.getComponentId),b&&(Ext.isArray(b)||(b=[b]),a.add(b))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},beforeRender:function(){var a,b=this,c=b.getLayout();b.callParent(),c.initialized||c.initLayout(),a=c.targetCls,a&&b.applyTargetCls(a)},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var a,b,c=this.floatingItems.items,d=c.length;for(this.callParent(arguments),a=0;d>a;a++)b=c[a],!b.rendered&&b.autoShow&&b.show()},onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},repositionFloatingItems:function(){var a,b,c=this.floatingItems.items,d=c.length;for(a=0;d>a;a++)b=c[a],b.el&&!b.hidden&&b.setPosition(b.x,b.y)},setupRenderTpl:function(a){this.callParent(arguments),this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(a){var b=this.layout;b&&b.isLayout&&b!=a&&b.setOwner(null),this.layout=a,a.setOwner(this)},getLayout:function(){var a=this;return a.layout&&a.layout.isLayout||a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||a.defaultLayoutType)),a.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(a){var b=this;++b.layoutCounter,b.hasListeners.afterlayout&&b.fireEvent("afterlayout",b,a)},prepareItems:function(a,b){a=Ext.isArray(a)?a.slice():[a];for(var c,d=this,e=0,f=a.length;f>e;e++)c=a[e],null==c?(Ext.Array.erase(a,e,1),--e,--f):(b&&(c=this.applyDefaults(c)),c.isContained=d,a[e]=d.lookupComponent(c),delete c.isContained,delete a[e].isContained);return a},applyDefaults:function(a){var b=this.defaults;return b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)&&(a=Ext.ComponentManager.get(a)),Ext.applyIf(a,b)),a},lookupComponent:function(a){return"string"==typeof a?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var a,b,c,d,e,f,g,h=this,i=Ext.Array.slice(arguments),j="number"==typeof i[0]?i.shift():-1,k=h.getLayout();for(1==i.length&&Ext.isArray(i[0])?(b=i[0],a=!0):b=i,h.rendered&&Ext.suspendLayouts(),g=b=h.prepareItems(b,!0),d=b.length,a||1!=d||(g=b[0]),c=0;d>c;c++)e=b[c],f=0>j?h.items.length:j+c,e.floating?(h.floatingItems.add(e),e.onAdded(h,f),h.hasListeners.add&&h.fireEvent("add",h,e,f)):h.hasListeners.beforeadd&&h.fireEvent("beforeadd",h,e,f)===!1||h.onBeforeAdd(e)===!1||(h.items.insert(f,e),e.onAdded(h,f),h.onAdd(e,f),k.onAdd(e,f),h.hasListeners.add&&h.fireEvent("add",h,e,f));return h.updateLayout(),h.rendered&&Ext.resumeLayouts(!0),g},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){var c;return b&&b.isComponent&&(c=this.items.indexOf(b),-1!==c)?this.move(c,a):this.add(a,b)},move:function(a,b){var c,d=this.items;return a.isComponent&&(a=d.indexOf(a)),c=d.removeAt(a),c===!1?!1:(d.insert(b,c),this.onMove(c,a,b),this.updateLayout(),c)},onMove:Ext.emptyFn,onBeforeAdd:function(a){a.ownerCt&&a.ownerCt!==this&&a.ownerCt.remove(a,!1)},remove:function(a,b){var c=this,d=c.getComponent(a);return!d||c.hasListeners.beforeremove&&c.fireEvent("beforeremove",c,d)===!1||(c.doRemove(d,b),c.hasListeners.remove&&c.fireEvent("remove",c,d),c.destroying||d.floating||c.updateLayout()),d},doRemove:function(a,b){b=b===!0||b!==!1&&this.autoDestroy;var c=this,d=c.layout,e=d&&c.rendered,f=a.destroying||b,g=a.floating;g?c.floatingItems.remove(a):c.items.remove(a),e&&!g&&(d.running&&Ext.AbstractComponent.cancelLayout(a,f),d.onRemove(a,f)),a.onRemoved(f),c.onRemove(a,f),b?a.destroy():(e&&!g&&d.afterRemove(a),c.detachOnRemove&&a.rendered&&c.detachComponent(a))},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},removeAll:function(a){var b,c=this,d=c.items.items.slice().concat(c.floatingItems.items),e=[],f=0,g=d.length;for(c.suspendLayouts();g>f;f++)b=d[f],c.remove(b,a),b.ownerCt!==c&&e.push(b);return c.resumeLayouts(!!g),e},getRefItems:function(a){for(var b,c=this,d=c.items.items,e=d.length,f=0,g=[];e>f;f++)b=d[f],g[g.length]=b,a&&b.getRefItems&&g.push.apply(g,b.getRefItems(!0));for(d=c.floatingItems.items,e=d.length,f=0;e>f;f++)b=d[f],g[g.length]=b,a&&b.getRefItems&&g.push.apply(g,b.getRefItems(!0));return g},cascade:function(a,b,c){var d,e=this,f=e.items?e.items.items:[],g=f.length,h=0,i=c?c.concat(e):[e],j=i.length-1;if(a.apply(b||e,i)!==!1)for(;g>h;h++)d=f[h],d.cascade?d.cascade(a,b,c):(i[j]=d,a.apply(b||f,i));return this},isAncestor:function(a){for(;a;){if(a.ownerCt===this)return!0;a=a.ownerCt}},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());var b=this.items.get(a);return b||"number"==typeof a||(b=this.floatingItems.get(a)),b},contains:function(a,b){var c=!1;return b?(this.cascade(function(b){return b.contains&&b.contains(a)?(c=!0,!1):void 0}),c):this.items.contains(a)||this.floatingItems.contains(a)},nextChild:function(a,b){var c,d=this,e=d.items.indexOf(a);return-1!==e&&(c=b?Ext.ComponentQuery(b,d.items.items.slice(e+1)):d.items.getAt(e+1),!c&&d.ownerCt&&(c=d.ownerCt.nextChild(d,b))),c},prevChild:function(a,b){var c,d=this,e=d.items.indexOf(a);return-1!==e&&(c=b?Ext.ComponentQuery(b,d.items.items.slice(e+1)):d.items.getAt(e+1),!c&&d.ownerCt&&(c=d.ownerCt.nextChild(d,b))),c},enable:function(){this.callParent(arguments);var a,b,c=this.getChildItemsToDisable(),d=c.length;for(b=0;d>b;b++)a=c[b],a.resetDisable&&a.enable();return this},disable:function(){this.callParent(arguments);var a,b,c=this.getChildItemsToDisable(),d=c.length;for(b=0;d>b;b++)a=c[b],a.resetDisable===!1||a.disabled||(a.disable(),a.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var a,b=this,c=b.items,d=b.floatingItems;if(c)for(;a=c.first();)b.doRemove(a,!0);if(d)for(;a=d.first();)b.doRemove(a,!0);Ext.destroy(b.layout),b.callParent()}},0,0,["component","box"],{component:!0,box:!0},0,[["queryable",Ext.Queryable]],[Ext.container,"AbstractContainer"],0),Ext.cmd.derive("Ext.container.Container",Ext.container.AbstractContainer,{alternateClassName:"Ext.Container",getChildByElement:function(a,b){var c,d,e=0,f=this.getRefItems(),g=f.length;for(a=Ext.getDom(a);g>e;e++)if(c=f[e],d=c.getEl(),d&&(d.dom===a||d.contains(a)))return b&&c.getChildByElement?c.getChildByElement(a,b):c;return null}},0,["container"],["component","container","box"],{component:!0,container:!0,box:!0},["widget.container"],0,[Ext.container,"Container",Ext,"Container"],0),Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(){var a=this,b=a.owner.autoSize,c=b&&b.width,d=a.sizePolicies;return d=d[c]||d.$,c=b&&b.height,d=d[c]||d.$},calculate:function(a){var b,c,d=this,e=d.owner,f=e.autoSize;f===!0&&(f=d.autoSizeDefault),f&&(b=d.getDimension(e,f.width,"getWidth",e.width),c=d.getDimension(e,f.height,"getHeight",e.height)),a.childItems[0].setSize(b,c),a.setWidth(b),a.setHeight(c),a.setContentSize(b||e.field.getWidth(),c||e.field.getHeight())},getDimension:function(a,b,c,d){switch(b){case"boundEl":return a.boundEl[c]();case"field":return void 0;default:return d}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,"Editor"],0),Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field,"textfield");Ext.apply(b,{inEditor:!0,msgTarget:"title"==b.msgTarget?"title":"qtip"}),a.mon(b,{scope:a,blur:a.onFieldBlur,specialkey:a.onSpecialKey}),b.grow&&a.mon(b,"autosize",a.onFieldAutosize,a,{delay:1}),a.floating={constrain:a.constrain},a.items=b,a.callParent(arguments),a.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(){var a=this,b=a.field,c=b.inputEl;a.callParent(arguments),c&&(c.dom.name="",a.swallowKeys&&c.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(a,b){var c=this,d=b.getKey(),e=c.completeOnEnter&&d==b.ENTER,f=c.cancelOnEsc&&d==b.ESC;(e||f)&&(b.stopEvent(),Ext.defer(function(){e?c.completeEdit():c.cancelEdit(),a.triggerBlur&&a.triggerBlur(b)},10)),c.fireEvent("specialkey",c,a,b)},startEdit:function(a,b){var c=this,d=c.field;c.completeEdit(),c.boundEl=Ext.get(a),b=Ext.isDefined(b)?b:Ext.String.trim(c.boundEl.dom.innerText||c.boundEl.dom.innerHTML),c.rendered||(c.ownerCt&&(c.parentEl=c.ownerCt.el,c.parentEl.position()),c.render(c.parentEl||document.body)),c.fireEvent("beforestartedit",c,c.boundEl,b)!==!1&&(c.startValue=b,c.show(),d.suspendEvents(),d.reset(),d.setValue(b),d.resumeEvents(),c.realign(!0),d.focus(),d.autoSize&&d.autoSize(),c.editing=!0)},realign:function(a){var b=this;a===!0&&b.updateLayout(),b.alignTo(b.boundEl,b.alignment,b.offsets)},completeEdit:function(a){var b,c=this,d=c.field;if(c.editing)return d.assertValue&&d.assertValue(),b=c.getValue(),d.isValid()?String(b)===String(c.startValue)&&c.ignoreNoChange?void c.hideEdit(a):void(c.fireEvent("beforecomplete",c,b,c.startValue)!==!1&&(b=c.getValue(),c.updateEl&&c.boundEl&&c.boundEl.update(b),c.hideEdit(a),c.fireEvent("complete",c,b,c.startValue))):void(c.revertInvalid!==!1&&c.cancelEdit(a))},onShow:function(){var a=this;a.callParent(arguments),a.hideEl!==!1&&a.boundEl.hide(),a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(a){var b,c=this,d=c.startValue,e=c.field;c.editing&&(b=c.getValue(),e.suspendEvents(),c.setValue(d),e.resumeEvents(),c.hideEdit(a),c.fireEvent("canceledit",c,b,d))},hideEdit:function(a){a!==!0&&(this.editing=!1,this.hide())},onFieldBlur:function(){var a=this,b=Ext.Element.getActiveElement();a.allowBlur===!0&&a.editing&&a.selectSameEditor!==!0&&a.completeEdit(),(Ext.fly(b).isFocusable()||b.getAttribute("tabIndex"))&&b.focus()},onHide:function(){var a=this,b=a.field;return a.editing?void a.completeEdit():(b.hasFocus&&b.triggerBlur&&b.triggerBlur(),b.collapse&&b.collapse(),a.hideEl!==!1&&a.boundEl.show(),void a.callParent(arguments))},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field),delete a.field,delete a.parentEl,delete a.boundEl,a.callParent(arguments)}},0,["editor"],["editor","component","container","box"],{editor:!0,component:!0,container:!0,box:!0},["widget.editor"],0,[Ext,"Editor"],0),Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;return 1!==arguments.length||"string"==typeof a||a.dom||a.tagName||a===document||a.isComponent?void b.legacyConstructor.apply(b,arguments):(Ext.apply(b,a),b.bindings=[],b.target.isComponent||(b.target=Ext.get(b.target)),b.binding?b.addBinding(b.binding):a.key&&b.addBinding(a),void b.enable())},legacyConstructor:function(a,b,c){var d=this;Ext.apply(d,{target:Ext.get(a),eventName:c||d.eventName,bindings:[]}),b&&d.addBinding(b),d.enable()},addBinding:function(a){var b,c,d=this,e=a.key;if(d.processing&&(d.bindings=bindings.slice(0)),Ext.isArray(a))for(b=0,c=a.length;c>b;b++)d.addBinding(a[b]);else d.bindings.push(Ext.apply({keyCode:d.processKeys(e)},a))},removeBinding:function(a){var b,c,d,e=this,f=e.bindings,g=f.length;for(e.processing&&(e.bindings=f.slice(0)),d=e.processKeys(a.key),b=0;g>b;++b)if(c=f[b],c.fn===a.fn&&c.scope===a.scope&&a.alt==c.alt&&a.crtl==c.crtl&&a.shift==c.shift&&Ext.Array.equals(c.keyCode,d))return void Ext.Array.erase(e.bindings,b,1)},processKeys:function(a){var b,c,d,e,f,g=!1;if(Ext.isString(a)){for(c=[],d=a.toUpperCase(),f=0,e=d.length;e>f;++f)c.push(d.charCodeAt(f));a=c,g=!0}if(Ext.isArray(a)||(a=[a]),!g)for(f=0,e=a.length;e>f;++f)b=a[f],Ext.isString(b)&&(a[f]=b.toUpperCase().charCodeAt(0));return a},handleTargetEvent:function(){var a=/input|textarea/i;return function(b){var c,d,e,f,g,h=this;if(h.enabled){if(c=h.bindings,d=0,e=c.length,b=h.processEvent.apply(h||h.processEventScope,arguments),h.ignoreInputFields&&(f=b.target,g=f.contentEditable,a.test(f.tagName)||""===g||"true"===g))return;if(!b.getKey)return b;for(h.processing=!0;e>d;++d)h.processBinding(c[d],b);h.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var c,d,e=b.getKey(),f=a.fn||a.handler,g=a.scope||this,h=a.keyCode,i=a.defaultEventAction,j=new Ext.EventObjectImpl(b);for(c=0,d=h.length;d>c;++c)if(e===h[c]){f.call(g,e,b)!==!0&&i&&j[i]();
break}}},checkModifiers:function(a,b){for(var c,d,e=["shift","ctrl","alt"],f=0,g=e.length;g>f;++f)if(d=e[f],c=a[d],void 0!==c&&c!==b[d+"Key"])return!1;return!0},on:function(a,b,c){var d,e,f,g;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,f=a.ctrl,g=a.alt):d=a,this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},un:function(a,b,c){var d,e,f,g;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,f=a.ctrl,g=a.alt):d=a,this.removeBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){var a=this;a.enabled||(a.target.on(a.eventName,a.handleTargetEvent,a),a.enabled=!0)},disable:function(){var a=this;a.enabled&&(a.target.removeListener(a.eventName,a.handleTargetEvent,a),a.enabled=!1)},setDisabled:function(a){a?this.disable():this.enable()},destroy:function(a){var b=this,c=b.target;b.bindings=[],b.disable(),a===!0&&(c.isComponent?c.destroy():c.remove()),delete b.target}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0),Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;return 2===arguments.length?void b.legacyConstructor.apply(b,arguments):void b.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b,c,d,e,f,g=this,h={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:g.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:g.forceKeyDown,a.eventName)};g.map&&g.map.destroy(),a.processEvent&&(h.processEvent=a.processEvent,h.processEventScope=a.processEventScope||g),a.keyMap?b=g.map=a.keyMap:(b=g.map=new Ext.util.KeyMap(h),g.destroyKeyMap=!0),c=Ext.util.KeyNav.keyOptions,d=a.scope||g;for(e in c)c.hasOwnProperty(e)&&(f=a[e])&&("function"==typeof f&&(f={handler:f,defaultEventAction:void 0!==a.defaultEventAction?a.defaultEventAction:g.defaultEventAction}),b.addBinding({key:c[e],handler:Ext.Function.bind(g.handleEvent,f.scope||d,f.handler||f.fn,!0),defaultEventAction:void 0!==f.defaultEventAction?f.defaultEventAction:g.defaultEventAction}));b.disable(),a.disabled||b.enable()},handleEvent:function(a,b,c){return c.call(this,b)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(a){this.destroyKeyMap&&this.map.destroy(a),delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a),this.disabled=a},getKeyEvent:function(a,b){return a||Ext.EventManager.useKeyDown&&!b?"keydown":b||this.eventName}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0),Ext.cmd.derive("Ext.FocusManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.FocusMgr"],enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a),b.addEvents("beforecomponentfocus","componentfocus","disable","enable"),b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),b.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),b.onComponentFocus.apply(b,arguments))},onBlur:function(){this.callParent(arguments),b.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),b.onComponentBlur.apply(b,arguments))},onDestroy:function(){this.callParent(arguments),b.enabled&&(Array.prototype.unshift.call(arguments,this),b.onComponentDestroy.apply(b,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),b.enabled&&(Array.prototype.unshift.call(arguments,this),b.onComponentHide.apply(b,arguments))}}),b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,down:b.navigateSiblings,up:b.navigateSiblings}),b.focusData={},b.subscribers=new Ext.util.HashMap,b.focusChain={},Ext.apply(c.pseudos,{nextFocus:function(a,b,c){c=c||1,b=parseInt(b,10);for(var d,e=a.length,f=b;;){if((f+=c)>=e?f=0:0>f&&(f=e-1),f===b)return[];if((d=a[f]).isFocusable())return[d]}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a[e],b.ownerCt||d.push(b);return d}})},addXTypeToWhitelist:function(a){var b=this;return Ext.isArray(a)?void Ext.Array.forEach(a,b.addXTypeToWhitelist,b):void(Ext.Array.contains(b.whitelist,a)||b.whitelist.push(a))},clearComponent:function(a){clearTimeout(this.cmpFocusDelay),a.isDestroyed||a.blur()},disable:function(){var a=this;a.enabled&&(delete a.options,a.enabled=!1,a.removeDOM(),a.keyNav.disable(),a.fireEvent("disable",a))},enable:function(a){var b=this;a===!0&&(a={focusFrame:!0}),b.options=a=a||{},b.enabled||(b.enabled=!0,b.initDOM(a),b.keyNav.enable(),b.focusEl.focus(),delete b.focusedCmp,b.fireEvent("enable",b))},focusLast:function(){var a=this;return a.isWhitelisted(a.focusedCmp)?!0:void(a.previousFocusedCmp&&a.previousFocusedCmp.focus())},getRootComponents:function(){var a=Ext.ComponentQuery,b=a.query(":focusable:root:not([floating])"),c=a.query(":focusable:root[floating]");return c.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()}),c.concat(b)},initDOM:function(a){var b=this,c=b.focusFrameCls,d=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),e=0,f=d.length;if(!Ext.isReady)return Ext.onReady(b.initDOM,b);for(;f>e;e++)d[e].addFocusListener();b.focusEl||(b.focusEl=Ext.getBody(),b.focusEl.dom.tabIndex=-1),!b.focusFrame&&a.focusFrame&&(b.focusFrame=Ext.getBody().createChild({cls:c,children:[{cls:c+"-top"},{cls:c+"-bottom"},{cls:c+"-left"},{cls:c+"-right"}],style:"top: -100px; left: -100px;"}),b.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),b.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b,c,d=this,e=d.focusedCmp;return d.isWhitelisted(e)?!0:void(e?(c=e.hasFocus?Ext.ComponentQuery.query(">:focusable",e)[0]:e,c?c.focus():Ext.isFunction(e.onClick)&&(a.button=0,e.onClick(a),e.isVisible(!0)?e.focus():d.navigateOut())):(b=d.getRootComponents()[0],b&&(b.getFocusEl()===d.focusEl&&d.focusEl.blur(),b.focus())))},navigateOut:function(){var a,b=this;return b.focusedCmp&&(a=b.focusedCmp.up(":focusable"))?a.focus():b.focusEl.focus(),!0},navigateSiblings:function(a,b,c){var d,e,f,g,h=this,i=b||h,j=a.getKey(),k=Ext.EventObject,l=a.shiftKey||j==k.LEFT||j==k.UP,m=j==k.LEFT||j==k.RIGHT||j==k.UP||j==k.DOWN,n=l?"prev":"next";return f=i.focusedCmp&&i.focusedCmp.comp||i.focusedCmp,f||c?m&&h.isWhitelisted(f)?!0:(!f||f.is(":root")?g=h.getRootComponents():(c=c||f.up(),c&&(g=c.getRefItems())),g&&(d=f?Ext.Array.indexOf(g,f):-1,e=Ext.ComponentQuery.query(":"+n+"Focus("+d+")",g)[0],e&&f!==e)?(e.focus(),e):void 0):!0},onComponentBlur:function(a){var b=this;b.focusedCmp===a&&(b.previousFocusedCmp=a,delete b.focusedCmp),b.focusFrame&&b.focusFrame.hide()},onComponentFocus:function(a){var b,c=this,d=c.focusChain;if(!a.isFocusable()){if(c.clearComponent(a),d[a.id])return;return b=a.up(),void(b&&(d[a.id]=!0,b.focus()))}c.focusChain={},c.focusTask.delay(10,null,null,[a,a.getFocusEl()])},handleComponentFocus:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this;return n.fireEvent("beforecomponentfocus",n,a,n.previousFocusedCmp)===!1?void n.clearComponent(a):(n.focusedCmp=a,n.shouldShowFocusFrame(a)&&(c="."+n.focusFrameCls+"-",d=n.focusFrame,e=(b.dom?b:b.el).getBox(),f=e.top,g=e.left,h=e.width,i=e.height,j=d.child(c+"top"),k=d.child(c+"bottom"),l=d.child(c+"left"),m=d.child(c+"right"),j.setWidth(h).setLocalXY(g,f),k.setWidth(h).setLocalXY(g,f+i-2),l.setHeight(i-2).setLocalXY(g,f+2),m.setHeight(i-2).setLocalXY(g+h-2,f+2),d.show()),void n.fireEvent("componentfocus",n,a,n.previousFocusedCmp))},onComponentHide:function(a){var b,c=this,d=!1,e=c.focusedCmp;e&&(d=a.hasFocus||a.isContainer&&a.isAncestor(c.focusedCmp)),c.clearComponent(a),d&&(b=a.up(":focusable"))?b.focus():c.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var a=this;a.enabled||a.subscribers.length||(Ext.destroy(a.focusFrame),delete a.focusEl,delete a.focusFrame)},removeXTypeFromWhitelist:function(a){var b=this;return Ext.isArray(a)?void Ext.Array.forEach(a,b.removeXTypeFromWhitelist,b):void Ext.Array.remove(b.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,f={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c},g=function(b){return c.focusedCmp===a?c.navigateSiblings(b,c,a):c.navigateSiblings(b)};return Ext.iterate(b,function(b,c){f[b]=function(b){var d=g(b);return Ext.isFunction(c)&&c.call(e||a,b,d)===!0?!0:d}},c),new Ext.util.KeyNav(d,f)},shouldShowFocusFrame:function(a){var b=this,c=b.options||{};return b.focusFrame&&a?c.focusFrame?!0:b.focusData[a.id].focusFrame?!0:!1:!1}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"FocusManager",Ext,"FocusMgr"],0),Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var a,b,c=this,d=c.callParent(),e=Ext._glyphFontFamily,f=c.glyph;return"img"==c.autoEl?a=d:c.glyph?("string"==typeof f&&(b=f.split("@"),f=b[0],e=b[1]),d.html="&#"+f+";",e&&(d.style="font-family:"+e)):d.cn=[a={tag:"img",id:c.id+"-img"}],a&&(c.imgCls&&(a.cls=(a.cls?a.cls+" ":"")+c.imgCls),a.src=c.src||Ext.BLANK_IMAGE_URL),c.alt&&((a||d).alt=c.alt),c.title&&((a||d).title=c.title),d},onRender:function(){var a,b=this;b.callParent(arguments),a=b.el,b.imgEl="img"==b.autoEl?a:a.getById(b.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(a){var b=this,c=b.imgEl;b.src=a,c&&(c.dom.src=a||Ext.BLANK_IMAGE_URL)},setGlyph:function(a){var b,c,d=this,e=Ext._glyphFontFamily;a!=d.glyph&&("string"==typeof a&&(b=a.split("@"),a=b[0],e=b[1]),c=d.el.dom,c.innerHTML="&#"+a+";",e&&(c.style="font-family:"+e))}},0,["image","imagecomponent"],["component","image","box","imagecomponent"],{component:!0,image:!0,box:!0,imagecomponent:!0},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0),Ext.cmd.derive("Ext.util.Bindable",Ext.Base,{bindStore:function(a,b,c){c=c||"store";var d=this,e=d[c];return!b&&e&&(d.onUnbindStore(e,b,c),a!==e&&e.autoDestroy?e.destroyStore():d.unbindStoreListeners(e)),a&&(a=Ext.data.StoreManager.lookup(a),d.bindStoreListeners(a),d.onBindStore(a,b,c)),d[c]=a||null,d},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;b&&a.un(b)},bindStoreListeners:function(a){var b=this,c=Ext.apply({},b.getStoreListeners(a));c.scope||(c.scope=b),b.storeListeners=c,a.on(c)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Bindable"],0),Ext.cmd.derive("Ext.LoadMask",Ext.Component,{msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(a){var b,c=this;2===arguments.length?(b=a,a=arguments[1]):b=a.target,b.isComponent||(b=Ext.get(b),this.isElement=!0),c.ownerCt=b,this.isElement||c.bindComponent(b),c.callParent([a]),c.store&&c.bindStore(c.store,!0)},bindComponent:function(a){var b=this,c={scope:this,resize:b.sizeMask,added:b.onComponentAdded,removed:b.onComponentRemoved};a.floating?(c.move=b.sizeMask,b.activeOwner=a):a.ownerCt?b.onComponentAdded(a.ownerCt):b.preventBringToFront=!0,b.mon(a,c),b.mon(b.hierarchyEventSource,{show:b.onContainerShow,hide:b.onContainerHide,expand:b.onContainerExpand,collapse:b.onContainerCollapse,scope:b})},onComponentAdded:function(a){var b=this;delete b.activeOwner,b.floatParent=a,a.floating||(a=a.up("[floating]")),a?(b.activeOwner=a,b.mon(a,"move",b.sizeMask,b)):b.preventBringToFront=!0,a=b.floatParent.ownerCt,b.rendered&&b.isVisible()&&a&&(b.floatOwner=a,b.mon(a,"afterlayout",b.sizeMask,b,{single:!0}))},onComponentRemoved:function(){var a=this,b=a.activeOwner,c=a.floatOwner;b&&a.mun(b,"move",a.sizeMask,a),c&&a.mun(c,"afterlayout",a.sizeMask,a),delete a.activeOwner,delete a.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){this.isActiveContainer(a)&&this.onComponentShow()},onContainerHide:function(a){this.isActiveContainer(a)&&this.onComponentHide()},onContainerExpand:function(a){this.isActiveContainer(a)&&this.onComponentShow()},onContainerCollapse:function(a){this.isActiveContainer(a)&&this.onComponentHide()},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;a.rendered&&a.isVisible()&&(a.hide(),a.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var a,b=this;b.rendered&&b.isVisible()&&(b.center(),a=b.getMaskTarget(),b.getMaskEl().show().setSize(a.getSize()).alignTo(a,"tl-tl"))},bindStore:function(a){var b=this;b.mixins.bindable.bindStore.apply(b,arguments),a=b.store,a&&a.isLoading()&&b.onBeforeLoad()},getStoreListeners:function(a){var b=this.onLoad,c=this.onBeforeLoad,d={cachemiss:c,cachefilled:b};return a.proxy.isSynchronous||(d.beforeLoad=c,d.load=b),d},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var a,b=this,c=b.getOwner();b.disabled||(b.loading=!0,c.componentLayoutCounter?b.maybeShow():(a=c.afterComponentLayout,c.afterComponentLayout=function(){c.afterComponentLayout=a,a.apply(c,arguments),b.maybeShow()}))},maybeShow:function(){var a=this,b=a.getOwner();b.isVisible(!0)?a.loading&&b.rendered&&a.show():a.showNext=!0},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var a=this,b=a.msgEl;a.callParent(arguments),a.loading=!0,a.useMsg?(b.show(),a.msgTextEl.update(a.msg)):b.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(a){var b=this,c=b.activeOwner;return c&&(a=parseInt(c.el.getStyle("zIndex"),10)+1),b.getMaskEl().setStyle("zIndex",a-1),b.mixins.floating.setZIndex.apply(b,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var a=this;a.isElement&&a.ownerCt.unmask(),Ext.destroy(a.maskEl),a.callParent()}},1,["loadmask"],["component","box","loadmask"],{component:!0,box:!0,loadmask:!0},["widget.loadmask"],[["floating",Ext.util.Floating],["bindable",Ext.util.Bindable]],[Ext,"LoadMask"],0),Ext.cmd.derive("Ext.data.association.Association",Ext.Base,{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(a){switch(Ext.isString(a)&&(a={type:a}),a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a)}return a}},constructor:function(a){Ext.apply(this,a);var b,c=this,d=Ext.ModelManager.types,e=a.ownerModel,f=a.associatedModel,g=d[e],h=d[f],i=a.associationKey;i&&(b=String(i).search(/[\[\.]/),b>=0&&(c.associationKeyFunction=Ext.functionFactory("obj","return obj"+(b>0?".":"")+i))),c.initialConfig=a,c.ownerModel=g,c.associatedModel=h,Ext.applyIf(c,{ownerName:e,associatedName:f}),c.associationId="association"+ ++c.statics().AUTO_ID},getReader:function(){var a=this,b=a.reader,c=a.associatedModel;return b&&(Ext.isString(b)&&(b={type:b}),b.isReader?b.setModel(c):Ext.applyIf(b,{model:c,type:a.defaultReaderType}),a.reader=Ext.createByAlias("reader."+b.type,b)),a.reader||null}},1,0,0,0,0,0,[Ext.data.association,"Association",Ext.data,"Association"],0),Ext.cmd.derive("Ext.ModelManager",Ext.AbstractManager,{alternateClassName:"Ext.ModelMgr",singleton:!0,typeName:"mtype",associationStack:[],registerType:function(a,b){var c,d=b.prototype;return d&&d.isModel?c=b:(b.extend||(b.extend="Ext.data.Model"),c=Ext.define(a,b)),this.types[a]=c,c},unregisterType:function(a){delete this.types[a]},onModelDefined:function(a){var b,c,d,e=this.associationStack,f=e.length,g=[];for(c=0;f>c;c++)b=e[c],b.associatedModel==a.modelName&&g.push(b);for(c=0,f=g.length;f>c;c++)d=g[c],this.types[d.ownerModel].prototype.associations.add(Ext.data.association.Association.create(d)),Ext.Array.remove(e,d)},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){var b=a;return"string"==typeof b&&(b=this.types[b]),b},create:function(a,b,c){var d="function"==typeof b?b:this.types[b||a.name];return new d(a,c)}},0,0,0,0,0,0,[Ext,"ModelManager",Ext,"ModelMgr"],function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(a){var b,c,d=this;if(d.callParent(arguments),!a.textEls)if(c=d.owner.textEl,c.isComposite)for(a.textEls=[],c=c.elements,b=c.length;b--;)a.textEls[b]=a.getEl(Ext.get(c[b]));else a.textEls=[a.getEl("textEl")]},calculate:function(a){var b,c,d,e=this;if(e.callParent(arguments),Ext.isNumber(d=a.getProp("width")))for(d-=a.getBorderInfo().width,c=a.textEls,b=c.length;b--;)c[b].setWidth(d);else e.done=!1}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0),Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?100*a.value:0})},onRender:function(){var a=this;a.callParent(arguments),a.textEl?(a.textEl=Ext.get(a.textEl),a.updateText(a.text)):a.textEl=a.el.select("."+a.baseCls+"-text")},updateProgress:function(a,b,c){var d=this,e=d.value;return d.value=a||0,b&&d.updateText(b),d.rendered&&!d.isDestroyed&&(c===!0||c!==!1&&d.animate?(d.bar.stopAnimation(),d.bar.animate(Ext.apply({from:{width:100*e+"%"},to:{width:100*d.value+"%"}},d.animate))):d.bar.setStyle("width",100*d.value+"%")),d.fireEvent("update",d,d.value,b),d},updateText:function(a){var b=this;return b.text=a,b.rendered&&b.textEl.update(b.text),b},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b,c=this;return c.waitTimer||(b=c,a=a||{},c.updateText(a.text),c.waitTimer=Ext.TaskManager.start({run:function(b){var d=a.increment||10;b-=1,c.updateProgress(((b+d)%d+1)*(100/d)*.01,null,a.animate)},interval:a.interval||1e3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||c),c.reset()},scope:b})),c},isWaiting:function(){return null!==this.waitTimer},reset:function(a){var b=this;return b.updateProgress(0),b.clearTimer(),a===!0&&b.hide(),b},clearTimer:function(){var a=this;a.waitTimer&&(a.waitTimer.onStop=null,Ext.TaskManager.stop(a.waitTimer),a.waitTimer=null)},onDestroy:function(){var a=this,b=a.bar;a.clearTimer(),a.rendered&&(a.textEl.isComposite&&a.textEl.clear(),Ext.destroyMembers(a,"textEl","progressBar"),b&&a.animate&&b.stopAnimation()),a.callParent()}},0,["progressbar"],["component","progressbar","box"],{component:!0,progressbar:!0,box:!0},["widget.progressbar"],0,[Ext,"ProgressBar"],0),Ext.cmd.derive("Ext.ShadowPool",Ext.Base,{singleton:!0,markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();return a||(a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup)),a.autoBoxAdjust=!1),a},push:function(a){this.shadows.push(a)},reset:function(){var a,b=[].concat(this.shadows),c=b.length;for(a=0;c>a;a++)b[a].remove();this.shadows=[]}},0,0,0,0,0,0,[Ext,"ShadowPool"],0),Ext.cmd.derive("Ext.Shadow",Ext.Base,{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a){var b,c,d,e=this;switch(Ext.apply(e,a),Ext.isString(e.mode)||(e.mode=e.defaultMode),c=e.offset,d=Math.floor(c/2),e.opacity=50,e.mode.toLowerCase()){case"drop":b=Ext.supports.CSS3BoxShadow?{t:c,l:c,h:-c,w:-c}:{t:-d,l:-d,h:-d,w:-d};break;case"sides":b=Ext.supports.CSS3BoxShadow?{t:c,l:0,h:-c,w:0}:{t:-(1+d),l:1+d-2*c,h:-1,w:d-1};break;case"frame":b=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+d-2*c,l:1+d-2*c,h:c-d-1,w:c-d-1};break;case"bottom":b=Ext.supports.CSS3BoxShadow?{t:c,l:0,h:-c,w:0}:{t:c,l:0,h:0,w:0}}e.adjusts=b},getShadowSize:function(){var a=this,b=a.el?a.offset:0,c=[b,b,b,b],d=a.mode.toLowerCase();return a.el&&"frame"!==d&&(c[0]=0,"drop"==d&&(c[3]=0)),c},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;return"boxShadow"in b||("WebkitBoxShadow"in b?a="WebkitBoxShadow":"MozBoxShadow"in b&&(a="MozBoxShadow")),a}(),show:function(a){var b,c,d=this;a=Ext.get(a),b=parseInt(a.getStyle("z-index"),10)-1||0,c=a[d.localXYNames.get](),d.el||(d.el=Ext.ShadowPool.pull(),d.el.dom.style.position=d.fixed?"fixed":"",d.el.dom.nextSibling!=a.dom&&d.el.insertBefore(a)),d.el.setStyle("z-index",d.zIndex||b),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(d.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+d.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+d.offset+")"),d.realign(c[0],c[1],a.dom.offsetWidth,a.dom.offsetHeight),d.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(a,b,c,d){if(this.el){var e,f,g,h,i=this.adjusts,j=this.el,k=j.dom.style;j[this.localXYNames.set](a+i.l,b+i.t),e=Math.max(c+i.w,0),f=Math.max(d+i.h,0),g=e+"px",h=f+"px",(k.width!=g||k.height!=h)&&(k.width=g,k.height=h,Ext.supports.CSS3BoxShadow&&(k[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){var a=this;a.el&&(a.el.dom.style.display="none",Ext.ShadowPool.push(a.el),delete a.el)},setZIndex:function(a){this.zIndex=a,this.el&&this.el.setStyle("z-index",a)},setOpacity:function(a){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(a=Math.floor(100*a/2)/100),this.opacity=a,this.el.setOpacity(a))}},1,0,0,0,0,0,[Ext,"Shadow"],0),Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:!0,constructor:function(){var a=this;Ext.app.EventDomain.instances[a.type]=a,a.bus={},a.monitoredClasses=[]},dispatch:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=k.bus,m=l[b];if(!m)return!0;for(d in m)if(m.hasOwnProperty(d)&&k.match(a,d)){e=m[d];for(f in e)if(e.hasOwnProperty(f))for(g=e[f],i=0,j=g.length;j>i;i++)if(h=g[i],h.fire.apply(h,c)===!1)return!1}return!0},listen:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m.bus,o=m.idProperty,p=m.monitoredClasses,q=p.length;for(f in a)if(a.hasOwnProperty(f)&&(k=a[f])){o&&(f="*"===f?f:f.substring(1));for(l in k)if(k.hasOwnProperty(l)){for(g=null,h=k[l],i=b,j=new Ext.util.Event(b,l),Ext.isObject(h)&&(g=h,h=g.fn,i=g.scope||b,delete g.fn,delete g.scope),"string"==typeof h&&(h=i[h]),j.addListener(h,i,g),c=q;c-->0;)p[c].hasListeners._incr_(l);d=n[l]||(n[l]={}),d=d[f]||(d[f]={}),e=d[b.id]||(d[b.id]=[]),e.push(j)}}},match:function(a,b){var c=this.idProperty;return c?"*"===b||a[c]===b:!1},monitor:function(a){var b=this,c=a.isInstance?a:a.prototype,d=c.fireEventArgs;b.monitoredClasses.push(a),c.fireEventArgs=function(a,c){var e=d.apply(this,arguments);return e!==!1&&(e=b.dispatch(this,a,c)),e}},unlisten:function(a){var b,c,d,e,f=this.bus;for(c in f)if(f.hasOwnProperty(c)&&(e=f[c]))for(d in e)b=e[d],delete b[a]}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0),Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:!0,type:"component",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.Component)},match:function(a,b){return a.is(b)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0),Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:!0,constructor:function(){var a=this,b=Ext.app.EventDomain.instances;a.callParent(),a.domains=b,a.bus=b.component.bus},control:function(a,b){return this.domains.component.listen(a,b)},listen:function(a,b){var c,d=this.domains;for(c in a)a.hasOwnProperty(c)&&d[c].listen(a[c],b)},unlisten:function(a){var b,c=Ext.app.EventDomain.instances;for(b in c)c[b].unlisten(a)}},1,0,0,0,0,0,[Ext.app,"EventBus"],0),Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var a,b=0;a=arguments[b];b++)this.add(a)},unregister:function(){for(var a,b=0;a=arguments[b];b++)this.remove(this.lookup(a))},lookup:function(a){if(Ext.isArray(a)){var b,c,d=["field1"],e=!Ext.isArray(a[0]),f=a;if(e)for(f=[],b=0,c=a.length;c>b;++b)f.push([a[b]]);else for(b=2,c=a[0].length;c>=b;++b)d.push("field"+b);return new Ext.data.ArrayStore({data:f,fields:d,autoDestroy:!0,autoCreated:!0,expanded:e})}return Ext.isString(a)?this.get(a):Ext.data.AbstractStore.create(a)},getKey:function(a){return a.storeId}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(a,b){var c;return Ext.isObject(a)?b=a:b.storeId=a,c=b instanceof Ext.data.Store?b:new Ext.data.Store(b),Ext.data.StoreManager.register(c)},Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}}),Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:!0,type:"global",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.globalEvents)},listen:function(a,b){this.callParent([{global:a},b])},match:function(){return!0}},1,0,0,0,0,0,[Ext.app.domain,"Global"],0),Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{loaded:!0,count:0,total:0,success:!1,constructor:function(a){Ext.apply(this,a),this.totalRecords=this.total,void 0===a.count&&(this.count=this.records.length)}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0),Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.fieldCount=0,b.model=Ext.ModelManager.getModel(b.model),b.model&&b.model.prototype.fields&&b.buildExtractors(),this.addEvents("exception")},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a),a&&c.buildExtractors(!0),b&&c.proxy&&c.proxy.setModel(c.model,!0)},read:function(a){var b;return a&&(b=a.responseText?this.getResponseData(a):this.readRecords(a)),b||this.nullResultSet},readRecords:function(a){var b,c,d,e,f,g,h,i=this;return i.lastFieldGeneration!==i.model.prototype.fields.generation&&i.buildExtractors(!0),i.rawData=a,a=i.getData(a),b=!0,c=0,d=[],i.successProperty&&(g=i.getSuccess(a),(g===!1||"false"===g)&&(b=!1)),i.messageProperty&&(h=i.getMessage(a)),(i.readRecordsOnFailure||b)&&(e=Ext.isArray(a)?a:i.getRoot(a),e&&(f=e.length),i.totalProperty&&(g=parseInt(i.getTotal(a),10),isNaN(g)||(f=g)),e&&(d=i.extractData(e),c=d.length)),new Ext.data.ResultSet({total:f||c,count:c,records:d,success:b,message:h})},extractData:function(a){var b,c,d,e,f=this,g=f.model,h=a.length,i=new Array(h);for(!a.length&&Ext.isObject(a)&&(a=[a],h=1),e=0;h>e;e++)c=a[e],c.isModel?i[e]=c:(i[e]=d=new g(void 0,f.getId(c),c,b={}),d.phantom=!1,f.convertRecordData(b,c,d),f.implicitIncludes&&d.associations.length&&f.readAssociated(d,c));return i},readAssociated:function(a,b){for(var c,d,e,f,g=a.associations.items,h=0,i=g.length;i>h;h++)c=g[h],d=this.getAssociatedDataRoot(b,c.associationKeyFunction||c.associationKey||c.name),d&&(f=c.getReader(),f||(e=c.associatedModel.getProxy(),f=e?e.getReader():new this.constructor({model:c.associatedName})),c.read(a,f,d))},getAssociatedDataRoot:function(a,b){return Ext.isFunction(b)?b(a):a[b]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(){},onMetaChange:function(a){var b,c,d=this,e=a.fields||d.getFields();d.metaData=a,d.root=a.root||d.root,d.idProperty=a.idProperty||d.idProperty,d.totalProperty=a.totalProperty||d.totalProperty,d.successProperty=a.successProperty||d.successProperty,d.messageProperty=a.messageProperty||d.messageProperty,c=a.clientIdProperty,d.model?(d.model.setFields(e,d.idProperty,c),d.setModel(d.model,!0)):(b=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:e,clientIdProperty:c}),d.idProperty&&(b.idProperty=d.idProperty),d.setModel(b,!0))},getIdProperty:function(){var a=this.model.prototype.idField,b=this.idProperty;return!b&&a&&null==(b=a.mapping)&&(b=a.name),b},buildExtractors:function(a){var b,c=this,d=c.getIdProperty(),e=c.totalProperty,f=c.successProperty,g=c.messageProperty;a===!0&&delete c.convertRecordData,c.convertRecordData||(e&&(c.getTotal=c.createAccessor(e)),f&&(c.getSuccess=c.createAccessor(f)),g&&(c.getMessage=c.createAccessor(g)),d?(b=c.createAccessor(d),c.getId=function(a){var d=b.call(c,a);return void 0===d||""===d?null:d}):c.getId=function(){return null},c.convertRecordData=c.buildRecordDataExtractor(),c.lastFieldGeneration=c.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,c={clientIdProp:b.clientIdProperty,fields:b.fields.items};
return a.recordDataExtractorTemplate.createFieldAccessExpression=function(){return a.createFieldAccessExpression.apply(a,arguments)},Ext.functionFactory(a.recordDataExtractorTemplate.apply(c)).call(a)},destroyReader:function(){var a=this;delete a.proxy,delete a.model,delete a.convertRecordData,delete a.getId,delete a.getTotal,delete a.getSuccess,delete a.getMessage}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})}),Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(a){var b,c=this;return c.getMeta?(b=c.getMeta(a),b&&c.onMetaChange(b)):a.metaData&&c.onMetaChange(a.metaData),c.jsonData=a,c.callParent([a])},getResponseData:function(a){var b,c;try{return b=Ext.decode(a.responseText),this.readRecords(b)}catch(d){return c=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:d.message}),this.fireEvent("exception",this,a,c),Ext.Logger.warn("Unable to parse the JSON returned by the server"),c}},buildExtractors:function(){var a=this,b=a.metaProperty;a.callParent(arguments),a.getRoot=a.root?a.createAccessor(a.root):Ext.identityFn,b&&(a.getMeta=a.createAccessor(b))},extractData:function(a){var b,c,d=this.record,e=[];if(d)for(b=a.length,!b&&Ext.isObject(a)&&(b=1,a=[a]),c=0;b>c;c++)e[c]=a[c][d];else e=a;return this.callParent([e])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.useSimpleAccessors!==!0){var c=String(b).search(a);if(c>=0)return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(b,c,d){var e,f,g=b.mapping,h=g||0===g,i=h?g:b.name;if(g!==!1){if("function"==typeof i)e=c+".mapping("+d+", this)";else if(this.useSimpleAccessors===!0||(f=String(i).search(a))<0)(!h||isNaN(i))&&(i='"'+i+'"'),e=d+"["+i+"]";else if(0===f)e=d+i;else{for(var j=i.split("."),k=j.length,l=1,m=d+"."+j[0],n=[m];k>l;l++)m+="."+j[l],n.push(m);e=n.join(" && ")}return e}}}()},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0),Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(a){Ext.apply(this,a)},write:function(a){for(var b=a.operation,c=b.records||[],d=c.length,e=0,f=[];d>e;e++)f.push(this.getRecordData(c[e],b));return this.writeRecords(a,f)},getRecordData:function(a,b){var c,d,e,f,g,h,i=a.phantom===!0,j=this.writeAllFields||i,k=a.fields,l=k.items,m={},n=a.clientIdProperty;if(j)for(h=l.length,g=0;h>g;g++)d=l[g],d.persist&&this.writeValue(m,d,a);else{c=a.getChanges();for(e in c)c.hasOwnProperty(e)&&(d=k.get(e),d.persist&&this.writeValue(m,d,a))}return i?n&&b&&b.records.length>1&&(m[n]=a.internalId):this.writeRecordId&&(f=k.get(a.idProperty)[this.nameProperty]||a.idProperty,m[f]=a.getId()),m},writeValue:function(a,b,c){var d=b[this.nameProperty],e=this.dateFormat||b.dateWriteFormat||b.dateFormat,f=c.get(b.name);null==d&&(d=b.name),a[d]=b.serialize?b.serialize(f,c):b.type===Ext.data.Types.DATE&&e&&Ext.isDate(f)?Ext.Date.format(f,e):f}},1,0,0,0,["writer.base"],0,[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0),Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(a){for(var b,c,d,e,f,g=a.length,h=0,i=function(a,b){var c={};return c[a]=b,c};g>h;h++){b=a[h];for(c in b)if(b.hasOwnProperty(c)&&(d=c.split("."),e=d.length-1,e>0)){for(f=b[c];e>0;e--)f=i(d[e],f);b[d[0]]=b[d[0]]||{},Ext.Object.merge(b[d[0]],f),delete b[c]}}return a},writeRecords:function(a,b){var c=this.root;return this.expandData&&(b=this.getExpandedData(b)),this.allowSingle&&1===b.length&&(b=b[0]),this.encode?c&&(a.params[c]=Ext.encode(b)):(a.jsonData=a.jsonData||{},c?a.jsonData[c]=b:a.jsonData=b),a}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0),Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,isSynchronous:!1,constructor:function(a){var b=this;a=a||{},b.proxyConfig=a,b.mixins.observable.constructor.call(b,a),void 0===b.model||b.model instanceof Ext.data.Model?(b.reader&&b.setReader(b.reader),b.writer&&b.setWriter(b.writer)):b.setModel(b.model)},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a),c.setReader(this.reader),c.setWriter(this.writer),b&&c.store&&c.store.setModel(c.model)},getModel:function(){return this.model},setReader:function(a){var b=this,c=!0,d=b.reader;return(void 0===a||"string"==typeof a)&&(a={type:a},c=!1),a.isReader?a.setModel(b.model):(c&&(a=Ext.apply({},a)),Ext.applyIf(a,{proxy:b,model:b.model,type:b.defaultReaderType}),a=Ext.createByAlias("reader."+a.type,a)),a!==d&&a.onMetaChange&&(a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)),b.reader=a,b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){var b=this,c=!0;return(void 0===a||"string"==typeof a)&&(a={type:a},c=!1),a.isWriter||(c&&(a=Ext.apply({},a)),Ext.applyIf(a,{model:b.model,type:b.defaultWriterType}),a=Ext.createByAlias("writer."+a.type,a)),b.writer=a,b.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=l.batchActions;for(void 0===a.operations&&(a={operations:a,listeners:b}),a.batch?Ext.isDefined(a.batch.runOperation)&&(c=Ext.applyIf(a.batch,{proxy:l,listeners:{}})):a.batch={proxy:l,listeners:a.listeners||{}},c||(c=new Ext.data.Batch(a.batch)),c.on("complete",Ext.bind(l.onBatchComplete,l,[a],0)),e=l.batchOrder.split(","),f=e.length,h=0;f>h;h++)if(g=e[h],d=a.operations[g])if(m)c.add(new Ext.data.Operation({action:g,records:d}));else for(j=d.length,i=0;j>i;i++)k=d[i],c.add(new Ext.data.Operation({action:g,records:[k]}));return c.start(),c},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]),Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},clone:function(){return new this.self(this.proxyConfig)}},1,0,0,0,["proxy.proxy"],[["observable",Ext.util.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0),Ext.cmd.derive("Ext.data.Operation",Ext.Base,{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.actionCommitRecordsRe.test(k.action);if(!k.actionSkipSyncRe.test(k.action)&&(d=k.records,d&&d.length)){if(l&&(j=[]),d.length>1)if("update"==k.action||d[0].clientIdProperty)for(b=new Ext.util.MixedCollection,b.addAll(a),c=d.length;c--;)f=d[c],e=b.findBy(k.matchClientRec,f),i=f.copyFrom(e),l&&j.push(i);else for(g=0,h=d.length;h>g;++g)f=d[g],e=a[g],f&&e&&(i=k.updateRecord(f,e),l&&j.push(i));else i=k.updateRecord(d[0],a[0]),l&&(j[0]=i);if(l)for(c=d.length;c--;)d[c].commit(!1,j[c])}},updateRecord:function(a,b){return b&&(a.phantom||a.getId()===b.getId())?a.copyFrom(b):[]},matchClientRec:function(a){var b=this,c=b.getId();return c&&a.getId()===c?!0:a.internalId===b.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(a){this.exception=!0,this.success=!1,this.running=!1,this.error=a},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(a){this.batch=a},allowWrite:function(){return"read"!=this.action}},1,0,0,0,0,0,[Ext.data,"Operation"],0),Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{statics:{create:function(a){return a.isStore||(a.type||(a.type="store"),a=Ext.createByAlias("store."+a.type,a)),a}},onClassExtended:function(a,b,c){var d,e=b.model;"string"==typeof e&&(d=c.onBeforeCreated,c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(e,function(){d.apply(a,b)})})},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(a){var b,c=this;Ext.apply(c,a),c.removed=[],c.mixins.observable.constructor.apply(c,arguments),c.model=Ext.ModelManager.getModel(c.model),Ext.applyIf(c,{modelDefaults:null}),!c.model&&c.fields&&(c.model=Ext.define("Ext.data.Store.ImplicitModel-"+(c.storeId||Ext.id()),{extend:"Ext.data.Model",fields:c.fields,proxy:c.proxy||c.defaultProxyType}),delete c.fields,c.implicitModel=!0),c.setProxy(c.proxy||c.model.getProxy()),c.disableMetaChangeEvent||c.proxy.on("metachange",c.onMetaChange,c),c.id&&!c.storeId&&(c.storeId=c.id,delete c.id),c.storeId&&Ext.data.StoreManager.register(c),c.mixins.sortable.initSortable.call(c),b=c.decodeFilters(c.filters),c.filters=new Ext.util.MixedCollection,c.filters.addAll(b)},setProxy:function(a){var b=this;return a instanceof Ext.data.proxy.Proxy?a.setModel(b.model):(Ext.isString(a)&&(a={type:a}),Ext.applyIf(a,{model:b.model}),a=Ext.createByAlias("proxy."+a.type,a)),b.proxy=a,b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c,d=this,e=Ext.ModelManager.create(Ext.applyIf(a,d.modelDefaults),d.model.modelName);return b=b||{},Ext.applyIf(b,{action:"create",records:[e]}),c=new Ext.data.Operation(b),d.proxy.create(c,d.onProxyWrite,d),e},read:function(){return this.load.apply(this,arguments)},update:function(a){var b,c=this;return a=a||{},Ext.applyIf(a,{action:"update",records:c.getUpdatedRecords()}),b=new Ext.data.Operation(a),c.proxy.update(b,c.onProxyWrite,c)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.action){case"create":b.onCreateRecords(d,a,c);break;case"update":b.onUpdateRecords(d,a,c);break;case"destroy":b.onDestroyRecords(d,a,c)}c&&(b.fireEvent("write",b,a),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){c&&(this.removed=[])},destroy:function(a){var b,c=this;return a=a||{},Ext.applyIf(a,{action:"destroy",records:c.getRemovedRecords()}),b=new Ext.data.Operation(a),c.proxy.destroy(b,c.onProxyWrite,c)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a){var b,c=this,d=a.operations,e=d.length;for(c.suspendEvents(),b=0;e>b;b++)c.onProxyWrite(d[b]);c.resumeEvents(),c.fireEvent("datachanged",c),c.fireEvent("refresh",c)},onBatchException:function(){},filterNew:function(a){return a.phantom===!0&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(){},decodeFilters:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b,c,d=a.length,e=Ext.util.Filter;for(c=0;d>c;c++)b=a[c],b instanceof e||(Ext.apply(b,{root:"data"}),b.fn&&(b.filterFn=b.fn),"function"==typeof b&&(b={filterFn:b}),a[c]=new e(b));return a},clearFilter:function(){},isFiltered:function(){},filterBy:function(){},sync:function(a){var b=this,c={},d=b.getNewRecords(),e=b.getUpdatedRecords(),f=b.getRemovedRecords(),g=!1;return d.length>0&&(c.create=d,g=!0),e.length>0&&(c.update=e,g=!0),f.length>0&&(c.destroy=f,g=!0),g&&b.fireEvent("beforesync",c)!==!1&&(a=a||{},b.proxy.batch(Ext.apply(a,{operations:c,listeners:b.getBatchListeners()}))),b},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException};return"operation"==a.batchUpdateMode?b.operationcomplete=a.onBatchOperationComplete:b.complete=a.onBatchComplete,b},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b,c=this;return a=Ext.apply({action:"read",filters:c.filters.items,sorters:c.getSorters()},a),c.lastOptions=a,b=new Ext.data.Operation(a),c.fireEvent("beforeload",c,b)!==!1&&(c.loading=!0,c.proxy.read(b,c.onProxyLoad,c)),c},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,b){var c,d,e=this;if(e.autoSync&&!e.autoSyncSuspended){for(c=b.length;c--;)if(a.fields.get(b[c]).persist){d=!0;break}d&&e.sync()}e.onUpdate(a,Ext.data.Model.EDIT,b),e.fireEvent("update",e,a,Ext.data.Model.EDIT,b)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null),this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a,b){b||(b=null),this.onUpdate(a,Ext.data.Model.COMMIT,b),this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b)},onUpdate:Ext.emptyFn,onIdChanged:function(a,b,c,d){this.fireEvent("idchanged",this,a,b,c,d)},destroyStore:function(){var a,b=this;b.isDestroyed||(b.clearListeners(),b.storeId&&Ext.data.StoreManager.unregister(b),b.clearData(),b.data=b.tree=b.sorters=b.filters=b.groupers=null,b.reader&&b.reader.destroyReader(),b.proxy=b.reader=b.writer=null,b.isDestroyed=!0,b.implicitModel?(a=Ext.getClassName(b.model),Ext.undefine(a),Ext.ModelManager.unregisterType(a)):b.model=null)},getState:function(){var a,b,c=this,d=!!c.groupers,e=[],f=[],g=[];return d&&c.groupers.each(function(b){e[e.length]=b.serialize(),a=!0}),c.sorters&&c.sorters.each(function(b){d&&!c.groupers.contains(b)&&(f[f.length]=b.serialize(),a=!0)}),c.filters&&c.statefulFilters&&c.filters.each(function(b){g[g.length]=b.serialize(),a=!0}),a?(b={},e.length&&(b.groupers=e),f.length&&(b.sorters=f),g.length&&(b.filters=g),b):void 0},applyState:function(a){var b,c=this,d=!!c.sorters,e=!!c.groupers,f=!!c.filters;e&&a.groupers&&(c.groupers.clear(),c.groupers.addAll(c.decodeGroupers(a.groupers))),d&&a.sorters&&(c.sorters.clear(),c.sorters.addAll(c.decodeSorters(a.sorters))),f&&a.filters&&(c.filters.clear(),c.filters.addAll(c.decodeFilters(a.filters))),d&&e&&c.sorters.insert(0,c.groupers.getRange()),c.autoLoad&&(c.remoteSort||c.remoteGroup||c.remoteFilter)&&(c.autoLoad===!0?c.reload():c.reload(c.autoLoad)),f&&c.filters.length&&!c.remoteFilter&&(c.filter(),b=c.sortOnFilter),d&&c.sorters.length&&!c.remoteSort&&!b&&c.sort()},doSort:function(a){var b=this;b.remoteSort?b.load():(b.data.sortBy(a),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireEvent("sort",b,b.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}},1,0,0,0,0,[["observable",Ext.util.Observable],["sortable",Ext.util.Sortable]],[Ext.data,"AbstractStore"],0),Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:!0,type:"store",idProperty:"storeId",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.data.AbstractStore)}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0),Ext.cmd.derive("Ext.app.Controller",Ext.Base,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(a,b){var c,d="get",e=a.split("."),f=e.length;for(c=0;f>c;c++)d+=Ext.String.capitalize(e[c]);return d+=b},processDependencies:function(a,b,c,d,e){if(e&&e.length){var f,g,h,i,j,k,l,m,n=this,o=n.strings[d];for(Ext.isArray(e)||(e=[e]),j=0,k=e.length;k>j;j++)i=e[j],f=n.getFullName(i,d,c),g=f.absoluteName,h=f.shortName,b.push(g),l=n.getGetterName(h,o.upper),a[l]=m=n.createGetter(o.getter,i),"controller"!==d&&(m["Ext.app.getter"]=!0)}},getFullName:function(a,b,c){var d,e,f=a;return(d=a.indexOf("@"))>0?(f=a.substring(0,d),e=a.substring(d+1)+"."+f):a.indexOf(".")>0&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a))?e=a:c?(e=c+"."+b+"."+a,f=a):e=a,{absoluteName:e,shortName:f}}},application:null,onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c,e,f,g,h,i=Ext.app.Controller,j=i.controllerRegex,f=[];g=a.prototype,c=Ext.getClassName(a),e=b.$namespace||Ext.app.getNamespace(c)||(h=j.exec(c))&&h[1],e&&(g.$namespace=e),i.processDependencies(g,f,e,"model",b.models),i.processDependencies(g,f,e,"view",b.views),i.processDependencies(g,f,e,"store",b.stores),i.processDependencies(g,f,e,"controller",b.controllers),Ext.require(f,Ext.Function.pass(d,arguments,this))}},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.refs&&b.ref(b.refs),b.eventbus=Ext.app.EventBus,b.initAutoGetters()},initAutoGetters:function(){var a,b,c=this.self.prototype;for(a in c)b=c[a],b&&b["Ext.app.getter"]&&b.call(this)},doInit:function(a){var b=this;b._initialized||(b.init(a),b._initialized=!0)},finishInit:function(a){var b,c,d,e=this,f=e.controllers;if(e._initialized&&f&&f.length)for(c=0,d=f.length;d>c;c++)b=e.getController(f[c]),b.finishInit(a)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(a){var b,c,d,e=this,f=0,g=a.length;for(a=Ext.Array.from(a),e.references=e.references||[];g>f;f++)b=a[f],c=b.ref,d="get"+Ext.String.capitalize(c),e[d]||(e[d]=Ext.Function.pass(e.getRef,[c,b],e)),e.references.push(c.toLowerCase())},addRef:function(a){this.ref(a)},getRef:function(a,b,c){var d=this,e=d.refCache||(d.refCache={}),f=e[a];return b=b||{},c=c||{},Ext.apply(b,c),b.forceCreate?Ext.ComponentManager.create(b,"component"):(f||(b.selector&&(e[a]=f=Ext.ComponentQuery.query(b.selector)[0]),!f&&b.autoCreate&&(e[a]=f=Ext.ComponentManager.create(b,"component")),f&&f.on("beforedestroy",function(){e[a]=null})),f)},hasRef:function(a){var b=this.references;return b&&-1!==Ext.Array.indexOf(b,a.toLowerCase())},control:function(a,b,c){var d,e=this,f=c;Ext.isString(a)?(d={},d[a]=b):(d=a,f=b),e.eventbus.control(d,f||e)},listen:function(a,b){this.eventbus.listen(a,b||this)},getController:function(a){var b=this,c=b.application;return a===b.id?b:c&&c.getController(a)},getStore:function(a){var b,c;return b=-1==a.indexOf("@")?a:a.split("@")[0],c=Ext.StoreManager.get(b),c||(a=Ext.app.Controller.getFullName(a,"store",this.$namespace),a&&(c=Ext.create(a.absoluteName,{storeId:b}))),c},getModel:function(a){var b=Ext.app.Controller.getFullName(a,"model",this.$namespace);return b&&Ext.ModelManager.getModel(b.absoluteName)},getView:function(a){var b=Ext.app.Controller.getFullName(a,"view",this.$namespace);return b&&Ext.ClassManager.get(b.absoluteName)},getApplication:function(){return this.application}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.app,"Controller"],0),Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(a,b){var c,d,e=this,f=0;for(a=e.prepareItems(a),d=a.length;d>f;f++)c=a[f],c.dock=c.dock||"top",("left"===c.dock||"right"===c.dock)&&e.horizontalDocks++,void 0!==b?(f+=b,e.dockedItems.insert(f,c)):e.dockedItems.add(c),c.onAdded(e,f),e.hasListeners.dockedadd&&e.fireEvent("dockedadd",e,c,f),e.onDockedAdd!==Ext.emptyFn&&e.onDockedAdd(c);return e.rendered&&!e.suspendLayout&&e.updateLayout(),a},destroyDockedItems:function(){var a,b=this.dockedItems;if(b)for(;a=b.first();)this.removeDocked(a,!0)},doRenderDockedItems:function(a,b,c){var d,e,f=b.$comp,g=f.componentLayout;g.getDockedItems&&!b.$skipDockedItems&&(d=g.getDockedItems("render",!c),e=d&&g.getItemsRenderTree(d),e&&Ext.DomHelper.generateMarkup(e,a))},getDockedComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);return a&&c.length&&(c=Ext.ComponentQuery.query(a,c)),c},getDockingRefItems:function(a,b){var c,d=a&&"*,* *",e=this.getDockedItems(d,!0);return e.push.apply(e,b),c=this.getDockedItems(d,!1),e.push.apply(e,c),e},initDockingItems:function(){var a=this,b=a.dockedItems;a.dockedItems=new Ext.util.AbstractMixedCollection(!1,a.getComponentId),b&&a.addDocked(b)},insertDocked:function(a,b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c,d,e=this;return b=b===!0||b!==!1&&e.autoDestroy,e.dockedItems.contains(a)?(("left"===a.dock||"right"===a.dock)&&e.horizontalDocks--,c=e.componentLayout,d=c&&e.rendered,d&&c.onRemove(a),e.dockedItems.remove(a),a.onRemoved(a.destroying||b),e.onDockedRemove(a),b?a.destroy():d&&c.afterRemove(a),e.hasListeners.dockedremove&&e.fireEvent("dockedremove",e,a),e.destroying||e.suspendLayout||e.updateLayout(),a):a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0),Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1},0,["tbfill"],["component","box","tbfill"],{component:!0,box:!0,tbfill:!0},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0),Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(a,b){this.layout=a,Ext.apply(this,b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(a){var b,c=this,d=a.state.boxPlan;d&&d.tooNarrow?(b=c.handleOverflow(a),b&&b.reservedSpace&&c.layout.publishInnerCtSize(a,b.reservedSpace)):c.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(){var a,b,c=this,d=c.layout.owner;d.hasListeners.overflowchange&&(a=d.query(">[hidden]"),b=a.length,b!==c.lastHiddenCount&&(d.fireEvent("overflowchange",c.lastHiddenCount,b,a),c.lastHiddenCount=b))},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;return b=a.isToolbar?"toolbar":a.isTabBar?"tabbar":a.isMenu?"menu":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0),Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["tbitem","component","box"],{tbitem:!0,component:!0,box:!0},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0),Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1},0,["tbseparator"],["tbitem","component","box","tbseparator"],{tbitem:!0,component:!0,box:!0,tbseparator:!0},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0),Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var a=this;a.initialized||(Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a}),a.initialized=!0)},onDocumentKeyDown:function(a){var b,c=a.getKey();(c===a.SPACE||c===a.ENTER)&&(b=a.getTarget(this.buttonSelector),b&&Ext.getCmp(b.id).onClick(a))},onButtonMousedown:function(a,b){var c=this.pressedButton;c&&c.onMouseUp(b),this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;b&&(b.onMouseUp(a),this.pressedButton=null)},toggleGroup:function(a,b){if(b){var c,d=this.groups[a.toggleGroup],e=d.length;for(c=0;e>c;c++)d[c]!==a&&d[c].toggle(!1)}},register:function(a){var b=this,c=this.groups,d=c[a.toggleGroup];b.init(),a.toggleGroup&&(d||(d=c[a.toggleGroup]=[]),d.push(a),a.on("toggle",b.toggleGroup,b))},unregister:function(a){if(a.toggleGroup){var b=this,c=b.groups[a.toggleGroup];c&&(Ext.Array.remove(c,a),a.un("toggle",b.toggleGroup,b))}},getPressed:function(a){var b,c=this.groups[a],d=0;if(c)for(b=c.length;b>d;d++)if(c[d].pressed===!0)return c[d];return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0),Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){a.active.length>0&&a.hideAll()},a)},hideAll:function(){var a,b,c,d=this.active;if(d&&d.length>0){for(a=Ext.Array.slice(d.items),c=a.length,b=0;c>b;b++)a[b].hide();return!0}return!1},onHide:function(a){var b=this,c=b.active;c.remove(a),c.length<1&&(Ext.getDoc().un("mousedown",b.onMouseDown,b),b.attached=!1)},onShow:function(a){var b=this,c=b.active,d=b.attached;b.lastShow=new Date,c.add(a),d||(Ext.getDoc().on("mousedown",b.onMouseDown,b,{buffer:Ext.isIE9m?10:void 0}),b.attached=!0),a.toFront()},onBeforeHide:function(a){a.activeChild&&a.activeChild.hide(),a.autoHideTimer&&(clearTimeout(a.autoHideTimer),delete a.autoHideTimer)},onBeforeShow:function(a){var b=this.active,c=a.parentMenu;b.remove(a),c||a.allowOtherMenus?c&&c.activeChild&&a!=c.activeChild&&c.activeChild.hide():this.hideAll()},onMouseDown:function(a){var b=this,c=b.active,d=b.lastShow,e=!0;Ext.Date.getElapsed(d)>50&&c.length>0&&!a.getTarget(b.menuSelector)&&(Ext.isIE9m&&!Ext.getDoc().contains(a.target)&&(e=!1),e&&b.hideAll())},register:function(a){var b=this;b.active||b.init(),a.floating&&(b.menus[a.id]=a,a.on({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b}))},get:function(a){var b=this.menus;return"string"==typeof a?b?b[a]:null:a.isMenu?a:Ext.isArray(a)?new Ext.menu.Menu({items:a}):Ext.ComponentManager.create(a,"menu")},unregister:function(a){var b=this,c=b.menus,d=b.active;delete c[a.id],d.remove(a),a.un({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})},registerCheckable:function(a){var b=this.groups,c=a.group;c&&(b[c]||(b[c]=[]),b[c].push(a))},unregisterCheckable:function(a){var b=this.groups,c=a.group;c&&Ext.Array.remove(b[c],a)},onCheckChange:function(a,b){var c,d,e,f=this.groups,g=a.group,h=0;if(g&&b)for(c=f[g],d=c.length;d>h;h++)e=c[h],e!=a&&e.setChecked(!1)}},0,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0),Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(a,b){var c=this;c.el=Ext.get(a),c.el.unselectable(),Ext.apply(c,b),c.callParent(),c.addEvents("mousedown","click","mouseup"),c.disabled||(c.disabled=!0,c.enable()),c.handler&&c.on("click",c.handler,c.scope||c)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(a){(a||!this.disabled)&&(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault(),this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,a),this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,a),this.fireEvent("click",this,a),this.accelerate&&(this.delay=400),a=new Ext.EventObjectImpl(a),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(a){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,a)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0),Ext.cmd.derive("Ext.layout.component.Button",Ext.layout.component.Auto,{type:"button",htmlRE:/<.*>/,beginLayout:function(a){var b=this,c=b.owner,d=c.text;b.callParent(arguments),a.btnWrapContext=a.getEl("btnWrap"),a.btnElContext=a.getEl("btnEl"),a.btnInnerElContext=a.getEl("btnInnerEl"),a.btnIconElContext=a.getEl("btnIconEl"),d&&b.htmlRE.test(d)&&(a.isHtmlText=!0,c.btnInnerEl.setStyle("line-height","normal"),c.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(a){var b=this.owner,c=this.lastWidthModel;this.callParent(arguments),c&&!this.lastWidthModel.shrinkWrap&&a.widthModel.shrinkWrap&&(b.btnWrap.setStyle("height",""),b.btnEl.setStyle("height",""),b.btnInnerEl.setStyle("line-height",""))},calculate:function(a){var b,c,d,e,f=this,g=f.owner,h=a.btnElContext,i=a.btnInnerElContext,j=a.btnWrapContext,k=Math.max;f.callParent(arguments),a.heightModel.shrinkWrap?(d=g.btnEl.getHeight(),a.isHtmlText&&(f.centerInnerEl(a,d),f.ieCenterIcon(a,d))):(b=a.getProp("height"),b?(c=b-a.getFrameInfo().height-a.getPaddingInfo().height,d=c,(g.menu||g.split)&&"bottom"===g.arrowAlign&&(d-=j.getPaddingInfo().bottom),e=d,!(g.icon||g.iconCls||g.glyph)||"top"!==g.iconAlign&&"bottom"!==g.iconAlign||(e-=i.getPaddingInfo().height),j.setProp("height",k(0,c)),h.setProp("height",k(0,d)),a.isHtmlText?f.centerInnerEl(a,d):i.setProp("line-height",k(0,e)+"px"),f.ieCenterIcon(a,d)):0!==b&&(f.done=!1))},centerInnerEl:function(a,b){var c=this,d=a.btnInnerElContext,e=c.owner.btnInnerEl.getHeight();a.heightModel.shrinkWrap&&e>b?a.btnElContext.setHeight(e):b>e&&d.setProp("padding-top",Math.round((b-e)/2)+d.getPaddingInfo().top)},ieCenterIcon:function(a,b){var c=this.owner.iconAlign;!Ext.isIEQuirks&&!Ext.isIE6||"left"!==c&&"right"!==c||a.btnIconElContext.setHeight(b)},publishInnerWidth:function(a,b){this.owner.getFrameInfo().table&&a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)
}},0,0,0,0,["layout.button"],0,[Ext.layout.component,"Button"],0),Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(a,b,c){var d=this,e=d.shared;return e||(e=d.shared=new d(a,c)),e.bind(a),e.setFixedWidth(c||"auto"),e.getSize(b)},destroy:function(){var a=this;Ext.destroy(a.shared),a.shared=null}},constructor:function(a,b){var c=this,d=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});c.measure=d,a&&c.bind(a),d.position("absolute"),d.setLocalXY(-1e3,-1e3),d.hide(),b&&d.setWidth(b)},getSize:function(a){var b,c=this.measure;return c.update(a),b=c.getSize(),c.update(""),b},bind:function(a){var b=this;b.el=Ext.get(a),b.measure.setStyle(b.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){return this.measure.dom.style.width="auto",this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove(),delete a.el,delete a.measure}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,!0)).width,b||0,c||1e6)}})}),Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){var a=this;a.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"},a.addCls("x-unselectable"),a.callParent(arguments),a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange"),a.menu&&(a.split=!0,a.menu=Ext.menu.Manager.get(a.menu),a.menu.ownerButton=a),a.url&&(a.href=a.url),a.href&&!a.hasOwnProperty("preventDefault")&&(a.preventDefault=!1),Ext.isString(a.toggleGroup)&&""!==a.toggleGroup&&(a.enableToggle=!0),a.html&&!a.text&&(a.text=a.html,delete a.html),a.glyphCls=a.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var a=this,b=a.getComponentCls();Ext.isEmpty(a.oldCls)||(a.removeClsWithUI(a.oldCls),a.removeClsWithUI(a.pressedCls)),a.oldCls=b,a.addClsWithUI(b)},getComponentCls:function(){var a,b=this;return a=b.iconCls||b.icon||b.glyph?[b.text?"icon-text-"+b.iconAlign:"icon"]:b.text?["noicon"]:[],b.pressed&&(a[a.length]=b.pressedCls),a},beforeRender:function(){var a=this,b=a.autoEl,c=a.getHref(),d=a.hrefTarget;a.disabled||(b.tabIndex=a.tabIndex),c&&(b.href=c,d&&(b.target=d)),a.callParent(),a.oldCls=a.getComponentCls(),a.addClsWithUI(a.oldCls),Ext.applyIf(a.renderData,a.getTemplateArgs())},onRender:function(){var a,b,c,d=this;d.doc=Ext.getDoc(),d.callParent(arguments),b=d.el,d.tooltip&&d.setTooltip(d.tooltip,!0),d.handleMouseEvents?(c={scope:d,mouseover:d.onMouseOver,mouseout:d.onMouseOut,mousedown:d.onMouseDown},d.split&&(c.mousemove=d.onMouseMove)):c={scope:d},d.menu&&(d.mon(d.menu,{scope:d,show:d.onMenuShow,hide:d.onMenuHide}),d.keyMap=new Ext.util.KeyMap({target:d.el,key:Ext.EventObject.DOWN,handler:d.onDownKey,scope:d})),d.repeat?d.mon(new Ext.util.ClickRepeater(b,Ext.isObject(d.repeat)?d.repeat:{}),"click",d.onRepeatClick,d):c[d.clickEvent]?a=!0:c[d.clickEvent]=d.onClick,d.mon(b,c),a&&d.mon(b,d.clickEvent,d.onClick,d),Ext.button.Manager.register(d)},getTemplateArgs:function(){var a,b=this,c=b.glyph,d=Ext._glyphFontFamily;return"string"==typeof c&&(a=c.split("@"),c=a[0],d=a[1]),{innerCls:b.getInnerCls(),splitCls:b.getSplitCls(),iconUrl:b.icon,iconCls:b.iconCls,glyph:c,glyphCls:c?b.glyphCls:"",glyphFontFamily:d,text:b.text||"&#160;"}},setHref:function(a){this.href=a,this.el.dom.href=this.getHref()},getHref:function(){var a=this,b=a.href;return b?Ext.urlAppend(b,Ext.Object.toQueryString(Ext.apply({},a.params,a.baseParams))):!1},setParams:function(a){this.params=a,this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+"-"+a.arrowCls+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(a){a=a||"";var b=this,c=b.btnIconEl,d=b.icon||"";return b.icon=a,a!=d&&(c&&(c.setStyle("background-image",a?"url("+a+")":""),b.setComponentCls(),b.didIconStateChange(d,a)&&b.updateLayout()),b.fireEvent("iconchange",b,d,a)),b},setIconCls:function(a){a=a||"";var b=this,c=b.btnIconEl,d=b.iconCls||"";return b.iconCls=a,d!=a&&(c&&(c.removeCls(d),c.addCls(a),b.setComponentCls(),b.didIconStateChange(d,a)&&b.updateLayout()),b.fireEvent("iconchange",b,d,a)),b},setGlyph:function(a){a=a||0;var b,c,d=this,e=d.btnIconEl,f=d.glyph;return d.glyph=a,e&&("string"==typeof a&&(c=a.split("@"),a=c[0],b=c[1]||Ext._glyphFontFamily),a?f!=a&&(e.dom.innerHTML="&#"+a+";"):e.dom.innerHTML="",b&&e.setStyle("font-family",b)),d.fireEvent("glyphchange",d,d.glyph,f),d},setTooltip:function(a,b){var c=this;return c.rendered?(b&&a||c.clearTip(),a&&(Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:c.el.id},a)),c.tooltip=a):c.el.dom.setAttribute(c.getTipAttr(),a))):c.tooltip=a,c},setTextAlign:function(a){var b=this,c=b.btnEl;return c&&(c.removeCls(b.baseCls+"-inner-"+b.textAlign),c.addCls(b.baseCls+"-inner-"+a)),b.textAlign=a,b},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(a){var b,c=this.menu;return c&&(b=c.getRefItems(a),b.unshift(c)),b||[]},clearTip:function(){var a=this,b=a.el;Ext.quickTipsActive&&Ext.isObject(a.tooltip)?Ext.tip.QuickTipManager.unregister(b):b.dom.removeAttribute(a.getTipAttr())},beforeDestroy:function(){var a=this;a.rendered&&a.clearTip(),a.menu&&a.destroyMenu!==!1&&Ext.destroy(a.menu),Ext.destroy(a.btnInnerEl,a.repeater),a.callParent()},onDestroy:function(){var a=this;a.rendered&&(a.doc.un("mouseover",a.monitorMouseOver,a),delete a.doc,Ext.destroy(a.keyMap),delete a.keyMap),Ext.button.Manager.unregister(a),a.callParent()},setHandler:function(a,b){return this.handler=a,this.scope=b,this},setText:function(a){a=a||"";var b=this,c=b.text||"";return a!=c&&(b.text=a,b.rendered&&(b.btnInnerEl.update(a||"&#160;"),b.setComponentCls(),Ext.isStrict&&Ext.isIE8&&b.el.repaint(),b.updateLayout()),b.fireEvent("textchange",b,c,a)),b},didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},getText:function(){return this.text},toggle:function(a,b){var c=this;return a=void 0===a?!c.pressed:!!a,a!==c.pressed&&(c.rendered&&c[a?"addClsWithUI":"removeClsWithUI"](c.pressedCls),c.pressed=a,b||(c.fireEvent("toggle",c,a),Ext.callback(c.toggleHandler,c.scope||c,[c,a]))),c},maybeShowMenu:function(){var a=this;!a.menu||a.hasVisibleMenu()||a.ignoreNextClick||a.showMenu(!0)},showMenu:function(a){var b=this,c=b.menu;return b.rendered&&(b.tooltip&&Ext.quickTipsActive&&"title"!=b.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(b.el),c.isVisible()&&c.hide(),(!a||b.showEmptyMenu||c.items.getCount()>0)&&c.showBy(b.el,b.menuAlign)),b},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){var b=this;(b.preventDefault||b.disabled&&b.getHref()&&a)&&a.preventDefault(),("keydown"===a.type||0===a.button)&&(b.disabled||(b.doToggle(),b.maybeShowMenu(),b.fireHandler(a)))},fireHandler:function(a){var b=this,c=b.handler;b.fireEvent("click",b,a)!==!1&&c&&c.call(b.scope||b,b,a)},doToggle:function(){var a=this;!a.enableToggle||a.allowDepress===!1&&a.pressed||a.toggle()},onMouseOver:function(a){var b=this;b.disabled||a.within(b.el,!0,!0)||b.onMouseEnter(a)},onMouseOut:function(a){var b=this;a.within(b.el,!0,!0)||(b.overMenuTrigger&&b.onMenuTriggerOut(a),b.onMouseLeave(a))},onMouseMove:function(a){var b,c,d=this,e=d.el,f=d.overMenuTrigger;d.split&&(b="right"===d.arrowAlign?a.getX()-d.getX():a.getY()-e.getY(),c=d.getTriggerRegion(),b>c.begin&&b<c.end?f||d.onMenuTriggerOver(a):f&&d.onMenuTriggerOut(a))},getTriggerRegion:function(){var a=this,b=a._triggerRegion,c=a.getTriggerSize(),d="right"===a.arrowAlign?a.getWidth():a.getHeight();return b.begin=d-c,b.end=d,b},getTriggerSize:function(){var a,b,c=this,d=c.triggerSize;return null==d&&(a=c.arrowAlign,b=a.charAt(0),d=c.triggerSize=c.el.getFrameWidth(b)+c.getBtnWrapFrameWidth(b),c.frameSize&&(d=c.triggerSize+=c.frameSize[a])),d},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(a){var b=this,c=b.arrowTooltip;b.overMenuTrigger=!0,b.split&&c&&b.btnWrap.dom.setAttribute(b.getTipAttr(),c),b.fireEvent("menutriggerover",b,b.menu,a)},onMenuTriggerOut:function(a){var b=this;delete b.overMenuTrigger,b.split&&b.arrowTooltip&&b.btnWrap.dom.setAttribute(b.getTipAttr(),""),b.fireEvent("menutriggerout",b,b.menu,a)},enable:function(){var a=this;return a.callParent(arguments),a.removeClsWithUI("disabled"),a.rendered&&a.el.dom.setAttribute("tabIndex",a.tabIndex),a},disable:function(){var a=this;return a.callParent(arguments),a.addClsWithUI("disabled"),a.removeClsWithUI(a.overCls),a.rendered&&a.el.dom.removeAttribute("tabIndex"),a.btnInnerEl&&Ext.isIE7m&&a.btnInnerEl.repaint(),a},setScale:function(a){var b=this,c=b.ui.replace("-"+b.scale,"");if(!Ext.Array.contains(b.allowedScales,a))throw"#setScale: scale must be an allowed scale ("+b.allowedScales.join(", ")+")";b.scale=a,b.setUI(c)},setUI:function(a){var b=this;b.scale&&!a.match(b.scale)&&(a=a+"-"+b.scale),b.callParent([a])},onMouseDown:function(a){var b=this;Ext.isIE&&b.getFocusEl().focus(),b.disabled||0!==a.button||(Ext.button.Manager.onButtonMousedown(b,a),b.addClsWithUI(b.pressedCls))},onMouseUp:function(a){var b=this;0===a.button&&(b.pressed||b.removeClsWithUI(b.pressedCls))},onMenuShow:function(){var a=this;a.ignoreNextClick=0,a.addClsWithUI(a.menuActiveCls),a.fireEvent("menushow",a,a.menu)},onMenuHide:function(){var a=this;a.removeClsWithUI(a.menuActiveCls),a.ignoreNextClick=Ext.defer(a.restoreClick,250,a),a.fireEvent("menuhide",a,a.menu),a.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,b){var c=this;return c.menu&&!c.disabled?(c.showMenu(),b.stopEvent(),!1):void 0}},0,["button"],["button","component","box"],{button:!0,component:!0,box:!0},["widget.button"],[["queryable",Ext.Queryable]],[Ext.button,"Button",Ext,"Button"],0),Ext.cmd.derive("Ext.layout.container.boxOverflow.Menu",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(){var a=this;a.callParent(arguments),a.triggerButtonCls=a.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after",a.menuItems=[]},beginLayout:function(a){this.callParent(arguments),this.clearOverflow(a)},beginLayoutCycle:function(a,b){this.callParent(arguments),b||(this.clearOverflow(a),this.layout.cacheChildItems(a))},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=c.id;return a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}}),a.menuTrigger=new Ext.button.Button({id:d+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+a.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:c.usePlainButtons,ownerCt:c,ownerLayout:b,iconCls:Ext.baseCSSPrefix+a.getOwnerType(c)+"-more-icon",ui:c instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:a.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),a.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(a){var b=this,c=b.layout,d=c.names,e=a.state.boxPlan,f=[null,null];return b.showTrigger(a),"vertical"!==b.layout.direction&&(f[d.heightIndex]=(e.maxSize-b.menuTrigger[d.getHeight]())/2,b.menuTrigger.setPosition.apply(b.menuTrigger,f)),{reservedSpace:b.triggerTotalWidth}},captureChildElements:function(){var a=this,b=a.menuTrigger,c=a.layout.names;b.rendering&&(b.finishRender(),a.triggerTotalWidth=b[c.getWidth]()+b.el.getMargin(c.parallelMargins))},_asLayoutRoot:{isRoot:!0},clearOverflow:function(){var a,b=this,c=b.menuItems,d=0,e=c.length,f=b.layout.owner,g=b._asLayoutRoot;for(f.suspendLayouts(),b.captureChildElements(),b.hideTrigger(),f.resumeLayouts();e>d;d++)a=c[d],a.suspendLayouts(),a.show(),a.resumeLayouts(g);c.length=0},showTrigger:function(a){var b,c,d,e,f=this,g=f.layout,h=g.owner,i=g.names,j=i.x,k=i.width,l=a.state.boxPlan,m=l.targetSize[k],n=a.childItems,o=n.length,p=f.menuTrigger;for(p.suspendLayouts(),p.show(),p.resumeLayouts(f._asLayoutRoot),m-=f.triggerTotalWidth,h.suspendLayouts(),f.menuItems.length=0,d=0;o>d;d++)b=n[d],e=b.props,e[j]+e[k]>m&&(c=b.target,f.menuItems.push(c),c.hide());h.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;a&&a.hide()},beforeMenuShow:function(a){var b,c,d=this,e=d.menuItems,f=0,g=e.length,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};for(a.suspendLayouts(),d.clearMenu(),a.removeAll();g>f;f++)b=e[f],!f&&b instanceof Ext.toolbar.Separator||(c&&(h(b,c)||h(c,b))&&a.add("-"),d.addComponentToMenu(a,b),c=b);a.items.length<1&&a.add(d.noItemsMenuText),a.resumeLayouts()},createMenuConfig:function(a,b){var c=this,d=Ext.apply({},a.initialConfig),e=a.toggleGroup;return Ext.copyTo(d,a,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.apply(d,{text:a.overflowText||a.text,hideOnClick:b,destroyMenu:!1,listeners:{}}),a.isFormField?(d.value=a.getValue(),d.listeners.change=function(b,c){a.setValue(c)}):(e||a.enableToggle)&&Ext.apply(d,{hideOnClick:!1,group:e,checked:a.pressed,handler:function(b,c){a.onClick(c)}}),a.isButton&&!a.changeListenersAdded&&(a.on({textchange:c.onButtonAttrChange,iconchange:c.onButtonAttrChange,toggle:c.onButtonToggle}),a.changeListenersAdded=!0),delete d.margin,delete d.ownerCt,delete d.xtype,delete d.id,delete d.itemId,d},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts(),b.setText(a.text),b.setIcon(a.icon),b.setIconCls(a.iconCls),b.resumeLayouts(!0)},onButtonToggle:function(a,b){a.overflowClone.checked!==b&&a.overflowClone.setChecked(b)},addComponentToMenu:function(a,b){var c,d,e,f=this;if(b instanceof Ext.toolbar.Separator)a.add("-");else if(b.isComponent)if(b.isXType("splitbutton"))b.overflowClone=a.add(f.createMenuConfig(b,!0));else if(b.isXType("button"))b.overflowClone=a.add(f.createMenuConfig(b,!b.menu));else if(b.isXType("buttongroup"))for(d=b.items.items,e=d.length,c=0;e>c;c++)f.addComponentToMenu(a,d[c]);else b.overflowClone=a.add(Ext.create(Ext.getClassName(b),f.createMenuConfig(b)))},clearMenu:function(){var a,b,c,d,e=this.menu;if(e&&e.items)for(a=e.items.items,c=a.length,b=0;c>b;b++)d=a[b],d.setMenu&&d.setMenu(null)},destroy:function(){var a=this.menuTrigger;a&&!this.layout.owner.items.contains(a)&&delete a.ownerCt,Ext.destroy(this.menu,a)}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,"Menu",Ext.layout.boxOverflow,"Menu"],0),Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(a,b){var c=this;c.layout=a,Ext.apply(c,b||{}),c.mixins.observable.constructor.call(c),c.addEvents("scroll"),c.scrollPosition=0,c.scrollSize=0},getPrefixConfig:function(){var a,b=this,c=b.layout,d=c.owner;return b.initCSSClasses(),a=Ext.layout.container.Box.prototype.innerCls+" "+b.beforeCtCls,d.plain&&(a+=" "+b.scrollerCls+"-plain"),{cls:a,cn:{id:d.id+c.names.beforeScrollerSuffix,cls:b.scrollerCls+" "+b.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=Ext.layout.container.Box.prototype.innerCls+" "+a.afterCtCls;return c.plain&&(d+=" "+a.scrollerCls+"-plain"),{cls:d,cn:{id:c.id+b.names.afterScrollerSuffix,cls:a.scrollerCls+" "+a.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=this,b=Ext.baseCSSPrefix,c=a.layout,d=c.names,e=d.beforeX,f=d.afterX,g=a.getOwnerType(c.owner);a.beforeCtCls=a.beforeCtCls||b+"box-scroller-"+e,a.afterCtCls=a.afterCtCls||b+"box-scroller-"+f,a.beforeScrollerCls=a.beforeScrollerCls||b+g+"-scroll-"+e,a.afterScrollerCls=a.afterScrollerCls||b+g+"-scroll-"+f},beginLayout:function(a){this.layout;a.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},completeLayout:function(a){var b,c=this,d=a.state.boxPlan,e=c.layout.names;d&&d.tooNarrow&&(b=a.childItems[a.childItems.length-1],c.scrollSize=b.props[e.x]+b.props[e.width],c.updateScrollButtons()),this.callParent(arguments)},finishedLayout:function(a){var b=this,c=b.layout,d=Math.min(b.getMaxScrollPosition(),a.innerCtScrollPos);c.innerCt[c.names.setScrollLeft](d)},handleOverflow:function(){var a=this,b=a.layout.names.getWidth;return a.showScrollers(),{reservedSpace:a.beforeCt[b]()+a.afterCt[b]()}},captureChildElements:function(){var a,b,c,d,e,f,g=this,h=g.layout.owner.el;g.beforeCt||(f="-hover",d="-pressed",c=g.scrollerCls+f,e=g.scrollerCls+d,a=g.beforeScroller=h.getById(g.layout.owner.id+"-before-scroller"),b=g.afterScroller=h.getById(g.layout.owner.id+"-after-scroller"),g.beforeCt=a.up(""),g.afterCt=b.up(""),g.createWheelListener(),a.addClsOnOver(c),a.addClsOnOver(g.beforeScrollerCls+f),a.addClsOnClick(e),a.addClsOnClick(g.beforeScrollerCls+d),b.addClsOnOver(c),b.addClsOnOver(g.afterScrollerCls+f),b.addClsOnClick(e),b.addClsOnClick(g.afterScrollerCls+d),a.setVisibilityMode(Ext.Element.DISPLAY),b.setVisibilityMode(Ext.Element.DISPLAY),g.beforeRepeater=new Ext.util.ClickRepeater(a,{interval:g.scrollRepeatInterval,handler:g.scrollLeft,scope:g}),g.afterRepeater=new Ext.util.ClickRepeater(b,{interval:g.scrollRepeatInterval,handler:g.scrollRight,scope:g}))},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,!1)},stopEvent:!0})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements(),a.beforeScroller.show(),a.afterScroller.show(),a.layout.owner.addClsWithUI("vertical"===a.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this;void 0!==a.beforeScroller&&(a.beforeScroller.hide(),a.afterScroller.hide(),a.layout.owner.removeClsWithUI("vertical"===a.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a,b,c,d,e,f=this,g="-disabled";null!=f.beforeScroller&&null!=f.afterScroller&&(a=f.atExtremeBefore()?"addCls":"removeCls",b=f.atExtremeAfter()?"addCls":"removeCls",e=f.scrollerCls+g,c=[e,f.beforeScrollerCls+g],d=[e,f.afterScrollerCls+g],f.beforeScroller[a](c),f.afterScroller[b](d),f.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var a,b=this,c=b.layout;return a=isNaN(b.scrollPosition)?c.innerCt[c.names.getScrollLeft]():b.scrollPosition},getMaxScrollPosition:function(){var a=this,b=a.layout,c=a.scrollSize-b.innerCt[b.names.getWidth]();return 0>c?0:c},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var c=this,d=c.layout,e=d.names,f=c.getScrollPosition(),g=Ext.Number.constrain(a,0,c.getMaxScrollPosition());g==f||c.scrolling||(c.scrollPosition=0/0,void 0===b&&(b=c.animateScroll),d.innerCt[e.scrollTo](e.beforeScrollX,g,b?c.getScrollAnim():!1),b?c.scrolling=!0:c.updateScrollButtons(),c.fireEvent("scroll",c,g,b?c.getScrollAnim():!1))},scrollToItem:function(a,b){var c,d,e,f=this,g=f.layout,h=g.owner,i=g.names;a=f.getItem(a),void 0!==a&&(a==h.items.first()?e=0:a===h.items.last()?e=f.getMaxScrollPosition():(c=f.getItemVisibility(a),c.fullyVisible||(d=a.getBox(!1,!0),e=d[i.x],c.hiddenEnd&&(e-=f.layout.innerCt[i.getWidth]()-d[i.width]))),void 0!==e&&f.scrollTo(e,b))},getItemVisibility:function(a){var b=this,c=b.getItem(a).getBox(!0,!0),d=b.layout,e=d.names,f=c[e.x],g=f+c[e.width],h=b.getScrollPosition(),i=h+d.innerCt[e.getWidth]();return{hiddenStart:h>f,hiddenEnd:g>i,fullyVisible:f>h&&i>g}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0),Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){return this.x=null==a||isNaN(a)?0:a,this.y=null==b||isNaN(b)?0:b,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x,this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(a){if(isNaN(a))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var b=Math.pow(10,a);this.x=Math.round(this.x*b)/b,this.y=Math.round(this.y*b)/b}},isZero:function(){return 0==this.x&&0==this.y}},3,0,0,0,0,0,[Ext.util,"Offset"],0),Ext.cmd.derive("Ext.util.Region",Ext.Base,{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){var e=this;e.y=e.top=e[1]=a,e.right=b,e.bottom=c,e.x=e.left=e[0]=d},contains:function(a){var b=this;return a.x>=b.x&&a.right<=b.right&&a.y>=b.y&&a.bottom<=b.bottom},intersect:function(a){var b=this,c=Math.max(b.y,a.y),d=Math.min(b.right,a.right),e=Math.min(b.bottom,a.bottom),f=Math.max(b.x,a.x);return e>c&&d>f?new this.self(c,d,e,f):!1},union:function(a){var b=this,c=Math.min(b.y,a.y),d=Math.max(b.right,a.right),e=Math.max(b.bottom,a.bottom),f=Math.min(b.x,a.x);return new this.self(c,d,e,f)},constrainTo:function(a){var b=this,c=Ext.Number.constrain;return b.top=b.y=c(b.top,a.y,a.bottom),b.bottom=c(b.bottom,a.y,a.bottom),b.left=b.x=c(b.left,a.x,a.right),b.right=c(b.right,a.x,a.right),b},adjust:function(a,b,c,d){var e=this;return e.top=e.y+=a,e.left=e.x+=d,e.right+=b,e.bottom+=c,e},getOutOfBoundOffset:function(a,b){if(Ext.isObject(a)){b=a;var c=new Ext.util.Offset;return c.x=this.getOutOfBoundOffsetX(b.x),c.y=this.getOutOfBoundOffsetY(b.y),c}return"x"==a?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b)},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(a,b){return Ext.isObject(a)?(b=a,this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)):"x"==a?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){var d;return c=b,b=a,d=b.copy?b.copy():{x:b.x,y:b.y},d.x=this.restrictX(b.x,c),d.y=this.restrictY(b.y,c),d}return"x"==a?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,b){return b||(b=1),a<=this.x?a-=(a-this.x)*b:a>=this.right&&(a-=(a-this.right)*b),a},restrictY:function(a,b){return b||(b=1),a<=this.y?a-=(a-this.y)*b:a>=this.bottom&&(a-=(a-this.bottom)*b),a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){var b=this;return b.top=b.y=b[1]=a.y,b.right=a.right,b.bottom=a.bottom,b.left=b.x=b[0]=a.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){1==arguments.length&&(b=a.y,a=a.x);var c=this;return c.top=c.y+=b,c.right+=a,c.bottom+=b,c.left=c.x+=a,c},round:function(){var a=this;return a.top=a.y=Math.round(a.y),a.right=Math.round(a.right),a.bottom=Math.round(a.bottom),a.left=a.x=Math.round(a.x),a},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}},3,0,0,0,0,0,[Ext.util,"Region"],0),Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(a,b){var c,d,e;for(c in this.ids)for(d in this.ids[c])e=this.ids[c][d],this.isTypeOfDD(e)&&e[a].apply(e,b)},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,!0),a.on(document,"mousemove",this.handleMouseMove,this,!0),a.on(window,"unload",this._onUnload,this,!0),a.on(window,"resize",this._onResize,this,!0)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init(),this.ids[b]||(this.ids[b]={}),this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a){for(var b in a.groups)b&&this.ids[b]&&this.ids[b][a.id]&&delete this.ids[b][a.id];delete this.handleIds[a.id]},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={}),this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,b){var c,d,e,f=[];for(c in a.groups)for(d in this.ids[c])e=this.ids[c][d],this.isTypeOfDD(e)&&(!b||e.isTarget)&&(f[f.length]=e);return f},isLegalTarget:function(a,b){var c,d,e=this.getRelated(a,!0);for(c=0,d=e.length;d>c;++c)if(e[c].id==b.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){var b,c;for(b in this.ids)if(c=this.ids[b][a],c instanceof Ext.dd.DDTarget)return c;return null},handleMouseDown:function(a,b){var c,d=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),d.dragCurrent&&d.handleMouseUp(a),d.currentTarget=a.getTarget(),d.dragCurrent=b,c=b.getEl(),Ext.isIE9m&&c.setCapture&&c.setCapture(),d.startX=a.getPageX(),d.startY=a.getPageY(),d.deltaX=d.startX-c.offsetLeft,d.deltaY=d.startY-c.offsetTop,d.dragThreshMet=!1,d.clickTimeout=setTimeout(function(){d.startDrag(d.startX,d.startY)},d.clickTimeThresh)},startDrag:function(a,b){var c,d=this,e=d.dragCurrent;clearTimeout(d.clickTimeout),e&&(e.b4StartDrag(a,b),e.startDrag(a,b),c=e.getDragEl(),c&&Ext.fly(c).addCls(d.dragCls)),d.dragThreshMet=!0},handleMouseUp:function(a){var b=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),b.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(b.clickTimeout),b.dragThreshMet&&b.fireEvents(a,!0),b.stopDrag(a),b.stopEvent(a))},stopEvent:function(a){this.stopPropagation&&a.stopPropagation(),this.preventDefault&&a.preventDefault()},stopDrag:function(a){var b,c=this,d=c.dragCurrent;d&&(c.dragThreshMet&&(b=d.getDragEl(),b&&Ext.fly(b).removeCls(c.dragCls),d.b4EndDrag(a),d.endDrag(a)),c.dragCurrent.onMouseUp(a)),c.dragCurrent=null,c.dragOvers={}},handleMouseMove:function(a){var b,c,d=this,e=d.dragCurrent;return e?(d.dragThreshMet||(b=Math.abs(d.startX-a.getPageX()),c=Math.abs(d.startY-a.getPageY()),(b>d.clickPixelThresh||c>d.clickPixelThresh)&&d.startDrag(d.startX,d.startY)),d.dragThreshMet&&(e.b4Drag(a),e.onDrag(a),e.moveOnly||d.fireEvents(a,!1)),d.stopEvent(a),!0):!0},fireEvents:function(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=l.dragCurrent,n=a.getPoint(),o=[],p=[],q=[],r=[],s=[],t=[];if(m&&!m.isLocked()){l.notifyOccluded||Ext.supports.PointerEvents&&!Ext.isIE10m&&!Ext.isOpera||m.deltaX<0||m.deltaY<0||(c=m.getDragEl(),d=c.style.top,c.style.top="-10000px",g=a.getXY(),a.target=document.elementFromPoint(g[0],g[1]),c.style.top=d);for(i in l.dragOvers)e=l.dragOvers[i],l.isTypeOfDD(e)&&(l.notifyOccluded?this.isOverTarget(n,e,l.mode)||q.push(e):a.within(e.getEl())||q.push(e),p[i]=!0,delete l.dragOvers[i]);for(k in m.groups)if("string"==typeof k)for(i in l.ids[k])if(e=l.ids[k][i],l.isTypeOfDD(e)&&(f=e.getEl())&&e.isTarget&&!e.isLocked()&&Ext.fly(f).isVisible(!0)&&(e!=m||m.ignoreSelf===!1))if(l.notifyOccluded)-1!==(e.zIndex=l.getZIndex(f))&&(h=!0),o.push(e);else if(a.within(e.getEl())){o.push(e);break}for(h&&Ext.Array.sort(o,l.byZIndex),i=0,j=o.length;j>i&&(e=o[i],!l.isOverTarget(n,e,l.mode)||(b?s.push(e):(p[e.id]?r.push(e):t.push(e),l.dragOvers[e.id]=e),l.notifyOccluded));i++);if(l.mode)q.length&&(m.b4DragOut(a,q),m.onDragOut(a,q)),t.length&&m.onDragEnter(a,t),r.length&&(m.b4DragOver(a,r),m.onDragOver(a,r)),s.length&&(m.b4DragDrop(a,s),m.onDragDrop(a,s));else{for(i=0,j=q.length;j>i;++i)m.b4DragOut(a,q[i].id),m.onDragOut(a,q[i].id);for(i=0,j=t.length;j>i;++i)m.onDragEnter(a,t[i].id);for(i=0,j=r.length;j>i;++i)m.b4DragOver(a,r[i].id),m.onDragOver(a,r[i].id);for(i=0,j=s.length;j>i;++i)m.b4DragDrop(a,s[i].id),m.onDragDrop(a,s[i].id)}b&&!s.length&&m.onInvalidDrop(a)}},getZIndex:function(a){var b,c=document.body,d=-1;for(a=Ext.getDom(a);a!==c;)isNaN(b=Number(Ext.fly(a).getStyle("zIndex")))||(d=b),a=a.parentNode;return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b,c,d=null,e=a.length;if(1==e)d=a[0];else for(b=0;e>b;++b){if(c=a[b],c.cursorIsOver){d=c;break}(!d||d.overlap.getArea()<c.overlap.getArea())&&(d=c)}return d},refreshCache:function(a){var b,c,d,e;for(b in a)if("string"==typeof b)for(c in this.ids[b])d=this.ids[b][c],this.isTypeOfDD(d)&&(e=this.getLocation(d),e?this.locationCache[d.id]=e:delete this.locationCache[d.id])},verifyEl:function(a){if(a){var b;if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return!0}return!1},getLocation:function(a){if(!this.isTypeOfDD(a))return null;
if(a.getRegion)return a.getRegion();var b,c,d,e,f,g,h,i,j,k=a.getEl();try{b=Ext.Element.getXY(k)}catch(l){}return b?(c=b[0],d=c+k.offsetWidth,e=b[1],f=e+k.offsetHeight,g=e-a.padding[0],h=d+a.padding[1],i=f+a.padding[2],j=c-a.padding[3],new Ext.util.Region(g,h,i,j)):null},isOverTarget:function(a,b,c){var d,e,f,g,h,i=this.locationCache[b.id];return i&&this.useCache||(i=this.getLocation(b),this.locationCache[b.id]=i),i?(b.cursorIsOver=i.contains(a),d=this.dragCurrent,d&&d.getTargetCoord&&(c||d.constrainX||d.constrainY)?(b.overlap=null,e=d.getTargetCoord(a.x,a.y),f=d.getDragEl(),g=new Ext.util.Region(e.y,e.x+f.offsetWidth,e.y+f.offsetHeight,e.x),h=g.intersect(i),h?(b.overlap=h,c?!0:b.cursorIsOver):!1):b.cursorIsOver):!1},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];return b&&b.el||(b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))),b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){var b=Ext.getDom(a);return b?b.style:null},ElementWrapper:function(a){this.el=a||null,this.id=this.el&&a.id,this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d==a?c.insertBefore(a,b):b==a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},getScroll:function(){var a=window.document,b=a.documentElement,c=a.body,d=0,e=0;return Ext.isGecko4?(d=window.scrollYOffset,e=window.scrollXOffset):b&&(b.scrollTop||b.scrollLeft)?(d=b.scrollTop,e=b.scrollLeft):c&&(d=c.scrollTop,e=c.scrollLeft),{top:d,left:e}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.Element.getXY(b);Ext.Element.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return!0;for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return!0;c=c.parentNode}return!1}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(){this._addListeners()}),Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(){var a,b=this;b.callParent(arguments),b.flexSortFn=Ext.Function.bind(b.flexSort,b),b.initOverflowHandler(),a=typeof b.padding,("string"==a||"number"==a)&&(b.padding=Ext.util.Format.parseBox(b.padding),b.padding.height=b.padding.top+b.padding.bottom,b.padding.width=b.padding.left+b.padding.right)},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this,d=c.sizePolicy,e=c.align,f=a.flex,g=e,h=c.names,i=a[h.width],j=a[h.height],k=c._percentageRe,l=k.test(i),m="stretch"==e,n="stretchmax"==e,o=c.constrainAlign;return!b&&(m||f||l||o&&!n)&&(b=c.owner.getSizeModel()),m?!k.test(j)&&b[h.height].shrinkWrap&&(g="stretchmax"):n||(g=k.test(j)?"stretch":o&&!b[h.height].shrinkWrap?"stretchmax":""),(f||l)&&(b[h.width].shrinkWrap||(d=d.flex)),d[g]},flexSort:function(a,b){var c,d,e,f,g,h,i=this.names.maxWidth,j=this.names.minWidth,k=1/0,l=a.target,m=b.target,n=0;return e=l[i]||k,f=m[i]||k,c=l[j]||0,d=m[j]||0,g=isFinite(c)||isFinite(d),h=isFinite(e)||isFinite(f),(g||h)&&(h&&(n=e-f),0===n&&g&&(n=d-c)),n},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;"vertical"===b.direction&&a.collapsedVertical()?(a.collapseMemento.capture(["flex"]),delete a.flex):"horizontal"===b.direction&&a.collapsedHorizontal()&&(a.collapseMemento.capture(["flex"]),delete a.flex)},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this,c=b.owner,d=c.stretchMaxPartner,e=b.innerCt.dom.style,f=b.names;a.boxNames=f,b.overflowHandler.beginLayout(a),"string"==typeof d&&(d=Ext.getCmp(d)||c.query(d)[0]),a.stretchMaxPartner=d&&a.context.getCmp(d),b.callParent(arguments),a.innerCtContext=a.getEl("innerCt",b),b.scrollParallel=c.scrollFlags[f.x],b.scrollPerpendicular=c.scrollFlags[f.y],b.scrollParallel&&(b.scrollPos=c.getTargetEl().dom[f.scrollLeft]),e.width="",e.height=""},beginLayoutCycle:function(a,b){var c=this,d=c.align,e=a.boxNames,f=c.pack,g=e.heightModel;c.overflowHandler.beginLayoutCycle(a,b),c.callParent(arguments),a.parallelSizeModel=a[e.widthModel],a.perpendicularSizeModel=a[g],a.boxOptions={align:d={stretch:"stretch"==d,stretchmax:"stretchmax"==d,center:d==e.center,bottom:d==e.afterY},pack:f={center:"center"==f,end:"end"==f}},d.stretch&&a.perpendicularSizeModel.shrinkWrap&&(d.stretchmax=!0,d.stretch=!1),d.nostretch=!(d.stretch||d.stretchmax),a.parallelSizeModel.shrinkWrap&&(f.center=f.end=!1),c.cacheFlexes(a),c.targetEl.setWidth(2e4)},cacheFlexes:function(a){for(var b,c,d,e,f=this,g=a.boxNames,h=g.widthModel,i=g.heightModel,j=a.boxOptions.align.nostretch,k=0,l=a.childItems,m=l.length,n=[],o=0,p=g.minWidth,q=f._percentageRe,r=0,s=0;m--;)c=l[m],b=c.target,c[h].calculated&&(c.flex=d=b.flex,d?(k+=d,n.push(c),o+=b[p]||0):(e=q.exec(b[g.width]),c.percentageParallel=parseFloat(e[1])/100,++r)),j&&c[i].calculated&&(e=q.exec(b[g.height]),c.percentagePerpendicular=parseFloat(e[1])/100,++s);a.flexedItems=n,a.flexedMinSize=o,a.totalFlex=k,a.percentageWidths=r,a.percentageHeights=s,Ext.Array.sort(n,f.flexSortFn)},calculate:function(a){var b=this,c=b.getContainerSize(a),d=a.boxNames,e=a.state,f=e.boxPlan||(e.boxPlan={}),g=a.targetContext;return f.targetSize=c,a.parallelSizeModel.shrinkWrap||c[d.gotWidth]?(e.parallelDone||(e.parallelDone=b.calculateParallel(a,d,f)),e.perpendicularDone||(e.perpendicularDone=b.calculatePerpendicular(a,d,f)),void(e.parallelDone&&e.perpendicularDone?(!b.owner.dock||!Ext.isIE7m&&!Ext.isIEQuirks||b.owner.width||b.horizontal||(f.isIEVerticalDock=!0,f.calculatedWidth=f.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width,g!==a&&(f.calculatedWidth+=g.getPaddingInfo().width)),b.publishInnerCtSize(a,b.reserveOffset?b.availableSpaceOffset:0),b.done&&(a.childItems.length>1||a.stretchMaxPartner)&&a.boxOptions.align.stretchmax&&!e.stretchMaxDone&&(b.calculateStretchMax(a,d,f),e.stretchMaxDone=!0),b.overflowHandler.calculate(a)):b.done=!1)):void(b.done=!1)},calculateParallel:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=b.width,q=a.childItems,r=b.beforeX,s=b.afterX,t=b.setWidth,u=q.length,v=a.flexedItems,w=v.length,x=a.boxOptions.pack,y=o.padding,z=c.targetSize[p],A=0,B=y[r],C=B+y[s]+o.scrollOffset+(o.reserveOffset?o.availableSpaceOffset:0),D=Ext.getScrollbarSize()[b.width];if(D&&o.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone)return!1;l=!0}for(d=0;u>d;++d)if(h=q[d],e=h.marginInfo||h.getMarginInfo(),A+=e[p],!h[b.widthModel].calculated&&(m=h.getProp(p),C+=m,isNaN(C)))return!1;if(C+=A,a.percentageWidths){if(n=z-A,isNaN(n))return!1;for(d=0;u>d;++d)h=q[d],h.percentageParallel&&(m=Math.ceil(n*h.percentageParallel),m=h.setWidth(m),C+=m)}if(a.parallelSizeModel.shrinkWrap)c.availableSpace=0,c.tooNarrow=!1;else if(c.availableSpace=z-C,c.tooNarrow=c.availableSpace<a.flexedMinSize,c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&o.scrollParallel&&a.state.perpendicularDone)for(a.state.perpendicularDone=!1,d=0;u>d;++d)q[d].invalidate();for(k=C,f=c.availableSpace,g=a.totalFlex,d=0;w>d;d++)h=v[d],i=h.flex,j=o.roundFlex(i/g*f),j=h[t](j),k+=j,f=Math.max(0,f-j),g-=i;for(x.center?(B+=f/2,0>B&&(B=0)):x.end&&(B+=f),d=0;u>d;++d)h=q[d],e=h.marginInfo,B+=e[r],h.setProp(b.x,B),B+=e[s]+h.props[p];return k+=a.targetContext.getPaddingInfo()[p],a.state.contentWidth=k,l&&a.peek(b.contentHeight)>c.targetSize[b.height]&&(k+=D,a[b.hasOverflowY]=!0,a.target.componentLayout[b.setWidthInDom]=!0,a[b.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),a[b.setContentWidth](k),!0},calculatePerpendicular:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=a.perpendicularSizeModel.shrinkWrap,q=c.targetSize,r=a.childItems,s=r.length,t=Math.max,u=b.height,v=b.setHeight,w=b.beforeY,x=b.y,y=o.padding,z=y[w],A=q[u]-z-y[b.afterY],B=a.boxOptions.align,C=B.stretch,D=B.stretchmax,E=B.center,F=B.bottom,G=o.constrainAlign,H=0,I=0,J=o.onBeforeConstrainInvalidateChild,K=o.onAfterConstrainInvalidateChild,L=Ext.getScrollbarSize().height;if((C||(E||F)&&!p)&&isNaN(A))return!1;if(o.scrollParallel&&c.tooNarrow&&(p?m=!0:(A-=L,c.targetSize[u]-=L)),C)i=A;else{for(e=0;s>e;e++){if(j=r[e],g=(j.marginInfo||j.getMarginInfo())[u],n=j.percentagePerpendicular){if(++I,p)continue;f=n*A-g,f=j[b.setHeight](f)}else f=j.getProp(u);if(!p&&G&&j[b.heightModel].shrinkWrap&&f>A&&(j.invalidate({before:J,after:K,layout:o,childHeight:A,names:b}),a.state.parallelDone=!1),isNaN(H=t(H,f+g,j.target[b.minHeight]||0)))return!1}if(m&&(H+=L,a[b.hasOverflowX]=!0,a.target.componentLayout[b.setHeightInDom]=!0,a[b.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),k=a.stretchMaxPartner,k&&(a.setProp("maxChildHeight",H),l=k.childItems,l&&l.length&&(H=t(H,k.getProp("maxChildHeight")),isNaN(H))))return!1;a[b.setContentHeight](H+o.padding[u]+a.targetContext.getPaddingInfo()[u]),m&&(H-=L),c.maxSize=H,D?i=H:(E||F||I)&&(i=G?p?H:A:p?H:t(A,H),i-=a.innerCtContext.getBorderInfo()[u])}for(e=0;s>e;e++)j=r[e],g=j.marginInfo||j.getMarginInfo(),d=z+g[w],C?j[v](i-g[u]):(n=j.percentagePerpendicular,p&&n&&(g=j.marginInfo||j.getMarginInfo(),f=n*i-g[u],f=j.setHeight(f)),E?(h=i-j.props[u],h>0&&(d=z+Math[o.alignRoundingMethod](h/2))):F&&(d=t(0,i-d-j.props[u]))),j.setProp(x,d);return!0},onBeforeConstrainInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(a,b){var c=b.names;a.setProp(c.beforeY,0),a[c.heightModel].calculated&&a[c.setHeight](b.childHeight)},calculateStretchMax:function(a,b,c){var d,e,f,g,h=this,i=b.height,j=b.width,k=a.childItems,l=k.length,m=c.maxSize,n=h.onBeforeStretchMaxInvalidateChild,o=h.onAfterStretchMaxInvalidateChild;for(f=0;l>f;++f)d=k[f],e=d.props,g=m-d.getMarginInfo()[i],(g!=e[i]||d[b.heightModel].constrained)&&d.invalidate({before:n,after:o,layout:h,childWidth:e[j],childHeight:g,childX:e.x,childY:e.y,names:b})},onBeforeStretchMaxInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMax||(a[c]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX),a.setProp("y",b.childY),a[c.heightModel].calculated&&a[c.setHeight](d),a[c.widthModel].calculated&&a[c.setWidth](e)},completeLayout:function(a){var b,c,d,e,f,g=this,h=a.boxNames,i=a.invalidateScrollX,j=a.invalidateScrollY;g.overflowHandler.completeLayout(a),(i||j)&&(c=g.getTarget(),b=c.dom,f=b.style,i&&(d=c.getStyle("overflowX"),"auto"==d?(d=f.overflowX,f.overflowX="scroll"):i=!1),j&&(e=c.getStyle("overflowY"),"auto"==e?(e=f.overflowY,f.overflowY="scroll"):j=!1),(i||j)&&(b.scrollWidth,i&&(f.overflowX=d),j&&(f.overflowY=e))),g.scrollParallel&&(g.owner.getTargetEl().dom[h.scrollLeft]=g.scrollPos)},finishedLayout:function(a){this.overflowHandler.finishedLayout(a),this.callParent(arguments),this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(a,b){var c,d=this,e=a.boxNames,f=e.height,g=e.width,h=a.boxOptions.align,i=d.owner.dock,j=d.padding,k=a.state.boxPlan,l=k.targetSize,m=l[f],n=a.innerCtContext,o=(a.parallelSizeModel.shrinkWrap||k.tooNarrow&&d.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[g]:l[g])-(b||0);h.stretch?c=m:(c=k.maxSize+j[e.beforeY]+j[e.afterY]+n.getBorderInfo()[f],a.perpendicularSizeModel.shrinkWrap||!h.center&&!h.bottom||(c=Math.max(m,c))),n[e.setWidth](o),n[e.setHeight](c),isNaN(o+c)&&(d.done=!1),!k.calculatedWidth||"left"!=i&&"right"!=i||a.setWidth(k.calculatedWidth,!0,!0)},onRemove:function(a){var b=this;b.callParent(arguments),b.overflowHandler&&b.overflowHandler.onRemove(a),a.layoutMarginCap==b.id&&delete a.layoutMarginCap},initOverflowHandler:function(){var a,b,c=this,d=c.overflowHandler;"string"==typeof d&&(d={type:d}),a="None",d&&void 0!==d.type&&(a=d.type),b=Ext.layout.container.boxOverflow[a],b[c.type]&&(b=b[c.type]),c.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+a,c,d)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)},getRenderData:function(){var a=this.callParent();return a.targetElCls=this.targetElCls,a}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0),Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0),Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0),Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this;!a.layout&&a.enableOverflow&&(a.layout={overflowHandler:"Menu"}),("right"===a.dock||"left"===a.dock)&&(a.vertical=!0),a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"}),a.vertical&&a.addClsWithUI("vertical"),"footer"===a.ui&&(a.ignoreBorderManagement=!0),a.callParent(),a.addEvents("overflowchange")},getRefItems:function(a){var b,c=this,d=c.callParent(arguments),e=c.layout;return a&&c.enableOverflow&&(b=e.overflowHandler,b&&b.menu&&(d=d.concat(b.menu.getRefItems(a)))),d},lookupComponent:function(a){var b=arguments;if("string"==typeof a){var c=Ext.toolbar.Toolbar,d=c.shortcutsHV[this.vertical?1:0][a]||c.shortcuts[a];a="string"==typeof d?{xtype:d}:d?Ext.apply({},d):{xtype:"tbtext",text:a},this.applyDefaults(a),b=[a]}return this.callParent(b)},applyDefaults:function(a){return Ext.isString(a)||(a=this.callParent(arguments)),a},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon",d=this;d[c](a,"mouseover",d.onButtonOver,d),d[c](a,"menushow",d.onButtonMenuShow,d),d[c](a,"menuhide",d.onButtonMenuHide,d)}},onBeforeAdd:function(a){var b=this,c=a.isButton;c&&b.defaultButtonUI&&"default"===a.ui&&!a.hasOwnProperty("ui")?a.ui=b.defaultButtonUI:(c||a.isFormField)&&"footer"!==b.ui&&(a.ui=a.ui+"-toolbar",a.addCls(a.baseCls+"-toolbar")),a instanceof Ext.toolbar.Separator&&a.setUI(b.vertical?"vertical":"horizontal"),b.callParent(arguments)},onAdd:function(a){this.callParent(arguments),this.trackMenu(a)},onRemove:function(a){this.callParent(arguments),this.trackMenu(a,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){this.activeMenuBtn&&this.activeMenuBtn!=a&&(this.activeMenuBtn.hideMenu(),a.showMenu(),this.activeMenuBtn=a)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}},0,["toolbar"],["toolbar","component","container","box"],{toolbar:!0,component:!0,container:!0,box:!0},["widget.toolbar"],0,[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0),Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a,b,c=this;c.callParent(),a=c.getRenderTarget(),b=c.getDockedItems(),c.finishRenderItems(a,b)},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var a,b,c,d,e,f,g,h=this,i=h.owner,j=h.lastDockedItems,k=h.borders,l=i.dockedItems.generation,m=h.noBorderClassesSides,n=h.borderWidthProps,o=h.collapsed;if(h.initializedBorders!=l&&(!i.border||i.manageBodyBorders)){for(h.initializedBorders=l,h.collapsed=!1,h.lastDockedItems=b=h.getLayoutItems(),h.collapsed=o,a={top:[],right:[],bottom:[],left:[]},c=0,d=b.length;d>c;c++)e=b[c],f=e.dock,e.ignoreBorderManagement||(a[f].satisfied||(a[f].push(e),a[f].satisfied=!0),a.top.satisfied||"bottom"===f||a.top.push(e),a.right.satisfied||"left"===f||a.right.push(e),a.bottom.satisfied||"top"===f||a.bottom.push(e),a.left.satisfied||"right"===f||a.left.push(e));if(j)for(c=0,d=j.length;d>c;c++)e=j[c],e.isDestroyed||e.ignoreBorderManagement||i.manageBodyBorders||e.removeCls(h.noBorderClasses);if(k)for(g in k)i.manageBodyBorders&&k[g].satisfied&&i.setBodyStyle(n[g],"");for(g in a)if(d=a[g].length,i.manageBodyBorders)a[g].satisfied&&i.setBodyStyle(n[g],"1px");else{for(c=0;d>c;c++)a[g][c].addCls(m[g]);(!a[g].satisfied&&!i.bodyBorder||i.bodyBorder===!1)&&i.addBodyCls(m[g])}h.borders=a}},beforeLayoutCycle:function(a){var b,c,d=this,e=d.owner,f=d.sizeModels.shrinkWrap,g=e.shrinkWrapDock;e.collapsed&&(e.collapsedVertical()?(c=!0,a.measureDimensions=1):(b=!0,a.measureDimensions=2)),a.collapsedVert=c,a.collapsedHorz=b,c?a.heightModel=f:b&&(a.widthModel=f),g=g===!0?3:g||0,a.shrinkWrapDockHeight=1&g&&a.heightModel.shrinkWrap,a.shrinkWrapDockWidth=2&g&&a.widthModel.shrinkWrap},beginLayout:function(a){var b,c,d,e,f,g,h,i=this,j=i.owner,k=i.getLayoutItems(),l=a.context,m=k.length;for(i.callParent(arguments),g=j.getCollapsed(),g!==i.lastCollapsedState&&Ext.isDefined(i.lastCollapsedState)&&(i.owner.collapsed?(a.isCollapsingOrExpanding=1,j.addClsWithUI(j.collapsedCls)):(a.isCollapsingOrExpanding=2,j.removeClsWithUI(j.collapsedCls),a.lastCollapsedState=i.lastCollapsedState)),i.lastCollapsedState=g,a.dockedItems=b=[],c=0;m>c;c++)d=k[c],d.rendered&&(h=d.dock,e=l.getCmp(d),e.dockedAt={x:0,y:0},e.offsets=f=Ext.Element.parseBox(d.offsets||0),e.horizontal="top"==h||"bottom"==h,f.width=f.left+f.right,f.height=f.top+f.bottom,b.push(e));a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b,c,d,e=this,f=a.dockedItems,g=f.length,h=e.owner,i=h.frameBody,j=e.lastHeightModel;for(e.callParent(arguments),e.owner.manageHeight?e.lastBodyDisplay&&(h.body.dom.style.display=e.lastBodyDisplay=""):("inline-block"!==e.lastBodyDisplay&&(h.body.dom.style.display=e.lastBodyDisplay="inline-block"),j&&j.shrinkWrap&&!a.heightModel.shrinkWrap&&(h.body.dom.style.marginBottom="")),a.widthModel.auto&&(a.widthModel.shrinkWrap&&h.el.setWidth(null),h.body.setWidth(null),i&&i.setWidth(null)),a.heightModel.auto&&(h.body.setHeight(null),i&&i.setHeight(null)),a.collapsedVert?a.setContentHeight(0):a.collapsedHorz&&a.setContentWidth(0),b=0;g>b;b++)if(c=f[b].target,d=c.dock,"right"==d)c.setLocalX(0);else if("left"!=d)continue},calculate:function(a){var b,c,d,e,f,g=this,h=g.measureAutoDimensions(a,a.measureDimensions),i=a.state,j=i.horzDone,k=i.vertDone,l=a.bodyContext;for(a.borderInfo||a.getBorderInfo(),a.paddingInfo||a.getPaddingInfo(),a.frameInfo||a.getFrameInfo(),l.borderInfo||l.getBorderInfo(),l.paddingInfo||l.getPaddingInfo(),a.frameBorder||((b=a.framing)?(a.frameBorder=b.border,a.framePadding=b.padding):(a.frameBorder=a.borderInfo,a.framePadding=a.paddingInfo)),c=!j&&g.createAxis(a,h.contentWidth,a.widthModel,g.horzAxisProps,a.collapsedHorz),d=!k&&g.createAxis(a,h.contentHeight,a.heightModel,g.vertAxisProps,a.collapsedVert),e=0,f=a.dockedItems.length;f--;++e)c&&g.dockChild(a,c,f,e),d&&g.dockChild(a,d,f,e);c&&g.finishAxis(a,c)&&(i.horzDone=j=c),d&&g.finishAxis(a,d)&&(i.vertDone=k=d),j&&k&&g.finishConstraints(a,j,k)?g.finishPositions(a,j,k):g.done=!1},createAxis:function(a,b,c,d,e){var f,g,h,i,j=this,k=0,l=j.owner,m=l[d.maxSize],n=l[d.minSize]||0,o=d.dockBegin,p=d.dockEnd,q=d.pos,r=d.size,s=null!=m,t=c.shrinkWrap;return t?e?i=0:(f=a.bodyContext,i=b+f.borderInfo[r]):(g=a.frameBorder,h=a.framePadding,k=g[o]+h[o],i=a.getProp(r)-(g[p]+h[p])),{shrinkWrap:c.shrinkWrap,sizeModel:c,initialBegin:k,begin:k,end:i,collapsed:e,horizontal:d.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:i-k,maxChildSize:0,hasMinMaxConstraints:(n||s)&&c.shrinkWrap,minSize:n,maxSize:s?m:1e9,bodyPosProp:j.owner.manageHeight?q:d.marginBegin,dockBegin:o,dockEnd:p,posProp:q,sizeProp:r,setSize:d.setSize,shrinkWrapDock:a[d.shrinkWrapDock],sizeModelName:d.sizeModel,dockedPixelsEnd:0}},dockChild:function(a,b,c,d){var e,f,g=this,h=a.dockedItems[b.shrinkWrap?c:d],i=h.target,j=i.dock,k=b.sizeProp;i.ignoreParentFrame&&a.isCollapsingOrExpanding&&h.clearMarginCache(),h.marginInfo||h.getMarginInfo(),j==b.dockBegin?e=b.shrinkWrap?g.dockOutwardBegin(a,h,i,b):g.dockInwardBegin(a,h,i,b):j==b.dockEnd?e=b.shrinkWrap?g.dockOutwardEnd(a,h,i,b):g.dockInwardEnd(a,h,i,b):b.shrinkWrapDock?(f=h.getProp(k)+h.marginInfo[k],b.maxChildSize=Math.max(b.maxChildSize,f),e=0):e=g.dockStretch(a,h,i,b),h.dockedAt[b.posProp]=e},dockInwardBegin:function(a,b,c,d){var e,f,g,h=d.begin,i=d.sizeProp,j=c.ignoreParentFrame;return j&&(d.ignoreFrameBegin=b,g=c.dock,e=a.frameBorder[g],h-=e+a.framePadding[g]),c.overlay||(f=b.getProp(i)+b.marginInfo[i],d.begin+=f,j&&(d.begin-=e)),h},dockInwardEnd:function(a,b,c,d){var e,f=d.sizeProp,g=b.getProp(f)+b.marginInfo[f],h=d.end-g;return c.overlay||(d.end=h),c.ignoreParentFrame&&(d.ignoreFrameEnd=b,e=a.frameBorder[c.dock],h+=e+a.framePadding[c.dock],d.end+=e),h},dockOutwardBegin:function(a,b,c,d){var e,f=d.begin,g=d.sizeProp;return d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameBegin=b),c.overlay||(e=b.getProp(g)+b.marginInfo[g],f-=e,d.begin=f),f},dockOutwardEnd:function(a,b,c,d){var e,f=d.end,g=d.sizeProp;return e=b.getProp(g)+b.marginInfo[g],d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameEnd=b),c.overlay||(d.end=f+e,d.dockedPixelsEnd+=e),f},dockStretch:function(a,b,c,d){var e,f,g=c.dock,h=d.sizeProp,i="top"==g||"bottom"==g,j=a.frameBorder,k=b.offsets,l=a.framePadding,m=i?"right":"bottom",n=i?"left":"top",o=d.begin+k[n];return c.stretch!==!1&&(f=d.end-o-k[m],c.ignoreParentFrame&&(o-=l[n]+j[n],f+=l[h]+j[h]),e=b.marginInfo,f-=e[h],b[d.setSize](f)),o},finishAxis:function(a,b){if(isNaN(b.maxChildSize))return!1;var c,d,e,f,g=b.begin,h=b.end-g,i=b.collapsed,j=b.setSize,k=b.dockBegin,l=b.dockEnd,m=a.framePadding,n=a.frameBorder,o=n[k],p=a.framing,q=p&&p[k],r=i?0:m[k],s=b.sizeProp,t=b.ignoreFrameBegin,u=b.ignoreFrameEnd,v=a.bodyContext,w=Math.max(o+r-q,0);return b.shrinkWrap?(d=b.initialSize,p?(e=-g+o+r,c=e-q-w):(c=-g,e=c+r),i||(h+=m[s]),t?(e-=o,c-=o,t.dockedAt[b.posProp]-=r):h+=o,i||(u?u.dockedAt[b.posProp]+=m[l]:h+=n[l]),b.size=h,b.horizontal||this.owner.manageHeight||(f=!1)):(p?(e=0,c=g-q-w):(e=-o,c=g-r-o),d=h),b.delta=e,v[j](d,f),v.setProp(b.bodyPosProp,c),!isNaN(h)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(a,b){var c,d=b.axis,e=b.layout;a[d.sizeModelName].calculated&&(c=e.dockStretch(b.ownerContext,a,a.target,d),a.setProp(d.posProp,d.delta+c))},finishConstraints:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=this,o=n.sizeModels,p=b.shrinkWrap,q=c.shrinkWrap,r=n.owner;if(p&&(i=b.size,j=b.collapsed?0:b.minSize,k=b.maxSize,l=b.maxChildSize,m=Math.max(i,l),m>k?(h=o.constrainedMax,f=k):j>m?(h=o.constrainedMin,f=j):l>i?(h=o.constrainedDock,r.dockConstrainedWidth=f=l):f=i),q&&(i=c.size,j=c.collapsed?0:c.minSize,k=c.maxSize,l=c.maxChildSize,m=Math.max(i,l+i-c.initialSize),m>k?(g=o.constrainedMax,e=k):j>m?(g=o.constrainedMin,e=j):l>i?(g=o.constrainedDock,r.dockConstrainedHeight=e=l):(a.collapsedVert||r.manageHeight||(d=!1,a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)),e=i)),h||g){if(h&&g&&h.constrainedMax&&g.constrainedByMin)return a.invalidate({widthModel:h}),!1;if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap)return a.invalidate({widthModel:h,heightModel:g}),!1}else n.invalidateAxes(a,b,c);return p&&(a.setWidth(f),h&&(a.widthModel=h)),q&&(a.setHeight(e,d),g&&(a.heightModel=g)),!0},invalidateAxes:function(a,b,c){var d,e,f,g,h,i,j,k,l=this.beforeInvalidateShrinkWrapDock,m=this.afterInvalidateShrinkWrapDock,n=b.end-b.begin,o=c.initialSize,p=b.shrinkWrapDock&&b.maxChildSize<n,q=c.shrinkWrapDock&&c.maxChildSize<o;if(p||q)for(q&&(c.begin=c.initialBegin,c.end=c.begin+c.initialSize),d=a.dockedItems,f=0,e=d.length;e>f;++f)g=d[f],i=g.horizontal,j=null,p&&i?(k=b.sizeProp,h=n,j=b):q&&!i&&(k=c.sizeProp,h=o,j=c),j&&(h-=g.getMarginInfo()[k],h!==g.props[k]&&g.invalidate({before:l,after:m,axis:j,ownerContext:a,layout:this}))},finishPositions:function(a,b,c){var d,e,f=a.dockedItems,g=f.length,h=b.delta,i=c.delta;for(d=0;g>d;++d)e=f[d],e.setProp("x",h+e.dockedAt.x),e.setProp("y",i+e.dockedAt.y)},finishedLayout:function(a){var b=this,c=a.target;b.callParent(arguments),a.animatePolicy||(1===a.isCollapsingOrExpanding?c.afterCollapse(!1):2===a.isCollapsingOrExpanding&&c.afterExpand(!1))},getAnimatePolicy:function(a){var b,c,d=this;return 1==a.isCollapsingOrExpanding?b=d.lastCollapsedState:2==a.isCollapsingOrExpanding&&(b=a.lastCollapsedState),"left"==b||"right"==b?c=d.horizontalCollapsePolicy:("top"==b||"bottom"==b)&&(c=d.verticalCollapsePolicy),c},getDockedItems:function(a,b){var c,d,e,f,g,h,i=this,j="visual"===a,k=j?Ext.ComponentQuery.query("[rendered]",i.owner.dockedItems.items):i.owner.dockedItems.items,l=k&&k.length&&a!==!1;if(null==b)e=l&&!j?k.slice():k;else{for(e=[],f=0,h=k.length;h>f;++f)d=k[f].dock,g="top"==d||"left"==d,(b?g:!g)&&e.push(k[f]);l=l&&e.length}return l&&(c="render"==(a=a||"render"),Ext.Array.sort(e,function(b,d){var e,f;return!c||(e=i.owner.dockOrder[b.dock])===(f=i.owner.dockOrder[d.dock])||e+f?(e=i.getItemWeight(b,a),f=i.getItemWeight(d,a),void 0!==e&&void 0!==f?e-f:0):e-f})),e||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a,b,c,d,e,f=this;if(f.owner.collapsed)e=f.owner.getCollapsedDockedItems();else for(a=f.getDockedItems("visual"),b=a.length,e=[],d=0;b>d;d++)c=a[d],c.hidden||e.push(c);return e},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(a){var b=this,c=b.owner;
1==a.isCollapsingOrExpanding?(c.reExpander&&c.reExpander.el.show(),c.addClsWithUI(c.collapsedCls),a.redo(!0)):2==a.isCollapsingOrExpanding&&(c.removeClsWithUI(c.collapsedCls),a.bodyContext.redo())},renderChildren:function(){var a=this,b=a.getDockedItems(),c=a.getRenderTarget();a.handleItemBorders(),a.renderItems(b,c)},renderItems:function(a,b){var c,d,e,f,g=this,h=a.length,i=0,j=0,k=0,l=g.getRenderTarget().dom.childNodes,m=l.length;for(c=0,d=0;m>c&&(e=l[c],!Ext.fly(e).hasCls(Ext.baseCSSPrefix+"resizable-handle"));c++){for(d=0;h>d&&(f=a[d],!f.rendered||f.el.dom!==e);d++);d===h&&k++}for(;h>i;i++,j++)f=a[i],i!==j||"right"!==f.dock&&"bottom"!==f.dock||(j+=k),f&&!f.rendered?g.renderItem(f,b,j):g.isValidParent(f,b,j)||g.moveItem(f,b,j)},undoLayout:function(a){var b=this,c=b.owner;1==a.isCollapsingOrExpanding?(c.reExpander&&c.reExpander.el.hide(),c.removeClsWithUI(c.collapsedCls),a.undo(!0)):2==a.isCollapsingOrExpanding&&(c.addClsWithUI(c.collapsedCls),a.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a,b){var c,d,e=this,f=e.sizePolicy,g=e.owner.shrinkWrapDock;return a.stretch===!1?f.nostretch:(c=a.dock,d="left"==c||"right"==c,g=g===!0?3:g||0,d?(f=f.vert,g=1&g):(f=f.horz,g=2&g),g&&(b||(b=e.owner.getSizeModel()),b[d?"height":"width"].shrinkWrap)?f.shrinkWrap:f.stretch)},configureItem:function(a){this.callParent(arguments),a.addCls(Ext.baseCSSPrefix+"docked"),a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){this.callParent(arguments),this.itemCls&&a.el.removeCls(this.itemCls+"-"+a.dock);var b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var a,b=this,c=b.borderCollapseMap,d=b.owner,e=d.baseCls,f=d.ui;return c=c[e]||(c[e]={}),a=c[f],a||(e+="-"+f+"-outer-border-",c[f]=a=[0,e+"l",e+"b",e+"bl",e+"r",e+"rl",e+"rb",e+"rbl",e+"t",e+"tl",e+"tb",e+"tbl",e+"tr",e+"trl",e+"trb",e+"trbl"]),a}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0),Ext.cmd.derive("Ext.panel.AbstractPanel",Ext.container.Container,{baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps(),this.callParent()},initBorderProps:function(){var a=this;a.frame&&a.border&&void 0===a.bodyBorder&&(a.bodyBorder=!1),a.frame&&a.border&&(a.bodyBorder===!1||0===a.bodyBorder)&&(a.manageBodyBorders=!0)},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();return a.initBodyStyles(),a.protoBody.writeTo(b),delete a.protoBody,b},getComponent:function(a){var b=this.callParent(arguments);return void 0!==b||Ext.isNumber(a)||(b=this.getDockedComponent(a)),b},getProtoBody:function(){var a=this,b=a.protoBody;return b||(a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),b},initBodyStyles:function(){var a=this,b=a.getProtoBody();void 0!==a.bodyPadding&&(a.layout.managePadding?b.setStyle("padding",0):b.setStyle("padding",this.unitizeBox(a.bodyPadding===!0?5:a.bodyPadding))),a.initBodyBorder()},initBodyBorder:function(){var a=this;a.frame&&a.bodyBorder&&(Ext.isNumber(a.bodyBorder)||(a.bodyBorder=1),a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder)))},getCollapsedDockedItems:function(){var a=this;return a.header===!1||"placeholder"==a.collapseMode?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(a,b){var c=this,d=c.rendered?c.body:c.getProtoBody();return Ext.isFunction(a)&&(a=a()),1==arguments.length?(Ext.isString(a)&&(a=Ext.Element.parseStyles(a)),d.setStyle(a)):d.setStyle(a,b),c},addBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();return c.addCls(a),b},removeBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();return c.removeCls(a),b},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments);return b.addBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]),c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments);return b.removeBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]),c},addUIToElement:function(){var a=this;a.callParent(arguments),a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments),a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments),this.setupDockingRenderTpl(a)}},0,0,["component","container","box"],{component:!0,container:!0,box:!0},0,[["docking",Ext.container.DockingContainer]],[Ext.panel,"AbstractPanel"],0),Ext.cmd.derive("Ext.panel.Header",Ext.container.Container,{isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var a=this,b=a.hasOwnProperty("titlePosition"),c=a.items,d=b?a.titlePosition:c?c.length:0,e=[a.orientation,a.getDockName()],f=a.ownerCt;a.addEvents("click","dblclick"),a.indicateDragCls=a.headerCls+"-draggable",a.title=a.title||"&#160;",a.tools=a.tools||[],c=a.items=c?Ext.Array.slice(c):[],a.orientation=a.orientation||"horizontal",a.dock=a.dock?a.dock:"horizontal"==a.orientation?"top":"left",(f?f.border||f.frame:a.border)||e.push(a.orientation+"-noborder"),a.addClsWithUI(e),a.addCls([a.headerCls,a.headerCls+"-"+a.orientation]),a.indicateDrag&&a.addCls(a.indicateDragCls),(a.iconCls||a.icon||a.glyph)&&(a.initIconCmp(),b||c.length||++d,c.push(a.iconCmp)),a.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,rtl:a.rtl,id:a.id+"_hd",style:a.titleAlign?"text-align:"+a.titleAlign:"",cls:a.headerCls+"-text-container "+a.baseCls+"-text-container "+a.baseCls+"-text-container-"+a.ui,renderTpl:a.getTpl("headingTpl"),renderData:{title:a.title,cls:a.baseCls,headerCls:a.headerCls,ui:a.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:a.onTitleRender,scope:a}}),a.layout="vertical"==a.orientation?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},Ext.Array.push(c,a.tools),a.tools.length=0,a.callParent(),c.length<d&&(d=c.length),a.titlePosition=d,a.insert(d,a.titleCmp),a.on({dblclick:a.onDblClick,click:a.onClick,element:"el",scope:a})},initIconCmp:function(){var a,b=this,c=[b.headerCls+"-icon",b.baseCls+"-icon",b.iconCls];b.glyph&&c.push(b.baseCls+"-glyph"),a={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:c,baseCls:b.baseCls+"-icon",id:b.id+"-iconEl",iconCls:b.iconCls,glyph:b.glyph},Ext.isEmpty(b.icon)||(delete a.iconCls,a.src=b.icon),b.iconCmp=new Ext.Img(a)},beforeRender:function(){this.protoEl.unselectable(),this.callParent()},afterLayout:function(){var a,b,c,d,e=this;"vertical"===e.orientation&&(e.adjustTitlePosition(),b=e.frameTR,b&&(a=e.frameBR,c=e.frameTL,d=e.getWidth()-b.getPadding("r")-(c?c.getPadding("l"):e.el.getBorderWidth("l"))+"px",a.setStyle("background-position-x",d),b.setStyle("background-position-x",d)),Ext.isIE7&&Ext.isStrict&&e.frame&&e.el.repaint())},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var a,b=this.titleCmp;!Ext.isIE9m&&b&&(a=b.el,a.setStyle("left",a.getWidth()+"px"))},onTitleRender:function(){"vertical"===this.orientation&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(a){var b,c,d=this,e=d.callParent(arguments),f=[d.baseCls+"-body-"+a,d.baseCls+"-body-"+d.ui+"-"+a];if(d.bodyCls){for(b=d.bodyCls.split(" "),c=0;c<f.length;c++)Ext.Array.contains(b,f[c])||b.push(f[c]);d.bodyCls=b.join(" ")}else d.bodyCls=f.join(" ");return e},removeUIClsFromElement:function(a){var b,c,d=this,e=d.callParent(arguments),f=[d.baseCls+"-body-"+a,d.baseCls+"-body-"+d.ui+"-"+a];if(d.bodyCls){for(b=d.bodyCls.split(" "),c=0;c<f.length;c++)Ext.Array.remove(b,f[c]);d.bodyCls=b.join(" ")}return e},addUIToElement:function(){var a,b,c=this;c.callParent(arguments),b=c.baseCls+"-body-"+c.ui,c.rendered?c.body.addCls(c.bodyCls?c.bodyCls:b):c.bodyCls?(a=c.bodyCls.split(" "),Ext.Array.contains(a,b)||a.push(b),c.bodyCls=a.join(" ")):c.bodyCls=b,c.titleCmp&&c.titleCmp.rendered&&c.titleCmp.addCls(c.baseCls+"-text-container-"+c.ui)},removeUIFromElement:function(){var a,b,c=this;c.callParent(arguments),b=c.baseCls+"-body-"+c.ui,c.rendered?c.body.removeCls(c.bodyCls?c.bodyCls:b):c.bodyCls?(a=c.bodyCls.split(" "),Ext.Array.remove(a,b),c.bodyCls=a.join(" ")):c.bodyCls=b,c.titleCmp&&c.titleCmp.rendered&&c.titleCmp.removeCls(c.baseCls+"-text-container-"+c.ui)},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,b){var c="."+Ext.panel.Tool.prototype.baseCls;b.getTarget(c)||this.fireEvent(a,this,b)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(a){var b=this,c=b.titleCmp;b.title=a,c.rendered?(c.textEl.update(b.title||"&#160;"),c.updateLayout()):b.titleCmp.on({render:function(){b.setTitle(a)},single:!0})},getMinWidth:function(){var a,b,c,d=this,e=d.titleCmp.textEl.dom,f=d.tools;if(e.style.display="inline",a=e.offsetWidth,e.style.display="",f&&(b=f.length))for(c=0;b>c;c++)f[c].el&&(a+=f[c].el.dom.offsetWidth);return d.iconCmp&&(a+=d.iconCmp.el.dom.offsetWidth),a+10},setIconCls:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.iconCls=a,b.iconCmp||c?d&&(c?(b.iconCmp.destroy(),delete b.iconCmp):(d.removeCls(d.iconCls),d.addCls(a),d.iconCls=a)):(b.initIconCmp(),b.insert(0,b.iconCmp))},setIcon:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.icon=a,b.iconCmp||c?d&&(c?(b.iconCmp.destroy(),delete b.iconCmp):d.setSrc(b.icon)):(b.initIconCmp(),b.insert(0,b.iconCmp))},setGlyph:function(a){var b=this,c=b.iconCmp;b.iconCmp?c&&(a?b.iconCmp.setGlyph(a):(b.iconCmp.destroy(),delete b.iconCmp)):(b.initIconCmp(),b.insert(0,b.iconCmp))},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},syncBeforeAfterTitleClasses:function(){var a,b,c,d,e=this,f=e.items,g=f.items,h=e.titlePosition,i=g.length,j=f.generation,k=e.syncBeforeAfterGen;if(k!==j)for(e.syncBeforeAfterGen=j,c=0;i>c;++c)d=g[c],a=d.afterTitleCls||(d.afterTitleCls=d.baseCls+"-after-title"),b=d.beforeTitleCls||(d.beforeTitleCls=d.baseCls+"-before-title"),!e.title||h>c?(k&&d.removeCls(a),d.addCls(b)):c>h&&(k&&d.removeCls(b),d.addCls(a))},onAdd:function(a){var b=this.tools;this.callParent(arguments),a.isTool&&(b.push(a),b[a.type]=a)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var a=this,b=a.callParent(),c=a.ownerCt;return(!a.expanding&&c&&c.collapsed||a.isCollapsedExpander)&&(b+="-"+c.collapsedCls),b+"-"+a.dock}},0,["header"],["component","container","box","header"],{component:!0,container:!0,box:!0,header:!0},["widget.header"],0,[Ext.panel,"Header"],0),Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b){Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b}),b=b||this.defaultPadding;var c,d,e,f,g=Ext.get(this.getEl()).getBox(),h=Ext.get(a),i=h.getScroll(),j=h.dom;j==document.body?c={x:i.left,y:i.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:(d=h.getXY(),c={x:d[0],y:d[1],width:j.clientWidth,height:j.clientHeight}),e=g.y-c.y,f=g.x-c.x,this.resetConstraints(),this.setXConstraint(f-(b.left||0),c.width-f-g.width-(b.right||0),this.xTickSize),this.setYConstraint(e-(b.top||0),c.height-e-g.height-(b.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.initTarget(a,b,c),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof a&&(a=Ext.id(a)),this.id=a,this.addToGroup(b?b:"default"),this.handleElId=a,this.setDragElId(a),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(a,b,c,d){this.padding=b||0===b?c||0===c?[a,b,c,d]:[a,b,a,b]:[a,a,a,a]},setInitPosition:function(a,b){var c,d,e,f=this.getEl();this.DDMInstance.verifyEl(f)&&(c=a||0,d=b||0,e=Ext.Element.getXY(f),this.initPageX=e[0]-c,this.initPageY=e[1]-d,this.lastPageX=e[0],this.lastPageY=e[1],this.setStartPosition(e))},setStartPosition:function(a){var b=a||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=b[0],this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=!0,this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a],this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.handleElId=a,this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this),this.setHandleElId(a),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a){var b=this;b.primaryButtonOnly&&0!=a.button||b.isLocked()||(b.DDMInstance.refreshCache(b.groups),(b.hasOuterHandles||b.DDMInstance.isOverTarget(a.getPoint(),b))&&b.clickValidator(a)&&(b.setStartPosition(),b.b4MouseDown(a),b.onMouseDown(a),b.DDMInstance.handleMouseDown(a,b),b.DDMInstance.stopEvent(a)))},clickValidator:function(a){var b=a.getTarget();return this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(b,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;c>b;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b,c,d,e=!0;try{b=a.nodeName.toUpperCase()}catch(f){b=a.nodeName}for(e=e&&!this.invalidHandleTypes[b],e=e&&!this.invalidHandleIds[a.id],c=0,d=this.invalidHandleClasses.length;e&&d>c;++c)e=!Ext.fly(a).hasCls(this.invalidHandleClasses[c]);return e},setXTicks:function(a,b){this.xTicks=[],this.xTickSize=b;var c,d={};for(c=this.initPageX;c>=this.minX;c-=b)d[c]||(this.xTicks[this.xTicks.length]=c,d[c]=!0);for(c=this.initPageX;c<=this.maxX;c+=b)d[c]||(this.xTicks[this.xTicks.length]=c,d[c]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[],this.yTickSize=b;var c,d={};for(c=this.initPageY;c>=this.minY;c-=b)d[c]||(this.yTicks[this.yTicks.length]=c,d[c]=!0);for(c=this.initPageY;c<=this.maxY;c+=b)d[c]||(this.yTicks[this.yTicks.length]=c,d[c]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a,this.rightConstraint=b,this.minX=this.initPageX-a,this.maxX=this.initPageX+b,c&&this.setXTicks(this.initPageX,c),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a,this.bottomConstraint=b,this.minY=this.initPageY-a,this.maxY=this.initPageY+b,c&&this.setYTicks(this.initPageY,c),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];var c,d,e,f,g;for(c=0,d=b.length;d>c;++c)if(e=c+1,b[e]&&b[e]>=a)return f=a-b[c],g=b[e]-a,g>f?b[c]:b[e];return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0),Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:!0,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a,this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var d,e,f,g,h=this.getTargetCoord(b,c),i=a.dom?a:Ext.fly(a,"_dd"),j=i.getSize(),k=Ext.Element;return this.deltaSetXY?(d=this.cachedViewportSize,this.setLocalXY(i,Math.max(0,Math.min(h.x+this.deltaSetXY[0],d.width-j.width)),Math.max(0,Math.min(h.y+this.deltaSetXY[1],d.height-j.height)))):(d=this.cachedViewportSize={width:k.getDocumentWidth(),height:k.getDocumentHeight()},e=[Math.max(0,Math.min(h.x,d.width-j.width)),Math.max(0,Math.min(h.y,d.height-j.height))],i.setXY(e),f=this.getLocalX(i),g=i.getLocalY(),this.deltaSetXY=[f-h.x,g-h.y]),this.cachePosition(h.x,h.y),this.autoScroll(h.x,h.y,a.offsetHeight,a.offsetWidth),h},cachePosition:function(a,b){if(a)this.lastPageX=a,this.lastPageY=b;else{var c=Ext.Element.getXY(this.getEl());this.lastPageX=c[0],this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewHeight(),f=Ext.Element.getViewWidth(),g=this.DDMInstance.getScrollTop(),h=this.DDMInstance.getScrollLeft(),i=c+b,j=d+a,k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=40,n=document.all?80:30;i>e&&m>k&&window.scrollTo(h,g+n),g>b&&g>0&&m>b-g&&window.scrollTo(h,g-n),j>f&&m>l&&window.scrollTo(h+n,g),h>a&&h>0&&m>a-h&&window.scrollTo(h-n,g)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;return this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX)),this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY)),c=this.getTick(c,this.xTicks),d=this.getTick(d,this.yTicks),{x:c,y:d}},applyConfig:function(){this.callParent(),this.scroll=this.config.scroll!==!1},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}},3,0,0,0,0,0,[Ext.dd,"DD"],0),Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){a&&(this.init(a,b,c),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var a,b,c=this,d=document.body;return d&&d.firstChild?(a=this.getDragEl(),void(a||(a=document.createElement("div"),a.id=this.dragElId,b=a.style,b.position="absolute",b.visibility="hidden",b.cursor="move",b.border="2px solid #aaa",b.zIndex=999,d.insertBefore(a,d.firstChild)))):void setTimeout(function(){c.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=(this.getEl(),this.getDragEl()),d=c.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2)),this.setDragElPos(a,b),Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c),this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="",this.beforeMove(),a.style.visibility="hidden",Ext.dd.DDM.moveToEl(a,b),b.style.visibility="hidden",a.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0),Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(a){var b=this;a=a||{},Ext.apply(b,{hideMode:"visibility",hidden:!0,floating:!0,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()}),b.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed,this.dropStatus!=a&&(this.el.replaceCls(this.dropStatus,a),this.dropStatus=a)},reset:function(a){var b=this,c=Ext.baseCSSPrefix+"dd-drag-proxy ";b.el.replaceCls(c+b.dropAllowed,c+b.dropNotAllowed),b.dropStatus=b.dropNotAllowed,a&&b.ghost.update("")},update:function(a){"string"==typeof a?this.ghost.update(a):(this.ghost.update(""),a.style.margin="0",this.ghost.dom.appendChild(a));var b=this.ghost.dom.firstChild;b&&Ext.fly(b).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent(),a&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(a,b,c){var d=this;d.callback=b,d.scope=c,a&&d.animRepair!==!1?(d.el.addCls(d.repairCls),d.el.hideUnders(!0),d.anim=d.el.animate({duration:d.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:!0,callback:d.afterRepair,scope:d})):d.afterRepair()},afterRepair:function(){var a=this;a.hide(!0),a.el.removeCls(a.repairCls),"function"==typeof a.callback&&a.callback.call(a.scope||a),delete a.callback,delete a.scope}},1,0,["component","box"],{component:!0,box:!0},0,0,[Ext.dd,"StatusProxy"],0),Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a),this.dragData||(this.dragData={}),Ext.apply(this,b),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}]),this.dragging=!1},getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c,d=Ext.dd.DragDropManager.getDDById(b);this.cachedTarget=d,this.beforeDragEnter(d,a,b)!==!1&&(d.isNotifyTarget?(c=d.notifyEnter(this,a,this.dragData),this.proxy.setStatus(c)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(d,a,b))},beforeDragEnter:function(){return!0},onDragOver:function(a,b){var c,d=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);this.beforeDragOver(d,a,b)!==!1&&(d.isNotifyTarget&&(c=d.notifyOver(this,a,this.dragData),this.proxy.setStatus(c)),this.afterDragOver&&this.afterDragOver(d,a,b))},beforeDragOver:function(){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);this.beforeDragOut(c,a,b)!==!1&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(c,a,b)),this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);this.beforeDragDrop(c,a,b)!==!1&&(c.isNotifyTarget?c.notifyDrop(this,a,this.dragData)!==!1?this.onValidDrop(c,a,b):this.onInvalidDrop(c,a,b):this.onValidDrop(c,a,b),this.afterDragDrop&&this.afterDragDrop(c,a,b)),delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(a,b,c){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(a,b,c){var d=this;b||(b=a,a=null,c=b.getTarget().id),d.beforeInvalidDrop(a,b,c)!==!1&&(d.cachedTarget&&(d.cachedTarget.isNotifyTarget&&d.cachedTarget.notifyOut(d,b,d.dragData),d.cacheTarget=null),d.proxy.repair(d.getRepairXY(b,d.dragData),d.afterRepair,d),d.afterInvalidDrop&&d.afterInvalidDrop(b,c))},afterRepair:function(){var a=this;Ext.enableFx&&a.el.highlight(a.repairHighlightColor),a.dragging=!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);b&&this.onBeforeDrag(b,a)!==!1&&(this.dragData=b,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(a,b),this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);return c.id=Ext.id(),this.proxy.update(c),this.onStartDrag(a,b),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0),Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){var c=this;c.panel=a,c.id=c.panel.id+"-ddproxy",Ext.apply(c,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;a.ghost&&(a.proxy&&(a.proxy.remove(),delete a.proxy),a.panel.unghost(null,a.moveOnDrag),delete a.ghost)},show:function(){var a,b=this;b.ghost||(a=b.panel.getSize(),b.panel.el.setVisibilityMode(Ext.Element.DISPLAY),b.ghost=b.panel.ghost(),b.insertProxy&&(b.proxy=b.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),b.proxy.setSize(a)))},repair:function(a,b,c){this.hide(),Ext.callback(b,c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0),Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(a,b){var c=this;c.panel=a,c.dragData={panel:a},c.panelProxy=new Ext.panel.Proxy(a,b),c.proxy=c.panelProxy.proxy,c.callParent([a.el,b]),c.setupEl(a)},setupEl:function(a){var b=this,c=a.header,d=a.body;c&&(b.setHandleElId(c.id),d=c.el),d?(d.setStyle("cursor","move"),b.scroll=!1):a.on("boxready",b.setupEl,b,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){return this.onStartDrag(a,b),!0},createFrame:Ext.emptyFn,getDragEl:function(){var a=this.panelProxy.ghost;return a?a.el.dom:void 0},endDrag:function(){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX,b-=this.startPageY,this.setDelta(a,b)},onInvalidDrop:function(a,b,c){var d=this;d.beforeInvalidDrop(a,b,c)!==!1&&(d.cachedTarget&&(d.cachedTarget.isNotifyTarget&&d.cachedTarget.notifyOut(d,b,d.dragData),d.cacheTarget=null),d.afterInvalidDrop&&d.afterInvalidDrop(b,c))}},1,0,0,0,0,0,[Ext.panel,"DD"],0),Ext.cmd.derive("Ext.util.Memento",Ext.Base,function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,e){var f=e?e+c:c,g=a[f];(g||a.hasOwnProperty(f))&&d(b,c,g)}function d(a,b,c){Ext.isDefined(c)?a[b]=c:delete a[b]}function e(a,b,c,d,e){if(b)if(Ext.isArray(d)){var f,g=d.length;for(f=0;g>f;f++)a(b,c,d[f],e)}else a(b,c,d,e)}return{data:null,target:null,constructor:function(a,b){a&&(this.target=a,b&&this.capture(b))},capture:function(b,c,d){var f=this;e(a,f.data||(f.data={}),c||f.target,b,d)},remove:function(a){e(b,this.data,null,a)},restore:function(a,b,d,f){e(c,this.data,d||this.target,a,f),b!==!1&&this.remove(a)},restoreAll:function(a,b){var c,e=this,f=b||this.target,g=e.data;for(c in g)g.hasOwnProperty(c)&&d(f,c,g[c]);a!==!1&&delete e.data}}}(),1,0,0,0,0,0,[Ext.util,"Memento"],0),Ext.cmd.derive("Ext.panel.Panel",Ext.panel.AbstractPanel,{alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var a=this;
a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat"),a.collapsible&&this.addStateEvents(["expand","collapse"]),a.unstyled&&a.setUI("plain"),a.frame&&a.setUI(a.ui+"-framed"),a.bridgeToolbars(),a.callParent(),a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP,a.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd),a.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var a=this,b=a.el,c=a.header;b&&c&&b.dom.setAttribute("aria-labelledby",c.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(a){var b=this,c=b.title,d=b.header,e=b.reExpander,f=b.placeholder;b.title=a,d?d.isHeader?d.setTitle(a):d.title=a:b.rendered&&b.updateHeader(),e&&e.setTitle(a),f&&f.setTitle&&f.setTitle(a),b.fireEvent("titlechange",b,a,c)},setIconCls:function(a){var b=this,c=b.iconCls,d=b.header,e=b.placeholder;b.iconCls=a,d?d.isHeader?d.setIconCls(a):d.iconCls=a:b.updateHeader(),e&&e.setIconCls&&e.setIconCls(a),b.fireEvent("iconclschange",b,a,c)},setIcon:function(a){var b=this,c=b.icon,d=b.header,e=b.placeholder;b.icon=a,d?d.isHeader?d.setIcon(a):d.icon=a:b.updateHeader(),e&&e.setIcon&&e.setIcon(a),b.fireEvent("iconchange",b,a,c)},setGlyph:function(a){var b=this,c=b.glyph,d=b.header,e=b.placeholder;b.glyph=a,d?d.isHeader?d.setGlyph(a):d.glyph=a:b.updateHeader(),e&&e.setGlyph&&e.setIcon(a),b.fireEvent("glyphchange",b,a,c)},bridgeToolbars:function(){function a(a,b,c){return Ext.isArray(a)?a={xtype:"toolbar",items:a}:a.xtype||(a.xtype="toolbar"),a.dock=b,("left"==b||"right"==b)&&(a.vertical=!0),c&&(a.layout=Ext.applyIf(a.layout||{},{pack:{left:"start",center:"center"}[d.buttonAlign]||"end"})),a}var b,c,d=this,e=[],f=d.minButtonWidth;d.tbar&&(e.push(a(d.tbar,"top")),d.tbar=null),d.bbar&&(e.push(a(d.bbar,"bottom")),d.bbar=null),d.buttons&&(d.fbar=d.buttons,d.buttons=null),d.fbar&&(b=a(d.fbar,"bottom",!0),b.ui="footer",f&&(c=b.defaults,b.defaults=function(a){var b=c||{};return!(!a.xtype||"button"===a.xtype||a.isComponent&&a.isXType("button"))||"minWidth"in b||(b=Ext.apply({minWidth:f},b)),b}),e.push(b),d.fbar=null),d.lbar&&(e.push(a(d.lbar,"left")),d.lbar=null),d.rbar&&(e.push(a(d.rbar,"right")),d.rbar=null),d.dockedItems?(Ext.isArray(d.dockedItems)||(d.dockedItems=[d.dockedItems]),d.dockedItems=d.dockedItems.concat(e)):d.dockedItems=e},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var a,b=this;b.callParent(),b.initTools(),b.preventHeader||b.header===!1||b.updateHeader(),b.collapsed&&(b.isPlaceHolderCollapse()?b.hidden||(b.setHiddenState(!0),b.preventCollapseFire=!0,b.placeholderCollapse(),delete b.preventCollapseFire,a=b.collapsed,b.collapsed=!1):(b.beginCollapse(),b.addClsWithUI(b.collapsedCls))),a&&(b.collapsed=a)},initTools:function(){var a,b,c=this,d=c.tools;for(c.tools=[],a=d&&d.length;a;)--a,c.tools[a]=b=d[a],b.toolOwner=c;!c.collapsible||c.hideCollapseTool||c.header===!1||c.preventHeader||(c.collapseDirection=c.collapseDirection||c.headerPosition||"top",c.collapseTool=c.expandTool=Ext.widget({xtype:"tool",handler:c.toggleCollapse,scope:c}),c.updateCollapseTool(),c.collapseFirst&&c.tools.unshift(c.collapseTool)),c.addTools(),c.closable&&(c.addClsWithUI("closable"),c.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(c.close,c,[])}))),c.collapseTool&&!c.collapseFirst&&c.addTool(c.collapseTool)},addTools:Ext.emptyFn,updateCollapseTool:function(){var a=this,b=a.collapseTool;b&&b.setType(a.collapsed&&!a.isPlaceHolderCollapse()?"expand-"+a.getOppositeDirection(a.collapseDirection):"collapse-"+a.collapseDirection)},close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(a){var b=this,c=b.header,d=b.title,e=b.tools,f=b.icon||b.iconCls,g="left"===b.headerPosition||"right"===b.headerPosition;Ext.isObject(c)||c!==!1&&(a||d||f||e&&e.length||b.collapsible&&!b.titleCollapse)?(c&&c.isHeader?c.show():(c=b.header=Ext.widget(Ext.apply({xtype:"header",title:d,titleAlign:b.titleAlign,orientation:g?"vertical":"horizontal",dock:b.headerPosition||"top",textCls:b.headerTextCls,iconCls:b.iconCls,icon:b.icon,glyph:b.glyph,baseCls:b.baseCls+"-header",tools:e,ui:b.ui,id:b.id+"_header",overCls:b.headerOverCls,indicateDrag:b.draggable,frame:(b.frame||b.alwaysFramed)&&b.frameHeader,ignoreParentFrame:b.frame||b.overlapHeader,ignoreBorderManagement:b.frame||b.ignoreHeaderBorderManagement,ownerCt:b,listeners:b.collapsible&&b.titleCollapse?{click:b.toggleCollapse,scope:b}:null},b.header)),b.addDocked(c,0)),b.initHeaderAria()):c&&c.hide()},setUI:function(a){var b=this;b.callParent(arguments),b.header&&b.header.rendered&&b.header.setUI(a)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(a){var b=this;return b.collapsed&&b.placeholder?b.placeholder.isVisible(a):b.callParent(arguments)},onHide:function(){var a=this;a.collapsed&&a.placeholder?a.placeholder.hide():a.callParent(arguments)},onShow:function(){var a=this;a.collapsed&&a.isPlaceHolderCollapse()?(a.setHiddenState(!0),a.placeholderCollapse()):a.callParent(arguments)},onRemoved:function(a){var b=this;b.placeholder&&!a&&b.ownerCt.remove(b.placeholder,!1),b.callParent(arguments)},addTool:function(a){Ext.isArray(a)||(a=[a]);var b,c,d=this,e=d.header,f=a.length;for(b=0;f>b;b++)c=a[b],c.toolOwner=d,e&&e.isHeader?e.addTool(c):d.tools.push(c);d.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return"left"===a||"right"===a},collapsedVertical:function(){var a=this.getCollapsed();return"top"===a||"bottom"===a},restoreDimension:function(){var a=this.collapseDirection;return"top"===a||"bottom"===a?"height":"width"},getCollapsed:function(){var a=this;return a.collapsed===!0?a.collapseDirection:a.collapsed},getState:function(){var a,b=this,c=b.callParent();return c=b.addPropertyToState(c,"collapsed"),b.collapsed&&(a=b.collapseMemento,a=a&&a.data,b.collapsedVertical()?(c&&delete c.height,a&&(c=b.addPropertyToState(c,"height",a.height))):(c&&delete c.width,a&&(c=b.addPropertyToState(c,"width",a.width)))),c},findReExpander:function(a){var b,c,d=this,e=Ext.Component,f=d.dockedItems.items,g=f.length;if("mini"!==d.collapseMode)switch(a){case e.DIRECTION_TOP:case e.DIRECTION_BOTTOM:for(c=0;g>c;c++)if(b=f[c],!b.hidden&&b.isHeader&&(!b.dock||"top"===b.dock||"bottom"===b.dock))return b;break;case e.DIRECTION_LEFT:case e.DIRECTION_RIGHT:for(c=0;g>c;c++)if(b=f[c],!b.hidden&&b.isHeader&&("left"===b.dock||"right"===b.dock))return b;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(a){var b=this,c=a||b.collapseDirection,d=b.reExpander||b.findReExpander(c);return b.expandDirection=b.getOppositeDirection(c),d||(b.reExpander=d=b.createReExpander(c,{dock:c,cls:Ext.baseCSSPrefix+"docked "+b.baseCls+"-"+b.ui+"-collapsed",isCollapsedExpander:!0}),b.dockedItems.insert(0,d)),d},createReExpander:function(a,b){var c=this,d="left"===a,e="right"===a,f=d||e,g=Ext.apply({hideMode:"offsets",title:c.title||"&#160;",titleAlign:c.titleAlign,orientation:f?"vertical":"horizontal",textCls:c.headerTextCls,icon:c.icon,iconCls:c.iconCls,glyph:c.glyph,baseCls:c.self.prototype.baseCls+"-header",ui:c.ui,frame:c.frame&&c.frameHeader,ignoreParentFrame:c.frame||c.overlapHeader,indicateDrag:c.draggable,collapseImmune:!0,ownerCt:c.ownerCt,ownerLayout:c.componentLayout,margin:c.margin},b);return"mini"===c.collapseMode&&(f?g.width=1:g.height=1),c.hideCollapseTool||((d||e&&c.isPlaceHolderCollapse())&&(g.titlePosition=1),g.tools=[{xtype:"tool",type:"expand-"+c.getOppositeDirection(a),uiCls:["top"],handler:c.toggleCollapse,scope:c}]),g=new Ext.panel.Header(g),g.addClsWithUI(c.getHeaderCollapsedClasses(g)),g},getHeaderCollapsedClasses:function(a){var b,c=this,d=c.collapsedCls;return b=[d,d+"-"+a.getDockName()],c.border&&(!c.frame||c.frame&&Ext.supports.CSS3BorderRadius)&&b.push(d+"-border-"+a.getDockName()),b},beginCollapse:function(){var a,b=this,c=b.lastBox,d=b.rendered,e=b.collapseMemento||(b.collapseMemento=new Ext.util.Memento(b)),f=b.getSizeModel(),g=b.header;e.capture(["height","minHeight","width","minWidth"]),c&&e.capture(b.restoreDimension(),c,"last."),b.collapsedVertical()?(f.width.shrinkWrap&&(b.width=d?b.getWidth():b.width||b.minWidth||100),delete b.height,b.minHeight=0):b.collapsedHorizontal()&&(f.height.shrinkWrap&&(b.height=d?b.getHeight():b.height||b.minHeight||100),delete b.width,b.minWidth=0),b.ownerCt&&b.ownerCt.getLayout().beginCollapse(b),b.isPlaceHolderCollapse()||g===!1||(g===(a=b.getReExpander())?(g.collapseImmune=!0,g.getHierarchyState().collapseImmune=!0,g.addClsWithUI(b.getHeaderCollapsedClasses(g)),g.rendered&&g.updateFrame()):a.el&&(a.el.show(),a.hidden=!1)),b.resizer&&b.resizer.disable()},beginExpand:function(){var a,b=this,c=b.lastBox,d=b.collapseMemento,e=this.restoreDimension(),f=b.header;d&&(d.restore(["minHeight","minWidth",e]),c&&d.restore(e,!0,c,"last.")),b.ownerCt&&b.ownerCt.getLayout().beginExpand(b),b.isPlaceHolderCollapse()||f===!1||(f===(a=b.getReExpander())?(delete f.collapseImmune,delete f.getHierarchyState().collapseImmune,f.removeClsWithUI(b.getHeaderCollapsedClasses(f)),f.rendered&&(f.expanding=!0,f.updateFrame(),delete f.expanding)):(a.hidden=!0,a.el.hide())),b.resizer&&b.resizer.enable()},collapse:function(a,b){var c=this,d=a||c.collapseDirection,e=c.ownerCt;return c.isCollapsingOrExpanding?c:(arguments.length<2&&(b=c.animCollapse),c.collapsed||c.fireEvent("beforecollapse",c,a,b)===!1?c:e&&c.isPlaceHolderCollapse()?c.placeholderCollapse(a,b):(c.collapsed=d,c.beginCollapse(),c.getHierarchyState().collapsed=!0,c.fireHierarchyEvent("collapse"),c.doCollapseExpand(1,b)))},doCollapseExpand:function(a,b){var c=this,d=c.animCollapse,e=c.ownerLayout;return c.animCollapse=b,c.isCollapsingOrExpanding=a,b&&c.addCls(Ext.baseCSSPrefix+"animating-size"),e&&!b?e.onContentChange(c):c.updateLayout({isRoot:!0}),c.animCollapse=d,c},afterCollapse:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0,b.updateCollapseTool(),a&&b.removeCls(Ext.baseCSSPrefix+"animating-size"),c&&a&&c.onContentChange(b),b.setHiddenDocked(),b.fireEvent("collapse",b)},setHiddenDocked:function(){var a,b,c=this,d=c.hiddenOnCollapse,e=c.getDockedItems(),f=e.length,g=0;for(c.header!==!1&&(b=c.getReExpander()),d.add(c.body);f>g;g++)a=e[g],a&&a!==b&&a.el&&d.add(a.el);d.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility",""),a.clear()},getPlaceholder:function(a){var b=this,c=a||b.collapseDirection,d=null,e=b.placeholder,f=b.floatable,g=b.titleCollapse;return e||((f||b.collapsible&&g)&&(d={click:{fn:!g&&f?b.floatCollapsedPanel:b.toggleCollapse,element:"el",scope:b}}),b.placeholder=e=Ext.widget(b.createReExpander(c,{id:b.id+"-placeholder",listeners:d}))),e.placeholderFor||(e.isComponent||(b.placeholder=e=b.lookupComponent(e)),Ext.applyIf(e,{margins:b.margins,placeholderFor:b}),e.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+c+"-placeholder",b.collapsedCls])),e},placeholderCollapse:function(a,b){var c,d=this,e=d.ownerCt,f=a||d.collapseDirection,g=Ext.baseCSSPrefix+"border-region-slide-in",h=d.getPlaceholder(f);return d.isCollapsingOrExpanding=1,d.setHiddenState(!0),d.collapsed=f,h.rendered?(h.el.dom.parentNode!==d.el.dom.parentNode&&d.el.dom.parentNode.insertBefore(h.el.dom,d.el.dom),h.hidden=!1,h.el.show(),e.updateLayout()):e.insert(e.items.indexOf(d),h),d.rendered?(d.el.setVisibilityMode(d.placeholderCollapseHideMode),b?(d.el.addCls(g),h.el.hide(),c=d.convertCollapseDir(f),d.el.slideOut(c,{preserveScroll:!0,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(g),h.el.show().setStyle("display","none").slideIn(c,{easing:"linear",duration:100,listeners:{afteranimate:function(){h.focus(),d.isCollapsingOrExpanding=0,d.fireEvent("collapse",d)}}})}}})):(d.el.hide(),d.isCollapsingOrExpanding=0,d.fireEvent("collapse",d))):(d.isCollapsingOrExpanding=0,d.preventCollapseFire||d.fireEvent("collapse",d)),d},floatCollapsedPanel:function(){var a,b,c=this,d=c.placeholder,e=d.getSize(),f=Ext.baseCSSPrefix+"border-region-slide-in",g=c.collapsed,h=c.ownerCt||c;if(!c.isSliding){if(c.el.hasCls(f))return void c.slideOutFloatedPanel();switch(c.isSliding=!0,d.el.hide(),d.hidden=!0,c.el.show(),c.setHiddenState(!1),c.collapsed=!1,h.updateLayout(),a=c.getBox(!1,!0),d.el.show(),d.hidden=!1,c.el.hide(),c.setHiddenState(!0),c.collapsed=g,h.updateLayout(),c.slideOutTask=c.slideOutTask||new Ext.util.DelayedTask(c.slideOutFloatedPanel,c),d.el.on("mouseleave",c.onMouseLeaveFloated,c),c.el.on("mouseleave",c.onMouseLeaveFloated,c),d.el.on("mouseenter",c.onMouseEnterFloated,c),c.el.on("mouseenter",c.onMouseEnterFloated,c),c.el.addCls(f),c.floated=!0,c.collapseTool&&c.collapseTool.el.hide(),c.collapsed){case"top":c.setLocalXY(a.x,a.y+e.height-1);break;case"right":c.setLocalXY(a.x-e.width+1,a.y);break;case"bottom":c.setLocalXY(a.x,a.y-e.height+1);break;case"left":c.setLocalXY(a.x+e.width-1,a.y)}b=c.convertCollapseDir(c.collapsed),c.floatedFromCollapse=c.collapsed,c.collapsed=!1,c.setHiddenState(!1),c.el.slideIn(b,{preserveScroll:!0,duration:Ext.Number.from(c.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.isSliding=!1,c.fireEvent("float",c)}}})}},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},slideOutFloatedPanel:function(){var a,b=this,c=this.el;b.isSliding||b.isDestroyed||(b.isSliding=!0,b.floated=!1,b.slideOutFloatedPanelBegin(),"string"==typeof b.collapsed&&(a=b.convertCollapseDir(b.collapsed)),c.slideOut(a,{preserveScroll:!0,duration:Ext.Number.from(b.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.slideOutFloatedPanelEnd(),b.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var a=this,b=a.placeholder.el,c=a.el;a.collapsed=a.floatedFromCollapse,a.setHiddenState(!0),a.floatedFromCollapse=null,b.un("mouseleave",a.onMouseLeaveFloated,a),c.un("mouseleave",a.onMouseLeaveFloated,a),b.un("mouseenter",a.onMouseEnterFloated,a),c.un("mouseenter",a.onMouseEnterFloated,a)},slideOutFloatedPanelEnd:function(){var a=this;a.collapseTool&&a.collapseTool.el.show(),a.slideOutTask.cancel(),a.isSliding=!1,a.fireEvent("unfloat",a)},expand:function(a){var b=this;return b.isCollapsingOrExpanding?b:(arguments.length||(a=b.animCollapse),b.collapsed||b.floatedFromCollapse?b.fireEvent("beforeexpand",b,a)===!1?b:(delete this.getHierarchyState().collapsed,b.isPlaceHolderCollapse()?b.placeholderExpand(a):(b.restoreHiddenDocked(),b.beginExpand(),b.collapsed=!1,b.doCollapseExpand(2,a))):b)},placeholderExpand:function(a){var b,c,d=this,e=d.collapsed,f=Ext.baseCSSPrefix+"border-region-slide-in",g=d.ownerLayout?d.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(a=!1),d.floatedFromCollapse&&(c=d.getPosition(!0),d.slideOutFloatedPanelBegin(),d.slideOutFloatedPanelEnd(),d.floated=!1),a?(Ext.suspendLayouts(),d.placeholder.hide(),d.el.show(),d.collapsed=!1,d.setHiddenState(!1),g&&!c&&(g.hidden=!0),Ext.resumeLayouts(!0),g.hidden=!1,d.el.addCls(f),d.isCollapsingOrExpanding=2,c?(b=d.getXY(),d.setLocalXY(c[0],c[1]),d.setXY([b[0],b[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(f),d.isCollapsingOrExpanding=0,d.fireEvent("expand",d)}}})):(d.el.hide(),d.placeholder.el.show(),d.placeholder.hidden=!1,d.setHiddenState(!1),d.el.slideIn(d.convertCollapseDir(e),{preserveScroll:!0,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(f),d.placeholder.hide(),d.updateLayout(),d.isCollapsingOrExpanding=0,d.fireEvent("expand",d)}}}))):(d.floated=d.collapsed=!1,d.el.removeCls(f),Ext.suspendLayouts(),d.placeholder.hide(),d.show(),Ext.resumeLayouts(!0),d.fireEvent("expand",d)),d},afterExpand:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0,b.updateCollapseTool(),a&&b.removeCls(Ext.baseCSSPrefix+"animating-size"),c&&a&&c.onContentChange(b),b.fireEvent("expand",b),b.fireHierarchyEvent("expand")},setBorder:function(a,b){if(!b){var c=this,d=c.header;a=a?a===!0?"1px":c.unitizeBox(a):0,d&&(d.isHeader?d.setBorder(a):d.border=a),c.rendered&&c.bodyBorder!==!1&&c.body.setStyle("border-width",a),c.updateLayout(),c.border=a}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var a,b,c=this;c.header||c.updateHeader(!0),c.header&&(a=Ext.applyIf({el:c.el,delegate:"#"+Ext.escapeId(c.header.id)},c.draggable),(c.constrain||c.constrainHeader)&&(a.constrain=c.constrain,a.constrainDelegate=c.constrainHeader,a.constrainTo=c.constrainTo||c.container),b=c.dd=new Ext.util.ComponentDragger(this,a),c.relayEvents(b,["dragstart","drag","dragend"]),c.maximized&&b.disable())},ghostTools:function(){var a,b,c,d=[],e=this.header,f=e?e.query("tool[hidden=false]"):[];if(f.length)for(a=0,b=f.length;b>a;a++)c=f[a],d.push({type:c.type});else d=[{type:"placeholder"}];return d},ghost:function(a){var b,c=this,d=c.ghostPanel,e=c.getBox();return d?d.el.show():(d=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:c.frame&&!c.alwaysFramed,alwaysFramed:c.alwaysFramed,overlapHeader:c.overlapHeader,headerPosition:c.headerPosition,baseCls:c.baseCls,cls:c.baseCls+"-ghost "+(a||"")}),c.ghostPanel=d),c.ghostPanel.hidden=!1,d.floatParent=c.floatParent,c.floating?d.zIndexManager.assignZIndices():d.toFront(),c.preventHeader||c.header===!1||(b=d.header,b&&(b.suspendLayouts(),Ext.Array.forEach(b.query("tool"),b.remove,b),b.resumeLayouts()),d.addTool(c.ghostTools()),d.setTitle(c.title),c.iconCls?d.setIconCls(c.iconCls):c.icon?d.setIcon(c.icon):c.glyph&&d.setGlyph(c.glyph),d.header.addCls(Ext.baseCSSPrefix+"header-ghost")),d.setPagePosition(e.x,e.y),d.setSize(e.width,e.height),c.el.hide(),d},unghost:function(a,b){var c=this;c.ghostPanel&&(a!==!1&&(c.el.show(),b!==!1&&(c.setPagePosition(c.ghostPanel.getXY()),"offsets"==c.hideMode&&delete c.el.hideModeStyles),Ext.defer(c.focus,10,c)),c.ghostPanel.el.hide(),c.ghostPanel.hidden=!0)},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},convertCollapseDir:function(a){return a.substr(0,1)}},0,["panel"],["panel","component","container","box"],{panel:!0,component:!0,container:!0,box:!0},["widget.panel"],0,[Ext.panel,"Panel",Ext,"Panel"],function(){this.prototype.animCollapse=Ext.enableFx}),Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating),a.callParent(arguments),a.constrain=a.constrain||a.constrainPosition},showAt:function(a){var b=this;this.callParent(arguments),b.isVisible()&&(b.setPagePosition(a[0],a[1]),(b.constrainPosition||b.constrain)&&b.doConstrain(),b.toFront(!0))},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(a)},ghost:void 0,unghost:void 0},0,0,["panel","component","container","box"],{panel:!0,component:!0,container:!0,box:!0},0,0,[Ext.tip,"Tip",Ext,"Tip"],0),Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments),a.lastActive=new Date,a.setTarget(a.target),a.origAnchor=a.anchor},onRender:function(){var a=this;a.callParent(arguments),a.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+a.getAnchorPosition(),a.anchorEl=a.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+a.anchorCls})},setTarget:function(a){var b,c=this,d=Ext.get(a);c.target&&(b=Ext.get(c.target),c.mun(b,"mouseover",c.onTargetOver,c),c.mun(b,"mouseout",c.onTargetOut,c),c.mun(b,"mousemove",c.onMouseMove,c)),c.target=d,d&&c.mon(d,{freezeEvent:!0,mouseover:c.onTargetOver,mouseout:c.onTargetOut,mousemove:c.onMouseMove,scope:c}),c.anchor&&(c.anchorTarget=c.target)},onMouseMove:function(a){var b,c=this,d=c.delegate?a.getTarget(c.delegate):c.triggerElement=!0;d?(c.targetXY=a.getXY(),d===c.triggerElement?!c.hidden&&c.trackMouse&&(b=c.getTargetXY(),c.constrainPosition&&(b=c.el.adjustForConstraints(b,c.el.parent())),c.setPagePosition(b)):(c.hide(),c.lastActive=new Date(0),c.onTargetOver(a))):!c.closable&&c.isVisible()&&c.autoHide!==!1&&c.hide()},getTargetXY:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this;if(m.delegate&&(m.anchorTarget=m.triggerElement),m.anchor){if(m.targetCounter++,b=m.getOffsets(),c=m.anchorToTarget&&!m.trackMouse?m.getAlignToXY(m.anchorTarget,m.getAnchorAlign()):m.targetXY,d=Ext.Element.getViewWidth()-5,e=Ext.Element.getViewHeight()-5,f=document.documentElement,g=document.body,h=(f.scrollLeft||g.scrollLeft||0)+5,i=(f.scrollTop||g.scrollTop||0)+5,j=[c[0]+b[0],c[1]+b[1]],k=m.getSize(),l=m.constrainPosition,m.anchorEl.removeCls(m.anchorCls),m.targetCounter<2&&l){if(j[0]<h)return m.anchorToTarget&&(m.defaultAlign="l-r",m.mouseOffset&&(m.mouseOffset[0]*=-1)),m.anchor="left",m.getTargetXY();if(j[0]+k.width>d)return m.anchorToTarget&&(m.defaultAlign="r-l",m.mouseOffset&&(m.mouseOffset[0]*=-1)),m.anchor="right",m.getTargetXY();if(j[1]<i)return m.anchorToTarget&&(m.defaultAlign="t-b",m.mouseOffset&&(m.mouseOffset[1]*=-1)),m.anchor="top",m.getTargetXY();if(j[1]+k.height>e)return m.anchorToTarget&&(m.defaultAlign="b-t",m.mouseOffset&&(m.mouseOffset[1]*=-1)),m.anchor="bottom",m.getTargetXY()}return m.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+m.getAnchorPosition(),m.anchorEl.addCls(m.anchorCls),m.targetCounter=0,j}return a=m.getMouseOffset(),m.targetXY?[m.targetXY[0]+a[0],m.targetXY[1]+a[1]]:a},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];return a.mouseOffset&&(b[0]+=a.mouseOffset[0],b[1]+=a.mouseOffset[1]),b},getAnchorPosition:function(){var a,b=this;switch(b.anchor?b.tipAnchor=b.anchor.charAt(0):(a=b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),b.tipAnchor=a[1].charAt(0)),b.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,b,c=this,d=c.getAnchorPosition().charAt(0);if(c.anchorToTarget&&!c.trackMouse)switch(d){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0]}else switch(d){case"t":b=[-15-c.anchorOffset,30];break;case"b":b=[-19-c.anchorOffset,-13-c.el.dom.offsetHeight];break;case"r":b=[-15-c.el.dom.offsetWidth,-13-c.anchorOffset];break;default:b=[25,-13-c.anchorOffset]}return a=c.getMouseOffset(),b[0]+=a[0],b[1]+=a[1],b},onTargetOver:function(a){var b,c=this,d=c.delegate;c.disabled||a.within(c.target.dom,!0)||(b=d?a.getTarget(d):!0,b&&(c.triggerElement=b,c.triggerEvent=a,c.clearTimer("hide"),c.targetXY=a.getXY(),c.delayShow()))},delayShow:function(){var a=this;a.hidden&&!a.showTimer?Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval?a.show():a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a):a.hidden||a.autoHide===!1||a.show()},showFromDelay:function(){this.fromDelayShow=!0,this.show(),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(a){var b=this,c=b.triggerElement,d=c===!0?b.target:c;b.disabled||!c||a.within(d,!0)||(b.showTimer&&(b.clearTimer("show"),b.triggerElement=null),b.autoHide!==!1&&b.delayHide())},delayHide:function(){var a=this;a.hidden||a.hideTimer||(a.hideTimer=Ext.defer(a.hide,a.hideDelay,a))},hide:function(){var a=this;a.clearTimer("dismiss"),a.lastActive=new Date,a.anchorEl&&a.anchorEl.hide(),a.callParent(arguments),delete a.triggerElement},show:function(){var a=this;this.callParent(),this.hidden===!1&&(a.setPagePosition(-1e4,-1e4),a.anchor&&(a.anchor=a.origAnchor),a.calledFromShowAt||a.showAt(a.getTargetXY()),a.anchor?(a.syncAnchor(),a.anchorEl.show()):a.anchorEl.hide())},showAt:function(a){var b=this;b.lastActive=new Date,b.clearTimers(),b.calledFromShowAt=!0,b.isVisible()||this.callParent(arguments),b.isVisible()&&(b.setPagePosition(a[0],a[1]),(b.constrainPosition||b.constrain)&&b.doConstrain(),b.toFront(!0),b.el.sync(!0),b.dismissDelay&&b.autoHide!==!1&&(b.dismissTimer=Ext.defer(b.hide,b.dismissDelay,b)),b.anchor?(b.syncAnchor(),b.anchorEl.isVisible()||b.anchorEl.show()):b.anchorEl.hide()),delete b.calledFromShowAt},syncAnchor:function(){var a,b,c,d=this;switch(d.tipAnchor.charAt(0)){case"t":a="b",b="tl",c=[20+d.anchorOffset,1];break;case"r":a="l",b="tr",c=[-1,12+d.anchorOffset];break;case"b":a="t",b="bl",c=[20+d.anchorOffset,-1];break;default:a="r",b="tl",c=[1,12+d.anchorOffset]}d.anchorEl.alignTo(d.el,a+"-"+b,c),d.anchorEl.setStyle("z-index",parseInt(d.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(){var a=this;a.callParent(arguments),a.anchor&&a.syncAnchor()},_timerNames:{},clearTimer:function(a){var b=this,c=b._timerNames,d=c[a]||(c[a]=a+"Timer"),e=b[d];e&&(clearTimeout(e),b[d]=null)},clearTimers:function(){var a=this;a.clearTimer("show"),a.clearTimer("dismiss"),a.clearTimer("hide")},onShow:function(){var a=this;a.callParent(),a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent(),a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(a){var b=this;b.closable||a.within(b.el.dom)||(b.disable(),Ext.defer(b.doEnable,100,b))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var a=this;a.clearTimers(),Ext.destroy(a.anchorEl),delete a.anchorEl,delete a.target,delete a.anchorTarget,delete a.triggerElement,a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}},0,["tooltip"],["panel","component","container","box","tooltip"],{panel:!0,component:!0,container:!0,box:!0,tooltip:!0},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0),Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc(),a.targets=a.targets||{},a.callParent()},register:function(a){for(var b,c,d,e=Ext.isArray(a)?a:arguments,f=0,g=e.length;g>f;f++)if(a=e[f],b=a.target)if(Ext.isArray(b))for(c=0,d=b.length;d>c;c++)this.targets[Ext.id(b[c])]=a;else this.targets[Ext.id(b)]=a},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.activeTarget;a=Ext.get(a).dom,b.isVisible()?c&&c.el==a&&b.hide():c&&c.el==a&&b.clearTimer("show")},getTipCfg:function(a){var b,c=a.getTarget(),d=c.title;return this.interceptTitles&&d&&Ext.isString(d)?(c.qtip=d,c.removeAttribute("title"),a.preventDefault(),{text:d}):(b=this.tagConfig,(c=a.getTarget("["+b.namespace+b.attribute+"]"))?{target:c,text:c.getAttribute(b.namespace+b.attribute)}:void 0)},onTargetOver:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this,n=a.getTarget(m.delegate);if(!m.disabled&&(m.targetXY=a.getXY(),n&&1===n.nodeType&&n!=document.documentElement&&n!=document.body)){if(m.activeTarget&&(n==m.activeTarget.el||Ext.fly(m.activeTarget.el).contains(n)))return void(m.targetTextEmpty()?(m.onShowVeto(),delete m.activeTarget):(m.clearTimer("hide"),m.show()));if(n){i=m.targets;for(l in i)if(i.hasOwnProperty(l)&&(k=i[l],j=Ext.fly(k.target),j&&(j.dom===n||j.contains(n)))){d=j.dom;break}if(d)return m.activeTarget=m.targets[d.id],m.activeTarget.el=n,m.anchor=m.activeTarget.anchor,m.anchor&&(m.anchorTarget=n),b=parseInt(m.activeTarget.showDelay,10),b&&(c=m.showDelay,m.showDelay=b),m.delayShow(),void(b&&(m.showDelay=c))}d=Ext.fly(n,"_quicktip-target"),e=m.tagConfig,f=e.namespace,g=m.getTipCfg(a),g&&(g.target&&(n=g.target,d=Ext.fly(n,"_quicktip-target")),h=d.getAttribute(f+e.hide),m.activeTarget={el:n,text:g.text,width:+d.getAttribute(f+e.width)||null,autoHide:"user"!=h&&"false"!==h,title:d.getAttribute(f+e.title),cls:d.getAttribute(f+e.cls),align:d.getAttribute(f+e.align),showDelay:parseInt(d.getAttribute(f+e.showDelay),10)},m.anchor=d.getAttribute(f+e.anchor),m.anchor&&(m.anchorTarget=n),b=parseInt(m.activeTarget.showDelay,10),b&&(c=m.showDelay,m.showDelay=b),m.delayShow(),b&&(m.showDelay=c))}},onTargetOut:function(a){var b,c,d=this,e=d.activeTarget;e&&a.within(d.activeTarget.el)&&!d.getTipCfg(a)||(d.clearTimer("show"),delete d.activeTarget,d.autoHide!==!1&&(b=e&&parseInt(e.hideDelay,10),b&&(c=d.hideDelay,d.hideDelay=b),d.delayHide(),b&&(d.hideDelay=c)))},targetTextEmpty:function(){var a,b,c=this,d=c.activeTarget,e=c.tagConfig;return d&&(a=d.el,a&&(b=a.getAttribute(e.namespace+e.attribute),!b&&!c.targets[d.target]))?!0:!1},show:function(){var a=this,b=a.fromDelayShow;return b&&a.targetTextEmpty()?(a.onShowVeto(),void delete a.activeTarget):void a.callParent(arguments)},showAt:function(a){var b,c=this,d=c.activeTarget,e=c.header;d&&(c.rendered||(c.render(Ext.getBody()),c.activeTarget=d),c.suspendLayouts(),d.title?(c.setTitle(d.title),e.show()):e&&e.hide(),c.update(d.text),c.autoHide=d.autoHide,c.dismissDelay=d.dismissDelay||c.dismissDelay,d.mouseOffset&&(a[0]+=d.mouseOffset[0],a[1]+=d.mouseOffset[1]),b=c.lastCls,b&&(c.removeCls(b),delete c.lastCls),b=d.cls,b&&(c.addCls(b),c.lastCls=b),c.setWidth(d.width),c.anchor?c.constrainPosition=!1:d.align?(a=c.getAlignToXY(d.el,d.align),c.constrainPosition=!1):c.constrainPosition=!0,c.resumeLayouts(!0)),c.callParent([a])},hide:function(){delete this.activeTarget,this.callParent()}},0,["quicktip"],["panel","component","container","box","quicktip","tooltip"],{panel:!0,component:!0,container:!0,box:!0,quicktip:!0,tooltip:!0},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0),Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(a,b){var c=this;if(!c.tip){if(!Ext.isReady)return void Ext.onReady(function(){Ext.tip.QuickTipManager.init(a,b)
});var d=Ext.apply({disabled:c.disabled,id:"ext-quicktips-tip"},b),e=d.className,f=d.xtype;e?delete d.className:f&&(e="widget."+f,delete d.xtype),a!==!1&&(d.renderTo=document.body),c.tip=Ext.create(e||"Ext.tip.QuickTip",d),Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip),this.tip=void 0},ddDisable:function(){var a=this,b=a.tip;b&&!a.disabled&&b.disable()},ddEnable:function(){var a=this,b=a.tip;b&&!a.disabled&&b.enable()},enable:function(){var a=this,b=a.tip;b&&b.enable(),a.disabled=!1},disable:function(){var a=this,b=a.tip;b&&b.disable(),a.disabled=!0},isEnabled:function(){var a=this.tip;return void 0!==a&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0),Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{scope:void 0,enableQuickTips:!0,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(a,b,c){var d,e,f,g,h,i=Ext.app.Controller,j=a.prototype,k=[];if(f=b.name||a.superclass.name,h=b.appFolder||a.superclass.appFolder,f&&(b.$namespace=f,Ext.app.addNamespaces(f)),b.namespaces&&Ext.app.addNamespaces(b.namespaces),b["paths processed"])delete b["paths processed"];else if(f&&h&&Ext.Loader.setPath(f,h),e=b.paths)for(g in e)e.hasOwnProperty(g)&&Ext.Loader.setPath(g,e[g]);b.autoCreateViewport&&i.processDependencies(j,k,f,"view",["Viewport"]),k.length&&(d=c.onBeforeCreated,c.onBeforeCreated=function(){var a=Ext.Array.clone(arguments);Ext.require(k,function(){return d.apply(this,a)})})},constructor:function(){var a=this;a.callParent(arguments),a.doInit(a),a.initNamespace(),a.initControllers(),a.onBeforeLaunch(),a.finishInitControllers()},initNamespace:function(){var a,b=this,c=b.appProperty;a=Ext.namespace(b.name),a&&(a.getApplication=function(){return b},c&&(a[c]||(a[c]=b)))},initControllers:function(){var a=this,b=Ext.Array.from(a.controllers);a.controllers=new Ext.util.MixedCollection;for(var c=0,d=b.length;d>c;c++)a.getController(b[c])},finishInitControllers:function(){var a,b,c,d=this;for(a=d.controllers.getRange(),b=0,c=a.length;c>b;b++)a[b].finishInit(d)},launch:Ext.emptyFn,onBeforeLaunch:function(){var a,b,c,d,e=this;for(e.enableQuickTips&&e.initQuickTips(),e.autoCreateViewport&&e.initViewport(),e.launch.call(e.scope||e),e.launched=!0,e.fireEvent("launch",e),a=e.controllers.items,c=a.length,b=0;c>b;b++)d=a[b],d.onLaunch(e)},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView("Viewport");a&&a.create()},getController:function(a){var b,c,d=this,e=d.controllers;return c=e.get(a),c||(b=d.getModuleClassName(a,"controller"),c=Ext.create(b,{application:d,id:a}),e.add(c),d._initialized&&c.doInit(d)),c},getApplication:function(){return this}},1,0,0,0,0,0,[Ext.app,"Application"],0),Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:!0,type:"controller",idProperty:"id",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.app.Controller)}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0),Ext.cmd.derive("Ext.direct.Provider",Ext.Base,{isProvider:!0,constructor:function(a){var b=this;Ext.apply(b,a),Ext.applyIf(b,{id:Ext.id(null,"provider-")}),b.addEvents("connect","disconnect","data","exception"),b.mixins.observable.constructor.call(b,a)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn},1,0,0,0,["direct.provider"],[["observable",Ext.util.Observable]],[Ext.direct,"Provider"],0),Ext.cmd.derive("Ext.app.domain.Direct",Ext.app.EventDomain,{singleton:!0,type:"direct",idProperty:"id",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.direct.Provider)}},1,0,0,0,0,0,[Ext.app.domain,"Direct"],0),Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(a,b){this.arrowHandler=a,this.scope=b},onClick:function(a){var b=this;a.preventDefault(),b.disabled||(b.overMenuTrigger?(b.maybeShowMenu(),b.fireEvent("arrowclick",b,a),b.arrowHandler&&b.arrowHandler.call(b.scope||b,b,a)):(b.doToggle(),b.fireHandler(a)))}},0,["splitbutton"],["button","component","box","splitbutton"],{button:!0,component:!0,box:!0,splitbutton:!0},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0),Ext.cmd.derive("Ext.button.Cycle",Ext.button.Split,{alternateClassName:"Ext.CycleButton",getButtonText:function(a){var b=this,c="";return a&&b.showText===!0?(b.prependText&&(c+=b.prependText),c+=a.text):b.text},setActiveItem:function(a,b){var c=this;Ext.isObject(a)||(a=c.menu.getComponent(a)),a&&(c.rendered?(c.setText(c.getButtonText(a)),c.setIconCls(a.iconCls),c.setGlyph(a.glyph)):(c.text=c.getButtonText(a),c.iconCls=a.iconCls,c.glyph=a.glyph),c.activeItem=a,a.checked||a.setChecked(!0,!1),c.forceIcon&&c.setIconCls(c.forceIcon),c.forceGlyph&&c.setGlyph(c.forceGlyph),b||c.fireEvent("change",c,a))},getActiveItem:function(){return this.activeItem},initComponent:function(){var a,b,c,d,e=this,f=0;for(e.addEvents("change"),e.changeHandler&&(e.on("change",e.changeHandler,e.scope||e),delete e.changeHandler),a=(e.menu.items||[]).concat(e.items||[]),e.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},e.menu),c=a.length,b=0;c>b;b++)d=a[b],d=Ext.applyIf({group:e.id,itemIndex:b,checkHandler:e.checkHandler,scope:e,checked:d.checked||!1},d),e.menu.items.push(d),d.checked&&(f=b);e.itemCount=e.menu.items.length,e.callParent(arguments),e.on("click",e.toggleSelected,e),e.setActiveItem(f,e),e.width&&e.showText&&e.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(a,b){b&&this.setActiveItem(a)},toggleSelected:function(){var a,b=this,c=b.menu;a=b.activeItem.next(":not([disabled])")||c.items.getAt(0),a.setChecked(!0)}},0,["cycle"],["cycle","button","component","box","splitbutton"],{cycle:!0,button:!0,component:!0,box:!0,splitbutton:!0},["widget.cycle"],0,[Ext.button,"Cycle",Ext,"CycleButton"],0),Ext.cmd.derive("Ext.chart.Callout",Ext.Base,{constructor:function(a){a.callouts&&(a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},a.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var a,b,c,d,e,f,g,h,i=this,j=i.items,k=i.chart.animate,l=i.callouts,m=l.styles,n=i.calloutsArray,o=i.chart.getChartStore(),p=o.getCount(),q=j.length/p,r=[];for(a=0,b=0;p>a;a++)for(c=0;q>c;c++)if(e=j[b],f=n[b],g=o.getAt(a),h=!l.filter||l.filter(g),h||f){f||(n[b]=f=i.onCreateCallout(g,e,a,h,c,b));for(d in f)f[d]&&f[d].setAttributes&&f[d].setAttributes(m,!0);if(!h)for(d in f)f[d]&&(f[d].setAttributes?f[d].setAttributes({hidden:!0},!0):f[d].setVisible&&f[d].setVisible(!1));l&&l.renderer&&l.renderer(f,g),i.onPlaceCallout(f,g,e,a,h,k,c,b,r),r.push(f),b++}else b++;this.hideCallouts(b)}},onCreateCallout:function(){var a=this,b=(a.calloutsGroup,a.callouts),c=b?b.styles:void 0,d=c?c.width:0,e=c?c.height:0,f=a.chart,g=f.surface,h={lines:!1};return h.lines=g.add(Ext.apply({},{type:"path",path:"M0,0",stroke:a.getLegendColor()||"#555"},c)),b.items&&(h.panel=new Ext.Panel({style:"position: absolute;",width:d,height:e,items:b.items,renderTo:f.el})),h},hideCallouts:function(a){for(var b,c,d=this.calloutsArray,e=d.length;e-->a;){b=d[e];for(c in b)b[c]&&b[c].hide(!0)}}},1,0,0,0,0,0,[Ext.chart,"Callout"],0),Ext.cmd.derive("Ext.draw.CompositeSprite",Ext.util.MixedCollection,{autoDestroy:!1,isCompositeSprite:!0,constructor:function(a){var b=this;a=a||{},Ext.apply(b,a),b.addEvents("mousedown","mouseup","mouseover","mouseout","click"),b.id=Ext.id(null,"ext-sprite-group-"),b.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){var b=this;a.on({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick})},add:function(){var a=this.callParent(arguments);return this.attachEvents(a),a},insert:function(){return this.callParent(arguments)},remove:function(a){var b=this;return a.un({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick}),b.callParent(arguments)},getBBox:function(){for(var a,b,c=0,d=this.items,e=this.length,f=1/0,g=f,h=-f,i=f,j=-f;e>c;c++)a=d[c],a.el&&!a.bboxExcluded&&(b=a.getBBox(),g=Math.min(g,b.x),i=Math.min(i,b.y),h=Math.max(h,b.height+b.y),j=Math.max(j,b.width+b.x));return{x:g,y:i,height:h-i,width:j-g}},setAttributes:function(a,b){for(var c=0,d=this.items,e=this.length;e>c;c++)d[c].setAttributes(a,b);return this},hide:function(a){for(var b=0,c=this.items,d=this.length;d>b;b++)c[b].hide(a);return this},show:function(a){for(var b=0,c=this.items,d=this.length;d>b;b++)c[b].show(a);return this},redraw:function(){var a=this,b=0,c=a.items,d=a.getSurface(),e=a.length;if(d)for(;e>b;b++)d.renderItem(c[b]);return a},setStyle:function(a){for(var b,c,d=0,e=this.items,f=this.length;f>d;d++)b=e[d],c=b.el,c&&c.setStyle(a)},addCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;e>b;b++)d.addCls(c[b],a)},removeCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;e>b;b++)d.removeCls(c[b],a)},getSurface:function(){var a=this.first();return a?a.surface:null},destroy:function(){var a,b=this,c=b.getSurface(),d=b.autoDestroy;if(c)for(;b.getCount()>0;)a=b.first(),b.remove(a),c.remove(a,d);b.clearListeners()}},1,0,0,0,0,[["animate",Ext.util.Animate]],[Ext.draw,"CompositeSprite"],0),Ext.cmd.derive("Ext.draw.Surface",Ext.Base,{separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(a,b){b=b||this.prototype.enginePriority;for(var c=0,d=b.length;d>c;c++)if(Ext.supports[b[c]])return Ext.create("Ext.draw.engine."+b[c],a);return!1},save:function(a,b){b=b||{};var c={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},d=c[b.type]||"Svg",e=Ext.draw.engine[d+"Exporter"];return e.generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(a){var b=this;a=a||{},Ext.apply(b,a),b.domRef=Ext.getDoc().dom,b.customAttributes={},b.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),b.mixins.observable.constructor.call(b),b.getId(),b.initGradients(),b.initItems(),b.renderTo&&(b.render(b.renderTo),delete b.renderTo),b.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&(this.viewBox={x:a,y:b,width:c,height:d},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var a,b,c=this.gradients,d=this.addGradient;if(c)for(a=0,b=c.length;b>a&&d.call(this,c[a],a,b)!==!1;a++);}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,a&&this.add(a)},initBackground:function(a){var b,c,d=this,e=d.width,f=d.height;Ext.isString(a)&&(a={fill:a}),a&&(a.gradient?(c=a.gradient,b=c.id,d.addGradient(c),d.background=d.add({type:"rect",x:0,y:0,width:e,height:f,fill:"url(#"+b+")",zIndex:-1})):a.fill?d.background=d.add({type:"rect",x:0,y:0,width:e,height:f,fill:a.fill,zIndex:-1}):a.image&&(d.background=d.add({type:"image",x:0,y:0,width:e,height:f,src:a.image,zIndex:-1})),d.background.bboxExcluded=!0)},setSize:function(){this.applyViewBox()},scrubAttrs:function(a){var b,c={},d={},e=a.attr;for(b in e)this.translateAttrs.hasOwnProperty(b)?(c[this.translateAttrs[b]]=e[b],d[this.translateAttrs[b]]=!0):this.availableAttrs.hasOwnProperty(b)&&!d[b]&&(c[b]=e[b]);return c},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a,b,c,d,e,f,g=Array.prototype.slice.call(arguments),h=g.length>1;if(h||Ext.isArray(g[0])){for(b=h?g:g[0],c=[],d=0,e=b.length;e>d;d++)f=b[d],f=this.add(f),c.push(f);return c}return a=this.prepareItems(g[0],!0)[0],this.insertByZIndex(a),this.onAdd(a),a},insertByZIndex:function(a){var b,c=this,d=c.items.items,e=d.length,f=Math.ceil,g=a.attr.zIndex,h=e,i=h-1,j=0;if(c.orderSpritesByZIndex&&e&&g<d[i].attr.zIndex){for(;i>=j;)if(h=f((j+i)/2),b=d[h].attr.zIndex,b>g)i=h-1;else{if(!(g>b))break;j=h+1}for(;e>h&&d[h].attr.zIndex<=g;)h++}return c.items.insert(h,a),h},onAdd:function(a){var b,c,d,e=a.group,f=a.draggable;if(e){for(b=[].concat(e),c=b.length,d=0;c>d;d++)e=b[d],this.getGroup(e).add(a);delete a.group}f&&a.initDraggable()},remove:function(a,b){if(a){this.items.remove(a);var c,d=[].concat(this.groups.items),e=d.length;for(c=0;e>c;c++)d[c].remove(a);a.onRemove(),b===!0&&a.destroy()}},removeAll:function(a){var b,c=this.items.items,d=c.length;for(b=d-1;b>-1;b--)this.remove(c[b],a)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var a,b,c,d,e,f,g,h=this,i=h.viewBox,j=h.width||1,k=h.height||1;i&&(j||k)?(a=i.x,b=i.y,c=i.width,d=i.height,e=k/d,f=j/c,g=Math.min(f,e),j>c*g&&(a-=(j-c*g)/2/g),k>d*g&&(b-=(k-d*g)/2/g),h.viewBoxShift={dx:-a,dy:-b,scale:g},h.background&&h.background.setAttributes(Ext.apply({},{x:a,y:b,width:j/g,height:k/g},{hidden:!1}),!0)):h.background&&j&&k&&h.background.setAttributes(Ext.apply({x:0,y:0,width:j,height:k},{hidden:!1}),!0)},getBBox:function(a,b){var c=this["getPath"+a.type](a);return b?(a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(c),a.bbox.plain):(a.dirtyTransform&&this.applyTransformations(a,!0),a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(c,a.matrix)),a.bbox.transform)},transformToViewBox:function(a,b){if(this.viewBoxShift){var c=this,d=c.viewBoxShift;return[a/d.scale-d.dx,b/d.scale-d.dy]}return[a,b]},applyTransformations:function(a,b){"text"==a.type&&(a.bbox.transform=0,this.transform(a,!1)),a.dirtyTransform=!1;var c=this,d=a.attr;(null!=d.translation.x||null!=d.translation.y)&&c.translate(a),(null!=d.scaling.x||null!=d.scaling.y)&&c.scale(a),null!=d.rotation.degrees&&c.rotate(a),a.bbox.transform=0,this.transform(a,b),a.transformations=[]},rotate:function(a){var b,c=a.attr.rotation.degrees,d=a.attr.rotation.x,e=a.attr.rotation.y;Ext.isNumber(d)&&Ext.isNumber(e)||(b=this.getBBox(a,!0),d=Ext.isNumber(d)?d:b.x+b.width/2,e=Ext.isNumber(e)?e:b.y+b.height/2),a.transformations.push({type:"rotate",degrees:c,x:d,y:e})},translate:function(a){var b=a.attr.translation.x||0,c=a.attr.translation.y||0;a.transformations.push({type:"translate",x:b,y:c})},scale:function(a){var b,c=a.attr.scaling.x||1,d=a.attr.scaling.y||1,e=a.attr.scaling.centerX,f=a.attr.scaling.centerY;Ext.isNumber(e)&&Ext.isNumber(f)||(b=this.getBBox(a,!0),e=Ext.isNumber(e)?e:b.x+b.width/2,f=Ext.isNumber(f)?f:b.y+b.height/2),a.transformations.push({type:"scale",x:c,y:d,centerX:e,centerY:f})},rectPath:function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ellipsePath:function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radius,b.radius)},getPathellipse:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radiusX||b.width/2||0,b.radiusY||b.height/2||0)},getPathrect:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width||0,b.height||0,b.r||0)},getPathimage:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width,b.height)},getPathtext:function(a){var b=this.getBBoxText(a);return this.rectPath(b.x,b.y,b.width,b.height)},createGroup:function(a){var b=this.groups.get(a);return b||(b=new Ext.draw.CompositeSprite({surface:this}),b.id=a||Ext.id(null,"ext-surface-group-"),this.groups.add(b)),b},getGroup:function(a){var b;return"string"==typeof a?(b=this.groups.get(a),b||(b=this.createGroup(a))):b=a,b},prepareItems:function(a){a=[].concat(a);var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],b instanceof Ext.draw.Sprite?b.surface=this:(b.surface=this,a[c]=this.createItem(b));return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var a=this;delete a.domRef,a.background&&a.background.destroy(),a.removeAll(!0),Ext.destroy(a.groups.items)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.draw,"Surface"],0),Ext.cmd.derive("Ext.layout.component.Draw",Ext.layout.component.Auto,{setHeightInDom:!0,setWidthInDom:!0,type:"draw",measureContentWidth:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return b.viewBox?a.heightModel.shrinkWrap?c.width:d.width/d.height*(a.getProp("contentHeight")-c.height)+c.width:b.autoSize?d.width+c.width:d.x+d.width+c.width},measureContentHeight:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return a.target.viewBox?a.widthModel.shrinkWrap?c.height:d.height/d.width*(a.getProp("contentWidth")-c.width)+c.height:b.autoSize?d.height+c.height:d.y+d.height+c.height},getBBox:function(a){var b=a.surfaceBBox;return b||(b=a.target.surface.items.getBBox(),b.width===-1/0&&b.height===-1/0&&(b.width=b.height=b.x=b.y=0),a.surfaceBBox=b),b},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,!0)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,!0)},finishedLayout:function(a){var b=a.props,c=a.getPaddingInfo();this.owner.setSurfaceSize(b.contentWidth-c.width,b.contentHeight-c.height),this.callParent(arguments)}},0,0,0,0,["layout.draw"],0,[Ext.layout.component,"Draw"],0),Ext.cmd.derive("Ext.draw.Component",Ext.Component,{enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var a,b,c,d,e,f,g=this,h=g.viewBox,i=g.autoSize;g.callParent(arguments),g.createSurface()!==!1&&(b=g.surface.items,(h||i)&&(a=b.getBBox(),c=a.width,d=a.height,e=a.x,f=a.y,g.viewBox?g.surface.setViewBox(e,f,c,d):g.autoSizeSurface()))},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(a,b){if(this.surface.setSize(a,b),this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y-+Ext.isOpera,a,b)}},createSurface:function(){function a(a){return function(b){c.fireEvent(a,b)}}var b,c=this,d=Ext.applyIf({renderTo:c.el,height:c.height,width:c.width,items:c.items},c.initialConfig);return delete d.listeners,d.gradients||(d.gradients=c.gradients),(b=Ext.draw.Surface.create(d,c.enginePriority))?(c.surface=b,void b.on({scope:c,mouseup:a("mouseup"),mousedown:a("mousedown"),mousemove:a("mousemove"),mouseenter:a("mouseenter"),mouseleave:a("mouseleave"),click:a("click"),dblclick:a("dblclick")})):!1},onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}},0,["draw"],["draw","component","box"],{draw:!0,component:!0,box:!0},["widget.draw"],0,[Ext.draw,"Component"],0),Ext.chart=Ext.chart||{},Ext.cmd.derive("Ext.chart.theme.Theme",Ext.Base,function(){return function(){Ext.chart.theme=function(a,b){a=a||{};var c,d,e,f,g,h,i,j,k,l,m=0,n=Ext.Date.now(),o=[];if(a.baseColor&&(k=Ext.draw.Color.fromString(a.baseColor),l=k.getHSL()[2],.15>l?k=k.getLighter(.3):.3>l?k=k.getLighter(.15):l>.85?k=k.getDarker(.3):l>.7&&(k=k.getDarker(.15)),a.colors=[k.getDarker(.3).toString(),k.getDarker(.15).toString(),k.toString(),k.getLighter(.15).toString(),k.getLighter(.3).toString()],delete a.baseColor),a.colors){for(d=a.colors.slice(),g=b.markerThemes,f=b.seriesThemes,c=d.length,b.colors=d;c>m;m++)e=d[m],i=g[m]||{},h=f[m]||{},i.fill=h.fill=i.stroke=h.stroke=e,g[m]=i,f[m]=h;b.markerThemes=g.slice(0,c),b.seriesThemes=f.slice(0,c)}for(j in b)j in a&&(Ext.isObject(a[j])&&Ext.isObject(b[j])?Ext.apply(b[j],a[j]):b[j]=a[j]);if(a.useGradients){for(d=b.colors||function(){var a=[];for(m=0,f=b.seriesThemes,c=f.length;c>m;m++)a.push(f[m].fill||f[m].stroke);return a}(),m=0,c=d.length;c>m;m++)k=Ext.draw.Color.fromString(d[m]),k&&(e=k.getDarker(.1).toString(),k=k.toString(),j="theme-"+k.substr(1)+"-"+e.substr(1)+"-"+n,o.push({id:j,angle:45,stops:{0:{color:k.toString()},100:{color:e.toString()}}}),d[m]="url(#"+j+")");b.gradients=o,b.colors=d}Ext.apply(this,b)}}(),{theme:"Base",themeAttrs:!1,initTheme:function(a){var b,c,d=this,e=Ext.chart.theme;if(a){a=a.split(":");for(b in e)if(b==a[0])return c="gradients"==a[1],d.themeAttrs=new e[b]({useGradients:c}),c&&(d.gradients=d.themeAttrs.gradients),void(d.themeAttrs.background&&(d.background=d.themeAttrs.background))}}}}(),0,0,0,0,0,0,[Ext.chart.theme,"Theme"],0),Ext.cmd.derive("Ext.chart.MaskLayer",Ext.Component,{constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"}),this.callParent([a])},initComponent:function(){var a=this;a.callParent(arguments),a.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(){var a=this,b=a.comp;this.startPosition=b.getPosition(!0),b.ghost&&!b.liveDrag&&(a.proxy=b.ghost(),a.dragTarget=a.proxy.header.el),(a.constrain||a.constrainDelegate)&&(a.constrainTo=a.calculateConstrainRegion())}}},1,0,["component","box"],{component:!0,box:!0},0,0,[Ext.chart,"MaskLayer"],0),Ext.cmd.derive("Ext.chart.Mask",Ext.Base,{constructor:function(a){var b=this;b.addEvents("select"),a&&Ext.apply(b,a),b.enableMask&&b.on("afterrender",function(){var a=new Ext.chart.MaskLayer({renderTo:b.el,hidden:!0});a.el.on({mousemove:function(a){b.onMouseMove(a)},mouseup:function(a){b.onMouseUp(a)}}),a.initDraggable(),b.maskType=b.mask,b.mask=a,b.maskSprite=b.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:!0,stroke:"#00f",cursor:"crosshair"})},b,{single:!0})},onMouseUp:function(a){var b,c=this,d=c.bbox||c.chartBBox;c.maskMouseDown=!1,c.mouseDown=!1,c.mouseMoved&&(c.handleMouseEvent(a),c.mouseMoved=!1,b=c.maskSelection,c.fireEvent("select",c,{x:b.x-d.x,y:b.y-d.y,width:b.width,height:b.height}))},onMouseDown:function(a){this.handleMouseEvent(a)},onMouseMove:function(a){this.handleMouseEvent(a)},handleMouseEvent:function(a){var b,c=this,d=c.maskType,e=c.bbox||c.chartBBox,f=e.x,g=e.y,h=Math,i=h.floor,j=h.abs,k=h.min,l=h.max,m=i(g+e.height),n=i(f+e.width),o=a.getPageX()-c.el.getX(),p=a.getPageY()-c.el.getY(),q=c.maskMouseDown;o=l(o,f),p=l(p,g),o=k(o,n),p=k(p,m),"mousedown"===a.type?(c.mouseDown=!0,c.mouseMoved=!1,c.maskMouseDown={x:o,y:p}):(c.mouseMoved=c.mouseDown,q&&c.mouseDown?("horizontal"==d?(p=g,q.y=m):"vertical"==d&&(o=f,q.x=n),n=q.x-o,m=q.y-p,b=["M",o,p,"l",n,0,0,m,-n,0,"z"],c.maskSelection={x:(n>0?o:o+n)+c.el.getX(),y:(m>0?p:p+m)+c.el.getY(),width:j(n),height:j(m)},c.mask.updateBox(c.maskSelection),c.mask.show(),c.maskSprite.setAttributes({hidden:!0},!0)):(b="horizontal"==d?["M",o,g,"L",o,m]:"vertical"==d?["M",f,p,"L",n,p]:["M",o,g,"L",o,m,"M",f,p,"L",n,p],c.maskSprite.setAttributes({path:b,"stroke-width":d===!0?1:1,hidden:!1},!0)))},onMouseLeave:function(){var a=this;a.mouseMoved=!1,a.mouseDown=!1,a.maskMouseDown=!1,a.mask.hide(),a.maskSprite.hide(!0)}},1,0,0,0,0,0,[Ext.chart,"Mask"],0),Ext.cmd.derive("Ext.chart.Navigation",Ext.Base,{setZoom:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=n.axes.items,p=n.chartBBox,q=p.width,r=p.height,s={x:a.x-n.el.getX(),y:a.y-n.el.getY(),width:a.width,height:a.height};for(b=0,c=o.length;c>b;b++)d=o[b],m="bottom"==d.position||"top"==d.position,"Category"==d.type?(i||(i=n.getChartStore(),j=i.data.items.length),e=s,l=d.length,k=Math.round(l/j),m?(g=e.x?Math.floor(e.x/k)+1:0,h=(e.x+e.width)/k):(g=e.y?Math.floor(e.y/k)+1:0,h=(e.y+e.height)/k)):(e={x:s.x/q,y:s.y/r,width:s.width/q,height:s.height/r},f=d.calcEnds(),m?(g=(f.to-f.from)*e.x+f.from,h=(f.to-f.from)*e.width+g):(h=(f.to-f.from)*(1-e.y)+f.from,g=h-(f.to-f.from)*e.height)),d.minimum=g,d.maximum=h,m?d.doConstrain&&"vertical"!=n.maskType&&d.doConstrain():d.doConstrain&&"horizontal"!=n.maskType&&d.doConstrain();n.redraw(!1)},restoreZoom:function(){var a,b,c,d=this,e=d.axes.items;for(d.setSubStore(null),a=0,b=e.length;b>a;a++)c=e[a],delete c.minimum,delete c.maximum;d.redraw(!1)}},0,0,0,0,0,0,[Ext.chart,"Navigation"],0),Ext.cmd.derive("Ext.chart.Shape",Ext.Base,{singleton:!0,circle:function(a,b){return a.add(Ext.apply({type:"circle",x:b.x,y:b.y,stroke:null,radius:b.radius},b))},line:function(a,b){return a.add(Ext.apply({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius/5},b))},square:function(a,b){return a.add(Ext.applyIf({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius,radius:null},b))},triangle:function(a,b){return b.radius*=1.75,a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x,",",b.y,"m0-",.58*b.radius,"l",.5*b.radius,",",.87*b.radius,"-",b.radius,",0z")},b))},diamond:function(a,b){var c=b.radius;return c*=1.5,a.add(Ext.apply({type:"path",stroke:null,path:["M",b.x,b.y-c,"l",c,c,-c,c,-c,-c,c,-c,"z"]},b))},cross:function(a,b){var c=b.radius;return c/=1.7,a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c,",",b.y,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"])},b))},plus:function(a,b){var c=b.radius/1.3;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c/2,",",b.y-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"])},b))},arrow:function(a,b){var c=b.radius;return a.add(Ext.apply({type:"path",path:"M".concat(b.x-.7*c,",",b.y-.4*c,"l",[.6*c,0,0,.4*-c,c,.8*c,-c,.8*c,0,.4*-c,.6*-c,0],"z")},b))},drop:function(a,b,c,d,e,f){e=e||30,f=f||0,a.add({type:"path",path:["M",b,c,"l",e,0,"A",.4*e,.4*e,0,1,0,b+.7*e,c-.7*e,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-f,x:b,y:c}}),f=(f+90)*Math.PI/180,a.add({type:"text",x:b+e*Math.sin(f)-10,y:c+e*Math.cos(f)+5,text:d,"font-size":12*e/40,stroke:"none",fill:"#fff"})}},0,0,0,0,0,0,[Ext.chart,"Shape"],0),Ext.cmd.derive("Ext.chart.LegendItem",Ext.draw.CompositeSprite,{hiddenSeries:!1,label:void 0,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments),this.createLegend(a)},createLegend:function(a){var b=this,c=b.series,d=a.yFieldIndex;b.label=b.createLabel(a),b.createSeriesMarkers(a),b.setAttributes({hidden:!1},!0),b.yFieldIndex=d,b.on("mouseover",b.onMouseOver,b),b.on("mouseout",b.onMouseOut,b),b.on("mousedown",b.onMouseDown,b),c.visibleInLegend(d)||(b.hiddenSeries=!0,b.label.setAttributes({opacity:.5},!0)),b.updatePosition({x:0,y:0})},getLabelText:function(){function a(a){var b=c[a];return Ext.isArray(b)?b[d]:b}var b=this,c=b.series,d=b.yFieldIndex;return a("title")||a("yField")},createLabel:function(){var a=this,b=a.legend;return a.add("label",a.surface.add({type:"text",x:20,y:0,zIndex:(a.zIndex||0)+2,fill:b.labelColor,font:b.labelFont,text:a.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(a){var b=this,c=a.yFieldIndex,d=b.series,e=d.type,f=(b.surface,b.zIndex);if("line"===e||"scatter"===e){if("line"===e){var g=Ext.apply(d.seriesStyle,d.style);b.drawLine(.5,.5,16.5,.5,f,g,c)}if(d.showMarkers||"scatter"===e){var h=Ext.apply(d.markerStyle,d.markerConfig||{},{fill:d.getLegendColor(c)});b.drawMarker(8.5,.5,f,h)}}else b.drawFilledBox(12,12,f,c)},drawLine:function(a,b,c,d,e,f,g){var h=this,i=h.surface,j=h.series;return h.add("line",i.add({type:"path",path:"M"+a+","+b+"L"+c+","+d,zIndex:(e||0)+2,"stroke-width":j.lineWidth,"stroke-linejoin":"round","stroke-dasharray":j.dash,stroke:f.stroke||j.getLegendColor(g)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(a,b,c,d){{var e=this,f=e.surface;e.series}return e.add("marker",Ext.chart.Shape[d.type](f,{fill:d.fill,x:a,y:b,zIndex:(c||0)+2,radius:d.radius||d.size,style:{cursor:"pointer"}}))},drawFilledBox:function(a,b,c,d){var e=this,f=e.surface,g=e.series;return e.add("box",f.add({type:"rect",zIndex:(c||0)+2,x:0,y:0,width:a,height:b,fill:g.getLegendColor(d),style:{cursor:"pointer"}}))},onMouseOver:function(){var a=this;a.label.setStyle({"font-weight":"bold"}),a.series._index=a.yFieldIndex,a.series.highlightItem()},onMouseOut:function(){var a=this,b=a.legend,c=a.boldRe;a.label.setStyle({"font-weight":b.labelFont&&c.test(b.labelFont)?"bold":"normal"}),a.series._index=a.yFieldIndex,a.series.unHighlightItem()},onMouseDown:function(){var a=this,b=a.yFieldIndex;a.hiddenSeries?(a.series.showAll(b),a.label.setAttributes({opacity:1},!0)):(a.series.hideAll(b),a.label.setAttributes({opacity:.5},!0)),a.hiddenSeries=!a.hiddenSeries,a.legend.chart.redraw()},updatePosition:function(a){var b,c=this,d=c.items,e=d.length,f=0;for(a||(a=c.legend);e>f;f++)switch(b=d[f],b.type){case"text":b.setAttributes({x:20+a.x+c.x,y:a.y+c.y},!0);break;case"rect":b.setAttributes({translate:{x:a.x+c.x,y:a.y+c.y-6}},!0);break;default:b.setAttributes({translate:{x:a.x+c.x,y:a.y+c.y}},!0)}}},1,0,0,0,0,0,[Ext.chart,"LegendItem"],0),Ext.cmd.derive("Ext.chart.Legend",Ext.Base,{visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(a){var b=this;a&&Ext.apply(b,a),b.items=[],b.isVertical=-1!=="left|right|float".indexOf(b.position),b.origX=b.x,b.origY=b.y},create:function(){var a,b,c,d=this,e=d.chart.series.items;if(d.createBox(),d.rebuild!==!1&&d.createItems(),!d.created&&d.isDisplayed())for(d.created=!0,a=0,b=e.length;b>a;a++)c=e[a],c.on("titlechange",d.redraw,d)},redraw:function(){var a=this;a.create(),a.updatePosition()},isDisplayed:function(){return this.visible&&-1!==this.chart.series.findIndex("showInLegend",!0)},createItems:function(){var a,b,c,d,e,f,g,h=this,i=h.chart.series.items,j=h.items;for(h.removeItems(),b=0,c=i.length;c>b;b++)if(f=i[b],f.showInLegend)for(a=[].concat(f.yField),d=0,e=a.length;e>d;d++)g=h.createLegendItem(f,d),j.push(g);h.alignItems()},removeItems:function(){var a,b=this,c=b.items,d=c?c.length:0;if(d)for(a=0;d>a;a++)c[a].destroy();c.length=[]},alignItems:function(){var a,b,c,d,e,f=this,g=f.padding,h=f.isVertical,i=Math.floor;a=f.updateItemDimensions(),b=a.maxWidth,c=a.maxHeight,d=a.totalWidth,e=a.totalHeight,f.width=i((h?b:d)+2*g),f.height=i((h?e:c)+2*g)},updateItemDimensions:function(){var a,b,c,d,e,f,g=this,h=g.items,i=g.padding,j=g.itemSpacing,k=0,l=0,m=0,n=0,o=g.isVertical,p=Math.floor,q=Math.max,r=0;
for(a=0,b=h.length;b>a;a++)c=h[a],d=c.getBBox(),e=d.width,f=d.height,r=0===a?0:j,c.x=i+p(o?0:m+r),c.y=i+p(o?n+r:0)+f/2,m+=r+e,n+=r+f,k=q(k,e),l=q(l,f);return{totalWidth:m,totalHeight:n,maxWidth:k,maxHeight:l}},createLegendItem:function(a,b){var c=this;return new Ext.chart.LegendItem({legend:c,series:a,surface:c.chart.surface,yFieldIndex:b})},getBBox:function(){var a=this;return{x:Math.round(a.x)-a.boxStrokeWidth/2,y:Math.round(a.y)-a.boxStrokeWidth/2,width:a.width+a.boxStrokeWidth,height:a.height+a.boxStrokeWidth}},createBox:function(){var a,b,c=this;return c.boxSprite&&c.boxSprite.destroy(),b=c.getBBox(),isNaN(b.width)||isNaN(b.height)?void(c.boxSprite=!1):(a=c.boxSprite=c.chart.surface.add(Ext.apply({type:"rect",stroke:c.boxStroke,"stroke-width":c.boxStrokeWidth,fill:c.boxFill,zIndex:c.boxZIndex},b)),void a.redraw())},calcPosition:function(){var a,b,c=this,d=c.width,e=c.height,f=c.chart,g=f.chartBBox,h=f.insetPadding,i=g.width-2*h,j=g.height-2*h,k=g.x+h,l=g.y+h,m=f.surface,n=Math.floor;switch(c.position){case"left":a=h,b=n(l+j/2-e/2);break;case"right":a=n(m.width-d)-h,b=n(l+j/2-e/2);break;case"top":a=n(k+i/2-d/2),b=h;break;case"bottom":a=n(k+i/2-d/2),b=n(m.height-e)-h;break;default:a=n(c.origX)+h,b=n(c.origY)+h}return{x:a,y:b}},updatePosition:function(){var a,b,c,d,e=this,f=e.items;if(e.isDisplayed()){for(a=e.calcPosition(),e.x=a.x,e.y=a.y,b=0,c=f.length;c>b;b++)f[b].updatePosition();d=e.getBBox(),isNaN(d.width)||isNaN(d.height)?e.boxSprite&&e.boxSprite.hide(!0):(e.boxSprite||e.createBox(),e.boxSprite.setAttributes(d,!0),e.boxSprite.show(!0))}},toggle:function(a){var b=this,c=0,d=b.items,e=d.length;for(b.boxSprite&&(a?b.boxSprite.show(!0):b.boxSprite.hide(!0));e>c;++c)a?d[c].show(!0):d[c].hide(!0);b.visible=a}},1,0,0,0,0,0,[Ext.chart,"Legend"],0),Ext.cmd.derive("Ext.chart.theme.Base",Ext.Base,{constructor:function(a){var b=Ext.identityFn;Ext.chart.theme.call(this,a,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},1,0,0,0,0,0,[Ext.chart.theme,"Base"],function(){for(var a=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],b=["Green","Sky","Red","Purple","Blue","Yellow"],c=0,d=a.length,e=Ext.chart.theme,f=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],g=f.length;d>c;c++)e[b[c]]=function(a){return Ext.extend(e.Base,{constructor:function(b){e.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},b))}})}(a[c]);for(c=0;g>c;c++)e["Category"+(c+1)]=function(a){return Ext.extend(e.Base,{constructor:function(b){e.Base.prototype.constructor.call(this,Ext.apply({colors:a},b))}})}(f[c])}),Ext.cmd.derive("Ext.chart.Chart",Ext.draw.Component,{viewBox:!1,animate:!1,legend:!1,insetPadding:10,background:!1,constructor:function(a){var b,c=this;a=Ext.apply({},a),c.initTheme(a.theme||c.theme),c.gradients&&Ext.apply(a,{gradients:c.gradients}),c.background&&Ext.apply(a,{background:c.background}),a.animate&&(b={easing:"ease",duration:500},a.animate=Ext.isObject(a.animate)?Ext.applyIf(a.animate,b):b),c.mixins.observable.constructor.call(c,a),a.enableMask&&c.mixins.mask.constructor.call(c),c.mixins.navigation.constructor.call(c),c.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var a,b,c=this;c.callParent(),c.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(c,{zoom:{width:1,height:1,x:0,y:0}}),c.maxGutters={left:0,right:0,bottom:0,top:0},c.store=Ext.data.StoreManager.lookup(c.store),a=c.axes,c.axes=new Ext.util.MixedCollection(!1,function(a){return a.position}),a&&c.axes.addAll(a),b=c.series,c.series=new Ext.util.MixedCollection(!1,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))}),b&&c.series.addAll(b),c.legend!==!1&&(c.legend=new Ext.chart.Legend(Ext.applyIf({chart:c},c.legend))),c.on({mousemove:c.onMouseMove,mouseleave:c.onMouseLeave,mousedown:c.onMouseDown,mouseup:c.onMouseUp,click:c.onClick,dblclick:c.onDblClick,scope:c})},afterComponentLayout:function(a,b,c,d){var e=this;Ext.isNumber(a)&&Ext.isNumber(b)&&(a!==c||b!==d?(e.curWidth=a,e.curHeight=b,e.redraw(!0),e.needsRedraw=!1):e.needsRedraw&&(e.redraw(),e.needsRedraw=!1)),this.callParent(arguments)},redraw:function(a){var b,c,d,e=this,f=e.series.items,g=f.length,h=e.axes.items,i=h.length,j=0,k=e.chartBBox={x:0,y:0,height:e.curHeight,width:e.curWidth},l=e.legend;for(e.surface.setSize(k.width,k.height),b=0;g>b;b++)c=f[b],d=c.initialized?c:e.initializeSeries(c,b,j),d.onRedraw(),Ext.isArray(c.yField)?j+=c.yField.length:++j;for(b=0;i>b;b++)c=h[b],c.initialized||e.initializeAxis(c);for(b=0;i>b;b++)h[b].processView();for(b=0;i>b;b++)h[b].drawAxis(!0);for(l!==!1&&l.visible&&(l.update||!l.created)&&l.create(),e.alignAxes(),l!==!1&&l.visible&&l.updatePosition(),e.getMaxGutters(),e.resizing=!!a,b=0;i>b;b++)h[b].drawAxis();for(b=0;g>b;b++)e.drawCharts(f[b]);e.resizing=!1},afterRender:function(){var a=this;a.callParent(arguments),a.categoryNames&&a.setCategoryNames(a.categoryNames),a.bindStore(a.store,!0),a.refresh(),"Vml"===a.surface.engine&&(a.on("added",a.onAddedVml,a),a.mon(a.hierarchyEventSource,"added",a.onContainerAddedVml,a))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(a){this.isDescendantOf(a)&&(this.needsRedraw=!0)},getEventXY:function(a){var b=this.surface.getRegion(),c=a.getXY(),d=c[0]-b.left,e=c[1]-b.top;return[d,e]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(a,b){var c,d,e,f,g=this,h=g.getEventXY(b),i=g.series.items;for(c=0,d=i.length;d>c;c++)e=i[c],Ext.draw.Draw.withinBox(h[0],h[1],e.bbox)&&e.getItemForPoint&&(f=e.getItemForPoint(h[0],h[1]),f&&e.fireEvent(a,f))},onMouseDown:function(a){var b,c,d,e,f=this,g=f.getEventXY(a),h=f.series.items;for(f.enableMask&&f.mixins.mask.onMouseDown.call(f,a),b=0,c=h.length;c>b;b++)d=h[b],Ext.draw.Draw.withinBox(g[0],g[1],d.bbox)&&d.getItemForPoint&&(e=d.getItemForPoint(g[0],g[1]),e&&d.fireEvent("itemmousedown",e))},onMouseUp:function(a){var b,c,d,e,f=this,g=f.getEventXY(a),h=f.series.items;for(f.enableMask&&f.mixins.mask.onMouseUp.call(f,a),b=0,c=h.length;c>b;b++)d=h[b],Ext.draw.Draw.withinBox(g[0],g[1],d.bbox)&&d.getItemForPoint&&(e=d.getItemForPoint(g[0],g[1]),e&&d.fireEvent("itemmouseup",e))},onMouseMove:function(a){var b,c,d,e,f,g,h,i=this,j=i.getEventXY(a),k=i.series.items;for(i.enableMask&&i.mixins.mask.onMouseMove.call(i,a),b=0,c=k.length;c>b;b++)d=k[b],Ext.draw.Draw.withinBox(j[0],j[1],d.bbox)?d.getItemForPoint&&(e=d.getItemForPoint(j[0],j[1]),f=d._lastItemForPoint,g=d._lastStoreItem,h=d._lastStoreField,(e!==f||e&&(e.storeItem!=g||e.storeField!=h))&&(f&&(d.fireEvent("itemmouseout",f),delete d._lastItemForPoint,delete d._lastStoreField,delete d._lastStoreItem),e&&(d.fireEvent("itemmouseover",e),d._lastItemForPoint=e,d._lastStoreItem=e.storeItem,d._lastStoreField=e.storeField))):(f=d._lastItemForPoint,f&&(d.fireEvent("itemmouseout",f),delete d._lastItemForPoint,delete d._lastStoreField,delete d._lastStoreItem))},onMouseLeave:function(a){var b,c,d,e=this,f=e.series.items;for(e.enableMask&&e.mixins.mask.onMouseLeave.call(e,a),b=0,c=f.length;c>b;b++)d=f[b],delete d._lastItemForPoint},delayRefresh:function(){var a=this;a.refreshTask||(a.refreshTask=new Ext.util.DelayedTask(a.refresh,a)),a.refreshTask.delay(a.refreshBuffer)},refresh:function(){var a=this;if(a.rendered&&void 0!==a.curWidth&&void 0!==a.curHeight){if(!a.isVisible(!0))return void(a.refreshPending||(a.setShowListeners("mon"),a.refreshPending=!0));a.fireEvent("beforerefresh",a)!==!1&&(a.redraw(),a.fireEvent("refresh",a))}},onShow:function(){var a=this;a.callParent(arguments),a.refreshPending&&(a.delayRefresh(),a.setShowListeners("mun")),delete a.refreshPending},setShowListeners:function(a){var b=this;b[a](b.hierarchyEventSource,{scope:b,single:!0,show:b.forceRefresh,expand:b.forceRefresh})},doRefresh:function(){this.setSubStore(null),this.refresh()},forceRefresh:function(a){var b=this;b.isDescendantOf(a)&&b.refreshPending&&(b.setShowListeners("mun"),b.delayRefresh()),delete b.refreshPending},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments),c.store&&!b&&c.refresh()},getStoreListeners:function(){var a=this.doRefresh,b=this.delayRefresh;return{refresh:a,add:b,bulkremove:b,update:b,clear:a}},setSubStore:function(a){this.substore=a},initializeAxis:function(a){var b=this,c=b.chartBBox,d=c.width,e=c.height,f=c.x,g=c.y,h=b.themeAttrs,i={chart:b};switch(h&&(i.axisStyle=Ext.apply({},h.axis),i.axisLabelLeftStyle=Ext.apply({},h.axisLabelLeft),i.axisLabelRightStyle=Ext.apply({},h.axisLabelRight),i.axisLabelTopStyle=Ext.apply({},h.axisLabelTop),i.axisLabelBottomStyle=Ext.apply({},h.axisLabelBottom),i.axisTitleLeftStyle=Ext.apply({},h.axisTitleLeft),i.axisTitleRightStyle=Ext.apply({},h.axisTitleRight),i.axisTitleTopStyle=Ext.apply({},h.axisTitleTop),i.axisTitleBottomStyle=Ext.apply({},h.axisTitleBottom)),a.position){case"top":Ext.apply(i,{length:d,width:e,x:f,y:g});break;case"bottom":Ext.apply(i,{length:d,width:e,x:f,y:e});break;case"left":Ext.apply(i,{length:e,width:d,x:f,y:e});break;case"right":Ext.apply(i,{length:e,width:d,x:d,y:e})}a.chart?Ext.apply(a,i):(Ext.apply(i,a),a=b.axes.replace(Ext.createByAlias("axis."+a.type.toLowerCase(),i))),a.initialized=!0},getInsets:function(){var a=this,b=a.insetPadding;return{top:b,right:b,bottom:b,left:b}},calculateInsets:function(){function a(a){var b=k.findIndex("position",a);return 0>b?null:k.getAt(b)}var b,c,d,e,f,g,h,i=this,j=i.legend,k=i.axes,l=["top","right","bottom","left"];for(b=i.getInsets(),c=0,d=l.length;d>c;c++)e=l[c],f="left"===e||"right"===e,g=a(e),j!==!1&&j.position===e&&(h=j.getBBox(),b[e]+=(f?h.width:h.height)+i.insetPadding),g&&g.bbox&&(h=g.bbox,b[e]+=f?h.width:h.height);return b},alignAxes:function(){var a,b,c,d,e,f,g,h=this,i=h.axes.items;for(a=h.calculateInsets(),b={x:a.left,y:a.top,width:h.curWidth-a.left-a.right,height:h.curHeight-a.top-a.bottom},h.chartBBox=b,c=0,d=i.length;d>c;c++)e=i[c],f=e.position,g="left"===f||"right"===f,e.x="right"===f?b.x+b.width:b.x,e.y="top"===f?b.y:b.y+b.height,e.width=g?b.width:b.height,e.length=g?b.height:b.width},initializeSeries:function(a,b,c){var d,e,f,g,h,j,k,l=this,m=l.themeAttrs,n=[],o=(a instanceof Ext.chart.series.Series).i=0;if(!a.initialized){if(k={chart:l,seriesId:a.seriesId},m){if(f=m.seriesThemes,h=m.markerThemes,d=Ext.apply({},m.series),e=Ext.apply({},m.marker),k.seriesStyle=Ext.apply(d,f[c%f.length]),k.seriesLabelStyle=Ext.apply({},m.seriesLabel),k.markerStyle=Ext.apply(e,h[c%h.length]),m.colors)k.colorArrayStyle=m.colors;else{for(n=[],j=f.length;j>i;i++)g=f[i],(g.fill||g.stroke)&&n.push(g.fill||g.stroke);n.length&&(k.colorArrayStyle=n)}k.seriesIdx=b,k.themeIdx=c}o?Ext.applyIf(a,k):(Ext.applyIf(k,a),a=l.series.replace(Ext.createByAlias("series."+a.type.toLowerCase(),k)))}return a.initialize&&a.initialize(),a.initialized=!0,a},getMaxGutters:function(){var a,b,c,d=this,e=d.series.items,f=0,g=0,h=0,i=0;for(a=0,b=e.length;b>a;a++)c=e[a].getGutters(),c&&(c.verticalAxis?(h=Math.max(h,c.lower),i=Math.max(i,c.upper)):(f=Math.max(f,c.lower),g=Math.max(g,c.upper)));d.maxGutters={left:f,right:g,bottom:h,top:i}},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=!1,a.drawSeries(),this.animate||a.fireEvent("afterrender")},save:function(a){return Ext.draw.Surface.save(this.surface,a)},destroy:function(){Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}},1,["chart"],["draw","component","chart","box"],{draw:!0,component:!0,chart:!0,box:!0},["widget.chart"],[["themeManager",Ext.chart.theme.Theme],["mask",Ext.chart.Mask],["navigation",Ext.chart.Navigation],["bindable",Ext.util.Bindable],["observable",Ext.util.Observable]],[Ext.chart,"Chart"],0),Ext.cmd.derive("Ext.chart.Highlight",Ext.Base,{highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){a.highlight&&"boolean"!=typeof a.highlight&&(this.highlightCfg=Ext.merge({},this.highlightCfg,a.highlight))},highlightItem:function(a){if(a){var b,c,d,e,f=this,g=a.sprite,h=Ext.merge({},f.highlightCfg,f.highlight),i=f.chart.surface,j=f.chart.animate;if(f.highlight&&g&&!g._highlighted){if(g._anim&&(g._anim.paused=!0),g._highlighted=!0,!g._defaults){g._defaults=Ext.apply({},g.attr),c={},d={};for(b in h)if(b in g._defaults||(g._defaults[b]=i.availableAttrs[b]),c[b]=g._defaults[b],d[b]=h[b],Ext.isObject(h[b])){c[b]={},d[b]={},Ext.apply(g._defaults[b],g.attr[b]),Ext.apply(c[b],g._defaults[b]);for(e in g._defaults[b])d[b][e]=e in h[b]?h[b][e]:c[b][e];for(e in h[b])e in d[b]||(d[b][e]=h[b][e])}g._from=c,g._to=d,g._endStyle=d}j?g._anim=new Ext.fx.Anim({target:g,from:g._from,to:g._to,duration:150}):g.setAttributes(g._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var a,b,c,d=this,e=d.items,f=e.length,g=Ext.merge({},d.highlightCfg,d.highlight),h=d.chart.animate,i=0;f>i;i++)if(e[i]&&(c=e[i].sprite,c&&c._highlighted)){c._anim&&(c._anim.paused=!0),a={};for(b in g)a[b]=Ext.isObject(c._defaults[b])?Ext.apply({},c._defaults[b]):c._defaults[b];h?(c._endStyle=a,c._anim=new Ext.fx.Anim({target:c,to:a,duration:150})):c.setAttributes(a,!0),delete c._highlighted}},cleanHighlights:function(){if(this.highlight){var a,b=this.group,c=this.markerGroup,d=0;for(a=b.getCount();a>d;d++)delete b.getAt(d)._defaults;if(c)for(a=c.getCount();a>d;d++)delete c.getAt(d)._defaults}}},1,0,0,0,0,0,[Ext.chart,"Highlight"],0),Ext.cmd.derive("Ext.chart.Label",Ext.Base,{colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(){var a=this;a.label=Ext.applyIf(a.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn}),"none"!==a.label.display&&(a.labelsGroup=a.chart.surface.getGroup(a.seriesId+"-labels"))},renderLabels:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this,y=x.chart,z=y.gradients,A=x.items,B=y.animate,C=x.label,D=C.display,E=C.stackedDisplay,F=C.renderer,G=C.color,H=[].concat(C.field),I=x.labelsGroup,J=(I||0)&&I.length,K=x.chart.getChartStore(),L=K.getCount(),M=(A||0)&&A.length,N=M/L,O=(z||0)&&z.length,P=Ext.draw.Color,Q=[];if("none"!=D&&I){if(0==M)for(;J--;)Q.push(J);else{for(b=0,c=0,d=0;L>b;b++)for(e=0,f=0;N>f;f++){for(k=A[c],l=I.getAt(d),m=K.getAt(b);this.__excludes&&this.__excludes[e];)e++;if(!k&&l&&(l.hide(!0),d++),k&&H[f]){if(!l&&(l=x.onCreateLabel(m,k,b,D),!l))break;if(l.setAttributes({fill:String(G)},!0),x.onPlaceLabel(l,m,k,b,D,B,e),d++,C.contrast&&k.sprite){if(n=k.sprite,r=B&&n._endStyle?n._endStyle.fill:B&&n._to?n._to.fill:n.attr.fill,r=r||n.attr.fill,o=P.fromString(r),r&&!o){for(r=r.match(x.colorStringRe)[1],g=0;O>g;g++)if(a=z[g],a.id==r){j=0,h=0;for(i in a.stops)j++,h+=P.fromString(a.stops[i].color).getGrayscale();p=h/j/255;break}}else p=o.getGrayscale()/255;l.isOutside&&(p=1),q=P.fromString(l.attr.fill||l.attr.color).getHSL(),q[2]=p>.5?.2:.8,l.setAttributes({fill:String(P.fromHSL.apply({},q))},!0)}x.stacked&&E&&(k.totalPositiveValues||k.totalNegativeValues)&&(t=k.totalPositiveValues||0,u=k.totalNegativeValues||0,s=t+u,"total"==E?v=F(s):"balances"==E&&(0==t&&0==u?v=F(0):(v=F(t),w=F(u))),v&&(l=I.getAt(d),l||(l=x.onCreateLabel(m,k,b,"over")),q=P.fromString(l.attr.color||l.attr.fill).getHSL(),l.setAttributes({text:v,style:C.font,fill:String(P.fromHSL.apply({},q))},!0),x.onPlaceLabel(l,m,k,b,"over",B,e),d++),w&&(l=I.getAt(d),l||(l=x.onCreateLabel(m,k,b,"under")),q=P.fromString(l.attr.color||l.attr.fill).getHSL(),l.setAttributes({text:w,style:C.font,fill:String(P.fromHSL.apply({},q))},!0),x.onPlaceLabel(l,m,k,b,"under",B,e),d++))}c++,e++}for(J=I.length;J>d;)Q.push(d),d++}x.hideLabels(Q)}},hideLabels:function(a){var b=this.labelsGroup,c=!!a&&a.length;if(b)if(c===!1)for(c=b.getCount();c--;)b.getAt(c).hide(!0);else for(;c--;)b.getAt(a[c]).hide(!0)}},1,0,0,0,0,0,[Ext.chart,"Label"],0),Ext.cmd.derive("Ext.chart.TipSurface",Ext.draw.Component,{spriteArray:!1,renderFirst:!0,constructor:function(a){this.callParent([a]),a.sprites&&(this.spriteArray=[].concat(a.sprites),delete a.sprites)},onRender:function(){var a,b,c=this,d=0,e=0;if(this.callParent(arguments),b=c.spriteArray,c.renderFirst&&b)for(c.renderFirst=!1,e=b.length;e>d;d++)a=c.surface.add(b[d]),a.setAttributes({hidden:!1},!0)}},1,0,["draw","component","box"],{draw:!0,component:!0,box:!0},0,0,[Ext.chart,"TipSurface"],0),Ext.cmd.derive("Ext.chart.Tip",Ext.Base,{constructor:function(a){var b,c,d,e=this;a.tips&&(e.tipTimeout=null,e.tipConfig=Ext.apply({},a.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0}),e.tooltip=new Ext.tip.ToolTip(e.tipConfig),e.chart.surface.on("mousemove",e.tooltip.onMouseMove,e.tooltip),e.chart.surface.on("mouseleave",function(){e.hideTip()}),e.tipConfig.surface&&(b=e.tipConfig.surface,c=b.sprites,d=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:c}),b.width&&b.height&&d.setSize(b.width,b.height),e.tooltip.add(d),e.spriteTip=d))},showTip:function(a){var b,c,d,e,f,g,h,i,j,k,l=this;l.tooltip&&(clearTimeout(l.tipTimeout),b=l.tooltip,c=l.spriteTip,d=l.tipConfig,e=b.trackMouse,e||(b.trackMouse=!0,f=a.sprite,g=f.surface,h=Ext.get(g.getId()),h&&(i=h.getXY(),j=i[0]+(f.attr.x||0)+(f.attr.translation&&f.attr.translation.x||0),k=i[1]+(f.attr.y||0)+(f.attr.translation&&f.attr.translation.y||0),b.targetXY=[j,k])),c?d.renderer.call(b,a.storeItem,a,c.surface):d.renderer.call(b,a.storeItem,a),b.show(),b.trackMouse=e)},hideTip:function(){var a=this.tooltip;a&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){a.hide()},0))}},1,0,0,0,0,0,[Ext.chart,"Tip"],0),Ext.cmd.derive("Ext.chart.axis.Abstract",Ext.Base,{constructor:function(a){a=a||{};var b=this,c=a.position||"left";c=c.charAt(0).toUpperCase()+c.substring(1),a.label=Ext.apply(a["axisLabel"+c+"Style"]||{},a.label||{}),a.axisTitleStyle=Ext.apply(a["axisTitle"+c+"Style"]||{},a.labelTitle||{}),Ext.apply(b,a),b.fields=Ext.Array.from(b.fields),this.callParent(),b.labels=[],b.getId(),b.labelGroup=b.chart.surface.getGroup(b.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn},1,0,0,0,0,0,[Ext.chart.axis,"Abstract"],0),Ext.cmd.derive("Ext.chart.axis.Axis",Ext.chart.axis.Abstract,{alternateClassName:"Ext.chart.Axis",hidden:!1,forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},applyData:Ext.emptyFn,getRange:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.chart,o=n.getChartStore(),p=o.data.items,q=n.series.items,r=m.position,s=Ext.chart.series,t=[],u=1/0,v=-1/0,w="left"===m.position||"right"===m.position||"radial"===m.position,x=p.length,y={},z={},A=!0;for(h=m.fields,e=0,c=h.length;c>e;e++)z[h[e]]=!0;for(b=0,c=q.length;c>b;b++)if(!q[b].seriesIsHidden&&q[b].getAxesForXAndYFields&&(a=q[b].getAxesForXAndYFields(),!a.xAxis||a.xAxis===r||!a.yAxis||a.yAxis===r)){if(h=Ext.Array.from(s.Bar&&q[b]instanceof s.Bar&&!q[b].column?w?q[b].xField:q[b].yField:w?q[b].yField:q[b].xField),m.fields.length){for(e=0,d=h.length;d>e&&!z[h[e]];e++);if(e==d)continue}if((g=q[b].stacked)&&(s.Bar&&q[b]instanceof s.Bar?q[b].column!=w&&(g=!1,A=!1):w||(g=!1,A=!1)),g){for(i={},e=0;e<h.length;e++)A&&q[b].__excludes&&q[b].__excludes[e]||(z[h[e]]||Ext.Logger.warn("Field `"+h[e]+"` is not included in the "+r+" axis config."),z[h[e]]=i[h[e]]=!0);t.push({fields:i,positiveValue:0,negativeValue:0})}else for(h&&0!=h.length||(h=m.fields),e=0;e<h.length;e++)A&&q[b].__excludes&&q[b].__excludes[e]||(z[h[e]]=y[h[e]]=!0)}for(b=0;x>b;b++){for(j=p[b],f=0;f<t.length;f++)t[f].positiveValue=0,t[f].negativeValue=0;for(k in z)if(l=j.get(k),"Time"==m.type&&"string"==typeof l&&(l=Date.parse(l)),!isNaN(l))for(l=void 0===l?0:Number(l),y[k]&&(u>l&&(u=l),l>v&&(v=l)),f=0;f<t.length;f++)t[f].fields[k]&&(l>=0?(t[f].positiveValue+=l,v<t[f].positiveValue&&(v=t[f].positiveValue),u>0&&(u=0)):(t[f].negativeValue+=l,u>t[f].negativeValue&&(u=t[f].negativeValue),0>v&&(v=0)))}return isFinite(v)||(v=m.prevMax||0),isFinite(u)||(u=m.prevMin||0),"number"==typeof u&&(u=Ext.Number.correctFloat(u)),"number"==typeof v&&(v=Ext.Number.correctFloat(v)),u==v||v==Math.floor(v)&&u==Math.floor(u)||(u=Math.floor(u),v=Math.floor(v)+1),isNaN(m.minimum)||(u=m.minimum),isNaN(m.maximum)||(v=m.maximum),u>=v&&(u=Math.floor(u),v=u+1),{min:u,max:v}},calcEnds:function(){var a,b,c,d,e=this,f=e.getRange(),g=f.min,h=f.max;return a=Ext.isNumber(e.majorTickSteps)?e.majorTickSteps+1:e.steps,b=!(Ext.isNumber(e.maximum)&&Ext.isNumber(e.minimum)&&Ext.isNumber(e.majorTickSteps)&&e.majorTickSteps>0),c=Ext.draw.Draw.snapEnds(g,h,a,b),Ext.isNumber(e.maximum)&&(c.to=e.maximum,d=!0),Ext.isNumber(e.minimum)&&(c.from=e.minimum,d=!0),e.adjustMaximumByMajorUnit&&(c.to=Math.ceil(c.to/c.step)*c.step,d=!0),e.adjustMinimumByMajorUnit&&(c.from=Math.floor(c.from/c.step)*c.step,d=!0),d&&(c.steps=Math.ceil((c.to-c.from)/c.step)),e.prevMin=g==h?0:g,e.prevMax=h,c},drawAxis:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=this,q=p.x,r=p.y,s=p.dashSize,t=p.length,u=p.position,v="left"==u||"right"==u,w=[],x=p.isNumericAxis,y=p.applyData(),z=y.step,A=y.steps,B=Ext.isArray(A),C=y.from,D=y.to,E=D-C||1,F=p.minorTickSteps||0,G=p.minorTickSteps||0,H=(Math.max(F+1,0),Math.max(G+1,0),"left"==u||"top"==u?-1:1),I=s*H,J=p.chart.series.items,K=J[0],L=K?K.nullGutters:p.nullGutters,M=0;if(p.from=C,p.to=D,!(p.hidden||C>D||B&&0==A.length||!B&&isNaN(z))){if(B)A=Ext.Array.filter(A,function(a){return+a>+p.from&&+a<+p.to},this),A=Ext.Array.union([p.from],A,[p.to]);else{for(A=new Array,m=+p.from;m<+p.to;m+=z)A.push(m);A.push(+p.to)}for(M=A.length,b=0,l=J.length;l>b;b++)if(!J[b].seriesIsHidden&&J[b].getAxesForXAndYFields&&(k=J[b].getAxesForXAndYFields(),!k.xAxis||!k.yAxis||k.xAxis===u||k.yAxis===u)){L=J[b].getGutters(),void 0!==L.verticalAxis&&L.verticalAxis!=v&&(g=J[b].getPadding(),L=v?{lower:g.bottom,upper:g.top,verticalAxis:!0}:{lower:g.left,upper:g.right,verticalAxis:!1});break}if(x&&(p.labels=[]),L)if(v)for(d=Math.floor(q),f=["M",d+.5,r,"l",0,-t],c=t-(L.lower+L.upper),j=0;M>j;j++)e=r-L.lower-(A[j]-A[0])*c/E,f.push("M",d,Math.floor(e)+.5,"l",2*I,0),w.push([d,Math.floor(e)]),x&&p.labels.push(A[j]);else for(e=Math.floor(r),f=["M",q,e+.5,"l",t,0],c=t-(L.lower+L.upper),j=0;M>j;j++)d=q+L.lower+(A[j]-A[0])*c/E,f.push("M",Math.floor(d)+.5,e,"l",0,2*I+1),w.push([Math.floor(d),e]),x&&p.labels.push(A[j]);if(h=v?G:F,Ext.isArray(h)?i=2==h.length?+Ext.Date.add(new Date,h[0],h[1])-Date.now():h[0]:Ext.isNumber(h)&&h>0&&(i=z/(h+1)),L&&i)for(j=0;M-1>j;j++)if(n=+A[j],o=+A[j+1],v)for(value=n+i;o>value;value+=i)e=r-L.lower-(value-A[0])*c/E,f.push("M",d,Math.floor(e)+.5,"l",I,0);else for(value=n+i;o>value;value+=i)d=q+L.upper+(value-A[0])*c/E,f.push("M",Math.floor(d)+.5,e,"l",0,I+1);p.axis||(p.axis=p.chart.surface.add(Ext.apply({type:"path",path:f},p.axisStyle))),p.axis.setAttributes({path:f},!0),p.inflections=w,!a&&p.grid&&p.drawGrid(),p.axisBBox=p.axis.getBBox(),p.drawLabel()}},drawGrid:function(){var a,b,c,d,e,f=this,g=f.chart.surface,h=f.grid,i=h.odd,j=h.even,k=f.inflections,l=k.length-(i||j?0:1),m=f.position,n=f.chart.maxGutters,o=f.width-2,p=1,q=[],r=[],s=[];for((0===n.bottom&&0===n.top||"left"!=m&&"right"!=m)&&(0===n.left&&0===n.right||"top"!=m&&"bottom"!=m)||(p=0,l++);l>p;p++)a=k[p],b=k[p-1],i||j?(q=p%2?r:s,c=(p%2?i:j)||{},d=(c.lineWidth||c["stroke-width"]||0)/2,e=2*d,"left"==m?q.push("M",b[0]+1+d,b[1]+.5-d,"L",b[0]+1+o-d,b[1]+.5-d,"L",a[0]+1+o-d,a[1]+.5+d,"L",a[0]+1+d,a[1]+.5+d,"Z"):"right"==m?q.push("M",b[0]-d,b[1]+.5-d,"L",b[0]-o+d,b[1]+.5-d,"L",a[0]-o+d,a[1]+.5+d,"L",a[0]-d,a[1]+.5+d,"Z"):"top"==m?q.push("M",b[0]+.5+d,b[1]+1+d,"L",b[0]+.5+d,b[1]+1+o-d,"L",a[0]+.5-d,a[1]+1+o-d,"L",a[0]+.5-d,a[1]+1+d,"Z"):q.push("M",b[0]+.5+d,b[1]-d,"L",b[0]+.5+d,b[1]-o+d,"L",a[0]+.5-d,a[1]-o+d,"L",a[0]+.5-d,a[1]-d,"Z")):q=q.concat("left"==m?["M",a[0]+.5,a[1]+.5,"l",o,0]:"right"==m?["M",a[0]-.5,a[1]+.5,"l",-o,0]:"top"==m?["M",a[0]+.5,a[1]+.5,"l",0,o]:["M",a[0]+.5,a[1]-.5,"l",0,-o]);i||j?(r.length&&(!f.gridOdd&&r.length&&(f.gridOdd=g.add({type:"path",path:r})),f.gridOdd.setAttributes(Ext.apply({path:r,hidden:!1},i||{}),!0)),s.length&&(f.gridEven||(f.gridEven=g.add({type:"path",path:s})),f.gridEven.setAttributes(Ext.apply({path:s,hidden:!1},j||{}),!0))):q.length?(f.gridLines||(f.gridLines=f.chart.surface.add({type:"path",path:q,"stroke-width":f.lineWidth||1,stroke:f.gridColor||"#ccc"})),f.gridLines.setAttributes({hidden:!1,path:q},!0)):f.gridLines&&f.gridLines.hide(!0)},getOrCreateLabel:function(a,b){var c=this,d=c.labelGroup,e=d.getAt(a),f=c.chart.surface;return e?b!=e.attr.text&&(e.setAttributes(Ext.apply({text:b},c.label),!0),e._bbox=e.getBBox()):(e=f.add(Ext.apply({group:d,type:"text",x:0,y:0,text:b},c.label)),f.renderItem(e),e._bbox=e.getBBox()),c.label.rotation?(e.setAttributes({rotation:{degrees:0}},!0),e._ubbox=e.getBBox(),e.setAttributes(c.label,!0)):e._ubbox=e._bbox,e},rect2pointArray:function(a){var b=this.chart.surface,c=b.getBBox(a,!0),d=[c.x,c.y],e=d.slice(),f=[c.x+c.width,c.y],g=f.slice(),h=[c.x+c.width,c.y+c.height],i=h.slice(),j=[c.x,c.y+c.height],k=j.slice(),l=a.matrix;return d[0]=l.x.apply(l,e),d[1]=l.y.apply(l,e),f[0]=l.x.apply(l,g),f[1]=l.y.apply(l,g),h[0]=l.x.apply(l,i),h[1]=l.y.apply(l,i),j[0]=l.x.apply(l,k),j[1]=l.y.apply(l,k),[d,f,h,j]},intersect:function(a,b){var c=this.rect2pointArray(a),d=this.rect2pointArray(b);return!!Ext.draw.Draw.intersect(c,d).length},drawHorizontalLabels:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.label,o=Math.floor,p=Math.max,q=m.chart.axes,r=m.chart.insetPadding,s=m.chart.maxGutters,t=m.position,u=m.inflections,v=u.length,w=m.labels,x=0,y=m.adjustEnd,z=-1!=q.findIndex("position","left"),A=-1!=q.findIndex("position","right");for(h=v-1,c=u[0],l=m.getOrCreateLabel(0,m.label.renderer(w[0])),a=Math.floor(Math.abs(Math.sin(n.rotate&&n.rotate.degrees*Math.PI/180||0))),k=0;v>k;k++){if(c=u[k],g=m.label.renderer(w[k]),f=m.getOrCreateLabel(k,g),b=f._bbox,x=p(x,b.height+m.dashSize+m.label.padding),i=o(c[0]-(a?b.height:b.width)/2),y&&0==s.left&&0==s.right&&(0!=k||z?k!=h||A||(i=Math.min(i,c[0]-b.width+r)):i=c[0]),j="top"==t?c[1]-2*m.dashSize-m.label.padding-b.height/2:c[1]+2*m.dashSize+m.label.padding+b.height/2,f.setAttributes({hidden:!1,x:i,y:j},!0),0!=k&&(m.intersect(f,d)||m.intersect(f,l))){if(k!==h||0===e){f.hide(!0);continue}d.hide(!0)}d=f,e=k}return x},drawVerticalLabels:function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.inflections,l=j.position,m=k.length,n=j.chart,o=n.insetPadding,p=j.labels,q=0,r=Math.max,s=Math.floor,t=Math.ceil,u=j.chart.axes,v=j.chart.maxGutters,w=-1!=u.findIndex("position","top"),x=-1!=u.findIndex("position","bottom"),y=j.adjustEnd,z=m-1;for(i=0;m>i;i++){if(b=k[i],f=j.label.renderer(p[i]),e=j.getOrCreateLabel(i,f),a=e._bbox,q=r(q,a.width+j.dashSize+j.label.padding),h=b[1],y&&v.bottom+v.top<a.height/2&&(i!=z||w?0!=i||x||(h=j.y+v.bottom-s(a.height/2)):h=Math.max(h,j.y-j.length+t(a.height/2)-o)),g="left"==l?b[0]-a.width-j.dashSize-j.label.padding-2:b[0]+j.dashSize+j.label.padding+2,e.setAttributes(Ext.apply({hidden:!1,x:g,y:h},j.label),!0),0!=i&&j.intersect(e,c)){if(i!==z||0===d){e.hide(!0);continue}c.hide(!0)}c=e,d=i}return q},drawLabel:function(){var a,b,c=this,d=c.position,e=c.labelGroup,f=c.inflections,g=0,h=0;for("left"==d||"right"==d?g=c.drawVerticalLabels():h=c.drawHorizontalLabels(),a=e.getCount(),b=f.length;a>b;b++)e.getAt(b).hide(!0);c.bbox={},Ext.apply(c.bbox,c.axisBBox),c.bbox.height=h,c.bbox.width=g,Ext.isString(c.title)&&c.drawTitle(g,h)},setTitle:function(a){this.title=a,this.drawLabel()},drawTitle:function(a,b){var c,d,e,f=this,g=f.position,h=f.chart.surface,i=f.displaySprite,j=f.title,k="left"==g||"right"==g,l=f.x,m=f.y;i?i.setAttributes({text:j},!0):(c={type:"text",x:0,y:0,text:j},i=f.displaySprite=h.add(Ext.apply(c,f.axisTitleStyle,f.labelTitle)),h.renderItem(i)),d=i.getBBox(),e=f.dashSize+f.label.padding,k?(m-=f.length/2-d.height/2,"left"==g?l-=a+e+d.width/2:l+=a+e+d.width-d.width/2,f.bbox.width+=d.width+10):(l+=f.length/2-.5*d.width,"top"==g?m-=b+e+.3*d.height:m+=b+e+.8*d.height,f.bbox.height+=d.height+10),i.setAttributes({translate:{x:l,y:m}},!0)}},0,0,0,0,0,0,[Ext.chart.axis,"Axis",Ext.chart,"Axis"],0),Ext.cmd.derive("Ext.chart.axis.Category",Ext.chart.axis.Axis,{alternateClassName:"Ext.chart.CategoryAxis",categoryNames:null,calculateCategoryCount:!1,doConstrain:function(){var a,b=this,c=b.chart,d=c.getChartStore(),e=d.data.items,f=c.series.items,g=f.length,h=[];for(a=0;g>a;a++)if("bar"===f[a].type&&f[a].stacked)return;for(a=b.minimum;a<b.maximum;a++)h.push(e[a]);c.setSubStore(new Ext.data.Store({model:d.model,data:h}))},setLabels:function(){var a,b,c,d,e,f,g=this.chart.getChartStore(),h=g.data.items,i=this.fields,j=i.length;for(d=this.labels=[],a=0,b=h.length;b>a;a++)for(c=h[a],f=0;j>f;f++)e=c.get(i[f]),d.push(e)},applyData:function(){this.callParent(),this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}},0,0,0,0,["axis.category"],0,[Ext.chart.axis,"Category",Ext.chart,"CategoryAxis"],0),Ext.cmd.derive("Ext.chart.axis.Gauge",Ext.chart.axis.Abstract,{position:"gauge",drawAxis:function(){var a,b,c=this.chart,d=c.surface,e=c.chartBBox,f=e.x+e.width/2,g=e.y+e.height,h=this.margin||10,i=Math.min(e.width,2*e.height)/2+h,j=[],k=this.steps,l=Math.PI,m=Math.cos,n=Math.sin;if(this.sprites&&!c.resizing)return void this.drawLabel();if(this.margin>=0)if(this.sprites)for(j=this.sprites,b=0;k>=b;b++)j[b].setAttributes({path:["M",f+(i-h)*m(b/k*l-l),g+(i-h)*n(b/k*l-l),"L",f+i*m(b/k*l-l),g+i*n(b/k*l-l),"Z"],stroke:"#ccc"},!0);else for(b=0;k>=b;b++)a=d.add({type:"path",path:["M",f+(i-h)*m(b/k*l-l),g+(i-h)*n(b/k*l-l),"L",f+i*m(b/k*l-l),g+i*n(b/k*l-l),"Z"],stroke:"#ccc"}),a.setAttributes({hidden:!1},!0),j.push(a);this.sprites=j,this.drawLabel(),this.title&&this.drawTitle()},drawTitle:function(){var a,b=this,c=b.chart,d=c.surface,e=c.chartBBox,f=b.titleSprite;f||(b.titleSprite=f=d.add(Ext.apply({type:"text",zIndex:2},b.axisTitleStyle,b.labelTitle))),f.setAttributes(Ext.apply({text:b.title},b.label||{}),!0),a=f.getBBox(),f.setAttributes({x:e.x+e.width/2-a.width/2,y:e.y+e.height-a.height/2-4},!0)},setTitle:function(a){this.title=a,this.drawTitle()},drawLabel:function(){var a,b,c=this.chart,d=c.surface,e=c.chartBBox,f=e.x+e.width/2,g=e.y+e.height,h=this.margin||10,i=Math.min(e.width,2*e.height)/2+2*h,j=Math.round,k=[],l=this.maximum||0,m=this.minimum||0,n=this.steps,o=0,p=Math.PI,q=Math.cos,r=Math.sin,s=this.label,t=s.renderer||Ext.identityFn;
if(this.labelArray)for(k=this.labelArray,o=0;n>=o;o++)b=0===o||o===n?7:0,k[o].setAttributes({text:t(j(m+o/n*(l-m))),x:f+i*q(o/n*p-p),y:g+i*r(o/n*p-p)-b},!0);else for(o=0;n>=o;o++)b=0===o||o===n?7:0,a=d.add({type:"text",text:t(j(m+o/n*(l-m))),x:f+i*q(o/n*p-p),y:g+i*r(o/n*p-p)-b,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"}),a.setAttributes({hidden:!1},!0),k.push(a);this.labelArray=k}},0,0,0,0,["axis.gauge"],0,[Ext.chart.axis,"Gauge"],0),Ext.cmd.derive("Ext.chart.axis.Numeric",Ext.chart.axis.Axis,{alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:!0,constructor:function(a){var b,c=this,d=!(!a.label||!a.label.renderer);c.callParent([a]),b=c.label,null==a.constrain&&(c.constrain=null!=a.minimum&&null!=a.maximum),d||(b.renderer=function(a){return c.roundToDecimal(a,c.decimals)})},roundToDecimal:function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c},minimum:0/0,maximum:0/0,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=h.getChartStore(),j=i.data.items,k=(h.series.items,g.fields),l=k.length,m=g.calcEnds(),n=m.from,o=m.to,p=[];for(a=0,b=j.length;b>a;a++){for(f=!0,c=j[a],d=0;l>d;d++){if(e=c.get(k[d]),"Time"==g.type&&"string"==typeof e&&(e=Date.parse(e)),+n>+e){f=!1;break}if(+e>+o){f=!1;break}}f&&p.push(c)}h.setSubStore(new Ext.data.Store({model:i.model,data:p}))},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var a,b,c=this,d=c.chart,e=d.series.items;for(a=0,b=e.length;b>a;a++)if(e[a].stacked){delete c.minimum,delete c.maximum,c.constrain=!1;break}c.constrain&&c.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}},1,0,0,0,["axis.numeric"],0,[Ext.chart.axis,"Numeric",Ext.chart,"NumericAxis"],0),Ext.cmd.derive("Ext.chart.axis.Radial",Ext.chart.axis.Numeric,{position:"radial",drawAxis:function(){var a,b,c,d=this.chart,e=d.surface,f=d.chartBBox,g=d.getChartStore(),h=g.getCount(),i=f.x+f.width/2,j=f.y+f.height/2,k=Math.min(f.width,f.height)/2,l=[],m=this.steps,n=2*Math.PI,o=Math.cos,p=Math.sin;if(this.sprites&&!d.resizing)return void this.drawLabel();if(this.sprites){for(l=this.sprites,b=0;m>b;b++)l[b].setAttributes({x:i,y:j,radius:Math.max(k*(b+1)/m,0),stroke:"#ccc"},!0);for(c=0;h>c;c++)l[b+c].setAttributes({path:["M",i,j,"L",i+k*o(c/h*n),j+k*p(c/h*n),"Z"],stroke:"#ccc"},!0)}else{for(b=1;m>=b;b++)a=e.add({type:"circle",x:i,y:j,radius:Math.max(k*b/m,0),stroke:"#ccc"}),a.setAttributes({hidden:!1},!0),l.push(a);for(b=0;h>b;b++)a=e.add({type:"path",path:["M",i,j,"L",i+k*o(b/h*n),j+k*p(b/h*n),"Z"],stroke:"#ccc"}),a.setAttributes({hidden:!1},!0),l.push(a)}this.sprites=l,this.drawLabel()},drawLabel:function(){var a,b,c,d,e,f,g,h,i,j=this.chart,k=j.series.items,l=j.surface,m=j.chartBBox,n=j.getChartStore(),o=n.data.items,p=m.x+m.width/2,q=m.y+m.height/2,r=Math.min(m.width,m.height)/2,s=Math.max,t=Math.round,u=[],v=[],w=[],x=!this.maximum,y=this.maximum||0,z=this.steps,A=0,B=2*Math.PI,C=Math.cos,D=Math.sin,E=this.label.display,F="none"!==E,G=10;if(F){for(A=0,b=k.length;b>A;A++)a=k[A],v.push(a.yField),f=a.xField;for(g=0,b=o.length;b>g;g++)if(c=o[g],w.push(c.get(f)),x)for(A=0,e=v.length;e>A;A++)y=s(+c.get(v[A]),y);if(this.labelArray){if(u=this.labelArray,"categories"!=E)for(A=0;z>A;A++)u[A].setAttributes({text:t((A+1)/z*y),x:p,y:q-r*(A+1)/z,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=E)for(g=0,z=w.length;z>g;g++)h=C(g/z*B)*(r+G),i=D(g/z*B)*(r+G),u[A+g]&&u[A+g].setAttributes({type:"text",text:w[g],x:p+h,y:q+i,"text-anchor":.001>=h*h?"middle":0>h?"end":"start"},!0)}else{if("categories"!=E)for(A=1;z>=A;A++)d=l.add({type:"text",text:t(A/z*y),x:p,y:q-r*A/z,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),d.setAttributes({hidden:!1},!0),u.push(d);if("scale"!=E)for(g=0,z=w.length;z>g;g++)h=C(g/z*B)*(r+G),i=D(g/z*B)*(r+G),d=l.add({type:"text",text:w[g],x:p+h,y:q+i,"text-anchor":.001>=h*h?"middle":0>h?"end":"start"}),d.setAttributes({hidden:!1},!0),u.push(d)}this.labelArray=u}},getRange:function(){var a=this.callParent();return a.min=0,a},processView:function(){var a,b,c,d,e=this,f=e.chart.series.items,g=[];for(a=0,b=f.length;b>a;a++)c=f[a],g.push(c.yField);e.fields=g,d=e.calcEnds(),e.maximum=d.to,e.steps=d.steps}},0,0,0,0,["axis.radial"],0,[Ext.chart.axis,"Radial"],0),Ext.cmd.derive("Ext.chart.axis.Time",Ext.chart.axis.Numeric,{alternateClassName:"Ext.chart.TimeAxis",type:"Time",dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(a){var b,c,d,e=this;e.callParent([a]),b=e.label||{},d=this.dateFormat,d&&(b.renderer?(c=b.renderer,b.renderer=function(a){return a=c(a),Ext.Date.format(new Date(c(a)),d)}):b.renderer=function(a){return Ext.Date.format(new Date(a>>0),d)})},processView:function(){var a=this;a.fromDate&&(a.minimum=+a.fromDate),a.toDate&&(a.maximum=+a.toDate),a.constrain&&a.doConstrain()},calcEnds:function(){var a,b=this,c=b.step;return c?(a=b.getRange(),a=Ext.draw.Draw.snapEndsByDateAndStep(new Date(a.min),new Date(a.max),Ext.isNumber(c)?[Date.MILLI,c]:c),b.minimum&&(a.from=b.minimum),b.maximum&&(a.to=b.maximum),a):b.callParent(arguments)}},1,0,0,0,["axis.time"],0,[Ext.chart.axis,"Time",Ext.chart,"TimeAxis"],0),Ext.cmd.derive("Ext.chart.series.Series",Ext.Base,{type:null,title:null,showInLegend:!0,renderer:function(a,b,c){return c},shadowAttributes:null,animating:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(a){var b=this;a&&Ext.apply(b,a),b.shadowGroups=[],b.mixins.labels.constructor.call(b,a),b.mixins.highlights.constructor.call(b,a),b.mixins.tips.constructor.call(b,a),b.mixins.callouts.constructor.call(b,a),b.addEvents({scope:b,itemclick:!0,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),b.mixins.observable.constructor.call(b,a),b.on({scope:b,itemmouseover:b.onItemMouseOver,itemmouseout:b.onItemMouseOut,mouseleave:b.onMouseLeave}),b.style&&Ext.apply(b.seriesStyle,b.style)},onRedraw:Ext.emptyFn,eachRecord:function(a,b){var c=this.chart;c.getChartStore().each(a,b)},getRecordCount:function(){var a=this.chart,b=a.getChartStore();return b?b.getCount():0},isExcluded:function(a){var b=this.__excludes;return!(!b||!b[a])},setBBox:function(a){var b,c,d=this,e=d.chart,f=e.chartBBox,g=a?{left:0,right:0,bottom:0,top:0}:e.maxGutters;b={x:f.x,y:f.y,width:f.width,height:f.height},d.clipBox=b,c={x:b.x+g.left-e.zoom.x*e.zoom.width,y:b.y+g.bottom-e.zoom.y*e.zoom.height,width:(b.width-(g.left+g.right))*e.zoom.width,height:(b.height-(g.bottom+g.top))*e.zoom.height},d.bbox=c},onAnimate:function(a,b){var c=this;return a.stopAnimation(),c.animating?a.animate(Ext.applyIf(b,c.chart.animate)):(c.animating=!0,a.animate(Ext.apply(Ext.applyIf(b,c.chart.animate),{callback:function(){c.animating=!1,c.fireEvent("afterrender")}})))},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(a){var b=this;a.series===b&&(b.highlight&&b.highlightItem(a),b.tooltip&&b.showTip(a))},onItemMouseOut:function(a){var b=this;a.series===b&&(b.unHighlightItem(),b.tooltip&&b.hideTip(a))},onMouseLeave:function(){var a=this;a.unHighlightItem(),a.tooltip&&a.hideTip()},getItemForPoint:function(a,b){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var c,d,e=this,f=e.items,g=e.bbox;if(!Ext.draw.Draw.withinBox(a,b,g))return null;for(c=0,d=f.length;d>c;c++)if(f[c]&&this.isItemInPoint(a,b,f[c],c))return f[c];return null},isItemInPoint:function(){return!1},hideAll:function(){var a,b,c,d,e,f,g,h=this,i=h.items;for(h.seriesIsHidden=!0,h._prevShowMarkers=h.showMarkers,h.showMarkers=!1,h.hideLabels(0),c=0,b=i.length;b>c;c++)if(a=i[c],f=a.sprite,f&&f.setAttributes({hidden:!0},!0),f&&f.shadows)for(g=f.shadows,d=0,e=g.length;e>d;++d)g[d].setAttributes({hidden:!0},!0)},showAll:function(){var a=this,b=a.chart.animate;a.chart.animate=!1,a.seriesIsHidden=!1,a.showMarkers=a._prevShowMarkers,a.drawSeries(),a.chart.animate=b},hide:function(){if(this.items){var a,b,c,d,e,f=this,g=f.items;if(g&&g.length){for(a=0,d=g.length;d>a;++a)if(g[a].sprite&&(g[a].sprite.hide(!0),e=g[a].shadows||g[a].sprite.shadows))for(b=0,c=e.length;c>b;++b)e[b].hide(!0);f.hideLabels()}}},getLegendColor:function(){var a,b,c=this;if(c.seriesStyle){if(a=c.seriesStyle.fill,b=c.seriesStyle.stroke,a&&"none"!=a)return a;if(b)return b}return c.colorArrayStyle?c.colorArrayStyle[c.themeIdx%c.colorArrayStyle.length]:"#000"},visibleInLegend:function(a){var b=this.__excludes;return b?!b[a]:!this.seriesIsHidden},setTitle:function(a,b){var c=this,d=c.title;Ext.isString(a)&&(b=a,a=0),Ext.isArray(d)?d[a]=b:c.title=b,c.fireEvent("titlechange",b,a)}},1,0,0,0,0,[["observable",Ext.util.Observable],["labels",Ext.chart.Label],["highlights",Ext.chart.Highlight],["tips",Ext.chart.Tip],["callouts",Ext.chart.Callout]],[Ext.chart.series,"Series"],0),Ext.cmd.derive("Ext.chart.series.Cartesian",Ext.chart.series.Series,{alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var a,b,c,d,e,f,g,h=this,i=[],j=h.combinations;for(a=[].concat(h.yField),b=0,c=a.length;c>b;b++)d=h.title,i.push((Ext.isArray(d)?d[b]:d)||a[b]);if(j)for(j=Ext.Array.from(j),b=0,c=j.length;c>b;b++)e=j[b],f=i[e[0]],g=i[e[1]],i[e[1]]=f+" & "+g,i.splice(e[0],1);return i},eachYValue:function(a,b,c){var d,e,f,g=this,h=g.getYValueAccessors();for(d=0,e=h.length;e>d;d++)f=h[d],b.call(c,f(a),d)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(a,b){var c=this,d=c.getYValueAccessors(),e=d[a],f=d[b];d[b]=function(a){return e(a)+f(a)},d.splice(a,1),c.callParent([a,b])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var a,b,c,d,e=this,f=e.yValueAccessors;if(!f)for(f=e.yValueAccessors=[],a=[].concat(e.yField),c=0,d=a.length;d>c;c++)b=a[c],f.push(function(a){return a.get(b)});return f},getMinMaxXValues:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=h.getChartStore(),j=i.data.items,k=g.getRecordCount(),l=g.xField;if(k>0){for(d=1/0,e=-d,a=0,b=j.length;b>a;a++)c=j[a],f=c.get(l),f>e&&(e=f),d>f&&(d=f);1/0==d&&(d=0),e==-1/0&&(e=k-1)}else d=e=0;return[d,e]},getMinMaxYValues:function(){function a(a,b){j.isExcluded(b)||(0>a?i+=a:h+=a)}function b(a,b){j.isExcluded(b)||(a>g&&(g=a),f>a&&(f=a))}var c,d,e,f,g,h,i,j=this,k=j.chart,l=k.getChartStore(),m=l.data.items,n=j.getRecordCount(),o=j.stacked;if(n>0){for(f=1/0,g=-f,c=0,d=m.length;d>c;c++)e=m[c],o?(h=0,i=0,j.eachYValue(e,a),h>g&&(g=h),f>i&&(f=i)):j.eachYValue(e,b);1/0==f&&(f=0),g==-1/0&&(g=n-1)}else f=g=0;return[f,g]},getAxesForXAndYFields:function(){var a,b,c,d,e,f,g=this,h=g.chart.axes,i=[].concat(g.axis),j={},k=[].concat(g.yField),l={},m=[].concat(g.xField);if(f="bar"===g.type&&g.column===!1,f&&(a=k,k=m,m=a),Ext.Array.indexOf(i,"top")>-1)b="top";else if(Ext.Array.indexOf(i,"bottom")>-1)b="bottom";else if(h.get("top")&&h.get("bottom")){for(d=0,e=m.length;e>d;d++)l[m[d]]=!0;for(a=[].concat(h.get("bottom").fields),d=0,e=a.length;e>d;d++)if(l[a[d]]){b="bottom";break}for(a=[].concat(h.get("top").fields),d=0,e=a.length;e>d;d++)if(l[a[d]]){b="top";break}}else h.get("top")?b="top":h.get("bottom")&&(b="bottom");if(Ext.Array.indexOf(i,"left")>-1)c="left";else if(Ext.Array.indexOf(i,"right")>-1)c="right";else if(h.get("left")&&h.get("right")){for(d=0,e=k.length;e>d;d++)j[k[d]]=!0;for(a=[].concat(h.get("right").fields),d=0,e=a.length;e>d&&!j[a[d]];d++);for(a=[].concat(h.get("left").fields),d=0,e=a.length;e>d;d++)if(j[a[d]]){c="left";break}}else h.get("left")?c="left":h.get("right")&&(c="right");return f?{xAxis:c,yAxis:b}:{xAxis:b,yAxis:c}}},0,0,0,0,0,0,[Ext.chart.series,"Cartesian",Ext.chart,"CartesianSeries",Ext.chart,"CartesianChart"],0),Ext.cmd.derive("Ext.chart.series.Area",Ext.chart.series.Cartesian,{type:"area",stacked:!0,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface;a.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg),Ext.apply(b,a,{__excludes:[]}),b.highlight&&(b.highlightSprite=c.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),b.group=c.getGroup(b.seriesId)},shrink:function(a,b,c){var d,e,f=a.length,g=Math.floor(f/c),h=0,i=this.areas.length,j=[],k=[],l=[];for(e=0;i>e;++e)j[e]=0;for(d=0;f>d;++d){for(h+=+a[d],e=0;i>e;++e)j[e]+=+b[d][e];if(d%g==0){for(k.push(h/g),e=0;i>e;++e)j[e]/=g;for(l.push(j),h=0,e=0,j=[];i>e;++e)j[e]=0}}return{x:k,y:l}},getBounds:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this,s=r.chart,t=s.getChartStore(),u=t.data.items,v=[].concat(r.yField),w=v.length,x=[],y=[],z=1/0,A=z,B=z,C=-z,D=-z,E=Math,F=(E.min,E.max,r.getAxesForXAndYFields()),G=F.xAxis,H=F.yAxis;for(r.setBBox(),g=r.bbox,(q=s.axes.get(G))&&("Time"===q.type&&(e=!0),d=q.applyData(),A=d.from,C=d.to),(q=s.axes.get(H))&&(d=q.applyData(),B=d.from,D=d.to),r.xField&&!Ext.isNumber(A)&&(q=r.getMinMaxXValues(),e=!0,A=q[0],C=q[1]),r.yField&&!Ext.isNumber(B)&&(q=r.getMinMaxYValues(),B=q[0],D=q[1]),Ext.isNumber(B)||(B=0),Ext.isNumber(D)||(D=0),b=u.length,b>0&&e&&(f=u[0].get(r.xField),"number"!=typeof f&&(f=+f,isNaN(f)&&(e=!1))),a=0;b>a;a++){for(c=u[a],j=c.get(r.xField),k=[],"number"!=typeof j&&(j=e?+j:a),x.push(j),m=0,l=0;w>l;l++)r.__excludes[l]||(p=c.get(v[l]),"number"==typeof p&&k.push(p));y.push(k)}return h=g.width/(C-A||1),i=g.height/(D-B||1),n=x.length,n>g.width&&r.areas&&(o=r.shrink(x,y,g.width),x=o.x,y=o.y),{bbox:g,minX:A,minY:B,xValues:x,yValues:y,xScale:h,yScale:i,areasLen:w}},getPaths:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=n.chart,p=(o.getChartStore(),!0),q=n.getBounds(),r=q.bbox,s=n.items=[],t=[],u=0,v=[];for(c=q.xValues.length,b=0;c>b;b++)for(f=q.xValues[b],g=q.yValues[b],d=r.x+(f-q.minX)*q.xScale,void 0===m&&(m=d),h=0,u=0,i=0;i<q.areasLen;i++)n.__excludes[i]||(t[i]||(t[i]=[]),k=g[u],h+=k,e=r.y+r.height-(h-q.minY)*q.yScale,v[i]?(v[i].push("L",d,e),t[i].push(["L",d,e])):(v[i]=["M",d,e],t[i].push(["L",d,e])),s[i]||(s[i]={pointsUp:[],pointsDown:[],series:n}),s[i].pointsUp.push([d,e]),u++);for(i=0;i<q.areasLen;i++)if(!n.__excludes[i]){if(l=v[i],0==i||p)p=!1,l.push("L",d,r.y+r.height,"L",m,r.y+r.height,"Z");else{for(a=t[j],a.reverse(),l.push("L",d,a[0][2]),b=0;c>b;b++)l.push(a[b][0],a[b][1],a[b][2]),s[i].pointsDown[c-b-1]=[a[b][1],a[b][2]];l.push("L",m,l[2],"Z")}j=i}return{paths:v,areasLen:q.areasLen}},drawSeries:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=h.getChartStore(),j=h.surface,k=h.animate,l=g.group,m=Ext.apply(g.seriesStyle,g.style),n=g.colorArrayStyle,o=n&&n.length||0,p=g.themeIdx;if(g.unHighlightItem(),g.cleanHighlights(),!i||!i.getCount()||g.seriesIsHidden)return g.hide(),void(g.items=[]);for(c=g.getPaths(),g.areas||(g.areas=[]),a=0;a<c.areasLen;a++)g.__excludes[a]||(f=p+a,g.areas[a]||(g.items[a].sprite=g.areas[a]=j.add(Ext.apply({},{type:"path",group:l,path:c.paths[a],stroke:m.stroke||n[f%o],fill:n[f%o]},m||{}))),b=g.areas[a],d=c.paths[a],k?(e=g.renderer(b,!1,{path:d,fill:n[a%o],stroke:m.stroke||n[a%o]},a,i),g.animation=g.onAnimate(b,{to:e})):(e=g.renderer(b,!1,{path:d,hidden:!1,fill:n[f%o],stroke:m.stroke||n[f%o]},a,i),g.areas[a].setAttributes(e,!0)));g.renderLabels(),g.renderCallouts()},onAnimate:function(a){return a.show(),this.callParent(arguments)},onCreateLabel:function(a,b){return null},onPlaceLabel:function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.chart,m=l.resizing,n=k.label,o=n.renderer,p=n.field,q=k.bbox,r=Number(c.point[d][0]),s=Number(c.point[d][1]);a.setAttributes({text:o(b.get(p[g]),a,b,c,d,e,f,g),hidden:!0},!0),h=a.getBBox(),i=h.width/2,j=h.height/2,r<q.x+i?r=q.x+i:r+i>q.x+q.width&&(r=q.x+q.width-i),s-=j,s<q.y+j?s+=2*j:s+j>q.y+q.height&&(s-=2*j),k.chart.animate&&!k.chart.resizing?(a.show(!0),k.onAnimate(a,{to:{x:r,y:s}})):(a.setAttributes({x:r,y:s},!0),m&&k.animation?k.animation.on("afteranimate",function(){a.show(!0)}):a.show(!0))},onPlaceCallout:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r=this,s=r.chart,t=(s.surface,s.resizing,r.callouts,r.items),u=0==d?!1:t[d-1].point,v=d==t.length-1?!1:t[d+1].point,w=c.point,x=a&&a.label?a.label.getBBox():{width:0,height:0},y=30,z=3,A=r.clipRect;if(x.width&&x.height){u||(u=w),v||(v=w),h=(v[1]-u[1])/(v[0]-u[0]),i=(w[1]-u[1])/(w[0]-u[0]),j=(v[1]-w[1])/(v[0]-w[0]),f=Math.sqrt(1+h*h),e=[1/f,h/f],g=[-e[1],e[0]],i>0&&0>j&&g[1]<0||0>i&&j>0&&g[1]>0?(g[0]*=-1,g[1]*=-1):(Math.abs(i)<Math.abs(j)&&g[0]<0||Math.abs(i)>Math.abs(j)&&g[0]>0)&&(g[0]*=-1,g[1]*=-1),p=w[0]+g[0]*y,q=w[1]+g[1]*y,k=p+(g[0]>0?0:-(x.width+2*z)),l=q-x.height/2-z,m=x.width+2*z,n=x.height+2*z,(k<A[0]||k+m>A[0]+A[2])&&(g[0]*=-1),(l<A[1]||l+n>A[1]+A[3])&&(g[1]*=-1),p=w[0]+g[0]*y,q=w[1]+g[1]*y,k=p+(g[0]>0?0:-(x.width+2*z)),l=q-x.height/2-z,m=x.width+2*z,n=x.height+2*z,a.lines.setAttributes({path:["M",w[0],w[1],"L",p,q,"Z"]},!0),a.box.setAttributes({x:k,y:l,width:m,height:n},!0),a.label.setAttributes({x:p+(g[0]>0?z:-(x.width+z)),y:q},!0);for(o in a)a[o].show(!0)}},isItemInPoint:function(a,b,c,d){var e,f,g,h=this,i=c.pointsUp,j=c.pointsDown,k=Math.abs,l=!1,m=!1,n=1/0;for(e=0,f=i.length;f>e;e++)if(g=[i[e][0],i[e][1]],l=!1,m=e==f-1,n>k(a-g[0])&&(n=k(a-g[0]),l=!0,m&&++e),!l||l&&m){if(g=i[e-1],b>=g[1]&&(!j.length||b<=j[e-1][1]))return c.storeIndex=e-1,c.storeField=h.yField[d],c.storeItem=h.chart.getChartStore().getAt(e-1),c._points=j.length?[g,j[e-1]]:[g],!0;break}return!1},highlightSeries:function(){var a,b,c;void 0!==this._index&&(a=this.areas[this._index],a.__highlightAnim&&(a.__highlightAnim.paused=!0),a.__highlighted=!0,a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1,a.__prevFill=a.__prevFill||a.attr.fill,a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth,c=Ext.draw.Color.fromString(a.__prevFill),b={lineWidth:(a.__prevLineWidth||0)+2},c?b.fill=c.getLighter(.2).toString():b.opacity=Math.max(a.__prevOpacity-.3,0),this.chart.animate?a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:b},this.chart.animate)):a.setAttributes(b,!0))},unHighlightSeries:function(){var a;void 0!==this._index&&(a=this.areas[this._index],a.__highlightAnim&&(a.__highlightAnim.paused=!0),a.__highlighted&&(a.__highlighted=!1,a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})))},highlightItem:function(a){var b,c,d=this;return a?(b=a._points,c=2==b.length?["M",b[0][0],b[0][1],"L",b[1][0],b[1][1]]:["M",b[0][0],b[0][1],"L",b[0][0],d.bbox.y+d.bbox.height],void d.highlightSprite.setAttributes({path:c,hidden:!1},!0)):void this.highlightSeries()},unHighlightItem:function(a){a||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0,b.__excludes[a]=!0,b.areas[a].hide(!0),b.redraw()},showAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0,b.__excludes[a]=!1,b.areas[a].show(!0),b.redraw()},redraw:function(){var a,b=this;a=b.chart.legend.rebuild,b.chart.legend.rebuild=!1,b.chart.redraw(),b.chart.legend.rebuild=a},hide:function(){if(this.areas){var a,b,c=this,d=c.areas;if(d&&d.length){for(a=0,b=d.length;b>a;++a)d[a]&&d[a].hide(!0);c.hideLabels()}}},getLegendColor:function(a){var b=this;return a+=b.themeIdx,b.colorArrayStyle[a%b.colorArrayStyle.length]}},1,0,0,0,["series.area"],0,[Ext.chart.series,"Area"],0),Ext.cmd.derive("Ext.chart.series.Bar",Ext.chart.series.Cartesian,{alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],type:"bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart.surface,f=d.chart.shadow;if(a.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg),Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),d.group=e.getGroup(d.seriesId+"-bars"),f)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(e.getGroup(d.seriesId+"-shadows"+b))},getPadding:function(){var a=this,b=a.xPadding,c=a.yPadding,d={};return Ext.isNumber(b)?(d.left=b,d.right=b):Ext.isObject(b)?(d.left=b.left,d.right=b.right):(d.left=0,d.right=0),d.width=d.left+d.right,Ext.isNumber(c)?(d.bottom=c,d.top=c):Ext.isObject(c)?(d.bottom=c.bottom,d.top=c.top):(d.bottom=0,d.top=0),d.height=d.bottom+d.top,d},getBarGirth:function(){var a,b,c=this,d=c.chart.getChartStore(),e=c.column,f=d.getCount(),g=c.gutter/100;return c.style&&c.style.width?c.style.width:(a=c.getPadding(),b=e?"width":"height",(c.chart.chartBBox[b]-a[b])/(f*(g+1)-g))},getGutters:function(){var a=this,b=a.column,c=a.getPadding(),d=a.getBarGirth()/2,e=Math.ceil((b?c.left:c.bottom)+d),f=Math.ceil((b?c.right:c.top)+d);return{lower:e,upper:f,verticalAxis:!b}},getBounds:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=this,z=y.chart,A=z.getChartStore(),B=A.data.items,C=[].concat(y.yField),D=C.length,E=D,F=y.groupGutter/100,G=y.column,H=y.getPadding(),I=y.stacked,J=y.getBarGirth(),K=G?"width":"height",L=Math,M=L.min,N=L.max,O=L.abs,P=y.getAxesForXAndYFields(),Q=P.yAxis;if(y.setBBox(!0),m=y.bbox,y.__excludes)for(v=0,t=y.__excludes.length;t>v;v++)y.__excludes[v]&&E--;if(p=z.axes.get(Q),p&&(j=p.applyData(),n=j.from,o=j.to),y.yField&&!Ext.isNumber(n)&&(q=y.getMinMaxYValues(),n=q[0],o=q[1]),Ext.isNumber(n)||(n=0),Ext.isNumber(o)||(o=0),r=(G?m.height-H.height:m.width-H.width)/(o-n),k=J,l=J/((I?1:E)*(F+1)-F),K in y.style&&(l=M(l,y.style[K]),k=l*((I?1:E)*(F+1)-F)),s=G?m.y+m.height-H.bottom:m.x+H.left,I){for(t=[[],[]],a=0,b=B.length;b>a;a++)for(c=B[a],t[0][a]=t[0][a]||0,t[1][a]=t[1][a]||0,v=0;D>v;v++)y.__excludes&&y.__excludes[v]||(u=c.get(C[v]),t[+(u>0)][a]+=O(u));t[+(o>0)].push(O(o)),t[+(n>0)].push(O(n)),x=N.apply(L,t[0]),w=N.apply(L,t[1]),r=(G?m.height-H.height:m.width-H.width)/(w+x),s+=x*r*(G?-1:1)}else 0>n/o&&(s-=n*r*(G?-1:1));if(y.boundColumn)for(p=z.axes.get(P.xAxis),p&&(j=p.applyData(),e=j.from,f=j.to),y.xField&&!Ext.isNumber(e)&&(q=y.getMinMaxYValues(),e=q[0],f=q[1]),Ext.isNumber(e)||(e=0),Ext.isNumber(f)||(f=0),i=y.getGutters(),g=(m.width-(i.lower+i.upper))/(f-e||1),h=m.x+i.lower,d=[],a=0,b=B.length;b>a;a++)c=B[a],u=c.get(y.xField),d[a]=h+(u-e)*g-l/2;return{bars:C,barsLoc:d,bbox:m,shrunkBarWidth:k,barsLen:D,groupBarsLen:E,barWidth:J,groupBarWidth:l,scale:r,zero:s,padding:H,signed:0>n/o,minY:n,maxY:o}},getPaths:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this,x=w.chart,y=x.getChartStore(),z=y.data.items,A=w.bounds=w.getBounds(),B=w.items=[],C=Ext.isArray(w.yField)?w.yField:[w.yField],D=w.gutter/100,E=w.groupGutter/100,F=x.animate,G=w.column,H=w.group,I=x.shadow,J=w.shadowGroups,K=(w.shadowAttributes,J.length),L=A.bbox,M=A.barWidth,N=A.shrunkBarWidth,O=w.getPadding(),P=w.stacked,Q=A.barsLen,R=w.colorArrayStyle,S=R&&R.length||0,T=w.themeIdx,U=Math,V=U.max,W=(U.min,U.abs);for(a=0,b=z.length;b>a;a++){for(c=z[a],i=A.zero,j=A.zero,g=0,h=0,o=p=0,k=!1,d=0,n=0;Q>d;d++)if(!w.__excludes||!w.__excludes[d]){if(e=c.get(A.bars[d]),e>=0?o+=e:p+=e,f=Math.round((e-V(A.minY,0))*A.scale),v=T+(Q>1?d:0),l={fill:R[v%S]},G?Ext.apply(l,{height:f,width:V(A.groupBarWidth,0),x:w.boundColumn?A.barsLoc[a]:L.x+O.left+.5*(M-N)+a*M*(1+D)+n*A.groupBarWidth*(1+E)*!P,y:i-f}):(t=b-1-a,Ext.apply(l,{height:V(A.groupBarWidth,0),width:f+(i==A.zero),x:i+(i!=A.zero),y:L.y+O.top+.5*(M-N)+t*M*(1+D)+n*A.groupBarWidth*(1+E)*!P+1})),0>f&&(G?(l.y=j,l.height=W(f)):(l.x=j+f,l.width=W(f))),P&&(0>f?j+=f*(G?-1:1):i+=f*(G?-1:1),g+=W(f),0>f&&(h+=W(f))),l.x=Math.floor(l.x)+1,u=Math.floor(l.y),Ext.isIE8m&&l.y>u&&u--,l.y=u,l.width=Math.floor(l.width),l.height=Math.floor(l.height),B.push({series:w,yField:C[d],storeItem:c,value:[c.get(w.xField),e],attr:l,point:G?[l.x+l.width/2,e>=0?l.y:l.y+l.height]:[e>=0?l.x+l.width:l.x,l.y+l.height/2]}),F&&x.resizing){if(m=G?{x:l.x,y:A.zero,width:l.width,height:0}:{x:A.zero,y:l.y,width:0,height:l.height},I&&(P&&!k||!P))for(k=!0,q=0;K>q;q++)r=J[q].getAt(P?a:a*Q+d),r&&r.setAttributes(m,!0);s=H.getAt(a*Q+d),s&&s.setAttributes(m,!0)}n++}P&&B.length&&(B[a*n].totalDim=g,B[a*n].totalNegDim=h,B[a*n].totalPositiveValues=o,B[a*n].totalNegativeValues=p)}if(P&&0==n)for(a=0,b=z.length;b>a;a++)for(q=0;K>q;q++)r=J[q].getAt(a),r&&r.hide(!0)},renderShadows:function(a,b,c,d){var e,f,g,h,i,j,k,l=this,m=l.chart,n=m.surface,o=m.animate,p=l.stacked,q=l.shadowGroups,r=l.shadowAttributes,s=q.length,t=m.getChartStore(),u=l.column,v=l.items,w=[],x=d.zero;if(p&&a%d.groupBarsLen===0||!p)for(j=a/d.groupBarsLen,e=0;s>e;e++)f=Ext.apply({},r[e]),g=q[e].getAt(p?j:a),Ext.copyTo(f,b,"x,y,width,height"),g||(g=n.add(Ext.apply({type:"rect",group:q[e]},Ext.apply({},c,f)))),p&&(h=v[a].totalDim,i=v[a].totalNegDim,u?(f.y=x+i-h-1,f.height=h):(f.x=x-i,f.width=h)),k=l.renderer(g,t.getAt(j),f,a,t),k.hidden=!!b.hidden,o?l.onAnimate(g,{to:k}):g.setAttributes(k,!0),w.push(g);return w},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o=this,p=o.chart,q=p.getChartStore(),r=p.surface,s=p.animate,t=o.stacked,u=o.column,v=p.axes,w=o.getAxesForXAndYFields(),x=w.xAxis,y=(w.yAxis,p.shadow),z=o.shadowGroups,A=z.length,B=o.group,C=o.seriesStyle;if(!q||!q.getCount()||o.seriesIsHidden)return o.hide(),void(o.items=[]);for(k=Ext.apply({},this.style,C),delete k.fill,delete k.x,delete k.y,delete k.width,delete k.height,o.unHighlightItem(),o.cleanHighlights(),o.boundColumn=x&&Ext.Array.contains(o.axis,x)&&v.get(x)&&v.get(x).isNumericAxis,o.getPaths(),j=o.bounds,a=o.items,e=u?{y:j.zero,height:0}:{x:j.zero,width:0},b=a.length,c=0;b>c;c++){if(f=B.getAt(c),l=a[c].attr,y&&(a[c].shadows=o.renderShadows(c,l,e,j)),f||(m=Ext.apply({},e,l),m=Ext.apply(m,k||{}),f=r.add(Ext.apply({},{type:"rect",group:B},m))),s){if(g=o.renderer(f,q.getAt(c),l,c,q),f._to=g,n=o.onAnimate(f,{to:Ext.apply(g,k)}),y&&t&&c%j.barsLen===0)for(d=c/j.barsLen,h=0;A>h;h++)n.on("afteranimate",function(){this.show(!0)},z[h].getAt(d))}else g=o.renderer(f,q.getAt(c),Ext.apply(l,{hidden:!1}),c,q),f.setAttributes(Ext.apply(g,k),!0);a[c].sprite=f}for(b=B.getCount(),d=c;b>d;d++)B.getAt(d).hide(!0);if(o.stacked&&(c=q.getCount()),y)for(h=0;A>h;h++)for(i=z[h],b=i.getCount(),d=c;b>d;d++)i.getAt(d).hide(!0);o.renderLabels()},onCreateLabel:function(){var a=this,b=a.chart.surface,c=a.labelsGroup,d=a.label,e=Ext.apply({},d,a.seriesLabelStyle||{});return b.add(Ext.apply({type:"text",group:c},e||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){{var h,i,j,k,l,m,n,o=this,p=o.bounds,q=p.groupBarWidth,r=o.column,s=o.chart,t=s.chartBBox,u=s.resizing,v=(c.value[0],c.value[1]),w=c.attr,x=o.label,y=o.stacked,z=x.stackedDisplay,A="vertical"==x.orientation,B=[].concat(x.field),C=x.renderer,D=p.zero,E="insideStart",F="insideEnd",G="outside",H="over",I="under",J=4,K=2;p.signed}if(e==E||e==F||e==G){if(y&&e==G)return void a.hide(!0);if(a.setAttributes({style:void 0}),h=Ext.isNumber(g)?C(b.get(B[g]),a,b,c,d,e,f,g):"",a.setAttributes({text:h}),i=o.getLabelSize(h,a.attr.style),j=i.width,k=i.height,r){if(!j||!k||y&&w.height<k)return void a.hide(!0);if(l=w.x+(A?q/2:(q-j)/2),e==G){var L=v>=0?w.y-t.y:t.y+t.height-w.y-w.height;k+K>L&&(e=F)}if(y||e==G||k+K>w.height&&(e=G),!m)if(m=w.y,v>=0)switch(e){case E:m+=w.height+(A?-K:-k/2);break;case F:m+=A?k+J:k/2;break;case G:m+=A?-K:-k/2}else switch(e){case E:m+=A?k+K:k/2;break;case F:m+=A?w.height-K:w.height-k/2;break;case G:m+=A?w.height+k+K:w.height+k/2}}else{if(!j||!k||y&&!w.width)return void a.hide(!0);if(m=w.y+(A?(q+k)/2:q/2),e==G){var L=v>=0?t.x+t.width-w.x-w.width:w.x-t.x;j+J>L&&(e=F)}if(e!=G&&!A&&j+J>w.width)if(y){if(k>w.width)return void a.hide(!0);l=w.x+w.width/2,m=w.y+w.height-(w.height-j)/2,A=!0}else e=G;if(!l)if(l=w.x,v>=0)switch(e){case E:l+=A?j/2:J;break;case F:l+=w.width+(A?-j/2:-j-J);break;case G:l+=w.width+(A?j/2:J)}else switch(e){case E:l+=w.width+(A?-j/2:-j-J);break;case F:l+=A?j/2:J;break;case G:l+=A?-j/2:-j-J}}}else if((e==H||e==I)&&y&&z)switch(h=a.attr.text,a.setAttributes({style:Ext.applyIf(a.attr&&a.attr.style||{},{"font-weight":"bold","font-size":"14px"})}),i=o.getLabelSize(h,a.attr.style),j=i.width,k=i.height,e){case H:r?(l=w.x+(A?q/2:(q-j)/2),m=D-(c.totalDim-c.totalNegDim)-k/2-K):(l=D+(c.totalDim-c.totalNegDim)+J,m=w.y+(A?(q+k)/2:q/2));break;case I:r?(l=w.x+(A?q/2:(q-j)/2),m=D+c.totalNegDim+k/2):(l=D-c.totalNegDim-j-J,m=w.y+(A?(q+k)/2:q/2))}return void 0==l||void 0==m?void a.hide(!0):(a.isOutside=e==G,a.setAttributes({text:h}),n={x:l,y:m},A&&(n.rotate={x:l,y:m,degrees:270}),f&&u&&(r?(l=w.x+w.width/2,m=D):(l=D,m=w.y+w.height/2),a.setAttributes({x:l,y:m},!0),A&&a.setAttributes({rotate:{x:l,y:m,degrees:270}},!0)),void(f?o.onAnimate(a,{to:n}):a.setAttributes(Ext.apply(n,{hidden:!1}),!0)))},getLabelSize:function(a,b){var c,d,e,f=this.testerLabel,g=this.label,h=Ext.apply({},g,b,this.seriesLabelStyle||{}),i="vertical"===g.orientation;return f||(f=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},h))),f.setAttributes({style:b,text:a},!0),c=f.getBBox(),d=c.width,e=c.height,{width:i?e:d,height:i?d:e}},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c){var d=c.sprite.getBBox();return d.x<=a&&d.y<=b&&d.x+d.width>=a&&d.y+d.height>=b},hideAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;for(a=(isNaN(this._index)?a:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[a]=!0,this.drawSeries(),e;d>e;e++)c[e].drawAxis()},showAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;for(a=(isNaN(this._index)?a:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[a]=!1,this.drawSeries(),e;d>e;e++)c[e].drawAxis()},getLegendColor:function(a){var b=this,c=b.colorArrayStyle.length;return b.style&&b.style.fill?b.style.fill:b.colorArrayStyle[a%c]},highlightItem:function(){this.callParent(arguments),this.renderLabels()},unHighlightItem:function(){this.callParent(arguments),this.renderLabels()},cleanHighlights:function(){this.callParent(arguments),this.renderLabels()}},1,0,0,0,["series.bar"],0,[Ext.chart.series,"Bar",Ext.chart,"BarSeries",Ext.chart,"BarChart",Ext.chart,"StackedBarChart"],0),Ext.cmd.derive("Ext.chart.series.Column",Ext.chart.series.Bar,{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],type:"column",column:!0,boundColumn:!1,xPadding:10,yPadding:0},0,0,0,0,["series.column"],0,[Ext.chart.series,"Column",Ext.chart,"ColumnSeries",Ext.chart,"ColumnChart",Ext.chart,"StackedColumnChart"],0),Ext.cmd.derive("Ext.chart.series.Gauge",Ext.chart.series.Series,{type:"gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart,f=e.surface,g=(e.store,e.shadow);if(Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),d.group=f.getGroup(d.seriesId),g)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(f.getGroup(d.seriesId+"-shadows"+b));f.customAttributes.segment=function(a){return d.getSegment(a)}},initialize:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d=a.label,e=c.length;a.yField=[],d&&d.field&&e>0&&a.yField.push(c[0].get(d.field))},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=Math.abs,g=b.centerX,h=b.centerY,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=.01,r=(a.endRho-a.startRho,a.startAngle),s=a.endAngle,t=(r+s)/2*c,u=a.margin||0,v=f(s-r)>180,w=Math.min(r,s)*c,x=Math.max(r,s)*c,y=!1;return g+=u*d(t),h+=u*e(t),i=g+a.startRho*d(w),m=h+a.startRho*e(w),j=g+a.endRho*d(w),n=h+a.endRho*e(w),k=g+a.startRho*d(x),o=h+a.startRho*e(x),l=g+a.endRho*d(x),p=h+a.endRho*e(x),f(i-k)<=q&&f(m-o)<=q&&(y=!0),y?{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+v,1,l,p],["Z"]]}:{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+v,1,l,p],["L",k,o],["A",a.startRho,a.startRho,0,+v,0,i,m],["Z"]]}
},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=(Math.max("rho"in d?d.rho:b.radius,b.label.minMargin),+b.donut,Math.min(g,h)*c),j=Math.max(g,h)*c,k=-(i+(j-i)/2),l=e+(a.endRho+a.startRho)/2*Math.cos(k),m=f-(a.endRho+a.startRho)/2*Math.sin(k);a.middle={x:l,y:m}},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.chart,s=r.getChartStore(),t=q.group,u=q.chart.animate,v=q.chart.axes.get(0),w=v&&v.minimum||q.minimum||0,x=v&&v.maximum||q.maximum||0,y=q.angleField||q.field||q.xField,z=r.surface,A=r.chartBBox,B=(q.rad,+q.donut),C=[],D=q.seriesStyle,E=(q.seriesLabelStyle,q.colorArrayStyle),F=E&&E.length||0,G=Math.cos,H=Math.sin;if(Ext.apply(D,q.style||{}),q.setBBox(),m=q.bbox,q.colorSet&&(E=q.colorSet,F=E.length),!s||!s.getCount()||q.seriesIsHidden)return q.hide(),void(q.items=[]);for(b=q.centerX=A.x+A.width/2,c=q.centerY=A.y+A.height,q.radius=Math.min(b-A.x,c-A.y),q.slices=e=[],q.items=C=[],q.value||(j=s.getAt(0),q.value=j.get(y)),g=q.value,q.needle?(o={series:q,value:g,startAngle:-180,endAngle:0,rho:q.radius},n=-180*(1-(g-w)/(x-w)),e.push(o)):(n=-180*(1-(g-w)/(x-w)),o={series:q,value:g,startAngle:-180,endAngle:n,rho:q.radius},p={series:q,value:q.maximum-g,startAngle:n,endAngle:0,rho:q.radius},e.push(o,p)),k=0,i=e.length;i>k;k++)d=e[k],f=t.getAt(k),a=Ext.apply({segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:d.rho*+B/100,endRho:d.rho}},Ext.apply(D,E&&{fill:E[k%F]}||{})),h=Ext.apply({},a.segment,{slice:d,series:q,storeItem:j,index:k}),C[k]=h,f||(l=Ext.apply({type:"path",group:t},Ext.apply(D,E&&{fill:E[k%F]}||{})),f=z.add(Ext.apply(l,a))),d.sprite=d.sprite||[],h.sprite=f,d.sprite.push(f),u?(a=q.renderer(f,j,a,k,s),f._to=a,q.onAnimate(f,{to:a})):(a=q.renderer(f,j,Ext.apply(a,{hidden:!1}),k,s),f.setAttributes(a,!0));q.needle&&(n=n*Math.PI/180,q.needleSprite?u?q.onAnimate(q.needleSprite,{to:{path:["M",b+q.radius*+B/100*G(n),c+-Math.abs(q.radius*+B/100*H(n)),"L",b+q.radius*G(n),c+-Math.abs(q.radius*H(n))]}}):q.needleSprite.setAttributes({type:"path",path:["M",b+q.radius*+B/100*G(n),c+-Math.abs(q.radius*+B/100*H(n)),"L",b+q.radius*G(n),c+-Math.abs(q.radius*H(n))]}):q.needleSprite=q.chart.surface.add({type:"path",path:["M",b+q.radius*+B/100*G(n),c+-Math.abs(q.radius*+B/100*H(n)),"L",b+q.radius*G(n),c+-Math.abs(q.radius*H(n))],"stroke-width":4,stroke:"#222"}),q.needleSprite.setAttributes({hidden:!1},!0)),delete q.value},setValue:function(a){this.value=a,this.drawSeries()},onCreateLabel:function(){},onPlaceLabel:function(){},onPlaceCallout:function(){},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this,f=e.centerX,g=e.centerY,h=Math.abs,i=h(a-f),j=h(b-g),k=c.startAngle,l=c.endAngle,m=Math.sqrt(i*i+j*j),n=Math.atan2(b-g,a-f)/e.rad;return 0===d&&n>=k&&l>n&&m>=c.startRho&&m<=c.endRho},getLegendColor:function(a){var b=this.colorSet||this.colorArrayStyle;return b[a%b.length]}},1,0,0,0,["series.gauge"],0,[Ext.chart.series,"Gauge"],0),Ext.cmd.derive("Ext.chart.series.Line",Ext.chart.series.Cartesian,{alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],type:"line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart.surface,f=d.chart.shadow;if(a.highlightCfg=Ext.Object.merge({"stroke-width":3},a.highlightCfg),Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),d.group=e.getGroup(d.seriesId),d.showMarkers&&(d.markerGroup=e.getGroup(d.seriesId+"-markers")),f)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(e.getGroup(d.seriesId+"-shadows"+b))},shrink:function(a,b,c){for(var d=a.length,e=Math.floor(d/c),f=1,g=0,h=0,i=[+a[0]],j=[+b[0]];d>f;++f)g+=+a[f]||0,h+=+b[f]||0,f%e==0&&(i.push(g/e),j.push(h/e),g=0,h=0);return{x:i,y:j}},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R=this,S=R.chart,T=S.axes,U=S.getChartStore(),V=U.data.items,W=U.getCount(),X=R.chart.surface,Y={},Z=R.group,$=R.showMarkers,_=R.markerGroup,ab=S.shadow,bb=R.shadowGroups,cb=R.shadowAttributes,db=R.smooth,eb=bb.length,fb=["M"],gb=["M"],hb=["M"],ib=["M"],jb=S.markerIndex,kb=([].concat(R.axis),[]),lb={},mb=[],nb=!1,ob=[],pb=Ext.apply({},R.markerStyle),qb=R.seriesStyle,rb=R.colorArrayStyle,sb=rb&&rb.length||0,tb=Ext.isNumber,ub=(R.seriesIdx,R.getAxesForXAndYFields()),vb=ub.xAxis,wb=ub.yAxis,xb=vb?T.get(vb).type:"",yb=wb?T.get(wb).type:"";if(R.fireEvent("beforedraw",R)!==!1){if(!W||R.seriesIsHidden){if(R.hide(),R.items=[],R.line){if(R.line.hide(!0),R.line.shadows)for(c=R.line.shadows,r=0,eb=c.length;eb>r;r++)d=c[r],d.hide(!0);R.fillPath&&R.fillPath.hide(!0)}return R.line=null,void(R.fillPath=null)}if(J=Ext.apply(pb||{},R.markerConfig,{fill:R.seriesStyle.fill||rb[R.themeIdx%rb.length]}),L=J.type,delete J.type,K=qb,K["stroke-width"]||(K["stroke-width"]=.5),N="opacity"in K?K.opacity:1,Q="opacity"in K?K.opacity:.3,O="lineOpacity"in K?K.lineOpacity:N,P="fillOpacity"in K?K.fillOpacity:Q,jb&&_&&_.getCount())for(q=0;jb>q;q++)v=_.getAt(q),_.remove(v),_.add(v),w=_.getAt(_.getCount()-2),v.setAttributes({x:0,y:0,translate:{x:w.attr.translation.x,y:w.attr.translation.y}},!0);for(R.unHighlightItem(),R.cleanHighlights(),R.setBBox(),Y=R.bbox,R.clipRect=[Y.x,Y.y,Y.width,Y.height],(t=T.get(vb))&&(u=t.applyData(),D=u.from,E=u.to),(t=T.get(wb))&&(u=t.applyData(),F=u.from,G=u.to),R.xField&&!Ext.isNumber(D)&&(t=R.getMinMaxXValues(),D=t[0],E=t[1]),R.yField&&!Ext.isNumber(F)&&(t=R.getMinMaxYValues(),F=t[0],G=t[1]),isNaN(D)?(D=0,B=Y.width/(W-1||1)):B=Y.width/(E-D||W-1||1),isNaN(F)?(F=0,C=Y.height/(W-1||1)):C=Y.height/(G-F||W-1||1),q=0,s=V.length;s>q;q++)a=V[q],y=a.get(R.xField),"Time"==xb&&"string"==typeof y&&(y=Date.parse(y)),("string"==typeof y||"object"==typeof y&&!Ext.isDate(y)||vb&&T.get(vb)&&"Category"==T.get(vb).type)&&(y=y in lb?lb[y]:lb[y]=q),z=a.get(R.yField),"Time"==yb&&"string"==typeof z&&(z=Date.parse(z)),"undefined"==typeof z||"string"==typeof z&&!z||(("string"==typeof z||"object"==typeof z&&!Ext.isDate(z)||wb&&T.get(wb)&&"Category"==T.get(wb).type)&&(z=q),ob.push(q),kb.push(y),mb.push(z));for(s=kb.length,s>Y.width&&(A=R.shrink(kb,mb,Y.width),kb=A.x,mb=A.y),R.items=[],M=0,s=kb.length,q=0;s>q;q++)if(y=kb[q],z=mb[q],z!==!1){if(j=(Y.x+(y-D)*B).toFixed(2),k=(Y.y+Y.height-(z-F)*C).toFixed(2),nb&&(nb=!1,gb.push("M")),gb=gb.concat([j,k]),"undefined"==typeof o&&"undefined"!=typeof k&&(o=k,n=j),(!R.line||S.resizing)&&(fb=fb.concat([j,Y.y+Y.height/2])),S.animate&&S.resizing&&R.line&&(R.line.setAttributes({path:fb,opacity:O},!0),R.fillPath&&R.fillPath.setAttributes({path:fb,opacity:P},!0),R.line.shadows))for(c=R.line.shadows,r=0,eb=c.length;eb>r;r++)d=c[r],d.setAttributes({path:fb},!0);$&&(v=_.getAt(M++),v?(v.setAttributes({value:'"'+y+", "+z+'"',x:0,y:0,hidden:!1},!0),v._to={translate:{x:+j,y:+k}}):(v=Ext.chart.Shape[L](X,Ext.apply({group:[Z,_],x:0,y:0,translate:{x:+(l||j),y:m||Y.y+Y.height/2},value:'"'+y+", "+z+'"',zIndex:4e3},J)),v._to={translate:{x:+j,y:+k}})),R.items.push({series:R,value:[y,z],point:[j,k],sprite:v,storeItem:U.getAt(ob[q])}),l=j,m=k}else 1==gb.length&&(gb=[]),nb=!0,R.items.push(!1);if(!(gb.length<=1)){if(R.smooth&&(ib=Ext.draw.Draw.smooth(gb,tb(db)?db:R.defaultSmoothness)),hb=db?ib:gb,S.markerIndex&&R.previousPath?(f=R.previousPath,db||Ext.Array.erase(f,1,2)):f=gb,!R.line&&(R.line=X.add(Ext.apply({type:"path",group:Z,path:fb,stroke:K.stroke||K.fill},K||{})),R.line.setAttributes({opacity:O},!0),ab&&R.line.setAttributes(Ext.apply({},R.shadowOptions),!0),R.line.setAttributes({fill:"none",zIndex:3e3}),!K.stroke&&sb&&R.line.setAttributes({stroke:rb[R.themeIdx%sb]},!0),ab))for(c=R.line.shadows=[],e=0;eb>e;e++)b=cb[e],b=Ext.apply({},b,{path:fb}),d=X.add(Ext.apply({},{type:"path",group:bb[e]},b)),c.push(d);if(R.fill&&(h=hb.concat([["L",j,Y.y+Y.height],["L",n,Y.y+Y.height],["L",n,o]]),R.fillPath||(R.fillPath=X.add({group:Z,type:"path",fill:K.fill||rb[R.themeIdx%sb],path:fb}))),p=$&&_.getCount(),S.animate){if(g=R.fill,H=R.line,i=R.renderer(H,!1,{path:hb},q,U),Ext.apply(i,K||{},{stroke:K.stroke||K.fill}),delete i.fill,H.show(!0),R.animation=I=S.markerIndex&&R.previousPath?R.onAnimate(H,{to:i,from:{path:f}}):R.onAnimate(H,{to:i}),ab)for(c=H.shadows,r=0;eb>r;r++)c[r].show(!0),S.markerIndex&&R.previousPath?R.onAnimate(c[r],{to:{path:hb},from:{path:f}}):R.onAnimate(c[r],{to:{path:hb}});if(g&&(R.fillPath.show(!0),R.onAnimate(R.fillPath,{to:Ext.apply({},{path:h,fill:K.fill||rb[R.themeIdx%sb],"stroke-width":0,opacity:P},K||{})})),$){for(M=0,q=0;s>q;q++)R.items[q]&&(x=_.getAt(M++),x&&(i=R.renderer(x,U.getAt(q),x._to,q,U),R.onAnimate(x,{to:Ext.applyIf(i,J||{})}),x.show(!0)));for(;p>M;M++)x=_.getAt(M),x.hide(!0)}}else{if(i=R.renderer(R.line,!1,{path:hb,hidden:!1},q,U),Ext.apply(i,K||{},{stroke:K.stroke||K.fill}),delete i.fill,R.line.setAttributes(i,!0),R.line.setAttributes({opacity:O},!0),ab)for(c=R.line.shadows,r=0;eb>r;r++)c[r].setAttributes({path:hb,hidden:!1},!0);if(R.fill&&R.fillPath.setAttributes({path:h,hidden:!1,opacity:P},!0),$){for(M=0,q=0;s>q;q++)R.items[q]&&(x=_.getAt(M++),x&&(i=R.renderer(x,U.getAt(q),x._to,q,U),x.setAttributes(Ext.apply(J||{},i||{}),!0),x.attr.hidden||x.show(!0)));for(;p>M;M++)x=_.getAt(M),x.hide(!0)}}S.markerIndex&&(R.smooth?Ext.Array.erase(gb,1,2):Ext.Array.splice(gb,1,0,gb[1],gb[2]),R.previousPath=gb),R.renderLabels(),R.renderCallouts(),R.fireEvent("draw",R)}}},onCreateLabel:function(a,b){var c=this,d=c.labelsGroup,e=c.label,f=c.bbox,g=Ext.apply({},e,c.seriesLabelStyle||{});return c.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:d,x:Number(b.point[0]),y:f.y+f.height/2},g||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=this,o=n.chart,p=o.resizing,q=n.label,r=q.renderer,s=q.field,t=n.bbox,u=Number(c.point[0]),v=Number(c.point[1]),w=c.sprite.attr.radius;a.setAttributes({text:r(b.get(s),a,b,c,d,e,f,g),hidden:!0},!0),i=c.sprite.getBBox(),i.width=i.width||2*w,i.height=i.height||2*w,h=a.getBBox(),j=h.width/2,k=h.height/2,"rotate"==e?(l=i.width/2+j+k/2,u+l+j>t.x+t.width?u-=l:u+=l,a.setAttributes({rotation:{x:u,y:v,degrees:-45}},!0)):("under"==e||"over"==e)&&(a.setAttributes({rotation:{degrees:0}},!0),u<t.x+j?u=t.x+j:u+j>t.x+t.width&&(u=t.x+t.width-j),m=i.height/2+k,v+="over"==e?-m:m,v<t.y+k?v+=2*m:v+k>t.y+t.height&&(v-=2*m)),n.chart.animate&&!n.chart.resizing?(a.show(!0),n.onAnimate(a,{to:{x:u,y:v}})):(a.setAttributes({x:u,y:v},!0),p&&n.animation?n.animation.on("afteranimate",function(){a.show(!0)}):a.show(!0))},highlightItem:function(){var a=this,b=a.line;a.callParent(arguments),b&&!a.highlighted&&("__strokeWidth"in b||(b.__strokeWidth=parseFloat(b.attr["stroke-width"])||0),b.__anim&&(b.__anim.paused=!0),b.__anim=new Ext.fx.Anim({target:b,to:{"stroke-width":b.__strokeWidth+3}}),a.highlighted=!0)},unHighlightItem:function(){var a,b=this,c=b.line;b.callParent(arguments),c&&b.highlighted&&(a=c.__strokeWidth||parseFloat(c.attr["stroke-width"])||0,c.__anim=new Ext.fx.Anim({target:c,to:{"stroke-width":a}}),b.highlighted=!1)},onPlaceCallout:function(a,b,c,d,e){if(e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.chart,u=(t.surface,t.resizing,s.callouts),v=s.items,w=0==d?!1:v[d-1].point,x=d==v.length-1?!1:v[d+1].point,y=[+c.point[0],+c.point[1]],z=u.offsetFromViz||30,A=(u.offsetToSide||10,u.offsetBox||3),B=s.clipRect,C={width:u.styles.width||10,height:u.styles.height||10};w||(w=y),x||(x=y),i=(x[1]-w[1])/(x[0]-w[0]),j=(y[1]-w[1])/(y[0]-w[0]),k=(x[1]-y[1])/(x[0]-y[0]),g=Math.sqrt(1+i*i),f=[1/g,i/g],h=[-f[1],f[0]],j>0&&0>k&&h[1]<0||0>j&&k>0&&h[1]>0?(h[0]*=-1,h[1]*=-1):(Math.abs(j)<Math.abs(k)&&h[0]<0||Math.abs(j)>Math.abs(k)&&h[0]>0)&&(h[0]*=-1,h[1]*=-1),q=y[0]+h[0]*z,r=y[1]+h[1]*z,l=q+(h[0]>0?0:-(C.width+2*A)),m=r-C.height/2-A,n=C.width+2*A,o=C.height+2*A,(l<B[0]||l+n>B[0]+B[2])&&(h[0]*=-1),(m<B[1]||m+o>B[1]+B[3])&&(h[1]*=-1),q=y[0]+h[0]*z,r=y[1]+h[1]*z,l=q+(h[0]>0?0:-(C.width+2*A)),m=r-C.height/2-A,n=C.width+2*A,o=C.height+2*A,t.animate?(s.onAnimate(a.lines,{to:{path:["M",y[0],y[1],"L",q,r,"Z"]}}),a.panel&&a.panel.setPosition(l,m,!0)):(a.lines.setAttributes({path:["M",y[0],y[1],"L",q,r,"Z"]},!0),a.panel&&a.panel.setPosition(l,m));for(p in a)a[p].show(!0)}},isItemInPoint:function(a,b,c,d){{var e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.items,s=q.selectionTolerance,t=Math.sqrt;Math.abs}return f=r[d],e=d&&r[d-1],d>=i&&(e=r[i-1]),g=e&&e.point,h=f&&f.point,j=e?g[0]:h[0]-s,k=e?g[1]:h[1],l=f?h[0]:g[0]+s,m=f?h[1]:g[1],n=t((a-j)*(a-j)+(b-k)*(b-k)),o=t((a-l)*(a-l)+(b-m)*(b-m)),p=Math.min(n,o),s>=p?p==n?e:f:!1},toggleAll:function(a){var b,c,d,e,f=this;if(a?Ext.chart.series.Cartesian.prototype.showAll.call(f):Ext.chart.series.Cartesian.prototype.hideAll.call(f),f.line&&(f.line.setAttributes({hidden:!a},!0),f.line.shadows))for(b=0,e=f.line.shadows,c=e.length;c>b;b++)d=e[b],d.setAttributes({hidden:!a},!0);f.fillPath&&f.fillPath.setAttributes({hidden:!a},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}},1,0,0,0,["series.line"],0,[Ext.chart.series,"Line",Ext.chart,"LineSeries",Ext.chart,"LineChart"],0),Ext.cmd.derive("Ext.chart.series.Pie",Ext.chart.series.Series,{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],type:"pie",accuracy:1e5,rad:2*Math.PI/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart,f=e.surface,g=(e.store,e.shadow);if(a.highlightCfg=Ext.merge({segment:{margin:20}},a.highlightCfg),Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),d.group=f.getGroup(d.seriesId),g)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(f.getGroup(d.seriesId+"-shadows"+b));f.customAttributes.segment=function(a){var b=d.getSegment(a);return b.path&&0!==b.path.length||(b.path=["M",0,0]),b},d.__excludes=d.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var a,b,c,d=this,e=d.chart.getChartStore(),f=e.data.items;if(d.yField=[],d.label.field)for(a=0,b=f.length;b>a;a++)c=f[a],d.yField.push(c.get(d.label.field))},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=b.centerX,g=b.centerY,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=.01,u=a.startAngle,v=a.endAngle,w=(u+v)/2*c,x=a.margin||0,y=Math.min(u,v)*c,z=Math.max(u,v)*c,A=d(y),B=e(y),C=d(z),D=e(z),E=d(w),F=e(w),G=0;return t>z-y?{path:""}:(0!==x&&(f+=x*E,g+=x*F),i=f+a.endRho*A,m=g+a.endRho*B,k=f+a.endRho*C,o=g+a.endRho*D,r=f+a.endRho*E,s=g+a.endRho*F,0!==a.startRho?(h=f+a.startRho*A,l=g+a.startRho*B,j=f+a.startRho*C,n=g+a.startRho*D,p=f+a.startRho*E,q=g+a.startRho*F,{path:[["M",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",j,n],["A",a.startRho,a.startRho,0,G,0,p,q],["L",p,q],["A",a.startRho,a.startRho,0,0,0,h,l],["L",h,l],["Z"]]}):{path:[["M",f,g],["L",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",f,g],["Z"]]})},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=(+b.donut,-(g+h)*c/2),j=(a.endRho+a.startRho)/2,k=e+j*Math.cos(i),l=f-j*Math.sin(i);a.middle={x:k,y:l}},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=v.chart.getChartStore(),x=w.data.items,y=v.group,z=v.chart.animate,A=v.angleField||v.field||v.xField,B=[].concat(v.lengthField),C=0,D=v.chart,E=D.surface,F=D.chartBBox,G=D.shadow,H=v.shadowGroups,I=v.shadowAttributes,J=H.length,K=B.length,L=0,M=+v.donut,N=[],O=[],P=0,Q=0,R=0,S=v.seriesStyle,T=v.colorArrayStyle,U=T&&T.length||0,V=0;if(Ext.apply(S,v.style||{}),v.setBBox(),u=v.bbox,v.colorSet&&(T=v.colorSet,U=T.length),!w||!w.getCount()||v.seriesIsHidden)return v.hide(),void(v.items=[]);for(v.unHighlightItem(),v.cleanHighlights(),g=v.centerX=F.x+F.width/2,h=v.centerY=F.y+F.height/2,v.radius=Math.min(g-F.x,h-F.y),v.slices=k=[],v.items=O=[],q=0,p=x.length;p>q;q++)if(a=x[q],(!this.__excludes||!this.__excludes[q])&&(P+=+a.get(A),B[0])){for(r=0,C=0;K>r;r++)C+=+a.get(B[r]);N[q]=C,Q=Math.max(Q,C)}for(P=P||1,q=0,p=x.length;p>q;q++){if(a=x[q],this.__excludes&&this.__excludes[q]?m=0:(m=a.get(A),0==V&&(V=1)),1==V)for(V=2,v.firstAngle=R=v.accuracy*m/P/2,r=0;q>r;r++)k[r].startAngle=k[r].endAngle=v.firstAngle;s=R-v.accuracy*m/P,j={series:v,value:m,startAngle:R,endAngle:s,storeItem:a},B[0]?(o=+N[q],j.rho=Math.floor(v.radius/Q*o)):j.rho=v.radius,k[q]=j,function(){R=s}()}if(G)for(q=0,p=k.length;p>q;q++)for(j=k[q],j.shadowAttrs=[],r=0,L=0,d=[];K>r;r++){for(l=y.getAt(q*K+r),i=B[r]?w.getAt(q).get(B[r])/N[q]*j.rho:j.rho,b={segment:{startAngle:j.startAngle,endAngle:j.endAngle,margin:0,rho:j.rho,startRho:L+i*M/100,endRho:L+i},hidden:!j.value&&j.startAngle%v.accuracy==j.endAngle%v.accuracy},f=0,d=[];J>f;f++)c=I[f],e=H[f].getAt(q),e||(e=D.surface.add(Ext.apply({},{type:"path",group:H[f],strokeLinejoin:"round"},b,c))),c=v.renderer(e,w.getAt(q),Ext.apply({},b,c),q,w),z?v.onAnimate(e,{to:c}):e.setAttributes(c,!0),d.push(e);j.shadowAttrs[r]=d}for(q=0,p=k.length;p>q;q++)for(j=k[q],r=0,L=0;K>r;r++)l=y.getAt(q*K+r),i=B[r]?w.getAt(q).get(B[r])/N[q]*j.rho:j.rho,b=Ext.apply({segment:{startAngle:j.startAngle,endAngle:j.endAngle,margin:0,rho:j.rho,startRho:L+i*M/100,endRho:L+i},hidden:!j.value&&j.startAngle%v.accuracy==j.endAngle%v.accuracy},Ext.apply(S,T&&{fill:T[(K>1?r:q)%U]}||{})),n=Ext.apply({},b.segment,{slice:j,series:v,storeItem:j.storeItem,index:q}),v.calcMiddle(n),G&&(n.shadows=j.shadowAttrs[r]),O[q]=n,l||(t=Ext.apply({type:"path",group:y,middle:n.middle},Ext.apply(S,T&&{fill:T[(K>1?r:q)%U]}||{})),l=E.add(Ext.apply(t,b))),j.sprite=j.sprite||[],n.sprite=l,j.sprite.push(l),j.point=[n.middle.x,n.middle.y],z?(b=v.renderer(l,w.getAt(q),b,q,w),l._to=b,l._animating=!0,v.onAnimate(l,{to:b,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:l}}})):(b=v.renderer(l,w.getAt(q),Ext.apply(b,{hidden:!1}),q,w),l.setAttributes(b,!0)),L+=i;for(p=y.getCount(),q=0;p>q;q++)!k[q/K>>0]&&y.getAt(q)&&y.getAt(q).hide(!0);if(G)for(J=H.length,f=0;p>f;f++)if(!k[f/K>>0])for(r=0;J>r;r++)H[r].getAt(f)&&H[r].getAt(f).hide(!0);v.renderLabels(),v.renderCallouts()},onCreateLabel:function(a,b){var c=this,d=c.labelsGroup,e=c.label,f=(c.centerX,c.centerY,b.middle),g=Ext.apply(c.seriesLabelStyle||{},e||{});return c.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:d,x:f.x,y:f.y},g))},onPlaceLabel:function(a,b,c,d,e,f,g){function h(a){return 0>a&&(a+=360),a%360}var i,j,k,l,m=this,n=m.chart,o=n.resizing,p=m.label,q=p.renderer,r=p.field,s=m.centerX,t=m.centerY,u=c.middle,v={x:u.x,y:u.y},w=u.x-s,x=u.y-t,y={},z=1,A=Math.atan2(x,w||1),B=180*A/Math.PI;switch(v.hidden=!1,this.__excludes&&this.__excludes[d]&&(v.hidden=!0),a.setAttributes({text:q(b.get(r),a,b,c,d,e,f,g)},!0),e){case"outside":z=2*Math.sqrt(w*w+x*x),a.setAttributes({rotation:{degrees:0}},!0),j=a.getBBox(),k=j.width/2*Math.cos(A)+4,l=j.height/2*Math.sin(A)+4,z+=Math.sqrt(k*k+l*l),v.x=z*Math.cos(A)+s,v.y=z*Math.sin(A)+t;break;case"rotate":B=h(B),B=B>90&&270>B?B+180:B,i=a.attr.rotation.degrees,null!=i&&Math.abs(i-B)>90?(B>i?B-=360:B+=360,B%=360):B=h(B),v.rotate={degrees:B,x:v.x,y:v.y}}v.translate={x:0,y:0},!f||o||"rotate"==e&&null==i?a.setAttributes(v,!0):m.onAnimate(a,{to:v}),a._from=y},onPlaceCallout:function(a,b,c){var d,e,f=this,g=f.chart,h=f.centerX,i=f.centerY,j=c.middle,k={x:j.x,y:j.y},l=j.x-h,m=j.y-i,n=1,o=Math.atan2(m,l||1),p=a&&a.label?a.label.getBBox():{width:0,height:0},q=20,r=10,s=10;if(p.width&&p.height){n=c.endRho+q,d=(c.endRho+c.startRho)/2+(c.endRho-c.startRho)/3,k.x=n*Math.cos(o)+h,k.y=n*Math.sin(o)+i,l=d*Math.cos(o),m=d*Math.sin(o),g.animate?(f.onAnimate(a.lines,{to:{path:["M",l+h,m+i,"L",k.x,k.y,"Z","M",k.x,k.y,"l",l>0?r:-r,0,"z"]}}),f.onAnimate(a.box,{to:{x:k.x+(l>0?r:-(r+p.width+2*s)),y:k.y+(m>0?-p.height-s/2:-p.height-s/2),width:p.width+2*s,height:p.height+2*s}}),f.onAnimate(a.label,{to:{x:k.x+(l>0?r+s:-(r+p.width+s)),y:k.y+(m>0?-p.height/4:-p.height/4)}})):(a.lines.setAttributes({path:["M",l+h,m+i,"L",k.x,k.y,"Z","M",k.x,k.y,"l",l>0?r:-r,0,"z"]},!0),a.box.setAttributes({x:k.x+(l>0?r:-(r+p.width+2*s)),y:k.y+(m>0?-p.height-s/2:-p.height-s/2),width:p.width+2*s,height:p.height+2*s},!0),a.label.setAttributes({x:k.x+(l>0?r+s:-(r+p.width+s)),y:k.y+(m>0?-p.height/4:-p.height/4)},!0));for(e in a)a[e].show(!0)}},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c){var d=this,e=d.centerX,f=d.centerY,g=Math.abs,h=g(a-e),i=g(b-f),j=c.startAngle,k=c.endAngle,l=Math.sqrt(h*h+i*i),m=Math.atan2(b-f,a-e)/d.rad;return m>d.firstAngle&&(m-=d.accuracy),j>=m&&m>k&&l>=c.startRho&&l<=c.endRho},hideAll:function(a){var b,c,d,e,f,g,h;for(a=(isNaN(this._index)?a:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[a]=!0,h=this.slices[a].sprite,f=0,g=h.length;g>f;f++)h[f].setAttributes({hidden:!0},!0);if(this.slices[a].shadowAttrs)for(b=0,e=this.slices[a].shadowAttrs,c=e.length;c>b;b++)for(d=e[b],f=0,g=d.length;g>f;f++)d[f].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0,this.__excludes[a]=!1,this.drawSeries()},highlightItem:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.rad;if(a=a||this.items[this._index],this.unHighlightItem(),!(!a||s.animating||a.sprite&&a.sprite._animating)&&(s.callParent([a]),s.highlight&&"segment"in s.highlightCfg&&(b=s.highlightCfg.segment,c=s.chart.animate,s.labelsGroup&&(l=s.labelsGroup,m=s.label.display,n=l.getAt(a.index),o=(a.startAngle+a.endAngle)/2*t,p=b.margin||0,q=p*Math.cos(o),r=p*Math.sin(o),Math.abs(q)<1e-10&&(q=0),Math.abs(r)<1e-10&&(r=0),c?(n.stopAnimation(),n.animate({to:{translate:{x:q,y:r}},duration:s.highlightDuration})):n.setAttributes({translate:{x:q,y:r}},!0)),s.chart.shadow&&a.shadows)))for(e=0,f=a.shadows,h=f.length;h>e;e++){g=f[e],i={},j=a.sprite._from.segment;for(k in j)k in b||(i[k]=j[k]);d={segment:Ext.applyIf(i,s.highlightCfg.segment)},c?(g.stopAnimation(),g.animate({to:d,duration:s.highlightDuration})):g.setAttributes(d,!0)}},unHighlightItem:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this;if(t.highlight){if("segment"in t.highlightCfg&&t.items)for(a=t.items,b=t.chart.animate,c=!!t.chart.shadow,d=t.labelsGroup,e=a.length,f=0,g=0,h=t.label.display;e>f;f++)if(q=a[f],q&&(n=q.sprite,n&&n._highlighted&&(d&&(r=d.getAt(q.index),s=Ext.apply({translate:{x:0,y:0}},"rotate"==h?{rotate:{x:r.attr.x,y:r.attr.y,degrees:r.attr.rotation.degrees}}:{}),b?(r.stopAnimation(),r.animate({to:s,duration:t.highlightDuration})):r.setAttributes(s,!0)),c)))for(o=q.shadows,i=o.length;i>g;g++){k={},l=q.sprite._to.segment,m=q.sprite._from.segment,Ext.apply(k,m);for(j in l)j in m||(k[j]=l[j]);p=o[g],b?(p.stopAnimation(),p.animate({to:{segment:k},duration:t.highlightDuration})):p.setAttributes({segment:k},!0)}t.callParent(arguments)}},getLegendColor:function(a){var b=this;return b.colorSet&&b.colorSet[a%b.colorSet.length]||b.colorArrayStyle[a%b.colorArrayStyle.length]}},1,0,0,0,["series.pie"],0,[Ext.chart.series,"Pie",Ext.chart,"PieSeries",Ext.chart,"PieChart"],0),Ext.cmd.derive("Ext.chart.series.Radar",Ext.chart.series.Series,{type:"radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(){this.callParent(arguments);var a=this,b=a.chart.surface;a.group=b.getGroup(a.seriesId),a.showMarkers&&(a.markerGroup=b.getGroup(a.seriesId+"-markers"))},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.chart.getChartStore(),s=r.data.items,t=q.group,u=q.chart,v=u.series.items,w=q.field||q.yField,x=u.surface,y=u.chartBBox,z=q.colorArrayStyle,A=0,B=[],C=Math.max,D=Math.cos,E=Math.sin,F=2*Math.PI,G=r.getCount(),H=q.seriesStyle,I=u.axes&&u.axes.get(0),J=!(I&&I.maximum);if(q.setBBox(),A=J?0:I.maximum||0,Ext.apply(H,q.style||{}),!r||!r.getCount()||q.seriesIsHidden)return q.hide(),q.items=[],q.radar&&q.radar.hide(!0),void(q.radar=null);if(H.stroke||(H.stroke=z[q.themeIdx%z.length]),q.unHighlightItem(),q.cleanHighlights(),f=q.centerX=y.x+y.width/2,g=q.centerY=y.y+y.height/2,q.radius=i=Math.min(y.width,y.height)/2,q.items=h=[],J){for(c=0,d=v.length;d>c;c++)e=v[c],B.push(e.yField);for(a=0;G>a;a++)for(b=s[a],o=0,p=B.length;p>o;o++)A=C(+b.get(B[o]),A)}for(A=A||1,j=[],k=[],o=0;G>o;o++)b=s[o],n=i*b.get(w)/A,l=n*D(o/G*F),m=n*E(o/G*F),0==o?(k.push("M",l+f,m+g),j.push("M",.01*l+f,.01*m+g)):(k.push("L",l+f,m+g),j.push("L",.01*l+f,.01*m+g)),h.push({sprite:!1,point:[f+l,g+m],storeItem:b,series:q});k.push("Z"),q.radar||(q.radar=x.add(Ext.apply({type:"path",group:t,path:j},H||{}))),u.resizing&&q.radar.setAttributes({path:j},!0),u.animate?q.onAnimate(q.radar,{to:Ext.apply({path:k},H||{})}):q.radar.setAttributes(Ext.apply({path:k},H||{}),!0),q.showMarkers&&q.drawMarkers(),q.renderLabels(),q.renderCallouts()},drawMarkers:function(){var a,b,c,d,e,f=this,g=f.chart,h=g.surface,i=g.getChartStore(),j=Ext.apply({},f.markerStyle||{}),k=Ext.apply(j,f.markerConfig,{fill:f.colorArrayStyle[f.themeIdx%f.colorArrayStyle.length]}),l=f.items,m=k.type,n=f.markerGroup,o=f.centerX,p=f.centerY;for(delete k.type,b=0,c=l.length;c>b;b++)a=l[b],d=n.getAt(b),d?d.show():d=Ext.chart.Shape[m](h,Ext.apply({group:n,x:0,y:0,translate:{x:o,y:p}},k)),a.sprite=d,g.resizing&&d.setAttributes({x:0,y:0,translate:{x:o,y:p}},!0),d._to={translate:{x:a.point[0],y:a.point[1]}},e=f.renderer(d,i.getAt(b),d._to,b,i),e=Ext.applyIf(e||{},k||{}),g.animate?f.onAnimate(d,{to:e}):d.setAttributes(e,!0)},isItemInPoint:function(a,b,c){var d,e=10,f=Math.abs;return d=c.point,f(d[0]-a)<=e&&f(d[1]-b)<=e},onCreateLabel:function(){var a=this,b=a.labelsGroup,c=a.label,d=a.centerX,e=a.centerY,f=Ext.apply({},c,a.seriesLabelStyle||{});return a.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:b,x:d,y:e},f||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){function h(a){return 0>a&&(a+=360),a%360}var i,j,k=this,l=k.chart,m=l.resizing,n=k.label,o=n.renderer,p=n.field,q=k.centerX,r=k.centerY,s={x:Number(c.point[0]),y:Number(c.point[1])},t=s.x-q,u=s.y-r,v=Math.atan2(u,t||1),w=180*v/Math.PI;a.setAttributes({text:o(b.get(p),a,b,c,d,e,f,g),hidden:!0},!0),i=a.getBBox(),w=h(w),w>45&&135>w||w>225&&315>w?(j=w>45&&135>w?1:-1,s.y+=j*i.height/2):(j=w>=135&&225>=w?-1:1,s.x+=j*i.width/2),m&&a.setAttributes({x:q,y:r},!0),f?(a.show(!0),k.onAnimate(a,{to:s})):(a.setAttributes(s,!0),a.show(!0))},toggleAll:function(a){var b,c,d,e,f=this;if(a?Ext.chart.series.Radar.superclass.showAll.call(f):Ext.chart.series.Radar.superclass.hideAll.call(f),f.radar&&(f.radar.setAttributes({hidden:!a},!0),f.radar.shadows))for(b=0,e=f.radar.shadows,c=e.length;c>b;b++)d=e[b],d.setAttributes({hidden:!a},!0)},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(a){for(var b=this,c=b.markerGroup&&b.markerGroup.getCount()||0,d=a||0;c>d;d++)b.markerGroup.getAt(d).hide(!0)},getAxesForXAndYFields:function(){var a=this,b=a.chart,c=b.axes,d=[].concat(c&&c.get(0));return{yAxis:d}}},1,0,0,0,["series.radar"],0,[Ext.chart.series,"Radar"],0),Ext.cmd.derive("Ext.chart.series.Scatter",Ext.chart.series.Cartesian,{type:"scatter",constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart.shadow,f=d.chart.surface;if(Ext.apply(d,a,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),d.group=f.getGroup(d.seriesId),e)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(f.getGroup(d.seriesId+"-shadows"+b))},getBounds:function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.chart,l=k.getChartStore(),m=k.axes,n=j.getAxesForXAndYFields(),o=n.xAxis,p=n.yAxis;return j.setBBox(),a=j.bbox,(h=m.get(o))&&(i=h.applyData(),d=i.from,f=i.to),(h=m.get(p))&&(i=h.applyData(),e=i.from,g=i.to),j.xField&&!Ext.isNumber(d)&&(h=j.getMinMaxXValues(),d=h[0],f=h[1]),j.yField&&!Ext.isNumber(e)&&(h=j.getMinMaxYValues(),e=h[0],g=h[1]),isNaN(d)?(d=0,f=l.getCount()-1,b=a.width/(l.getCount()-1)):b=a.width/(f-d),isNaN(e)?(e=0,g=l.getCount()-1,c=a.height/(l.getCount()-1)):c=a.height/(g-e),{bbox:a,minX:d,minY:e,xScale:b,yScale:c}},getPaths:function(){var a,b,c,d,e,f,g,h,i=this,j=i.chart,k=j.shadow,l=j.getChartStore(),m=l.data.items,n=i.group,o=i.bounds=i.getBounds(),p=i.bbox,q=o.xScale,r=o.yScale,s=o.minX,t=o.minY,u=p.x,v=p.y,w=p.height,x=(i.items=[],[]);for(a=0,b=m.length;b>a;a++)c=m[a],f=c.get(i.xField),g=c.get(i.yField),"undefined"==typeof g||"string"==typeof g&&!g||null==f||null==g||(("string"==typeof f||"object"==typeof f&&!Ext.isDate(f))&&(f=a),("string"==typeof g||"object"==typeof g&&!Ext.isDate(g))&&(g=a),d=u+(f-s)*q,e=v+w-(g-t)*r,x.push({x:d,y:e}),i.items.push({series:i,value:[f,g],point:[d,e],storeItem:c}),j.animate&&j.resizing&&(h=n.getAt(a),h&&(i.resetPoint(h),k&&i.resetShadow(h))));return x},resetPoint:function(a){var b=this.bbox;a.setAttributes({translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}},!0)},resetShadow:function(a){var b,c,d=this,e=a.shadows,f=d.shadowAttributes,g=d.shadowGroups.length,h=d.bbox;for(b=0;g>b;b++)c=Ext.apply({},f[b]),c.translate?(c.translate.x+=(h.x+h.width)/2,c.translate.y+=(h.y+h.height)/2):c.translate={x:(h.x+h.width)/2,y:(h.y+h.height)/2},e[b].setAttributes(c,!0)},createPoint:function(a,b){var c=this,d=c.chart,e=c.group,f=c.bbox;return Ext.chart.Shape[b](d.surface,Ext.apply({},{x:0,y:0,group:e,translate:{x:(f.x+f.width)/2,y:(f.y+f.height)/2}},a))},createShadow:function(a,b,c){var d,e,f,g,h=this,i=h.chart,j=h.shadowGroups,k=h.shadowAttributes,l=j.length,m=h.bbox;for(a.shadows=f=[],d=0;l>d;d++)g=Ext.apply({},k[d]),g.translate?(g.translate.x+=(m.x+m.width)/2,g.translate.y+=(m.y+m.height)/2):Ext.apply(g,{translate:{x:(m.x+m.width)/2,y:(m.y+m.height)/2}}),Ext.apply(g,b),e=Ext.chart.Shape[c](i.surface,Ext.apply({},{x:0,y:0,group:j[d]},g)),f.push(e)},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.chart,n=m.getChartStore(),o=l.group,p=m.shadow,q=l.shadowGroups,r=l.shadowAttributes,s=q.length;if(f=Ext.apply(l.markerStyle,l.markerConfig),h=f.type||"circle",delete f.type,!n||!n.getCount())return l.hide(),void(l.items=[]);for(l.unHighlightItem(),l.cleanHighlights(),b=l.getPaths(),d=b.length,e=0;d>e;e++){if(c=b[e],a=o.getAt(e),Ext.apply(c,f),a||(a=l.createPoint(c,h),p&&l.createShadow(a,f,h)),i=a.shadows,m.animate)for(j=l.renderer(a,n.getAt(e),{translate:c},e,n),a._to=j,l.onAnimate(a,{to:j}),g=0;s>g;g++)k=Ext.apply({},r[g]),j=l.renderer(i[g],n.getAt(e),Ext.apply({},{hidden:!1,translate:{x:c.x+(k.translate?k.translate.x:0),y:c.y+(k.translate?k.translate.y:0)}},k),e,n),l.onAnimate(i[g],{to:j});else for(j=l.renderer(a,n.getAt(e),{translate:c},e,n),a._to=j,a.setAttributes(j,!0),g=0;s>g;g++)k=Ext.apply({},r[g]),j=l.renderer(i[g],n.getAt(e),Ext.apply({},{hidden:!1,translate:{x:c.x+(k.translate?k.translate.x:0),y:c.y+(k.translate?k.translate.y:0)}},k),e,n),i[g].setAttributes(j,!0);l.items[e].sprite=a}for(d=o.getCount(),e=b.length;d>e;e++)o.getAt(e).hide(!0);l.renderLabels(),l.renderCallouts()},onCreateLabel:function(a,b){var c=this,d=c.labelsGroup,e=c.label,f=Ext.apply({},e,c.seriesLabelStyle),g=c.bbox;return c.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:d,x:Number(b.point[0]),y:g.y+g.height/2},f))},onPlaceLabel:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=this,p=o.chart,q=p.resizing,r=o.label,s=r.renderer,t=r.field,u=o.bbox,v=Number(c.point[0]),w=Number(c.point[1]),x=c.sprite.attr.radius;a.setAttributes({text:s(b.get(t),a,b,c,d,e,f,g),hidden:!0},!0),i=c.sprite.getBBox(),i.width=i.width||2*x,i.height=i.height||2*x,h=a.getBBox(),j=h.width/2,k=h.height/2,"rotate"==e?(l=i.width/2+j+k/2,v+l+j>u.x+u.width?v-=l:v+=l,a.setAttributes({rotation:{x:v,y:w,degrees:-45}},!0)):("under"==e||"over"==e)&&(a.setAttributes({rotation:{degrees:0}},!0),v<u.x+j?v=u.x+j:v+j>u.x+u.width&&(v=u.x+u.width-j),m=i.height/2+k,w+="over"==e?-m:m,w<u.y+k?w+=2*m:w+k>u.y+u.height&&(w-=2*m)),p.animate?q?(n=c.sprite.getActiveAnimation(),n?n.on("afteranimate",function(){a.setAttributes({x:v,y:w},!0),a.show(!0)
}):a.show(!0)):o.onAnimate(a,{to:{x:v,y:w}}):(a.setAttributes({x:v,y:w},!0),a.show(!0))},onPlaceCallout:function(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=l.chart,n=(m.surface,m.resizing,l.callouts,l.items,c.point),o=a.label.getBBox(),p=30,q=3,r=l.bbox;d=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],j=n[0]+d[0]*p,k=n[1]+d[1]*p,e=j+(d[0]>0?0:-(o.width+2*q)),f=k-o.height/2-q,g=o.width+2*q,h=o.height+2*q,(e<r[0]||e+g>r[0]+r[2])&&(d[0]*=-1),(f<r[1]||f+h>r[1]+r[3])&&(d[1]*=-1),j=n[0]+d[0]*p,k=n[1]+d[1]*p,e=j+(d[0]>0?0:-(o.width+2*q)),f=k-o.height/2-q,g=o.width+2*q,h=o.height+2*q,m.animate?(l.onAnimate(a.lines,{to:{path:["M",n[0],n[1],"L",j,k,"Z"]}},!0),l.onAnimate(a.box,{to:{x:e,y:f,width:g,height:h}},!0),l.onAnimate(a.label,{to:{x:j+(d[0]>0?q:-(o.width+q)),y:k}},!0)):(a.lines.setAttributes({path:["M",n[0],n[1],"L",j,k,"Z"]},!0),a.box.setAttributes({x:e,y:f,width:g,height:h},!0),a.label.setAttributes({x:j+(d[0]>0?q:-(o.width+q)),y:k},!0));for(i in a)a[i].show(!0)},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c){{var d,e=10;Math.abs}return d=c.point,d[0]-e<=a&&d[0]+e>=a&&d[1]-e<=b&&d[1]+e>=b}},1,0,0,0,["series.scatter"],0,[Ext.chart.series,"Scatter"],0),Ext.cmd.derive("Ext.layout.container.Table",Ext.layout.container.Container,{alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(){return this.autoSizePolicy},initHierarchyState:function(a){a.inShrinkWrapTable=!0},getLayoutItems:function(){var a,b,c=this,d=[],e=c.callParent(),f=e.length;for(b=0;f>b;b++)a=e[b],a.hidden||d.push(a);return d},getHiddenItems:function(){for(var a,b=[],c=this.owner.items.items,d=c.length,e=0;d>e;++e)a=c[e],a.rendered&&a.hidden&&b.push(a);return b},renderChildren:function(){var a,b,c,d,e,f,g,h,i=this,j=i.getLayoutItems(),k=i.owner.getTargetEl().child("table",!0).tBodies[0],l=k.rows,m=0,n=j.length,o=i.getHiddenItems();for(a=i.calculateCells(j);n>m;m++)if(b=a[m],c=b.rowIdx,d=b.cellIdx,e=j[m],f=l[c],f||(f=k.insertRow(c),i.trAttrs&&f.set(i.trAttrs)),h=g=Ext.get(f.cells[d]||f.insertCell(d)),i.needsDivWrap()&&(h=g.first()||g.createChild({tag:"div"}),h.setWidth(null)),e.rendered?i.isValidParent(e,h,c,d,k)||i.moveItem(e,h,0):i.renderItem(e,h,0),i.tdAttrs&&g.set(i.tdAttrs),e.tdAttrs&&g.set(e.tdAttrs),g.set({colSpan:e.colspan||1,rowSpan:e.rowspan||1,id:e.cellId||"",cls:i.cellCls+" "+(e.cellCls||"")}),!a[m+1]||a[m+1].rowIdx!==c)for(d++;f.cells[d];)f.deleteCell(d);for(c++;k.rows[c];)k.deleteRow(c);for(m=0,n=o.length;n>m;++m)i.ensureInDocument(o[m].getEl())},ensureInDocument:function(a){for(var b=a.dom.parentNode;b;){if("BODY"==b.tagName.toUpperCase())return;b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(a){if(a.hasDomProp("containerChildrenSizeDone")){var b=a.targetContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,e=d||c,f=e&&b.el.child("table",!0),g=e&&b.getPaddingInfo();c&&a.setContentWidth(f.offsetWidth+g.width,!0),d&&a.setContentHeight(f.offsetHeight+g.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var a,b,c=this.getLayoutItems(),d=c.length;for(a=0;d>a;a++)b=c[a],Ext.fly(b.el.dom.parentNode).setWidth(b.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(a){for(var b,c,d=[],e=0,f=0,g=0,h=this.columns||1/0,i=[],j=0,k=a.length;k>j;j++){for(c=a[j];f>=h||i[f]>0;)if(f>=h)for(f=0,g=0,e++,b=0;h>b;b++)i[b]>0&&i[b]--;else f++;for(d.push({rowIdx:e,cellIdx:g}),b=c.colspan||1;b;--b)i[f]=c.rowspan||1,++f;++g}return d},getRenderTree:function(){var a,b,c,d,e,f,g,h,i=this,j=i.getLayoutItems(),k=[],l=Ext.apply({tag:"table",role:"presentation",cls:i.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:k}},i.tableAttrs),m=i.tdAttrs,n=i.needsDivWrap(),o=j.length;for(a=i.calculateCells(j),b=0;o>b;b++)c=j[b],d=a[b],f=d.rowIdx,g=d.cellIdx,e=k[f],e||(e=k[f]={tag:"tr",cn:[]},i.trAttrs&&Ext.apply(e,i.trAttrs)),h=e.cn[g]={tag:"td"},m&&Ext.apply(h,m),Ext.apply(h,{colSpan:c.colspan||1,rowSpan:c.rowspan||1,id:c.cellId||"",cls:i.cellCls+" "+(c.cellCls||"")}),n&&(h=h.cn={tag:"div"}),i.configureItem(c),h.cn=c.getRenderTree();return l},isValidParent:function(a,b,c,d){var e,f,g;return 3===arguments.length?(g=a.el.up("table"),g&&g.dom.parentNode===b.dom):(e=this.owner.getTargetEl().child("table",!0).tBodies[0],f=e.rows[c].cells[d],a.el.dom.parentNode===f)},needsDivWrap:function(){return Ext.isOpera10_5}},0,0,0,0,["layout.table"],0,[Ext.layout.container,"Table",Ext.layout,"TableLayout"],0),Ext.cmd.derive("Ext.container.ButtonGroup",Ext.panel.Panel,{alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",initComponent:function(){var a=this,b=a.columns;b&&(a.layout=Ext.apply({},{columns:b},a.layout)),a.title||a.addClsWithUI(a.noTitleCls),a.callParent(arguments)},onBeforeAdd:function(a){a.isButton&&(a.ui=this.defaultButtonUI&&"default"===a.ui&&!a.hasOwnProperty("ui")?this.defaultButtonUI:a.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(a){return Ext.isString(a)||(a=this.callParent(arguments)),a}},0,["buttongroup"],["buttongroup","panel","component","container","box"],{buttongroup:!0,panel:!0,component:!0,container:!0,box:!0},["widget.buttongroup"],0,[Ext.container,"ButtonGroup",Ext,"ButtonGroup"],0),Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(a){var b=this;b.target=a,a.on("beforedestroy",b.disable,b),b.onContainerAdd(a)},unbind:function(){var a=this,b=a.target;b&&b.un("beforedestroy",a.disable,a),a.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(a,b){this.disabled||(b.is(this.selector)&&this.onItemAdd(b.ownerCt,b),b.isQueryable&&this.onContainerAdd(b))},onItemAdd:function(a,b){var c=this,d=c.items,e=c.addHandler;c.disabled||(e&&e.call(c.scope||b,b),d&&d.add(b))},onItemRemove:function(a,b){var c=this,d=c.items,e=c.removeHandler;c.disabled||(e&&e.call(c.scope||b,b),d&&d.remove(b))},onContainerAdd:function(a,b){var c,d,e,f,g=this,h=g.handleAdd,i=g.handleRemove;if(a.isContainer&&(a.on("add",h,g),a.on("dockedadd",h,g),a.on("remove",i,g),a.on("dockedremove",i,g)),b!==!0)for(c=a.query(g.selector),e=0,d=c.length;d>e;++e)f=c[e],g.onItemAdd(f.ownerCt,f);for(c=a.query("container"),e=0,d=c.length;d>e;++e)g.onContainerAdd(c[e],!0)},handleRemove:function(a,b){var c=this;c.disabled||(b.is(c.selector)&&c.onItemRemove(a,b),b.isQueryable&&c.onContainerRemove(a,b))},onContainerRemove:function(a,b){var c,d,e,f,g=this;if(b.isDestroyed||b.destroying||!b.isContainer)g.invalidateItems();else{for(g.removeCtListeners(b),c=b.query(g.selector),d=0,e=c.length;e>d;++d)f=c[d],g.onItemRemove(f.ownerCt,f);for(c=b.query("container"),d=0,e=c.length;e>d;++d)g.removeCtListeners(c[d])}},removeCtListeners:function(a){var b=this;a.un("add",b.handleAdd,b),a.un("dockedadd",b.handleAdd,b),a.un("remove",b.handleRemove,b),a.un("dockedremove",b.handleRemove,b)},getItems:function(){var a=this,b=a.items;return b||(b=a.items=new Ext.util.MixedCollection,b.addAll(a.target.query(a.selector))),b},invalidateItems:function(){this.items=null}},1,0,0,0,0,0,[Ext.container,"Monitor"],0),Ext.cmd.derive("Ext.container.Viewport",Ext.container.Container,{alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var a=this,b=document.body.parentNode,c=a.el=Ext.getBody();Ext.getScrollbarSize(),a.width=a.height=void 0,a.callParent(arguments),Ext.fly(b).addCls(a.viewportCls),a.autoScroll&&(Ext.fly(b).setStyle(a.getOverflowStyle()),delete a.autoScroll),c.setHeight=c.setWidth=Ext.emptyFn,c.dom.scroll="no",a.allowDomMove=!1,a.renderTo=a.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){var a=this;a.callParent(arguments),a.width=Ext.Element.getViewportWidth(),a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(a,b){(a!=this.width||b!=this.height)&&this.setSize(a,b)},initHierarchyState:function(){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){var a=this;a.removeUIFromElement(),a.el.removeCls(a.baseCls),Ext.fly(document.body.parentNode).removeCls(a.viewportCls),a.callParent()}},0,["viewport"],["viewport","component","container","box"],{viewport:!0,component:!0,container:!0,box:!0},["widget.viewport"],0,[Ext.container,"Viewport",Ext,"Viewport"],0),Ext.cmd.derive("Ext.data.IdGenerator",Ext.Base,{isGenerator:!0,constructor:function(a){var b=this;Ext.apply(b,a),b.id&&(Ext.data.IdGenerator.all[b.id]=b)},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c,d;if("string"==typeof a)c=d=a,a=null;else{if(a.isGenerator)return a;c=a.id||a.type,d=a.type}return b=this.all[c],b||(b=Ext.create("idgen."+d,a)),b}}},1,0,0,0,0,0,[Ext.data,"IdGenerator"],0),Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0),Ext.cmd.derive("Ext.data.Types",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext.data,"Types"],function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var b=this.useNull?null:"";return void 0===a||null===a?b:String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return"number"==typeof a?parseInt(a):void 0!==a&&null!==a&&""!==a?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return"number"==typeof a?a:void 0!==a&&null!==a&&""!==a?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return"boolean"==typeof a?a:!this.useNull||void 0!==a&&null!==a&&""!==a?"true"===a||1==a:null},sortType:a.none,type:"bool"},DATE:{convert:function(a){var b,c=this.dateReadFormat||this.dateFormat;return a?a instanceof Date?a:c?Ext.Date.parse(a,c):(b=Date.parse(a),b?new Date(b):null):null},sortType:a.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.cmd.derive("Ext.data.Field",Ext.Base,{isField:!0,constructor:function(a){var b,c=this,d=Ext.data.Types;Ext.isString(a)&&(a={name:a}),Ext.apply(c,a),b=c.sortType,c.type?Ext.isString(c.type)&&(c.type=d[c.type.toUpperCase()]||d.AUTO):c.type=d.AUTO,Ext.isString(b)?c.sortType=Ext.data.SortTypes[b]:Ext.isEmpty(b)&&(c.sortType=c.type.sortType),a.hasOwnProperty("convert")?c.convert||!c.type.convert||a.hasOwnProperty("defaultValue")||(c.defaultValue=c.type.convert(c.defaultValue)):c.convert=c.type.convert,a.convert&&(c.hasCustomConvert=!0)},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0},1,0,0,0,["data.field"],0,[Ext.data,"Field"],0),Ext.cmd.derive("Ext.data.Errors",Ext.util.MixedCollection,{isValid:function(){return 0===this.length},getByField:function(a){var b,c,d=[];for(c=0;c<this.length;c++)b=this.items[c],b.field==a&&d.push(b);return d}},0,0,0,0,0,0,[Ext.data,"Errors"],0),Ext.cmd.derive("Ext.data.validations",Ext.Base,{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){return 1===arguments.length&&(b=a),!!b||0===b||b===!1},length:function(a,b){if(void 0===b||null===b)return!1;var c=b.length,d=a.min,e=a.max;return d&&d>c||e&&c>e?!1:!0},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return!(!a.matcher||!a.matcher.test(b))},inclusion:function(a,b){return a.list&&-1!=Ext.Array.indexOf(a.list,b)},exclusion:function(a,b){return a.list&&-1==Ext.Array.indexOf(a.list,b)}},0,0,0,0,0,0,[Ext.data,"validations"],0),Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;return c&&!d?1:!c&&d?-1:0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var e,f,g,h,i=this,j=Ext.getClassName(a),k=a.prototype,l=a.prototype.superclass,m=b.validations||[],n=b.fields||[],o=b.associations||[],p=function(a,b){var c,d,e=0;if(a)for(a=Ext.Array.from(a),c=a.length;c>e;++e)d=a[e],Ext.isObject(d)||(d={model:d}),d.type=b,o.push(d)},q=b.idgen,r=new Ext.util.MixedCollection(!1,k.itemNameFn),s=new Ext.util.MixedCollection(!1,k.itemNameFn),t=l.validations,u=l.fields,v=l.associations,w=[],x="idProperty"in b?b.idProperty:k.idProperty,y=x?x.isField?x:new Ext.data.Field(x):null,z=!1,A=function(a,b,c){var d,e;r.events.add.firing?(e=a,d=b):(d=c,e=b.originalIndex),d.originalIndex=e,y&&(d.mapping&&d.mapping===y.mapping||d.name===y.name)&&(k.idField=d,z=!0,d.defaultValue=void 0)},B=b.proxy,C=function(){r.sortBy(k.compareConvertFields)};for(a.modelName=j,k.modelName=j,t&&(m=t.concat(m)),b.validations=m,u&&(n=u.items.concat(n)),r.on({add:A,replace:A}),g=0,h=n.length;h>g;++g)e=n[g],r.add(e.isField?e:new Ext.data.Field(e));for(y&&!z&&(k.idField=y,y.defaultValue=void 0,r.add(y)),C(),r.on({add:C,replace:C}),b.fields=r,q&&(b.idgen=Ext.data.IdGenerator.get(q)),p(b.belongsTo,"belongsTo"),delete b.belongsTo,p(b.hasMany,"hasMany"),delete b.hasMany,p(b.hasOne,"hasOne"),delete b.hasOne,v&&(o=v.items.concat(o)),g=0,h=o.length;h>g;++g)w.push("association."+o[g].type.toLowerCase());B?B.isProxy||w.push("proxy."+(B.type||B)):a.prototype.proxy||(a.prototype.proxy=a.prototype.defaultProxyType,w.push("proxy."+a.prototype.defaultProxyType)),Ext.require(w,function(){for(Ext.ModelManager.registerType(j,a),g=0,h=o.length;h>g;++g)f=o[g],f.isAssociation?f=Ext.applyIf({ownerModel:j,associatedModel:f.model},f.initialConfig):Ext.apply(f,{ownerModel:j,associatedModel:f.model}),void 0===Ext.ModelManager.getModel(f.model)?Ext.ModelManager.registerDeferredAssociation(f):s.add(Ext.data.association.Association.create(f));b.associations=s,d.call(i,a,b,c),B&&B.isProxy&&a.setProxy(B),Ext.ModelManager.onModelDefined(a)})}},inheritableStatics:{setProxy:function(a){return a.isProxy||("string"==typeof a&&(a={type:a}),a=Ext.createByAlias("proxy."+a.type,a)),a.setModel(this),this.proxy=this.prototype.proxy=a,a},getProxy:function(){var a=this.proxy;return a?a:(a=this.prototype.proxy,a.isProxy&&(a=a.clone()),this.setProxy(a))},setFields:function(a,b,c){var d,e,f,g,h=this,i=!1,j=h.prototype,k=j.fields,l=j.superclass.fields;for(b&&(j.idProperty=b,e=b.isField?b:new Ext.data.Field(b)),c&&(j.clientIdProperty=c),k?k.clear():k=h.prototype.fields=new Ext.util.MixedCollection(!1,function(a){return a.name}),l&&(a=l.items.concat(a)),g=0,f=a.length;f>g;g++)d=new Ext.data.Field(a[g]),e&&(d.mapping&&d.mapping===e.mapping||d.name===e.name)&&(i=!0,d.defaultValue=void 0),k.add(d);return e&&!i&&(e.defaultValue=void 0,k.add(e)),h.fields=k,k},getFields:function(){return this.prototype.fields.items},load:function(a,b){b=Ext.apply({},b),b=Ext.applyIf(b,{action:"read",id:a});var c,d=new Ext.data.Operation(b),e=b.scope||this;c=function(c){var d=null,f=c.wasSuccessful();f?(d=c.getRecords()[0],d.hasId()||d.setId(a),Ext.callback(b.success,e,[d,c])):Ext.callback(b.failure,e,[d,c]),Ext.callback(b.callback,e,[d,c,f])},this.getProxy().read(d,c,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");return a.phantom=!0,a.internalId=b,b}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=this,o=b||0===b,p=n.idProperty,q=n.idField;if(n.raw=c||a,n.modified={},l=n[n.persistenceProperty]=d||{},n.data=n[n.persistenceProperty],n.mixins.observable.constructor.call(n),!d)if(a?!o&&p&&(b=a[p],e=b||0===b):a=n.emptyData,f=n.fields.items,g=f.length,m=0,Ext.isArray(a))for(;g>m;m++)h=f[m],i=h.name,j=a[h.originalIndex],void 0===j&&(j=h.defaultValue),h.convert&&(j=h.convert(j,n)),void 0!==j&&(l[i]=j);else for(;g>m;m++)h=f[m],i=h.name,j=a[i],void 0===j&&(j=h.defaultValue),h.convert&&(j=h.convert(j,n)),void 0!==j&&(l[i]=j);n.stores=[],o?(e=!0,l[p]=q&&q.convert?q.convert(b):b):e||(k=n.idgen.generate(),null!=k&&(n.preventInternalUpdate=!0,n.setId(k),delete n.preventInternalUpdate)),n.internalId=e?b:Ext.data.Model.id(n),"function"==typeof n.init&&n.init(),n.id=n.idgen.getRecId(n)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m[m.persistenceProperty],o=m.fields,p=m.modified,q="string"==typeof a;q?(l=m._singleProp,l[a]=b):l=a;for(h in l)if(l.hasOwnProperty(h)){if(k=l[h],o&&(d=o.get(h))&&d.convert&&(k=d.convert(k,m)),c=n[h],m.isEqual(c,k))continue;if(n[h]=k,(g||(g=[])).push(h),d&&d.persist)if(p.hasOwnProperty(h)){if(m.isEqual(p[h],k)){delete p[h],m.dirty=!1;for(f in p)if(p.hasOwnProperty(f)){m.dirty=!0;break}}}else m.dirty=!0,p[h]=c;h==m.idProperty&&(e=!0,i=c,j=k)}return q&&delete l[a],e&&m.changeId(i,j),!m.editing&&g&&m.afterEdit(g),g||null},copyFrom:function(a){var b,c,d,e,f,g=this,h=g.fields.items,i=h.length,j=[],k=0,l=g.idProperty;if(a){for(c=g[g.persistenceProperty],d=a[a.persistenceProperty];i>k;k++)b=h[k],e=b.name,e!=l&&(f=d[e],void 0===f||g.isEqual(c[e],f)||(c[e]=f,j.push(e)));g.phantom&&!a.phantom&&(g.beginEdit(),g.setId(a.getId()),g.endEdit(!0),g.commit(!0))}return j},isEqual:function(a,b){return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():a===b},beginEdit:function(){var a,b,c,d=this;if(!d.editing){d.editing=!0,d.dirtySave=d.dirty,c=d[d.persistenceProperty],b=d.dataSave={};for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a]);c=d.modified,b=d.modifiedSave={};for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a])}},cancelEdit:function(){var a=this;a.editing&&(a.editing=!1,a.modified=a.modifiedSave,a[a.persistenceProperty]=a.dataSave,a.dirty=a.dirtySave,a.modifiedSave=a.dataSave=a.dirtySave=null)},endEdit:function(a,b){var c,d,e=this;a=a===!0,e.editing&&(e.editing=!1,c=e.dataSave,e.modifiedSave=e.dataSave=e.dirtySave=null,a||(b||(b=e.getModifiedFieldNames(c)),d=e.dirty||b.length>0,d&&e.afterEdit(b)))},getModifiedFieldNames:function(a){var b,c=this,d=c[c.persistenceProperty],e=[];a=a||c.dataSave;for(b in d)d.hasOwnProperty(b)&&(c.isEqual(d[b],a[b])||e.push(b));return e},getChanges:function(){var a,b=this.modified,c={};for(a in b)b.hasOwnProperty(a)&&(c[a]=this.get(a));return c},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a,b,c,d=this,e=d.fields.items,f=e.length;for(d.dirty=!0,c=0;f>c;c++)a=e[c],a.persist&&(b=a.name,d.modified[b]=d.get(b))},reject:function(a){var b,c=this,d=c.modified;for(b in d)d.hasOwnProperty(b)&&"function"!=typeof d[b]&&(c[c.persistenceProperty][b]=d[b]);c.dirty=!1,c.editing=!1,c.modified={},a!==!0&&c.afterReject()},commit:function(a,b){var c=this;c.phantom=c.dirty=c.editing=!1,c.modified={},a!==!0&&c.afterCommit(b)},copy:function(a){var b=this;return new b.self(b.raw,a,null,Ext.apply({},b[b.persistenceProperty]))},setProxy:function(a){return a.isProxy||("string"==typeof a&&(a={type:a}),a=Ext.createByAlias("proxy."+a.type,a)),a.setModel(this.self),this.proxy=a,a},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var a,b,c,d,e,f,g=new Ext.data.Errors,h=this.validations,i=Ext.data.validations;if(h)for(a=h.length,f=0;a>f;f++)b=h[f],c=b.field||b.name,e=b.type,d=i[e](b,this.get(c)),d||g.add({field:c,message:b.message||i[e+"Message"]});return g},isValid:function(){return this.validate().isValid()},save:function(a){a=Ext.apply({},a);var b,c,d,e,f=this,g=f.phantom?"create":"update",h=a.scope||f,i=f.stores,j=0;return Ext.apply(a,{records:[f],action:g}),d=new Ext.data.Operation(a),e=function(d){var e=d.wasSuccessful();if(e){for(b=i.length;b>j;j++)c=i[j],c.fireEvent("write",c,d),c.fireEvent("datachanged",c);Ext.callback(a.success,h,[f,d])}else Ext.callback(a.failure,h,[f,d]);Ext.callback(a.callback,h,[f,d,e])},f.getProxy()[g](d,e,f),f},destroy:function(a){a=Ext.apply({records:[this],action:"destroy"},a);var b,c,d,e,f,g,h=this,i=h.phantom!==!0,j=a.scope||h,k=0;return f=new Ext.data.Operation(a),g=function(f){if(e=[h,f],b=Ext.Array.clone(h.stores),f.wasSuccessful()){for(c=b.length;c>k;k++)d=b[k],d.remove&&d.remove(h,!0),d.fireEvent("bulkremove",d,[h],[d.indexOf(h)],!1),i&&d.fireEvent("write",d,f);h.clearListeners(),Ext.callback(a.success,j,e)}else Ext.callback(a.failure,j,e);Ext.callback(a.callback,j,e)},i?h.getProxy().destroy(f,g,h):(f.complete=f.success=!0,f.resultSet=h.getProxy().reader.nullResultSet,g(f)),h},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(a,b){var c,d,e,f=this;f.preventInternalUpdate||(c=f.hasId(a),d=f.hasId(b),e=f.internalId,f.phantom=!d,(d!==c||d&&c)&&(f.internalId=d?b:Ext.data.Model.id(f)),f.fireEvent("idchanged",f,a,b,e),f.callStore("onIdChanged",a,b,e))},hasId:function(a){return 0===arguments.length&&(a=this.getId()),!(!a&&0!==a)},join:function(a){var b=this;b.stores.length?Ext.Array.include(this.stores,a):b.stores[0]=a,this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a),this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(a){this.callStore("afterCommit",a)},callStore:function(a){var b,c=Ext.Array.clone(arguments),d=this.stores,e=0,f=d.length;for(c[0]=this;f>e;++e)b=d[e],b&&Ext.isFunction(b[a])&&b[a].apply(b,c)},getData:function(a){var b,c,d=this,e=d.fields.items,f=e.length,g={};for(c=0;f>c;c++)b=e[c].name,g[b]=d.get(b);return a===!0&&Ext.apply(g,d.getAssociatedData()),g},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.associations.items,s=r.length,t={},u=[],v=[],w=[];for(m=0;s>m;m++)if(l=r[m],j=l.associationId,i=a[j],!i||i===b)if(a[j]=b,o=l.type,p=l.name,"hasMany"==o){if(c=q[l.storeName],t[p]=[],c&&c.getCount()>0)for(d=c.data.items,k=d.length,n=0;k>n;n++)e=d[n],t[p][n]=e.getData(),u.push(e),v.push(p),w.push(n)}else("belongsTo"==o||"hasOne"==o)&&(e=q[l.instanceName],void 0!==e&&(t[p]=e.getData(),u.push(e),v.push(p),w.push(-1)));for(m=0,k=u.length;k>m;++m)e=u[m],f=t[v[m]],g=w[m],h=e.prepareAssociatedData(a,b+1),-1===g?Ext.apply(f,h):Ext.apply(f[g],h);return t}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Model",Ext.data,"Record"],0),Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(a){var b=this;a=a||{},b.callParent([a]),b.extraParams=a.extraParams||{},b.api=Ext.apply({},a.api||b.api),b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var b,c=this,d=a.params=Ext.apply({},a.params,c.extraParams);return Ext.applyIf(d,c.getParams(a)),void 0!==a.id&&void 0===d[c.idParam]&&(d[c.idParam]=a.id),b=new Ext.data.Request({params:d,action:a.action,records:a.records,operation:a,url:a.url,proxy:c}),b.url=c.buildUrl(b),a.request=b,b},processResponse:function(a,b,c,d,e,f){var g,h,i=this;a===!0?(g=i.getReader(),g.applyDefaults="read"===b.action,h=g.read(i.extractResponseData(d)),h.success!==!1?(Ext.apply(b,{response:d,resultSet:h}),b.commitRecords(h.records),b.setCompleted(),b.setSuccessful()):(b.setException(h.message),i.fireEvent("exception",this,d,b))):(i.setException(b,d),i.fireEvent("exception",this,d,b)),"function"==typeof e&&e.call(f||i,b),i.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){for(var b=[],c=a.length,d=0;c>d;d++)b[d]={property:a[d].property,direction:a[d].direction};return this.applyEncoding(b)},encodeFilters:function(a){for(var b=[],c=a.length,d=0;c>d;d++)b[d]={property:a[d].property,value:a[d].value};return this.applyEncoding(b)},getParams:function(a){var b,c,d=this,e={},f=Ext.isDefined,g=a.groupers,h=a.sorters,i=a.filters,j=a.page,k=a.start,l=a.limit,m=d.simpleSortMode,n=d.simpleGroupMode,o=d.pageParam,p=d.startParam,q=d.limitParam,r=d.groupParam,s=d.groupDirectionParam,t=d.sortParam,u=d.filterParam,v=d.directionParam;return o&&f(j)&&(e[o]=j),p&&f(k)&&(e[p]=k),q&&f(l)&&(e[q]=l),b=r&&g&&g.length>0,b&&(n?(e[r]=g[0].property,e[s]=g[0].direction||"ASC"):e[r]=d.encodeSorters(g)),t&&h&&h.length>0&&(m?(c=0,h.length>1&&b&&(c=1),e[t]=h[c].property,e[v]=h[c].direction):e[t]=d.encodeSorters(h)),u&&i&&i.length>0&&(e[u]=d.encodeFilters(i)),e},buildUrl:function(a){var b=this,c=b.getUrl(a);return b.noCache&&(c=Ext.urlAppend(c,Ext.String.format("{0}={1}",b.cacheString,Ext.Date.now()))),c},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}},1,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0),Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a);return a.allowWrite()&&(e=d.write(e)),Ext.apply(e,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),disableCaching:!1}),Ext.Ajax.request(e),e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){e.processResponse(g,b,a,h,c,d)}}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],function(){Ext.data.HttpProxy=this}),Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0),Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]),this.setReader(this.reader)},updateOperation:function(a,b,c){var d=0,e=a.getRecords(),f=e.length;for(d;f>d;d++)e[d].commit();a.setCompleted(),a.setSuccessful(),Ext.callback(b,c||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(a,b,c){var d=this,e=a.resultSet=d.getReader().read(d.data),f=e.records,g=a.sorters,h=a.groupers,i=a.filters;a.setCompleted(),e.success&&(i&&i.length&&(f=e.records=Ext.Array.filter(f,Ext.util.Filter.createFilterFn(i))),h&&h.length&&(g=g?g.concat(h):g),g&&g.length&&(e.records=Ext.Array.sort(f,Ext.util.Sortable.createComparator(g))),d.enablePaging&&void 0!==a.start&&void 0!==a.limit&&(a.start>=e.total?(e.success=!1,e.count=0,e.records=[]):(e.records=Ext.Array.slice(e.records,a.start,a.start+a.limit),e.count=e.records.length))),e.success?a.setSuccessful():d.fireEvent("exception",d,null,a),Ext.callback(b,c||d,[a])},clear:Ext.emptyFn},1,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0),Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{constructor:function(a){Ext.apply(this,a),this.callParent([a])},add:function(a,b){var c,d=this,e=d.findKey(b);return e?(d.unlinkEntry(c=d.map[e]),c.prev=d.last,c.next=null):c={prev:d.last,next:null,key:a,value:b},d.last?d.last.next=c:d.first=c,d.last=c,d.callParent([a,c]),d.prune(),b},insertBefore:function(a,b,c){var d,e,f=this;return(c=this.map[this.findKey(c)])?(d=f.findKey(b),d?f.unlinkEntry(e=f.map[d]):e={prev:c.prev,next:c,key:a,value:b},c.prev?e.prev.next=e:f.first=e,e.next=c,c.prev=e,f.prune(),b):f.add(a,b)},get:function(a){var b=this.map[a];return b?(b.next&&this.moveToEnd(b),b.value):void 0},removeAtKey:function(a){return this.unlinkEntry(this.map[a]),this.callParent(arguments)},clear:function(){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(a){a&&(a.next?a.next.prev=a.prev:this.last=a.prev,a.prev?a.prev.next=a.next:this.first=a.next,a.prev=a.next=null)},moveToEnd:function(a){this.unlinkEntry(a),(a.prev=this.last)?this.last.next=a:this.first=a,this.last=a},getArray:function(a){for(var b=[],c=this.first;c;)b.push(a?c.key:c.value),c=c.next;return b},each:function(a,b,c){var d=this,e=c?d.last:d.first,f=d.length;for(b=b||d;e&&a.call(b,e.key,e.value,f)!==!1;)e=c?e.prev:e.next;return d},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b].value===a)return b;return void 0},clone:function(){var a,b=new this.self(this.initialConfig),c=this.map;b.suspendEvents();for(a in c)c.hasOwnProperty(a)&&b.add(a,c[a].value);return b.resumeEvents(),b},prune:function(){var a=this,b=a.maxSize?a.length-a.maxSize:0;if(b>0)for(;a.first&&b;b--)a.removeAtKey(a.first.key)}},1,0,0,0,0,0,[Ext.util,"LruCache"],0),Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{clear:function(){var a=this;a.pageMapGeneration=(a.pageMapGeneration||0)+1,a.callParent(arguments)},forEach:function(a,b){var c,d,e,f,g,h=this,i=Ext.Object.getKeys(h.map),j=i.length;for(c=0;j>c;c++)i[c]=Number(i[c]);for(Ext.Array.sort(i),b=b||h,c=0;j>c;c++)for(e=i[c],f=h.getPage(e),g=f.length,d=0;g>d;d++)if(a.call(b,f[d],(e-1)*h.pageSize+d)===!1)return},findBy:function(a,b){var c=this,d=null;return b=b||c,c.forEach(function(c,e){return a.call(b,c,e)?(d=c,!1):void 0}),d},findIndexBy:function(a,b){var c=this,d=-1;return b=b||c,c.forEach(function(c,e){return a.call(b,c)?(d=e,!1):void 0}),d},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,b){var c,d,e=this,f=a+Math.floor((b.length-1)/e.pageSize);for(c=0;f>=a;a++,c+=e.pageSize)d=Ext.Array.slice(b,c,c+e.pageSize),e.add(a,d),e.fireEvent("pageAdded",a,d)},getCount:function(){var a=this.callParent();
return a&&(a=(a-1)*this.pageSize+this.last.value.length),a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(a,b){for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);d>=c;c++)if(!this.hasPage(c))return!1;return!0},hasPage:function(a){return!!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(a,b){this.hasRange(a,b)||Ext.Error.raise("PageMap asked for range which it does not have");for(var c,d,e,f,g=this,h=g.getPageFromRecordIndex(a),i=g.getPageFromRecordIndex(b),j=(h-1)*g.pageSize,k=i*g.pageSize-1,l=h,m=[],n=0;i>=l;l++)l==h?(c=a-j,e=!0):(c=0,e=!1),l==i&&(d=g.pageSize-(k-b),e=!0),e?Ext.Array.push(m,Ext.Array.slice(g.getPage(l),c,d)):Ext.Array.push(m,g.getPage(l));for(f=m.length;f>n;n++)m[n].index=a++;return m}},0,0,0,0,0,0,[Ext.data,"PageMap"],0),Ext.cmd.derive("Ext.data.Group",Ext.util.Observable,{key:void 0,dirty:!0,constructor:function(){this.callParent(arguments),this.records=[]},contains:function(a){return-1!==Ext.Array.indexOf(this.records,a)},add:function(a){Ext.Array.push(this.records,a),this.dirty=!0},remove:function(a){Ext.isArray(a)||(a=[a]);var b,c=a.length;for(b=0;c>b;++b)Ext.Array.remove(this.records,a[b]);this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(a){var b,c=this;return(a===!0||c.dirty||!c.aggregate)&&(b=c.store.model,c.aggregate=new b,c.aggregate.isSummary=!0),c.aggregate}},1,0,0,0,0,0,[Ext.data,"Group"],0),Ext.cmd.derive("Ext.data.Store",Ext.data.AbstractStore,{remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||a.property},groupIdFn:function(a){return a.key}},constructor:function(a){a=Ext.apply({},a);var b,c,d=this,e=a.groupers||d.groupers,f=a.groupField||d.groupField;c=a.data||d.data,c&&(d.inlineData=c,delete a.data),!e&&f&&(e=[{property:f,direction:a.groupDir||d.groupDir}],(a.getGroupString||d.getGroupString!==Ext.data.Store.prototype.getGroupString)&&(e[0].getGroupString=function(a){return d.getGroupString(a)})),delete a.groupers,d.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn),d.groupers.addAll(d.decodeGroupers(e)),d.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn),d.callParent([a]),d.buffered?(d.data=new Ext.data.PageMap({store:d,keyFn:Ext.data.Store.recordIdFn,pageSize:d.pageSize,maxSize:d.purgePageCount,listeners:{clear:d.onPageMapClear,scope:d}}),d.pageRequests={},d.remoteSort=d.remoteGroup=d.remoteFilter=!0,d.sortOnLoad=!1,d.filterOnLoad=!1):(d.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0}),d.data.pageSize=d.pageSize),d.remoteGroup&&(d.remoteSort=!0),d.sorters.insert(0,d.groupers.getRange()),b=d.proxy,c=d.inlineData,d.buffered||d.pageSize||(d.pageSize=d.defaultPageSize),c?(b instanceof Ext.data.proxy.Memory?(b.data=c,d.read()):d.add.apply(d,[c]),d.sorters.items.length&&!d.remoteSort&&d.group(null,null,!0),delete d.inlineData):d.autoLoad&&Ext.defer(d.load,1,d,["object"==typeof d.autoLoad?d.autoLoad:void 0])},onBeforeSort:function(){var a=this.groupers;a.getCount()>0&&this.sort(a.items,"prepend",!1)},decodeGroupers:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b,c,d=a.length,e=Ext.util.Grouper,f=[];for(c=0;d>c;c++)b=a[c],b instanceof e?f.push(b):(Ext.isString(b)&&(b={property:b}),b=Ext.apply({root:"data",direction:"ASC"},b),b.fn&&(b.sorterFn=b.fn),"function"==typeof b&&(b={sorterFn:b}),f.push(new e(b)));return f},group:function(a,b,c){var d,e,f=this;a&&(f.sorters.removeAll(f.groupers.items),Ext.isArray(a)?e=a:Ext.isObject(a)?e=[a]:Ext.isString(a)&&(d=f.groupers.get(a),d?void 0===b?d.toggle():d.setDirection(b):(d={property:a,direction:b||"ASC"},e=[d])),e&&e.length&&(f.groupers.clear(),f.groupers.addAll(f.decodeGroupers(e))),f.sorters.insert(0,f.groupers.items)),f.remoteGroup?f.buffered?(f.data.clear(),f.loadPage(1,{groupChange:!0})):f.load({scope:f,callback:c?null:f.fireGroupChange}):(f.doSort(f.generateComparator()),f.constructGroups(),c||f.fireGroupChange())},getGroupField:function(){var a,b=this.groupers.first();return b&&(a=b.property),a},constructGroups:function(){var a,b,c,d,e=this,f=this.data.items,g=f.length,h=e.groups;if(h.clear(),e.isGrouped())for(b=0;g>b;++b)d=f[b],a=e.getGroupString(d),c=h.get(a),c||(c=new Ext.data.Group({key:a,store:e}),h.add(a,c)),c.add(d)},clearGrouping:function(){var a,b=this,c=b.groupers.items,d=c.length;for(a=0;d>a;a++)b.sorters.remove(c[a]);b.groupers.clear(),b.remoteGroup?b.buffered?(b.data.clear(),b.loadPage(1,{groupChange:!0})):b.load({scope:b,callback:b.fireGroupChange}):(b.groups.clear(),b.sorters.length?b.sort():(b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(a){var b,c,d,e,f=this.data.items,g=f.length,h=[],i={};for(e=0;g>e;e++)b=f[e],c=this.getGroupString(b),d=i[c],void 0===d&&(d={name:c,children:[]},h.push(d),i[c]=d),d.children.push(b);return a?i[a]:h},getGroupsForGrouper:function(a,b){var c,d,e,f,g,h=a.length,i=[];for(g=0;h>g;g++)e=a[g],d=b.getGroupString(e),d!==c&&(f={name:d,grouper:b,records:[]},i.push(f)),f.records.push(e),c=d;return i},getGroupsForGrouperIndex:function(a,b){var c,d=this,e=d.groupers,f=e.getAt(b),g=d.getGroupsForGrouper(a,f),h=g.length;if(b+1<e.length)for(c=0;h>c;c++)g[c].children=d.getGroupsForGrouperIndex(g[c].records,b+1);for(c=0;h>c;c++)g[c].depth=b;return g},getGroupData:function(a){var b=this;return a!==!1&&b.sort(),b.getGroupsForGrouperIndex(b.data.items,0)},getGroupString:function(a){var b=this.groupers.first();return b?b.getGroupString(a):""},insert:function(a,b){var c,d,e,f,g=this,h=!1,i=g.modelDefaults;if(f=Ext.isIterable(b)?[]:b=[b],d=b.length){for(c=0;d>c;c++)e=b[c],e.isModel||(e=g.createModel(e)),f[c]=e,i&&e.set(i),e.join(g),h=h||e.phantom===!0;g.data.insert(a,f),g.snapshot&&g.snapshot.addAll(f),g.requireSort&&(g.suspendEvents(),g.sort(),g.resumeEvents()),g.isGrouped()&&g.updateGroupsOnAdd(f),g.fireEvent("add",g,f,a),g.fireEvent("datachanged",g),g.autoSync&&h&&!g.autoSyncSuspended&&g.sync()}return f},updateGroupsOnAdd:function(a){var b,c,d,e,f=this,g=f.groups,h=a.length;for(b=0;h>b;++b)e=a[b],c=f.getGroupString(e),d=g.getByKey(c),d||(d=g.add(new Ext.data.Group({key:c,store:f}))),d.add(e)},updateGroupsOnRemove:function(a){var b,c,d,e,f=this,g=f.groups,h=a.length;for(b=0;h>b;++b)e=a[b],c=f.getGroupString(e),d=g.getByKey(c),d&&(d.remove(e),0===d.records.length&&g.remove(d))},updateGroupsOnUpdate:function(a,b){var c,d,e,f,g=this,h=g.getGroupField(),i=g.getGroupString(a),j=g.groups;if(b&&-1!==Ext.Array.indexOf(b,h)){for(g.buffered&&Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"}),e=j.items,d=0,c=e.length;c>d;++d)if(f=e[d],f.contains(a)){f.remove(a);break}for(f=j.getByKey(i),f||(f=j.add(new Ext.data.Group({key:i,store:g}))),f.add(a),g.data.remove(a),g.data.insert(g.data.findInsertionIndex(a,g.generateComparator()),a),d=0,c=this.getCount();c>d;d++)g.data.items[d].index=d}else j.getByKey(i).setDirty()},add:function(a){var b,c,d,e=this;return b=Ext.isArray(a)?a:arguments,c=b.length,d=!e.remoteSort&&e.sorters&&e.sorters.items.length,d&&1===c?[e.addSorted(e.createModel(b[0]))]:(d&&(e.requireSort=!0),b=e.insert(e.data.length,b),delete e.requireSort,b)},addSorted:function(a){var b=this,c=b.data.findInsertionIndex(a,b.generateComparator());return b.insert(c,a),a},createModel:function(a){return a.isModel||(a=Ext.ModelManager.create(a,this.model)),a},onUpdate:function(a,b,c){this.isGrouped()&&this.updateGroupsOnUpdate(a,c)},each:function(a,b){var c,d,e=this.data.items,f=e.length;for(d=0;f>d&&(c=e[d],a.call(b||c,c,d,f)!==!1);d++);},remove:function(a,b,c){b=b===!0;var d,e,f,g,h,i,j,k=this,l=!1,m=k.snapshot,n=k.data,o=0,p=[],q=[],r=[],s=!c&&k.hasListeners.remove;if(a.isModel?(a=[a],d=1):Ext.isIterable(a)?d=a.length:"object"==typeof a&&(i=!0,o=a.start,d=a.end+1,j=d-o),!i){for(o=0;d>o;++o)h=a[o],"number"==typeof h?(g=h,h=n.getAt(g)):g=k.indexOf(h),h&&g>-1&&p.push({record:h,index:g}),m&&m.remove(h);p=Ext.Array.sort(p,function(a,b){var c=a.index,d=b.index;return c===b.index2?0:d>c?-1:1}),o=0,d=p.length}for(;d>o;o++)i?(h=n.getAt(o),g=o):(e=p[o],h=e.record,g=e.index),q.push(h),r.push(g),f=h.phantom!==!0,!b&&f&&(h.removedFrom=g,k.removed.push(h)),h.unjoin(k),g-=o,l=l||f,i||(n.removeAt(g),s&&k.fireEvent("remove",k,h,g,!!b));i&&n.removeRange(a.start,j),c||(k.fireEvent("bulkremove",k,q,r,!!b),k.fireEvent("datachanged",k)),!b&&k.autoSync&&l&&!k.autoSyncSuspended&&k.sync()},removeAt:function(a,b){var c=this,d=c.getCount();d>=a&&(1===arguments.length?c.remove([a]):b&&c.remove({start:a,end:Math.min(a+b,d)-1}))},removeAll:function(a){var b=this,c=b.snapshot,d=b.data;c&&c.removeAll(d.getRange()),b.buffered?d&&(a&&b.suspendEvent("clear"),d.clear(),a&&b.resumeEvent("clear")):(b.remove({start:0,end:b.getCount()-1},!1,a),a!==!0&&b.fireEvent("clear",b))},load:function(a){var b=this;return a=a||{},"function"==typeof a&&(a={callback:a}),a.groupers=a.groupers||b.groupers.items,a.page=a.page||b.currentPage,a.start=void 0!==a.start?a.start:(a.page-1)*b.pageSize,a.limit=a.limit||b.pageSize,a.addRecords=a.addRecords||!1,b.buffered?(a.limit=b.viewSize||b.defaultViewSize,b.loadToPrefetch(a)):b.callParent([a])},reload:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.getCount();if(a||(a={}),!j.buffered)return j.callParent(arguments);if(delete j.totalCount,g=function(){j.rangeCached(b,c)&&(j.loading=!1,j.data.un("pageAdded",g),i=j.data.getRange(b,c),j.fireEvent("load",j,i,!0))},h=Math.ceil((j.leadingBufferZone+j.trailingBufferZone)/2),b=a.start||(k?j.getAt(0).index:0),c=b+(a.count||(k?k:j.pageSize))-1,d=j.getPageFromRecordIndex(Math.max(b-h,0)),e=j.getPageFromRecordIndex(c+h),j.data.clear(!0),j.fireEvent("beforeload",j,a)!==!1)for(j.loading=!0,j.data.on("pageAdded",g),f=d;e>=f;f++)j.prefetchPage(f,a)},onProxyLoad:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful();b.isDestroyed||(c&&(b.totalCount=c.total),b.loading=!1,e&&b.loadRecords(d,a),b.hasListeners.load&&b.fireEvent("load",b,d,e),b.hasListeners.read&&b.fireEvent("read",b,d,e),Ext.callback(a.callback,a.scope||b,[d,a,e]))},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(a,b){Ext.isString(a)&&(a={property:a,value:b});var c,d=this,e=d.decodeFilters(a),f=d.sorters.length&&d.sortOnFilter&&!d.remoteSort,g=e.length;for(c=0;g>c;c++)d.filters.replace(e[c]);a=d.filters.items,a.length&&(d.remoteFilter?(delete d.totalCount,d.buffered?(d.data.clear(),d.loadPage(1)):(d.currentPage=1,d.load())):(d.snapshot=d.snapshot||d.data.clone(),d.data=d.snapshot.filter(a),d.constructGroups(),f?d.sort():(d.fireEvent("datachanged",d),d.fireEvent("refresh",d))),d.fireEvent("filterchange",d,a))},clearFilter:function(a){var b=this;if(b.filters.clear(),b.remoteFilter){if(a)return;delete b.totalCount,b.buffered?(b.data.clear(),b.loadPage(1)):(b.currentPage=1,b.load())}else b.isFiltered()&&(b.data=b.snapshot,delete b.snapshot,b.constructGroups(),a!==!0&&(b.fireEvent("datachanged",b),b.fireEvent("refresh",b)));b.fireEvent("filterchange",b,b.filters.items)},removeFilter:function(a,b){var c=this;!c.remoteFilter&&c.isFiltered()&&(a instanceof Ext.util.Filter?c.filters.remove(a):c.filters.removeAtKey(a),b!==!1?c.filters.length?c.filter():c.clearFilter():c.fireEvent("filterchange",c,c.filters.items))},addFilter:function(a,b){var c,d,e,f=this;for(c=f.decodeFilters(a),e=c.length,d=0;e>d;d++)f.filters.replace(c[d]);b!==!1&&f.filters.length?f.filter():f.fireEvent("filterchange",f,f.filters.items)},isFiltered:function(){var a=this.snapshot;return!(!a||a===this.data)},filterBy:function(a,b){var c=this;c.snapshot=c.snapshot||c.data.clone(),c.data=c.queryBy(a,b||c),c.fireEvent("datachanged",c),c.fireEvent("refresh",c)},queryBy:function(a,b){var c=this;return(c.snapshot||c.data).filterBy(a,b||c)},query:function(a,b,c,d,e){var f=this,g=f.createFilterFn(a,b,c,d,e),h=f.queryBy(g);return h||(h=new Ext.util.MixedCollection),h},loadData:function(a,b){var c,d=a.length,e=[];for(c=0;d>c;c++)e.push(this.createModel(a[c]));this.loadRecords(e,b?this.addRecordsOptions:void 0)},loadRawData:function(a,b){var c=this,d=c.proxy.reader.read(a),e=d.records;d.success&&(c.totalCount=d.total,c.loadRecords(e,b?c.addRecordsOptions:void 0))},loadRecords:function(a,b){var c,d,e=this,f=0,g=a.length,h=e.snapshot;if(b&&(c=b.start,d=b.addRecords),d?h&&h.addAll(a):(delete e.snapshot,e.clearData(!0)),e.data.addAll(a),void 0!==c)for(;g>f;f++)a[f].index=c+f,a[f].join(e);else for(;g>f;f++)a[f].join(e);e.suspendEvents(),e.filterOnLoad&&!e.remoteFilter&&e.filter(),e.sortOnLoad&&!e.remoteSort&&e.sort(void 0,void 0,void 0,!0),e.resumeEvents(),e.isGrouped()&&e.constructGroups(),e.fireEvent("datachanged",e),e.fireEvent("refresh",e)},loadPage:function(a,b){var c=this;return c.currentPage=a,b=Ext.apply({page:a,start:(a-1)*c.pageSize,limit:c.pageSize,addRecords:!c.clearOnPageLoad},b),c.buffered?(b.limit=c.viewSize||c.defaultViewSize,c.loadToPrefetch(b)):void c.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){var b,c,d=this;if(!d.buffered&&d.data)for(b=d.data.items,c=b.length;c--;)b[c].unjoin(d);d.data&&d.data.clear(),(a!==!0||d.clearRemovedOnLoad)&&(d.removed.length=0)},loadToPrefetch:function(a){var b,c,d,e=this,f=a,g=a.start,h=a.start+a.limit-1,i=Math.min(h,a.start+(e.viewSize||a.limit)-1),j=e.getPageFromRecordIndex(Math.max(g-e.trailingBufferZone,0)),k=e.getPageFromRecordIndex(h+e.leadingBufferZone),l=function(){e.rangeCached(g,i)&&(e.loading=!1,c=e.data.getRange(g,i),e.data.un("pageAdded",l),e.hasListeners.guaranteedrange&&e.guaranteeRange(g,i,a.callback,a.scope),a.callback&&a.callback.call(a.scope||e,c,g,h,a),e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("load",e,c,!0),a.groupChange&&e.fireGroupChange())};e.fireEvent("beforeload",e,a)!==!1&&(delete e.totalCount,e.loading=!0,a.callback&&(f=Ext.apply({},a),delete f.callback),e.on("prefetch",function(a,c,g){if(g)if(d=e.getTotalCount())for(e.data.on("pageAdded",l),i=Math.min(i,d-1),k=e.getPageFromRecordIndex(Math.min(i+e.leadingBufferZone,d-1)),b=j+1;k>=b;++b)e.prefetchPage(b,f);else e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("load",e,c,!0);else e.fireEvent("load",e,c,!1)},null,{single:!0}),e.prefetchPage(j,f))},prefetch:function(a){var b,c,d=this,e=d.pageSize;return e?(d.lastPageSize&&e!=d.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),d.data.pageSize||(d.data.pageSize=e)):d.pageSize=d.data.pageSize=e=a.limit,d.lastPageSize=e,a.page||(a.page=d.getPageFromRecordIndex(a.start),a.start=(a.page-1)*e,a.limit=Math.ceil(a.limit/e)*e),d.pageRequests[a.page]||(a=Ext.apply({action:"read",filters:d.filters.items,sorters:d.sorters.items,groupers:d.groupers.items,pageMapGeneration:d.data.pageMapGeneration},a),c=new Ext.data.Operation(a),d.fireEvent("beforeprefetch",d,c)!==!1&&(b=d.proxy,d.pageRequests[a.page]=b.read(c,d.onProxyPrefetch,d),b.isSynchronous&&delete d.pageRequests[a.page])),d},onPageMapClear:function(){var a,b,c=this,d=c.wasLoading,e=c.pageRequests;c.data.events.pageadded&&c.data.events.pageadded.clearListeners(),c.loading=!0,c.totalCount=0;for(b in e)e.hasOwnProperty(b)&&(a=e[b],delete e[b],delete a.callback);c.fireEvent("clear",c),c.loading=d},prefetchPage:function(a,b){var c=this,d=c.pageSize||c.defaultPageSize,e=(a-1)*c.pageSize,f=c.totalCount;(void 0===f||c.getCount()!==f)&&c.prefetch(Ext.applyIf({page:a,start:e,limit:d},b))},onProxyPrefetch:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful(),f=a.page;a.pageMapGeneration===b.data.pageMapGeneration&&(c&&(b.totalCount=c.total,b.fireEvent("totalcountchange",b.totalCount)),void 0!==f&&delete b.pageRequests[f],b.loading=!1,b.fireEvent("prefetch",b,d,e,a),e&&b.cachePage(d,a.page),Ext.callback(a.callback,a.scope||b,[d,a,e]))},cachePage:function(a,b){var c,d=this,e=a.length;for(Ext.isDefined(d.totalCount)||(d.totalCount=a.length,d.fireEvent("totalcountchange",d.totalCount)),c=0;e>c;c++)a[c].join(d);d.data.addPage(b,a)},rangeCached:function(a,b){return this.data&&this.data.hasRange(a,b)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var b,c=this,d=c.getTotalCount(),e=a.prefetchStart,f=a.prefetchEnd>d-1?d-1:a.prefetchEnd;f=Math.max(0,f),b=c.data.getRange(e,f),a.fireEvent!==!1&&c.fireEvent("guaranteedrange",b,e,f,a),a.callback&&a.callback.call(a.scope||c,b,e,f,a)},guaranteeRange:function(a,b,c,d,e){e=Ext.apply({callback:c,scope:d},e),this.getRange(a,b,e)},prefetchRange:function(a,b){var c,d,e,f=this;if(!f.rangeCached(a,b))for(c=f.getPageFromRecordIndex(a),d=f.getPageFromRecordIndex(b),f.data.maxSize=f.purgePageCount?d-c+1+f.purgePageCount:0,e=c;d>=e;e++)f.pageCached(e)||f.prefetchPage(e)},primeCache:function(a,b,c){var d=this;-1===c?(a=Math.max(a-d.leadingBufferZone,0),b=Math.min(b+d.trailingBufferZone,d.totalCount-1)):1===c?(a=Math.max(Math.min(a-d.trailingBufferZone,d.totalCount-d.pageSize),0),b=Math.min(b+d.leadingBufferZone,d.totalCount-1)):(a=Math.min(Math.max(Math.floor(a-(d.leadingBufferZone+d.trailingBufferZone)/2),0),d.totalCount-d.pageSize),b=Math.min(Math.max(Math.ceil(b+(d.leadingBufferZone+d.trailingBufferZone)/2),0),d.totalCount-1)),d.prefetchRange(a,b)},sort:function(){var a=this;return a.buffered&&a.remoteSort&&a.data.clear(),a.callParent(arguments)},doSort:function(a){var b,c,d,e=this;if(e.remoteSort)e.buffered?(e.data.clear(),e.loadPage(1)):e.load();else{if(e.data.sortBy(a),!e.buffered)for(b=e.getRange(),c=b.length,d=0;c>d;d++)b[d].index=d;e.fireEvent("datachanged",e),e.fireEvent("refresh",e)}},find:function(a,b,c,d,e,f){var g=this.createFilterFn(a,b,d,e,f);return g?this.data.findIndexBy(g,null,c):-1},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return-1!==b?a.getAt(b):null},createFilterFn:function(a,b,c,d,e){return Ext.isEmpty(b)?!1:(b=this.data.createValueMatcher(b,c,d,e),function(c){return b.test(c.data[a])})},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,b,c){var d=this,e=c===!0&&d.snapshot?d.snapshot:d.data;return e.collect(a,"data",b)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b,c){var d,e,f,g,h=this,i=h.totalCount-1,j=h.lastRequestStart;return c=Ext.apply({prefetchStart:a,prefetchEnd:b},c),h.buffered?(b=b>=h.totalCount?i:b,d=0===a?0:a-1,e=b===i?b:b+1,h.lastRequestStart=a,h.rangeCached(d,e)?(h.onGuaranteedRange(c),g=h.data.getRange(a,b)):(h.fireEvent("cachemiss",h,a,b),f=function(){h.rangeCached(d,e)&&(h.fireEvent("cachefilled",h,a,b),h.data.un("pageAdded",f),h.onGuaranteedRange(c))},h.data.on("pageAdded",f),h.prefetchRange(a,b)),h.primeCache(a,b,j>a?-1:1)):(g=h.data.getRange(a,b),c.callback&&c.callback.call(c.scope||h,g,a,b,c)),g},getById:function(a){var b=(this.snapshot||this.data).findBy(function(b){return b.getId()===a});return b},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;return b||0===b?b:this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(a){var b=this;return a&&b.isGrouped()?b.aggregate(function(a){return a.length?a[0]:void 0},b,!0):b.data.first()},last:function(a){var b=this;return a&&b.isGrouped()?b.aggregate(function(a){var b=a.length;return b?a[b-1]:void 0},b,!0):b.data.last()},sum:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getSum,c,!0,[a]):c.getSum(c.data.items,a)},getSum:function(a,b){for(var c=0,d=0,e=a.length;e>d;++d)c+=a[d].get(b);return c},count:function(a){var b=this;return a&&b.isGrouped()?b.aggregate(function(a){return a.length},b,!0):b.getCount()},min:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getMin,c,!0,[a]):c.getMin(c.data.items,a)},getMin:function(a,b){var c,d,e=1,f=a.length;for(f>0&&(d=a[0].get(b));f>e;++e)c=a[e].get(b),d>c&&(d=c);return d},max:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getMax,c,!0,[a]):c.getMax(c.data.items,a)},getMax:function(a,b){var c,d,e=1,f=a.length;for(f>0&&(d=a[0].get(b));f>e;++e)c=a[e].get(b),c>d&&(d=c);return d},average:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getAverage,c,!0,[a]):c.getAverage(c.data.items,a)},getAverage:function(a,b){var c=0,d=a.length,e=0;if(a.length>0){for(;d>c;++c)e+=a[c].get(b);return e/d}return 0},aggregate:function(a,b,c,d){if(d=d||[],c&&this.isGrouped()){var e,f,g=this.getGroups(),h=g.length,i={};for(f=0;h>f;++f)e=g[f],i[e.name]=this.getAggregate(a,b||this,e.children,d);return i}return this.getAggregate(a,b,this.data.items,d)},getAggregate:function(a,b,c,d){return d=d||[],a.apply(b||this,[c].concat(d))},onIdChanged:function(a,b,c,d){var e=this.snapshot;e&&e.updateKey(d,c),this.data.updateKey(d,c),this.callParent(arguments)},commitChanges:function(){for(var a=this,b=a.getModifiedRecords(),c=b.length,d=0;c>d;d++)b[d].commit();a.removed.length=0},filterNewOnly:function(a){return a.phantom===!0},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var a,b=this,c=b.getRejectRecords(),d=c.length,e=0;d>e;e++)a=c[e],a.reject(),a.phantom&&b.remove(a);for(c=b.removed,d=c.length,e=0;d>e;e++)a=c[e],b.insert(a.removedFrom||0,a),a.reject();b.removed.length=0}},1,0,0,0,["store.store"],0,[Ext.data,"Store"],function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})}),Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(a,b,c){var d,e=null==a.mapping?a.originalIndex:a.mapping;return"function"==typeof e?d=b+".mapping("+c+", this)":(isNaN(e)&&(e='"'+e+'"'),d=c+"["+e+"]"),d}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0),Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a),this.callParent([a])},loadData:function(a,b){if(this.expandData===!0){for(var c=[],d=0,e=a.length;e>d;d++)c[c.length]=[a[d]];a=c}this.callParent([a,b])}},1,0,0,0,["store.array"],0,[Ext.data,"ArrayStore"],function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.cmd.derive("Ext.data.Batch",Ext.Base,{autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.operations=[],b.exceptions=[]},add:function(a){return this.total++,a.setBatch(this),this.operations.push(a),this},start:function(a){var b=this;return b.isRunning?b:(b.exceptions.length=0,b.hasException=!1,b.isRunning=!0,b.runOperation(Ext.isDefined(a)?a:b.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(a){var b,c=this,d=c.operations,e=d[a];return void 0===e?(c.isRunning=!1,c.isComplete=!0,c.fireEvent("complete",c,d[d.length-1])):(c.current=a,b=function(a){var b=a.hasException();b&&(c.hasException=!0,c.exceptions.push(a),c.fireEvent("exception",c,a)),b&&c.pauseOnException?c.pause():(a.setCompleted(),c.fireEvent("operationcomplete",c,a),c.runNextOperation())},e.setStarted(),c.proxy[e.action](e,b,c)),c}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Batch"],0),Ext.cmd.derive("Ext.data.BufferStore",Ext.data.Store,{sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}},1,0,0,0,["store.buffer"],0,[Ext.data,"BufferStore"],0),Ext.cmd.derive("Ext.direct.Manager",Ext.Base,{singleton:!0,exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var a=this;a.addEvents("event","exception"),a.transactions=new Ext.util.MixedCollection,a.providers=new Ext.util.MixedCollection,a.mixins.observable.constructor.call(a)},addProvider:function(a){var b,c,d=this,e=arguments,f=d.relayers||(d.relayers={});{if(!(e.length>1))return a.isProvider||(a=Ext.create("direct."+a.type+"provider",a)),d.providers.add(a),a.on("data",d.onProviderData,d),a.relayedEvents&&(f[a.id]=d.relayEvents(a,a.relayedEvents)),a.isConnected()||a.connect(),a;for(b=0,c=e.length;c>b;++b)d.addProvider(e[b])}},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var b,c=this,d=c.providers,e=c.relayers;return a=a.isProvider?a:d.get(a),a?(a.un("data",c.onProviderData,c),b=a.id,e[b]&&(e[b].destroy(),delete e[b]),d.remove(a),a):null},addTransaction:function(a){return this.transactions.add(a),a},removeTransaction:function(a){var b=this;return a=b.getTransaction(a),b.transactions.remove(a),a},getTransaction:function(a){return"object"==typeof a?a:this.transactions.get(a)},onProviderData:function(a,b){var c,d,e=this;if(Ext.isArray(b))for(c=0,d=b.length;d>c;++c)e.onProviderData(a,b[c]);else b.name&&"event"!=b.name&&"exception"!=b.name?e.fireEvent(b.name,b):b.status===!1&&e.fireEvent("exception",b),e.fireEvent("event",b,a)},parseMethod:function(a){if(Ext.isString(a)){for(var b=a.split("."),c=0,d=b.length,e=Ext.global;e&&d>c;)e=e[b[c]],++c;a=Ext.isFunction(e)?e:null}return a||null}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.direct,"Manager"],function(){Ext.Direct=Ext.direct.Manager}),Ext.cmd.derive("Ext.data.proxy.Direct",Ext.data.proxy.Server,{alternateClassName:"Ext.data.DirectProxy",paramOrder:void 0,paramsAsHash:!0,directFn:void 0,paramOrderRe:/[\s,|]/,constructor:function(){var a,b=this;b.callParent(arguments),a=b.paramOrder,Ext.isString(a)&&(b.paramOrder=a.split(b.paramOrderRe))},resolveMethods:function(){var a,b=this,c=b.directFn,d=b.api,e=Ext.direct.Manager;if(c)a=b.directFn=e.parseMethod(c),Ext.isFunction(a)||Ext.Error.raise("Cannot resolve directFn "+c);else if(d)for(c in d)d.hasOwnProperty(c)&&(a=d[c],d[c]=e.parseMethod(a),Ext.isFunction(d[c])||Ext.Error.raise("Cannot resolve Direct api "+c+" method "+a));b.methodsResolved=!0},doRequest:function(a,b,c){var d,e,f=this,g=f.getWriter(),h=f.buildRequest(a),i=h.params,j=[];f.methodsResolved||f.resolveMethods(),d=f.api[h.action]||f.directFn,a.allowWrite()&&(h=g.write(h)),"read"==a.action?(e=d.directCfg.method,j=e.getArgs(i,f.paramOrder,f.paramsAsHash)):j.push(h.jsonData),Ext.apply(h,{args:j,directFn:d}),j.push(f.createRequestCallback(h,a,b,c),f),d.apply(window,j)},applyEncoding:Ext.identityFn,createRequestCallback:function(a,b,c,d){var e=this;return function(f,g){e.processResponse(g.status,b,a,g,c,d)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return""}},1,0,0,0,["proxy.direct"],0,[Ext.data.proxy,"Direct",Ext.data,"DirectProxy"],0),Ext.cmd.derive("Ext.data.DirectStore",Ext.data.Store,{constructor:function(a){if(a=Ext.apply({},a),!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(b.reader,a,"totalProperty,root,idProperty"),a.proxy=b}this.callParent([a])}},1,0,0,0,["store.direct"],0,[Ext.data,"DirectStore"],0),Ext.cmd.derive("Ext.data.JsonP",Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(a){a=Ext.apply({},a);var b,c,d=this,e=Ext.isDefined(a.disableCaching)?a.disableCaching:d.disableCaching,f=a.disableCachingParam||d.disableCachingParam,g=++d.requestCount,h=a.callbackName||"callback"+g,i=a.callbackKey||d.callbackKey,j=Ext.isDefined(a.timeout)?a.timeout:d.timeout,k=Ext.apply({},a.params),l=a.url,m=Ext.name;return e&&!k[f]&&(k[f]=Ext.Date.now()),a.params=k,k[i]=m+".data.JsonP."+h,c=d.createScript(l,k,a),d.requests[g]=b={url:l,params:k,script:c,id:g,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:i,callbackName:h},j>0&&(b.timeout=setTimeout(Ext.bind(d.handleTimeout,d,[b]),j)),d.setupErrorHandling(b),d[h]=Ext.bind(d.handleResponse,d,[b],!0),d.loadScript(b),b},abort:function(a){var b,c=this,d=c.requests;if(a)a.id||(a=d[a]),c.handleAbort(a);else for(b in d)d.hasOwnProperty(b)&&c.abort(d[b])},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort",this.handleResponse(null,a)},handleError:function(a){a.errorType="error",this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout",this.handleResponse(null,a)},handleResponse:function(a,b){var c=!0;b.timeout&&clearTimeout(b.timeout),delete this[b.callbackName],delete this.requests[b.id],this.cleanupErrorHandling(b),Ext.fly(b.script).remove(),b.errorType?(c=!1,Ext.callback(b.failure,b.scope,[b.errorType])):Ext.callback(b.success,b.scope,[a]),Ext.callback(b.callback,b.scope,[c,a,b.errorType]),Ext.EventManager.idleEvent.fire()},createScript:function(a,b){var c=document.createElement("script");return c.setAttribute("src",Ext.urlAppend(a,Ext.Object.toQueryString(b))),c.setAttribute("async",!0),c.setAttribute("type","text/javascript"),c},loadScript:function(a){Ext.getHead().appendChild(a.script)}},0,0,0,0,0,0,[Ext.data,"JsonP"],0),Ext.cmd.derive("Ext.data.proxy.JsonP",Ext.data.proxy.Server,{alternateClassName:"Ext.data.ScriptTagProxy",defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception"),this.callParent(arguments)},doRequest:function(a,b,c){var d=this,e=d.buildRequest(a),f=e.params;return Ext.apply(e,{callbackKey:d.callbackKey,timeout:d.timeout,scope:d,disableCaching:!1,callback:d.createRequestCallback(e,a,b,c)}),d.autoAppendParams&&(e.params={}),e.jsonp=Ext.data.JsonP.request(e),e.params=f,a.setStarted(),d.lastRequest=e,e},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g){delete e.lastRequest,e.processResponse(f,b,a,g,c,d)}},setException:function(a){a.setException(a.request.jsonp.errorType)},buildUrl:function(a){var b,c,d,e,f=this,g=f.callParent(arguments),h=a.records,i=f.getWriter();if(i&&a.operation.allowWrite()&&(a=i.write(a)),b=a.params,c=b.filters,delete b.filters,c&&c.length)for(e=0;e<c.length;e++)d=c[e],d.value&&(b[d.property]=d.value);return(!i||!i.encode)&&Ext.isArray(h)&&h.length>0&&(b[f.recordParam]=f.encodeRecords(h)),f.autoAppendParams&&(g=Ext.urlAppend(g,Ext.Object.toQueryString(b))),g},abort:function(){var a=this.lastRequest;a&&Ext.data.JsonP.abort(a.jsonp)},encodeRecords:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(Ext.encode(a[c].getData()));return b}},1,0,0,0,["proxy.jsonp","proxy.scripttag"],0,[Ext.data.proxy,"JsonP",Ext.data,"ScriptTagProxy"],0),Ext.cmd.derive("Ext.data.JsonPStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a),this.callParent([a])
}},1,0,0,0,["store.jsonp"],0,[Ext.data,"JsonPStore"],0),Ext.cmd.derive("Ext.data.JsonStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a),this.callParent([a])}},1,0,0,0,["store.json"],0,[Ext.data,"JsonStore"],0),Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(a){var b,c,d;"string"==typeof a?a=Ext.ModelManager.getModel(a):a.isModel&&(a=Ext.ModelManager.getModel(a.modelName)),a.prototype.isNode||(b=a.prototype.idProperty,c=a.prototype.fields.get(b),d=a.prototype.fields.get(b).type.type,a.override(this.getPrototypeBody()),this.applyFields(a,[{name:"parentId",type:d,defaultValue:null,useNull:c.useNull},{name:"index",type:"int",defaultValue:0,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null}]))},applyFields:function(a,b){var c,d,e=a.prototype,f=e.fields,g=f.keys,h=b.length;for(d=0;h>d;d++)c=b[d],Ext.Array.contains(g,c.name)||f.add(new Ext.data.Field(c))},getPrototypeBody:function(){var a={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0,rootchange:!0};return{isNode:!0,constructor:function(){var a=this;return a.callParent(arguments),a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null,a.childNodes=[],a},createNode:function(a){return a.isModel||(a=Ext.ModelManager.create(a,this.modelName)),a.childNodes||(a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null,a.childNodes=[]),a},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a,b){var c,d,e,f,g=this,h=g.data.depth,i={},j=g.childNodes,k=j.length,l=g.phantom,m=g[g.persistenceProperty];b||Ext.Error.raise("NodeInterface expects update info to be passed");for(d in b)f=g.fields.get(d),e=b[d],f&&f.persist&&(g.dirty=g.dirty||!g.isEqual(m[d],e)),m[d]=e;if(a&&(g.commit(),g.phantom=l),g.data.depth!==h)for(i={depth:g.data.depth+1},c=0;k>c;c++)j[c].updateInfo(a,i)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;return a.get("expandable")?!(a.isLeaf()||a.isLoaded()&&!a.hasChildNodes()):!1},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,b,c){var d,e,f,g,h,i=this,j={isLast:!0,parentId:i.getId(),depth:(i.data.depth||0)+1};if(!Ext.isArray(a)){if(a=i.createNode(a),b!==!0&&i.fireEventArgs("beforeappend",[i,a])===!1)return!1;if(f=i.childNodes.length,g=a.parentNode){if(b!==!0&&a.fireEventArgs("beforemove",[a,g,i,f])===!1)return!1;g.removeChild(a,!1,!1,!0)}return Ext.suspendLayouts(),f=i.childNodes.length,0===f&&i.setFirstChild(a),i.childNodes[f]=a,a.parentNode=i,a.nextSibling=null,i.setLastChild(a),h=i.childNodes[f-1],h?(a.previousSibling=h,h.nextSibling=a,h.updateInfo(c,{isLast:!1}),h.triggerUIUpdate()):a.previousSibling=null,j.isFirst=0===f,j.index=f,a.updateInfo(c,j),i.isLoaded()?1===i.childNodes.length&&i.triggerUIUpdate():i.set("loaded",!0),f&&i.childNodes[f-1].isExpanded()&&i.childNodes[f-1].cascadeBy(i.triggerUIUpdate),!a.isLeaf()&&a.phantom&&a.set("loaded",!0),Ext.resumeLayouts(!0),b!==!0&&(i.fireEventArgs("append",[i,a,f]),g&&a.fireEventArgs("move",[a,g,i,f])),a}for(i.callStore("suspendAutoSync"),d=0,e=a.length-1;e>d;d++)i.appendChild(a[d],b,c);i.callStore("resumeAutoSync"),i.appendChild(a[e],b,c)},getOwnerTree:function(){for(var a,b=this;b.parentNode;)b=b.parentNode;return a=b.store,a&&(a.treeStore&&(a=a.treeStore),a.tree)?a.ownerTree:void 0},removeChild:function(a,b,c,d){var e,f,g,h=this,i=h.indexOf(a);if(-1===i||c!==!0&&h.fireEventArgs("beforeremove",[h,a,!!d])===!1)return!1;if(Ext.suspendLayouts(),Ext.Array.erase(h.childNodes,i,1),h.firstChild===a&&h.setFirstChild(a.nextSibling),h.lastChild===a&&h.setLastChild(a.previousSibling),(g=a.previousSibling)&&(a.previousSibling.nextSibling=a.nextSibling),a.nextSibling)for(a.nextSibling.previousSibling=a.previousSibling,0===i&&a.nextSibling.updateInfo(!1,{isFirst:!0}),e=i,f=h.childNodes.length;f>e;e++)h.childNodes[e].updateInfo(!1,{index:e});else g&&(g.updateInfo(!1,{isLast:!0}),g.isExpanded()?g.cascadeBy(h.triggerUIUpdate):g.triggerUIUpdate());return h.childNodes.length||h.triggerUIUpdate(),Ext.resumeLayouts(!0),c!==!0&&(a.removeContext={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling},a.previousSibling=a.nextSibling=a.parentNode=null,h.fireEventArgs("remove",[h,a,!!d]),a.removeContext=null),b?a.destroy(!0):a.clear(),a},copy:function(a,b){var c,d=this,e=d.callParent(arguments),f=d.childNodes?d.childNodes.length:0;if(b)for(c=0;f>c;c++)e.appendChild(d.childNodes[c].copy(void 0,!0));return e},clear:function(a){var b=this;b.parentNode=b.previousSibling=b.nextSibling=null,a&&(b.firstChild=b.lastChild=null)},destroy:function(a){var b,c=this,d=c.destroyOptions,e=c.childNodes,f=e.length;if(a===!0){for(c.clear(!0),b=0;f>b;b++)e[b].destroy(!0);c.childNodes=null,delete c.destroyOptions,c.callParent([d])}else c.destroyOptions=a,c.remove(!0)},insertBefore:function(a,b,c){var d,e,f,g=this,h=g.indexOf(b),i=a.parentNode,j=h;if(!b)return g.appendChild(a);if(a===b)return!1;if(a=g.createNode(a),c!==!0&&g.fireEventArgs("beforeinsert",[g,a,b])===!1)return!1;if(i===g&&g.indexOf(a)<h&&j--,i){if(c!==!0&&a.fireEventArgs("beforemove",[a,i,g,h,b])===!1)return!1;i.removeChild(a,!1,!1,!0)}for(0===j&&g.setFirstChild(a),Ext.Array.splice(g.childNodes,j,0,a),a.parentNode=g,a.nextSibling=b,b.previousSibling=a,e=g.childNodes[j-1],e?(a.previousSibling=e,e.nextSibling=a):a.previousSibling=null,a.updateInfo(!1,{parentId:g.getId(),index:j,isFirst:0===j,isLast:!1,depth:(g.data.depth||0)+1}),f=j+1,d=g.childNodes.length;d>f;f++)g.childNodes[f].updateInfo(!1,{index:f});return g.isLoaded()?1===g.childNodes.length&&g.triggerUIUpdate():g.set("loaded",!0),!a.isLeaf()&&a.phantom&&a.set("loaded",!0),c!==!0&&(g.fireEventArgs("insert",[g,a,b]),i&&a.fireEventArgs("move",[a,i,g,j,b])),a},insertChild:function(a,b){var c=this.childNodes[a];return c?this.insertBefore(b,c):this.appendChild(b)},remove:function(a,b){var c=this,d=c.parentNode;return d?d.removeChild(c,a,b):a&&c.destroy(!0),c},removeAll:function(a,b,c){var d,e=this,f=e.childNodes,g=0,h=f.length;if(h){for(e.fireEventArgs("bulkremove",[e,f,!1]);h>g;++g)d=f[g],d.removeContext={parentNode:d.parentNode,previousSibling:d.previousSibling,nextSibling:d.nextSibling},d.previousSibling=d.nextSibling=d.parentNode=null,e.fireEventArgs("remove",[e,d,!1]),d.removeContext=null,a?d.destroy(!0):d.removeAll(!1,b,!0);return e.firstChild=e.lastChild=null,c?e.childNodes=null:(e.childNodes.length=0,e.triggerUIUpdate()),e}},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b,c){var d=b?b.nextSibling:null;return this.removeChild(b,!1,c),this.insertBefore(a,d,c),b},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){for(var b=this.childNodes,c=b.length,d=0;c>d;++d)if(b[d].getId()===a)return d;return-1},getPath:function(a,b){a=a||this.idProperty,b=b||"/";for(var c=[this.get(a)],d=this.parentNode;d;)c.unshift(d.get(a)),d=d.parentNode;return b+c.join(b)},getDepth:function(){return this.get("depth")},bubble:function(a,b,c){for(var d=this;d&&a.apply(b||d,c||[d])!==!1;)d=d.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,b,c){if(a.apply(b||this,c||[this])!==!1){var d,e=this.childNodes,f=e.length;for(d=0;f>d;d++)e[d].cascadeBy(a,b,c)}},eachChild:function(a,b,c){var d,e=this.childNodes,f=e.length;for(d=0;f>d&&a.apply(b||this,c||[e[d]])!==!1;d++);},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(a,b,c){for(var d,e,f=this.childNodes,g=f.length,h=0;g>h;h++){if(d=f[h],a.call(b||d,d)===!0)return d;if(c&&(e=d.findChildBy(a,b,c),null!==e))return e}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1},sort:function(a,b,c){var d,e,f=this.childNodes,g=f.length,h={isFirst:!0};if(g>0){for(Ext.Array.sort(f,a),this.setFirstChild(f[0]),this.setLastChild(f[g-1]),d=0;g>d;d++)e=f[d],e.previousSibling=f[d-1],e.nextSibling=f[d+1],h.isLast=d===g-1,h.index=d,e.updateInfo(!1,h),h.isFirst=!1,b&&!e.isLeaf()&&e.sort(a,!0,!0);c!==!0&&this.fireEventArgs("sort",[this,f])}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var a=this.parentNode;a;){if(!a.isExpanded())return!1;a=a.parentNode}return!0},expand:function(a,b,c){var d,e=this;e.isLeaf()?Ext.callback(b,c||e):e.isLoading()?e.on("expand",function(){e.expand(a,b,c)},e,{single:!0}):e.isExpanded()?a?(d=e.getOwnerTree(),e.expandChildren(!0,d?d.singleExpand:!1,b,c)):Ext.callback(b,c||e,[e.childNodes]):e.fireEventArgs("beforeexpand",[e,e.onChildNodesAvailable,e,[a,b,c]])},onChildNodesAvailable:function(a,b,c,d){var e,f=this;Ext.suspendLayouts(),f.set("expanded",!0),f.fireEventArgs("expand",[f,f.childNodes,!1]),b?(e=f.getOwnerTree(),f.expandChildren(!0,e?e.singleExpand:!1,c,d)):Ext.callback(c,d||f,[f.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(a,b,c,d){var e,f,g=this,h=g.childNodes,i=[],j=b?Math.min(h.length,1):h.length;for(e=0;j>e;++e)f=h[e],f.isLeaf()||(i[i.length]=f);for(j=i.length,e=0;j>e;++e)i[e].expand(a);c&&Ext.callback(c,d||g,[g.childNodes])},collapse:function(a,b,c){var d,e,f=this,g=f.isExpanded(),h=f.childNodes.length;if(!f.isLeaf()&&(!g&&a||f.fireEventArgs("beforecollapse",[f])!==!1)){if(Ext.suspendLayouts(),f.isExpanded())a&&(e=function(){for(d=0;h>d;d++)f.childNodes[d].setCollapsed(!0)},b=b?Ext.Function.createSequence(e,b):e),f.set("expanded",!1),f.fireEventArgs("collapse",[f,f.childNodes,!1,b?Ext.Function.bind(b,c,[f.childNodes]):null,null]),b=null;else if(a)for(d=0;h>d;d++)f.childNodes[d].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(b,c||f,[f.childNodes])},setCollapsed:function(a){var b,c=this,d=c.childNodes.length;if(!c.isLeaf()&&c.fireEventArgs("beforecollapse",[c,Ext.emptyFn])!==!1&&(c.data.expanded=!1,c.fireEventArgs("collapse",[c,c.childNodes,!1,null,null]),a))for(b=0;d>b;b++)c.childNodes[b].setCollapsed(!0)},collapseChildren:function(a,b,c){var d,e,f=this,g=f.childNodes,h=g.length,i=[];for(d=0;h>d;++d)e=g[d],!e.isLeaf()&&e.isLoaded()&&e.isExpanded()&&i.push(e);for(h=i.length,d=0;h>d;++d)e=i[d],d===h-1?e.collapse(a,b,c):e.collapse(a)},fireEventArgs:function(b,c){var d,e,f,g,h,i=Ext.data.Model.prototype.fireEventArgs;if(a[b]){for(e=this;d!==!1&&e;e=(h=e).parentNode)e.hasListeners[b]&&(d=i.call(e,b,c));return f=h.rootOf,d!==!1&&f&&(g=f.treeStore,g&&g.hasListeners[b]&&(d=g.fireEventArgs.call(g,b,c)),d!==!1&&f.hasListeners[b]&&(d=f.fireEventArgs.call(f,b,c))),d}return i.apply(this,arguments)},serialize:function(){var a,b,c=Ext.data.writer.Json.prototype.getRecordData(this),d=this.childNodes,e=d.length;if(e>0){for(a=[],b=0;e>b;b++)a.push(d[b].serialize());c.children=a}return c}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0),Ext.cmd.derive("Ext.data.NodeStore",Ext.data.Store,{isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(a){var b,c=this;a=a||{},Ext.apply(c,a),a.proxy={type:"proxy"},c.callParent([a]),b=c.node,b&&(c.node=null,c.setNode(b))},getTotalCount:function(){return this.getCount()},setNode:function(a){var b=this;b.node&&b.node!=a&&(b.mun(b.node,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,bulkremove:b.onBulkRemove,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b}),b.node=null),a&&(Ext.data.NodeInterface.decorate(a.self),b.removeAll(),b.rootVisible?b.add(a):a.isExpanded()||b.treeStore.autoLoad===!1||a.expand(),b.mon(a,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,bulkremove:b.onBulkRemove,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b}),b.node=a,a.isExpanded()&&a.isLoaded()&&b.onNodeExpand(a,a.childNodes,!0))},onNodeSort:function(a,b){var c=this;(-1!==c.indexOf(a)||a===c.node&&!c.rootVisible&&a.isExpanded())&&(Ext.suspendLayouts(),c.onNodeCollapse(a,b,!0),c.onNodeExpand(a,b,!0),Ext.resumeLayouts(!0))},onNodeExpand:function(a,b,c){var d=this,e=d.indexOf(a)+1,f=[];c||d.fireEvent("beforeexpand",a,b,e),d.handleNodeExpand(a,b,f),d.insert(e,f),c||d.fireEvent("expand",a,b)},handleNodeExpand:function(a,b,c){var d,e,f=this,g=b?b.length:0;if((f.recursive||a===f.node)&&(a===this.node||f.isVisible(a))&&g)for(d=0;g>d;d++)e=b[d],c.push(e),e.isExpanded()&&(e.isLoaded()?f.handleNodeExpand(e,e.childNodes,c):(e.set("expanded",!1),e.expand()))},onBulkRemove:function(a,b){this.onNodeCollapse(a,b,!0)},onNodeCollapse:function(a,b,c,d,e){var f,g,h,i,j=this,k=j.indexOf(a)+1;if(j.recursive||a===j.node){if(c||j.fireEvent("beforecollapse",a,b,k,d,e),b.length&&j.data.contains(b[0])){for(f=a;f.parentNode;){if(h=f.nextSibling){i=!0,g=j.indexOf(h);break}f=f.parentNode}i||(g=j.getCount()),j.removeAt(k,g-k)}c||j.fireEvent("collapse",a,b,k)}},onNodeAppend:function(a,b,c){var d,e,f=this;if(f.isVisible(b)){if(0===c)d=a;else{for(e=b.previousSibling;e.isExpanded()&&e.lastChild;)e=e.lastChild;d=e}f.insert(f.indexOf(d)+1,b),!b.isLeaf()&&b.isExpanded()&&(b.isLoaded()?f.onNodeExpand(b,b.childNodes,!0):f.treeStore.fillCount||(b.set("expanded",!1),b.expand()))}},onNodeInsert:function(a,b,c){var d=this,e=this.indexOf(c);-1!=e&&d.isVisible(b)&&(d.insert(e,b),!b.isLeaf()&&b.isExpanded()&&(b.isLoaded()?d.onNodeExpand(b,b.childNodes,!0):(b.set("expanded",!1),b.expand())))},onNodeRemove:function(a,b){var c=this;-1!=c.indexOf(b)&&(!b.isLeaf()&&b.isExpanded()&&(b.parentNode=b.removeContext.parentNode,b.nextSibling=b.removeContext.nextSibling,c.onNodeCollapse(b,b.childNodes,!0),b.parentNode=b.nextSibling=null),c.remove(b))},isVisible:function(a){for(var b=a.parentNode;b;){if(b===this.node&&b.data.expanded)return!0;if(!b.data.expanded)return!1;b=b.parentNode}return!1}},1,0,0,0,["store.node"],0,[Ext.data,"NodeStore"],0),Ext.cmd.derive("Ext.data.Request",Ext.Base,{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(a){Ext.apply(this,a)}},1,0,0,0,0,0,[Ext.data,"Request"],0),Ext.cmd.derive("Ext.data.SequentialIdGenerator",Ext.data.IdGenerator,{constructor:function(){var a=this;a.callParent(arguments),a.parts=[a.prefix,""]},prefix:"",seed:1,generate:function(){var a=this,b=a.parts;return b[1]=a.seed++,b.join("")}},1,0,0,0,["idgen.sequential"],0,[Ext.data,"SequentialIdGenerator"],0),Ext.cmd.derive("Ext.data.Tree",Ext.Base,{root:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b),a&&b.setRootNode(a),b.on({scope:b,idchanged:b.onNodeIdChanged,insert:b.onNodeInsert,append:b.onNodeAppend,remove:b.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(a){var b=this;return b.root=a,a.rootOf?a.rootOf.removeRootNode():a.parentNode&&a.parentNode.removeChild(a),a.rootOf=b,a.fireEventArgs("beforeappend",[null,a])!==!1&&(a.set("root",!0),a.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),b.nodeHash={},a.fireEvent("append",null,a),a.fireEvent("rootchange",a)),a},removeRootNode:function(){var a=this,b=a.root;return b.set("root",!1),b.fireEvent("remove",null,b,!1),b.fireEvent("rootchange",null),b.rootOf=a.root=null,b},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(a,b){this.registerNode(b,!0)},onNodeAppend:function(a,b){this.registerNode(b,!0)},onNodeRemove:function(a,b){this.unregisterNode(b,!0)},onNodeIdChanged:function(a,b,c,d){var e=this.nodeHash;e[a.internalId]=a,delete e[d]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,b){var c,d,e,f=this;if(f.nodeHash[a.internalId]=a,b===!0)for(c=a.childNodes,d=c.length,e=0;d>e;e++)f.registerNode(c[e],!0)},unregisterNode:function(a,b){var c,d,e,f=this;if(delete f.nodeHash[a.internalId],b===!0)for(c=a.childNodes,d=c.length,e=0;d>e;e++)f.unregisterNode(c[e],!0)},sort:function(a,b){this.getRootNode().sort(a,b)},filter:function(a,b){this.getRootNode().filter(a,b)}},1,0,0,0,["data.tree"],[["observable",Ext.util.Observable]],[Ext.data,"Tree"],0),Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{},0,0,0,0,0,0,[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)}),Ext.cmd.derive("Ext.data.TreeStore",Ext.data.AbstractStore,{clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:!1,constructor:function(a){var b,c,d,e=this;a=Ext.apply({},a),c=a.fields||e.fields,c||(a.fields=[{name:"text",type:"string"}],d=a.defaultRootProperty||e.defaultRootProperty,d!==e.defaultRootProperty&&a.fields.push({name:d,type:"auto",defaultValue:null,persist:!1})),e.callParent([a]),e.tree=new Ext.data.Tree,e.tree.treeStore=e,e.tree.on({scope:e,remove:e.onNodeRemove,beforeexpand:e.onBeforeNodeExpand,append:e.onNodeAdded,insert:e.onNodeAdded,sort:e.onNodeSort}),e.onBeforeSort(),b=e.root,b&&(delete e.root,e.setRootNode(b)),Ext.isDefined(e.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),e.nodeParam=e.nodeParameter,delete e.nodeParameter)},setProxy:function(a){var b,c;return a instanceof Ext.data.proxy.Proxy?c=Ext.isEmpty(a.getReader().root):Ext.isString(a)?c=!0:(b=a.reader,c=!(b&&!Ext.isEmpty(b.root))),a=this.callParent(arguments),a.idParam=this.nodeParam,c&&(b=a.getReader(),b.root=this.defaultRootProperty,b.buildExtractors(!0)),a},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(a,b,c,d){var e,f,g,h,i=this;a.isLoaded()?(h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)):(f=g=(a.raw||a[a.persistenceProperty])[(e=i.getProxy().getReader()).root])?(i.fillNode(a,e.extractData(f)),delete g[e.root],h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)):a.isLoading()?i.on("load",function(){h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)},i,{single:!0}):i.read({node:a,callback:function(){delete i.lastOptions.callback,h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(a,b,c){var d=this;b.unjoin(d),b.phantom||c||Ext.Array.include(d.removed,b),!d.autoSync||d.autoSyncSuspended||c||d.sync()},onNodeAdded:function(a,b){var c,d=this,e=d.getProxy(),f=e.getReader(),g=b.raw||b[b.persistenceProperty];Ext.Array.remove(d.removed,b),b.join(d),b.isLeaf()||d.lazyFill||(c=f.getRoot(g),c&&(d.fillNode(b,f.extractData(c)),delete g[f.root])),d.autoSync&&!d.autoSyncSuspended&&(b.phantom||b.dirty)&&d.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(a,b){var c=this,d=c.model,e=d.prototype.idProperty;return a=a||{},a.isModel?a.isModel&&!a.isNode&&Ext.data.NodeInterface.decorate(d):(a=Ext.apply({},a),Ext.applyIf(a,{id:c.defaultRootId,text:c.defaultRootText,allowDrag:!1}),void 0===a[e]&&(a[e]=c.defaultRootId),Ext.data.NodeInterface.decorate(d),a=Ext.ModelManager.create(a,d)),c.getProxy().getReader().buildExtractors(!0),c.tree.setRootNode(a),b===!0||a.isLoaded()||c.autoLoad!==!0&&!a.isExpanded()||(a.data.expanded=!1,a.expand()),a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(a){a=a||{},a.params=a.params||{};var b=this,c=a.node||b.tree.getRootNode();return c||(c=b.setRootNode({expanded:!0},!0)),a.id=c.getId(),b.clearOnLoad&&(b.clearRemovedOnLoad&&b.clearRemoved(c),b.tree.un("remove",b.onNodeRemove,b),c.removeAll(!1),b.tree.on("remove",b.onNodeRemove,b)),Ext.applyIf(a,{node:c}),b.callParent([a]),b.loading&&c&&c.set("loading",!0),b},clearRemoved:function(a){var b,c,d,e=this,f=e.removed,g=a.getId(),h=f.length,i=h,j={},k=[],l={};if(a===e.getRootNode())return void(e.removed=[]);for(;i--;)b=f[i],l[b.getId()]=b;for(i=h;i--;){for(b=f[i],c=b;c&&c.getId()!==g;)d=c.get("parentId"),c=c.parentNode||e.getNodeById(d)||l[d];c&&(j[b.getId()]=b)}for(i=0;h>i;i++)b=f[i],j[b.getId()]||k.push(b);e.removed=k},fillNode:function(a,b){var c,d,e,f,g,h=this,i=b?b.length:0,j=h.sorters,k=!1,l=i&&h.sortOnLoad&&!h.remoteSort&&j&&j.items&&j.items.length;for(c=1;i>c&&(e=b[c],f=b[c-1],!(k=e[e.persistenceProperty].index!=f[f.persistenceProperty].index));c++);return l?(k&&h.sorters.insert(0,h.indexSorter),d=new Ext.util.MixedCollection,d.addAll(b),d.sort(h.sorters.items),b=d.items,h.sorters.remove(h.indexSorter)):k&&Ext.Array.sort(b,h.sortByIndex),a.set("loaded",!0),g=0===h.fillCount,g&&h.fireEvent("beforefill",h,a,b),++h.fillCount,b.length&&a.appendChild(b,void 0,!0),g&&h.fireEvent("fillcomplete",h,a,b),--h.fillCount,b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onIdChanged:function(a,b,c,d){this.tree.onNodeIdChanged(a,b,c,d),this.callParent(arguments)},onProxyLoad:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords(),e=a.node;b.loading=!1,e.set("loading",!1),c&&(b.clearOnLoad||(d=b.cleanRecords(e,d)),d=b.fillNode(e,d)),b.fireEvent("read",b,a.node,d,c),b.fireEvent("load",b,a.node,d,c),Ext.callback(a.callback,a.scope||b,[d,a,c])},cleanRecords:function(a,b){for(var c,d={},e=a.childNodes,f=0,g=e.length,h=[];g>f;++f)d[e[f].getId()]=!0;for(f=0,g=b.length;g>f;++f)c=b[f],d[c.getId()]||h.push(c);return h},removeAll:function(){var a=this.getRootNode();a&&a.destroy(!0),this.fireEvent("clear",this)},doSort:function(a){var b=this;b.remoteSort?b.load():(b.tree.sort(a,!0),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireEvent("sort",b,b.sorters.getRange())}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})}),Ext.cmd.derive("Ext.data.UuidGenerator",Ext.data.IdGenerator,function(){function a(a,b){var c=a.toString(16);return c.length>b?c=c.substring(c.length-b):c.length<b&&(c=Ext.String.leftPad(c,b,"0")),c}function b(a,b){var c=Math.random()*(b-a+1);return Math.floor(c)+a}function c(a){if("number"==typeof a){var b=Math.floor(a/g);return{lo:Math.floor(a-b*g),hi:b}}return a}var d=Math.pow(2,14),e=Math.pow(2,16),f=Math.pow(2,28),g=Math.pow(2,32);return{id:"uuid",version:4,constructor:function(){var a=this;a.callParent(arguments),a.parts=[],a.init()},generate:function(){var b=this,c=b.parts,d=b.timestamp;return c[0]=a(d.lo,8),c[1]=a(65535&d.hi,4),c[2]=a(d.hi>>>16&4095|b.version<<12,4),c[3]=a(128|b.clockSeq>>>8&63,2)+a(255&b.clockSeq,2),c[4]=a(b.salt.hi,4)+a(b.salt.lo,8),4==b.version?b.init():(++d.lo,d.lo>=g&&(d.lo=0,++d.hi)),c.join("-").toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var a,h,i=this;4==i.version?(i.clockSeq=b(0,d-1),a=i.salt||(i.salt={}),h=i.timestamp||(i.timestamp={}),a.lo=b(0,g-1),a.hi=b(0,e-1),h.lo=b(0,g-1),h.hi=b(0,f-1)):(i.salt=c(i.salt),i.timestamp=c(i.timestamp),i.salt.hi|=256)},reconfigure:function(a){Ext.apply(this,a),this.init()}}}(),1,0,0,0,["idgen.uuid"],0,[Ext.data,"UuidGenerator"],0),Ext.cmd.derive("Ext.data.reader.Xml",Ext.data.reader.Reader,{alternateClassName:"Ext.data.XmlReader",createAccessor:function(a){var b=this;return Ext.isEmpty(a)?Ext.emptyFn:Ext.isFunction(a)?a:function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){return a&&("function"==typeof a.normalize&&a.normalize(),a=a.firstChild)?a.nodeValue:void 0},getResponseData:function(a){var b,c,d=a.responseXML;return d?this.readRecords(d):(c="XML data not found in the response",b=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:c}),this.fireEvent("exception",this,a,b),Ext.Logger.warn(c),b)},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.root;return!c||b&&b==c?a:Ext.DomQuery.isXml(a)?Ext.DomQuery.selectNode(c,a):void 0},extractData:function(a){var b=this.record;return a=b!=a.nodeName?Ext.DomQuery.select(b,a):[a],this.callParent([a])},getAssociatedDataRoot:function(a,b){return Ext.DomQuery.select(b,a)[0]},readRecords:function(a){return Ext.isArray(a)&&(a=a[0]),this.xmlData=a,this.callParent([a])},createFieldAccessExpression:function(a,b,c){var d,e,f=this.namespace;return d=a.mapping||(f?f+"|":"")+a.name,e="function"==typeof d?b+".mapping("+c+", this)":'me.getNodeValue(Ext.DomQuery.selectNode("'+d+'", '+c+"))"}},0,0,0,0,["reader.xml"],0,[Ext.data.reader,"Xml",Ext.data,"XmlReader"],0),Ext.cmd.derive("Ext.data.writer.Xml",Ext.data.writer.Writer,{alternateClassName:"Ext.data.XmlWriter",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(a,b){var c,d,e=this,f=[],g=0,h=b.length,i=e.documentRoot,j=e.record,k=1!==b.length;for(f.push(e.header||""),!i&&k&&(i=e.defaultDocumentRoot),i&&f.push("<",i,">");h>g;++g){c=b[g],f.push("<",j,">");for(d in c)c.hasOwnProperty(d)&&f.push("<",d,">",c[d],"</",d,">");f.push("</",j,">")}return i&&f.push("</",i,">"),a.xmlData=f.join(""),a}},0,0,0,0,["writer.xml"],0,[Ext.data.writer,"Xml",Ext.data,"XmlWriter"],0),Ext.cmd.derive("Ext.data.XmlStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a),this.callParent([a])}},1,0,0,0,["store.xml"],0,[Ext.data,"XmlStore"],0),Ext.cmd.derive("Ext.data.association.BelongsTo",Ext.data.association.Association,{alternateClassName:"Ext.data.BelongsToAssociation",constructor:function(){this.callParent(arguments);var a=this,b=a.ownerModel.prototype,c=a.associatedName,d=a.getterName||"get"+c,e=a.setterName||"set"+c;Ext.applyIf(a,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"BelongsToInstance",associationKey:c.toLowerCase()}),b[d]=a.createGetter(),b[e]=a.createSetter()},createSetter:function(){var a=this,b=a.foreignKey,c=a.instanceName;return function(a,d,e){var f=a&&a.isModel,g=f?a.getId():a;return f?this[c]=a:this[c]instanceof Ext.data.Model&&!this.isEqual(this.get(b),g)&&delete this[c],this.set(b,g),Ext.isFunction(d)&&(d={callback:d,scope:e||this}),Ext.isObject(d)?this.save(d):void 0}},createGetter:function(){var a=this,b=a.associatedName,c=a.associatedModel,d=a.foreignKey,e=a.primaryKey,f=a.instanceName;return function(a,g){a=a||{};var h,i,j,k=this,l=k.get(d);return a.reload===!0||void 0===k[f]?(i=Ext.ModelManager.create({},b),i.set(e,l),"function"==typeof a&&(a={callback:a,scope:g||k}),h=a.success,a.success=function(a){k[f]=a,h&&h.apply(this,arguments)},c.load(l,a),k[f]=i,i):(i=k[f],j=[i],g=g||a.scope||k,Ext.callback(a,g,j),Ext.callback(a.success,g,j),Ext.callback(a.failure,g,j),Ext.callback(a.callback,g,j),i)}},read:function(a,b,c){a[this.instanceName]=b.read([c]).records[0]}},1,0,0,0,["association.belongsto"],0,[Ext.data.association,"BelongsTo",Ext.data,"BelongsToAssociation"],0),Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return-1!=Ext.Array.indexOf(this.uncountable,a)},pluralize:function(a){if(this.isTransnumeral(a))return a;var b,c,d,e=this.plurals,f=e.length;for(d=0;f>d;d++)if(b=e[d],c=b[0],c==a||c.test&&c.test(a))return a.replace(c,b[1]);return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b,c,d,e=this.singulars,f=e.length;for(d=0;f>d;d++)if(b=e[d],c=b[0],c==a||c.test&&c.test(a))return a.replace(c,b[1]);return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=b%10,d=b%100;if(d>=11&&13>=d)return a+"th";switch(c){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var a,b={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(a in b)this.plural(a,b[a]),this.singular(b[a],a)}),Ext.cmd.derive("Ext.data.association.HasMany",Ext.data.association.Association,{alternateClassName:"Ext.data.HasManyAssociation",constructor:function(){var a,b,c=this;c.callParent(arguments),c.name=c.name||Ext.util.Inflector.pluralize(c.associatedName.toLowerCase()),a=c.ownerModel.prototype,b=c.name,Ext.applyIf(c,{storeName:b+"Store",foreignKey:c.ownerName.toLowerCase()+"_id"}),a[b]=c.createStore()},createStore:function(){var a=this,b=a.associatedModel,c=a.storeName,d=a.foreignKey,e=a.primaryKey,f=a.filterProperty,g=a.autoLoad,h=a.storeConfig||{};
return function(){var a,i,j=this,k={};return void 0===j[c]&&(i=f?{property:f,value:j.get(f),exactMatch:!0}:{property:d,value:j.get(e),exactMatch:!0},k[d]=j.get(e),a=Ext.apply({},h,{model:b,filters:[i],remoteFilter:!1,modelDefaults:k,disableMetaChangeEvent:!0}),j[c]=Ext.data.AbstractStore.create(a),g&&j[c].load()),j[c]}},read:function(a,b,c){var d,e,f,g,h=a[this.name]();if(h.add(b.read(c).records),d=this.associatedModel.prototype.associations.findBy(function(b){return"belongsTo"===b.type&&b.associatedName===a.$className}))for(e=h.data.items,f=e.length,g=0;f>g;g++)e[g][d.instanceName]=a}},1,0,0,0,["association.hasmany"],0,[Ext.data.association,"HasMany",Ext.data,"HasManyAssociation"],0),Ext.cmd.derive("Ext.data.association.HasOne",Ext.data.association.Association,{alternateClassName:"Ext.data.HasOneAssociation",constructor:function(){this.callParent(arguments);var a=this,b=a.ownerModel.prototype,c=a.associatedName,d=a.getterName||"get"+c,e=a.setterName||"set"+c;Ext.applyIf(a,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"HasOneInstance",associationKey:c.toLowerCase()}),b[d]=a.createGetter(),b[e]=a.createSetter()},createSetter:function(){var a=this,b=a.foreignKey,c=a.instanceName;return function(a,d,e){var f=a&&a.isModel,g=f?a.getId():a;return f?this[c]=a:this[c]instanceof Ext.data.Model&&!this.isEqual(this.get(b),g)&&delete this[c],this.set(b,g),Ext.isFunction(d)&&(d={callback:d,scope:e||this}),Ext.isObject(d)?this.save(d):void 0}},createGetter:function(){var a=this,b=(a.ownerModel,a.associatedName),c=a.associatedModel,d=a.foreignKey,e=a.primaryKey,f=a.instanceName;return function(a,g){a=a||{};var h,i,j,k=this,l=k.get(d);return a.reload===!0||void 0===k[f]?(i=Ext.ModelManager.create({},b),i.set(e,l),"function"==typeof a&&(a={callback:a,scope:g||k}),h=a.success,a.success=function(a){k[f]=a,h&&h.apply(this,arguments)},c.load(l,a),k[f]=i,i):(i=k[f],j=[i],g=g||a.scope||k,Ext.callback(a,g,j),Ext.callback(a.success,g,j),Ext.callback(a.failure,g,j),Ext.callback(a.callback,g,j),i)}},read:function(a,b,c){var d=this.associatedModel.prototype.associations.findBy(function(b){return"belongsTo"===b.type&&b.associatedName===a.$className}),e=b.read([c]).records[0];a[this.instanceName]=e,d&&(e[d.instanceName]=a)}},1,0,0,0,["association.hasone"],0,[Ext.data.association,"HasOne",Ext.data,"HasOneAssociation"],0),Ext.cmd.derive("Ext.data.proxy.WebStorage",Ext.data.proxy.Client,{alternateClassName:"Ext.data.WebStorageProxy",id:void 0,constructor:function(){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:void 0),this.initialize()},create:function(a,b,c){var d,e,f,g=this,h=a.records,i=h.length,j=g.getIds();for(a.setStarted(),void 0===g.isHierarchical&&(g.isHierarchical=!!h[0].isNode,g.isHierarchical&&g.getStorageObject().setItem(g.getTreeKey(),!0)),f=0;i>f;f++)e=h[f],e.phantom?(e.phantom=!1,d=g.getNextId()):d=e.getId(),g.setRecord(e,d),e.commit(),j.push(d);g.setIds(j),a.setCompleted(),a.setSuccessful(),"function"==typeof b&&b.call(c||g,a)},read:function(a,b,c){var d,e,f,g,h,i=this,j=[],k=0,l=!0,m=i.model;if(a.setStarted(),i.isHierarchical)j=i.getTreeData();else if(d=i.getIds(),e=d.length,h=a.id)g=i.getRecord(h),null!==g&&(f=new m(g,h,g)),f?j.push(f):l=!1;else for(;e>k;k++)h=d[k],g=i.getRecord(h),j.push(new m(g,h,g));l&&a.setSuccessful(),a.setCompleted(),a.resultSet=Ext.create("Ext.data.ResultSet",{records:j,total:j.length,loaded:!0}),"function"==typeof b&&b.call(c||i,a)},update:function(a,b,c){var d,e,f,g=a.records,h=g.length,i=this.getIds();for(a.setStarted(),f=0;h>f;f++)d=g[f],this.setRecord(d),d.commit(),e=d.getId(),void 0!==e&&-1==Ext.Array.indexOf(i,e)&&i.push(e);this.setIds(i),a.setCompleted(),a.setSuccessful(),"function"==typeof b&&b.call(c||this,a)},destroy:function(a,b,c){var d,e=this,f=a.records,g=e.getIds(),h=g.length,i=[],j={},k=f.length;for(a.setStarted();k--;)Ext.apply(j,e.removeRecord(f[k]));for(k=0;h>k;k++)d=g[k],j[d]||i.push(d);e.setIds(i),a.setCompleted(),a.setSuccessful(),"function"==typeof b&&b.call(c||e,a)},getRecord:function(a){var b=this,c=b.cache,d=c[a]?c[a]:Ext.decode(b.getStorageObject().getItem(b.getRecordKey(a)));return d?(c[a]=d,d[b.model.prototype.idProperty]=a,d):null},setRecord:function(a,b){b?a.setId(b):b=a.getId();for(var c,d,e,f,g=this,h=a.data,i={},j=g.model,k=j.prototype.fields.items,l=k.length,m=0;l>m;m++)c=k[m],d=c.name,c.persist&&(i[d]=h[d]);delete i[g.model.prototype.idProperty],a.isNode&&1===a.get("depth")&&delete i.parentId,e=g.getStorageObject(),f=g.getRecordKey(b),g.cache[b]=i,e.removeItem(f),e.setItem(f,Ext.encode(i))},removeRecord:function(a){var b,c,d=this,e=a.getId(),f={};if(f[e]=a,d.getStorageObject().removeItem(d.getRecordKey(e)),delete d.cache[e],a.childNodes)for(c=a.childNodes,b=c.length;b--;)Ext.apply(f,d.removeRecord(c[b]));return f},getRecordKey:function(a){return a.isModel&&(a=a.getId()),Ext.String.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var a,b=this,c=(b.getStorageObject().getItem(b.id)||"").split(","),d=b.model,e=c.length,f="string"===d.prototype.fields.get(d.prototype.idProperty).type.type;if(1==e&&""===c[0])c=[];else for(a=0;e>a;a++)c[a]=f?c[a]:+c[a];return c},setIds:function(a){var b=this.getStorageObject(),c=a.join(",");b.removeItem(this.id),Ext.isEmpty(c)||b.setItem(this.id,c)},getNextId:function(){var a,b=this,c=b.getStorageObject(),d=b.getRecordCounterKey(),e=b.model,f="string"===e.prototype.fields.get(e.prototype.idProperty).type.type;return a=b.idGenerator.generate(),c.setItem(d,a),f||(a=+a),a},getTreeData:function(){for(var a,b,c,d,e,f,g=this,h=g.getIds(),i=h.length,j=[],k={},l=[],m=0,n=g.model,o=n.prototype.idProperty;i>m;m++)f=h[m],b=g.getRecord(f),j.push(b),k[f]=b,b.parentId||l.push(b);for(a=l.length,Ext.Array.sort(j,g.sortByParentId),m=a;i>m;m++)b=j[m],d=b.parentId,c&&c[o]===d||(c=k[d],c.children=e=[]),e.push(b);for(m=i;m--;)b=j[m],b.children||b.leaf||(b.loaded=!0);for(m=a;m--;)b=l[m],l[m]=new n(b,b[o],b);return l},sortByParentId:function(a,b){return(a.parentId||0)-(b.parentId||0)},initialize:function(){var a=this,b=a.getStorageObject(),c=+b.getItem(a.getRecordCounterKey());b.setItem(a.id,b.getItem(a.id)||""),b.getItem(a.getTreeKey())&&(a.isHierarchical=!0),a.idGenerator=new Ext.data.SequentialIdGenerator({seed:c?c+1:1})},clear:function(){var a,b=this,c=b.getStorageObject(),d=b.getIds(),e=d.length;for(a=0;e>a;a++)c.removeItem(b.getRecordKey(d[a]));c.removeItem(b.getRecordCounterKey()),c.removeItem(b.getTreeKey()),c.removeItem(b.id),b.cache={}},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,"WebStorage",Ext.data,"WebStorageProxy"],0),Ext.cmd.derive("Ext.data.proxy.LocalStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}},0,0,0,0,["proxy.localstorage"],0,[Ext.data.proxy,"LocalStorage",Ext.data,"LocalStorageProxy"],0),Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:!0,batchActions:!1,buildUrl:function(a){var b=this,c=a.operation,d=c.records||[],e=d[0],f=b.format,g=b.getUrl(a),h=e?e.getId():c.id;return b.appendId&&b.isValidId(h)&&(g.match(/\/$/)||(g+="/"),g+=h),f&&(g.match(/\.$/)||(g+="."),g+=f),a.url=g,b.callParent(arguments)},isValidId:function(a){return a||0===a}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0),Ext.cmd.derive("Ext.data.proxy.SessionStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}},0,0,0,0,["proxy.sessionstorage"],0,[Ext.data.proxy,"SessionStorage",Ext.data,"SessionStorageProxy"],0),Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0),Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){var b=this;Ext.apply(b,a),b.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),b.dragRegion=new Ext.util.Region(0,0,0,0),b.el&&b.initEl(b.el),b.mixins.observable.constructor.call(b),b.disabled&&b.disable()},initEl:function(a){var b=this;b.el=Ext.get(a),b.handle=Ext.get(b.delegate),b.delegate=b.handle?void 0:b.delegate,b.handle||(b.handle=b.el),b.handleListeners={scope:b,delegate:b.delegate,mousedown:b.onMouseDown},(b.trackOver||b.overCls)&&Ext.apply(b.handleListeners,{mouseover:b.onMouseOver,mouseout:b.onMouseOut}),b.mon(b.handle,b.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var a=this;a.active&&a.endDrag({}),a.clearListeners(),a.mun(a.handle,a.handleListeners),a.el=a.handle=null},onMouseOver:function(a,b){var c=this;c.disabled||(Ext.EventManager.contains(a)||c.delegate)&&(c.mouseIsOut=!1,c.overCls&&c.el.addCls(c.overCls),c.fireEvent("mouseover",c,a,c.delegate?a.getTarget(c.delegate,b):c.handle))},onMouseOut:function(a){var b=this;b.mouseIsDown?b.mouseIsOut=!0:(b.overCls&&b.el.removeCls(b.overCls),b.fireEvent("mouseout",b,a))},onMouseDown:function(a,b){var c,d=this;d.disabled||a.dragTracked||(d.dragTarget=d.delegate?b:d.handle.dom,d.startXY=d.lastXY=a.getXY(),d.startRegion=Ext.fly(d.dragTarget).getRegion(),d.fireEvent("mousedown",d,a)!==!1&&d.fireEvent("beforedragstart",d,a)!==!1&&d.onBeforeStart(a)!==!1&&(d.mouseIsDown=!0,a.dragTracked=!0,c=d.el.dom,Ext.isIE&&c.setCapture&&c.setCapture(),d.preventDefault!==!1&&a.preventDefault(),Ext.getDoc().on({scope:d,mouseup:d.onMouseUp,mousemove:d.onMouseMove,selectstart:d.stopSelect}),d.autoStart&&(d.timer=Ext.defer(d.triggerStart,d.autoStart===!0?1e3:d.autoStart,d,[a]))))},onMouseMove:function(a){var b=this,c=a.getXY(),d=b.startXY;if(a.preventDefault(),b.lastXY=c,!b.active){if(!(Math.max(Math.abs(d[0]-c[0]),Math.abs(d[1]-c[1]))>b.tolerance))return;b.triggerStart(a)}b.fireEvent("mousemove",b,a)===!1?b.onMouseUp(a):(b.onDrag(a),b.fireEvent("drag",b,a))},onMouseUp:function(a){var b=this;b.mouseIsDown=!1,b.mouseIsOut&&(b.mouseIsOut=!1,b.onMouseOut(a)),a.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),b.fireEvent("mouseup",b,a),b.endDrag(a)},endDrag:function(a){var b=this,c=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,scope:b}),b.clearStart(),b.active=!1,c&&(b.onEnd(a),b.fireEvent("dragend",b,a)),b._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(a){var b=this;b.clearStart(),b.active=!0,b.onStart(a),b.fireEvent("dragstart",b,a)},clearStart:function(){var a=this.timer;a&&(clearTimeout(a),this.timer=null)},stopSelect:function(a){return a.stopEvent(),!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region)return a.constrainTo;a._constrainRegion||(a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion())}else a._constrainRegion||(a._constrainRegion=a.getDragCt().getViewRegion());return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var b=this.getXY(a),c=this.startXY;return[b[0]-c[0],b[1]-c[1]]},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();return d?(c.x=c.left=c[0]=c.right=b[0],c.y=c.top=c[1]=c.bottom=b[1],c.constrainTo(d),[c.left,c.top]):b},dragTarget:function(a,b){var c,d=a.startXY,e=a.startRegion.copy(),f=a.getConstrainRegion();return f?(e.translateBy(b[0]-d[0],b[1]-d[1]),e.right>f.right&&(b[0]+=c=f.right-e.right,e.left+=c),e.left<f.left&&(b[0]+=f.left-e.left),e.bottom>f.bottom&&(b[1]+=c=f.bottom-e.bottom,e.top+=c),e.top<f.top&&(b[1]+=f.top-e.top),b):b}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0),Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(a,b){var c=this,d=c.containerScroll;c.callParent([a,b]),d&&(a=c.scrollEl||a,a=Ext.get(a),Ext.isObject(d)&&(a.ddScrollConfig=d),Ext.dd.ScrollManager.register(a))},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(a,b),!0},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0),Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:!0,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this),a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=a,this.els={},this.dragEl=null,this.proc={}},onStop:function(){var a=Ext.dd.ScrollManager;a.dragEl=null,a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,d=c?c.increment:this.increment;this.animate?b.scroll(a.dir,d,!0,this.animDuration,this.triggerRefresh):b.scroll(a.dir,d)&&this.triggerRefresh()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id),a.id=0,a.el=null,a.dir=""},startProc:function(a,b){this.clearProc(),this.proc.el=a,this.proc.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:void 0,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;(void 0===c||this.ddmInstance.dragCurrent.ddGroup==c)&&(this.proc.id=setInterval(this.doScroll,d))},onFire:function(a,b){if(!b&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());var c,d,e,f,g=(a.getXY(),a.getPoint()),h=this.proc,i=this.els;for(c in i)if(d=i[c],e=d._region,f=d.ddScrollConfig?d.ddScrollConfig:this,e&&e.contains(g)&&d.isScrollable()){if(e.bottom-g.y<=f.vthresh)return void(h.el!=d&&this.startProc(d,"down"));if(e.right-g.x<=f.hthresh)return void(h.el!=d&&this.startProc(d,"left"));if(g.y-e.top<=f.vthresh)return void(h.el!=d&&this.startProc(d,"up"));if(g.x-e.left<=f.hthresh)return void(h.el!=d&&this.startProc(d,"right"))}this.clearProc()}},register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++)this.register(a[b]);else a=Ext.get(a),this.els[a.id]=a},unregister:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++)this.unregister(a[b]);else a=Ext.get(a),delete this.els[a.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var a,b=this.els;for(a in b)"object"==typeof b[a]&&(b[a]._region=b[a].getRegion())}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0),Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0),Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(a,b){if("string"==typeof a)return a;var c=a.id;return c||b===!1||(c="extdd-"+ ++this.autoIdSeed,a.id=c),c},register:function(a,b){if(b=b||{},"string"==typeof a&&(a=document.getElementById(a)),b.ddel=a,this.elements[this.getId(a)]=b,b.isHandle!==!1&&(this.handles[b.ddel.id]=b),b.handles){var c,d,e=b.handles;for(c=0,d=e.length;d>c;c++)this.handles[this.getId(e[c])]=b}},unregister:function(a){var b,c,d,e=this.getId(a,!1),f=this.elements[e];if(f&&(delete this.elements[e],f.handles))for(b=f.handles,c=0,d=b.length;d>c;c++)delete this.handles[this.getId(b[c],!1)]},getHandle:function(a){return"string"!=typeof a&&(a=a.id),this.handles[a]},getHandleFromEvent:function(a){var b=a.getTarget();return b?this.handles[b.id]:null},getTarget:function(a){return"string"!=typeof a&&(a=a.id),this.elements[a]},getTargetFromEvent:function(a){var b=a.getTarget();return b?this.elements[b.id]||this.handles[b.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0),Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);return d?(this.lastOverNode!=d&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,a,b,c),this.onNodeEnter(d,a,b,c),this.lastOverNode=d),this.onNodeOver(d,a,b,c)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c))},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){var d=this,e=d.getTargetFromEvent(b),f=e?d.onNodeDrop(e,a,b,c):d.onContainerDrop(a,b,c);return d.lastOverNode&&(d.onNodeOut(d.lastOverNode,a,b,c),d.lastOverNode=null),f},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0),Ext.cmd.derive("Ext.direct.Event",Ext.Base,{status:!0,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}},1,0,0,0,["direct.event"],0,[Ext.direct,"Event"],0),Ext.cmd.derive("Ext.direct.RemotingEvent",Ext.direct.Event,{getTransaction:function(){var a=this;return a.transaction||Ext.direct.Manager.getTransaction(a.tid)}},0,0,0,0,["direct.rpc"],0,[Ext.direct,"RemotingEvent"],0),Ext.cmd.derive("Ext.direct.ExceptionEvent",Ext.direct.RemotingEvent,{status:!1},0,0,0,0,["direct.exception"],0,[Ext.direct,"ExceptionEvent"],0),Ext.cmd.derive("Ext.direct.JsonProvider",Ext.direct.Provider,{parseResponse:function(a){return Ext.isEmpty(a.responseText)?null:Ext.isObject(a.responseText)?a.responseText:Ext.decode(a.responseText)},createEvents:function(a){var b,c,d,e=this,f=null,g=[];try{f=e.parseResponse(a)}catch(h){return b=new Ext.direct.ExceptionEvent({data:h,xhr:a,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+h}),[b]}if(Ext.isArray(f))for(c=0,d=f.length;d>c;++c)g.push(e.createEvent(f[c]));else Ext.isObject(f)&&g.push(e.createEvent(f));return g},createEvent:function(a){return"object"==typeof a&&"type"in a?Ext.create("direct."+a.type,a):new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}},0,0,0,0,["direct.jsonprovider"],0,[Ext.direct,"JsonProvider"],0),Ext.cmd.derive("Ext.direct.PollingProvider",Ext.direct.JsonProvider,{interval:3e3,constructor:function(){var a=this;a.callParent(arguments),a.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var a=this,b=a.url;b&&!a.pollTask&&(a.pollTask=Ext.TaskManager.start({run:a.runPoll,interval:a.interval,scope:a}),a.fireEvent("connect",a))},disconnect:function(){var a=this;a.pollTask&&(Ext.TaskManager.stop(a.pollTask),delete a.pollTask,a.fireEvent("disconnect",a))},runPoll:function(){var a=this,b=a.url;a.fireEvent("beforepoll",a)!==!1&&(Ext.isFunction(b)?b(a.baseParams):Ext.Ajax.request({url:b,callback:a.onData,scope:a,params:a.baseParams}),a.fireEvent("poll",a))},onData:function(a,b,c){var d,e,f,g=this;if(b)for(f=g.createEvents(c),d=0,e=f.length;e>d;++d)g.fireEvent("data",g,f[d]);else f=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),g.fireEvent("data",g,f)}},1,0,0,0,["direct.pollingprovider"],0,[Ext.direct,"PollingProvider"],0),Ext.cmd.derive("Ext.direct.RemotingMethod",Ext.Base,{constructor:function(a){var b,c,d,e,f=this,g=Ext.isDefined(a.params)?a.params:a.len;if(f.name=a.name,f.formHandler=a.formHandler,Ext.isNumeric(g))f.len=g,f.ordered=!0;else for(f.params={},c=g.length,d=0;c>d;d++)e=g[d],b=Ext.isObject(e)?e.name:e,f.params[b]=!0},getArgs:function(a,b,c){var d,e,f=this,g=[];if(f.ordered){if(f.len>0)if(b)for(d=0,e=b.length;e>d;d++)g.push(a[b[d]]);else c&&g.push(a)}else g.push(a);return g},getCallData:function(a){var b,c,d,e,f=this,g=null,h=f.len,i=f.params;if(f.ordered)b=a[h],c=a[h+1],e=a[h+2],0!==h&&(g=a.slice(0,h));else{g=Ext.apply({},a[0]),b=a[1],c=a[2],e=a[3];for(d in g)g.hasOwnProperty(d)&&!i[d]&&delete g[d]}return{data:g,callback:b,scope:c,options:e}}},1,0,0,0,0,0,[Ext.direct,"RemotingMethod"],0),Ext.cmd.derive("Ext.direct.Transaction",Ext.Base,{alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(a){var b=this;Ext.apply(b,a),b.id=b.tid=++b.self.TRANSACTION_ID,b.retryCount=0},send:function(){var a=this;a.provider.queueTransaction(a)},retry:function(){var a=this;a.retryCount++,a.send()},getProvider:function(){return this.provider}},1,0,0,0,["direct.transaction"],0,[Ext.direct,"Transaction",Ext.Direct,"Transaction"],0),Ext.cmd.derive("Ext.direct.RemotingProvider",Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,constructor:function(){var a=this;a.callParent(arguments),a.addEvents("beforecall","call","beforecallback"),a.namespace=Ext.isString(a.namespace)?Ext.ns(a.namespace):a.namespace||Ext.global,a.transactions=new Ext.util.MixedCollection,a.callBuffer=[]},getNamespace:function(a,b){var c,d,e,f;for(a=a||Ext.global,c=b.toString().split("."),e=0,f=c.length;f>e;e++)if(d=c[e],a=a[d],"undefined"==typeof a)return a;return a},createNamespaces:function(a,b){var c,d;a=a||Ext.global,c=b.toString().split(".");for(var e=0,f=c.length;f>e;e++)d=c[e],a[d]=a[d]||{},a=a[d];return a},initAPI:function(){var a,b,c,d,e,f,g=this,h=g.actions,i=g.namespace;for(a in h)if(h.hasOwnProperty(a))for(g.disableNestedActions?(b=i[a],b||(b=i[a]={})):(b=g.getNamespace(i,a),b||(b=g.createNamespaces(i,a))),c=h[a],d=0,e=c.length;e>d;++d)f=new Ext.direct.RemotingMethod(c[d]),b[f.name]=g.createHandler(a,f)},createHandler:function(a,b){var c,d=this,e=Array.prototype.slice;return c=b.formHandler?function(c,e,f){d.configureFormRequest(a,b,c,e,f)}:function(){d.configureRequest(a,b,e.call(arguments,0))},c.directCfg={action:a,method:b},c},isConnected:function(){return!!this.connected},connect:function(){var a=this;a.url&&(a.initAPI(),a.connected=!0,a.fireEvent("connect",a))},disconnect:function(){var a=this;a.connected&&(a.connected=!1,a.fireEvent("disconnect",a))},runCallback:function(a,b){var c,d,e,f=!!b.status,g=f?"success":"failure";a&&a.callback&&(c=a.callback,d=a.callbackOptions,e="undefined"!=typeof b.result?b.result:b.data,Ext.isFunction(c)?c(e,b,f,d):(Ext.callback(c[g],c.scope,[e,b,f,d]),Ext.callback(c.callback,c.scope,[e,b,f,d])))},onData:function(a,b,c){var d,e,f,g,h,i,j=this;if(b)for(f=j.createEvents(c),d=0,e=f.length;e>d;++d)g=f[d],h=j.getTransaction(g),j.fireEvent("data",j,g),h&&j.fireEvent("beforecallback",j,g,h)!==!1&&(j.runCallback(h,g,!0),Ext.direct.Manager.removeTransaction(h));else for(i=[].concat(a.transaction),d=0,e=i.length;e>d;++d)h=j.getTransaction(i[d]),h&&h.retryCount<j.maxRetries?h.retry():(g=new Ext.direct.ExceptionEvent({data:null,transaction:h,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),j.fireEvent("data",j,g),h&&j.fireEvent("beforecallback",j,h)!==!1&&(j.runCallback(h,g,!1),Ext.direct.Manager.removeTransaction(h)))},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(a,b,c){var d,e,f,g,h,i,j,k=this;d=b.getCallData(c),e=d.data,f=d.callback,g=d.scope,h=d.options||{},j=Ext.apply({},{provider:k,args:c,action:a,method:b.name,data:e,callbackOptions:h,callback:g&&Ext.isFunction(f)?Ext.Function.bind(f,g):f}),h.timeout&&Ext.applyIf(j,{timeout:h.timeout}),i=new Ext.direct.Transaction(j),k.fireEvent("beforecall",k,i,b)!==!1&&(Ext.direct.Manager.addTransaction(i),k.queueTransaction(i),k.fireEvent("call",k,i,b))},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.id}},sendRequest:function(a){var b,c,d,e,f,g=this,h=g.enableUrlEncode;if(b={url:g.url,callback:g.onData,scope:g,transaction:a,timeout:g.timeout},a.timeout&&(b.timeout=a.timeout),Ext.isArray(a))for(c=[],e=0,f=a.length;f>e;++e)c.push(g.getCallData(a[e]));else c=g.getCallData(a);h?(d={},d[Ext.isString(h)?h:"data"]=Ext.encode(c),b.params=d):b.jsonData=c,Ext.Ajax.request(b)},queueTransaction:function(a){var b=this,c=b.enableBuffer;return a.form?void b.sendFormRequest(a):c===!1||"undefined"!=typeof a.timeout?void b.sendRequest(a):(b.callBuffer.push(a),void(c?(b.callTask||(b.callTask=new Ext.util.DelayedTask(b.combineAndSend,b)),b.callTask.delay(Ext.isNumber(c)?c:10)):b.combineAndSend()))},combineAndSend:function(){var a=this,b=a.callBuffer,c=b.length;c>0&&(a.sendRequest(1==c?b[0]:b),a.callBuffer=[])},configureFormRequest:function(a,b,c,d,e){var f,g,h,i=this;f=new Ext.direct.Transaction({provider:i,action:a,method:b.name,args:[c,d,e],callback:e&&Ext.isFunction(d)?Ext.Function.bind(d,e):d,isForm:!0}),i.fireEvent("beforecall",i,f,b)!==!1&&(Ext.direct.Manager.addTransaction(f),g="multipart/form-data"==String(c.getAttribute("enctype")).toLowerCase(),h={extTID:f.id,extAction:a,extMethod:b.name,extType:"rpc",extUpload:String(g)},Ext.apply(f,{form:Ext.getDom(c),isUpload:g,params:d&&Ext.isObject(d.params)?Ext.apply(h,d.params):h}),i.fireEvent("call",i,f,b),i.sendFormRequest(f))},sendFormRequest:function(a){var b=this;Ext.Ajax.request({url:b.url,params:a.params,callback:b.onData,scope:b,form:a.form,isUpload:a.isUpload,transaction:a})}},1,0,0,0,["direct.remotingprovider"],0,[Ext.direct,"RemotingProvider"],0),Ext.cmd.derive("Ext.dom.Layer",Ext.Element,{alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a,b){a=a||{};var c=this,d=Ext.DomHelper,e=a.parentEl,f=e?Ext.getDom(e):document.body,g=a.hideMode,h=Ext.baseCSSPrefix+(!a.fixed||Ext.isIE6||Ext.isIEQuirks?"layer":"fixed-layer");c.el=c,b&&(c.dom=Ext.getDom(b)),c.dom?(c.addCls(h),c.dom.parentNode||f.appendChild(c.dom)):c.dom=d.append(f,a.dh||{tag:"div",cls:h}),a.preventSync&&(c.preventSync=!0),c.id=a.id?c.dom.id=a.id:Ext.id(c.dom),Ext.Element.addToCache(c),a.cls&&c.addCls(a.cls),c.constrain=a.constrain!==!1,g?(c.setVisibilityMode(Ext.Element[g.toUpperCase()]),c.visibilityMode==Ext.Element.ASCLASS&&(c.visibilityCls=a.visibilityCls)):c.setVisibilityMode(a.useDisplay?Ext.Element.DISPLAY:Ext.Element.VISIBILITY),a.shadow?(c.shadowOffset=a.shadowOffset||4,c.shadow=new Ext.Shadow({offset:c.shadowOffset,mode:a.shadow,fixed:a.fixed}),c.disableShadow()):c.shadowOffset=0,c.useShim=a.shim!==!1&&Ext.useShims,a.hidden===!0?c.hide():c.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a,b,c=this;return c.useShim?(c.shim||(a=c.self.shims.shift(),a||(a=c.createShim(),a.enableDisplayMode("block"),a.hide()),b=c.dom.parentNode,a.dom.parentNode!=b&&b.insertBefore(a.dom,c.dom),c.shim=a),c.shim):null},hideShim:function(){var a=this;a.shim&&(a.shim.setDisplayed(!1),a.self.shims.push(a.shim),delete a.shim)},disableShadow:function(){var a=this;a.shadow&&!a.shadowDisabled&&(a.shadowDisabled=!0,a.shadow.hide(),a.lastShadowOffset=a.shadowOffset,a.shadowOffset=0)},enableShadow:function(a){var b=this;b.shadow&&b.shadowDisabled&&(b.shadowDisabled=!1,b.shadowOffset=b.lastShadowOffset,delete b.lastShadowOffset,a&&b.sync(!0))},sync:function(a){var b,c,d,e,f,g,h,i,j,k,l=this,m=l.shadow;if(!l.preventSync)return!l.updating&&l.isVisible()&&(m||l.useShim)&&(e=l.getShim(),f=l[l.localXYNames.get](),g=f[0],h=f[1],i=l.dom.offsetWidth,j=l.dom.offsetHeight,m&&!l.shadowDisabled?(a&&!m.isVisible()?m.show(l):m.realign(g,h,i,j),e&&(k=e.getStyle("z-index"),k>l.zindex&&l.shim.setStyle("z-index",l.zindex-2),e.show(),m.isVisible()?(b=m.el.getXY(),c=e.dom.style,d=m.el.getSize(),Ext.supports.CSS3BoxShadow&&(d.height+=6,d.width+=4,b[0]-=2,b[1]-=4),c.left=b[0]+"px",c.top=b[1]+"px",c.width=d.width+"px",c.height=d.height+"px"):(e.setSize(i,j),e[l.localXYNames.set](g,h)))):e&&(k=e.getStyle("z-index"),k>l.zindex&&l.shim.setStyle("z-index",l.zindex-2),e.show(),e.setSize(i,j),e[l.localXYNames.set](g,h))),l},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],f=d[1],g=this.shadowOffset,h=this.dom.offsetWidth+g,i=this.dom.offsetHeight+g,j=!1;e+h>a+c.left&&(e=a-h-g,j=!0),f+i>b+c.top&&(f=b-i-g,j=!0),e<c.left&&(e=c.left,j=!0),f<c.top&&(f=c.top,j=!0),j&&(Ext.Layer.superclass.setXY.call(this,[e,f]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(a,b,c,d,e){var f,g=this;return f=function(){a&&g.sync(!0),d&&d()},a||g.hideUnders(!0),g.callParent([a,b,c,d,e]),b||f(),g},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(){return this.callParent(arguments),this.sync()},setTop:function(){return this.callParent(arguments),this.sync()},setLeftTop:function(){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(a,b,c,d,e){var f=this;return d=f.createCB(d),f.fixDisplay(),f.beforeAction(),f.callParent([a,b,c,d,e]),b||d(),f},createCB:function(a){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY(),b.sync(c),a&&a()}},setX:function(a,b,c,d,e){return this.setXY([a,this.getY()],b,c,d,e),this},setY:function(a,b,c,d,e){return this.setXY([this.getX(),a],b,c,d,e),this},setSize:function(a,b,c,d,e,f){var g=this;return e=g.createCB(e),g.beforeAction(),g.callParent([a,b,c,d,e,f]),c||e(),g},setWidth:function(a,b,c,d,e){var f=this;return d=f.createCB(d),f.beforeAction(),f.callParent([a,b,c,d,e]),b||d(),f},setHeight:function(a,b,c,d,e){var f=this;
return d=f.createCB(d),f.beforeAction(),f.callParent([a,b,c,d,e]),b||d(),f},setBounds:function(a,b,c,d,e,f,g,h){var i=this;return g=i.createCB(g),i.beforeAction(),e?i.callParent([a,b,c,d,e,f,g,h]):(Ext.Layer.superclass.setXY.call(i,[a,b]),Ext.Layer.superclass.setSize.call(i,c,d),g()),i},setZIndex:function(a){var b=this;return b.zindex=a,b.getShim()&&b.shim.setStyle("z-index",a++),b.shadow&&b.shadow.setZIndex(a++),b.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;b&&b.setOpacity(a)}},1,0,0,0,0,0,[Ext.dom,"Layer",Ext,"Layer"],0),Ext.cmd.derive("Ext.draw.Matrix",Ext.Base,{constructor:function(a,b,c,d,e,f){this.matrix=null!=a?[[a,c,e],[b,d,f],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(a,b,c,d,e,f){var g,h,i,j,k=this,l=[[],[],[]],m=[[a,c,e],[b,d,f],[0,0,1]];for(g=0;3>g;g++)for(h=0;3>h;h++){for(j=0,i=0;3>i;i++)j+=k.matrix[g][i]*m[i][h];l[g][h]=j}k.matrix=l},prepend:function(a,b,c,d,e,f){var g,h,i,j,k=this,l=[[],[],[]],m=[[a,c,e],[b,d,f],[0,0,1]];for(g=0;3>g;g++)for(h=0;3>h;h++){for(j=0,i=0;3>i;i++)j+=m[g][i]*k.matrix[i][h];l[g][h]=j}k.matrix=l},invert:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2],h=b*e-c*d;return new Ext.draw.Matrix(e/h,-c/h,-d/h,b/h,(d*g-e*f)/h,(c*f-b*g)/h)},clone:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2];return new Ext.draw.Matrix(b,c,d,e,f,g)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(a,b,c,d){var e=this;null==b&&(b=a),e.add(a,0,0,b,c*(1-a),d*(1-b))},rotate:function(a,b,c){a=Ext.draw.Draw.rad(a);var d=this,e=+Math.cos(a).toFixed(9),f=+Math.sin(a).toFixed(9);d.add(e,f,-f,e,b-e*b+f*c,-(f*b)+c-e*c)},x:function(a,b){var c=this.matrix;return a*c[0][0]+b*c[0][1]+c[0][2]},y:function(a,b){var c=this.matrix;return a*c[1][0]+b*c[1][1]+c[1][2]},get:function(a,b){return+this.matrix[a][b].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSvg:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(a,b){var c=this;return a=a||0,b=b||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+c.get(0,0)+", M12="+c.get(0,1)+", M21="+c.get(1,0)+", M22="+c.get(1,1)+", Dx="+(c.get(0,2)+a)+", Dy="+(c.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function a(a){return a[0]*a[0]+a[1]*a[1]}function b(b){var c=Math.sqrt(a(b));b[0]/=c,b[1]/=c}var c,d=this.matrix,e={translateX:d[0][2],translateY:d[1][2]};return c=[[d[0][0],d[0][1]],[d[1][1],d[1][1]]],e.scaleX=Math.sqrt(a(c[0])),b(c[0]),e.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1],c[1]=[c[1][0]-c[0][0]*e.shear,c[1][1]-c[0][1]*e.shear],e.scaleY=Math.sqrt(a(c[1])),b(c[1]),e.shear/=e.scaleY,e.rotate=Math.asin(-c[0][1]),e.isSimple=!(+e.shear.toFixed(9)||e.scaleX.toFixed(9)!=e.scaleY.toFixed(9)&&e.rotate),e}},3,0,0,0,0,0,[Ext.draw,"Matrix"],0),Ext.cmd.derive("Ext.draw.SpriteDD",Ext.dd.DragSource,{constructor:function(a,b){var c=this,d=a.el;c.sprite=a,c.el=d,c.dragData={el:d,sprite:a},c.callParent([d,b]),c.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(){return this.el},getRegion:function(){var a,b,c,d,e,f,g,h=this,i=h.el;g=h.sprite,f=g.getBBox();try{a=Ext.Element.getXY(i)}catch(j){}return a?(b=a[0],c=b+f.width,d=a[1],e=d+f.height,new Ext.util.Region(d,c,e,b)):null},startDrag:function(a,b){{var c=this;c.sprite.attr}c.prev=c.sprite.surface.transformToViewBox(a,b)},onDrag:function(a){var b,c,d=a.getXY(),e=this,f=e.sprite,g=f.attr;d=e.sprite.surface.transformToViewBox(d[0],d[1]),b=d[0]-e.prev[0],c=d[1]-e.prev[1],f.setAttributes({translate:{x:g.translation.x+b,y:g.translation.y+c}},!0),e.prev=d},setDragElPos:function(){return!1}},1,0,0,0,0,0,[Ext.draw,"SpriteDD"],0),Ext.cmd.derive("Ext.draw.Sprite",Ext.Base,{dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){var b=this;a=Ext.merge({},a||{}),b.id=Ext.id(null,"ext-sprite-"),b.transformations=[],Ext.copyTo(this,a,"surface,group,type,draggable"),b.bbox={},b.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete a.surface,delete a.group,delete a.type,delete a.draggable,b.setAttributes(a),b.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),b.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var a=this;a.el||a.surface.createSpriteElement(a),a.dd=new Ext.draw.SpriteDD(a,Ext.isBoolean(a.draggable)?null:a.draggable),a.on("beforedestroy",a.dd.destroy,a.dd)},setAttributes:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.fontProperties,m=l.length,n=k.pathProperties,o=n.length,p=!!k.surface,q=p&&k.surface.customAttributes||{},r=k.attr,s=!1;a=Ext.apply({},a);for(c in q)a.hasOwnProperty(c)&&"function"==typeof q[c]&&Ext.apply(a,q[c].apply(k,[].concat(a[c])));for(!!a.hidden!=!!r.hidden&&(k.dirtyHidden=!0),d=0;o>d;d++)if(c=n[d],c in a&&a[c]!==r[c]){k.dirtyPath=!0,s=!0;break}"zIndex"in a&&(k.zIndexDirty=!0),"text"in a&&(k.dirtyFont=!0,s=!0);for(d=0;m>d;d++)if(c=l[d],c in a&&a[c]!==r[c]){k.dirtyFont=!0,s=!0;break}return e=a.translation||a.translate,delete a.translate,delete a.translation,f=r.translation,e&&("x"in e&&e.x!==f.x||"y"in e&&e.y!==f.y)&&(k.dirtyTransform=!0,f.x=e.x,f.y=e.y),g=a.rotation||a.rotate,h=r.rotation,delete a.rotate,delete a.rotation,g&&("x"in g&&g.x!==h.x||"y"in g&&g.y!==h.y||"degrees"in g&&g.degrees!==h.degrees)&&(k.dirtyTransform=!0,h.x=g.x,h.y=g.y,h.degrees=g.degrees),i=a.scaling||a.scale,j=r.scaling,delete a.scale,delete a.scaling,i&&("x"in i&&i.x!==j.x||"y"in i&&i.y!==j.y||"cx"in i&&i.cx!==j.cx||"cy"in i&&i.cy!==j.cy)&&(k.dirtyTransform=!0,j.x=i.x,j.y=i.y,j.cx=i.cx,j.cy=i.cy),!k.dirtyTransform&&s&&(null===r.scaling.x||null===r.scaling.y||null===r.rotation.y||null===r.rotation.y)&&(k.dirtyTransform=!0),Ext.apply(r,a),k.dirty=!0,b===!0&&p&&k.redraw(),this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){return this.setAttributes({hidden:!0},a),this},show:function(a){return this.setAttributes({hidden:!1},a),this},remove:function(){return this.surface?(this.surface.remove(this),!0):!1},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var a=this;a.fireEvent("beforedestroy",a)!==!1&&(a.remove(),a.surface.onDestroy(a),a.clearListeners(),a.fireEvent("destroy"))},redraw:function(){return this.surface.renderItem(this),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(a){return this.surface.addCls(this,a),this},removeCls:function(a){return this.surface.removeCls(this,a),this}},1,0,0,0,0,[["observable",Ext.util.Observable],["animate",Ext.util.Animate]],[Ext.draw,"Sprite"],0),Ext.cmd.derive("Ext.draw.Text",Ext.draw.Component,{text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var a=this;a.textConfig=Ext.apply({type:"text",text:a.text,rotate:{degrees:a.degrees||0}},a.textStyle),Ext.apply(a.textConfig,a.getStyles(a.styleSelectors||a.styleSelector)),a.initialConfig.items=[a.textConfig],a.callParent(arguments)},getStyles:function(a){a=Ext.Array.from(a);for(var b,c,d=0,e=a.length,f={};e>d;d++)b=Ext.util.CSS.getRule(a[d]),b&&(c=b.style,c&&Ext.apply(f,{"font-family":c.fontFamily,"font-weight":c.fontWeight,"line-height":c.lineHeight,"font-size":c.fontSize,fill:c.color}));return f},setAngle:function(a){var b,c,d=this;d.rendered?(b=d.surface,c=b.items.items[0],d.degrees=a,c.setAttributes({rotate:{degrees:a}},!0),(d.autoSize||d.viewBox)&&d.updateLayout()):d.degrees=a},setText:function(a){var b,c,d=this;d.rendered?(b=d.surface,c=b.items.items[0],d.text=a||"",b.remove(c),d.textConfig.type="text",d.textConfig.text=d.text,c=b.add(d.textConfig),c.setAttributes({rotate:{degrees:d.degrees}},!0),(d.autoSize||d.viewBox)&&d.updateLayout()):d.on({render:function(){d.setText(a)},single:!0})}},0,["text"],["draw","text","component","box"],{draw:!0,text:!0,component:!0,box:!0},["widget.text"],0,[Ext.draw,"Text"],0),Ext.cmd.derive("Ext.draw.engine.ImageExporter",Ext.Base,{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(a,b){b=b||{};var c,d=this,e=b.type;return-1===Ext.Array.indexOf(d.supportedTypes,e)?!1:(c=Ext.getBody().createChild({tag:"form",method:"POST",action:b.url||d.defaultUrl,cls:d.formCls,children:[{tag:"input",type:"hidden",name:b.widthParam||d.widthParam,value:b.width||a.width},{tag:"input",type:"hidden",name:b.heightParam||d.heightParam,value:b.height||a.height},{tag:"input",type:"hidden",name:b.typeParam||d.typeParam,value:e},{tag:"input",type:"hidden",name:b.svgParam||d.svgParam}]}),c.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(a),c.dom.submit(),c.remove(),!0)}},0,0,0,0,0,0,[Ext.draw.engine,"ImageExporter"],0),Ext.cmd.derive("Ext.draw.engine.Svg",Ext.draw.Surface,{engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(a,b){var c,d=this.domRef.createElementNS("http://www.w3.org/2000/svg",a);if(b)for(c in b)d.setAttribute(c,String(b[c]));return d},createSpriteElement:function(a){var b=this.createSvgElement(a.type);return b.id=a.id,b.style&&(b.style.webkitTapHighlightColor="rgba(0,0,0,0)"),a.el=Ext.get(b),this.applyZIndex(a),a.matrix=new Ext.draw.Matrix,a.bbox={plain:0,transform:0},this.applyAttrs(a),this.applyTransformations(a),a.fireEvent("render",a),b},getBBoxText:function(a){var b,c,d,e,f,g,h={};if(a&&a.el){g=a.el.dom;try{return h=g.getBBox()}catch(i){}for(h={x:h.x,y:1/0,width:0,height:0},f=g.getNumberOfChars(),e=0;f>e;e++)b=g.getExtentOfChar(e),h.y=Math.min(b.y,h.y),c=b.y+b.height-h.y,h.height=Math.max(h.height,c),d=b.x+b.width-h.x,h.width=Math.max(h.width,d);return h}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(a,b){for(var c,d,e=new Ext.draw.Matrix,f=a.transformations,g=f.length,h=0;g>h;h++)c=f[h],d=c.type,"translate"==d?e.translate(c.x,c.y):"rotate"==d?e.rotate(c.degrees,c.x,c.y):"scale"==d&&e.scale(c.x,c.y,c.centerX,c.centerY);a.matrix=e,b||a.el.set({transform:e.toSvg()})},setSize:function(a,b){var c=this,d=c.el;a=+a||c.width,b=+b||c.height,c.width=a,c.height=b,d.setSize(a,b),d.set({width:a,height:b}),c.callParent([a,b])},getRegion:function(){var a=this.el.getXY(),b=this.bgRect.getXY(),c=Math.max,d=c(a[0],b[0]),e=c(a[1],b[1]);return{left:d,top:e,right:d+this.width,bottom:e+this.height}},onRemove:function(a){a.el&&(a.el.destroy(),delete a.el),this.callParent(arguments)},setViewBox:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[a,b,c,d].join(" ")))},render:function(a){var b,c,d,e,f,g,h=this;h.el||(b=h.width||0,c=h.height||0,d=h.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:b,height:c}),e=h.getDefs(),f=h.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(g=h.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),d.appendChild(e),Ext.isSafari3&&d.appendChild(g),d.appendChild(f),a.appendChild(d),h.el=Ext.get(d),h.bgRect=Ext.get(f),Ext.isSafari3&&(h.webkitRect=Ext.get(g),h.webkitRect.hide()),h.el.on({scope:h,mouseup:h.onMouseUp,mousedown:h.onMouseDown,mouseover:h.onMouseOver,mouseout:h.onMouseOut,mousemove:h.onMouseMove,mouseenter:h.onMouseEnter,mouseleave:h.onMouseLeave,click:h.onClick,dblclick:h.onDblClick})),h.renderAll()},onMouseEnter:function(a){this.el.parent().getRegion().contains(a.getPoint())&&this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.el.parent().getRegion().contains(a.getPoint())||this.fireEvent("mouseleave",a)},processEvent:function(a,b){{var c,d=b.getTarget();this.surface}this.fireEvent(a,b),"tspan"==d.nodeName&&d.parentNode&&(d=d.parentNode),c=this.items.get(d.id),c&&c.fireEvent(a,c,b)},tuneText:function(a,b){var c,d,e,f,g,h,i=(a.el.dom,[]);if(b.hasOwnProperty("text")&&(d=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join(""),a.tspans&&b.text==d?i=a.tspans||[]:(i=this.setText(a,b.text),a.tspans=i)),i.length){for(c=this.getBBoxText(a).height,h=a.el.dom.getAttribute("x"),e=0,f=i.length;f>e;e++)g=Ext.isFF3_0||Ext.isFF3_5?2:4,i[e].setAttribute("x",h),i[e].setAttribute("dy",e?1.2*c:c/g);a.dirty=!0}},setText:function(a,b){for(var c,d,e,f,g,h=this,i=a.el.dom,j=[];i.firstChild;)i.removeChild(i.firstChild);for(g=String(b).split("\n"),e=0,f=g.length;f>e;e++)d=g[e],d&&(c=h.createSvgElement("tspan"),c.appendChild(document.createTextNode(Ext.htmlDecode(d))),i.appendChild(c),j[e]=c);return j},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){this.el&&(a.el||this.createSpriteElement(a),a.zIndexDirty&&this.applyZIndex(a),a.dirty&&(this.applyAttrs(a),a.dirtyTransform&&this.applyTransformations(a)))},redraw:function(a){a.dirty=a.zIndexDirty=!0,this.renderItem(a)},applyAttrs:function(a){var b,c,d,e,f,g,h=this,i=a.el,j=a.group,k=a.attr,l=h.parsers,m=h.gradientsMap||{},n=Ext.isSafari&&!Ext.isStrict;if(j){for(b=[].concat(j),d=b.length,c=0;d>c;c++)j=b[c],h.getGroup(j).add(a);delete a.group}e=h.scrubAttrs(a)||{},a.bbox.plain=0,a.bbox.transform=0,"circle"==a.type||"ellipse"==a.type?(e.cx=e.cx||e.x,e.cy=e.cy||e.y):"rect"==a.type?e.rx=e.ry=e.r:"path"==a.type&&e.d&&(e.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(e.d))),a.dirtyPath=!1,e["clip-rect"]&&(h.setClip(a,e),delete e["clip-rect"]),"text"==a.type&&e.font&&a.dirtyFont&&i.set({style:"font: "+e.font}),"image"==a.type&&i.dom.setAttributeNS(h.xlink,"href",e.src),Ext.applyIf(e,h.minDefaults[a.type]),a.dirtyHidden&&(k.hidden?h.hidePrim(a):h.showPrim(a),a.dirtyHidden=!1);for(f in e)if(e.hasOwnProperty(f)&&null!=e[f]){if(n&&"color|stroke|fill".indexOf(f)>-1&&e[f]in m&&(e[f]=m[e[f]]),"hidden"==f&&"text"==a.type)continue;f in l?i.dom.setAttribute(f,l[f](e[f],a,h)):i.dom.setAttribute(f,e[f])}"text"==a.type&&h.tuneText(a,e),a.dirtyFont=!1,g=k.style,g&&i.setStyle(g),a.dirty=!1,Ext.isSafari3&&(h.webkitRect.show(),setTimeout(function(){h.webkitRect.hide()}))},setClip:function(a,b){var c,d,e=this,f=b["clip-rect"];f&&(a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode),c=e.createSvgElement("clipPath"),d=e.createSvgElement("rect"),c.id=Ext.id(null,"ext-clip-"),d.setAttribute("x",f.x),d.setAttribute("y",f.y),d.setAttribute("width",f.width),d.setAttribute("height",f.height),c.appendChild(d),e.getDefs().appendChild(c),a.el.dom.setAttribute("clip-path","url(#"+c.id+")"),a.clip=d)},applyZIndex:function(a){var b,c=this,d=c.items,e=d.indexOf(a),f=a.el;if(c.el.dom.childNodes[e+2]!==f.dom){if(e>0)do b=d.getAt(--e).el;while(!b&&e>0);f.insertAfter(b||c.bgRect)}a.zIndexDirty=!1},createItem:function(a){var b=new Ext.draw.Sprite(a);return b.surface=this,b},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var b,c,d,e,f,g=this,h=a.stops.length,i=a.vector,j=Ext.isSafari&&!Ext.isStrict;if(f=g.gradientsMap||{},j)f["url(#"+a.id+")"]=a.stops[0].color;else for("linear"==a.type?(b=g.createSvgElement("linearGradient"),b.setAttribute("x1",i[0]),b.setAttribute("y1",i[1]),b.setAttribute("x2",i[2]),b.setAttribute("y2",i[3])):(b=g.createSvgElement("radialGradient"),b.setAttribute("cx",a.centerX),b.setAttribute("cy",a.centerY),b.setAttribute("r",a.radius),Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)&&(b.setAttribute("fx",a.focalX),b.setAttribute("fy",a.focalY))),b.id=a.id,g.getDefs().appendChild(b),e=0;h>e;e++)c=a.stops[e],d=g.createSvgElement("stop"),d.setAttribute("offset",c.offset+"%"),d.setAttribute("stop-color",c.color),d.setAttribute("stop-opacity",c.opacity),b.appendChild(d);g.gradientsMap=f},hasCls:function(a,b){return b&&-1!=(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")},addCls:function(a,b){var c,d,e,f=a.el,g=[],h=f.getAttribute("class")||"";if(Ext.isArray(b)){for(c=0,d=b.length;d>c;c++)e=b[c],"string"==typeof e&&-1==(" "+h+" ").indexOf(" "+e+" ")&&g.push(e);g.length&&f.set({"class":" "+g.join(" ")})}else"string"!=typeof b||this.hasCls(a,b)||f.set({"class":h+" "+b})},removeCls:function(a,b){var c,d,e,f,g,h=this,i=a.el,j=i.getAttribute("class")||"";if(Ext.isArray(b)||(b=[b]),j){for(g=j.replace(h.trimRe," ").split(h.spacesRe),c=0,e=b.length;e>c;c++)f=b[c],"string"==typeof f&&(f=f.replace(h.trimRe,""),d=Ext.Array.indexOf(g,f),-1!=d&&Ext.Array.erase(g,d,1));i.set({"class":g.join(" ")})}},destroy:function(){var a=this;a.callParent(),a.el&&a.el.remove(),a._defs&&Ext.get(a._defs).destroy(),a.bgRect&&Ext.get(a.bgRect).destroy(),a.webkitRect&&Ext.get(a.webkitRect).destroy(),delete a.el}},0,0,0,0,0,0,[Ext.draw.engine,"Svg"],0),Ext.cmd.derive("Ext.draw.engine.SvgExporter",Ext.Base,function(){var a,b,c,d,e=/,/g,f=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,g=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,h=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,i=function(e){a=e,b=a.length,c=a.width,d=a.height},j={path:function(a){var b,c,d,f=a.attr,g=f.path,h="";if(Ext.isArray(g[0]))for(d=g.length,c=0;d>c;c++)h+=g[c].join(" ");else h=Ext.isArray(g)?g.join(" "):g.replace(e," ");return b=m({d:h,fill:f.fill||"none",stroke:f.stroke,"fill-opacity":f.opacity,"stroke-width":f["stroke-width"],"stroke-opacity":f["stroke-opacity"],"z-index":f.zIndex,transform:a.matrix.toSvg()}),"<path "+b+"/>"},text:function(a){var b,c=a.attr,d=f.exec(c.font),e=d&&d[1]||"12",g=d&&d[3]||"Arial",h=c.text,i=Ext.isFF3_0||Ext.isFF3_5?2:4,j="";return a.getBBox(),j+='<tspan x="'+(c.x||"")+'" dy="',j+=e/i+'">',j+=Ext.htmlEncode(h)+"</tspan>",b=m({x:c.x,y:c.y,"font-size":e,"font-family":g,"font-weight":c["font-weight"],"text-anchor":c["text-anchor"],fill:c.fill||"#000","fill-opacity":c.opacity,transform:a.matrix.toSvg()}),"<text "+b+">"+j+"</text>"},rect:function(a){var b=a.attr,c=m({x:b.x,y:b.y,rx:b.rx,ry:b.ry,width:b.width,height:b.height,fill:b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix&&a.matrix.toSvg()});return"<rect "+c+"/>"},circle:function(a){var b=a.attr,c=m({cx:b.x,cy:b.y,r:b.radius,fill:b.translation.fill||b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix.toSvg()});return"<circle "+c+" />"},image:function(a){var b=a.attr,c=m({x:b.x-(b.width/2>>0),y:b.y-(b.height/2>>0),width:b.width,height:b.height,"xlink:href":b.src,transform:a.matrix.toSvg()});return"<image "+c+" />"}},k=function(){var a='<?xml version="1.0" standalone="yes"?>';return a+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'},l=function(){var b,e,f,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z='<svg width="'+c+'px" height="'+d+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',A="";if(f=a.items.items,e=f.length,k=function(a){for(var b,c,d,e,f,g,h=a.childNodes,i=h.length,j=0,l="";i>j;j++){for(d=h[j],e=d.attributes,f=d.tagName,l+="<"+f,c=0,b=e.length;b>c;c++)g=e.item(c),l+=" "+g.name+'="'+g.value+'"';l+=">",d.childNodes.length>0&&(l+=k(d)),l+="</"+f+">"}return l},a.getDefs)A=k(a.getDefs());else for(n=a.gradientsColl,n&&(o=n.keys,p=n.items,q=0,r=o.length);r>q;q++){s=o[q],t=p[q],i=a.gradientsColl.getByKey(s),A+='<linearGradient id="'+s+'" x1="0" y1="0" x2="1" y2="1">';var B=i.colors.replace(g,"rgb($1|$2|$3)");for(B=B.replace(h,"rgba($1|$2|$3|$4)"),l=B.split(","),u=0,v=l.length;v>u;u++)m=l[u].split(" "),B=Ext.draw.Color.fromString(m[1].replace(/\|/g,",")),A+='<stop offset="'+m[0]+'" stop-color="'+B.toString()+'" stop-opacity="1"></stop>';A+="</linearGradient>"}for(z+="<defs>"+A+"</defs>",z+=j.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),w=new Array(e),u=0;e>u;u++)w[u]=u;for(w.sort(function(a,b){return x=f[a].attr.zIndex||0,y=f[b].attr.zIndex||0,x==y?a-b:x-y}),u=0;e>u;u++)b=f[w[u]],b.attr.hidden||(z+=j[b.type](b));return z+="</svg>"},m=function(a){var b,c="";for(b in a)a.hasOwnProperty(b)&&null!=a[b]&&(c+=b+'="'+a[b]+'" ');return c};return{singleton:!0,generate:function(a,b){return b=b||{},i(a),k()+l()}}},0,0,0,0,0,0,[Ext.draw.engine,"SvgExporter"],0),Ext.cmd.derive("Ext.draw.engine.Vml",Ext.draw.Surface,{engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.NonVmlPathRe,l=j.map,m=j.valRe,n=j.zoom,o=j.bitesRe,p=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw);if(String(a).match(k))p=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(a).match(j.partialPathRe))return b=String(a).replace(o,function(a,b,c){var d=[],e="m"==b.toLowerCase(),f=l[b];return c.replace(m,function(a){e&&2===d.length&&(f+=d+l["m"==b?"l":"L"],d=[]),d.push(Math.round(a*n))}),f+d});for(c=p(a),b=[],f=0,g=c.length;g>f;f++){for(d=c[f],e=c[f][0].toLowerCase(),"z"==e&&(e="x"),h=1,i=d.length;i>h;h++)e+=Math.round(d[h]*j.zoom)+(h!=i-1?",":"");b.push(e)}return b.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(a,b){{var c,d=b.getTarget();this.surface}this.fireEvent(a,b),c=this.items.get(d.id),c&&c.fireEvent(a,c,b)},createSpriteElement:function(a){var b,c,d,e=this,f=a.attr,g=a.type,h=e.zoom,i=a.vml||(a.vml={}),j=(Math.round,e.createNode("image"===g?"image":"shape"));return j.coordsize=h+" "+h,j.coordorigin=f.coordorigin||"0 0",Ext.get(j).addCls(e.spriteCls),"text"==g&&(i.path=b=e.createNode("path"),b.textpathok=!0,i.textpath=d=e.createNode("textpath"),d.on=!0,j.appendChild(d),j.appendChild(b)),j.id=a.id,a.el=Ext.get(j),a.el.setStyle("zIndex",-e.zIndexShift),e.el.appendChild(j),"image"!==g&&(c=e.createNode("skew"),c.on=!0,j.appendChild(c),a.skew=c),a.matrix=new Ext.draw.Matrix,a.bbox={plain:null,transform:null},this.applyAttrs(a),this.applyTransformations(a),a.fireEvent("render",a),a.el},getBBoxText:function(a){var b=a.vml;return{x:b.X+(b.bbx||0)-b.W/2,y:b.Y-b.H/2,width:b.W,height:b.H}},applyAttrs:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=(a.vml,a.group),m=a.attr,n=a.el,o=n.dom;if(l){for(c=[].concat(l),e=c.length,d=0;e>d;d++)l=c[d],k.getGroup(l).add(a);delete a.group}f=k.scrubAttrs(a)||{},a.zIndexDirty&&k.setZIndex(a),Ext.applyIf(f,k.minDefaults[a.type]),"image"==a.type&&(Ext.apply(a.attr,{x:f.x,y:f.y,width:f.width,height:f.height}),n.setStyle({width:f.width+"px",height:f.height+"px"}),o.src=f.src),o.href&&(o.href=f.href),o.title&&(o.title=f.title),o.target&&(o.target=f.target),o.cursor&&(o.cursor=f.cursor),a.dirtyHidden&&(f.hidden?k.hidePrim(a):k.showPrim(a),a.dirtyHidden=!1),a.dirtyPath&&("circle"==a.type||"ellipse"==a.type?(g=f.x,h=f.y,i=f.rx||f.r||0,j=f.ry||f.r||0,o.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((g-i)*k.zoom),Math.round((h-j)*k.zoom),Math.round((g+i)*k.zoom),Math.round((h+j)*k.zoom),Math.round(g*k.zoom)),a.dirtyPath=!1):"text"!==a.type&&"image"!==a.type&&(a.attr.path=f.path=k.setPaths(a,f)||f.path,o.path=k.path2vml(f.path),a.dirtyPath=!1)),"clip-rect"in f&&k.setClip(a,f),"text"==a.type&&k.setTextAttributes(a,f),(f.opacity||f["stroke-opacity"]||f.fill)&&k.setFill(a,f),(f.stroke||f["stroke-opacity"]||f.fill)&&k.setStroke(a,f),b=m.style,b&&n.setStyle(b),a.dirty=!1},setZIndex:function(a){var b,c,d,e,f=this,g=a.attr.zIndex,h=f.zIndexShift;if(h>g){for(b=f.items.items,c=b.length,e=0;c>e;e++)(g=b[e].attr.zIndex)&&h>g&&(h=g);for(f.zIndexShift=h,e=0;c>e;e++)d=b[e],d.el&&d.el.setStyle("zIndex",d.attr.zIndex-h),d.zIndexDirty=!1}else a.el&&(a.el.setStyle("zIndex",g-h),a.zIndexDirty=!1)},setPaths:function(a,b){{var c=a.attr;a.attr["stroke-width"]||1}return a.bbox.plain=null,a.bbox.transform=null,"circle"==a.type?(c.rx=c.ry=b.r,Ext.draw.Draw.ellipsePath(a)):"ellipse"==a.type?(c.rx=b.rx,c.ry=b.ry,Ext.draw.Draw.ellipsePath(a)):"rect"==a.type?(c.rx=c.ry=b.r,Ext.draw.Draw.rectPath(a)):"path"==a.type&&c.path?Ext.draw.Draw.pathToAbsolute(c.path):!1},setFill:function(a,b){var c,d,e,f,g=this,h=a.el.dom,i=h.fill,j=!1;i||(i=h.fill=g.createNode("fill"),j=!0),Ext.isArray(b.fill)&&(b.fill=b.fill[0]),"none"==b.fill?i.on=!1:("number"==typeof b.opacity&&(i.opacity=b.opacity),"number"==typeof b["fill-opacity"]&&(i.opacity=b["fill-opacity"]),i.on=!0,"string"==typeof b.fill&&(d=b.fill.match(g.fillUrlRe),d?(d=d[1],"#"==d.charAt(0)&&(c=g.gradientsColl.getByKey(d.substring(1))),c?(e=b.rotation,f=-(c.angle+270+(e?e.degrees:0))%360,0===f&&(f=180),i.angle=f,i.type="gradient",i.method="sigma",i.colors?i.colors.value=c.colors:i.colors=c.colors):(i.src=d,i.type="tile")):(i.color=Ext.draw.Color.toHex(b.fill),i.src="",i.type="solid"))),j&&h.appendChild(i)},setStroke:function(a,b){var c,d,e=this,f=a.el.dom,g=a.strokeEl,h=!1;g||(g=a.strokeEl=e.createNode("stroke"),h=!0),Ext.isArray(b.stroke)&&(b.stroke=b.stroke[0]),b.stroke&&"none"!=b.stroke&&0!=b.stroke&&0!=b["stroke-width"]?(g.on=!0,b.stroke&&!b.stroke.match(e.fillUrlRe)&&(g.color=Ext.draw.Color.toHex(b.stroke)),g.dashstyle=b["stroke-dasharray"]?"dash":"solid",g.joinstyle=b["stroke-linejoin"],g.endcap=b["stroke-linecap"]||"round",g.miterlimit=b["stroke-miterlimit"]||8,c=.75*parseFloat(b["stroke-width"]||1),d=b["stroke-opacity"]||1,Ext.isNumber(c)&&1>c?(g.weight=1,g.opacity=d*c):(g.weight=c,g.opacity=d)):g.on=!1,h&&f.appendChild(g)},setClip:function(a,b){var c=this,d=(a.el,a.clipEl),e=String(b["clip-rect"]).split(c.separatorRe);d||(d=a.clipEl=c.el.insertFirst(Ext.getDoc().dom.createElement("div")),d.addCls(Ext.baseCSSPrefix+"vml-sprite")),4==e.length?(e[2]=+e[2]+ +e[0],e[3]=+e[3]+ +e[1],d.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",e[0],e[1],e[2],e[3])),d.setSize(c.el.width,c.el.height)):d.setStyle("clip","")},setTextAttributes:function(a,b){var c,d,e=this,f=a.vml,g=f.textpath.style,h=e.span.style,i=e.zoom,j=(Math.round,{fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"});if(a.dirtyFont){b.font&&(g.font=h.font=b.font),b["font-family"]&&(g.fontFamily='"'+b["font-family"].split(",")[0].replace(e.fontFamilyRe,"")+'"',h.fontFamily=b["font-family"]);for(c in j)d=b[j[c]],d&&(g[c]=h[c]=d);e.setText(a,b.text),f.textpath.string&&(e.span.innerHTML=String(f.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),f.W=e.span.offsetWidth,f.H=e.span.offsetHeight+2,"middle"==b["text-anchor"]?g["v-text-align"]="center":"end"==b["text-anchor"]?(g["v-text-align"]="right",f.bbx=-Math.round(f.W/2)):(g["v-text-align"]="left",f.bbx=Math.round(f.W/2))}f.X=b.x,f.Y=b.y,f.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(f.X*i),Math.round(f.Y*i),Math.round(f.X*i)+1),a.bbox.plain=null,a.bbox.transform=null,a.dirtyFont=!1},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,b){var c=this;a=a||c.width,b=b||c.height,c.width=a,c.height=b,c.el&&(void 0!=a&&c.el.setWidth(a),void 0!=b&&c.el.setHeight(b)),c.callParent(arguments)},applyViewBox:function(){var a,b,c,d=this,e=d.viewBox,f=d.width,g=d.height;if(d.callParent(),e&&(f||g))for(a=d.items.items,b=a.length,c=0;b>c;c++)d.applyTransformations(a[c])},onAdd:function(a){this.callParent(arguments),this.el&&this.renderItem(a)},onRemove:function(a){a.el&&(a.el.remove(),delete a.el),this.callParent(arguments)},render:function(a){var b,c=this,d=Ext.getDoc().dom;if(!c.createNode)try{d.namespaces.rvml||d.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),c.createNode=function(a){return d.createElement("<rvml:"+a+' class="rvml">')}}catch(e){c.createNode=function(a){return d.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}c.el||(b=d.createElement("div"),c.el=Ext.get(b),c.el.addCls(c.baseVmlCls),c.span=d.createElement("span"),Ext.get(c.span).addCls(c.measureSpanCls),b.appendChild(c.span),c.el.setSize(c.width||0,c.height||0),a.appendChild(b),c.el.on({scope:c,mouseup:c.onMouseUp,mousedown:c.onMouseDown,mouseover:c.onMouseOver,mouseout:c.onMouseOut,mousemove:c.onMouseMove,mouseenter:c.onMouseEnter,mouseleave:c.onMouseLeave,click:c.onClick,dblclick:c.onDblClick})),c.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=!0,this.renderItem(a)},renderItem:function(a){this.el&&(a.el||this.createSpriteElement(a),a.dirty&&(this.applyAttrs(a),a.dirtyTransform&&this.applyTransformations(a)))},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix;return d.rotate(-a,.5,.5),{x:d.x(b,c),y:d.y(b,c)}},transform:function(a,b){for(var c,d,e,f=this,g=f.getBBox(a,!0),h=(g.x+.5*g.width,g.y+.5*g.height,new Ext.draw.Matrix),i=a.transformations,j=i.length,k=0,l=0,m=1,n=1,o=a.el,p=o.dom,q=p.style,r=(f.zoom,a.skew),s=f.viewBoxShift;j>k;k++)c=i[k],d=c.type,"translate"==d?h.translate(c.x,c.y):"rotate"==d?(h.rotate(c.degrees,c.x,c.y),l+=c.degrees):"scale"==d&&(h.scale(c.x,c.y,c.centerX,c.centerY),m*=c.x,n*=c.y);
a.matrix=h.clone(),b||(s&&h.prepend(s.scale,0,0,s.scale,s.dx*s.scale,s.dy*s.scale),"image"!=a.type&&r?(r.origin="0,0",r.matrix=h.toString(),e=h.offset(),e[0]>32767?e[0]=32767:e[0]<-32768&&(e[0]=-32768),e[1]>32767?e[1]=32767:e[1]<-32768&&(e[1]=-32768),r.offset=e):(q.filter=h.toFilter(),q.left=Math.min(h.x(g.x,g.y),h.x(g.x+g.width,g.y),h.x(g.x,g.y+g.height),h.x(g.x+g.width,g.y+g.height))+"px",q.top=Math.min(h.y(g.x,g.y),h.y(g.x+g.width,g.y),h.y(g.x,g.y+g.height),h.y(g.x+g.width,g.y+g.height))+"px"))},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){a&&a.el&&a.el.addCls(b)},removeCls:function(a,b){a&&a.el&&a.el.removeCls(b)},addGradient:function(a){var b,c,d,e,f,g,h=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),i=[],j=Ext.create("Ext.util.MixedCollection");for(j.addAll(a.stops),j.sortByKey("ASC",function(a,b){return a=parseInt(a,10),b=parseInt(b,10),a>b?1:b>a?-1:0}),b=j.keys,c=j.items,d=b.length,g=0;d>g;g++)e=b[g],f=c[g],i.push(e+"% "+f.color);h.add(a.id,{colors:i.join(","),angle:a.angle})},destroy:function(){var a=this;a.callParent(arguments),a.el&&a.el.remove(),delete a.el}},0,0,0,0,0,0,[Ext.draw.engine,"Vml"],0),Ext.cmd.derive("Ext.flash.Component",Ext.Component,{alternateClassName:"Ext.FlashComponent",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent(),this.addEvents("success","failure")},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var a=this,b=Ext.apply({},a.flashParams),c=Ext.apply({},a.flashVars);a.callParent(),b=Ext.apply({allowScriptAccess:"always",bgcolor:a.backgroundColor,wmode:a.wmode},b),c=Ext.apply({allowedDomain:document.location.hostname},c),new swfobject.embedSWF(a.url,a.getSwfId(),a.swfWidth,a.swfHeight,a.flashVersion,a.expressInstall?a.statics.EXPRESS_INSTALL_URL:void 0,c,b,a.flashAttributes,Ext.bind(a.swfCallback,a))},swfCallback:function(a){var b=this;a.success?(b.swf=Ext.get(a.ref),b.onSuccess(),b.fireEvent("success",b)):(b.onFailure(),b.fireEvent("failure",b))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var a=this,b=a.swf;b&&(swfobject.removeSWF(a.getSwfId()),Ext.destroy(b),delete a.swf),a.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}},0,["flash"],["flash","component","box"],{flash:!0,component:!0,box:!0},["widget.flash"],0,[Ext.flash,"Component",Ext,"FlashComponent"],0),Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(a){a&&Ext.apply(this,a);var b=a.params;Ext.isString(b)&&(this.params=Ext.Object.fromQueryString(b))},run:Ext.emptyFn,onFailure:function(a){this.response=a,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(a){return this.response=a,a.responseText||a.responseXML?this.result=this.handleResponse(a):!0},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a,b=this,c=b.form;return{success:b.onSuccess,failure:b.onFailure,scope:b,timeout:1e3*this.timeout||1e3*c.timeout,upload:c.fileUpload?b.onSuccess:a}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0),Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(a){var b=this.processResponse(a),c=this.form;return b!==!0&&b.success&&b.data?(c.clearInvalid(),c.setValues(b.data),void c.afterAction(this,!0)):(this.failureType=Ext.form.action.Action.LOAD_FAILURE,void c.afterAction(this,!1))},handleResponse:function(a){var b,c,d=this.form.reader;return d?(b=d.read(a),c=b.records&&b.records[0]?b.records[0].data:null,{success:b.success,data:c}):Ext.decode(a.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0),Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var a=this,b=a.form;a.clientValidation===!1||b.isValid()?a.doSubmit():(a.failureType=Ext.form.action.Action.CLIENT_INVALID,b.afterAction(a,!1))},doSubmit:function(){var a,b=this,c=Ext.apply(b.createCallback(),{url:b.getUrl(),method:b.getMethod(),headers:b.headers}),d=b.form,e=b.jsonSubmit||d.jsonSubmit,f=e?"jsonData":"params";d.hasUpload()?(a=b.buildForm(),c.form=a.formEl,c.isUpload=!0):c[f]=b.getParams(e),Ext.Ajax.request(c),a&&b.cleanup(a)},cleanup:function(a){var b,c,d=a.formEl,e=a.uploadEls,f=a.uploadFields,g=f.length;for(b=0;g>b;++b)c=f[b],c.clearOnSubmit||c.restoreInput(e[b]);d&&Ext.removeNode(d)},getParams:function(a){var b=!1,c=this.callParent(),d=this.form.getValues(b,b,this.submitEmptyText!==b,a);return Ext.apply({},d,c)},buildForm:function(){var a,b,c,d,e,f,g,h,i,j=this,k=[],l=j.form,m=j.getParams(),n=[],o=[],p=l.getFields().items,q=p.length;for(c=0;q>c;++c)d=p[c],d.rendered&&d.isFileUpload()&&n.push(d);for(e in m)if(m.hasOwnProperty(e))if(f=m[e],Ext.isArray(f))for(h=f.length,g=0;h>g;g++)k.push(j.getFieldConfig(e,f[g]));else k.push(j.getFieldConfig(e,f));for(a={tag:"form",action:j.getUrl(),method:j.getMethod(),target:j.target||"_self",style:"display:none",cn:k},n.length&&(a.encoding=a.enctype="multipart/form-data"),b=Ext.DomHelper.append(Ext.getBody(),a),q=n.length,c=0;q>c;++c)i=n[c].extractFileInput(),b.appendChild(i),o.push(i);return{formEl:b,uploadFields:n,uploadEls:o}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(a){var b=this.form,c=!0,d=this.processResponse(a);d===!0||d.success||(d.errors&&b.markInvalid(d.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,c=!1),b.afterAction(this,c)},handleResponse:function(a){var b,c,d,e,f,g,h=this.form,i=h.errorReader;if(i){if(b=i.read(a),f=b.records,c=[],f)for(d=0,e=f.length;e>d;d++)c[d]=f[d].data;c.length<1&&(c=null),g={success:b.success,errors:c}}else try{g=Ext.decode(a.responseText)}catch(j){g={success:!1,errors:[]}}return g}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0),Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(a,b){this.comp=a,this.initialConstrainTo=b.constrainTo,this.callParent([b])},onStart:function(){var a=this,b=a.comp;a.startPosition=b.getXY(),b.ghost&&!b.liveDrag&&(a.proxy=b.ghost(),a.dragTarget=a.proxy.header.el),(a.constrain||a.constrainDelegate)&&(a.constrainTo=a.calculateConstrainRegion()),b.beginDrag&&b.beginDrag()},calculateConstrainRegion:function(){var a,b,c,d=this,e=d.comp,f=d.initialConstrainTo,g=e.constraintInsets,h=d.proxy?d.proxy.el:e.el,i=!d.constrainDelegate&&h.shadow&&e.constrainShadow&&!h.shadowDisabled?h.shadow.getShadowSize():0;return f instanceof Ext.util.Region?f=f.copy():(a=Ext.fly(f),f=a.getViewRegion(),f.right=f.left+a.dom.clientWidth),g&&(g=Ext.isObject(g)?g:Ext.Element.parseBox(g),f.adjust(g.top,g.right,g.bottom,g.length)),i&&f.adjust(i[0],-i[1],-i[2],i[3]),d.constrainDelegate||(b=Ext.fly(d.dragTarget).getRegion(),c=h.getRegion(),f.adjust(b.top-c.top,b.right-c.right,b.bottom-c.bottom,b.left-c.left)),f},onDrag:function(){var a=this,b=a.proxy&&!a.comp.liveDrag?a.proxy:a.comp,c=a.getOffset(a.constrain||a.constrainDelegate?"dragTarget":null);b.setPagePosition(a.startPosition[0]+c[0],a.startPosition[1]+c[1])},onEnd:function(){var a=this.comp;a.isDestroyed||a.destroying||(this.proxy&&!a.liveDrag&&a.unghost(),a.endDrag&&a.endDrag())}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0),Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,initComponent:function(){var a=this;a.frame=!1,a.callParent(),a.addEvents("resize","maximize","minimize","restore"),a.plain&&a.addClsWithUI("plain"),a.modal&&(a.ariaRole="dialog"),a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a,b=this;return a=b.callParent(),a.tabIndex=-1,a},getState:function(){var a,b=this,c=b.callParent()||{},d=!!b.maximized,e=b.ghostBox;return c.maximized=d,a=d?b.restorePos:e?[e.x,e.y]:b.getPosition(),Ext.apply(c,{size:d?b.restoreSize:b.getSize(),pos:a}),c},applyState:function(a){var b=this;a&&(b.maximized=a.maximized,b.maximized?(b.hasSavedRestore=!0,b.restoreSize=a.size,b.restorePos=a.pos):Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]}))},onRender:function(){var a=this;a.callParent(arguments),a.focusEl=a.el,a.maximizable&&a.header.on({scope:a,dblclick:a.toggleMaximize})},afterRender:function(){var a,b=this,c=b.header;b.callParent(),b.maximized&&(b.maximized=!1,b.maximize(),c&&c.removeCls(c.indicateDragCls)),b.closable?(a=b.getKeyMap(),a.on(27,b.onEsc,b)):a=b.keyMap,a&&b.hidden&&a.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()},onEsc:function(a,b){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(b.stopEvent(),this.close())},beforeDestroy:function(){var a=this;a.rendered&&(delete this.animateTarget,a.hide(),Ext.destroy(a.keyMap)),a.callParent()},addTools:function(){var a=this;a.callParent(),a.minimizable&&a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])}),a.maximizable&&(a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])}),a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var a,b,c=this,d=c.defaultButton||c.defaultFocus;return void 0!==d&&(Ext.isNumber(d)?a=c.query("button")[d]:Ext.isString(d)?(b=d,b.match(c.initialAlphaNum)&&(a=c.down("#"+b)),a||(a=c.down(b))):d.focus&&(a=d)),a||c.el},onFocus:function(){var a,b=this;Ext.FocusManager&&Ext.FocusManager.enabled||(a=b.getDefaultFocus())===b?b.callParent(arguments):a.focus()},onShow:function(){var a=this;a.callParent(arguments),a.expandOnShow&&a.expand(!1),a.syncMonitorWindowResize(),a.keyMap&&a.keyMap.enable()},doClose:function(){var a=this;a.hidden?(a.fireEvent("close",a),"destroy"==a.closeAction&&this.destroy()):a.hide(a.animateTarget,a.doClose,a)},afterHide:function(){var a=this;a.syncMonitorWindowResize(),a.keyMap&&a.keyMap.disable(),a.callParent(arguments)},onWindowResize:function(){var a,b=this;b.maximized?b.fitContainer():(a=b.getSizeModel(),(a.width.natural||a.height.natural)&&b.updateLayout(),b.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,b=a.header,c=a.tools;b&&a.maximizable&&(b.suspendLayouts(),c.maximize.hide(),c.restore.hide(),this.resumeHeaderLayout(!0)),a.resizer&&a.resizer.disable(),a.callParent(arguments)},afterExpand:function(){var a,b=this,c=b.header,d=b.tools;c&&(c.suspendLayouts(),b.maximized?(d.restore.show(),a=!0):b.maximizable&&(d.maximize.show(),a=!0),this.resumeHeaderLayout(a)),b.resizer&&b.resizer.enable(),b.callParent(arguments)},maximize:function(a){var b,c=this,d=c.header,e=c.tools;return c.maximized||(c.expand(!1),c.hasSavedRestore||(c.restoreSize=c.getSize(),c.restorePos=c.getPosition(!0)),d&&(d.suspendLayouts(),e.maximize&&(e.maximize.hide(),b=!0),e.restore&&(e.restore.show(),b=!0),c.collapseTool&&(c.collapseTool.hide(),b=!0),c.resumeHeaderLayout(b)),c.maximized=!0,c.el.disableShadow(),c.dd&&(c.dd.disable(),d&&d.removeCls(d.indicateDragCls)),c.resizer&&c.resizer.disable(),c.el.addCls(Ext.baseCSSPrefix+"window-maximized"),c.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),c.syncMonitorWindowResize(),c.fitContainer(a=a||c.animateTarget?{callback:function(){c.fireEvent("maximize",c)}}:null),a||c.fireEvent("maximize",c)),c},restore:function(a){var b,c=this,d=c.tools,e=c.header,f=c.restoreSize;return c.maximized&&(c.hasSavedRestore=null,c.removeCls(Ext.baseCSSPrefix+"window-maximized"),e&&(e.suspendLayouts(),d.restore&&(d.restore.hide(),b=!0),d.maximize&&(d.maximize.show(),b=!0),c.collapseTool&&(c.collapseTool.show(),b=!0),c.resumeHeaderLayout(b)),c.maximized=!1,f.x=c.restorePos[0],f.y=c.restorePos[1],c.setBox(f,a=a||c.animateTarget?{callback:function(){c.el.enableShadow(!0),c.fireEvent("restore",c)}}:null),c.restorePos=c.restoreSize=null,c.dd&&(c.dd.enable(),e&&e.addCls(e.indicateDragCls)),c.resizer&&c.resizer.enable(),c.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),c.syncMonitorWindowResize(),a||(c.el.enableShadow(!0),c.fireEvent("restore",c))),c},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,c=a.monitorResize||a.constrain||a.constrainHeader||a.maximized,d=a.hidden||a.destroying||a.isDestroyed;c&&!d?b||(Ext.EventManager.onWindowResize(a.onWindowResize,a,{delay:1}),a._monitoringResize=!0):b&&(Ext.EventManager.removeResizeListener(a.onWindowResize,a),a._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}},0,["window"],["panel","window","component","container","box"],{panel:!0,window:!0,component:!0,container:!0,box:!0},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0),Ext.cmd.derive("Ext.form.Labelable",Ext.Base,{autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var a=this,b=a.padding;b&&(a.padding=void 0,a.extraMargins=Ext.Element.parseBox(b)),a.activeErrorsTpl||(a.activeErrorsTpl="title"==a.msgTarget?a.plaintextActiveErrorsTpl:a.htmlActiveErrorsTpl),a.addCls(Ext.plainTableCls),a.addCls(a.formItemCls),a.lastActiveError="",a.addEvents("errorchange"),a.enableBubble("errorchange")},trimLabelSeparator:function(){var a=this,b=a.labelSeparator,c=a.fieldLabel||"",d=c.substr(c.length-1);return d===b?c.slice(0,-1):c},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){a=a||"";var b=this,c=b.labelSeparator,d=b.labelEl;b.fieldLabel=a,b.rendered&&(Ext.isEmpty(a)&&b.hideEmptyLabel?d.parent().setDisplayed("none"):(c&&(a=b.trimLabelSeparator()+c),d.update(a),d.parent().setDisplayed("")),b.updateLayout())},getInsertionRenderData:function(a,b){for(var c,d,e=b.length;e--;)c=b[e],d=this[c],d&&"string"!=typeof d&&(d.isTemplate||(d=Ext.XTemplate.getTpl(this,c)),d=d.apply(a)),a[c]=d||"";return a},getLabelableRenderData:function(){var a,b,c=this,d="top"===c.labelAlign;return Ext.form.Labelable.errorIconWidth||(b=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"}),Ext.form.Labelable.errorIconWidth=b.getWidth()+b.getMargin("l"),b.remove()),a=Ext.copyTo({inFormLayout:c.ownerLayout&&"form"===c.ownerLayout.type,inputId:c.getInputId(),labelOnLeft:!d,hideLabel:!c.hasVisibleLabel(),fieldLabel:c.getFieldLabel(),labelCellStyle:c.getLabelCellStyle(),labelCellAttrs:c.getLabelCellAttrs(),labelCls:c.getLabelCls(),labelStyle:c.getLabelStyle(),bodyColspan:c.getBodyColspan(),externalError:!c.autoFitErrors,errorMsgCls:c.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},c,c.labelableRenderProps,!0),c.getInsertionRenderData(a,c.labelableInsertions),a},xhooks:{beforeRender:function(){var a=this;a.setFieldDefaults(a.getHierarchyState().fieldDefaults),a.ownerLayout&&a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")},onRender:function(){var a,b,c=this,d={};if(c.extraMargins){a=c.el.getMargin();for(b in a)a.hasOwnProperty(b)&&(d["margin-"+b]=a[b]+c.extraMargins[b]+"px");c.el.setStyle(d)}}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var a=this;return a.hasVisibleLabel()?a.labelWidth+a.labelPad:0},getBodyColspan:function(){var a,b=this;return a="side"!==b.msgTarget||b.autoFitErrors&&!b.hasActiveError()?2:1,"top"===b.labelAlign||b.hasVisibleLabel()||a++,a},getLabelCls:function(){var a=this.labelCls+" "+Ext.dom.Element.unselectableCls,b=this.labelClsExtra;return b?a+" "+b:a},getLabelCellStyle:function(){var a=this,b=a.hideLabel||!a.getFieldLabel()&&a.hideEmptyLabel;return b?"display:none;":""},getErrorMsgCls:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return a.errorMsgCls+(b||"top"!==a.labelAlign?"":" "+Ext.baseCSSPrefix+"lbl-top-err-icon")},getLabelCellAttrs:function(){var a=this,b=a.labelAlign,c="";return"top"!==b&&(c='valign="top" halign="'+b+'" width="'+(a.labelWidth+a.labelPad)+'"'),c+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var a=this,b=a.labelPad,c="";return"top"!==a.labelAlign&&(a.labelWidth&&(c="width:"+a.labelWidth+"px;"),b&&(c+="margin-right:"+b+"px;")),c+(a.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a),this.activeError=a[0],this.activeErrors=a,this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a,listCls:Ext.plainListCls}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;b!==a.lastActiveError&&(a.fireEvent("errorchange",a,b),a.lastActiveError=b),!a.rendered||a.isDestroyed||a.preventMark||(a.el[c?"addCls":"removeCls"](a.invalidCls),a.getActionEl().dom.setAttribute("aria-invalid",c),a.errorEl&&(a.errorEl.dom.innerHTML=b))},setFieldDefaults:function(a){var b;for(b in a)this.hasOwnProperty(b)||(this[b]=a[b])}},0,0,0,0,0,0,[Ext.form,"Labelable"],0),Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value),a.originalValue=a.lastValue=a.value,a.suspendCheckChange++,a.setValue(a.value),a.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){var b=this;return b.value=a,b.checkChange(),b},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.value(a,""))===String(Ext.value(b,""))},getSubmitData:function(){var a=this,b=null;return a.disabled||!a.submitValue||a.isFileUpload()||(b={},b[a.getName()]=""+a.getValue()),b},getModelData:function(){var a=this,b=null;return a.disabled||a.isFileUpload()||(b={},b[a.getName()]=a.getValue()),b},reset:function(){var a=this;a.beforeReset(),a.setValue(a.originalValue),a.clearInvalid(),delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;a.isEqual(b,c)||a.isDestroyed||(a.lastValue=b,a.fireEvent("change",a,b,c),a.onChange(b,c))}},onChange:function(){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){var a=this;return!a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();b!==a.wasDirty&&(a.fireEvent("dirtychange",a,b),a.onDirtyChange(b),a.wasDirty=b)},onDirtyChange:Ext.emptyFn,getErrors:function(){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();return b!==a.wasValid&&(a.wasValid=b,a.fireEvent("validitychange",a,b)),b},batchChanges:function(a){try{this.suspendCheckChange++,a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,0,0,0,0,0,[Ext.form.field,"Field"],0),Ext.cmd.derive("Ext.layout.component.field.Field",Ext.layout.component.Auto,{type:"field",naturalSizingProp:"size",beginLayout:function(a){var b=this,c=b.owner;b.callParent(arguments),a.labelStrategy=b.getLabelStrategy(),a.errorStrategy=b.getErrorStrategy(),a.labelContext=a.getEl("labelEl"),a.bodyCellContext=a.getEl("bodyEl"),a.inputContext=a.getEl("inputEl"),a.errorContext=a.getEl("errorEl"),Ext.isIE7m&&Ext.isStrict&&a.inputContext&&(b.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+a.inputContext.getBorderInfo().width),a.labelStrategy.prepare(a,c),a.errorStrategy.prepare(a,c)},beginLayoutCycle:function(a){var b,c=this,d=c.owner,e=a.widthModel,f=d[c.naturalSizingProp];c.callParent(arguments),e.shrinkWrap?c.beginLayoutShrinkWrap(a):e.natural?("number"!=typeof f||d.inputWidth?c.beginLayoutShrinkWrap(a):c.beginLayoutFixed(a,b=6.5*f+20,"px"),a.setWidth(b,!1)):c.beginLayoutFixed(a,"100","%")},beginLayoutFixed:function(a,b,c){var d=a.target,e=d.inputEl,f=d.inputWidth;d.el.setStyle("table-layout","fixed"),d.bodyEl.setStyle("width",b+c),e&&(f?e.setStyle("width",f+"px"):e.setStyle("width",d.stretchInputElFixed?"100%":"")),a.isFixed=!0},beginLayoutShrinkWrap:function(a){var b=a.target,c=b.inputEl,d=b.inputWidth;c&&c.dom&&(c.dom.removeAttribute("size"),d?c.setStyle("width",d+"px"):c.setStyle("width","")),b.el.setStyle("table-layout","auto"),b.bodyEl.setStyle("width","")},finishedLayout:function(a){var b=this.owner;this.callParent(arguments),a.labelStrategy.finishedLayout(a,b),a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(a,b){return b},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var a=this,b=a.labelStrategies,c=a.owner.labelAlign;return b[c]||b.base},getErrorStrategy:function(){var a=this,b=a.owner,c=a.errorStrategies,d=b.msgTarget;return!b.preventMark&&Ext.isString(d)?c[d]||c.elementId:c.none},labelStrategies:function(){var a={prepare:function(a,b){var c=b.labelCls+"-"+b.labelAlign,d=b.labelEl;d&&d.addCls(c)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(a){var b=a.labelContext,c=b.props,d=c.height;return void 0===d&&(c.height=d=b.el.getHeight()),d}},a),left:a,right:a}}(),errorStrategies:function(){function a(a){var b,c=Ext.layout.component.field.Field.tip;c&&c.isVisible()&&(b=c.activeTarget,b&&b.el===a.getActionEl().dom&&c.toFront(!0))}var b,c=Ext.applyIf,d=Ext.emptyFn,e=Ext.baseCSSPrefix+"form-invalid-icon",f={prepare:function(a,b){var c=b.errorEl;c&&c.setDisplayed(!1)},getHeight:function(){return 0},onFocus:d,finishedLayout:d};return{none:f,side:c({prepare:function(a,c){var d,f=c.errorEl,g=c.sideErrorCell,h=c.hasActiveError();b||(b=(d=Ext.getBody().createChild({style:"position:absolute",cls:e})).getWidth(),d.remove()),f.addCls(e),f.set({"data-errorqtip":c.getActiveError()||""}),c.autoFitErrors?f.setDisplayed(h):f.setVisible(h),g&&c.autoFitErrors&&g.setDisplayed(h),c.bodyEl.dom.colSpan=c.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:a},f),under:c({prepare:function(a,b){var c=b.errorEl,d=Ext.baseCSSPrefix+"form-invalid-under";c.addCls(d),c.setDisplayed(b.hasActiveError())},getHeight:function(a){var b,c,d=0;return a.target.hasActiveError()&&(b=a.errorContext,c=b.props,d=c.height,void 0===d&&(c.height=d=b.el.getHeight())),d}},f),qtip:c({prepare:function(a,b){Ext.layout.component.field.Field.initTip(),b.getActionEl().dom.setAttribute("data-errorqtip",b.getActiveError()||"")},onFocus:a},f),title:c({prepare:function(a,b){b.getActionEl().dom.setAttribute("title",b.getActiveError()||"")}},f),elementId:c({prepare:function(a,b){var c=Ext.fly(b.msgTarget);c&&(c.dom.innerHTML=b.getActiveError()||"",c.setDisplayed(b.hasActiveError()))}},f)}}(),statics:{initTip:function(){var a=this.tip;a||(a=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"}),a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig))},destroyTip:function(){var a=this.tip;a&&(a.destroy(),delete this.tip)}}},0,0,0,0,["layout.field"],0,[Ext.layout.component.field,"Field"],0),Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){var a=this;a.callParent(),a.subTplData=a.subTplData||{},a.addEvents("specialkey","writeablechange"),a.initLabelable(),a.initField(),a.name||(a.name=a.getInputId()),a.readOnly&&a.addCls(a.readOnlyCls),a.addCls(Ext.baseCSSPrefix+"form-type-"+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var a,b=this,c=b.inputType,d=b.getInputId();return a=Ext.apply({id:d,cmpId:b.id,name:b.name||d,disabled:b.disabled,readOnly:b.readOnly,value:b.getRawValue(),type:c,fieldCls:b.fieldCls,fieldStyle:b.getFieldStyle(),tabIdx:b.tabIndex,inputCls:b.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+("password"===c?"text":c)},b.subTplData),b.getInsertionRenderData(a,b.subTplInsertions),a},applyRenderSelectors:function(){var a=this;a.callParent(),a.addChildEls("inputEl"),a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;return a.hasOwnProperty("renderTpl")||(a.renderTpl=a.getTpl("labelableRenderTpl")),a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;c&&c.applyStyles(a),b.fieldStyle=a},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments),this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var a,b=this,c=null;return b.disabled||!b.submitValue||b.isFileUpload()||(a=b.getSubmitValue(),null!==a&&(c={},c[b.getName()]=a)),c},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,"");return a.rawValue=b,b},setRawValue:function(a){var b=this;return a=Ext.value(b.transformRawValue(a),""),b.rawValue=a,b.inputEl&&(b.inputEl.dom.value=a),a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));return a.value=b,b},setValue:function(a){var b=this;return b.setRawValue(b.valueToRaw(a)),b.mixins.field.setValue.call(b,a)},onBoxReady:function(){var a=this;
a.callParent(),a.setReadOnlyOnBoxReady&&a.setReadOnly(a.readOnly)},onDisable:function(){var a=this,b=a.inputEl;a.callParent(),b&&(b.dom.disabled=!0,a.hasActiveError()&&(a.clearInvalid(),a.needsValidateOnEnable=!0))},onEnable:function(){var a=this,b=a.inputEl;a.callParent(),b&&(b.dom.disabled=!1,a.needsValidateOnEnable&&(delete a.needsValidateOnEnable,a.forceValidation=!0,a.isValid(),delete a.forceValidation))},setReadOnly:function(a){var b=this,c=b.inputEl;a=!!a,b[a?"addCls":"removeCls"](b.readOnlyCls),b.readOnly=a,c?c.dom.readOnly=a:b.rendering&&(b.setReadOnlyOnBoxReady=!0),b.fireEvent("writeablechange",b,a)},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))},initEvents:function(){var a,b,c,d,e=this,f=e.inputEl,g=e.checkChangeEvents,h=g.length;if(f)for(e.mon(f,Ext.EventManager.getKeyEvent(),e.fireKey,e),a=new Ext.util.DelayedTask(e.checkChange,e),e.onChangeEvent=b=function(){a.delay(e.checkChangeBuffer)},c=0;h>c;c++)d=g[c],"propertychange"===d&&(e.usesPropertychange=!0),e.mon(f,d,b);e.callParent()},doComponentLayout:function(){var a=this,b=a.inputEl,c=a.usesPropertychange,d="propertychange",e=a.onChangeEvent;c&&a.mun(b,d,e),a.callParent(arguments),c&&a.mon(b,d,e)},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(a){var b=this,c=b.getErrors(a),d=Ext.isEmpty(c);return b.preventMark||(d?b.clearInvalid():b.markInvalid(c)),d},markInvalid:function(a){var b,c=this,d=c.getActiveError();c.setActiveErrors(Ext.Array.from(a)),b=c.getActiveError(),d!==b&&c.setError(b)},clearInvalid:function(){var a=this,b=a.hasActiveError();delete a.needsValidateOnEnable,a.unsetActiveError(),b&&a.setError("")},setError:function(a){var b,c=this,d=c.msgTarget;c.rendered&&("title"==d||"qtip"==d?(c.rendered&&(b="qtip"==d?"data-errorqtip":"title"),c.getActionEl().dom.setAttribute(b,a||"")):c.updateLayout())},renderActiveError:function(){var a=this,b=a.hasActiveError();a.inputEl&&a.inputEl[b?"addCls":"removeCls"](a.invalidCls+"-field"),a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el}},0,["field"],["field","component","box"],{field:!0,component:!0,box:!0},["widget.field"],[["labelable",Ext.form.Labelable],["field",Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0),Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}(),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0),Ext.cmd.derive("Ext.layout.component.field.Text",Ext.layout.component.field.Field,{type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(a){this.callParent(arguments),a.heightModel.shrinkWrap&&a.inputContext.el.setStyle("height","")},measureContentWidth:function(a){var b,c,d,e,f,g=this,h=g.owner,i=g.callParent(arguments),j=a.inputContext;return h.grow&&g.canGrowWidth&&!a.state.growHandled&&(b=h.inputEl,c=Ext.util.Format.htmlEncode(b.dom.value||(h.hasFocus?"":h.emptyText)||""),c+=h.growAppend,d=b.getTextWidth(c)+j.getFrameInfo().width,e=h.growMax,f=Math.min(e,i),e=Math.max(h.growMin,e,f),d=Ext.Number.constrain(d,h.growMin,e),j.setWidth(d),a.state.growHandled=!0,j.domBlock(g,"width"),i=0/0),i},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(a,b,c){var d=this,e=d.ieInputWidthAdjustment;e&&(d.adjustIEInputPadding(a),"px"===c&&(b-=e)),d.callParent(arguments)},adjustIEInputPadding:function(){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}},0,0,0,0,["layout.textfield"],0,[Ext.layout.component.field,"Text"],0),Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){var a=this;a.allowOnlyWhitespace===!1&&(a.allowBlank=!1),a.callParent(),a.addEvents("autosize","keydown","keyup","keypress"),a.addStateEvents("change"),a.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var a=this,b=a.inputEl;a.callParent(),(a.selectOnFocus||a.emptyText)&&a.mon(b,"mousedown",a.onMouseDown,a),(a.maskRe||a.vtype&&a.disableKeyFilter!==!0&&(a.maskRe=Ext.form.field.VTypes[a.vtype+"Mask"]))&&a.mon(b,"keypress",a.filterKeys,a),a.enableKeyEvents&&a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(){this.callParent(arguments),this.autoSize()},getSubTplData:function(){var a,b=this,c=b.getRawValue(),d=b.emptyText&&c.length<1,e=b.maxLength;return b.enforceMaxLength?e===Number.MAX_VALUE&&(e=void 0):e=void 0,d&&(Ext.supports.Placeholder?a=b.emptyText:(c=b.emptyText,b.valueContainsPlaceholder=!0)),Ext.apply(b.callParent(),{maxLength:e,readOnly:b.readOnly,placeholder:a,value:c,fieldCls:b.fieldCls+(d&&(a||c)?" "+b.emptyCls:"")+(b.allowBlank?"":" "+b.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(){var a=this;a.hasFocus||a.mon(a.inputEl,"mouseup",Ext.emptyFn,a,{single:!0,preventDefault:!0})},processRawValue:function(a){var b,c=this,d=c.stripCharsRe;return d&&(b=a.replace(d,""),b!==a&&(c.setRawValue(b),a=b)),a},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var a,b=this,c=b.emptyText;b.rendered&&c&&(a=b.getRawValue().length<1&&!b.hasFocus,Ext.supports.Placeholder?b.inputEl.dom.placeholder=c:a&&(b.setRawValue(c),b.valueContainsPlaceholder=!0),a&&b.inputEl.addCls(b.emptyCls),b.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var a=this.inputEl;a&&(a.dom.unselectable="on")}},beforeFocus:function(){var a,b=this,c=b.inputEl,d=b.emptyText;b.callParent(arguments),d&&!Ext.supports.Placeholder&&c.dom.value===b.emptyText&&b.valueContainsPlaceholder?(b.setRawValue(""),a=!0,c.removeCls(b.emptyCls),b.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&b.inputEl.removeCls(b.emptyCls),(b.selectOnFocus||a)&&(Ext.isWebKit?(b.inputFocusTask||(b.inputFocusTask=new Ext.util.DelayedTask(b.focusInput,b)),b.inputFocusTask.delay(1)):c.dom.select())},focusInput:function(){var a=this.inputEl;a&&(a=a.dom,a&&a.select())},onFocus:function(){var a=this;a.callParent(arguments),a.emptyText&&a.autoSize()},postBlur:function(){this.callParent(arguments),this.applyEmptyText()},filterKeys:function(a){if(!a.ctrlKey||a.altKey){var b=a.getKey(),c=String.fromCharCode(a.getCharCode());(Ext.isGecko||Ext.isOpera)&&(a.isNavKeyPress()||b===a.BACKSPACE||b===a.DELETE&&-1===a.button)||(Ext.isGecko||Ext.isOpera||!a.isSpecialKey()||c)&&(this.maskRe.test(c)||a.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments),a.hasOwnProperty("value")&&this.setValue(a.value)},getRawValue:function(){var a=this,b=a.callParent();return b===a.emptyText&&a.valueContainsPlaceholder&&(b=""),b},setValue:function(a){var b=this,c=b.inputEl;return c&&b.emptyText&&!Ext.isEmpty(a)&&(c.removeCls(b.emptyCls),b.valueContainsPlaceholder=!1),b.callParent(arguments),b.applyEmptyText(),b},getErrors:function(a){var b,c,d,e=this,f=e.callParent(arguments),g=e.validator,h=e.vtype,i=Ext.form.field.VTypes,j=e.regex,k=Ext.String.format;if(a=a||e.processRawValue(e.getRawValue()),Ext.isFunction(g)&&(b=g.call(e,a),b!==!0&&f.push(b)),c=e.allowOnlyWhitespace?a:Ext.String.trim(a),c.length<1||a===e.emptyText&&e.valueContainsPlaceholder){if(e.allowBlank||f.push(e.blankText),!e.validateBlank)return f;d=!0}return!d&&a.length<e.minLength&&f.push(k(e.minLengthText,e.minLength)),a.length>e.maxLength&&f.push(k(e.maxLengthText,e.maxLength)),h&&(i[h](a,e)||f.push(e.vtypeText||i[h+"Text"])),j&&!j.test(a)&&f.push(e.regexText||e.invalidText),f},selectText:function(a,b){var c,d,e=this,f=e.getRawValue(),g=!0,h=e.inputEl.dom;f.length>0&&(a=a===c?0:a,b=b===c?f.length:b,h.setSelectionRange?h.setSelectionRange(a,b):h.createTextRange&&(d=h.createTextRange(),d.moveStart("character",a),d.moveEnd("character",b-f.length),d.select()),g=Ext.isGecko||Ext.isOpera),g&&e.focus()},autoSize:function(){var a=this;a.grow&&a.rendered&&(a.autoSizing=!0,a.updateLayout())},afterComponentLayout:function(){var a,b=this;b.callParent(arguments),b.autoSizing&&(a=b.inputEl.getWidth(),a!==b.lastInputWidth&&(b.fireEvent("autosize",b,a),b.lastInputWidth=a,delete b.autoSizing))},onDestroy:function(){var a=this;a.callParent(),a.inputFocusTask&&(a.inputFocusTask.cancel(),a.inputFocusTask=null)}},0,["textfield"],["field","textfield","component","box"],{field:!0,textfield:!0,component:!0,box:!0},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0),Ext.cmd.derive("Ext.layout.component.field.TextArea",Ext.layout.component.field.Text,{type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments),a.target.inputEl.setStyle("height","")},measureContentHeight:function(a){var b,c,d,e,f,g=this,h=g.owner,i=g.callParent(arguments);return h.grow&&!a.state.growHandled&&(b=a.inputContext,c=h.inputEl,e=c.getWidth(!0),d=Ext.util.Format.htmlEncode(c.dom.value)||"&#160;",d+=h.growAppend,d=d.replace(/\n/g,"<br/>"),f=Ext.util.TextMetrics.measure(c,d,e).height+b.getBorderInfo().height+b.getPaddingInfo().height,f=Ext.Number.constrain(f,h.growMin,h.growMax),b.setHeight(f),a.state.growHandled=!0,b.domBlock(g,"height"),i=0/0),i}},0,0,0,0,["layout.textareafield"],0,[Ext.layout.component.field,"TextArea"],0),Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var a=this,b=a.getFieldStyle(),c=a.callParent();return a.grow&&a.preventScrollbars&&(c.fieldStyle=(b||"")+";overflow:hidden;height:"+a.growMin+"px"),Ext.applyIf(c,{cols:a.cols,rows:a.rows}),c},afterRender:function(){var a=this;a.callParent(arguments),a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,a.needsMaxCheck&&a.inputEl.on("paste",a.onPaste,a)},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){return a=this.stripReturns(a),this.callParent([a])},stripReturns:function(a){return a&&"string"==typeof a&&(a=a.replace(this.returnRe,"")),a},onPaste:function(){var a=this;a.pasteTask||(a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)),a.pasteTask.delay(1)},pasteCheck:function(){var a=this,b=a.getValue(),c=a.maxLength;b.length>c&&(b=b.substr(0,c),a.setValue(b))},fireKey:function(a){var b,c=this,d=a.getKey();a.isSpecialKey()&&(c.enterIsSpecial||d!==a.ENTER||a.hasModifier())&&c.fireEvent("specialkey",c,a),!c.needsMaxCheck||d===a.BACKSPACE||d===a.DELETE||a.isNavKeyPress()||c.isCutCopyPasteSelectAll(a,d)||(b=c.getValue(),b.length>=c.maxLength&&a.stopEvent())},isCutCopyPasteSelectAll:function(a,b){return a.ctrlKey?b===a.A||b===a.C||b===a.V||b===a.X:!1},autoSize:function(){var a,b=this;b.grow&&b.rendered&&(b.updateLayout(),a=b.inputEl.getHeight(),a!==b.lastInputHeight&&(b.fireEvent("autosize",b,a),b.lastInputHeight=a))},initAria:function(){this.callParent(arguments),this.getActionEl().dom.setAttribute("aria-multiline",!0)},beforeDestroy:function(){var a=this.pasteTask;a&&(a.cancel(),this.pasteTask=null),this.callParent()}},0,["textarea","textareafield"],["field","textfield","component","textarea","box","textareafield"],{field:!0,textfield:!0,component:!0,textarea:!0,box:!0,textareafield:!0},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0),Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(a){var b=this;return a=Ext.value(a,""),b.rawValue=a,b.rendered&&(b.inputEl.dom.innerHTML=b.getDisplayValue(),b.updateLayout()),a},getDisplayValue:function(){var a,b=this,c=this.getRawValue();return a=b.renderer?b.renderer.call(b.scope||b,c,b):b.htmlEncode?Ext.util.Format.htmlEncode(c):c},getSubTplData:function(){var a=this.callParent(arguments);return a.value=this.getDisplayValue(),a}},0,["displayfield"],["displayfield","field","component","box"],{displayfield:!0,field:!0,component:!0,box:!0},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0),Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(a){var b,c,d,e,f,g=this,h=0;for(g.callParent(arguments),d=a.childItems,f=d.length,e=0;f>e&&(c=d[e],b=c.target.anchorSpec,!b||(c.widthModel.calculated&&b.right&&(h|=1),c.heightModel.calculated&&b.bottom&&(h|=2),3!=h));++e);a.anchorDimensions=h},calculateItems:function(a,b){var c,d,e,f,g,h,i=this,j=a.childItems,k=j.length,l=b.gotHeight,m=b.gotWidth,n=b.height,o=b.width,p=(m?1:0)|(l?2:0),q=a.anchorDimensions;if(!q)return!0;for(g=0;k>g;g++)d=j[g],e=d.getMarginInfo(),c=d.target.anchorSpec,m&&d.widthModel.calculated&&(h=c.right(o)-e.width,h=i.adjustWidthAnchor(h,d),d.setWidth(h)),l&&d.heightModel.calculated&&(f=c.bottom(n)-e.height,f=i.adjustHeightAnchor(f,d),d.setHeight(f));return(p&q)===q},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&"none"!=a){var d,e=this.anchorFactory;if(this.parseAnchorRE.test(a))return e.standard(c-b);if(-1!=a.indexOf("%"))return e.ratio(.01*parseFloat(a.replace("%","")));if(d=parseInt(a,10),!isNaN(d))return e.offset(d)}return null},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a},configureItem:function(a){var b,c,d,e=this,f=e.owner,g=a.anchor;e.callParent(arguments),a.anchor||!a.items||Ext.isNumber(a.width)||Ext.isIE6&&Ext.isStrict||(a.anchor=g=e.defaultAnchor),f.anchorSize?"number"==typeof f.anchorSize?c=f.anchorSize:(c=f.anchorSize.width,d=f.anchorSize.height):(c=f.initialConfig.width,d=f.initialConfig.height),g&&(b=g.split(" "),a.anchorSpec={right:e.parseAnchor(b[0],a.initialConfig.width,c),bottom:e.parseAnchor(b[1],a.initialConfig.height,d)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){var b,c=a.anchorSpec,d="$",e=this.sizePolicy;return c&&(b=this.owner.getSizeModel(),c.right&&!b.width.shrinkWrap&&(e=e.r),c.bottom&&!b.height.shrinkWrap&&(d="b")),e[d]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0),Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a){var b,c,d=this;(d.cfg.prompt||d.cfg.multiline)&&(c=d.cfg.multiline?d.textArea:d.textField,b=c.getValue(),c.reset()),d.hide(),d.userCallback(a.itemId,b,d.cfg)},hide:function(){var a=this,b=a.cfg.cls;a.dd.endDrag(),a.progressBar.reset(),b&&a.removeCls(b),a.callParent(arguments)},constructor:function(){var a=this;a.callParent(arguments),a.minWidth=a.defaultMinWidth=a.minWidth||a.defaultMinWidth,a.maxWidth=a.defaultMaxWidth=a.maxWidth||a.defaultMaxWidth,a.minHeight=a.defaultMinHeight=a.minHeight||a.defaultMinHeight,a.maxHeight=a.defaultMaxHeight=a.maxHeight||a.defaultMaxHeight},initComponent:function(){var a,b,c=this,d=c.id;for(c.title="&#160;",c.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[c.iconComponent=new Ext.Component({width:c.iconWidth,height:c.iconHeight}),c.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[c.msg=new Ext.form.field.Display({id:d+"-displayfield",cls:c.baseCls+"-text"}),c.textField=new Ext.form.field.Text({id:d+"-textfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:c.onPromptKey,scope:c}}),c.textArea=new Ext.form.field.TextArea({id:d+"-textarea",anchor:"100%",height:75})]})]}),c.progressBar=new Ext.ProgressBar({id:d+"-progressbar",margins:"0 10 10 10"}),c.items=[c.topContainer,c.progressBar],c.msgButtons=[],a=0;4>a;a++)b=c.makeButton(a),c.msgButtons[b.itemId]=b,c.msgButtons.push(b);c.bottomTb=new Ext.toolbar.Toolbar({id:d+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[c.msgButtons[0],c.msgButtons[1],c.msgButtons[2],c.msgButtons[3]]}),c.dockedItems=[c.bottomTb],c.on("close",c.onClose,c),c.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel",this.btnCallback(a),delete a.itemId},onPromptKey:function(a,b){var c=this;(b.keyCode===b.RETURN||10===b.keyCode)&&(c.msgButtons.ok.isVisible()?c.msgButtons.ok.handler.call(c,c.msgButtons.ok):c.msgButtons.yes.isVisible()&&c.msgButtons.yes.handler.call(c,c.msgButtons.yes))},reconfigure:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=0,m=!0,n=k.buttonText,o=k.resizer;for(k.updateButtonText(),a=a||{},k.cfg=a,a.width&&(c=a.width),a.height&&(d=a.height),k.minWidth=a.minWidth||k.defaultMinWidth,k.maxWidth=a.maxWidth||k.defaultMaxWidth,k.minHeight=a.minHeight||k.defaultMinHeight,k.maxHeight=a.maxHeight||k.defaultMaxHeight,o&&(b=o.resizeTracker,o.minWidth=b.minWidth=k.minWidth,o.maxWidth=b.maxWidth=k.maxWidth,o.minHeight=b.minHeight=k.minHeight,o.maxHeight=b.maxHeight=k.maxHeight),delete k.defaultFocus,a.defaultFocus&&(k.defaultFocus=a.defaultFocus),k.animateTarget=a.animateTarget||void 0,k.modal=a.modal!==!1,k.setTitle(a.title||""),k.setIconCls(a.iconCls||""),Ext.isObject(a.buttons)?(k.buttonText=a.buttons,l=0):(k.buttonText=a.buttonText||k.buttonText,l=Ext.isNumber(a.buttons)?a.buttons:0),l|=k.updateButtonText(),k.buttonText=n,Ext.suspendLayouts(),delete k.width,delete k.height,(c||d)&&(c&&k.setWidth(c),d&&k.setHeight(d)),k.hidden=!1,k.rendered||k.render(Ext.getBody()),k.closable=a.closable!==!1&&!a.wait,k.header.child("[type=close]").setVisible(k.closable),a.title||k.closable||a.iconCls?k.header.show():k.header.hide(),k.liveDrag=!a.proxyDrag,k.userCallback=Ext.Function.bind(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global),k.setIcon(a.icon,a.iconWidth,a.iconHeight),h=k.msg,a.msg?(h.setValue(a.msg),h.show()):h.hide(),f=k.textArea,g=k.textField,a.prompt||a.multiline?(k.multiline=a.multiline,a.multiline?(f.setValue(a.value),f.setHeight(a.defaultTextHeight||k.defaultTextHeight),f.show(),g.hide(),k.defaultFocus=f):(g.setValue(a.value),f.hide(),g.show(),k.defaultFocus=g)):(f.hide(),g.hide()),i=k.progressBar,a.progress||a.wait?(i.show(),k.updateProgress(0,a.progressText),a.wait===!0&&i.wait(a.waitConfig)):i.hide(),j=k.msgButtons,e=0;4>e;e++)l&Math.pow(2,e)?(k.defaultFocus||(k.defaultFocus=j[e]),j[e].show(),m=!1):j[e].hide();m?k.bottomTb.hide():k.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var a,b,c=this,d=c.buttonText,e=0;for(a in d)d.hasOwnProperty(a)&&(b=c.msgButtons[a],b&&(c.cfg&&c.cfg.buttonText&&(e|=Math.pow(2,Ext.Array.indexOf(c.buttonIds,a))),b.text!=d[a]&&b.setText(d[a])));return e},show:function(a){var b,c=this;return Ext.AbstractComponent.layoutSuspendCount?(Ext.on({resumelayouts:function(){c.show(a)},single:!0}),c):(c.reconfigure(a),a.cls&&c.addCls(a.cls),b=c.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),c.preventFocusOnActivate=!b.length,c.hidden=!0,c.callParent(),c)},onShow:function(){this.callParent(arguments),this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(a,b,c){var d=this,e=d.iconComponent,f=d.messageIconCls;return f&&e.removeCls(f),a?(e.show(),e.setSize(b||d.iconWidth,c||d.iconHeight),e.addCls(Ext.baseCSSPrefix+"dlg-icon"),e.addCls(d.messageIconCls=a)):(e.removeCls(Ext.baseCSSPrefix+"dlg-icon"),e.hide()),d},updateProgress:function(a,b,c){return this.progressBar.updateProgress(a,b),c&&this.updateText(c),this},onEsc:function(){this.closable!==!1&&this.callParent(arguments)},confirm:function(a,b,c,d){return Ext.isString(a)&&(a={title:a,icon:this.QUESTION,msg:b,buttons:this.YESNO,callback:c,scope:d}),this.show(a)},prompt:function(a,b,c,d,e,f){return Ext.isString(a)&&(a={prompt:!0,title:a,minWidth:this.minPromptWidth,msg:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:f}),this.show(a)},wait:function(a,b,c){return Ext.isString(a)&&(a={title:b,msg:a,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:c}),this.show(a)},alert:function(a,b,c,d){return Ext.isString(a)&&(a={title:a,msg:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth}),this.show(a)},progress:function(a,b,c){return Ext.isString(a)&&(a={title:a,msg:b,progress:!0,progressText:c}),this.show(a)}},1,["messagebox"],["panel","window","messagebox","component","container","box"],{panel:!0,window:!0,messagebox:!0,component:!0,container:!0,box:!0},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(){Ext.MessageBox=Ext.Msg=new this}),Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",constructor:function(a,b){var c,d=this;d.owner=a,d.checkValidityTask=new Ext.util.DelayedTask(d.checkValidity,d),d.checkDirtyTask=new Ext.util.DelayedTask(d.checkDirty,d),d.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:d,addHandler:d.onFieldAdd,removeHandler:d.onFieldRemove}),d.monitor.bind(a),Ext.apply(d,b),Ext.isString(d.paramOrder)&&(d.paramOrder=d.paramOrder.split(/[\s,|]/)),c=d.reader,c&&!c.isReader&&("string"==typeof c&&(c={type:c}),d.reader=Ext.createByAlias("reader."+c.type,c)),c=d.errorReader,c&&!c.isReader&&("string"==typeof c&&(c={type:c}),d.errorReader=Ext.createByAlias("reader."+c.type,c)),d.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),d.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var a=this,b=a.monitor;b&&(b.unbind(),a.monitor=null),a.clearListeners(),a.checkValidityTask.cancel(),a.checkDirtyTask.cancel()},onFieldAdd:function(a){var b=this;b.mon(a,"validitychange",b.checkValidityDelay,b),b.mon(a,"dirtychange",b.checkDirtyDelay,b),b.initialized&&b.checkValidityDelay()},onFieldRemove:function(a){var b=this;b.mun(a,"validitychange",b.checkValidityDelay,b),b.mun(a,"dirtychange",b.checkDirtyDelay,b),b.initialized&&b.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;return a&&0!==a.getCount()||(a=this._boundItems=new Ext.util.MixedCollection,a.addAll(this.owner.query("[formBind]"))),a},hasInvalidField:function(){return!!this.getFields().findBy(function(a){var b,c=a.preventMark;return a.preventMark=!0,b=a.isValid(),a.preventMark=c,!b})},isValid:function(){var a,b=this;return Ext.suspendLayouts(),a=b.getFields().filterBy(function(a){return!a.validate()}),Ext.resumeLayouts(!0),a.length<1},checkValidity:function(){var a=this,b=!a.hasInvalidField();b!==a.wasValid&&(a.onValidityChange(b),a.fireEvent("validitychange",a,b),a.wasValid=b)},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(a){var b,c,d,e,f=this.getBoundItems();if(f)for(b=f.items,d=b.length,c=0;d>c;c++)e=b[c],e.disabled===a&&e.setDisabled(!a)},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();a!==this.wasDirty&&(this.fireEvent("dirtychange",this,a),this.wasDirty=a)},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){return Ext.isString(a)&&(a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this}))),this.fireEvent("beforeaction",this,a)!==!1&&(this.beforeAction(a),Ext.defer(a.run,100,a)),this},submit:function(a){a=a||{};var b,c=this;return b=a.standardSubmit||c.standardSubmit?"standardsubmit":c.api?"directsubmit":"submit",c.doAction(b,a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(a){if(a=a||this._record,!a)return this;for(var b,c=a.fields.items,d=this.getFieldValues(),e={},f=0,g=c.length;g>f;++f)b=c[f].name,d.hasOwnProperty(b)&&(e[b]=d[b]);return a.beginEdit(),a.set(e),a.endEdit(),this},loadRecord:function(a){return this._record=a,this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(a){var b,c,d,e=this,f=a.waitMsg,g=Ext.baseCSSPrefix+"mask-loading",h=e.getFields().items,i=h.length;for(b=0;i>b;b++)c=h[b],c.isFormField&&c.syncValue&&c.syncValue();f&&(d=e.waitMsgTarget,d===!0?e.owner.el.mask(f,g):d?(d=e.waitMsgTarget=Ext.get(d),d.mask(f,g)):(e.floatingAncestor=e.owner.up("[floating]"),e.floatingAncestor&&(e.savePreventFocusOnActivate=e.floatingAncestor.preventFocusOnActivate,e.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(f,a.waitTitle||e.waitTitle)))},afterAction:function(a,b){var c=this;if(a.waitMsg){var d=Ext.MessageBox,e=c.waitMsgTarget;e===!0?c.owner.el.unmask():e?e.unmask():d.hide()}c.floatingAncestor&&(c.floatingAncestor.preventFocusOnActivate=c.savePreventFocusOnActivate),b?(a.reset&&c.reset(),Ext.callback(a.success,a.scope||a,[c,a]),c.fireEvent("actioncomplete",c,a)):(Ext.callback(a.failure,a.scope||a,[c,a]),c.fireEvent("actionfailed",c,a))},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(a){function b(a,b){var c=h.findField(a);c&&c.markInvalid(b)}var c,d,e,f,g,h=this;if(Ext.isArray(a))for(d=a.length,c=0;d>c;c++)e=a[c],b(e.id,e.msg);else if(a instanceof Ext.data.Errors)for(d=a.items.length,c=0;d>c;c++)e=a.items[c],b(e.field,e.message);else for(g in a)a.hasOwnProperty(g)&&(f=a[g],b(g,f,a));return this},setValues:function(a){function b(a,b){var c=f.findField(a);c&&(c.setValue(b),f.trackResetOnLoad&&c.resetOriginalValue())}var c,d,e,f=this;if(Ext.suspendLayouts(),Ext.isArray(a))for(d=a.length,c=0;d>c;c++)e=a[c],b(e.id,e.value);else Ext.iterate(a,b);return Ext.resumeLayouts(!0),this},getValues:function(a,b,c,d){var e,f,g,h,i,j,k={},l=this.getFields().items,m=l.length,n=Ext.isArray;for(e=0;m>e;e++)if(f=l[e],(!b||f.isDirty())&&(g=f[d?"getModelData":"getSubmitData"](c),Ext.isObject(g)))for(j in g)g.hasOwnProperty(j)&&(h=g[j],c&&""===h&&(h=f.emptyText||""),k.hasOwnProperty(j)?(i=k[j],n(i)||(i=k[j]=[i]),n(h)?k[j]=i.concat(h):i.push(h)):k[j]=h);return a&&(k=Ext.Object.toQueryString(k)),k},getFieldValues:function(a){return this.getValues(!1,a,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var a,b=this,c=b.getFields().items,d=c.length;for(a=0;d>a;a++)c[a].clearInvalid();return Ext.resumeLayouts(!0),b},reset:function(a){Ext.suspendLayouts();var b,c=this,d=c.getFields().items,e=d.length;for(b=0;e>b;b++)d[b].reset();return Ext.resumeLayouts(!0),a===!0&&delete c._record,c},applyToFields:function(a){var b,c=this.getFields().items,d=c.length;for(b=0;d>b;b++)Ext.apply(c[b],a);return this},applyIfToFields:function(a){var b,c=this.getFields().items,d=c.length;for(b=0;d>b;b++)Ext.applyIf(c[b],a);return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0),Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Base,{xhooks:{initHierarchyState:function(a){this.fieldDefaults&&(a.fieldDefaults=a.fieldDefaults?Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults):this.fieldDefaults)}},initFieldAncestor:function(){var a=this;a.addEvents("fieldvaliditychange","fielderrorchange"),a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove}),a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(a){var b=this;b.mon(a,"errorchange",b.handleFieldErrorChange,b),b.mon(a,"validitychange",b.handleFieldValidityChange,b)
},onChildFieldRemove:function(a){var b=this;b.mun(a,"errorchange",b.handleFieldErrorChange,b),b.mun(a,"validitychange",b.handleFieldValidityChange,b)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(a,b){var c=this;a!==c&&(c.fireEvent("fieldvaliditychange",c,a,b),c.onFieldValidityChange(a,b))},handleFieldErrorChange:function(a,b){var c=this;a!==c&&(c.fireEvent("fielderrorchange",c,a,b),c.onFieldErrorChange(a,b))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind(),this.callParent()}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0),Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.field.Field,{type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(a){var b=this.owner;this.callParent(arguments),a.hasRawContent=!0,b.bodyEl.setStyle("height",""),b.containerEl.setStyle("height",""),a.containerElContext=a.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):0/0},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):0/0},publishInnerWidth:function(a){var b=a.bodyCellContext,c=b.el.getWidth();b.setWidth(c,!1),a.containerElContext.setWidth(c,!1)},publishInnerHeight:function(a,b){var c=a.bodyCellContext,d=a.containerElContext;b-=this.measureLabelErrorHeight(a),c.setHeight(b),d.setHeight(b)}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0),Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){var a=this;a.initLabelable(),a.initFieldAncestor(),a.callParent(),a.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(a){var b=this;Ext.isGecko&&"absolute"===b.layout.type&&!b.hideLabel&&"top"!==b.labelAlign&&(a.x+=b.labelWidth+b.labelPad),b.callParent(arguments),b.combineLabels&&(a.oldHideLabel=a.hideLabel,a.hideLabel=!0),b.updateLabel()},onRemove:function(a,b){var c=this;c.callParent(arguments),b||(c.combineLabels&&(a.hideLabel=a.oldHideLabel),c.updateLabel())},initRenderTpl:function(){var a=this;return a.hasOwnProperty("renderTpl")||(a.renderTpl=a.getTpl("labelableRenderTpl")),a.callParent()},initRenderData:function(){var a=this,b=a.callParent();return b.containerElCls=a.containerElCls,Ext.applyIf(b,a.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";return!a&&this.combineLabels&&(a=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector)),a},getSubTplData:function(){var a=this.initRenderData();return Ext.apply(a,this.subTplData),a},getSubTplMarkup:function(){var a,b=this,c=b.getTpl("fieldSubTpl");return c.renderContent||b.setupRenderTpl(c),a=c.apply(b.getSubTplData())},updateLabel:function(){var a=this,b=a.labelEl;b&&a.setFieldLabel(a.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var a=this,b=a.getActiveError(),c=Ext.Array.filter(a.query("[isFormField]"),function(a){return a.hasActiveError()}),d=a.getCombinedErrors(c);d?a.setActiveErrors(d):a.unsetActiveError(),b!==a.getActiveError()&&a.doComponentLayout()}},getCombinedErrors:function(a){var b,c,d,e,f,g,h,i=[],j=a.length;for(b=0;j>b;b++)for(c=a[b],d=c.getActiveErrors(),f=d.length,e=0;f>e;e++)g=d[e],h=c.getFieldLabel(),i.push((h?h+": ":"")+g);return i},getTargetEl:function(){return this.containerEl},applyTargetCls:function(a){var b=this.containerElCls;this.containerElCls=b?b+" "+a:a}},0,["fieldcontainer"],["component","container","fieldcontainer","box"],{component:!0,container:!0,fieldcontainer:!0,box:!0},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0),Ext.cmd.derive("Ext.layout.container.CheckboxGroup",Ext.layout.container.Container,{autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(a){var b,c,d,e,f,g=this,h=0,i=0,j=g.autoFlex,k=g.innerCt.dom.style;if(g.callParent(arguments),b=g.columnNodes,a.innerCtContext=a.getEl("innerCt",g),a.widthModel.shrinkWrap)k.tableLayout="auto",k.width="";else{if(c=b.length,g.columnsArray){for(d=0;c>d;d++)e=g.owner.columns[d],1>e&&(h+=e,i++);for(d=0;c>d;d++)e=g.owner.columns[d],f=1>e?e/h*100+"%":e+"px",b[d].style.width=f}else for(d=0;c>d;d++)f=j?1/c*100+"%":"",b[d].style.width=f,i++;i?c>i?(k.tableLayout="fixed",k.width="100%"):(k.tableLayout="auto",k.width=j?"100%":""):(k.tableLayout="fixed",k.width="")}},cacheElements:function(){var a=this;a.callParent(),a.rowEl=a.innerCt.down("tr"),a.columnNodes=a.rowEl.dom.childNodes},calculate:function(a){var b,c,d,e,f,g,h=this;a.getDomProp("containerChildrenSizeDone")?(b=a.innerCtContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,e=d||c,f=b.el.dom,g=e&&b.getPaddingInfo(),c&&a.setContentWidth(f.offsetWidth+g.width,!0),d&&a.setContentHeight(f.offsetHeight+g.height,!0)):h.done=!1},doRenderColumn:function(a,b,c){var d,e,f,g,h,i=b.$layout,j=i.owner,k=b.columnCount,l=j.items.items,m=l.length;for(j.vertical?(f=Math.ceil(m/k),e=c*f,m=Math.min(m,e+f),g=1):(e=c,g=k);m>e;e+=g)d=l[e],i.configureItem(d),h=d.getRenderTree(),Ext.DomHelper.generateMarkup(h,a)},getColumnCount:function(){var a=this,b=a.owner,c=b.columns;return a.columnsArray?c.length:Ext.isNumber(c)?c:b.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var a,b,c,d,e=this,f=e.callParent(),g=e.owner,h=e.getColumnCount(),i=e.autoFlex,j=0,k=0;if(e.columnsArray)for(a=0;h>a;a++)b=e.owner.columns[a],1>b&&(j+=b,k++);for(f.colCls=g.groupCls,f.columnCount=h,f.columns=[],a=0;h>a;a++)c=f.columns[a]={},e.columnsArray?(b=e.owner.columns[a],d=1>b?b/j*100+"%":b+"px",c.style="width:"+d):(c.style="width:"+1/h*100+"%",k++);return f.tableStyle=k?h>k?"table-layout:fixed;width:100%":i?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",f},initLayout:function(){var a=this,b=a.owner;a.columnsArray=Ext.isArray(b.columns),a.autoColumns=!b.columns||"auto"===b.columns,a.vertical=b.vertical,a.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(a){this.callParent(arguments),a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this,b=a.owner.items.generation;a.lastOwnerItemsGeneration!==b&&(a.lastOwnerItemsGeneration=b,a.renderItems(a.getLayoutItems()))},renderItems:function(a){var b,c,d,e,f,g,h=this,i=a.length;if(i){for(Ext.suspendLayouts(),h.autoColumns&&h.addMissingColumns(i),e=h.columnNodes.length,d=Math.ceil(i/e),b=0;i>b;b++)c=a[b],f=h.getRenderRowIndex(b,d,e),g=h.getRenderColumnIndex(b,d,e),c.rendered?h.isItemAtPosition(c,f,g)||h.moveItem(c,f,g):h.renderItem(c,f,g);h.autoColumns&&h.removeExceedingColumns(i),Ext.resumeLayouts(!0)}},isItemAtPosition:function(a,b,c){return a.el.dom===this.getNodeAt(b,c)},getRenderColumnIndex:function(a,b,c){return this.vertical?Math.floor(a/b):a%c},getRenderRowIndex:function(a,b,c){var d=this;return d.vertical?a%b:Math.floor(a/c)},getNodeAt:function(a,b){return this.columnNodes[b].childNodes[a]},addMissingColumns:function(a){var b,c,d,e,f=this,g=f.columnNodes.length;if(a>g)for(b=a-g,c=f.rowEl,d=f.owner.groupCls,e=0;b>e;e++)c.createChild({cls:d,tag:"td",vAlign:"top"})},removeExceedingColumns:function(a){var b,c,d,e=this,f=e.columnNodes.length;if(f>a)for(b=f-a,c=e.rowEl,d=0;b>d;d++)c.last().remove()},renderItem:function(a,b,c){var d=this;d.configureItem(a),a.render(Ext.get(d.columnNodes[c]),b),d.afterRenderItem(a)},moveItem:function(a,b,c){var d=this,e=d.columnNodes[c],f=e.childNodes[b];e.insertBefore(a.el.dom,f||null)}},0,0,0,0,["layout.checkboxgroup"],0,[Ext.layout.container,"CheckboxGroup"],0),Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0),Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments),this.getManager().add(this)},initValue:function(){var a=this,b=!!a.checked;a.originalValue=a.lastValue=b,a.setValue(b)},getElConfig:function(){var a=this;return a.isChecked(a.rawValue,a.inputValue)&&a.addCls(a.checkedCls),a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign,inputTypeAttr:a.inputTypeAttr})},initEvents:function(){var a=this;a.callParent(),a.mon(a.inputEl,"click",a.onBoxClick,a)},setBoxLabel:function(a){var b=this;b.boxLabel=a,b.rendered&&b.boxLabelEl.update(a)},onBoxClick:function(){var a=this;a.disabled||a.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(a,b){return a===!0||"true"===a||"1"===a||1===a||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(a){var b=this,c=b.inputEl,d=b.isChecked(a,b.inputValue);return c&&b[d?"addCls":"removeCls"](b.checkedCls),b.checked=b.rawValue=d,d},setValue:function(a){var b,c,d,e,f=this;if(Ext.isArray(a))for(b=f.getManager().getByName(f.name,f.getFormId()).items,d=b.length,c=0;d>c;++c)e=b[c],e.setValue(Ext.Array.contains(a,e.inputValue));else f.callParent(arguments);return f},valueToRaw:function(a){return a},onChange:function(a){var b=this,c=b.handler;c&&c.call(b.scope||b,b,a),b.callParent(arguments)},resetOriginalValue:function(a){var b,c,d,e,f=this;if(!a)for(b=f.getManager().getByName(f.name,f.getFormId()).items,d=b.length,e=0;d>e;++e)c=b[e],c!==f&&b[e].resetOriginalValue(!0);f.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent(),b&&(b.dom.disabled=a.readOnly)},setReadOnly:function(a){var b=this,c=b.inputEl;c&&(c.dom.disabled=!!a||b.disabled),b.callParent(arguments)},getFormId:function(){var a,b=this;return b.formId||(a=b.up("form"),a&&(b.formId=a.id)),b.formId}},0,["checkbox","checkboxfield"],["field","component","checkbox","box","checkboxfield"],{field:!0,component:!0,checkbox:!0,box:!0,checkboxfield:!0},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0),Ext.cmd.derive("Ext.form.CheckboxGroup",Ext.form.FieldContainer,{columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){var a=this;a.callParent(),a.initField()},initValue:function(){var a=this,b=a.value;a.originalValue=a.lastValue=b||a.getValue(),b&&a.setValue(b)},onAdd:function(a){var b,c,d,e=this;if(a.isCheckbox)e.mon(a,"change",e.checkChange,e);else if(a.isContainer)for(b=a.items.items,d=0,c=b.length;c>d;d++)e.onAdd(b[d]);e.callParent(arguments)},onRemove:function(a){var b,c,d,e=this;if(a.isCheckbox)e.mun(a,"change",e.checkChange,e);else if(a.isContainer)for(b=a.items.items,d=0,c=b.length;c>d;d++)e.onRemove(b[d]);e.callParent(arguments)},isEqual:function(a,b){var c=Ext.Object.toQueryString;return c(a)===c(b)},getErrors:function(){var a=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&a.push(this.blankText),a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(a,b){Ext.Array.forEach(this.getBoxes(),a,b||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var a,b=this.getBoxes(),c=b.length;for(a=0;c>a;a++)if(b[a].isDirty())return!0},setReadOnly:function(a){var b,c=this.getBoxes(),d=c.length;for(b=0;d>b;b++)c[b].setReadOnly(a);this.readOnly=a},reset:function(){var a=this,b=a.hasActiveError(),c=a.preventMark;a.preventMark=!0,a.batchChanges(function(){var b,c=a.getBoxes(),d=c.length;for(b=0;d>b;b++)c[b].reset()}),a.preventMark=c,a.unsetActiveError(),b&&a.updateLayout()},resetOriginalValue:function(){var a,b=this,c=b.getBoxes(),d=c.length;for(a=0;d>a;a++)c[a].resetOriginalValue();b.originalValue=b.getValue(),b.checkDirty()},setValue:function(a){var b,c,d,e,f=this,g=f.getBoxes(),h=g.length;return f.batchChanges(function(){for(b=0;h>b;b++)c=g[b],d=c.getName(),e=!1,a&&a.hasOwnProperty(d)&&(e=Ext.isArray(a[d])?Ext.Array.contains(a[d],c.inputValue):a[d]),c.setValue(e)}),f},getValue:function(){var a,b,c,d,e,f={},g=this.getBoxes(),h=g.length;for(a=0;h>a;a++)b=g[a],c=b.getName(),d=b.inputValue,b.getValue()&&(f.hasOwnProperty(c)?(e=f[c],Ext.isArray(e)||(e=f[c]=[e]),e.push(d)):f[c]=d);return f},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var a,b,c,d=this;return d.disabled?b=!0:(a=d.getErrors(),b=Ext.isEmpty(a),c=d.wasValid,b?d.unsetActiveError():d.setActiveError(a)),b!==c&&(d.wasValid=b,d.fireEvent("validitychange",d,b),d.updateLayout()),b}},0,["checkboxgroup"],["checkboxgroup","component","container","fieldcontainer","box"],{checkboxgroup:!0,component:!0,container:!0,fieldcontainer:!0,box:!0},["widget.checkboxgroup"],[["field",Ext.form.field.Field]],[Ext.form,"CheckboxGroup"],function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var a=this,b=a.legend;b&&(delete b.ownerCt,b.destroy(),a.legend=null),a.callParent()},initComponent:function(){var a=this,b=a.baseCls;a.initFieldAncestor(),a.callParent(),a.layout.managePadding=a.layout.manageOverflow=!1,a.addEvents("beforeexpand","beforecollapse","expand","collapse"),a.collapsed&&(a.addCls(b+"-collapsed"),a.collapse()),(a.title||a.checkboxToggle||a.collapsible)&&(a.addTitleClasses(),a.legend=Ext.widget(a.createLegendCt())),a.initMonitor()},initPadding:function(a){var b,c=this,d=c.getProtoBody(),e=c.padding;void 0!==e&&((Ext.isIEQuirks||Ext.isIE8m)&&(e=c.parseBox(e),b=Ext.Element.parseBox(0),b.top=e.top,e.top=0,d.setStyle("padding",c.unitizeBox(b))),a.setStyle("padding",c.unitizeBox(e)))},getProtoBody:function(){var a=this,b=a.protoBody;return b||(a.protoBody=b=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),b},initRenderData:function(){var a=this,b=a.callParent();return b.bodyTargetCls=a.bodyTargetCls,a.protoBody.writeTo(b),delete a.protoBody,b},getState:function(){var a=this.callParent();return a=this.addPropertyToState(a,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var a=this,b=[],c={xtype:"container",baseCls:a.baseCls+"-header",id:a.id+"-legend",autoEl:"legend",items:b,ownerCt:a,shrinkWrap:!0,ownerLayout:a.componentLayout};return a.checkboxToggle?b.push(a.createCheckboxCmp()):a.collapsible&&b.push(a.createToggleCmp()),b.push(a.createTitleCmp()),c},createTitleCmp:function(){var a=this,b={xtype:"component",html:a.title,cls:a.baseCls+"-header-text",id:a.id+"-legendTitle"};return a.collapsible&&a.toggleOnTitleClick&&(b.listeners={click:{element:"el",scope:a,fn:a.toggle}},b.cls+=" "+a.baseCls+"-header-text-collapsible"),a.titleCmp=Ext.widget(b)},createCheckboxCmp:function(){var a=this,b="-checkbox";return a.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:a.checkboxName||a.id+b,cls:a.baseCls+"-header"+b,id:a.id+"-legendChk",checked:!a.collapsed,listeners:{change:a.onCheckChange,scope:a}}),a.checkboxCmp},createToggleCmp:function(){var a=this;return a.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a}),a.toggleCmp},doRenderLegend:function(a,b){var c,d=b.$comp,e=d.legend;e&&(e.ownerLayout.configureItem(e),c=e.getRenderTree(),Ext.DomHelper.generateMarkup(c,a))},finishRender:function(){var a=this.legend;this.callParent(),a&&a.finishRender()},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(a){{var b=this,c=b.legend;b.baseCls}return b.title=a,b.rendered?(c||(b.legend=c=Ext.widget(b.createLegendCt()),b.addTitleClasses(),c.ownerLayout.configureItem(c),c.render(b.el,0)),b.titleCmp.update(a)):c?b.titleCmp.update(a):(b.addTitleClasses(),b.legend=Ext.widget(b.createLegendCt())),b},addTitleClasses:function(){var a=this,b=a.title,c=a.baseCls;b&&a.addCls(c+"-with-title"),(b||a.checkboxToggle||a.collapsible)&&a.addCls(c+"-with-header")},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(a){var b=this,c=b.checkboxCmp,d=a?"expand":"collapse";return b.rendered&&b.fireEvent("before"+d,b)===!1||(a=!!a,c&&c.setValue(a),a?b.removeCls(b.baseCls+"-collapsed"):b.addCls(b.baseCls+"-collapsed"),b.collapsed=!a,a?delete b.getHierarchyState().collapsed:b.getHierarchyState().collapsed=!0,b.rendered&&(b.updateLayout({isRoot:!1}),b.fireEvent(d,b))),b},getRefItems:function(a){var b=this.callParent(arguments),c=this.legend;return c&&(b.unshift(c),a&&b.unshift.apply(b,c.getRefItems(!0))),b},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(a,b){this.setExpanded(b)},setupRenderTpl:function(a){this.callParent(arguments),a.renderLegend=this.doRenderLegend}},0,["fieldset"],["component","container","box","fieldset"],{component:!0,container:!0,box:!0,fieldset:!0},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0),Ext.cmd.derive("Ext.form.Label",Ext.Component,{autoEl:"label",maskOnDisable:!1,getElConfig:function(){var a=this;return a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||"",Ext.apply(a.callParent(),{htmlFor:a.forId||""})},setText:function(a,b){var c=this;return b=b!==!1,b?(c.text=a,delete c.html):(c.html=a,delete c.text),c.rendered&&(c.el.dom.innerHTML=b!==!1?Ext.util.Format.htmlEncode(a):a,c.updateLayout()),c}},0,["label"],["component","label","box"],{component:!0,label:!0,box:!0},["widget.label"],0,[Ext.form,"Label"],0),Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var a=this;a.frame&&(a.border=!1),a.initFieldAncestor(),a.callParent(),a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),a.pollForChanges&&a.startPolling(a.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var a,b={},c=this.basicFormConfigs,d=c.length,e=0;d>e;++e)a=c[e],b[a]=this[a];return new Ext.form.Basic(this,b)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(a,b,c,d){return this.getForm().getValues(a,b,c,d)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(a){this.stopPolling();var b=new Ext.util.TaskRunner(a);b.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=b},stopPolling:function(){var a=this.pollTask;a&&(a.stopAll(),delete this.pollTask)},checkChange:function(){var a,b=this.form.getFields().items,c=b.length;for(a=0;c>a;a++)b[a].checkChange()}},0,["form"],["panel","form","component","container","box"],{panel:!0,form:!0,component:!0,container:!0,box:!0},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0),Ext.cmd.derive("Ext.form.RadioManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})},getWithValue:function(a,b,c){return this.filterBy(function(d){return d.name==a&&d.inputValue==b&&d.getFormId()==c})},getChecked:function(a,b){return this.findBy(function(c){return c.name==a&&c.checked&&c.getFormId()==b})}},0,0,0,0,0,0,[Ext.form,"RadioManager"],0),Ext.cmd.derive("Ext.form.field.Radio",Ext.form.field.Checkbox,{alternateClassName:"Ext.form.Radio",isRadio:!0,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(){var a=this;a.disabled||a.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(a){var b,c=this;return Ext.isBoolean(a)?c.callParent(arguments):(b=c.getManager().getWithValue(c.name,a,c.getFormId()).getAt(0),b&&b.setValue(!0)),c},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(a){var b,c,d,e,f=this;if(f.callParent(arguments),a)for(e=f.getManager().getByName(f.name,f.getFormId()).items,c=e.length,b=0;c>b;b++)d=e[b],d!==f&&d.setValue(!1)},getManager:function(){return Ext.form.RadioManager}},0,["radiofield","radio"],["field","component","radiofield","checkbox","radio","box","checkboxfield"],{field:!0,component:!0,radiofield:!0,checkbox:!0,radio:!0,box:!0,checkboxfield:!0},["widget.radio","widget.radiofield"],0,[Ext.form.field,"Radio",Ext.form,"Radio"],0),Ext.cmd.derive("Ext.form.RadioGroup",Ext.form.CheckboxGroup,{allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(a){return this.query("[isRadio]"+(a||""))},checkChange:function(){var a=this.getValue(),b=Ext.Object.getKeys(a)[0];Ext.isArray(a[b])||this.callParent(arguments)},setValue:function(a){var b,c,d,e,f,g,h;if(Ext.isObject(a))for(h in a)if(a.hasOwnProperty(h))for(b=a[h],c=this.items.first(),d=c?c.getFormId():null,e=Ext.form.RadioManager.getWithValue(h,b,d).items,g=e.length,f=0;g>f;++f)e[f].setValue(!0);return this}},0,["radiogroup"],["radiogroup","checkboxgroup","component","container","fieldcontainer","box"],{radiogroup:!0,checkboxgroup:!0,component:!0,container:!0,fieldcontainer:!0,box:!0},["widget.radiogroup"],0,[Ext.form,"RadioGroup"],0),Ext.cmd.derive("Ext.form.action.DirectLoad",Ext.form.action.Load,{alternateClassName:"Ext.form.Action.DirectLoad",type:"directload",run:function(){var a,b,c=this,d=c.form,e=d.api,f=e.load;"function"!=typeof f&&(e.load=f=Ext.direct.Manager.parseMethod(f)),a=f.directCfg.method,b=a.getArgs(c.getParams(),d.paramOrder,d.paramsAsHash),b.push(c.onComplete,c),f.apply(window,b)},processResponse:function(a){return this.result=a},onComplete:function(a){a?this.onSuccess(a):this.onFailure(null)}},0,0,0,0,["formaction.directload"],0,[Ext.form.action,"DirectLoad",Ext.form.Action,"DirectLoad"],0),Ext.cmd.derive("Ext.form.action.DirectSubmit",Ext.form.action.Submit,{alternateClassName:"Ext.form.Action.DirectSubmit",type:"directsubmit",doSubmit:function(){var a,b=this,c=b.form,d=c.api,e=d.submit,f=Ext.Function.bind(b.onComplete,b),g=b.buildForm();"function"!=typeof e&&(d.submit=e=Ext.direct.Manager.parseMethod(e)),(b.timeout||c.timeout)&&(a={timeout:1e3*b.timeout||1e3*c.timeout}),e.call(window,g.formEl,f,b,a),b.cleanup(g)},processResponse:function(a){return this.result=a},onComplete:function(a){a?this.onSuccess(a):this.onFailure(null)}},0,0,0,0,["formaction.directsubmit"],0,[Ext.form.action,"DirectSubmit",Ext.form.Action,"DirectSubmit"],0),Ext.cmd.derive("Ext.form.action.StandardSubmit",Ext.form.action.Submit,{doSubmit:function(){var a=this.buildForm();a.formEl.submit(),this.cleanup(a)}},0,0,0,0,["formaction.standardsubmit"],0,[Ext.form.action,"StandardSubmit"],0),Ext.cmd.derive("Ext.layout.component.field.Trigger",Ext.layout.component.field.Field,{type:"triggerfield",borderWidths:{},beginLayout:function(a){var b,c=this,d=c.owner;a.triggerWrap=a.getEl("triggerWrap"),c.callParent(arguments),b=d.getTriggerStateFlags(),b!=d.lastTriggerStateFlags&&(d.lastTriggerStateFlags=b,c.updateEditState())},beginLayoutCycle:function(a){this.callParent(arguments),a.widthModel.shrinkWrap&&!this.owner.inputWidth&&a.inputContext.el.setStyle("width","")},beginLayoutFixed:function(a,b,c){var d=this,e=a.target,f=d.ieInputWidthAdjustment||0,g="100%",h=e.triggerWrap;d.callParent(arguments),e.inputCell.setStyle("width","100%"),f&&(d.adjustIEInputPadding(a),"px"===c&&(g=e.inputWidth?e.inputWidth-d.getExtraWidth(a):b-f-d.getExtraWidth(a),g+="px")),e.inputEl.setStyle("width",g),g=e.inputWidth,g?h.setStyle("width",g+f+"px"):h.setStyle("width",b+c),h.setStyle("table-layout","fixed")},adjustIEInputPadding:function(){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(a){var b=this,c=b.owner,d=b.borderWidths,e=c.ui+c.triggerEl.getCount();return e in d||(d[e]=a.triggerWrap.getBorderInfo().width),d[e]+c.getTriggerWidth()},beginLayoutShrinkWrap:function(a){var b=a.target,c="",d=b.inputWidth,e=b.triggerWrap;this.callParent(arguments),d?(e.setStyle("width",d+"px"),d=d-this.getExtraWidth(a)+"px",b.inputEl.setStyle("width",d),b.inputCell.setStyle("width",d)):(b.inputCell.setStyle("width",c),b.inputEl.setStyle("width",c),e.setStyle("width",c),e.setStyle("table-layout","auto"))},getTextWidth:function(){var a,b=this,c=b.owner,d=c.inputEl;return a=(d.dom.value||(c.hasFocus?"":c.emptyText)||"")+c.growAppend,d.getTextWidth(a)},publishOwnerWidth:function(a,b){var c=this.owner;this.callParent(arguments),c.grow||c.inputWidth||(b-=this.getExtraWidth(a),"top"!=c.labelAlign&&(b-=c.getLabelWidth()),a.inputContext.setWidth(b))},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},measureContentWidth:function(a){var b,c,d,e=this,f=e.owner,g=e.callParent(arguments),h=a.inputContext;return f.grow&&!a.state.growHandled?(b=e.getTextWidth()+a.inputContext.getFrameInfo().width,c=f.growMax,d=Math.min(c,g),c=Math.max(f.growMin,c,d),b=Ext.Number.constrain(b,f.growMin,c),h.setWidth(b),a.state.growHandled=!0,h.domBlock(e,"width"),g=0/0):f.inputWidth||(g-=e.getExtraWidth(a)),g},updateEditState:function(){var a,b,c=this,d=c.owner,e=d.inputEl,f=Ext.baseCSSPrefix+"trigger-noedit";c.owner.readOnly?(e.addCls(f),b=!0,a=!1):(c.owner.editable?(e.removeCls(f),b=!1):(e.addCls(f),b=!0),a=!c.owner.hideTrigger),d.triggerCell.setDisplayed(a),e.dom.readOnly=b}},0,0,0,0,["layout.triggerfield"],0,[Ext.layout.component.field,"Trigger"],0),Ext.cmd.derive("Ext.form.field.Trigger",Ext.form.field.Text,{alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(a){var b=this,c=a.childElCls,d=b.callParent(arguments);return'<table id="'+b.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+c+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+b.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+c+'">'+d+"</td>"+b.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var a=this,b=a.callParent(),c=a.readOnly===!0,d=a.editable!==!1;return Ext.apply(b,{editableCls:c||!d?" "+a.triggerNoEditCls:"",readOnly:!d||c})},getLabelableRenderData:function(){var a=this,b=a.triggerWrapCls,c=a.callParent(arguments);return Ext.applyIf(c,{triggerWrapCls:b,triggerMarkup:a.getTriggerMarkup()})},getTriggerMarkup:function(){var a,b=this,c=0,d=b.readOnly||b.hideTrigger,e=b.triggerBaseCls,f=[],g=Ext.dom.Element.unselectableCls,h="width:"+b.triggerWidth+"px;"+(d?"display:none;":""),i=b.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+g;for(b.trigger1Cls||(b.trigger1Cls=b.triggerCls),c=0;(a=b["trigger"+(c+1)+"Cls"])||1>c;c++)f.push({tag:"td",valign:"top",cls:i,style:h,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+c,e,a].join(" "),role:"button"}});return f[0].cn.cls+=" "+e+"-first",Ext.DomHelper.markup(f)},disableCheck:function(){return!this.disabled
},beforeRender:function(){var a,b=this,c=b.triggerBaseCls;b.triggerWidth||(a=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=a.getWidth(),a.remove()),b.callParent(),c!=Ext.baseCSSPrefix+"form-trigger"&&b.addChildEls({name:"triggerEl",select:"."+c}),b.lastTriggerStateFlags=b.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments),a.doc=Ext.getDoc(),a.initTrigger()},getTriggerWidth:function(){var a=this,b=0;return!a.triggerWrap||a.hideTrigger||a.readOnly||(b=a.triggerEl.getCount()*a.triggerWidth),b},setHideTrigger:function(a){a!=this.hideTrigger&&(this.hideTrigger=a,this.updateLayout())},setEditable:function(a){a!=this.editable&&(this.editable=a,this.updateLayout())},setReadOnly:function(a){var b=this,c=b.readOnly;b.callParent(arguments),a!=c&&b.updateLayout()},initTrigger:function(){var a,b,c,d,e,f=this,g=f.triggerWrap,h=f.triggerEl,i=f.disableCheck;for(f.repeatTriggerClick?f.triggerRepeater=new Ext.util.ClickRepeater(g,{preventDefault:!0,handler:f.onTriggerWrapClick,listeners:{mouseup:f.onTriggerWrapMouseup,scope:f},scope:f}):f.mon(g,{click:f.onTriggerWrapClick,mouseup:f.onTriggerWrapMouseup,scope:f}),h.setVisibilityMode(Ext.Element.DISPLAY),h.addClsOnOver(f.triggerBaseCls+"-over",i,f),a=h.elements,b=a.length,d=0;b>d;d++)c=a[d],e=d+1,c.addClsOnOver(f["trigger"+e+"Cls"]+"-over",i,f),c.addClsOnClick(f["trigger"+e+"Cls"]+"-click",i,f);h.addClsOnClick(f.triggerBaseCls+"-click",i,f)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl"),delete a.doc,a.callParent()},onFocus:function(){var a=this;a.callParent(arguments),a.mimicing||(a.bodyEl.addCls(a.wrapFocusCls),a.mimicing=!0,a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10}),a.monitorTab&&a.on("specialkey",a.checkTab,a))},checkTab:function(a,b){this.ignoreMonitorTab||b.getKey()!=b.TAB||this.triggerBlur()},getTriggerStateFlags:function(){var a=this,b=0;return a.readOnly&&(b+=1),a.editable&&(b+=2),a.hideTrigger&&(b+=4),b},onBlur:Ext.emptyFn,mimicBlur:function(a){this.isDestroyed||this.bodyEl.contains(a.target)||!this.validateBlur(a)||this.triggerBlur(a)},triggerBlur:function(a){var b=this;b.mimicing=!1,b.mun(b.doc,"mousedown",b.mimicBlur,b),b.monitorTab&&b.inputEl&&b.un("specialkey",b.checkTab,b),Ext.form.field.Trigger.superclass.onBlur.call(b,a),b.bodyEl&&b.bodyEl.removeCls(b.wrapFocusCls)},validateBlur:function(){return!0},onTriggerWrapClick:function(){var a,b,c,d,e=this;d=arguments[e.triggerRepeater?1:0],!d||e.readOnly||e.disabled||(a=d.getTarget("."+e.triggerBaseCls,null),b=a&&a.className.match(e.triggerIndexRe),b&&(c=e["onTrigger"+(parseInt(b[1],10)+1)+"Click"]||e.onTriggerClick,c&&c.call(e,d)))},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn},0,["trigger","triggerfield"],["field","trigger","textfield","component","box","triggerfield"],{field:!0,trigger:!0,textfield:!0,component:!0,box:!0,triggerfield:!0},["widget.trigger","widget.triggerfield"],0,[Ext.form.field,"Trigger",Ext.form,"TriggerField",Ext.form,"TwinTriggerField",Ext.form,"Trigger"],0),Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Trigger,{alternateClassName:"Ext.form.Picker",matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent(),a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:!1},scope:a,forceKeyDown:!0}),a.editable||a.mon(a.inputEl,"click",a.onTriggerClick,a),Ext.isGecko&&a.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(a){Ext.isIE&&a.preventDefault(),this.isExpanded&&(this.collapse(),a.stopEvent())},onDownArrow:function(){this.isExpanded||this.onTriggerClick()},expand:function(){var a,b,c,d=this;!d.rendered||d.isExpanded||d.isDestroyed||(d.expanding=!0,a=d.bodyEl,b=d.getPicker(),c=d.collapseIf,b.show(),d.isExpanded=!0,d.alignPicker(),a.addCls(d.openCls),d.mon(Ext.getDoc(),{mousewheel:c,mousedown:c,scope:d}),Ext.EventManager.onWindowResize(d.alignPicker,d),d.fireEvent("expand",d),d.onExpand(),delete d.expanding)},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b=a.getPicker();a.isExpanded&&(a.matchFieldWidth&&b.setWidth(a.bodyEl.getWidth()),b.isFloating()&&a.doAlign())},doAlign:function(){var a,b=this,c=b.picker,d="-above";b.picker.alignTo(b.triggerWrap,b.pickerAlign,b.pickerOffset),a=c.el.getY()<b.inputEl.getY(),b.bodyEl[a?"addCls":"removeCls"](b.openCls+d),c[a?"addCls":"removeCls"](c.baseCls+d)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var a=this,b=a.openCls,c=a.picker,d=Ext.getDoc(),e=a.collapseIf,f="-above";c.hide(),a.isExpanded=!1,a.bodyEl.removeCls([b,b+f]),c.el.removeCls(c.baseCls+f),d.un("mousewheel",e,a),d.un("mousedown",e,a),Ext.EventManager.removeResizeListener(a.alignPicker,a),a.fireEvent("collapse",a),a.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(a){var b=this;b.isDestroyed||a.within(b.bodyEl,!1,!0)||a.within(b.picker.el,!1,!0)||b.isEventWithinPickerLoadMask(a)||b.collapse()},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;a.readOnly||a.disabled||(a.isExpanded?a.collapse():a.expand(),a.inputEl.focus())},triggerBlur:function(){var a=this.picker;this.callParent(arguments),a&&a.isVisible()&&a.hide()},mimicBlur:function(a){var b=this,c=b.picker;c&&(a.within(c.el,!1,!0)||b.isEventWithinPickerLoadMask(a))||b.callParent(arguments)},onDestroy:function(){var a=this,b=a.picker;Ext.EventManager.removeResizeListener(a.alignPicker,a),Ext.destroy(a.keyNav),b&&(delete b.pickerField,b.destroy()),a.callParent()},isEventWithinPickerLoadMask:function(a){var b=this.picker.loadMask;return b?a.within(b.maskEl,!1,!0)||a.within(b.el,!1,!0):!1}},0,["pickerfield"],["field","trigger","textfield","pickerfield","component","box","triggerfield"],{field:!0,trigger:!0,textfield:!0,pickerfield:!0,component:!0,box:!0,triggerfield:!0},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0),Ext.cmd.derive("Ext.selection.Model",Ext.util.Observable,{alternateClassName:"Ext.AbstractSelectionModel",allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(a){var b=this;a=a||{},Ext.apply(b,a),b.addEvents("selectionchange","focuschange"),b.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},b.setSelectionMode(a.mode||b.mode),b.selected=new Ext.util.MixedCollection(null,b.getSelectionId),b.callParent(arguments)},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments),c.store&&!b&&c.refresh()},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,bulkremove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,idchanged:a.onModelIdChanged,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(a){var b=this,c=b.store.getRange(),d=0,e=c.length,f=b.getSelection().length;for(b.suspendChanges();e>d;d++)b.doSelect(c[d],!0,a);b.resumeChanges(),a||b.maybeFireSelectionChange(b.getSelection().length!==f)},deselectAll:function(a){var b,c,d,e=this,f=e.getSelection(),g={},h=e.store,i=f.length;for(b=0,c=f.length;c>b;b++)d=f[b],g[d.internalId]=h.indexOf(d);f=Ext.Array.sort(f,function(a,b){var c=g[a.internalId],d=g[b.internalId];return d>c?-1:1}),e.suspendChanges(),e.doDeselect(f,a),e.resumeChanges(),a||e.maybeFireSelectionChange(e.getSelection().length!==i)},selectWithEvent:function(a,b){var c,d,e,f=this,g=f.isSelected(a),h=b.shiftKey,i=b.ctrlKey,j=f.selectionStart,k=f.getSelection(),l=k.length,m=f.allowDeselect;switch(f.selectionMode){case"MULTI":if(h&&j)f.selectRange(j,a,i);else if(i&&g)f.doDeselect(a,!1);else if(i)f.doSelect(a,!0,!1);else if(g&&!h&&!i&&l>1){for(c=[],d=0;l>d;++d)e=k[d],e!==a&&c.push(e);f.doDeselect(c)}else g||f.doSelect(a,!1);break;case"SIMPLE":g?f.doDeselect(a):f.doSelect(a,!0);break;case"SINGLE":m&&!i&&(m=f.toggleOnClick),m&&g?f.doDeselect(a):f.doSelect(a,!1)}h||(f.selectionStart=f.isSelected(a)?a:null)},afterKeyNavigate:function(a,b){var c,d,e=this,f=e.isSelected(b),g=e.selectionStart&&e.isSelected(e.lastFocused)?e.selectionStart:e.selectionStart=e.lastFocused,h=a.getCharCode(),i=h===a.SPACE,j=h===a.UP||h===a.PAGE_UP?"up":h===a.DOWN||h===a.DOWN?"down":null;switch(e.selectionMode){case"MULTI":i?a.shiftKey?e.selectRange(g,b,a.ctrlKey):f?(e.doDeselect(b,a.ctrlKey),e.setLastFocused(null),e.setLastFocused(b)):e.doSelect(b,a.ctrlKey):a.shiftKey&&g?(d=e.store.indexOf(g),c=e.store.indexOf(b),"up"===j&&c>=d?e.deselectRange(e.lastFocused,c+1):"down"===j&&d>=c?e.deselectRange(e.lastFocused,c-1):g!==b&&e.selectRange(g,b,a.ctrlKey),e.lastSelected=b,e.setLastFocused(b)):a.ctrlKey&&f?e.setLastFocused(b):a.ctrlKey?e.setLastFocused(b):e.doSelect(b,!1);break;case"SIMPLE":f?e.doDeselect(b):e.doSelect(b,!0);break;case"SINGLE":i?f?(e.doDeselect(b),e.setLastFocused(b)):e.doSelect(b):a.ctrlKey?e.setLastFocused(b):e.allowDeselect&&f?e.doDeselect(b):e.doSelect(b,!1)}a.shiftKey||e.isSelected(b)&&(e.selectionStart=b)},selectRange:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=k.store,m=k.selected.items;if(!k.isLocked()){for(d=k.normalizeRowRange(a,b),a=d[0],b=d[1],g=[],e=a;b>=e;e++)k.isSelected(l.getAt(e))||g.push(l.getAt(e));if(!c){for(h=[],k.suspendChanges(),e=0,f=m.length;f>e;++e)j=m[e],i=l.indexOf(j),(a>i||i>b)&&h.push(j);for(e=0,f=h.length;f>e;++e)k.doDeselect(h[e]);k.resumeChanges()}k.doMultiSelect(g,!0)}},deselectRange:function(a,b){var c,d,e,f,g=this,h=g.store;if(!g.isLocked()){for(c=g.normalizeRowRange(a,b),a=c[0],b=c[1],e=[],d=a;b>=d;d++)f=h.getAt(d),g.isSelected(f)&&e.push(f);g.doDeselect(e)}},normalizeRowRange:function(a,b){var c,d=this.store;return Ext.isNumber(a)||(a=d.indexOf(a)),a=Math.max(0,a),Ext.isNumber(b)||(b=d.indexOf(b)),b=Math.min(b,d.getCount()-1),a>b&&(c=b,b=a,a=c),[a,b]},onModelIdChanged:function(a,b,c,d,e){this.selected.updateKey(e,d)},select:function(a,b,c){Ext.isDefined(a)&&this.doSelect(a,b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){var d,e=this;if(!e.locked&&e.store){if("number"==typeof a){if(d=e.store.getAt(a),!d)return;a=[d]}"SINGLE"==e.selectionMode&&a?(d=a.length?a[0]:a,e.doSingleSelect(d,c)):e.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){var d,e,f,g,h,i=this,j=i.selected,k=!1;if(!i.locked){if(a=Ext.isArray(a)?a:[a],f=a.length,!b&&j.getCount()>0&&(d=i.deselectDuringSelect(a,j.getRange(),c),d[0]))return void i.maybeFireSelectionChange(d[1]>0&&!c);for(h=function(){j.add(g),k=!0},e=0;f>e;e++)g=a[e],i.isSelected(g)||(i.lastSelected=g,i.onSelectChange(g,!0,c,h));i.preventFocus||i.setLastFocused(g,c),i.maybeFireSelectionChange(k&&!c)}},deselectDuringSelect:function(a,b,c){var d,e,f=this,g=b.length,h=0,i=!1;for(f.suspendChanges(),e=0;g>e;++e)d=b[e],Ext.Array.contains(a,d)||(f.doDeselect(d,c)?++h:i=!0);return f.resumeChanges(),[i,h]},doDeselect:function(a,b){var c,d,e,f=this,g=f.selected,h=0,i=0,j=0;if(f.locked||!f.store)return!1;if("number"==typeof a){if(d=f.store.getAt(a),!d)return!1;a=[d]}else Ext.isArray(a)||(a=[a]);for(e=function(){++j,g.remove(d)},c=a.length,f.suspendChanges();c>h;h++)d=a[h],f.isSelected(d)&&(f.lastSelected===d&&(f.lastSelected=g.last(),f.lastFocused===d&&f.setLastFocused(null)),++i,f.onSelectChange(d,!1,b,e));return f.resumeChanges(),f.maybeFireSelectionChange(j>0&&!b),j===i},doSingleSelect:function(a,b){var c,d=this,e=!1,f=d.selected;if(!d.locked&&!d.isSelected(a)){if(f.getCount()){if(d.suspendChanges(),!d.doDeselect(d.lastSelected,b))return void d.resumeChanges();d.resumeChanges()}c=function(){f.add(a),d.lastSelected=a,e=!0},d.onSelectChange(a,!0,b,c),e&&(b||d.preventFocus||d.setLastFocused(a),d.maybeFireSelectionChange(!b))}},setLastFocused:function(a,b){var c=this,d=c.lastFocused;a!==d&&(c.lastFocused=a,c.onLastFocusChanged(d,a,b))},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;a&&!b.suspendChange&&b.fireEvent("selectionchange",b,b.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE",this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(a,b){var c,d,e=this,f=e.store;for(d=e.normalizeRowRange(a,b),a=d[0],b=d[1],c=a;b>=c;c++)if(!e.isSelected(f.getAt(c)))return!1;return!0},isSelected:function(a){return a=Ext.isNumber(a)?this.store.getAt(a):a,this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var a,b,c=this,d=c.selected,e=[],f=d.length;if(c.pruneRemoved){for(a=0;f>a;a++)b=d.getAt(a),this.storeHasSelected(b)||e.push(b);if(e.length){for(a=0,f=e.length;f>a;a++)d.remove(e[a]);c.maybeFireSelectionChange(!0)}}},storeHasSelected:function(a){var b,c,d,e,f=this.store;if(a.hasId()&&f.getById(a))return!0;for(b=f.data.items,c=b.length,d=a.internalId,e=0;c>e;++e)if(d===b[e].internalId)return!0;return!1},refresh:function(){var a,b,c,d=this,e=d.store,f=[],g=[],h=d.getSelection(),i=h.length,j=0,k=d.getLastFocused();if(e){for(;i>j&&(b=h[j],-1!==e.indexOf(b)?f.push(b):d.pruneRemoved||(a=e.getById(b.getId()),a?f.push(a):g.push(b)),"SINGLE"!==d.mode||!g.length);j++);d.selected.getCount()!=f.length+g.length&&(c=!0),d.clearSelections(),-1!==e.indexOf(k)&&d.setLastFocused(k,!0),f.length&&d.doSelect(f,!1,!0),g.length&&(d.selected.addAll(g),d.lastSelected||(d.lastSelected=g[g.length-1])),d.maybeFireSelectionChange(c)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount()>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(a,b,c,d){var e=this;e.selectionStart&&Ext.Array.contains(b,e.selectionStart)&&(e.selectionStart=null),d||e.locked||!e.pruneRemoved||e.deselectDeletedRecords(b)},deselectDeletedRecords:function(a){var b,c,d=this,e=d.selected,f=a.length,g=0;for(b=0;f>b;b++)c=a[b],e.remove(c)&&(d.lastSelected==c&&(d.lastSelected=null),d.getLastFocused()==c&&d.setLastFocused(null),++g);g&&d.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(a,b,c,d){var e=this,f=b?"select":"deselect";(c||e.fireEvent("before"+f,e,a))!==!1&&d()!==!1&&(c||e.fireEvent(f,e,a))},onLastFocusChanged:function(a,b){this.fireEvent("focuschange",this,a,b)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[],this.views.push(a),this.bindStore(a.getStore(),!0)},bindComponent:Ext.emptyFn},1,0,0,0,0,[["bindable",Ext.util.Bindable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0),Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(a){var b=this,c={refresh:b.refresh,scope:b};b.view=a,b.bindStore(a.getStore()),c[a.triggerEvent]=b.onItemClick,c[a.triggerCtEvent]=b.onContainerClick,a.on(c),b.enableKeyNav&&b.initKeyNav(a)},onUpdate:function(a){var b=this.view;b&&this.isSelected(a)&&b.onItemSelect(a)},onItemClick:function(a,b,c,d,e){this.selectWithEvent(b,e)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(a){var b=this;return a.rendered?(a.el.set({tabIndex:-1}),void(b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:!0,down:Ext.pass(b.onNavKey,[1],b),right:Ext.pass(b.onNavKey,[1],b),left:Ext.pass(b.onNavKey,[-1],b),up:Ext.pass(b.onNavKey,[-1],b),scope:b}))):void a.on({render:Ext.Function.bind(b.initKeyNav,b,[a]),single:!0})},onNavKey:function(a){a=a||1;var b,c=this,d=c.view,e=c.getSelection()[0],f=c.view.store.getCount();b=e?d.indexOf(d.getNode(e))+a:0,0>b?b=f-1:b>=f&&(b=0),c.select(b)},onSelectChange:function(a,b,c,d){var e=this,f=e.view,g=b?"select":"deselect";(c||e.fireEvent("before"+g,e,a))!==!1&&d()!==!1&&(f&&(b?f.onItemSelect(a):f.onItemDeselect(a)),c||e.fireEvent(g,e,a))},onLastFocusChanged:function(a,b,c){var d=this.view;d&&!c&&b&&(d.focusNode(b),this.fireEvent("focuschange",this,a,b))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}},1,0,0,0,0,0,[Ext.selection,"DataViewModel"],0),Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=this,b=(Ext.isDefined,a.itemTpl),c={};b&&(Ext.isArray(b)?b=b.join(""):Ext.isObject(b)&&(c=Ext.apply(c,b.initialConfig),b=b.html),a.itemSelector||(a.itemSelector="."+a.itemCls),b=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',a.itemCls,b),a.tpl=new Ext.XTemplate(b,c)),a.callParent(),a.tpl=a.getTpl("tpl"),a.overItemCls&&(a.trackOver=!0),a.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),a.addCmpEvents(),a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store"),a.dataSource||(a.dataSource=a.store),a.bindStore(a.dataSource,!0,"dataSource"),a.all||(a.all=new Ext.CompositeElementLite),a.scrollState={top:0,left:0},a.on({scroll:a.onViewScroll,element:"el",scope:a})},onRender:function(){var a=this,b=a.loadMask,c=a.getMaskStore(),d={target:a,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:c};a.callParent(arguments),b&&!c.proxy.isSynchronous&&(Ext.isObject(b)&&(d=Ext.apply(d,b)),a.loadMask=new Ext.LoadMask(d),a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide}))},finishRender:function(){var a=this;a.callParent(arguments),a.up("[collapsed],[hidden]")||a.doFirstRefresh(a.dataSource)},onBoxReady:function(){var a=this;a.callParent(arguments),a.firstRefreshDone||a.doFirstRefresh(a.dataSource)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;b&&b>a.getHeight()&&(a.hasLoadingHeight=!0,a.oldMinHeight=a.minHeight,a.minHeight=b,a.updateLayout())},onMaskHide:function(){var a=this;!a.destroying&&a.hasLoadingHeight&&(a.minHeight=a.oldMinHeight,a.updateLayout(),delete a.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";return a.simpleSelect?b="SIMPLE":a.multiSelect&&(b="MULTI"),a.selModel&&a.selModel.events||(a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))),a.selModel.hasRelaySetup||(a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),a.selModel.hasRelaySetup=!0),a.disableSelection&&(a.selModel.locked=!0),a.selModel},refresh:function(){var a,b,c,d,e,f,g=this;g.rendered&&!g.isDestroyed&&(g.hasListeners.beforerefresh&&g.fireEvent("beforerefresh",g)===!1||(a=g.getTargetEl(),f=g.getViewRange(),e=a.dom,g.preserveScrollOnRefresh||(b=e.parentNode,c=e.style.display,e.style.display="none",d=e.nextSibling,b.removeChild(e)),g.refreshCounter?g.clearViewEl():(g.fixedNodes=a.dom.childNodes.length,g.refreshCounter=1),g.tpl.append(a,g.collectData(f,g.all.startIndex)),f.length<1?(this.store.loading||g.deferEmptyText&&!g.hasFirstRefresh||Ext.core.DomHelper.insertHtml("beforeEnd",a.dom,g.emptyText),g.all.clear()):(g.collectNodes(a.dom),g.updateIndexes(0)),g.hasFirstRefresh&&(g.refreshSelmodelOnRefresh!==!1?g.selModel.refresh():g.selModel.pruneIf()),g.hasFirstRefresh=!0,g.preserveScrollOnRefresh||(b.insertBefore(e,d),e.style.display=c),this.refreshSize(),g.fireEvent("refresh",g),g.viewReady||(g.viewReady=!0,g.fireEvent("viewready",g))))},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();(a.height.shrinkWrap||a.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var a=this,b=a.getTargetEl();if(a.fixedNodes)for(;b.dom.childNodes[a.fixedNodes];)b.dom.removeChild(b.dom.childNodes[a.fixedNodes]);else b.update("");a.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft,b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left,a.scrollTop=b.top}},prepareData:function(a,b,c){var d,e,f;if(c){d=c.getAssociatedData();for(e in d)d.hasOwnProperty(e)&&(f||(a=Ext.Object.chain(a),f=!0),a[e]=d[e])}return a},collectData:function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],d[e]=this.prepareData(c.data,b+e,c);return d},bufferRender:function(a,b){var c=this,d=c.renderBuffer||(c.renderBuffer=document.createElement("div"));return c.tpl.overwrite(d,c.collectData(a,b)),Ext.DomQuery.select(c.getItemSelector(),d)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(a,b){var c,d,e=this;return e.viewReady&&(c=e.dataSource.indexOf(b),c>-1&&(d=e.bufferRender([b],c)[0],e.getNode(b)))?(e.all.replaceElement(c,d,!0),e.updateIndexes(c,c),e.selModel.onUpdate(b),e.hasListeners.itemupdate&&e.fireEvent("itemupdate",b,c,d),d):void 0},onAdd:function(a,b,c){var d,e=this;e.rendered&&(0===e.all.getCount()?(e.refresh(),d=e.all.slice()):(d=e.doAdd(b,c),e.refreshSelmodelOnRefresh!==!1&&e.selModel.refresh(),e.updateIndexes(c),e.refreshSize()),e.hasListeners.itemadd&&e.fireEvent("itemadd",b,c,d))},doAdd:function(a,b){var c,d,e=this,f=e.bufferRender(a,b,!0),g=e.all,h=g.getCount();if(0===h)for(c=0,d=f.length;d>c;c++)this.getNodeContainer().appendChild(f[c]);else h>b?0===b?g.item(b).insertSibling(f,"before",!0):g.item(b-1).insertSibling(f,"after",!0):g.last().insertSibling(f,"after",!0);return g.insert(b,f),f},onRemove:function(a,b,c){var d,e,f,g=this,h=g.hasListeners.itemremove;if(g.all.getCount()){if(0===g.dataSource.getCount()){if(h)for(d=c.length-1;d>=0;--d)g.fireEvent("itemremove",b[d],c[d]);g.refresh()}else{for(d=c.length-1;d>=0;--d)e=b[d],f=c[d],g.doRemove(e,f),h&&g.fireEvent("itemremove",e,f);g.updateIndexes(c[0])}this.refreshSize()}},doRemove:function(a,b){this.all.removeElement(b,!0)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(a,b){var c,d=this.all.elements,e=this.getViewRange();for(a=a||0,b=b||(0===b?0:d.length-1),c=a;b>=c;c++)d[c].viewIndex=c,d[c].viewRecordId=e[c].internalId,d[c].boundView||(d[c].boundView=this.id)},getStore:function(){return this.store},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments),b||c.getSelectionModel().bindStore(a),c.componentLayoutCounter&&c.doFirstRefresh(a)},doFirstRefresh:function(a){var b=this;b.firstRefreshDone=!0,a&&!a.loading&&(b.deferInitialRefresh?b.applyFirstRefresh():b.refresh())},applyFirstRefresh:function(){var a=this;a.isDestroyed||(a.up("[isCollapsingOrExpanding]")?Ext.Function.defer(a.applyFirstRefresh,100,a):Ext.Function.defer(function(){a.isDestroyed||a.refresh()},1))},onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(a,b,c){this.setMaskBind(a),b||"store"!==c||this.bindStore(a,!1,"dataSource")},setMaskBind:function(a){var b=this.loadMask;b&&b.bindStore&&b.bindStore(a)},getStoreListeners:function(){var a=this;return{idchanged:a.onIdChanged,refresh:a.onDataRefresh,add:a.onAdd,bulkremove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var a=this,b=!a.firstRefreshDone&&(!a.rendered||a.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));b?a.deferInitialRefresh=!1:a.blockRefresh!==!0&&(a.firstRefreshDone=!0,a.refresh())},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var a=[],b=this.selModel.getSelection(),c=b.length,d=0;c>d;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){for(var b=[],c=0,d=a.length,e=this.dataSource.data;d>c;c++)b[b.length]=e.getByKey(a[c].viewRecordId);return b},getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){return!a&&0!==a||!this.rendered?null:Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a.isModel?this.getNodeByRecord(a):a},getNodeByRecord:function(a){for(var b=this.all.elements,c=b.length,d=0;c>d;d++)if(b[d].viewRecordId===a.internalId)return b[d];return null},getNodes:function(a,b){var c=this.all;return void 0===b?b=c.getCount():b++,c.slice(a||0,b)},indexOf:function(a){return a=this.getNode(a),a||0===a?Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a):-1},onDestroy:function(){var a=this;a.all.clear(),a.callParent(),a.bindStore(null),a.selModel.destroy()},onItemSelect:function(a){var b=this.getNode(a);b&&Ext.fly(b).addCls(this.selectedItemCls)},onItemDeselect:function(a){var b=this.getNode(a);b&&Ext.fly(b).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},0,0,["component","box"],{component:!0,box:!0},0,[["bindable",Ext.util.Bindable]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var a=this.getSelectionModel();return a.select.apply(a,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var a=this.getSelectionModel();return a.deselectAll()}})})}),Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var a=this;a.callParent(),a.mouseOverOutBuffer?(a.handleMouseOverOrOut=Ext.Function.createBuffered(a.handleMouseOverOrOut,a.mouseOverOutBuffer,a),a.lastMouseOverOutEvent=new Ext.EventObjectImpl):a.deferHighlight&&(a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer?a.onMouseOverOut:a.handleMouseOverOrOut;a.callParent(),a.mon(a.getTargetEl(),{scope:a,freezeEvent:!0,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:b,mouseout:b})},onMouseOverOut:function(a){var b=this;b.lastMouseOverOutEvent.setEvent(a.browserEvent,!0),b.handleMouseOverOrOut(b.lastMouseOverOutEvent)},handleMouseOverOrOut:function(a){var b=this,c="mouseout"===a.type,d=c?a.getRelatedTarget:a.getTarget,e=d.call(a,b.itemSelector)||d.call(a,b.dataRowSelector);b.mouseOverItem&&e===b.mouseOverItem||(b.mouseOverItem&&(a.item=b.mouseOverItem,a.newType="mouseleave",b.handleEvent(a)),b.mouseOverItem=e,b.mouseOverItem&&(a.item=b.mouseOverItem,a.newType="mouseenter",b.handleEvent(a)))},handleEvent:function(a){var b=this,c="keydown"==a.type&&a.getKey();b.processUIEvent(a)!==!1&&b.processSpecialEvent(a),c===a.SPACE&&(b.inputTagRe.test(a.getTarget().tagName)||a.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(Ext.getBody().isAncestor(a.target)){var b,c,d,e=this,f=a.getTarget(e.getItemSelector(),e.getTargetEl()),g=this.statics().EventMap,h=a.type,i=a.type;if(a.newType&&(i=a.newType,f=a.item),f||"keydown"!=h||(d=e.getSelectionModel(),c=d.lastFocused||d.getLastSelected(),c&&(f=e.getNode(c,!0))),f){if(c||(c=e.getRecord(f)),b=e.indexInStore?e.indexInStore(c):e.indexOf(f),!c||e.processItemEvent(c,f,b,a)===!1)return!1;if(e["onBeforeItem"+g[i]](c,f,b,a)===!1||e.fireEvent("beforeitem"+i,e,c,f,b,a)===!1||e["onItem"+g[i]](c,f,b,a)===!1)return!1;e.fireEvent("item"+i,e,c,f,b,a)}else{if(e.processContainerEvent(a)===!1||e["onBeforeContainer"+g[h]](a)===!1||e.fireEvent("beforecontainer"+h,e,a)===!1||e["onContainer"+g[h]](a)===!1)return!1;e.fireEvent("container"+h,e,a)}return!0}},onItemMouseEnter:function(a,b){this.trackOver&&this.highlightItem(b)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(a){var b,c=this,d=c.highlightedItem,e=c.overItemCls,f=c.beforeOverItemCls;
d!=a&&(d&&(Ext.fly(d).removeCls(e),b=d.previousSibling,f&&b&&Ext.fly(b).removeCls(f),c.fireEvent("unhighlightitem",c,d)),c.highlightedItem=a,a&&(Ext.fly(a).addCls(c.overItemCls),b=a.previousSibling,f&&b&&Ext.fly(b).addCls(f),c.fireEvent("highlightitem",c,a)))},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(a,b){var c,d,e,f=this;f.viewReady&&(c=f.getNode(b),d=f.callParent(arguments),e=f.highlightedItem,e&&e===c&&(delete f.highlightedItem,d&&f.highlightItem(d)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(a){var b,c=this,d=c.getNode(a,!0),e=c.el,f=0,g=0,h=e.getRegion();h.bottom=h.top+e.dom.clientHeight,h.right=h.left+e.dom.clientWidth,d&&(b=Ext.fly(d).getRegion(),b.top<h.top?f=b.top-h.top:b.bottom>h.bottom&&(f=b.bottom-h.bottom),b.left<h.left?g=b.left-h.left:b.right>h.right&&(g=b.right-h.right),(g||f)&&c.scrollBy(g,f,!1),e.focus())}},0,["dataview"],["component","box","dataview"],{component:!0,box:!0,dataview:!0},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0),Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(a){var b=this,c=b.owner,d=c.pagingToolbar;b.callParent(arguments),c.floating&&(a.savedXY=c.getXY(),c.setXY([0,-9999])),d&&(a.toolbarContext=a.context.getCmp(d)),a.listContext=a.getEl("listEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments),a.heightModel.auto&&(b.el.setHeight("auto"),b.listEl.setHeight("auto"))},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return!0},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments),b&&this.owner.setXY(b)},measureContentWidth:function(){return this.owner.listEl.getWidth()},measureContentHeight:function(){return this.owner.listEl.getHeight()},publishInnerHeight:function(a,b){var c=a.toolbarContext,d=0;c&&(d=c.getProp("height")),void 0===d?this.done=!1:a.listContext.setHeight(b-a.getFrameInfo().height-d)},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments),c=a.toolbarContext;return c&&(b+=c.getProp("height")),b}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0),Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent(),Ext.apply(a.renderData,{text:a.text})},setText:function(a){var b=this;b.text=a,b.rendered&&(b.el.update(a),b.updateLayout())}},0,["tbtext"],["tbitem","component","box","tbtext"],{tbitem:!0,component:!0,box:!0,tbtext:!0},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0),Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Trigger,{alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div></td></tr>',initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var a,b=this;b.callParent(arguments),a=b.triggerEl,b.spinUpEl=a.item(0),b.spinDownEl=a.item(1),b.triggerCell=b.spinUpEl.parent(),b.keyNavEnabled&&(b.spinnerKeyNav=new Ext.util.KeyNav(b.inputEl,{scope:b,up:b.spinUp,down:b.spinDown})),b.mouseWheelEnabled&&b.mon(b.bodyEl,"mousewheel",b.onMouseWheel,b)},getSubTplMarkup:function(a){var b=this,c=a.childElCls,d=Ext.form.field.Base.prototype.getSubTplMarkup.apply(b,arguments);return'<table id="'+b.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+c+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+b.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+c+'">'+d+"</td>"+b.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var a=this,b=a.readOnly||a.hideTrigger;return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:b?"display:none":"",spinnerUpCls:a.spinUpEnabled?"":a.trigger1Cls+"-disabled",spinnerDownCls:a.spinDownEnabled?"":a.trigger2Cls+"-disabled"}},getTriggerWidth:function(){var a=this,b=0;return!a.triggerWrap||a.hideTrigger||a.readOnly||(b=a.triggerWidth),b},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var a=this;a.spinUpEnabled&&!a.disabled&&(a.fireEvent("spin",a,"up"),a.fireEvent("spinup",a),a.onSpinUp())},spinDown:function(){var a=this;a.spinDownEnabled&&!a.disabled&&(a.fireEvent("spin",a,"down"),a.fireEvent("spindown",a),a.onSpinDown())},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a,c!==a&&b.rendered&&b.spinUpEl[a?"removeCls":"addCls"](b.trigger1Cls+"-disabled")},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a,c!==a&&b.rendered&&b.spinDownEl[a?"removeCls":"addCls"](b.trigger2Cls+"-disabled")},onMouseWheel:function(a){var b,c=this;c.hasFocus&&(b=a.getWheelDelta(),b>0?c.spinUp():0>b&&c.spinDown(),a.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}},0,["spinnerfield"],["field","trigger","textfield","component","box","spinnerfield","triggerfield"],{field:!0,trigger:!0,textfield:!0,component:!0,box:!0,spinnerfield:!0,triggerfield:!0},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],0),Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var a=this;a.callParent(),a.setMinValue(a.minValue),a.setMaxValue(a.maxValue)},getErrors:function(a){var b,c=this,d=c.callParent(arguments),e=Ext.String.format;return a=Ext.isDefined(a)?a:this.processRawValue(this.getRawValue()),a.length<1?d:(a=String(a).replace(c.decimalSeparator,"."),isNaN(a)&&d.push(e(c.nanText,a)),b=c.parseValue(a),0===c.minValue&&0>b?d.push(this.negativeText):b<c.minValue&&d.push(e(c.minText,c.minValue)),b>c.maxValue&&d.push(e(c.maxText,c.maxValue)),d)},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));return null===b&&(b=a||null),b},valueToRaw:function(a){var b=this,c=b.decimalSeparator;return a=b.parseValue(a),a=b.fixPrecision(a),a=Ext.isNumber(a)?a:parseFloat(String(a).replace(c,".")),a=isNaN(a)?"":String(a).replace(".",c)},getSubmitValue:function(){var a=this,b=a.callParent();return a.submitLocaleSeparator||(b=b.replace(a.decimalSeparator,".")),b},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var a,b=this,c=b.getValue(),d=null===c;(b.spinUpEnabled||b.spinUpDisabledByToggle)&&(a=d||c<b.maxValue,b.setSpinUpEnabled(a,!0)),(b.spinDownEnabled||b.spinDownDisabledByToggle)&&(a=d||c>b.minValue,b.setSpinDownEnabled(a,!0))},setMinValue:function(a){var b,c=this;c.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY),c.toggleSpinners(),c.disableKeyFilter!==!0&&(b=c.baseChars+"",c.allowExponential?b+=c.decimalSeparator+"e+-":(c.allowDecimals&&(b+=c.decimalSeparator),c.minValue<0&&(b+="-")),b=Ext.String.escapeRegex(b),c.maskRe=new RegExp("["+b+"]"),c.autoStripChars&&(c.stripCharsRe=new RegExp("[^"+b+"]","gi")))},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(a){return a=parseFloat(String(a).replace(this.decimalSeparator,".")),isNaN(a)?null:a},fixPrecision:function(a){var b=this,c=isNaN(a),d=b.decimalPrecision;return c||!a?c?"":a:((!b.allowDecimals||0>=d)&&(d=0),parseFloat(Ext.Number.toFixed(parseFloat(a),d)))},beforeBlur:function(){var a=this,b=a.parseValue(a.getRawValue());Ext.isEmpty(b)||a.setValue(b)},setSpinUpEnabled:function(a,b){this.callParent(arguments),b?this.spinUpDisabledByToggle=!a:delete this.spinUpDisabledByToggle},onSpinUp:function(){var a=this;a.readOnly||a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))},setSpinDownEnabled:function(a,b){this.callParent(arguments),b?this.spinDownDisabledByToggle=!a:delete this.spinDownDisabledByToggle},onSpinDown:function(){var a=this;a.readOnly||a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))},setSpinValue:function(a){var b=this;b.enforceMaxLength&&b.fixPrecision(a).toString().length>b.maxLength||b.setValue(a)}},0,["numberfield"],["field","trigger","textfield","component","box","numberfield","spinnerfield","triggerfield"],{field:!0,trigger:!0,textfield:!0,component:!0,box:!0,numberfield:!0,spinnerfield:!0,triggerfield:!0},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,"Number"],0),Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,b=a.getPagingItems(),c=a.items||a.buttons||[];a.items=a.prependButtons?c.concat(b):b.concat(c),delete a.buttons,a.displayInfo&&(a.items.push("->"),a.items.push({xtype:"tbtext",itemId:"displayItem"})),a.callParent(),a.addEvents("change","beforechange"),a.on("beforerender",a.onLoad,a,{single:!0}),a.bindStore(a.store||"ext-empty-store",!0)},updateInfo:function(){var a,b,c=this,d=c.child("#displayItem"),e=c.store,f=c.getPageData();d&&(a=e.getCount(),b=0===a?c.emptyMsg:Ext.String.format(c.displayMsg,f.fromRecord,f.toRecord,f.total),d.setText(b))},onLoad:function(){var a,b,c,d,e,f,g,h=this;e=h.store.getCount(),f=0===e,f?(b=0,c=0,d=Ext.String.format(h.afterPageText,0)):(a=h.getPageData(),b=a.currentPage,c=a.pageCount,d=Ext.String.format(h.afterPageText,isNaN(c)?1:c)),Ext.suspendLayouts(),g=h.child("#afterTextItem"),g&&g.setText(d),g=h.getInputItem(),g&&g.setDisabled(f).setValue(b),h.setChildDisabled("#first",1===b||f),h.setChildDisabled("#prev",1===b||f),h.setChildDisabled("#next",b===c||f),h.setChildDisabled("#last",b===c||f),h.setChildDisabled("#refresh",!1),h.updateInfo(),Ext.resumeLayouts(!0),h.rendered&&h.fireEvent("change",h,a)},setChildDisabled:function(a,b){var c=this.child(a);c&&c.setDisabled(b)},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){this.rendered&&this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(a){var b,c=this.getInputItem(),d=!1;return c&&(b=c.getValue(),d=parseInt(b,10),!b||isNaN(d))?(c.setValue(a.currentPage),!1):d},onPagingFocus:function(){var a=this.getInputItem();a&&a.select()},onPagingBlur:function(){var a,b=this.getInputItem();b&&(a=this.getPageData().currentPage,b.setValue(a))},onPagingKeyDown:function(a,b){var c,d=this,e=b.getKey(),f=d.getPageData(),g=b.shiftKey?10:1;e==b.RETURN?(b.stopEvent(),c=d.readPageFromInput(f),c!==!1&&(c=Math.min(Math.max(1,c),f.pageCount),d.fireEvent("beforechange",d,c)!==!1&&d.store.loadPage(c))):e==b.HOME||e==b.END?(b.stopEvent(),c=e==b.HOME?1:f.pageCount,a.setValue(c)):(e==b.UP||e==b.PAGE_UP||e==b.DOWN||e==b.PAGE_DOWN)&&(b.stopEvent(),c=d.readPageFromInput(f),c&&((e==b.DOWN||e==b.PAGE_DOWN)&&(g*=-1),c+=g,c>=1&&c<=f.pageCount&&a.setValue(c)))},beforeLoad:function(){this.rendered&&this.setChildDisabled("#refresh",!0)},moveFirst:function(){this.fireEvent("beforechange",this,1)!==!1&&this.store.loadPage(1)},movePrevious:function(){var a=this,b=a.store.currentPage-1;b>0&&a.fireEvent("beforechange",a,b)!==!1&&a.store.previousPage()},moveNext:function(){var a=this,b=a.getPageData().pageCount,c=a.store.currentPage+1;b>=c&&a.fireEvent("beforechange",a,c)!==!1&&a.store.nextPage()},moveLast:function(){var a=this,b=a.getPageData().pageCount;a.fireEvent("beforechange",a,b)!==!1&&a.store.loadPage(b)},doRefresh:function(){var a=this,b=a.store.currentPage;a.fireEvent("beforechange",a,b)!==!1&&a.store.loadPage(b)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind(),this.callParent()}},0,["pagingtoolbar"],["toolbar","component","container","pagingtoolbar","box"],{toolbar:!0,component:!0,container:!0,pagingtoolbar:!0,box:!0},["widget.pagingtoolbar"],[["bindable",Ext.util.Bindable]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0),Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var a=this,b=a.baseCls,c=a.itemCls;a.selectedItemCls=b+"-selected",a.trackOver&&(a.overItemCls=b+"-item-over"),a.itemSelector="."+c,a.floating&&a.addCls(b+"-floating"),a.tpl?a.tpl.isTemplate||(a.tpl=new Ext.XTemplate(a.tpl)):a.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+c+'">'+a.getInnerTpl(a.displayField)+"</li>","</tpl></ul>"),a.pageSize&&(a.pagingToolbar=a.createPagingToolbar()),a.callParent()},beforeRender:function(){var a=this;a.callParent(arguments),a.up("menu")&&a.addCls(Ext.baseCSSPrefix+"menu")},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments),a&&a.finishRender()},refresh:function(){var a=this,b=a.tpl,c=a.pagingToolbar,d=a.rendered;b.field=a.pickerField,b.store=a.store,a.callParent(),b.field=b.store=null,d&&c&&c.rendered&&!a.preserveScrollOnRefresh&&a.el.appendChild(c.el),d&&Ext.isIE6&&Ext.isStrict&&a.listEl.repaint()},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments),c&&c.bindStore(a,b)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}},0,["boundlist"],["component","boundlist","box","dataview"],{component:!0,boundlist:!0,box:!0,dataview:!0},["widget.boundlist"],[["queryable",Ext.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0),Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.util.KeyNav,{constructor:function(a,b){var c=this;c.boundList=b.boundList,c.callParent([a,Ext.apply({},b,c.defaultHandlers)])},defaultHandlers:{up:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e>0?e-1:c.getCount()-1;a.highlightAt(f)},down:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e<c.getCount()-1?e+1:0;a.highlightAt(f)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(a){var b=this.boundList,c=b.all.item(a);c&&(c=c.dom,b.highlightItem(c),b.getTargetEl().scrollChildIntoView(c,!1))},selectHighlighted:function(a){var b=this,c=b.boundList,d=c.highlightedItem,e=c.getSelectionModel();d&&e.selectWithEvent(c.getRecord(d),a)}},1,0,0,0,0,0,[Ext.view,"BoundListKeyNav"],0),Ext.cmd.derive("Ext.layout.component.field.ComboBox",Ext.layout.component.field.Trigger,{type:"combobox",startingWidth:null,getTextWidth:function(){for(var a,b,c,d=this,e=d.owner,f=e.store,g=e.displayField,h=f.data.length,i="",j=0,k=0;h>j;j++)b=f.getAt(j).data[g],a=b.length,a>k&&(k=a,i=b);return c=Math.max(d.callParent(arguments),e.inputEl.getTextWidth(i+e.growAppend)),(!d.startingWidth||e.removingRecords)&&(d.startingWidth=c,c<e.growMin&&(e.defaultListConfig.minWidth=e.growMin),e.removingRecords=!1),c<d.startingWidth?d.startingWidth:c}},0,0,0,0,["layout.combobox"],0,[Ext.layout.component.field,"ComboBox"],0),Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){var a=this;return Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls}),a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments),a.setHiddenValue(a.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var a,b,c=this,d=Ext.isDefined,e=c.store,f=c.transform;Ext.applyIf(c.renderSelectors,{hiddenDataEl:"."+c.hiddenDataCls.split(" ").join(".")}),this.addEvents("beforequery","select","beforeselect","beforedeselect"),f&&(a=Ext.getDom(f),a&&(c.store||(e=Ext.Array.map(Ext.Array.from(a.options),function(a){return[a.value,a.text]})),c.name||(c.name=a.name),"value"in c||(c.value=a.value))),c.bindStore(e||"ext-empty-store",!0),e=c.store,e.autoCreated&&(c.queryMode="local",c.valueField=c.displayField="field1",e.expanded||(c.displayField="field2")),d(c.valueField)||(c.valueField=c.displayField),b="local"===c.queryMode,d(c.queryDelay)||(c.queryDelay=b?10:500),d(c.minChars)||(c.minChars=b?0:4),c.displayTpl?Ext.isString(c.displayTpl)&&(c.displayTpl=new Ext.XTemplate(c.displayTpl)):c.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+c.displayField+'"]]}<tpl if="xindex < xcount">'+c.delimiter+"</tpl></tpl>"),c.callParent(),c.doQueryTask=new Ext.util.DelayedTask(c.doRawQuery,c),c.store.getCount()>0&&c.setValue(c.value),a&&(c.render(a.parentNode,a),Ext.removeNode(a),delete c.renderTo)},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel(),this.assertValue()},assertValue:function(){var a,b,c=this,d=c.getRawValue();c.forceSelection&&(c.multiSelect?d!==c.getDisplayValue()&&c.setValue(c.lastSelection):(a=c.findRecordByDisplay(d),a?(b=c.value,c.findRecordByValue(b)||c.select(a,!0)):c.setValue(c.lastSelection))),c.collapse()},onTypeAhead:function(){var a,b,c,d=this,e=d.displayField,f=d.store.findRecord(e,d.getRawValue()),g=d.getPicker();f&&(a=f.get(e),b=a.length,c=d.getRawValue().length,g.highlightItem(g.getNode(f)),0!==c&&c!==b&&(d.setRawValue(a),d.selectText(c,a.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.queryFilter&&!this.queryFilter.disabled&&(this.queryFilter.disabled=!0,this.store.filter())},onUnbindStore:function(a){var b=this,c=b.picker;b.queryFilter&&b.store.removeFilter(b.queryFilter),!a&&c&&c.bindStore(null)},onBindStore:function(a,b){var c=this.picker;b||this.resetToDefault(),c&&c.bindStore(a)},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;a.resizeComboToGrow()&&a.updateLayout()},onClear:function(){var a=this;a.resizeComboToGrow()&&(a.removingRecords=!0,a.onDataChanged())},onRemove:function(){var a=this;a.resizeComboToGrow()&&(a.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(a,b,c){var d=this;d.ignoreSelection>0&&--d.ignoreSelection,c&&!a.lastOptions.rawQuery&&(null==d.value&&d.store.getCount()?d.doAutoSelect():d.setValue(d.value))},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(a,b,c){var d=this,e=d.beforeQuery({query:a||"",rawQuery:c,forceAll:b,combo:d,cancel:!1});return e===!1||e.cancel?!1:(d.queryCaching&&e.query===d.lastQuery?d.expand():(d.lastQuery=e.query,"local"===d.queryMode?d.doLocalQuery(e):d.doRemoteQuery(e)),!0)},beforeQuery:function(a){var b=this;return b.fireEvent("beforequery",a)===!1?a.cancel=!0:a.cancel||a.query.length<b.minChars&&!a.forceAll&&(a.cancel=!0),a},doLocalQuery:function(a){var b=this,c=a.query;b.queryFilter||(b.queryFilter=new Ext.util.Filter({id:b.id+"-query-filter",anyMatch:b.anyMatch,caseSensitive:b.caseSensitive,root:"data",property:b.displayField}),b.store.addFilter(b.queryFilter,!1)),c||!a.forceAll?(b.queryFilter.disabled=!1,b.queryFilter.setValue(b.enableRegEx?new RegExp(c):c)):b.queryFilter.disabled=!0,b.store.filter(),b.store.getCount()?b.expand():b.collapse(),b.afterQuery(a)},doRemoteQuery:function(a){var b=this,c=function(){b.afterQuery(a)};b.expand(),b.pageSize?b.loadPage(1,{rawQuery:a.rawQuery,callback:c}):b.store.load({params:b.getParams(a.query),rawQuery:a.rawQuery,callback:c})},afterQuery:function(a){var b=this;b.store.getCount()&&(b.typeAhead&&b.doTypeAhead(),b.getRawValue()!==b.getDisplayValue()&&(b.ignoreSelection++,b.picker.getSelectionModel().deselectAll(),b.ignoreSelection--),a.rawQuery?(b.syncSelection(),b.picker&&!b.picker.getSelectionModel().hasSelection()&&b.doAutoSelect()):b.doAutoSelect())},loadPage:function(a,b){this.store.loadPage(a,Ext.apply({params:this.getParams(this.lastQuery)},b))},onPageChange:function(a,b){return this.loadPage(b),!1},getParams:function(a){var b={},c=this.queryParam;return c&&(b[c]=a),b},doAutoSelect:function(){var a,b,c=this,d=c.picker;d&&c.autoSelect&&c.store.getCount()>0&&(a=d.getSelectionModel().lastSelected,b=d.getNode(a||0),b&&(d.highlightItem(b),d.listEl.scrollChildIntoView(b,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var a=this;a.readOnly||a.disabled||(a.isExpanded?a.collapse():(a.onFocus({}),"all"===a.triggerAction?a.doQuery(a.allQuery,!0):"last"===a.triggerAction?a.doQuery(a.lastQuery,!0):a.doQuery(a.getRawValue(),!1,!0)),a.inputEl.focus())},onPaste:function(){var a=this;a.readOnly||a.disabled||!a.editable||a.doQueryTask.delay(a.queryDelay)},onKeyUp:function(a){var b=this,c=a.getKey();b.readOnly||b.disabled||!b.editable||(b.lastKey=c,a.isSpecialKey()&&c!=a.BACKSPACE&&c!=a.DELETE||b.doQueryTask.delay(b.queryDelay)),b.enableKeyEvents&&b.callParent(arguments)},initEvents:function(){var a=this;a.callParent(),a.enableKeyEvents||a.mon(a.inputEl,"keyup",a.onKeyUp,a),a.mon(a.inputEl,"paste",a.onPaste,a)},onDestroy:function(){Ext.destroy(this.listKeyNav),this.bindStore(null),this.callParent()},onAdded:function(){var a=this;a.callParent(arguments),a.picker&&(a.picker.ownerCt=a.up("[floating]"),a.picker.registerWithOwnerCt())},createPicker:function(){var a,b=this,c=Ext.apply({xtype:"boundlist",pickerField:b,selModel:{mode:b.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:b.store,displayField:b.displayField,focusOnToFront:!1,pageSize:b.pageSize,tpl:b.tpl},b.listConfig,b.defaultListConfig);return a=b.picker=Ext.widget(c),b.pageSize&&a.pagingToolbar.on("beforechange",b.onPageChange,b),b.mon(a,{itemclick:b.onItemClick,refresh:b.onListRefresh,scope:b}),b.mon(a.getSelectionModel(),{beforeselect:b.onBeforeSelect,beforedeselect:b.onBeforeDeselect,selectionchange:b.onListSelectionChange,scope:b}),a},alignPicker:function(){var a=this,b=a.getPicker(),c=a.getPosition()[1]-Ext.getBody().getScroll().top,d=Ext.Element.getViewHeight()-c-a.getHeight(),e=Math.max(c,d);b.height&&(delete b.height,b.updateLayout()),b.getHeight()>e-5&&b.setHeight(e-5),a.callParent()},onListRefresh:function(){this.expanding||this.alignPicker(),this.syncSelection()},onItemClick:function(a,b){var c=this,d=c.picker.getSelectionModel().getSelection(),e=c.valueField;!c.multiSelect&&d.length&&b.get(e)===d[0].get(e)&&(c.displayTplData=[b.data],c.setRawValue(c.getDisplayValue()),c.collapse())},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,b.index)},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,b.index)},onListSelectionChange:function(a,b){var c=this,d=c.multiSelect,e=b.length>0;!c.ignoreSelection&&c.isExpanded&&(d||Ext.defer(c.collapse,1,c),(d||e)&&c.setValue(b,!1),e&&c.fireEvent("select",c,b),c.inputEl.focus())},onExpand:function(){var a=this,b=a.listKeyNav,c=a.selectOnTab,d=a.getPicker();b?b.enable():b=a.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:d,forceKeyDown:!0,tab:function(b){return c&&(this.selectHighlighted(b),a.triggerBlur()),!0},enter:function(b){var c=d.getSelectionModel(),e=c.getCount();this.selectHighlighted(b),a.multiSelect||e!==c.getCount()||a.collapse()}}),c&&(a.ignoreMonitorTab=!0),Ext.defer(b.enable,1,b),a.inputEl.focus()},onCollapse:function(){var a=this,b=a.listKeyNav;b&&(b.disable(),a.ignoreMonitorTab=!1)},select:function(a,b){var c,d=this,e=d.picker;a&&a.isModel&&b===!0&&e&&(c=!e.getSelectionModel().isSelected(a)),d.setValue(a,!0),c&&d.fireEvent("select",d,a)},findRecord:function(a,b){var c=this.store,d=c.findExact(a,b);return-1!==d?c.getAt(d):!1},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(a,b){var c,d,e,f,g=this,h=g.valueNotFoundText,i=g.inputEl,j=[],k=[],l=[];if(g.store.loading)return g.value=a,g.setHiddenValue(g.value),g;for(a=Ext.Array.from(a),c=0,d=a.length;d>c;c++)e=a[c],e&&e.isModel||(e=g.findRecordByValue(e)),e?(j.push(e),k.push(e.data),l.push(e.get(g.valueField))):g.forceSelection?Ext.isDefined(h)&&k.push(h):(l.push(a[c]),f={},f[g.displayField]=a[c],k.push(f));return g.setHiddenValue(l),g.value=g.multiSelect?l:l[0],Ext.isDefined(g.value)||(g.value=null),g.displayTplData=k,g.lastSelection=g.valueModels=j,i&&g.emptyText&&!Ext.isEmpty(a)&&i.removeCls(g.emptyCls),g.setRawValue(g.getDisplayValue()),g.checkChange(),b!==!1&&g.syncSelection(),g.applyEmptyText(),g},setHiddenValue:function(a){var b,c,d,e,f,g,h=this,i=h.hiddenName;if(h.hiddenDataEl&&i){for(a=Ext.Array.from(a),c=h.hiddenDataEl.dom,d=c.childNodes,e=d[0],f=a.length,g=d.length,!e&&f>0&&(h.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:i})),g=1,e=c.firstChild);g>f;)c.removeChild(d[0]),--g;for(;f>g;)c.appendChild(e.cloneNode(!0)),++g;for(b=0;f>b;b++)d[b].value=a[b]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,b=a.picker,c=a.getRawValue(),d=a.value;return a.getDisplayValue()!==c&&(d=c,a.value=a.displayTplData=a.valueModels=null,b&&(a.ignoreSelection++,b.getSelectionModel().deselectAll(),a.ignoreSelection--)),d},getSubmitValue:function(){var a=this.getValue();return Ext.isEmpty(a)&&(a=""),a},isEqual:function(a,b){var c,d,e=Ext.Array.from;if(a=e(a),b=e(b),d=a.length,d!==b.length)return!1;for(c=0;d>c;c++)if(b[c]!==a[c])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var a,b,c,d,e=this,f=e.picker,g=e.valueModels||[],h=g.length;if(f){for(a=[],c=0;h>c;c++)d=g[c],d&&d.isModel&&e.store.indexOf(d)>=0&&a.push(d);e.ignoreSelection++,b=f.getSelectionModel(),b.deselectAll(),a.length&&b.select(a,void 0,!0),e.ignoreSelection--}},onEditorTab:function(a){var b=this.listKeyNav;this.selectOnTab&&b&&b.selectHighlighted(a)}},0,["combobox","combo"],["field","trigger","combobox","textfield","pickerfield","component","combo","box","triggerfield"],{field:!0,trigger:!0,combobox:!0,textfield:!0,pickerfield:!0,component:!0,combo:!0,box:!0,triggerfield:!0},["widget.combo","widget.combobox"],[["bindable",Ext.util.Bindable]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0),Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;
a.selectedCls=a.baseCls+"-selected",a.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),a.small&&a.addCls(a.smallCls),a.setValue(a.value),a.activeYear=a.getYear((new Date).getFullYear()-4,-4),a.showButtons&&(a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a}),a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})),this.callParent()},beforeRender:function(){var a=this,b=0,c=[],d=Ext.Date.getShortMonthName,e=a.monthOffset,f=a.monthMargin,g="";for(a.callParent();e>b;++b)c.push(d(b),d(b+e));Ext.isDefined(f)&&(g="margin: 0 "+f+"px;"),Ext.apply(a.renderData,{months:c,years:a.getYears(),showButtons:a.showButtons,monthStyle:g})},afterRender:function(){{var a=this,b=a.bodyEl;a.buttonsEl}a.callParent(),a.mon(b,"click",a.onBodyClick,a),a.mon(b,"dblclick",a.onBodyClick,a),a.years=b.select("."+a.baseCls+"-year a"),a.months=b.select("."+a.baseCls+"-month a"),a.backRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:Ext.Function.bind(a.adjustYear,a,[-a.totalYears])}),a.prevEl.addClsOnOver(a.baseCls+"-yearnav-prev-over"),a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:Ext.Function.bind(a.adjustYear,a,[a.totalYears])}),a.nextEl.addClsOnOver(a.baseCls+"-yearnav-next-over"),a.updateBody(),Ext.isDefined(a.monthMargin)||(Ext.picker.Month.prototype.monthMargin=a.calculateMonthMargin())},calculateMonthMargin:function(){for(var a=this,b=(a.monthEl,a.months),c=b.first(),d=c.getMargin("l");d&&a.getLargest()>a.measureMaxHeight;)--d,b.setStyle("margin","0 "+d+"px");return d},getLargest:function(){var a=0;return this.months.each(function(b){var c=b.getHeight();c>a&&(a=c)}),a},setValue:function(a){{var b,c=this,d=c.activeYear;c.monthOffset}return c.value=a?Ext.isDate(a)?[a.getMonth(),a.getFullYear()]:[a[0],a[1]]:[null,null],c.rendered&&(b=c.value[1],null!==b&&(d>b||b>d+c.yearOffset)&&(c.activeYear=b-c.yearOffset+1),c.updateBody()),c},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return null!==a[0]&&null!==a[1]},getYears:function(){for(var a=this,b=a.yearOffset,c=a.activeYear,d=c+b,e=c,f=[];d>e;++e)f.push(e,e+b);return f},updateBody:function(){var a,b,c,d,e,f=this,g=f.years,h=f.months,i=f.getYears(),j=f.selectedCls,k=f.getYear(null),l=f.value[0],m=f.monthOffset;if(f.rendered){for(g.removeCls(j),h.removeCls(j),b=g.elements,d=b.length,c=0;d>c;c++)e=Ext.fly(b[c]),a=i[c],e.dom.innerHTML=a,a==k&&e.addCls(j);null!==l&&(l=m>l?2*l:2*(l-m)+1,h.item(l).addCls(j))}},getYear:function(a,b){var c=this.value[1];return b=b||0,null===c?a:c+b},onBodyClick:function(a,b){var c=this,d="dblclick"==a.type;a.getTarget("."+c.baseCls+"-month")?(a.stopEvent(),c.onMonthClick(b,d)):a.getTarget("."+c.baseCls+"-year")&&(a.stopEvent(),c.onYearClick(b,d))},adjustYear:function(a){"number"!=typeof a&&(a=this.totalYears),this.activeYear+=a,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(a,b){var c=this;c.value[0]=c.resolveOffset(c.months.indexOf(a),c.monthOffset),c.updateBody(),c.fireEvent("month"+(b?"dbl":"")+"click",c,c.value),c.fireEvent("select",c,c.value)},onYearClick:function(a,b){var c=this;c.value[1]=c.activeYear+c.resolveOffset(c.years.indexOf(a),c.yearOffset),c.updateBody(),c.fireEvent("year"+(b?"dbl":"")+"click",c,c.value),c.fireEvent("select",c,c.value)},resolveOffset:function(a,b){return a%2===0?a/2:b+Math.floor(a/2)},beforeDestroy:function(){var a=this;a.years=a.months=null,Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn"),a.callParent()},finishRenderChildren:function(){var a=this;this.callParent(arguments),this.showButtons&&(a.okBtn.finishRender(),a.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}},0,["monthpicker"],["monthpicker","component","box"],{monthpicker:!0,component:!0,box:!0},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0),Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;var b=a%7===0&&0!==a;return b?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var a=this,b=Ext.Date.clearTime;a.selectedCls=a.baseCls+"-selected",a.disabledCellCls=a.baseCls+"-disabled",a.prevCls=a.baseCls+"-prevday",a.activeCls=a.baseCls+"-active",a.cellCls=a.baseCls+"-cell",a.nextCls=a.baseCls+"-prevday",a.todayCls=a.baseCls+"-today",a.format||(a.format=Ext.Date.defaultFormat),a.dayNames||(a.dayNames=Ext.Date.dayNames),a.dayNames=a.dayNames.slice(a.startDay).concat(a.dayNames.slice(0,a.startDay)),a.callParent(),a.value=a.value?b(a.value,!0):b(new Date),a.addEvents("select"),a.initDisabledDays()},beforeRender:function(){var a=this,b=new Array(a.numDays),c=Ext.Date.format(new Date,a.format);a.up("menu")&&a.addCls(Ext.baseCSSPrefix+"menu"),a.monthBtn=new Ext.button.Split({ownerCt:a,ownerLayout:a.getComponentLayout(),text:"",tooltip:a.monthYearText,listeners:{click:a.showMonthPicker,arrowclick:a.showMonthPicker,scope:a}}),a.showToday&&(a.todayBtn=new Ext.button.Button({ownerCt:a,ownerLayout:a.getComponentLayout(),text:Ext.String.format(a.todayText,c),tooltip:Ext.String.format(a.todayTip,c),tooltipType:"title",handler:a.selectToday,scope:a})),a.callParent(),Ext.applyIf(a,{renderData:{}}),Ext.apply(a.renderData,{dayNames:a.dayNames,showToday:a.showToday,prevText:a.prevText,nextText:a.nextText,days:b}),a.protoEl.unselectable()},finishRenderChildren:function(){var a=this;a.callParent(),a.monthBtn.finishRender(),a.showToday&&a.todayBtn.finishRender()},onRender:function(){var a=this;a.callParent(arguments),a.cells=a.eventEl.select("tbody td"),a.textNodes=a.eventEl.query("tbody td a"),a.mon(a.eventEl,{scope:a,mousewheel:a.handleMouseWheel,click:{fn:a.handleDateClick,delegate:"a."+a.baseCls+"-date"}})},initEvents:function(){var a=this,b=Ext.Date,c=b.DAY;a.callParent(),a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:!0,stopDefault:!0}),a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:!0,stopDefault:!0}),a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(d){d.ctrlKey?a.showPrevMonth():a.update(b.add(a.activeDate,c,-1))},right:function(d){d.ctrlKey?a.showNextMonth():a.update(b.add(a.activeDate,c,1))},up:function(d){d.ctrlKey?a.showNextYear():a.update(b.add(a.activeDate,c,-7))},down:function(d){d.ctrlKey?a.showPrevYear():a.update(b.add(a.activeDate,c,7))},pageUp:function(b){b.altKey?a.showPrevYear():a.showPrevMonth()},pageDown:function(b){b.altKey?a.showNextYear():a.showNextMonth()},tab:function(b){return a.doCancelFieldFocus=!0,a.handleTabClick(b),delete a.doCancelFieldFocus,!0},enter:function(a){return a.stopPropagation(),!0},home:function(){a.update(b.getFirstDateOfMonth(a.activeDate))},end:function(){a.update(b.getLastDateOfMonth(a.activeDate))}},a.keyNavConfig)),a.showToday&&(a.todayKeyListener=a.eventEl.addKeyListener(Ext.EventObject.SPACE,a.selectToday,a)),a.update(a.value)},handleTabClick:function(){var a=this,b=a.getSelectedDate(a.activeDate),c=a.handler;a.disabled||!b.dateValue||Ext.fly(b.parentNode).hasCls(a.disabledCellCls)||(a.doCancelFocus=a.focusOnSelect===!1,a.setValue(new Date(b.dateValue)),delete a.doCancelFocus,a.fireEvent("select",a,a.value),c&&c.call(a.scope||a,a,a.value),a.onSelect())},getSelectedDate:function(a){var b,c,d=this,e=a.getTime(),f=d.cells,g=d.selectedCls,h=f.elements,i=h.length;for(f.removeCls(g),b=0;i>b;b++)if(c=Ext.fly(h[b]),c.dom.firstChild.dateValue==e)return c.dom.firstChild;return null},initDisabledDays:function(){var a,b,c,d,e=this,f=e.disabledDates,g="(?:";if(!e.disabledDatesRE&&f){for(a=f.length-1,c=f.length,b=0;c>b;b++)d=f[b],g+=Ext.isDate(d)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(d,e.format))+"$":d,b!=a&&(g+="|");e.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(a){var b=this;return Ext.isArray(a)?(b.disabledDates=a,b.disabledDatesRE=null):b.disabledDatesRE=a,b.initDisabledDays(),b.update(b.value,!0),b},setDisabledDays:function(a){return this.disabledDays=a,this.update(this.value,!0)},setMinDate:function(a){return this.minDate=a,this.update(this.value,!0)},setMaxDate:function(a){return this.maxDate=a,this.update(this.value,!0)},setValue:function(a){return this.value=Ext.Date.clearTime(a,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(a){var b=this;b.keyNav.setDisabled(a),b.prevRepeater.setDisabled(a),b.nextRepeater.setDisabled(a),b.showToday&&(b.todayKeyListener.setDisabled(a),b.todayBtn.setDisabled(a))},getActive:function(){return this.activeDate||this.value},runAnimation:function(a){var b=this.monthPicker,c={duration:200,callback:function(){a?b.hide():b.show()}};a?b.el.slideOut("t",c):b.el.slideIn("t",c)},hideMonthPicker:function(a){var b=this,c=b.monthPicker;return c&&(b.shouldAnimate(a)?b.runAnimation(!0):c.hide()),b},showMonthPicker:function(a){var b,c=this;return c.rendered&&!c.disabled&&(b=c.createMonthPicker(),b.setValue(c.getActive()),b.setSize(c.getSize()),b.setPosition(-1,-1),c.shouldAnimate(a)?c.runAnimation(!1):b.show()),c},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=this,b=a.monthPicker;return b||(a.monthPicker=b=new Ext.picker.Month({renderTo:a.el,floating:!0,shadow:!1,small:a.showToday===!1,listeners:{scope:a,cancelclick:a.onCancelClick,okclick:a.onOkClick,yeardblclick:a.onOkClick,monthdblclick:a.onOkClick}}),a.disableAnim||b.el.setStyle("display","none"),a.on("beforehide",Ext.Function.bind(a.hideMonthPicker,a,[!1]))),b},onOkClick:function(a,b){var c=this,d=b[0],e=b[1],f=new Date(e,d,c.getActive().getDate());f.getMonth()!==d&&(f=Ext.Date.getLastDateOfMonth(new Date(e,d,1))),c.setValue(f),c.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){if(a.stopEvent(),!this.disabled){var b=a.getWheelDelta();b>0?this.showPrevMonth():0>b&&this.showNextMonth()}},handleDateClick:function(a,b){var c=this,d=c.handler;a.stopEvent(),c.disabled||!b.dateValue||Ext.fly(b.parentNode).hasCls(c.disabledCellCls)||(c.doCancelFocus=c.focusOnSelect===!1,c.setValue(new Date(b.dateValue)),delete c.doCancelFocus,c.fireEvent("select",c,c.value),d&&d.call(c.scope||c,c,c.value),c.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var a=this,b=a.todayBtn,c=a.handler;return b&&!b.disabled&&(a.setValue(Ext.Date.clearTime(new Date)),a.fireEvent("select",a,a.value),c&&c.call(a.scope||a,a,a.value),a.onSelect()),a},selectedUpdate:function(a){var b,c,d=this,e=a.getTime(),f=d.cells,g=d.selectedCls,h=f.elements,i=h.length;for(f.removeCls(g),b=0;i>b;b++)if(c=Ext.fly(h[b]),c.dom.firstChild.dateValue==e){d.fireEvent("highlightitem",d,c),c.addCls(g),d.isVisible()&&!d.doCancelFocus&&Ext.fly(c.dom.firstChild).focus(50);break}},fullUpdate:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.cells.elements,m=k.textNodes,n=k.disabledCellCls,o=Ext.Date,p=0,q=0,r=k.isVisible(),s=+o.clearTime(a,!0),t=+o.clearTime(new Date),u=k.minDate?o.clearTime(k.minDate,!0):Number.NEGATIVE_INFINITY,v=k.maxDate?o.clearTime(k.maxDate,!0):Number.POSITIVE_INFINITY,w=k.disabledDatesRE,x=k.disabledDatesText,y=k.disabledDays?k.disabledDays.join(""):!1,z=k.disabledDaysText,A=k.format,B=o.getDaysInMonth(a),C=o.getFirstDateOfMonth(a),D=C.getDay()-k.startDay,E=o.add(a,o.MONTH,-1),F=k.longDayFormat;for(0>D&&(D+=7),B+=D,b=o.getDaysInMonth(E)-D,c=new Date(E.getFullYear(),E.getMonth(),b,k.initHour),k.showToday&&(e=o.clearTime(new Date),d=u>e||e>v||w&&A&&w.test(o.dateFormat(e,A))||y&&-1!=y.indexOf(e.getDay()),k.disabled||(k.todayBtn.setDisabled(d),k.todayKeyListener.setDisabled(d))),f=function(a,b){j=+o.clearTime(c,!0),a.title=o.format(c,F),a.firstChild.dateValue=j,j==t&&(b+=" "+k.todayCls,a.title=k.todayText,k.todayElSpan=Ext.DomHelper.append(a.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:k.todayText},!0)),j==s&&(b+=" "+k.selectedCls,k.fireEvent("highlightitem",k,a),r&&k.floating&&Ext.fly(a.firstChild).focus(50)),u>j?(b+=" "+n,a.title=k.minText):j>v?(b+=" "+n,a.title=k.maxText):y&&-1!==y.indexOf(c.getDay())?(a.title=z,b+=" "+n):w&&A&&(i=o.dateFormat(c,A),w.test(i)&&(a.title=x.replace("%0",i),b+=" "+n)),a.className=b+" "+k.cellCls};p<k.numDays;++p)D>p?(g=++b,h=k.prevCls):p>=B?(g=++q,h=k.nextCls):(g=p-D+1,h=k.activeCls),m[p].innerHTML=g,c.setDate(c.getDate()+1),f(l[p],h);k.monthBtn.setText(Ext.Date.format(a,k.monthYearFormat))},update:function(a,b){var c=this,d=c.activeDate;return c.rendered&&(c.activeDate=a,!b&&d&&c.el&&d.getMonth()==a.getMonth()&&d.getFullYear()==a.getFullYear()?c.selectedUpdate(a,d):c.fullUpdate(a,d)),c},beforeDestroy:function(){var a=this;a.rendered&&(Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn),delete a.textNodes,delete a.cells.elements),a.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}},0,["datepicker"],["datepicker","component","box"],{datepicker:!0,component:!0,box:!0},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0),Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var a,b,c=this,d=Ext.isString;a=c.minValue,b=c.maxValue,d(a)&&(c.minValue=c.parseDate(a)),d(b)&&(c.maxValue=c.parseDate(b)),c.disabledDatesRE=null,c.initDisabledDays(),c.callParent()},initValue:function(){var a=this,b=a.value;Ext.isString(b)&&(a.value=a.rawToValue(b)),a.callParent()},initDisabledDays:function(){if(this.disabledDates){var a,b,c=this.disabledDates,d=c.length-1,e="(?:",f=c.length;for(a=0;f>a;a++)b=c[a],e+=Ext.isDate(b)?"^"+Ext.String.escapeRegex(b.dateFormat(this.format))+"$":b,a!==d&&(e+="|");this.disabledDatesRE=new RegExp(e+")")}},setDisabledDates:function(a){var b=this,c=b.picker;b.disabledDates=a,b.initDisabledDays(),c&&c.setDisabledDates(b.disabledDatesRE)},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a,b&&b.setDisabledDays(a)},setMinValue:function(a){var b=this,c=b.picker,d=Ext.isString(a)?b.parseDate(a):a;b.minValue=d,c&&(c.minText=Ext.String.format(b.minText,b.formatDate(b.minValue)),c.setMinDate(d))},setMaxValue:function(a){var b=this,c=b.picker,d=Ext.isString(a)?b.parseDate(a):a;b.maxValue=d,c&&(c.maxText=Ext.String.format(b.maxText,b.formatDate(b.maxValue)),c.setMaxDate(d))},getErrors:function(a){var b,c,d,e,f=this,g=Ext.String.format,h=Ext.Date.clearTime,i=f.callParent(arguments),j=f.disabledDays,k=f.disabledDatesRE,l=f.minValue,m=f.maxValue,n=j?j.length:0,o=0;if(a=f.formatDate(a||f.processRawValue(f.getRawValue())),null===a||a.length<1)return i;if(b=a,a=f.parseDate(a),!a)return i.push(g(f.invalidText,b,Ext.Date.unescapeFormat(f.format))),i;if(e=a.getTime(),l&&e<h(l).getTime()&&i.push(g(f.minText,f.formatDate(l))),m&&e>h(m).getTime()&&i.push(g(f.maxText,f.formatDate(m))),j)for(d=a.getDay();n>o;o++)if(d===j[o]){i.push(f.disabledDaysText);break}return c=f.formatDate(a),k&&k.test(c)&&i.push(g(f.disabledDatesText,c)),i},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(a,b){var c,d=this,e=Ext.Date,f=null,g=d.useStrict;return e.formatContainsHourInfo(b)?f=e.parse(a,b,g):(c=e.parse(a+" "+d.initTime,b+" "+d.initTimeFormat,g),c&&(f=e.clearTime(c))),f},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):""},parseDate:function(a){if(!a||Ext.isDate(a))return a;var b,c=this,d=c.safeParse(a,c.format),e=c.altFormats,f=c.altFormatsArray,g=0;if(!d&&e)for(f=f||e.split("|"),b=f.length;b>g&&!d;++g)d=c.safeParse(a,f[g]);return d},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onDownArrow:function(){this.callParent(arguments),this.isExpanded&&this.getPicker().focus()},onSelect:function(a,b){var c=this;c.setValue(b),c.fireEvent("select",c,b),c.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var a=this,b=a.parseDate(a.getRawValue()),c=a.focusTask;c&&c.cancel(),b&&a.setValue(b)}},0,["datefield"],["field","trigger","textfield","pickerfield","component","datefield","box","triggerfield"],{field:!0,trigger:!0,textfield:!0,pickerfield:!0,component:!0,datefield:!0,box:!0,triggerfield:!0},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0),Ext.cmd.derive("Ext.form.field.FileButton",Ext.button.Button,{childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var a=this.callParent();return a.inputCls=this.inputCls,a.inputName=this.inputName,a},afterRender:function(){var a=this;a.callParent(arguments),a.fileInputEl.on("change",a.fireChange,a)},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(a){var b=this;b.fileInputEl=b.el.createChild({name:b.inputName,id:a?void 0:b.id+"-fileInputEl",cls:b.inputCls,tag:"input",type:"file",size:1}),b.fileInputEl.on("change",b.fireChange,b)},reset:function(a){a&&this.fileInputEl.remove(),this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.remove(),a=Ext.get(a),this.el.appendChild(a),this.fileInputEl=a},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1}},0,["filebutton"],["filebutton","button","component","box"],{filebutton:!0,button:!0,component:!0,box:!0},["widget.filebutton"],0,[Ext.form.field,"FileButton"],0),Ext.cmd.derive("Ext.form.field.File",Ext.form.field.Trigger,{alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var a,b=this,c=b.id;b.callParent(arguments),a=b.inputEl,a.dom.name="",b.button=new Ext.form.field.FileButton(Ext.apply({renderTo:c+"-browseButtonWrap",ownerCt:b,ownerLayout:b.componentLayout,id:c+"-button",ui:b.ui,disabled:b.disabled,text:b.buttonText,style:b.buttonOnly?"":b.getButtonMarginProp()+b.buttonMargin+"px",inputName:b.getName(),listeners:{scope:b,change:b.onFileChange}},b.buttonConfig)),b.fileInputEl=b.button.fileInputEl,b.buttonOnly&&b.inputCell.setDisplayed(!1),b.browseButtonWrap.dom.style.width=b.browseButtonWrap.dom.lastChild.offsetWidth+b.button.getEl().getMargin("lr")+"px",Ext.isIE&&b.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(a,b,c){this.lastValue=null,Ext.form.field.File.superclass.setValue.call(this,c)},setValue:Ext.emptyFn,reset:function(){var a=this,b=a.clearOnSubmit;a.rendered&&(a.button.reset(b),a.fileInputEl=a.button.fileInputEl,b&&(a.inputEl.dom.value="")),a.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:function(){return!0},extractFileInput:function(){var a=this.button.fileInputEl.dom;return this.reset(),a},restoreInput:function(a){var b=this.button;b.restoreInput(a),this.fileInputEl=b.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button"),delete this.fileInputEl,this.callParent()},getButtonMarginProp:function(){return"margin-left:"}},0,["fileuploadfield","filefield"],["field","trigger","textfield","component","fileuploadfield","filefield","box","triggerfield"],{field:!0,trigger:!0,textfield:!0,component:!0,fileuploadfield:!0,filefield:!0,box:!0,triggerfield:!0},["widget.filefield","widget.fileuploadfield"],0,[Ext.form.field,"File",Ext.form,"FileUploadField",Ext.ux.form,"FileUploadField",Ext.form,"File"],0),Ext.cmd.derive("Ext.form.field.Hidden",Ext.form.field.Base,{alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,hidden:!0,initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(a,b){return this.isEqualAsString(a,b)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,["hidden","hiddenfield"],["field","component","hidden","hiddenfield","box"],{field:!0,component:!0,hidden:!0,hiddenfield:!0,box:!0},["widget.hidden","widget.hiddenfield"],0,[Ext.form.field,"Hidden",Ext.form,"Hidden"],0),Ext.cmd.derive("Ext.picker.Color",Ext.Component,{alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments),a.addEvents("select"),a.handler&&a.on("select",a.handler,a.scope,!0)},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var a=this,b=a.clickEvent;a.callParent(arguments),a.mon(a.el,b,a.handleClick,a,{delegate:"a"}),"click"!=b&&a.mon(a.el,"click",Ext.emptyFn,a,{delegate:"a",stopEvent:!0})},afterRender:function(){var a,b=this;b.callParent(arguments),b.value&&(a=b.value,b.value=null,b.select(a,!0))},handleClick:function(a,b){var c,d=this;a.stopEvent(),d.disabled||(c=b.className.match(d.colorRe)[1],d.select(c.toUpperCase()))},select:function(a,b){var c,d=this,e=d.selectedCls,f=d.value;return a=a.replace("#",""),d.rendered?void((a!=f||d.allowReselect)&&(c=d.el,d.value&&c.down("a.color-"+f).removeCls(e),c.down("a.color-"+a).addCls(e),d.value=a,b!==!0&&d.fireEvent("select",d,a))):void(d.value=a)},clear:function(){var a,b=this,c=b.value;c&&b.rendered&&(a=b.el.down("a.color-"+c),a.removeCls(b.selectedCls)),b.value=null},getValue:function(){return this.value||null}},0,["colorpicker"],["component","box","colorpicker"],{component:!0,box:!0,colorpicker:!0},["widget.colorpicker"],0,[Ext.picker,"Color",Ext,"ColorPalette"],0),Ext.cmd.derive("Ext.layout.component.field.HtmlEditor",Ext.layout.component.field.FieldContainer,{type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(a){var b,c=this.owner;Ext.isGecko&&(b=c.textareaEl.dom,this.lastValue=b.value,b.value=""),this.callParent(arguments),a.toolbarContext=a.context.getCmp(c.toolbar),a.inputCmpContext=a.context.getCmp(c.inputCmp),a.textAreaContext=a.getEl("textareaEl"),a.iframeContext=a.getEl("iframeEl")},beginLayoutCycle:function(a){var b=this,c=a.widthModel,d=a.heightModel,e=b.owner,f=e.iframeEl,g=e.textareaEl;b.callParent(arguments),c.shrinkWrap?(f.setStyle("width",""),g.setStyle("width","")):c.natural&&a.bodyCellContext.setWidth(b.naturalWidth),(d.natural||d.shrinkWrap)&&(f.setHeight(b.naturalHeight),g.setHeight(b.naturalHeight))},finishedLayout:function(){var a=this.owner;this.callParent(arguments),Ext.isIE9m&&Ext.isIEQuirks&&a.el.repaint(),Ext.isGecko&&(a.textareaEl.dom.value=this.lastValue)},publishOwnerWidth:function(a,b){this.callParent(arguments),b-=a.inputCmpContext.getBorderInfo().width,a.textAreaContext.setWidth(b),a.iframeContext.setWidth(b)},publishInnerWidth:function(a,b){var c=a.inputCmpContext.getBorderInfo().width,d=Ext.isStrict&&Ext.isIE8m,e=a.widthModel.natural;this.callParent(arguments),b=a.bodyCellContext.props.width-c,e?(d&&(b-=2),a.textAreaContext.setWidth(b),a.iframeContext.setWidth(b)):d&&a.textAreaContext.setWidth(b)},publishInnerHeight:function(a,b){{var c=a.toolbarContext.getProp("height");this.owner.sourceEditMode}this.callParent(arguments),b=a.bodyCellContext.props.height,void 0!==c?(b-=c+a.inputCmpContext.getFrameInfo().height,Ext.isIE8&&Ext.isStrict?b-=2:Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)&&(b-=4),a.iframeContext.setHeight(b),a.textAreaContext.setHeight(b)):this.done=!1}},0,0,0,0,["layout.htmleditor"],0,[Ext.layout.component.field,"HtmlEditor"],0),Ext.cmd.derive("Ext.form.field.HtmlEditor",Ext.form.FieldContainer,{alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){var a=this;a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),a.items=[a.createToolbar(),a.createInputCmp()],a.layout={type:"vbox",align:"stretch"},a.callParent(arguments),a.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var a=this,b=a.id+"-inputCmp",c={id:b,name:a.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return a.getInsertionRenderData(c,a.subTplInsertions),{flex:1,xtype:"component",tpl:a.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:b,cls:Ext.baseCSSPrefix+"html-editor-input",data:c}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){function a(a,b,c){return{itemId:a,cls:h+"btn-icon",iconCls:h+"edit-"+a,enableToggle:b!==!1,scope:e,handler:c||e.relayBtnCmd,clickEvent:"mousedown",tooltip:g?e.buttonTips[a]||d:d,overflowText:e.buttonTips[a].title||d,tabIndex:-1}}var b,c,d,e=this,f=[],g=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),h=Ext.baseCSSPrefix;for(e.enableFont&&!Ext.isSafari2&&(c=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+h+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){e.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)
},onDisable:function(){var a=this.selectEl;a&&(a.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;a&&(a.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){e.win.focus(),e.relayCmd("fontName",e.fontSelect.dom.value),e.deferFocus()},element:"selectEl"}}),f.push(c,"-")),e.enableFormat&&f.push(a("bold"),a("italic"),a("underline")),e.enableFontSize&&f.push("-",a("increasefontsize",!1,e.adjustFont),a("decreasefontsize",!1,e.adjustFont)),e.enableColors&&f.push("-",{itemId:"forecolor",cls:h+"btn-icon",iconCls:h+"edit-forecolor",overflowText:e.buttonTips.forecolor.title,tooltip:g?e.buttonTips.forecolor||d:d,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(a,b){e.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:h+"btn-icon",iconCls:h+"edit-backcolor",overflowText:e.buttonTips.backcolor.title,tooltip:g?e.buttonTips.backcolor||d:d,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(a,b){Ext.isGecko?(e.execCmd("useCSS",!1),e.execCmd("hilitecolor","#"+b),e.execCmd("useCSS",!0),e.deferFocus()):e.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+b:b),this.up("menu").hide()}}]})}),e.enableAlignments&&f.push("-",a("justifyleft"),a("justifycenter"),a("justifyright")),Ext.isSafari2||(e.enableLinks&&f.push("-",a("createlink",!1,e.createLink)),e.enableLists&&f.push("-",a("insertorderedlist"),a("insertunorderedlist")),e.enableSourceEdit&&f.push("-",a("sourceedit",!0,function(){e.toggleSourceEdit(!e.sourceEditMode)}))),b=0;b<f.length;b++)"sourceedit"!==f[b].itemId&&(f[b].disabled=!0);return{xtype:"toolbar",defaultButtonUI:e.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:f,listeners:{click:function(a){a.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(a){var b,c=this,d=c.textareaEl,e=c.iframeEl;c.readOnly=a,d&&(d.dom.readOnly=a),c.initialized&&(b=c.getEditorBody(),Ext.isIE?(e.setDisplayed(!1),b.contentEditable=!a,e.setDisplayed(!0)):c.setDesignMode(!a),b&&(b.style.cursor=a?"default":"text"),c.disableItems(a))},getDocMarkup:function(){var a=this,b=a.iframeEl.getHeight()-2*a.iframePad,c=Ext.isIE8m;return Ext.String.format((c?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(a.rtl?"rtl;":"ltr;")+(c?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",a.iframePad,b,a.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var a,b,c,d,e,f,g,h=this,i=0;if(!h.defaultFont){for(b=h.textareaEl.getStyle("font-family"),b=Ext.String.capitalize(b.split(",")[0]),a=Ext.Array.clone(h.fontFamilies),Ext.Array.include(a,b),a.sort(),h.defaultFont=b,c=h.down("#fontSelect").selectEl.dom,e=0,f=a.length;f>e;++e)b=a[e],g=b.toLowerCase(),d=new Option(b,g),b==h.defaultFont&&(i=e),d.style.fontFamily=g,Ext.isIE?c.add(d):c.options.add(d);c.options[i].selected=!0}},isEqual:function(a,b){return this.isEqualAsString(a,b)},afterRender:function(){var a=this,b=a.inputCmp;a.callParent(arguments),a.iframeEl=b.iframeEl,a.textareaEl=b.textareaEl,a.inputEl=a.iframeEl,a.enableFont&&a.initDefaultFont(),a.monitorTask=Ext.TaskManager.start({run:a.checkDesignMode,scope:a,interval:100}),a.relayCmd("fontName",a.defaultFont)},initFrameDoc:function(){var a,b,c=this;Ext.TaskManager.stop(c.monitorTask),a=c.getDoc(),c.win=c.getWin(),a.open(),a.write(c.getDocMarkup()),a.close(),b={run:function(){var a=c.getDoc();(a.body||"complete"===a.readyState)&&(Ext.TaskManager.stop(b),c.setDesignMode(!0),Ext.defer(c.initEditor,10,c))},interval:10,duration:1e4,scope:c},Ext.TaskManager.start(b)},checkDesignMode:function(){var a=this,b=a.getDoc();!b||b.editorInitialized&&"on"===a.getDesignMode()||a.initFrameDoc()},setDesignMode:function(a){var b=this,c=b.getDoc();c&&(b.readOnly&&(a=!1),c.designMode=/on|true/i.test(String(a).toLowerCase())?"on":"off")},getDesignMode:function(){var a=this.getDoc();return a?String(a.designMode).toLowerCase():""},disableItems:function(a){var b,c,d=this.getToolbar().items.items,e=d.length;for(b=0;e>b;b++)c=d[b],"sourceedit"!==c.getItemId()&&c.setDisabled(a)},toggleSourceEdit:function(a){var b=this,c=b.iframeEl,d=b.textareaEl,e=Ext.baseCSSPrefix+"hidden",f=b.getToolbar().getComponent("sourceedit");Ext.isBoolean(a)||(a=!b.sourceEditMode),b.sourceEditMode=a,f.pressed!==a&&f.toggle(a),a?(b.disableItems(!0),b.syncValue(),c.addCls(e),d.removeCls(e),d.dom.removeAttribute("tabIndex"),d.focus(),b.inputEl=d):(b.initialized&&b.disableItems(b.readOnly),b.pushValue(),c.removeCls(e),d.addCls(e),d.dom.setAttribute("tabIndex",-1),b.deferFocus(),b.inputEl=c),b.fireEvent("editmodechange",b,a),b.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!==a&&this.relayCmd("createlink",a)},clearInvalid:Ext.emptyFn,setValue:function(a){{var b=this,c=b.textareaEl;b.inputCmp}return b.mixins.field.setValue.call(b,a),(null===a||void 0===a)&&(a=""),c&&(c.dom.value=a),b.pushValue(),!b.rendered&&b.inputCmp&&(b.inputCmp.data.value=a),b},cleanHtml:function(a){return a=String(a),Ext.isWebKit&&(a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")),a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(a=a.substring(1)),a},syncValue:function(){var a,b,c,d,e,f,g=this;g.initialized&&(a=g.getEditorBody(),c=a.innerHTML,f=g.textareaEl.dom,Ext.isWebKit&&(d=a.getAttribute("style"),e=d.match(/text-align:(.*?);/i),e&&e[1]&&(c='<div style="'+e[0]+'">'+c+"</div>")),c=g.cleanHtml(c),g.fireEvent("beforesync",g,c)!==!1&&(Ext.isGecko&&""===f.value&&"<br>"===c&&(c=""),f.value!==c&&(f.value=c,b=!0),g.fireEvent("sync",g,c),b&&g.checkChange()))},getValue:function(){var a,b=this;return b.sourceEditMode||b.syncValue(),a=b.rendered?b.textareaEl.dom.value:b.value,b.value=a,a},pushValue:function(){var a,b=this;b.initialized&&(a=b.textareaEl.dom.value||"",!b.activated&&a.length<1&&(a=b.defaultValue),b.fireEvent("beforepush",b,a)!==!1&&(b.getEditorBody().innerHTML=a,Ext.isGecko&&(b.setDesignMode(!1),b.setDesignMode(!0)),b.fireEvent("push",b,a)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},focus:function(a,b){var c,d,e=this;return b?(e.focusTask||(e.focusTask=new Ext.util.DelayedTask(e.focus)),e.focusTask.delay(Ext.isNumber(b)?b:10,null,e,[a,!1])):(a&&(e.textareaEl&&e.textareaEl.dom&&(c=e.textareaEl.dom.value),c&&c.length&&e.execCmd("selectall",!0)),d=e.getFocusEl(),d&&d.focus&&d.focus()),e},initEditor:function(){try{var a,b,c=this,d=c.getEditorBody(),e=c.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color");if(e["background-attachment"]="fixed",d.bgProperties="fixed",Ext.DomHelper.applyStyles(d,e),a=c.getDoc())try{Ext.EventManager.removeAll(a)}catch(f){}b=Ext.Function.bind(c.onEditorEvent,c),Ext.EventManager.on(a,{mousedown:b,dblclick:b,click:b,keyup:b,buffer:100}),b=c.onRelayedEvent,Ext.EventManager.on(a,{mousedown:b,mousemove:b,mouseup:b,click:b,dblclick:b,scope:c}),Ext.isGecko&&Ext.EventManager.on(a,"keypress",c.applyCommand,c),c.fixKeys&&Ext.EventManager.on(a,"keydown",c.fixKeys,c),c.fixKeysAfter&&Ext.EventManager.on(a,"keyup",c.fixKeysAfter,c),Ext.isIE9&&Ext.isStrict&&Ext.EventManager.on(a.documentElement,"focus",c.focus,c),(Ext.isIE8m||Ext.isIE9&&!Ext.isStrict)&&(Ext.EventManager.on(a,"focusout",function(){c.savedSelection="None"!==a.selection.type?a.selection.createRange():null},c),Ext.EventManager.on(a,"focusin",function(){c.savedSelection&&c.savedSelection.select()},c)),Ext.EventManager.onWindowUnload(c.beforeDestroy,c),a.editorInitialized=!0,c.initialized=!0,c.pushValue(),c.setReadOnly(c.readOnly),c.fireEvent("initialize",c)}catch(g){}},beforeDestroy:function(){var a,b,c=this,d=c.monitorTask;if(d&&Ext.TaskManager.stop(d),c.rendered){Ext.EventManager.removeUnloadListener(c.beforeDestroy,c);try{if(a=c.getDoc()){Ext.EventManager.removeAll(Ext.fly(a));for(b in a)a.hasOwnProperty&&a.hasOwnProperty(b)&&delete a[b]}}catch(e){}delete c.iframeEl,delete c.textareaEl,delete c.toolbar,delete c.inputCmp}c.callParent()},onRelayedEvent:function(a){var b=this.iframeEl,c=Ext.Element.getTrueXY(b),d=a.getXY(),e=Ext.EventManager.getPageXY(a.browserEvent);a.xy=[c[0]+e[0],c[1]+e[1]],a.injectEvent(b),a.xy=d},onFirstFocus:function(){var a,b,c=this;if(c.activated=!0,c.disableItems(c.readOnly),Ext.isGecko){c.win.focus(),a=c.win.getSelection(),a.focusNode&&3===a.focusNode.nodeType||(b=a.getRangeAt(0),b.selectNodeContents(c.getEditorBody()),b.collapse(!0),c.deferFocus());try{c.execCmd("useCSS",!0),c.execCmd("styleWithCSS",!1)}catch(d){}}c.fireEvent("activate",c)},adjustFont:function(a){var b,c="increasefontsize"===a.getItemId()?1:-1,d=this.getDoc().queryCommandValue("FontSize")||"2",e=Ext.isString(d)&&-1!==d.indexOf("px");d=parseInt(d,10),e?(d=10>=d?1+c:13>=d?2+c:16>=d?3+c:18>=d?4+c:24>=d?5+c:6+c,d=Ext.Number.constrain(d,1,6)):(b=Ext.isSafari,b&&(c*=2),d=Math.max(1,d+c)+(b?"px":0)),this.relayCmd("FontSize",d)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function a(){var a;for(b=0,c=arguments.length,f;c>b;b++){f=arguments[b];try{a=e.queryCommandState(f)}catch(g){a=!1}d[f].toggle(a)}}var b,c,d,e,f,g,h,i,j=this;if(!j.readOnly){if(!j.activated)return void j.onFirstFocus();for(d=j.getToolbar().items.map,e=j.getDoc(),j.enableFont&&!Ext.isSafari2&&(g=e.queryCommandValue("fontName"),f=(g?g.split(",")[0].replace(/^'/,"").replace(/'$/,""):j.defaultFont).toLowerCase(),h=j.fontSelect.dom,(f!==h.value||f!=g)&&(h.value=f)),j.enableFormat&&a("bold","italic","underline"),j.enableAlignments&&a("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&j.enableLists&&a("insertorderedlist","insertunorderedlist"),i=j.toolbar.query("menu"),b=0;b<i.length;b++)i[b].hide();j.syncValue()}},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){Ext.defer(function(){var c=this;this.isDestroyed||(c.win.focus(),c.execCmd(a,b),c.updateToolbar())},10,this)},execCmd:function(a,b){var c=this,d=c.getDoc();d.execCommand(a,!1,void 0==b?null:b),c.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b,c=this,d=a.getCharCode();if(d>0){switch(d=String.fromCharCode(d)){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline"}b&&(c.win.focus(),c.execCmd(b),c.deferFocus(),a.preventDefault())}}},insertAtCursor:function(a){var b,c=this;c.activated&&(c.win.focus(),Ext.isIE?(b=c.getDoc().selection.createRange(),b&&(b.pasteHTML(a),c.syncValue(),c.deferFocus())):(c.execCmd("InsertHTML",a),c.deferFocus()))},fixKeys:function(){return Ext.isIE?function(a){var b,c,d=this,e=a.getKey(),f=d.getDoc(),g=d.readOnly;e===a.TAB?(a.stopEvent(),g||(b=f.selection.createRange(),b&&(b.collapse&&(b.collapse(!0),b.pasteHTML("&#160;&#160;&#160;&#160;")),d.deferFocus()))):e===a.ENTER&&(g||(b=f.selection.createRange(),b&&(c=b.parentElement(),c&&"li"===c.tagName.toLowerCase()||(a.stopEvent(),b.pasteHTML("<br />"),b.collapse(!1),b.select()))))}:Ext.isOpera?function(a){var b=this,c=a.getKey(),d=b.readOnly;c===a.TAB&&(a.stopEvent(),d||(b.win.focus(),b.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),b.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(a){var b,c=this,d=a.getKey(),e=c.getDoc(),f=c.readOnly;f||d!==a.BACKSPACE&&d!==a.DELETE||(b=e.body.innerHTML,("<p>&nbsp;</p>"===b||"<P>&nbsp;</P>"===b)&&(e.body.innerHTML=""))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}},0,["htmleditor"],["htmleditor","component","container","fieldcontainer","box"],{htmleditor:!0,component:!0,container:!0,fieldcontainer:!0,box:!0},["widget.htmleditor"],[["field",Ext.form.field.Field]],[Ext.form.field,"HtmlEditor",Ext.form,"HtmlEditor"],0),Ext.cmd.derive("Ext.picker.Time",Ext.view.BoundList,{increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var a=this,b=Ext.Date,c=b.clearTime,d=a.initDate;a.absMin=c(new Date(d[0],d[1],d[2])),a.absMax=b.add(c(new Date(d[0],d[1],d[2])),"mi",1439),a.store=a.createStore(),a.store.addFilter(a.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),!1),a.updateList(),a.callParent()},setMinValue:function(a){this.minValue=a,this.updateList()},setMaxValue:function(a){this.maxValue=a,this.updateList()},normalizeDate:function(a){var b=this.initDate;return a.setFullYear(b[0],b[1],b[2]),a},updateList:function(){var a=this,b=a.normalizeDate(a.minValue||a.absMin),c=a.normalizeDate(a.maxValue||a.absMax);a.rangeFilter.setFilterFn(function(a){var d=a.get("date");return d>=b&&c>=d}),a.store.filter()},createStore:function(){for(var a=this,b=Ext.Date,c=[],d=a.absMin,e=a.absMax;e>=d;)c.push({disp:b.dateFormat(d,a.format),date:d}),d=b.add(d,"mi",a.increment);return new Ext.data.Store({fields:["disp","date"],data:c})},focusNode:function(){return!1}},0,["timepicker"],["timepicker","component","boundlist","box","dataview"],{timepicker:!0,component:!0,boundlist:!0,box:!0,dataview:!0},["widget.timepicker"],0,[Ext.picker,"Time"],0),Ext.cmd.derive("Ext.form.field.Time",Ext.form.field.ComboBox,{alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var a=this,b=a.minValue,c=a.maxValue;b&&a.setMinValue(b),c&&a.setMaxValue(c),a.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+a.displayField+'"])]}<tpl if="xindex < xcount">'+a.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(a.formatDate,a)}),this.callParent()},transformOriginalValue:function(a){return Ext.isString(a)?this.rawToValue(a):a},isEqual:function(a,b){return Ext.Date.isEqual(a,b)},setMinValue:function(a){var b=this,c=b.picker;b.setLimit(a,!0),c&&c.setMinValue(b.minValue)},setMaxValue:function(a){var b=this,c=b.picker;b.setLimit(a,!1),c&&c.setMaxValue(b.maxValue)},setLimit:function(a,b){var c,d,e=this;Ext.isString(a)?c=e.parseDate(a):Ext.isDate(a)&&(c=a),c?(d=Ext.Date.clearTime(new Date(e.initDate)),d.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())):d=null,e[b?"minValue":"maxValue"]=d},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(a){var b,c=this,d=Ext.String.format,e=c.callParent(arguments),f=c.minValue,g=c.maxValue;return a=c.formatDate(a||c.processRawValue(c.getRawValue())),null===a||a.length<1?e:(b=c.parseDate(a))?(f&&f>b&&e.push(d(c.minText,c.formatDate(f))),g&&b>g&&e.push(d(c.maxText,c.formatDate(g))),e):(e.push(d(c.invalidText,a,Ext.Date.unescapeFormat(c.format))),e)},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(a){var b,c=this,d=a,e=c.altFormats,f=c.altFormatsArray,g=0;if(a&&!Ext.isDate(a)&&(d=c.safeParse(a,c.format),!d&&e))for(f=f||e.split("|"),b=f.length;b>g&&!d;++g)d=c.safeParse(a,f[g]);return d&&c.snapToIncrement&&(d=new Date(Ext.Number.snap(d.getTime(),60*c.increment*1e3))),d},safeParse:function(a,b){var c,d=this,e=Ext.Date,f=null;return e.formatContainsDateInfo(b)?f=e.parse(a,b):(c=e.parse(d.initDate+" "+a,d.initDateFormat+" "+b),c&&(f=c)),f},getSubmitValue:function(){var a=this,b=a.submitFormat||a.format,c=a.getValue();return c?Ext.Date.format(c,b):null},createPicker:function(){var a,b=this;return b.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:void 0,minValue:b.minValue,maxValue:b.maxValue,increment:b.increment,format:b.format,maxHeight:b.pickerMaxHeight},b.listConfig),a=b.callParent(),b.bindStore(a.store),a},onItemClick:function(a,b){var c=this,d=a.getSelectionModel().getSelection();d.length>0&&(d=d[0],d&&Ext.Date.isEqual(b.get("date"),d.get("date"))&&c.collapse())},onListSelectionChange:function(a,b){if(b.length){var c=this,d=b[0].get("date");c.ignoreSelection||(c.skipSync=!0,c.setValue(d),c.skipSync=!1,c.fireEvent("select",c,d),c.picker.clearHighlight(),c.collapse(),c.inputEl.focus())}},syncSelection:function(){var a,b,c,d,e,f,g,h=this,i=h.picker;if(i&&!h.skipSync){if(i.clearHighlight(),c=h.getValue(),b=i.getSelectionModel(),h.ignoreSelection++,null===c)b.deselectAll();else if(Ext.isDate(c)){for(d=i.store.data.items,f=d.length,e=0;f>e;e++)if(g=d[e],Ext.Date.isEqual(g.get("date"),c)){a=g;break}b.select(a)}h.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();a.callParent(arguments),a.wasValid&&b&&a.setRawValue(a.formatDate(b))},setValue:function(){return this.getPicker(),this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}},0,["timefield"],["field","trigger","combobox","timefield","textfield","pickerfield","component","combo","box","triggerfield"],{field:!0,trigger:!0,combobox:!0,timefield:!0,textfield:!0,pickerfield:!0,component:!0,combo:!0,box:!0,triggerfield:!0},["widget.timefield"],0,[Ext.form.field,"Time",Ext.form,"TimeField",Ext.form,"Time"],0),Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:!0,constructor:function(a){this.view=a},setPosition:function(a,b){var c=this;return 1===arguments.length&&(a.view&&(c.view=a.view),b=a.column,a=a.row),c.setRow(a),c.setColumn(b),c},setRow:function(a){var b=this;void 0!==a&&("number"==typeof a?(b.row=Math.max(Math.min(a,b.view.dataSource.getCount()-1),0),b.record=b.view.dataSource.getAt(a)):a.isModel?(b.record=a,b.row=b.view.indexOf(a)):a.tagName&&(b.record=b.view.getRecord(a),b.row=b.view.indexOf(b.record)))},setColumn:function(a){var b=this,c=b.view.ownerCt.columnManager;void 0!==a&&("number"==typeof a?(b.column=a,b.columnHeader=c.getHeaderAtIndex(a)):a.isHeader&&(b.columnHeader=a,b.column=c.getHeaderIndex(a)))}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0),Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{constructor:function(a){a=Ext.apply({},a),a.field&&(a.field.monitorTab=!1),this.callParent([a])},onShow:function(){var a=this,b=a.boundEl.first();b&&(a.isForTree&&(b=b.child(a.treeNodeSelector)),b.hide()),a.callParent(arguments)},onHide:function(){var a=this,b=a.boundEl.first();b&&(a.isForTree&&(b=b.child(a.treeNodeSelector)),b.show()),a.callParent(arguments)},afterRender:function(){var a=this,b=a.field;a.callParent(arguments),b.isCheckbox&&b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(a){var b,c=this,d=c.boundEl,e=d.first(),f=d.getWidth(),g=Ext.Array.clone(c.offsets),h=c.grid;c.isForTree&&(b=c.getTreeNodeOffset(e),f-=Math.abs(b),g[0]+=b),h.columnLines&&(f-=d.getBorderWidth("rl")),a===!0&&c.field.setWidth(f),c.alignTo(e,c.alignment,g)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(a){var b=this.field;b.onEditorTab&&b.onEditorTab(a)},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1},1,0,["editor","component","container","box"],{editor:!0,component:!0,container:!0,box:!0},0,0,[Ext.grid,"CellEditor"],0),Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:!0,beginLayout:function(a){var b=this;b.callParent(arguments),a.titleContext=a.getEl("titleEl"),a.triggerContext=a.getEl("triggerEl")},beginLayoutCycle:function(a){var b=this,c=b.owner;b.callParent(arguments),a.widthModel.shrinkWrap&&c.el.setWidth("");var d=c.isLast&&c.isSubHeader?"0":"";d!==b.lastBorderRightWidth&&(c.el.dom.style.borderRightWidth=b.lasBorderRightWidth=d),c.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(a,b){if(b){var c,d,e,f,g=this,h=g.owner,i=b-a.getBorderInfo().height,j=i;if(!h.noWrap&&!a.hasDomProp("width"))return void(g.done=!1);a.hasRawContent?(d=j,c=h.textEl.getHeight(),c&&(j-=c,j>0&&(e=Math.floor(j/2),f=j-e,a.titleContext.setProp("padding-top",e),a.titleContext.setProp("padding-bottom",f)))):(d=h.titleEl.getHeight(),a.setProp("innerHeight",i-d,!1)),(Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext&&a.triggerContext.setHeight(d)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishOwnerHeight:function(a,b){this.callParent(arguments),(Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext&&a.triggerContext.setHeight(b)},publishInnerWidth:function(a,b){a.hasRawContent||a.setProp("innerWidth",b-a.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);return a.hasRawContent?c:this.owner.noWrap||a.hasDomProp("width")?b+this.owner.titleEl.getHeight()+a.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.owner,d=Math.max(b,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width),e=a.getPaddingInfo().width,f=this.getTriggerOffset(c,a);return d+e+f},getTriggerOffset:function(a,b){var c=0;return b.widthModel.shrinkWrap&&!a.menuDisabled&&0===a.query(">:not([hidden])").length&&(c=a.self.triggerElWidth),c}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0),Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.scrollbarWidth||(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width),this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(a){var b,c,d=this,e=d.owner,f=d.grid,g=f.view,h=d.getVisibleItems(),i=h.length,j=d.firstHeaderCls,k=d.lastHeaderCls;for(f.lockable&&(g=e.up("tablepanel")===g.normalGrid?g.normalGrid.getView():null),b=0;i>b;b++)c=h[b],c.isLast=!1,c.removeCls([j,k]),0===b&&c.addCls(j),b===i-1&&(c.addCls(k),c.isLast=!0);d.callParent(arguments),!e.isColumn&&Ext.getScrollbarSize().width&&!f.collapsed&&g&&g.rendered&&(a.viewTable=g.body.dom)&&(a.viewContext=a.context.getCmp(g))},roundFlex:function(a){return Math.floor(a)},calculate:function(a){this.callParent(arguments),!a.state.parallelDone||this.owner.forceFit&&!a.flexedItems.length||a.setProp("columnWidthsDone",!0),a.viewContext&&(a.state.tableHeight=a.viewTable.offsetHeight)},completeLayout:function(a){var b=this,c=b.owner,d=a.state;b.callParent(arguments),!a.flexedItems.length&&!d.flexesCalculated&&c.forceFit&&b.convertWidthsToFlexes(a)?(b.cacheFlexes(a),a.invalidate({state:{flexesCalculated:!0}})):a.setProp("columnWidthsDone",!0)},convertWidthsToFlexes:function(a){var b,c,d,e,f,g=this,h=0,i=g.sizeModels.calculated;for(b=a.childItems,c=b.length,d=0;c>d;d++)e=b[d],f=e.target,h+=e.props.width,f.fixed||f.resizable===!1||(f.flex=a.childItems[d].flex=e.props.width,f.width=null,e.widthModel=i);return h!==a.props.width},getContainerSize:function(a){var b,c,d=this,e=a.viewContext;return d.owner.isColumn?b=d.getColumnContainerSize(a):(b=d.callParent(arguments),e&&!e.heightModel.shrinkWrap&&e.target.componentLayout.ownerContext&&(c=e.getProp("height"),isNaN(c)?d.done=!1:a.state.tableHeight>c&&(b.width-=Ext.getScrollbarSize().width,a.state.parallelDone=!1,e.invalidate()))),b},getColumnContainerSize:function(a){var b,c,d,e,f=a.paddingContext.getPaddingInfo(),g=0,h=0;return a.widthModel.shrinkWrap||(++h,d=a.getProp("innerWidth"),b="number"==typeof d,b&&(++g,d-=f.width,0>d&&(d=0))),a.heightModel.shrinkWrap||(++h,e=a.getProp("innerHeight"),c="number"==typeof e,c&&(++g,e-=f.height,0>e&&(e=0))),{width:d,height:e,needed:h,got:g,gotAll:g==h,gotWidth:b,gotHeight:c}},publishInnerCtSize:function(a){var b,c=this,d=a.state.boxPlan.targetSize,e=a.peek("contentWidth");return c.owner.tooNarrow=a.state.boxPlan.tooNarrow,null==e||c.owner.isColumn||(d.width=e,b=c.owner.ownerCt.view,b.scrollFlags.y&&(d.width+=Ext.getScrollbarSize().width)),c.callParent(arguments)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0),Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b){this.headerCt=a,b&&(this.secondHeaderCt=b)},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},getHeaderIndex:function(a){return a.isGroupHeader&&(a=a.down(":not([isGroupHeader])")),Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){var b=this.getColumns();return b.length?b[a]:null},getHeaderById:function(a){var b,c,d=this.getColumns(),e=d.length;for(b=0;e>b;++b)if(c=d[b],c.getItemId()===a)return c;return null},getVisibleHeaderClosestToIndex:function(a){var b=this.getHeaderAtIndex(a);return b&&b.hidden&&(b=b.next(":not([hidden])")||b.prev(":not([hidden])")),b},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns(),this.secondHeaderCt&&Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())},invalidate:function(){this.columns=null,this.rootColumns&&this.rootColumns.invalidate()}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel(),d=(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2);return this.sizePolicies[d]},beginLayoutCycle:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m.lastHeightModel&&m.lastHeightModel.calculated,o=m.lastWidthModel&&m.lastWidthModel.calculated,p=o||n,q=0,r=0;for(m.callParent(arguments),p&&"TD"!=a.targetContext.el.dom.tagName.toUpperCase()&&(p=o=n=!1),d=a.childItems,g=d.length,e=0;g>e;++e)f=d[e],b&&(c=f.target,i=c.minHeight,j=c.minWidth,(j||i)&&(h=f.marginInfo||f.getMarginInfo(),i+=h.height,j+=h.height,i>q&&(q=i),j>r&&(r=j))),p&&(k=f.el.dom.style,n&&(k.height=""),o&&(k.width=""));b&&(a.maxChildMinHeight=q,a.maxChildMinWidth=r),c=a.target,a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&c.scrollFlags.x||l,a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&c.scrollFlags.y||l},calculate:function(a){var b,c,d,e,f,g,h=this,i=a.childItems,j=i.length,k=h.getContainerSize(a),l={length:j,ownerContext:a,targetSize:k},m=a.widthModel.shrinkWrap,n=a.heightModel.shrinkWrap,o=a.overflowX,p=a.overflowY;for((o||p)&&(b=h.getScrollbarsNeeded(o&&k.width,p&&k.height,a.maxChildMinWidth,a.maxChildMinHeight),b&&(c=Ext.getScrollbarSize(),1&b&&(k.height-=c.height),2&b&&(k.width-=c.width))),e=0;j>e;++e)l.index=e,h.fitItem(i[e],l);(n||m)&&(d=a.targetContext.getPaddingInfo(),m&&(p&&!k.gotHeight?h.done=!1:(f=l.contentWidth+d.width,2&b&&(f+=c.width),a.setContentWidth(f)||(h.done=!1))),n&&(o&&!k.gotWidth?h.done=!1:(g=l.contentHeight+d.height,1&b&&(g+=c.height),a.setContentHeight(g)||(h.done=!1))))},fitItem:function(a,b){var c=this;return a.invalid?void(c.done=!1):(b.margins=a.getMarginInfo(),b.needed=b.got=0,c.fitItemWidth(a,b),c.fitItemHeight(a,b),void(b.got!=b.needed&&(c.done=!1)))},fitItemWidth:function(a,b){var c,d;b.ownerContext.widthModel.shrinkWrap?(d=a.getProp("width")+b.margins.width,c=b.contentWidth,b.contentWidth=void 0===c?d:Math.max(c,d)):a.widthModel.calculated&&(++b.needed,b.targetSize.gotWidth&&(++b.got,this.setItemWidth(a,b))),this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;b.ownerContext.heightModel.shrinkWrap?(d=a.getProp("height")+b.margins.height,c=b.contentHeight,b.contentHeight=void 0===c?d:Math.max(c,d)):a.heightModel.calculated&&(++b.needed,b.targetSize.gotHeight&&(++b.got,this.setItemHeight(a,b))),this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;(b.index||c.left)&&a.setProp("x",c.left),c.width&&a.setProp("margin-right",c.width)},positionItemY:function(a,b){var c=b.margins;(b.index||c.top)&&a.setProp("y",c.top),c.height&&a.setProp("margin-bottom",c.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0),Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var a,b,c,d,e=this,f=e.columns||e.colModel,g=e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store");
if(e.columnLines&&e.addCls(e.colLinesCls),e.addCls(e.rowLines?e.rowLinesCls:e.noRowLinesCls),f instanceof Ext.grid.header.Container?(f.isRootHeader=!0,e.headerCt=f):e.enableLocking||e.hasLockedColumns(f)?(e.self.mixin("lockable",Ext.grid.locking.Lockable),e.injectLockable()):(Ext.isArray(f)&&(f={items:f}),Ext.apply(f,{grid:e,forceFit:e.forceFit,sortable:e.sortableColumns,enableColumnMove:e.enableColumnMove,enableColumnResize:e.enableColumnResize,sealed:e.sealedColumns,isRootHeader:!0}),Ext.isDefined(e.enableColumnHide)&&(f.enableColumnHide=e.enableColumnHide),e.headerCt||(e.headerCt=new Ext.grid.header.Container(f))),e.columns=e.headerCt.getGridColumns(),e.scrollTask=new Ext.util.DelayedTask(e.syncHorizontalScroll,e),e.addEvents("reconfigure","viewready"),e.bodyCls=e.bodyCls||"",e.bodyCls+=" "+e.extraBodyCls,e.cls=e.cls||"",e.cls+=" "+e.extraBaseCls,delete e.autoScroll,!e.hasView){if(d=e.headerCt.getGridColumns(),g.buffered&&!g.remoteSort)for(b=0,c=d.length;c>b;b++)d[b].sortable=!1;e.hideHeaders&&(e.headerCt.height=0,e.headerCt.hiddenHeaders=!0,e.headerCt.addCls(e.hiddenHeaderCtCls),e.addCls(e.hiddenHeaderCls),Ext.isIEQuirks&&(e.headerCt.style={display:"none"})),e.relayHeaderCtEvents(e.headerCt),e.features=e.features||[],Ext.isArray(e.features)||(e.features=[e.features]),e.dockedItems=[].concat(e.dockedItems||[]),e.dockedItems.unshift(e.headerCt),e.viewConfig=e.viewConfig||{},a=e.getView(),e.items=[a],e.hasView=!0,e.hideHeaders||a.on({scroll:{fn:e.onHorizontalScroll,element:"el",scope:e}}),e.bindStore(g,!0),e.mon(a,{viewready:e.onViewReady,refresh:e.onRestoreHorzScroll,scope:e})}e.relayEvents(e.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]),e.callParent(arguments),e.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]),!e.lockable&&e.headerCt&&e.headerCt.on("afterlayout",e.onRestoreHorzScroll,e)},hasLockedColumns:function(a){var b,c,d;for(Ext.isObject(a)&&(a=a.items),b=0,c=a.length;c>b;b++)if(d=a[b],!d.processed&&d.locked)return!0},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var a=this,b=a.callParent(),c=a.store.getState();return b=a.addPropertyToState(b,"columns",a.headerCt.getColumnsState()),c&&(b.storeState=c),b},applyState:function(a){var b=this,c=a.sort,d=a.storeState,e=b.store,f=a.columns;delete a.columns,b.callParent(arguments),f&&b.headerCt.applyColumnsState(f),c?e.remoteSort?e.sort({property:c.property,direction:c.direction,root:c.root},null,!1):e.sort(c.property,c.direction):d&&e.applyState(d)},getStore:function(){return this.store},getView:function(){var a,b=this;return b.view||(a=b.getSelectionModel(),Ext.widget(Ext.apply({grid:b,deferInitialRefresh:b.deferRowRender!==!1,trackOver:b.trackMouseOver!==!1,scroll:b.scroll,xtype:b.viewType,store:b.store,headerCt:b.headerCt,columnLines:b.columnLines,rowLines:b.rowLines,selModel:a,features:b.features,panel:b,emptyText:b.emptyText||""},b.viewConfig)),b.view.emptyText&&(b.view.emptyText='<div class="'+b.emptyCls+'">'+b.view.emptyText+"</div>"),b.view.getComponentLayout().headerCt=b.headerCt,b.mon(b.view,{uievent:b.processEvent,scope:b}),a.view=b.view,b.headerCt.view=b.view),b.view},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e){var f,g=this;return-1!==e?(f=g.columnManager.getColumns()[e],f.processEvent.apply(f,arguments)):void 0},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){var a=this;a.saveScrollPos(),a.saveScrollPos(),a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments),a.restoreScrollPos(),a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(a,b,c,d,e){var f=this;f.optimizedColumnMove===!1?f.view.refresh():f.view.moveColumn(d,e,c),f.delayScroll()},onHeaderHide:function(){this.view.refresh(),this.delayScroll()},onHeaderShow:function(){this.view.refresh(),this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;a&&this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;a&&this.syncHorizontalScroll(a,!0)},getScrollerOwner:function(){var a=this;return this.scrollerOwner||(a=this.up("[scrollerOwner]")),a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},!0))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},!0))},getSelectionModel:function(){var a,b,c,d=this,e=d.selModel;return e||(e={},a=!0),e.events||(c=e.selType||d.selType,a=!e.mode,e=d.selModel=Ext.create("selection."+c,e)),d.simpleSelect?b="SIMPLE":d.multiSelect&&(b="MULTI"),Ext.applyIf(e,{allowDeselect:d.allowDeselect}),b&&a&&e.setSelectionMode(b),e.hasRelaySetup||(d.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect"]),e.hasRelaySetup=!0),d.disableSelection&&(e.locked=!0),e},getScrollTarget:function(){var a=this.getScrollerOwner(),b=a.query("tableview");return b[1]||b[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,b){var c,d=this;b=b===!0,d.rendered&&(b||a!==d.scrollLeftPos)&&(b&&(c=d.getScrollTarget(),c.el.dom.scrollLeft=a),d.headerCt.el.dom.scrollLeft=a,d.scrollLeftPos=a)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a,b){var c,d=this,e=d.getView(),f=a&&a.buffered;d.store=a,c=d.findPlugin("bufferedrenderer"),c?(d.verticalScroller=c,c.store&&c.bindStore(a)):f&&(d.verticalScroller=c=d.addPlugin(Ext.apply({ptype:"bufferedrenderer"},d.initialConfig.verticalScroller))),e.store!==a&&(b?e.bindStore(a,!1,"dataSource"):e.bindStore(a,!1)),d.mon(a,{load:d.onStoreLoad,scope:d}),d.storeRelayers=d.relayEvents(a,["filterchange"]),c&&(d.invalidateScrollerOnRefresh=!1),void 0!==d.invalidateScrollerOnRefresh&&(e.preserveScrollOnRefresh=!d.invalidateScrollerOnRefresh)},unbindStore:function(){var a=this,b=a.store;b&&(a.store=null,a.mun(b,{load:a.onStoreLoad,scope:a}),Ext.destroy(a.storeRelayers))},reconfigure:function(a,b){var c,d=this,e=d.getView(),f=d.store,g=d.headerCt,h=g?g.items.getRange():d.columns;b&&(b=Ext.Array.slice(b)),d.fireEvent("beforereconfigure",d,a,b,f,h),d.lockable?d.reconfigureLockable(a,b):(Ext.suspendLayouts(),b&&(delete d.scrollLeftPos,g.removeAll(),g.add(b)),a&&(a=Ext.StoreManager.lookup(a))!==f?(d.store&&d.unbindStore(),c=e.deferInitialRefresh,e.deferInitialRefresh=!1,d.bindStore(a),e.deferInitialRefresh=c):d.getView().refresh(),g.setSortState(),Ext.resumeLayouts(!0)),d.fireEvent("reconfigure",d,a,b,f,h)},beforeDestroy:function(){var a=this.scrollTask;a&&(a.cancel(),this.scrollTask=null),this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable(),this.callParent()}},0,["tablepanel"],["panel","component","tablepanel","container","box"],{panel:!0,component:!0,tablepanel:!0,container:!0,box:!0},["widget.tablepanel"],0,[Ext.panel,"Table"],0),Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var a,b=null,c=document,d=/(-[a-z])/gi,e=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:!0,rules:b,initialized:!1,constructor:function(){a=this},createStyleSheet:function(b,d){var e,f=c.getElementsByTagName("head")[0],g=c.createElement("style");if(g.setAttribute("type","text/css"),d&&g.setAttribute("id",d),Ext.isIE)f.appendChild(g),e=g.styleSheet,e.cssText=b;else{try{g.appendChild(c.createTextNode(b))}catch(h){g.cssText=b}f.appendChild(g),e=g.styleSheet?g.styleSheet:g.sheet||c.styleSheets[c.styleSheets.length-1]}return a.cacheStyleSheet(e),e},removeStyleSheet:function(a){var b=c.getElementById(a);b&&b.parentNode.removeChild(b)},swapStyleSheet:function(b,d){var e;a.removeStyleSheet(b),e=c.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("id",b),e.setAttribute("href",d),c.getElementsByTagName("head")[0].appendChild(e)},refreshCache:function(){return a.getRules(!0)},cacheStyleSheet:function(c){b||(b=a.rules={});try{var d,e,f=c.cssRules||c.rules,g=f.length-1,h=c.imports,i=h?h.length:0;for(e=0;i>e;++e)a.cacheStyleSheet(h[e]);for(;g>=0;--g)d=f[g],d.styleSheet&&a.cacheStyleSheet(d.styleSheet),a.cacheRule(d,c)}catch(j){}},cacheRule:function(c,d){if(c.styleSheet)return a.cacheStyleSheet(c.styleSheet);var e,f,g=c.selectorText;if(g)for(g=g.split(","),e=g.length,f=0;e>f;f++)b[Ext.String.trim(g[f]).toLowerCase()]={parentStyleSheet:d,cssRule:c}},getRules:function(c){var d,e={};(null===b||c)&&a.refreshCache();for(d in b)e[d]=b[d].cssRule;return e},refreshCache:function(){var d=c.styleSheets,e=0,f=d.length;for(b=a.rules={};f>e;e++)try{d[e].disabled||a.cacheStyleSheet(d[e])}catch(g){}},getRule:function(c,d,e){var f,g;if((!b||d)&&a.refreshCache(),!Ext.isArray(c))return g=b[c.toLowerCase()],g&&!e&&(g=g.cssRule),g||null;for(f=0;f<c.length;f++)if(b[c[f]])return e?b[c[f].toLowerCase()]:b[c[f].toLowerCase()].cssRule;return null},createRule:function(b,c,d){var e,f=b.cssRules||b.rules,g=f.length;return b.insertRule?b.insertRule(c+"{"+d+"}",g):b.addRule(c,d||" "),a.cacheRule(e=f[g],b),e},updateRule:function(b,c,f){var g,h,i;if(Ext.isArray(b)){for(h=0;h<b.length;h++)if(a.updateRule(b[h],c,f))return!0}else if(g=a.getRule(b)){if(2==arguments.length){i=Ext.Element.parseStyles(c);for(c in i)g.style[c.replace(d,e)]=i[c]}else g.style[c.replace(d,e)]=f;return!0}return!1},deleteRule:function(c){var d,e,f=a.getRule(c,!1,!0);f&&(d=f.parentStyleSheet,e=Ext.Array.indexOf(d.cssRules||d.rules,f.cssRule),d.deleteRule?d.deleteRule(e):d.removeRule(e),delete b[c])}}},1,0,0,0,0,0,[Ext.util,"CSS"],0),Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(a){var b=this,c=b.owner.lockingPartner,d=b.owner;b.callParent(arguments),c&&(b.lockedGrid=b.owner.up("[lockable]"),b.lockedGrid.needsRowHeightSync=!0,a.lockingPartner||(a.lockingPartner=a.context.getItem(c,c.el),a.lockingPartner&&!a.lockingPartner.lockingPartner&&(a.lockingPartner.lockingPartner=a))),a.headerContext=a.context.getCmp(b.headerCt),b.owner.body.dom&&(a.bodyContext=a.getEl(b.owner.body)),Ext.isWebKit&&d.el.select(d.getBodySelector()).setStyle("table-layout","auto")},calculate:function(a){var b,c=this,d=c.lockingPartner,e=c.owner,f=0;if(a.headerContext.hasProp("columnWidthsDone")){if(!c.setColumnWidths(a))return void(c.done=!1);a.state.columnWidthsSynced=!0,a.bodyContext&&(b=c.owner.el.down("."+e.ownerCt.emptyCls,!0),b?f=b.offsetHeight:(f=a.bodyContext.el.dom.offsetHeight,a.bodyContext.setHeight(f,!1)),a.setProp("contentHeight",f)),d&&!d.state.columnWidthsSynced?c.done=!1:c.callParent(arguments)}else c.done=!1},measureContentHeight:function(a){var b=a.lockingPartner;return!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced)?this.callParent(arguments):void 0},setColumnWidths:function(a){var b,c,d,e=this,f=e.owner,g=a.context,h=e.headerCt.getVisibleGridColumns(),i=0,j=h.length,k=0,l=0,m=!Ext.isBorderBox;for(g&&(g.currentLayout=e),i=0;j>i;i++){if(b=h[i],c=g.getCmp(b),d=c.props.width,isNaN(d))return c.getProp("width"),!1;k+=d,m&&f.columnLines&&(l||(l=g.getCmp(b).borderInfo.width||1),d-=l),f.body.select(f.getColumnSizerSelector(b)).setWidth(d)}return f.el.select(f.getBodySelector()).setWidth(k),!0},finishedLayout:function(){var a=this,b=a.owner;a.callParent(arguments),Ext.isWebKit&&b.el.select(b.getBodySelector()).setStyle("table-layout",""),b.refreshCounter&&a.lockedGrid&&a.lockedGrid.syncRowHeight&&a.lockedGrid.needsRowHeightSync&&(a.lockedGrid.syncRowHeights(),a.lockedGrid.needsRowHeightSync=!1)}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0),Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{constructor:function(a){this.view=a,this.clear(),this.el=new Ext.dom.AbstractElement.Fly},clear:function(a){var b,c,d=this,e=this.elements;if(a)for(b in e)c=e[b],c.parentNode.removeChild(c);d.elements={},d.count=d.startIndex=0,d.endIndex=-1},fill:function(a,b){var c,d=this,e=d.elements={},f=a.length;for(b||(b=0),c=0;f>c;c++)e[b+c]=a[c];return d.startIndex=b,d.endIndex=b+f-1,d.count=f,this},insert:function(a,b){var c,d=this,e=d.elements,f=b.length;if(d.count){if(a<d.count)for(c=d.endIndex+f;c>=a+f;c--)e[c]=e[c-f],e[c].setAttribute("data-recordIndex",c);d.endIndex=d.endIndex+f}else d.startIndex=a,d.endIndex=a+f-1;for(c=0;f>c;c++,a++)e[a]=b[c],e[a].setAttribute("data-recordIndex",a);d.count+=f},item:function(a,b){var c=this.elements[a],d=null;return c&&(d=b?this.elements[a]:this.el.attach(this.elements[a])),d},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(a,b){var c,d=this.elements,e=[];for(b=arguments.length<2?this.endIndex:Math.min(this.endIndex,b-1),c=a||this.startIndex;b>=c;c++)e.push(d[c]);return e},replaceElement:function(a,b,c){var d=this.elements,e="number"==typeof a?a:this.indexOf(a);return e>-1&&(b=Ext.getDom(b),c&&(a=d[e],a.parentNode.insertBefore(b,a),Ext.removeNode(a),b.setAttribute("data-recordIndex",e)),this.elements[e]=b),this},indexOf:function(a){var b,c=this.elements;for(a=Ext.getDom(a),b=this.startIndex;b<=this.endIndex;b++)if(c[b]===a)return b;return-1},removeRange:function(a,b,c){var d,e,f,g,h=this,i=h.elements;for(b=void 0===b?h.count:Math.min(h.endIndex+1,b+1),a||(a=0),f=b-a,e=a,g=b;e<h.endIndex;e++,g++)c&&b>e&&Ext.removeNode(i[e]),g<=h.endIndex?(d=i[e]=i[g],d.setAttribute("data-recordIndex",e)):delete i[e];h.count-=f,h.endIndex-=f},removeElement:function(a,b){var c,d,e,f,g,h,i=this,j=i.elements,k=0;if(Ext.isArray(a)){for(c=a,a=[],f=c.length,k=0;f>k;k++)d=c[k],"number"!=typeof d&&(d=i.indexOf(d)),d>=i.startIndex&&d<=i.endIndex&&(a[a.length]=d);Ext.Array.sort(a),f=a.length}else{if(a<i.startIndex||a>i.endIndex)return;f=1,a=[a]}for(g=h=a[0],k=0;g<=i.endIndex;g++,h++)f>k&&g===a[k]&&(h++,k++,b&&Ext.removeNode(j[g])),h<=i.endIndex&&h>=i.startIndex?(e=j[g]=j[h],e.setAttribute("data-recordIndex",g)):delete j[g];i.endIndex-=f,i.count-=f},scroll:function(a,b,c){var d,e,f,g,h=this,i=h.elements,j=a.length,k=h.view.getNodeContainer(),l=document.createDocumentFragment();if(-1==b){for(d=h.endIndex-c+1;d<=h.endIndex;d++)e=i[d],delete i[d],e.parentNode.removeChild(e);for(h.endIndex-=c,g=h.view.bufferRender(a,h.startIndex-=j),d=0;j>d;d++)i[h.startIndex+d]=g[d],l.appendChild(g[d]);k.insertBefore(l,k.firstChild)}else{for(f=h.startIndex+c,d=h.startIndex;f>d;d++)e=i[d],delete i[d],e.parentNode.removeChild(e);for(h.startIndex=d,g=h.view.bufferRender(a,h.endIndex+1),d=0;j>d;d++)i[h.endIndex+=1]=g[d],l.appendChild(g[d]);k.appendChild(l)}h.count=h.endIndex-h.startIndex+1}},1,0,0,0,0,0,[Ext.view,"NodeCache"],0),Ext.cmd.derive("Ext.view.Table",Ext.view.View,{componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){a.grid.isTree&&(a.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([a])},initComponent:function(){var a=this,b=a.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown"),a.body=new Ext.dom.Element.Fly,a.body.id=a.id+"gridBody",a.autoScroll=void 0,a.trackOver||(a.overItemCls=null,a.beforeOverItemCls=null),b===!0||"both"===b?a.autoScroll=!0:"horizontal"===b?a.overflowX="auto":"vertical"===b&&(a.overflowY="auto"),a.selModel.view=a,a.headerCt.view=a,a.grid.view=a,a.initFeatures(a.grid),delete a.grid,a.tpl=a.getTpl("tpl"),a.itemSelector=a.getItemSelector(),a.all=new Ext.view.NodeCache(a),a.callParent()},moveColumn:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=c>1?document.createDocumentFragment():void 0,m=b,n=k.getGridColumns().length,o=n-1,p=(k.firstCls||k.lastCls)&&(0===b||b==n||0===a||a==o);if(k.rendered&&b!==a){for(f=k.el.query(k.getDataRowSelector()),b>a&&l&&(m-=c),d=0,g=f.length;g>d;d++){if(h=f[d],i=h.childNodes,p){if(1===i.length){Ext.fly(i[0]).addCls(k.firstCls),Ext.fly(i[0]).addCls(k.lastCls);continue}0===a?(Ext.fly(i[0]).removeCls(k.firstCls),Ext.fly(i[1]).addCls(k.firstCls)):a===o&&(Ext.fly(i[o]).removeCls(k.lastCls),Ext.fly(i[o-1]).addCls(k.lastCls)),0===b?(Ext.fly(i[0]).removeCls(k.firstCls),Ext.fly(i[a]).addCls(k.firstCls)):b===n&&(Ext.fly(i[o]).removeCls(k.lastCls),Ext.fly(i[a]).addCls(k.lastCls))}if(l){for(e=0;c>e;e++)l.appendChild(i[a]);h.insertBefore(l,i[m]||null)}else h.insertBefore(i[a],i[m]||null)}for(j=k.el.query(k.getBodySelector()),d=0,g=j.length;g>d;d++)if(h=j[d],l){for(e=0;c>e;e++)l.appendChild(h.childNodes[a]);h.insertBefore(l,h.childNodes[m]||null)}else h.insertBefore(h.childNodes[a],h.childNodes[m]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a,!0);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;return b?b.get(a):void 0},findFeature:function(a){return this.features?Ext.Array.findBy(this.features,function(b){return b.ftype===a?!0:void 0}):void 0},initFeatures:function(a){var b,c,d,e,f=this;for(f.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),f.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),f.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),f.featuresMC=new Ext.util.MixedCollection,c=f.features=f.constructFeatures(),e=c?c.length:0,b=0;e>b;b++)d=c[b],d.view=f,d.grid=a,f.featuresMC.add(d),d.init(a)},renderTHead:function(a,b){var c,d,e=a.view.headerFns;if(e)for(d=0,c=e.length;c>d;++d)e[d].call(this,a,b)},addHeaderFn:function(){var a=this.headerFns;a||(a=this.headerFns=[]),a.push(fn)},renderTFoot:function(a,b){var c,d,e=a.view.footerFns;if(e)for(d=0,c=e.length;c>d;++d)e[d].call(this,a,b)},addFooterFn:function(a){var b=this.footerFns;b||(b=this.footerFns=[]),b.push(a)},addTableTpl:function(a){return this.addTpl("tableTpl",a)},addRowTpl:function(a){return this.addTpl("rowTpl",a)},addCellTpl:function(a){return this.addTpl("cellTpl",a)},addTpl:function(a,b){var c,d,e=this;for(b=Ext.Object.chain(b),b.isTemplate||(b.applyOut=e.tplApplyOut),c=e[a];b.priority<c.priority;c=c.nextTpl)d=c;return d?d.nextTpl=b:e[a]=b,b.nextTpl=c,b},tplApplyOut:function(a,b){this.before&&this.before(a,b)===!1||(this.nextTpl.applyOut(a,b),this.after&&this.after(a,b))},constructFeatures:function(){var a,b,c,d=this,e=d.features,f=0;if(e)for(b=[],c=e.length;c>f;f++)a=e[f],a.isFeature||(a=Ext.create("feature."+a.ftype,a)),b[f]=a;return b},beforeRender:function(){var a=this;a.callParent(),a.enableTextSelection||a.protoEl.unselectable()},onViewScroll:function(a,b){this.callParent(arguments),this.fireEvent("bodyscroll",a,b)},createRowElement:function(a,b){var c=this,d=c.renderBuffer;return c.tpl.overwrite(d,c.collectData([a],b)),Ext.fly(d).down(c.getNodeContainerSelector(),!0).firstChild},bufferRender:function(a,b){var c=this,d=c.renderBuffer;return c.tpl.overwrite(d,c.collectData(a,b)),Ext.Array.toArray(Ext.fly(d).down(c.getNodeContainerSelector(),!0).childNodes)},collectData:function(a,b){return this.rowValues.view=this,{view:this,rows:a,viewStartIndex:b,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var a,b=this,c=b.getBodySelector();c&&b.body.attach(b.el.child(c,!0)),b.hasLoadingHeight||(a=b.up("tablepanel"),Ext.suspendLayouts(),b.callParent(),a.updateLayout(),Ext.resumeLayouts(!0))},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){if(a=this.getNode(a)){var b=a.getAttribute("data-recordIndex");return b&&(b=parseInt(b,10),b>-1)?this.store.data.getAt(b):this.dataSource.data.get(a.getAttribute("data-recordId"))}},indexOf:function(a){return a=this.getNode(a,!1),a||0===a?this.all.indexOf(a):-1},indexInStore:function(a){if(a=this.getNode(a,!0),!a&&0!==a)return-1;var b=a.getAttribute("data-recordIndex");return b?parseInt(b,10):this.dataSource.indexOf(this.getRecord(a))},renderRows:function(a,b,c){var d,e=this.rowValues,f=a.length;for(e.view=this,e.columns=this.ownerCt.columnManager.getColumns(),d=0;f>d;d++,b++)e.itemClasses.length=e.rowClasses.length=0,this.renderRow(a[d],b,c);e.view=e.columns=e.record=null},renderColumnSizer:function(a){var b,c,d,e=this.getGridColumns(),f=e.length;for(b=0;f>b;b++)c=e[b],d=c.hidden?0:c.lastBox?c.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth,a.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",e[b].getItemId(),'" style="width:'+d+'px"></colgroup>')},renderRow:function(a,b,c){var d,e=this,f=-1===b,g=e.selModel,h=e.rowValues,i=h.itemClasses,j=h.rowClasses,k=e.rowTpl;return h.record=a,h.recordId=a.internalId,h.recordIndex=b,h.rowId=e.getRowId(a),h.itemCls=h.rowCls="",h.columns||(h.columns=e.ownerCt.columnManager.getColumns()),i.length=j.length=0,f||(i[0]=Ext.baseCSSPrefix+"grid-row",g&&g.isRowSelected&&(g.isRowSelected(b+1)&&i.push(e.beforeSelectedItemCls),g.isRowSelected(a)&&i.push(e.selectedItemCls)),e.stripeRows&&b%2!==0&&j.push(e.altRowCls),e.getRowClass&&(d=e.getRowClass(a,b,null,e.dataSource),d&&j.push(d))),c?void k.applyOut(h,c):k.apply(h)},renderCell:function(a,b,c,d,e){var f,g,h=this,i=h.selModel,j=h.cellValues,k=j.classes,l=b.data[a.dataIndex],m=h.cellTpl;j.record=b,j.column=a,j.recordIndex=c,j.columnIndex=d,j.cellIndex=d,j.align=a.align,j.tdCls=a.tdCls,j.innerCls=a.innerCls,j.style=j.tdAttr="",j.unselectableAttr=h.enableTextSelection?"":'unselectable="on"',a.renderer&&a.renderer.call?(f=a.renderer.call(a.scope||h.ownerCt,l,j,b,c,d,h.dataSource,h),j.css&&(b.cssWarning=!0,j.tdCls+=" "+j.css,delete j.css)):f=l,j.value=null==f||""===f?"&#160;":f,k[1]=Ext.baseCSSPrefix+"grid-cell-"+a.getItemId(),g=2,a.tdCls&&(k[g++]=a.tdCls),h.markDirty&&b.isModified(a.dataIndex)&&(k[g++]=h.dirtyCls),a.isFirstVisible&&(k[g++]=h.firstCls),a.isLastVisible&&(k[g++]=h.lastCls),h.enableTextSelection||(k[g++]=Ext.baseCSSPrefix+"unselectable"),k[g++]=j.tdCls,i&&i.isCellSelected&&i.isCellSelected(h,c,d)&&(k[g++]=h.selectedCellCls),k.length=g,j.tdCls=k.join(" "),m.applyOut(j,e),j.column=null},getNode:function(a,b){var c,d=this.callParent(arguments);if(d&&d.tagName)if(b){if(!(c=Ext.fly(d)).is(this.dataRowSelector))return c.down(this.dataRowSelector,!0)}else if(b===!1&&!(c=Ext.fly(d)).is(this.itemSelector))return c.up(this.itemSelector,null,!0);return d},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a,b){return a=this.constructRowId(a),this.retrieveNode(a,b)},getNodeByRecord:function(a,b){var c=this.getRowId(a);return this.retrieveNode(c,b)},retrieveNode:function(a,b){var c,d=this.el.getById(a,!0),e=this.itemSelector;return b===!1&&d&&!(c=Ext.fly(d)).is(e)?c.up(e,null,!0):d},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,!0)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+"-"+a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(a){var b=this.cellSelector;return a&&(b+="-"+a.getItemId()),b},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(a,b){var c=this.getNode(a,!1);c&&Ext.fly(c).addCls(b)},removeRowCls:function(a,b){var c=this.getNode(a,!1);c&&Ext.fly(c).removeCls(b)},setHighlightedItem:function(a){var b=this,c=b.highlightedItem;c&&b.el.isAncestor(c)&&b.isRowStyleFirst(c)&&b.getRowStyleTableEl(c).removeCls(b.tableOverFirstCls),a&&b.isRowStyleFirst(a)&&b.getRowStyleTableEl(a).addCls(b.tableOverFirstCls),b.callParent(arguments)},onRowSelect:function(a){var b=this;b.addRowCls(a,b.selectedItemCls),b.isRowStyleFirst(a)?b.getRowStyleTableEl(a).addCls(b.tableSelectedFirstCls):b.addRowCls(a-1,b.beforeSelectedItemCls)},onRowDeselect:function(a){var b=this;b.removeRowCls(a,[b.selectedItemCls,b.focusedItemCls]),b.isRowStyleFirst(a)?b.getRowStyleTableEl(a).removeCls([b.tableFocusedFirstCls,b.tableSelectedFirstCls]):b.removeRowCls(a-1,[b.beforeFocusedItemCls,b.beforeSelectedItemCls])},onCellSelect:function(a){var b=this.getCellByPosition(a);b&&(b.addCls(this.selectedCellCls),this.scrollCellIntoView(b))},onCellDeselect:function(a){var b=this.getCellByPosition(a,!0);b&&Ext.fly(b).removeCls(this.selectedCellCls)},getCellByPosition:function(a,b){if(a){var c=this.getNode(a.row,!0),d=this.ownerCt.columnManager.getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(this.getCellSelector(d),b)}return!1},getFocusEl:function(){var a,b=this;return b.refreshCounter?(a=b.focusedRow,a&&b.el.contains(a)||(b.all.getCount()&&(a=b.getNode(b.all.item(0).dom,!0))?b.focusRow(a):a=b.body),Ext.get(a)):b.el},onRowFocus:function(a,b,c){var d=this;b?(d.addRowCls(a,d.focusedItemCls),d.isRowStyleFirst(a)?d.getRowStyleTableEl(a).addCls(d.tableFocusedFirstCls):d.addRowCls(a-1,d.beforeFocusedItemCls),c||d.focusRow(a)):(d.removeRowCls(a,d.focusedItemCls),d.isRowStyleFirst(a)?d.getRowStyleTableEl(a).removeCls(d.tableFocusedFirstCls):d.removeRowCls(a-1,d.beforeFocusedItemCls)),!Ext.isIE6&&!Ext.isIE7||d.ownerCt.rowLines||d.repaintRow(a)},focus:function(a,b){var c,d=this,e=Ext.isIE&&!b;e&&(c=d.el.dom.scrollLeft),this.callParent(arguments),e&&(d.el.dom.scrollLeft=c)},focusRow:function(a,b){var c,d,e=this,f=e.ownerCt&&e.ownerCt.collapsed;e.isVisible(!0)&&!f&&(a=e.getNode(a,!0))&&(e.scrollRowIntoView(a),d=e.getRecord(a),c=e.indexInStore(a),e.selModel.setLastFocused(d),e.focusedRow=a,e.focus(!1,b,function(){e.fireEvent("rowfocus",d,a,c)}))},scrollRowIntoView:function(a){a=this.getNode(a,!0),a&&Ext.fly(a).scrollIntoView(this.el,!1)},focusCell:function(a){var b=this,c=b.getCellByPosition(a),d=b.getRecord(a.row);b.focusRow(d),c&&(b.scrollCellIntoView(c),b.fireEvent("cellfocus",d,c,a))},scrollCellIntoView:function(a){null!=a.row&&null!=a.column&&(a=this.getCellByPosition(a)),a&&Ext.fly(a).scrollIntoView(this.el,!0)},scrollByDelta:function(a,b){b=b||"scrollTop";var c=this.el.dom;c[b]=c[b]+=a},isDataRow:function(a){return Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(a,b){a=Ext.get(a),b=Ext.get(b),a.dom.style.height=b.dom.style.height="";var c=this,d=c.rowTpl,e=a.dom.offsetHeight,f=b.dom.offsetHeight;if(e!==f){for(;d&&(!d.syncRowHeights||d.syncRowHeights(a,b)!==!1);)d=d.nextTpl;e=a.dom.offsetHeight,f=b.dom.offsetHeight,e!==f&&(a=a.down("[data-recordId]")||a,b=b.down("[data-recordId]")||b,a&&b&&(a.dom.style.height=b.dom.style.height="",e=a.dom.offsetHeight,f=b.dom.offsetHeight,e>f?(a.setHeight(e),b.setHeight(e)):f>e&&(a.setHeight(f),b.setHeight(f))))}},onIdChanged:function(a,b,c,d,e){var f,g=this;g.viewReady&&(f=g.getNodeById(e),f&&(f.setAttribute("data-recordId",b.internalId),f.id=g.getRowId(b)))},onUpdate:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this,u=t.rowTpl;if(t.viewReady&&(g=t.getNodeByRecord(b,!1))){if(m=t.overItemCls,n=t.overItemCls,o=t.focusedItemCls,p=t.beforeFocusedItemCls,q=t.selectedItemCls,r=t.beforeSelectedItemCls,e=t.indexInStore(b),f=Ext.fly(g,"_internal"),h=t.createRowElement(b,e),f.hasCls(m)&&Ext.fly(h).addCls(m),f.hasCls(n)&&Ext.fly(h).addCls(n),f.hasCls(o)&&Ext.fly(h).addCls(o),f.hasCls(p)&&Ext.fly(h).addCls(p),f.hasCls(q)&&Ext.fly(h).addCls(q),f.hasCls(r)&&Ext.fly(h).addCls(r),s=t.ownerCt.columnManager.getColumns(),Ext.isIE9m&&g.mergeAttributes)g.mergeAttributes(h,!0);else for(i=h.attributes,j=i.length,l=0;j>l;l++)k=i[l].name,"id"!==k&&g.setAttribute(k,i[l].value);
for(s.length&&t.updateColumns(b,t.getNode(g,!0),t.getNode(h,!0),s,d);u&&(!u.syncContent||u.syncContent(g,h)!==!1);)u=u.nextTpl;t.fireEvent("itemupdate",b,e,g),t.refreshSize()}},updateColumns:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o=this,p=d.length,q=o.editingPlugin||o.lockingPartner&&o.ownerCt.ownerLockable.view.editingPlugin,r=q&&q.editing,s=o.getCellSelector();if(b.mergeAttributes)b.mergeAttributes(c,!0);else for(f=c.attributes,g=f.length,i=0;g>i;i++)h=f[i].name,"id"!==h&&b.setAttribute(h,f[i].value);for(j=0;p>j;j++)k=d[j],o.shouldUpdateCell(a,k,e)&&(s=o.getCellSelector(k),l=Ext.DomQuery.selectNode(s,b),m=Ext.DomQuery.selectNode(s,c),r?Ext.fly(l).syncContent(m):(n=l.parentNode,n.insertBefore(m,l),n.removeChild(l)))},shouldUpdateCell:function(a,b,c){if(b.hasCustomRenderer||!c)return!0;if(c){var d,e,f=c.length;for(d=0;f>d;++d)if(e=c[d],e===b.dataIndex||e===a.idProperty)return!0}return!1},refresh:function(){var a=this,b=a.el&&a.el.isAncestor(Ext.Element.getActiveElement());a.callParent(arguments),a.headerCt.setSortState(),a.el&&!a.all.getCount()&&a.headerCt&&a.headerCt.tooNarrow&&a.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(a.headerCt.getFullWidth()-1)+"px"}),b&&a.selModel.onLastFocusChanged(null,a.selModel.lastFocused)},processItemEvent:function(a,b,c,d){if(-1!==this.indexInStore(b)){var e,f,g,h,i,j=this,k=d.getTarget(j.getCellSelector(),b),l=j.statics().EventMap,m=j.getSelectionModel(),n=d.type,o=j.features,p=o.length;if("keydown"==n&&!k&&m.getCurrentPosition&&(k=j.getCellByPosition(m.getCurrentPosition(),!0)),k){if(!k.parentNode)return!1;i=j.getHeaderByCell(k),e=Ext.Array.indexOf(j.getGridColumns(),i)}else e=-1;if(g=j.fireEvent("uievent",n,j,k,c,e,d,a,b),g===!1||j.callParent(arguments)===!1)return j.selModel.onVetoUIEvent(n,j,k,c,e,d,a,b),!1;for(f=0;p>f;++f)if(h=o[f],h.wrapsItem&&h.vetoEvent(a,b,c,d)===!1)return j.processSpecialEvent(d),!1;return"mouseover"==n||"mouseout"==n?!0:k?!(j["onBeforeCell"+l[n]](k,e,a,b,c,d)===!1||j.fireEvent("beforecell"+n,j,k,e,a,b,c,d)===!1||j["onCell"+l[n]](k,e,a,b,c,d)===!1||j.fireEvent("cell"+n,j,k,e,a,b,c,d)===!1):!0}return this.processSpecialEvent(d),!1},processSpecialEvent:function(a){var b,c,d,e,f,g,h=this,i=h.features,j=i.length,k=a.type,l=h.ownerCt;if(h.callParent(arguments),"mouseover"!=k&&"mouseout"!=k){for(b=0;j>b;b++)if(c=i[b],c.hasFeatureEvent&&(e=a.getTarget(c.eventSelector,h.getTargetEl()),e&&(d=c.eventPrefix,f=c.getFireEventArgs("before"+d+k,h,e,a),g=c.getFireEventArgs(d+k,h,e,a),h.fireEvent.apply(h,f)===!1||l.fireEvent.apply(l,f)===!1||h.fireEvent.apply(h,g)===!1||l.fireEvent.apply(l,g)===!1)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)&&(a=this.getGridColumns[a]),a){if(a.isGroupHeader)return void a.autoSize();delete a.flex,a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(a){var b,c,d=this,e=d.el.query(a.getCellInnerSelector()),f=a.getWidth(),g=0,h=e.length,i=Ext.supports.ScrollWidthInlinePaddingBug,j=d.body.select(d.getColumnSizerSelector(a)),k=Math.max;for(i&&h>0&&(b=d.getCellPaddingAfter(e[0])),j.setWidth(1),c=a.textEl.dom.offsetWidth+a.titleEl.getPadding("lr");h>g;g++)c=k(c,e[g].scrollWidth);return i&&(c+=b),c=k(c,40),j.setWidth(f),c},getPositionByEvent:function(a){var b=this,c=a.getTarget(b.cellSelector),d=a.getTarget(b.itemSelector),e=b.getRecord(d),f=b.getHeaderByCell(c);return b.getPosition(e,f)},getHeaderByCell:function(a){if(a){var b=a.className.match(this.cellRe);if(b&&b[1])return this.ownerCt.columnManager.getHeaderById(b[1])}return!1},walkCells:function(a,b,c,d,e,f){if(!a)return!1;var g=this,h=a.row,i=a.column,j=g.dataSource.getCount(),k=g.ownerCt.columnManager.getColumns().length-1,l=h,m=i,n=g.ownerCt.columnManager.getHeaderAtIndex(i);if(!n||n.hidden||!j)return!1;switch(c=c||{},b=b.toLowerCase()){case"right":if(i===k){if(d||h===j-1)return!1;c.ctrlKey||(l=g.walkRows(h,1),l!==h&&(m=0))}else m=c.ctrlKey?k:i+1;break;case"left":if(0===i){if(d||0===h)return!1;c.ctrlKey||(l=g.walkRows(h,-1),l!==h&&(m=k))}else m=c.ctrlKey?0:i-1;break;case"up":if(0===h)return!1;l=c.ctrlKey?g.walkRows(-1,1):g.walkRows(h,-1);break;case"down":if(h===j-1)return!1;l=c.ctrlKey?g.walkRows(j,-1):g.walkRows(h,1)}return e&&e.call(f||g,{row:l,column:m})!==!0?!1:new Ext.grid.CellContext(g).setPosition(l,m)},walkRows:function(a,b){var c,d=this,e=0,f=a,g=(d.dataSource.buffered?d.dataSource.getTotalCount():d.dataSource.getCount())-1,h=0>b?0:g,i=h?1:-1,j=a;do{if(h?j>=h:0>=j)return f||h;j+=i,(c=Ext.fly(d.getNode(j,!0)))&&c.isVisible(!0)&&(e+=i,f=j)}while(e!==b);return j},walkRecs:function(a,b){var c,d,e=this,f=0,g=a,h=(e.store.buffered?e.store.getTotalCount():e.store.getCount())-1,i=0>b?0:h,j=i?1:-1,k=e.store.indexOf(a);do{if(i?k>=i:0>=k)return g;k+=j,d=e.store.getAt(k),(c=Ext.fly(e.getNodeByRecord(d,!0)))&&c.isVisible(!0)&&(f+=j,g=d)}while(f!==b);return g},getFirstVisibleRowIndex:function(){var a=this,b=a.dataSource.buffered?a.dataSource.getTotalCount():a.dataSource.getCount(),c=a.indexOf(a.all.first())-1;do if(c+=1,c===b)return;while(!Ext.fly(a.getNode(c,!0)).isVisible(!0));return c},getLastVisibleRowIndex:function(){var a=this,b=a.indexOf(a.all.last());do if(b-=1,-1===b)return;while(!Ext.fly(a.getNode(b,!0)).isVisible(!0));return b},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return new Ext.grid.CellContext(this).setPosition(a,b)},beforeDestroy:function(){var a=this;a.rendered&&a.el.removeAllListeners(),a.callParent(arguments)},onDestroy:function(){var a,b,c=this,d=c.featuresMC;if(d)for(b=0,a=d.getCount();a>b;++b)d.getAt(b).destroy();c.featuresMC=null,this.callParent(arguments)},onAdd:function(a,b,c){this.callParent(arguments),this.doStripeRows(c)},onRemove:function(a,b,c){this.callParent(arguments),this.doStripeRows(c[0])},doStripeRows:function(a,b){var c,d,e,f,g=this;if(g.rendered&&g.stripeRows)for(c=g.getNodes(a,b),e=0,d=c.length;d>e;e++)f=c[e],f.className=f.className.replace(g.rowClsRe," "),a++,a%2===0&&(f.className+=" "+g.altRowCls)},repaintRow:function(a){for(var b=this.getNode(a),c=b.childNodes,d=c.length;d--;)c[d].className=c[d].className},getRowStyleTableEl:function(a){var b=this;return a.tagName||(a=this.getNode(a)),(b.isGrouping?Ext.fly(a):this.el).down("table.x-grid-table")},isRowStyleFirst:function(a){var b,c=this;return-1===a?!1:(a.tagName?b=c.indexOf(a):(b=a,a=this.getNode(a)),!b||c.isGrouping&&Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-group-row"))},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")}},1,["tableview"],["component","box","dataview","tableview"],{component:!0,box:!0,dataview:!0,tableview:!0},["widget.tableview"],0,[Ext.view,"Table"],0),Ext.cmd.derive("Ext.grid.View",Ext.view.Table,{stripeRows:!0,autoScroll:!0},0,["gridview"],["component","box","dataview","gridview","tableview"],{component:!0,box:!0,dataview:!0,gridview:!0,tableview:!0},["widget.gridview"],0,[Ext.grid,"View"],0),Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0},0,["grid","gridpanel"],["panel","component","tablepanel","container","grid","box","gridpanel"],{panel:!0,component:!0,tablepanel:!0,container:!0,grid:!0,box:!0,gridpanel:!0},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0),Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(a,b,c){var d=this,e=d.bufferedRenderer,f=d.all;d.rendered&&e&&f.getCount()+b.length>e.viewSize?c<f.startIndex+e.viewSize&&c+b.length>f.startIndex?d.refreshView():e.stretchView(d,e.getScrollHeight()):d.callParent([a,b,c])},onRemove:function(a,b,c){var d=this,e=d.bufferedRenderer;d.callParent([a,b,c]),d.rendered&&e&&(d.dataSource.getCount()>e.viewSize?d.refreshView():e.stretchView(d,e.getScrollHeight()))},onDataRefresh:function(){var a=this;a.bufferedRenderer&&(a.all.clear(),a.bufferedRenderer.onStoreClear()),a.callParent()}}),Ext.cmd.derive("Ext.grid.RowEditorButtons",Ext.container.Container,{frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(a){var b=this,c=a.rowEditor,d=Ext.baseCSSPrefix,e=c.editingPlugin;a=Ext.apply({baseCls:d+"grid-row-editor-buttons",defaults:{xtype:"button",ui:c.buttonUI,scope:e,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:d+"row-editor-update-button",itemId:"update",handler:e.completeEdit,text:c.saveBtnText,disabled:c.updateButtonDisabled},{cls:d+"row-editor-cancel-button",handler:e.cancelEdit,text:c.cancelBtnText}]},a),b.callParent([a]),b.addClsWithUI(b.position)},setButtonPosition:function(a){var b=this;b.removeClsWithUI(b.position),b.position=a,b.addClsWithUI(a)},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=this.callParent();return a.top=!0,a}},1,["roweditorbuttons"],["component","container","box","roweditorbuttons"],{component:!0,container:!0,box:!0,roweditorbuttons:!0},["widget.roweditorbuttons"],0,[Ext.grid,"RowEditorButtons"],0),Ext.cmd.derive("Ext.grid.RowEditor",Ext.form.Panel,{saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,buttonUI:"default",hideMode:"offsets",initComponent:function(){var a=this,b=a.editingPlugin.grid,c=Ext.container.Container;a.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",a.layout={type:"hbox",align:"middle"},a.lockable=b.lockable,a.lockable?a.items=[a.lockedColumnContainer=new c({id:b.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),a.normalColumnContainer=new c({flex:1,id:b.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:a.lockedColumnContainer=a.normalColumnContainer=a,a.callParent(arguments),a.fields&&(a.addFieldsForColumn(a.fields,!0),a.insertColumnEditor(a.fields),delete a.fields),a.mon(a.hierarchyEventSource,{scope:a,show:a.repositionIfVisible}),a.getForm().trackResetOnLoad=!0},onGridResize:function(){var a=this,b=a.getClientWidth(),c=a.editingPlugin.grid,d=c.body,e=a.getFloatingButtons();a.setLocalX(d.getOffsetsTo(c)[0]+d.getBorderWidth("l")-c.el.getBorderWidth("l")),a.setWidth(b),e.setLocalX((b-e.getWidth())/2)},onFieldRender:function(a){var b=this,c=a.column;c.isVisible()?b.syncFieldWidth(c):c.rendered||b.view.headerCt.on({afterlayout:Ext.Function.bind(b.syncFieldWidth,b,[c]),single:!0})},syncFieldWidth:function(a){var b,c=a.getEditor();c._marginWidth=c._marginWidth||c.el.getMargin("lr"),b=a.getWidth()-c._marginWidth,c.setWidth(b),"displayfield"===c.xtype&&(c.inputWidth=b)},onFieldChange:function(){var a=this,b=a.getForm(),c=b.isValid();a.errorSummary&&a.isVisible()&&a[c?"hideToolTip":"showToolTip"](),a.updateButton(c),a.isValid=c},updateButton:function(a){var b=this.floatingButtons;b?b.child("#update").setDisabled(!a):this.updateButtonDisabled=!a},afterRender:function(){var a=this,b=a.editingPlugin,c=b.grid,d=c.lockable?c.normalGrid.view:c.view;a.callParent(arguments),a.scrollingView=d,a.scrollingViewEl=d.el,d.mon(a.scrollingViewEl,"scroll",a.onViewScroll,a),a.mon(a.el,{click:Ext.emptyFn,stopPropagation:!0}),a.mon(c,{resize:a.onGridResize,scope:a}),a.el.swallowEvent(["keypress","keydown"]),a.fieldScroller=a.normalColumnContainer.layout.innerCt,a.fieldScroller.dom.style.overflow="hidden",a.fieldScroller.on({scroll:a.onFieldContainerScroll,scope:a}),a.keyNav=new Ext.util.KeyNav(a.el,{enter:b.completeEdit,esc:b.onEscKey,scope:b}),a.mon(b.view,{beforerefresh:a.onBeforeViewRefresh,refresh:a.onViewRefresh,itemremove:a.onViewItemRemove,scope:a}),a.preventReposition=!0,Ext.Array.each(a.query("[isFormField]"),function(b){b.column.isVisible()&&a.onColumnShow(b.column)},a),delete a.preventReposition},onBeforeViewRefresh:function(a){var b=this,c=a.el.dom;b.el.dom.parentNode===c&&c.removeChild(b.el.dom)},onViewRefresh:function(a){var b,c=this,d=c.context;d&&(b=a.getNode(d.record,!0))?(d.row=b,c.reposition(),c.tooltip&&c.tooltip.isVisible()&&c.tooltip.setTarget(d.row)):c.editingPlugin.cancelEdit()},onViewItemRemove:function(a){var b=this.context;b&&a===b.record&&this.editingPlugin.cancelEdit()},onViewScroll:function(){var a,b=this,c=b.editingPlugin.view.el,d=b.scrollingViewEl,e=d.dom.scrollTop,f=d.getScrollLeft(),g=f!==b.lastScrollLeft,h=e!==b.lastScrollTop;b.lastScrollTop=e,b.lastScrollLeft=f,b.isVisible()&&(a=Ext.getDom(b.context.row.id),a&&c.contains(a)?h&&(b.context.row=a,b.reposition(null,!0),(b.tooltip&&b.tooltip.isVisible()||b.hiddenTip)&&b.repositionTip(),b.syncEditorClip()):b.setLocalY(-400)),b.rendered&&g&&b.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(a){var b=this;b.rendered&&(b.onGridResize(),b.onViewScroll(),a.isGroupHeader||(b.syncFieldWidth(a),b.repositionIfVisible()))},onColumnHide:function(a){a.isGroupHeader||(a.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(a){var b=this;b.rendered&&!a.isGroupHeader&&(a.getEditor().show(),b.syncFieldWidth(a),b.preventReposition||this.repositionIfVisible())},onColumnMove:function(a,b,c){var d,e,f,g,h=this,i=1,j=a.isLocked()?h.lockedColumnContainer:h.normalColumnContainer;if(a.isGroupHeader){for(Ext.suspendLayouts(),a=a.getGridColumns(),c>b&&(c--,i=0),this.addFieldsForColumn(a),d=0,e=a.length;e>d;d++,b+=i,c+=i)f=a[d].getEditor(),g=j.items.indexOf(f),-1===g?j.insert(c,f):g!=c&&j.move(b,c);Ext.resumeLayouts(!0)}else c>b&&c--,this.addFieldsForColumn(a),f=a.getEditor(),g=j.items.indexOf(f),-1===g?j.insert(c,f):g!=c&&j.move(b,c)},onColumnAdd:function(a){a.isGroupHeader&&(a=a.getGridColumns()),this.addFieldsForColumn(a),this.insertColumnEditor(a),this.preventReposition=!1},insertColumnEditor:function(a){var b,c,d,e=this;if(Ext.isArray(a))for(d=0,c=a.length;c>d;d++)e.insertColumnEditor(a[d]);else a.getEditor&&(b=a.isLocked()?e.lockedColumnContainer:e.normalColumnContainer,b.insert(a.getVisibleIndex(),a.getEditor()))},onColumnRemove:function(a,b){b=b.isGroupHeader?b.getGridColumns():b,this.removeColumnEditor(b)},removeColumnEditor:function(a){var b,c,d,e=this;if(Ext.isArray(a))for(d=0,c=a.length;c>d;d++)e.removeColumnEditor(a[d]);else a.hasEditor()&&(b=a.getEditor(),b&&b.ownerCt&&b.ownerCt.remove(b,!1))},onColumnReplace:function(a,b,c,d){this.onColumnRemove(d.ownerCt,d)},getFloatingButtons:function(){var a=this,b=a.floatingButtons;return b||(a.floatingButtons=b=new Ext.grid.RowEditorButtons({rowEditor:a})),b},repositionIfVisible:function(a){var b=this,c=b.view;(!a||a!=b&&a.el.isAncestor(c.el))&&b.isVisible()&&c.isVisible(!0)&&b.reposition()},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(){var a,b=this;return b.lockable?(a=b.lockedColumnContainer.getRefItems(),a.push.apply(a,b.normalColumnContainer.getRefItems())):a=b.callParent(),a.push.apply(a,b.getFloatingButtons().getRefItems()),a},reposition:function(a,b){var c,d,e,f,g=this,h=g.context,i=h&&Ext.get(h.row),j=0;i&&Ext.isElement(i.dom)&&(e=g.syncButtonPosition(g.getScrollDelta()),g.editingPlugin.grid.rowLines||(j=-parseInt(i.first().getStyle("border-bottom-width"))),c=g.calculateLocalRowTop(i),d=g.calculateEditorTop(c)+j,b||(f=function(){e&&g.scrollingViewEl.scrollBy(0,e,!0),g.focusContextCell()}),g.syncEditorClip(),a?g.animate(Ext.applyIf({to:{top:d},duration:a.duration||125,callback:f},a)):(g.setLocalY(d),f&&f()))},getScrollDelta:function(){var a=this,b=a.scrollingViewEl.dom,c=a.context,d=a.body,e=0;return c&&(e=Ext.fly(c.row).getOffsetsTo(b)[1]-d.getBorderPadding().beforeY,e>0&&(e=Math.max(e+a.getHeight()+a.floatingButtons.getHeight()-b.clientHeight-d.getBorderWidth("b"),0))),e},calculateLocalRowTop:function(a){var b=this.editingPlugin.grid;return Ext.fly(a).getOffsetsTo(b)[1]-b.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var a,b=this,c=b.editingPlugin.grid;return a=b.lockable?c.lockedGrid.getWidth()+c.normalGrid.view.el.dom.clientWidth-1:c.view.el.dom.clientWidth},getEditor:function(a){var b=this;return Ext.isNumber(a)?b.query("[isFormField]")[a]:a.isHeader&&!a.isGroupHeader?a.getEditor():void 0},addFieldsForColumn:function(a,b){var c,d,e,f=this;if(Ext.isArray(a))for(c=0,d=a.length;d>c;c++)f.addFieldsForColumn(a[c],b);else a.getEditor&&(e=a.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}}),"right"===a.align&&(e.fieldStyle="text-align:right"),"actioncolumn"===a.xtype&&(e.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),f.isVisible()&&f.context&&(e.is("displayfield")?f.renderColumnData(e,f.context.record,a):(e.suspendEvents(),e.setValue(f.context.record.get(a.dataIndex)),e.resumeEvents())),a.hidden?f.onColumnHide(a):a.rendered&&!b&&f.onColumnShow(a))},loadRecord:function(a){var b,c,d,e=this,f=e.getForm(),g=f.getFields(),h=g.items,i=h.length;for(b=0;i>b;b++)h[b].suspendEvents();for(f.loadRecord(a),b=0;i>b;b++)h[b].resumeEvents();for(d=f.isValid(),e.errorSummary&&(d?e.hideToolTip():e.showToolTip()),e.updateButton(d),c=e.query(">displayfield"),i=c.length,b=0;i>b;b++)e.renderColumnData(c[b],a)},renderColumnData:function(a,b,c){var d,e,f,g=this,h=g.editingPlugin.grid,i=h.headerCt,j=g.scrollingView,k=j.dataSource,l=c||a.column,m=b.get(l.dataIndex),n=l.editRenderer||l.renderer;n&&(d={tdCls:"",style:""},e=k.indexOf(b),f=i.getHeaderIndex(l),m=n.call(l.scope||i.ownerCt,m,d,b,e,f,k,j)),a.setRawValue(m),a.resetOriginalValue()},beforeEdit:function(){var a,b=this;return b.isVisible()&&b.errorSummary&&!b.autoCancel&&b.isDirty()?(a=b.getScrollDelta(),a&&b.scrollingViewEl.scrollBy(0,a,!0),b.showToolTip(),!1):void 0},startEdit:function(a){var b=this,c=b.editingPlugin,d=c.grid,e=b.context=c.context;b.rendered?b.syncFieldsHorizontalScroll():(b.width=b.getClientWidth(),b.render(d.el,d.el.dom.firstChild),b.getFloatingButtons().render(b.el),b.onViewScroll()),b.isVisible()?b.reposition(!0):b.show(),b.onGridResize(),e.grid.getSelectionModel().select(a),b.loadRecord(a)},syncButtonPosition:function(a){var b=this,c=b.getFloatingButtons(),d=b.scrollingViewEl.dom,e=this.getScrollDelta()-(d.scrollHeight-d.scrollTop-d.clientHeight);return e>0?(b._buttonsOnTop||(c.setButtonPosition("top"),b._buttonsOnTop=!0),a=0):b._buttonsOnTop&&(c.setButtonPosition("bottom"),b._buttonsOnTop=!1),a},syncEditorClip:function(){var a,b=this,c=b.getScrollDelta();c?(b.isOverflowing=!0,a=b.floatingButtons.getHeight(),c>0?b.clipBottom(Math.max(b.getHeight()-c+a,-a)):0>c&&(c=Math.abs(c),b.clipTop(Math.max(c,0)))):b.isOverflowing&&(b.clearClip(),b.isOverflowing=!1)},focusContextCell:function(){var a=this.getEditor(this.context.column);a&&a.focus&&a.focus()},cancelEdit:function(){var a,b=this,c=b.getForm(),d=c.getFields(),e=d.items,f=e.length;for(b.hide(),c.clearInvalid(),a=0;f>a;a++)e[a].suspendEvents();for(c.reset(),a=0;f>a;a++)e[a].resumeEvents()},completeEdit:function(){var a=this,b=a.getForm();return b.isValid()?(b.updateRecord(a.context.record),a.hide(),!0):!1},onShow:function(){var a=this;a.callParent(arguments),a.reposition()},onHide:function(){var a=this;a.callParent(arguments),a.tooltip&&a.hideToolTip(),a.context&&(a.context.view.focusRow(a.context.record),a.context=null)},isDirty:function(){var a=this,b=a.getForm();return b.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var a=this,b=a.getToolTip();b.rendered&&b.disable(),a.hiddenTip=!1},showToolTip:function(){var a=this,b=a.getToolTip();b.showAt([0,0]),b.update(a.getErrors()),a.repositionTip(),b.enable()},repositionTip:function(){var a=this,b=a.getToolTip(),c=a.context,d=Ext.get(c.row),e=a.scrollingViewEl,f=e.dom.clientHeight,g=a.lastScrollTop,h=g+f,i=d.getHeight(),j=d.getOffsetsTo(a.context.view.body)[1],k=j+i;k>g&&h>j?(b.showAt(b.getAlignToXY(e,"tl-tr",[15,d.getOffsetsTo(e)[1]])),a.hiddenTip=!1):(b.hide(),a.hiddenTip=!0)},getErrors:function(){var a,b=this,c=[],d=b.query(">[isFormField]"),e=d.length;for(a=0;e>a;a++)c=c.concat(Ext.Array.map(d[a].getErrors(),b.createErrorListItem));return c.length||b.autoCancel||!b.isDirty()||(c[0]=b.createErrorListItem(b.dirtyText)),'<ul class="'+Ext.plainListCls+'">'+c.join("")+"</ul>"},createErrorListItem:function(a){return'<li class="'+Ext.baseCSSPrefix+'grid-row-editor-errors-item">'+a+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()},clipBottom:function(a){this.el.setStyle("clip","rect(-1000px auto "+a+"px auto)")},clipTop:function(a){this.el.setStyle("clip","rect("+a+"px auto 1000px auto)")},clearClip:function(){this.el.setStyle("clip",Ext.isIE8m||Ext.isIEQuirks?"rect(-1000px auto 1000px auto)":"auto")}},0,["roweditor"],["panel","form","component","container","roweditor","box"],{panel:!0,form:!0,component:!0,container:!0,roweditor:!0,box:!0},["widget.roweditor"],0,[Ext.grid,"RowEditor"],0),Ext.cmd.derive("Ext.view.DropZone",Ext.dd.DropZone,{indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(a){var b=this;Ext.apply(b,a),b.ddGroup||(b.ddGroup="view-dd-zone-"+b.view.id),b.callParent([b.view.el])},fireViewEvent:function(){var a,b=this;return b.lock(),a=b.view.fireEvent.apply(b.view,arguments),b.unlock(),a},getTargetFromEvent:function(a){var b,c,d,e,f,g,h=a.getTarget(this.view.getItemSelector());if(!h)for(b=a.getPageY(),e=0,c=this.view.getNodes(),f=c.length;f>e;e++)if(d=c[e],g=Ext.fly(d).getBox(),b<=g.bottom)return d;return h},getIndicator:function(){var a=this;return a.indicator||(a.indicator=new Ext.Component({html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:!0,shadow:!1})),a.indicator},getPosition:function(a,b){var c,d=a.getXY()[1],e=Ext.fly(b).getRegion();return c=e.bottom-d>=(e.bottom-e.top)/2?"before":"after"},containsRecordAtOffset:function(a,b,c){if(!b)return!1;var d=this.view,e=d.indexOf(b),f=d.getNode(e+c,!0),g=f?d.getRecord(f):null;return g&&Ext.Array.contains(a,g)},positionIndicator:function(a,b,c){var d,e=this,f=e.view,g=e.getPosition(c,a),h=f.getRecord(a),i=b.records;Ext.Array.contains(i,h)||("before"!=g||e.containsRecordAtOffset(i,h,-1))&&("after"!=g||e.containsRecordAtOffset(i,h,1))?e.invalidateDrop():(e.valid=!0,(e.overRecord!=h||e.currentPosition!=g)&&(d=Ext.fly(a).getY()-f.el.getY()-1,"after"==g&&(d+=Ext.fly(a).getHeight()),e.getIndicator().setWidth(Ext.fly(f.el).getWidth()).showAt(0,d),e.overRecord=h,e.currentPosition=g))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(a,b,c,d){var e=this;return Ext.Array.contains(d.records,e.view.getRecord(a))||e.positionIndicator(a,d,c),e.valid?e.dropAllowed:e.dropNotAllowed},notifyOut:function(){var a=this;a.callParent(arguments),a.overRecord=a.currentPosition=null,a.valid=!1,a.indicator&&a.indicator.hide()},onContainerOver:function(a,b,c){var d=this,e=d.view,f=e.dataSource.getCount();return f?d.positionIndicator(e.all.last(),c,b):(d.overRecord=d.currentPosition=null,d.getIndicator().setWidth(Ext.fly(e.el).getWidth()).showAt(0,0),d.valid=!0),d.dropAllowed},onContainerDrop:function(a,b,c){return this.onNodeDrop(a,null,b,c)},onNodeDrop:function(a,b,c,d){var e=this,f=!1,g={wait:!1,processDrop:function(){e.invalidateDrop(),e.handleNodeDrop(d,e.overRecord,e.currentPosition),f=!0,e.fireViewEvent("drop",a,d,e.overRecord,e.currentPosition)},cancelDrop:function(){e.invalidateDrop(),f=!0}},h=!1;if(e.valid){if(h=e.fireViewEvent("beforedrop",a,d,e.overRecord,e.currentPosition,g),g.wait)return;h!==!1&&(f||g.processDrop())}return h},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}},1,0,0,0,0,0,[Ext.view,"DropZone"],0),Ext.cmd.derive("Ext.grid.ViewDropZone",Ext.view.DropZone,{indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,b,c){var d,e,f,g,h=this.view,i=h.getStore();if(a.copy)for(e=a.records,a.records=[],f=0,g=e.length;g>f;f++)a.records.push(e[f].copy());else a.view.store.remove(a.records,a.view===h);b&&c?(d=i.indexOf(b),"before"!==c&&d++,i.insert(d,a.records)):i.add(a.records),h.getSelectionModel().select(a.records)}},0,0,0,0,0,0,[Ext.grid,"ViewDropZone"],0),Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.AbstractPlugin,{disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a,a.on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a){var b,c,d,e,f,g,h=this;h.headerCt.dragging?h.activeHd&&(h.activeHd.el.dom.style.cursor="",delete h.activeHd):(c=a.getTarget("."+h.colHeaderCls,3,!0),c&&(d=Ext.getCmp(c.id),d.isOnLeftEdge(a)?(e=d.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&(g=h.headerCt.up("tablepanel"),f=e.up("tablepanel"),f===g||g.ownerCt.isXType("tablepanel")&&g.ownerCt.view.lockedGrid===f||(e=null))):e=d.isOnRightEdge(a)?d:null,e?(e.isGroupHeader&&(b=e.getGridColumns(),e=b[b.length-1]),!e||e.fixed||e.resizable===!1||h.disabled||(h.activeHd=e,d.el.dom.style.cursor=h.eResizeCursor,d.triggerEl&&(d.triggerEl.dom.style.cursor=h.eResizeCursor))):(d.el.dom.style.cursor="",d.triggerEl&&(d.triggerEl.dom.style.cursor=""),h.activeHd=null)))},onBeforeStart:function(){return this.dragHd=this.activeHd,this.dragHd&&!this.headerCt.dragging?(this.tracker.constrainTo=this.getConstrainRegion(),!0):(this.headerCt.dragging=!1,!1)},getConstrainRegion:function(){var a,b,c=this,d=c.dragHd.el,e=0;return c.headerCt.forceFit?(a=c.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),a&&(c.headerInSameGrid(a)||(a=null),e=a.getWidth()-c.minColWidth)):e=(b=c.dragHd.up("tablepanel")).isLocked?c.dragHd.up("[scrollerOwner]").getWidth()-b.getWidth()-30:c.maxColWidth-d.getWidth(),c.adjustConstrainRegion(d.getRegion(),0,e,0,c.minColWidth)},onStart:function(){var a,b,c,d,e,f,g,h=this,i=h.dragHd,j=i.el.getWidth(),k=i.getOwnerHeaderCt();h.headerCt.dragging=!0,h.origWidth=j,h.dynamic||(c=d=k.up("tablepanel"),c.ownerLockable&&(d=c.ownerLockable),a=h.getLeftMarkerX(d),e=d.getLhsMarker(),f=d.getRhsMarker(),g=c.body.getHeight()+k.getHeight(),b=k.getOffsetsTo(d)[1],e.setLocalY(b),f.setLocalY(b),e.setHeight(g),f.setHeight(g),h.setMarkerX(e,a),h.setMarkerX(f,a+j))},onDrag:function(){var a,b=this;b.dynamic?b.doResize():(a=this.headerCt.up("tablepanel"),a.ownerLockable&&(a=a.ownerLockable),this.setMarkerX(this.getMovingMarker(a),this.calculateDragX(a)))},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(){if(this.headerCt.dragging=!1,this.dragHd){if(!this.dynamic){var a=this.headerCt.up("tablepanel");a.ownerLockable&&(a=a.ownerLockable),this.setMarkerX(a.getLhsMarker(),-9999),this.setMarkerX(a.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var a,b,c=this,d=c.dragHd;d&&(b=c.tracker.getOffset("point"),d.flex&&delete d.flex,Ext.suspendLayouts(),c.adjustColumnWidth(b[0]),c.headerCt.forceFit&&(a=d.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),a&&!c.headerInSameGrid(a)&&(a=null),a&&(delete a.flex,a.setWidth(a.getWidth()-b[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(a){var b=this.dragHd.up("tablepanel");return!!a.up(b)},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()},calculateDragX:function(a){return this.tracker.getXY("point")[0]-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,b,c,d,e){return a.adjust(b,c,d,e)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0),Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a,this.ddGroup=this.getDDGroup(),this.callParent([a.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){if(a.getTarget(this.colInnerSelector)){var b,c,d=a.getTarget(this.colHeaderSelector);if(d&&(b=Ext.getCmp(d.id),!this.headerCt.dragging&&b.draggable&&!b.isOnLeftEdge(a)&&!b.isOnRightEdge(a)))return c=document.createElement("div"),c.innerHTML=Ext.getCmp(d.id).text,{ddel:c,header:b}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0),Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a,this.ddGroup=this.getDDGroup(),this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},!0),this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(a,b){var c,d=a.getXY()[0],e=Ext.fly(b).getRegion();return c=e.right-d<=(e.right-e.left)/2?"after":"before",{pos:c,header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=a.header,u=s.getLocation(c,b),v=u.header,w=u.pos;if(v!==s.lastTargetHeader||w!==s.lastDropPos){if(d=t.nextSibling("gridcolumn:not([hidden])"),e=t.previousSibling("gridcolumn:not([hidden])"),s.lastTargetHeader=v,s.lastDropPos=w,!v.draggable&&"before"===w&&0===v.getIndex())return!1;if(a.dropLocation=u,t!==v&&("before"===w&&d!==v||"after"===w&&e!==v)&&!v.isDescendantOf(t)){for(o=Ext.dd.DragDropManager.getRelated(s),p=o.length,q=0;p>q;q++)r=o[q],r!==s&&r.invalidateDrop&&r.invalidateDrop();s.valid=!0,f=s.getTopIndicator(),g=s.getBottomIndicator(),"before"===w?(h="bc-tl",i="tc-bl"):(h="bc-tr",i="tc-br"),j=f.getAlignToXY(v.el,h),k=g.getAlignToXY(v.el,i),l=s.headerCt.el,m=l.getX()-s.indicatorXOffset,n=l.getX()+l.getWidth(),j[0]=Ext.Number.constrain(j[0],m,n),k[0]=Ext.Number.constrain(k[0],m,n),f.setXY(j),g.setXY(k),f.show(),g.show()
}else s.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(a,b,c,d){var e,f,g,h,i=this,j=d.header;return d.header.el.dom===a?e=!1:(d.isLock=d.isUnlock=!1,f=i.getLocation(c,a).header,e=j.ownerCt===f.ownerCt,e||j.ownerCt.sealed||f.ownerCt.sealed||(e=!0,g=j.up("tablepanel"),h=f.up("tablepanel"),d.isLock=h.isLocked&&!g.isLocked,d.isUnlock=!h.isLocked&&g.isLocked,(d.isUnlock&&j.lockable===!1||d.isLock&&!j.isLockable())&&(e=!1))),e?i.positionIndicator(d,a,c):i.valid=!1,i.valid?i.dropAllowed:i.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide(),a.getBottomIndicator().hide(),a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){var e,f,g=d.header,h=d.dropLocation,i=h.header,j=g.ownerCt,k=j.items.indexOf(g),l=i.ownerCt,m=l.items.indexOf(i),n=this.headerCt,o=n.columnManager,p=o.getHeaderIndex(g),q=o.getHeaderIndex(i),r=g.isGroupHeader?g.query(":not([isGroupHeader])").length:1,s=j===l;if("after"===h.pos&&(m++,q+=i.isGroupHeader?i.query(":not([isGroupHeader])").length:1),d.isLock)e=j.up("[scrollerOwner]"),e.lock(g,m),d.isLock=!1,this.onNodeDrop(a,b,c,d);else if(d.isUnlock)e=j.up("[scrollerOwner]"),e.unlock(g,m),d.isUnlock=!1,this.onNodeDrop(a,b,c,d);else{if(this.invalidateDrop(),f=g.getWidth(),s){if(m===k)return void n.onHeaderMoved(g,r,p,q);m>k&&(m-=1)}Ext.suspendLayouts(),s?l.move(k,m):(j.remove(g,!1),l.insert(m,g)),l.isGroupHeader?s||(g.savedFlex=g.flex,delete g.flex,g.width=f):g.savedFlex&&(g.flex=g.savedFlex,delete g.width),n.purgeCache(),Ext.resumeLayouts(!0),n.onHeaderMoved(g,r,p,q)}}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0),Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.AbstractPlugin,{init:function(a){this.headerCt=a,a.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt),a.dropZone=new Ext.grid.header.DropZone(a.headerCt),a.disabled&&a.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0),Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:!0,baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var a=this;a.headerCounter=0,a.plugins=a.plugins||[],a.isColumn||(a.enableColumnResize&&(a.resizer=new Ext.grid.plugin.HeaderResizer,a.plugins.push(a.resizer)),a.enableColumnMove&&(a.reorderer=new Ext.grid.plugin.HeaderReorderer,a.plugins.push(a.reorderer))),!a.isColumn||a.items&&0!==a.items.length?(a.layout=Ext.apply({type:"gridcolumn",align:"stretch"},a.initialConfig.layout),a.isRootHeader&&(a.grid.columnManager=a.columnManager=new Ext.grid.ColumnManager(a))):(a.isContainer=!1,a.layout={type:"container",calculate:Ext.emptyFn}),a.defaults=a.defaults||{},Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable}),a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a),a.callParent(),a.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){return this.hiddenHeaders?!1:this.callParent()},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up("[isRootHeader]")},onDestroy:function(){var a=this;a.menu&&a.menu.un("hide",a.onMenuHide,a),a.menuTask.cancel(),Ext.destroy(a.resizer,a.reorderer),a.callParent()},applyColumnsState:function(a){if(a&&a.length){var b,c,d,e,f=this,g=f.items.items,h=g.length,i=0,j=a.length;for(b=0;j>b;b++)for(d=a[b],e=h;e--;)if(c=g[e],c.getStateId&&c.getStateId()==d.id){i!==e&&f.moveHeader(e,i),c.applyColumnState&&c.applyColumnState(d),++i;break}}},getColumnsState:function(){var a,b=this,c=[];return b.items.each(function(b){a=b.getColumnState&&b.getColumnState(),a&&c.push(a)}),c},onAdd:function(a){var b=this;a.headerId||(a.headerId=a.initialConfig.id||Ext.id(null,"header-")),a.getStateId()||(a.stateId=a.initialConfig.id||"h"+ ++b.headerCounter),b.callParent(arguments),b.onColumnsChanged()},onMove:function(){this.callParent(arguments),this.onColumnsChanged()},onShow:function(){this.callParent(arguments),this.onColumnsChanged()},onColumnsChanged:function(){for(var a=this;a&&(a.purgeCache(),!a.isRootHeader);)a=a.ownerCt;a&&a.rendered&&a.fireEvent("columnschanged",a)},onRemove:function(a){var b=this,c=b.ownerCt;b.callParent(arguments),b.destroying||(b.onColumnsChanged(),b.isGroupHeader&&!b.items.getCount()&&c&&(b.detachComponent(a),Ext.suspendLayouts(),c.remove(b),Ext.resumeLayouts(!0)))},applyDefaults:function(a){var b;return a&&!a.isComponent&&"rownumberer"==a.xtype?b=a:(b=this.callParent(arguments),a.isGroupHeader||"width"in b||b.flex||(b.width=this.defaultWidth)),b},setSortState:function(){var a,b=this.up("[store]").store,c=b.getFirstSorter();c?(a=this.down("gridcolumn[dataIndex="+c.property+"]"),a&&a.setSortState(c.direction,!1,!0)):this.clearOtherSortStates(null)},getHeaderMenu:function(){var a,b=this.getMenu();return b&&(a=b.child("#columnItem"))?a.menu:null},onHeaderVisibilityChange:function(a,b){var c,d=this,e=d.getHeaderMenu();d.purgeCache(),e&&(c=d.getMenuItemForHeader(e,a),c&&c.setChecked(b,!0),e.isVisible()&&d.menuTask.delay(50))},updateMenuDisabledState:function(a){var b,c,d,e,f=this,g=f.query(":not([hidden])"),h=g.length;for(a||(a=f.getMenu()),b=0;h>b;++b)c=g[b],d=f.getMenuItemForHeader(a,c),d&&(e=c.isHideable()?"enable":"disable",d.menu&&(e+="CheckChange"),d[e]())},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=this,c=b.ownerCt;b.forceFit&&delete b.flex,b.onHeaderVisibilityChange(a,!0),a.isGroupHeader||c&&c.onHeaderShow(b,a),b.fireEvent("columnshow",b,a),b.fireEvent("columnschanged",this)},onHeaderHide:function(a){var b=this,c=b.ownerCt;b.onHeaderVisibilityChange(a,!1),a.isGroupHeader||c&&c.onHeaderHide(b,a),b.fireEvent("columnhide",b,a),b.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(a,b){var c=this,d=c.view,e=c.ownerCt;d&&d.body.dom&&(c.tempLock(),e&&e.onHeaderResize(c,a,b)),c.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",this,a,b,c),this.fireEvent("headerclick",this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent("headercontextmenu",this,a,b,c),this.fireEvent("headercontextmenu",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){var d=this;a.fireEvent("headertriggerclick",d,a,b,c)!==!1&&d.fireEvent("headertriggerclick",d,a,b,c)!==!1&&d.showMenuBy(c,a)},showMenuBy:function(a,b){var c,d=this.getMenu(),e=d.down("#ascItem"),f=d.down("#descItem");d.activeHeader=d.ownerButton=b,b.setMenuActive(!0),c=b.sortable?"enable":"disable",e&&e[c](),f&&f[c](),d.showBy(a)},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},moveHeader:function(a,b){this.tempLock(),this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this,b=a.menu;a.gridDataColumns=a.hideableColumns=null,a.columnManager&&a.columnManager.invalidate(),b&&b.hidden&&(b.hide(),b.destroy(),a.menu=null)},onHeaderMoved:function(a,b,c,d){var e=this,f=e.ownerCt;f&&f.onHeaderMove&&f.onHeaderMove(e,a,b,c,d),e.fireEvent("columnmove",e,a,c,d)},getMenu:function(){var a=this;return a.menu||(a.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:a.getMenuItems(),listeners:{hide:a.onMenuHide,scope:a}}),a.fireEvent("menucreate",a,a.menu)),a.updateMenuDisabledState(a.menu),a.menu},getMenuItems:function(){var a=this,b=[],c=a.enableColumnHide?a.getColumnMenu(a):null;return a.sortable&&(b=[{itemId:"ascItem",text:a.sortAscText,cls:a.menuSortAscCls,handler:a.onSortAscClick,scope:a},{itemId:"descItem",text:a.sortDescText,cls:a.menuSortDescCls,handler:a.onSortDescClick,scope:a}]),c&&c.length&&(a.sortable&&b.push("-"),b.push({itemId:"columnItem",text:a.columnsText,cls:a.menuColsIcon,menu:c,hideOnClick:!1})),b},onSortAscClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("ASC")},onSortDescClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("DESC")},getColumnMenu:function(a){for(var b,c,d=[],e=0,f=a.query(">gridcolumn[hideable]"),g=f.length;g>e;e++)b=f[e],c=new Ext.menu.CheckItem({text:b.menuText||b.text,checked:!b.hidden,hideOnClick:!1,headerId:b.id,menu:b.isGroupHeader?this.getColumnMenu(b):void 0,checkHandler:this.onColumnCheckChange,scope:this}),d.push(c),b.on({destroy:Ext.Function.bind(c.destroy,c)});return d},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c[b?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){for(var a,b=0,c=this.getVisibleGridColumns(),d=c.length,e=0;d>e;e++)a=c[e],b+=a.getDesiredWidth?a.getDesiredWidth()||0:a.getWidth();return b},clearOtherSortStates:function(a){for(var b=this.getGridColumns(),c=b.length,d=0;c>d;d++)b[d]!==a&&b[d].setSortState(null,!0)},getVisibleGridColumns:function(){var a,b=this.getGridColumns(),c=[],d=b.length;for(a=0;d>a;a++)b[a].hidden||(c[c.length]=b[a]);return c},getGridColumns:function(a,b){if(!a&&this.gridDataColumns)return this.gridDataColumns;var c,d,e,f,g,h=this,i=a||[];if(b=b||h.hidden,h.items)for(c=h.items.items,d=0,e=c.length;e>d;d++)f=c[d],f.isGroupHeader?f.getGridColumns(i,b):(f.hiddenAncestor=b,i.push(f));if(a||(h.gridDataColumns=i),!a&&e){for(d=0,e=i.length;e>d;d++)f=i[d],f.isFirstVisible=f.isLastVisible=!1,f.hidden||f.hiddenAncestor||(g||(f.isFirstVisible=!0),g=f);g&&(g.isLastVisible=!0)}return i},getHideableColumns:function(){var a=this,b=a.hideableColumns;return b||(b=a.hideableColumns=a.query("[hideable]")),b},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(a){var b=this.view;b&&b.autoSizeColumn(a)}},0,["headercontainer"],["component","container","box","headercontainer"],{component:!0,container:!0,box:!0,headercontainer:!0},["widget.headercontainer"],0,[Ext.grid.header,"Container"],0),Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:!0,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var a,b,c=this;null!=c.header&&(c.text=c.header,c.header=null),c.triStateSort||(c.possibleSortStates.length=2),null!=c.columns?(c.isGroupHeader=!0,c.items=c.columns,c.columns=c.flex=c.width=null,c.cls=(c.cls||"")+" "+c.groupHeaderCls,c.sortable=c.resizable=!1,c.align="center"):c.flex&&(c.minWidth=c.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),c.addCls(Ext.baseCSSPrefix+"column-header-align-"+c.align),a=c.renderer,a?("string"==typeof a&&(c.renderer=Ext.util.Format[a]),c.hasCustomRenderer=!0):c.defaultRenderer&&(c.scope=c,c.renderer=c.defaultRenderer),c.callParent(arguments),b={element:c.clickTargetName,click:c.onTitleElClick,contextmenu:c.onTitleElContextMenu,mouseenter:c.onTitleMouseOver,mouseleave:c.onTitleMouseOut,scope:c},c.resizable&&(b.dblclick=c.onTitleElDblClick),c.on(b)},onAdd:function(a){a.isColumn&&(a.isSubHeader=!0,a.addCls(this.groupSubHeaderCls)),this.hidden&&a.hide(),this.callParent(arguments)},onRemove:function(a){a.isSubHeader&&(a.isSubHeader=!1,a.removeCls(this.groupSubHeaderCls)),this.callParent(arguments)},initRenderData:function(){var a=this,b="",c=a.tooltip,d="qtip"==a.tooltipType?"data-qtip":"title";return Ext.isEmpty(c)||(b=d+'="'+c+'" '),Ext.applyIf(a.callParent(arguments),{text:a.text,menuDisabled:a.menuDisabled,tipMarkup:b})},applyColumnState:function(a){var b=this;b.applyColumnsState(a.columns),null!=a.hidden&&(b.hidden=a.hidden),null!=a.locked&&(b.locked=a.locked),null!=a.sortable&&(b.sortable=a.sortable),null!=a.width?(b.flex=null,b.width=a.width):null!=a.flex&&(b.width=null,b.flex=a.flex)},getColumnState:function(){var a,b=this,c=b.items.items,d=c?c.length:0,e=[],f={id:b.getStateId()};if(b.savePropsToState(["hidden","sortable","locked","flex","width"],f),b.isGroupHeader){for(a=0;d>a;a++)e.push(c[a].getColumnState());e.length&&(f.columns=e)}else b.isSubHeader&&b.ownerCt.hidden&&delete b.hidden;return"width"in f&&delete f.flex,f},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a,this.rendered&&this.textEl.update(a)},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,b=a.up("tablepanel");a.callParent(),!b||a.sortable&&b.sortableColumns!==!1||a.groupable||a.lockable||b.enableColumnHide!==!1&&a.getOwnerHeaderCt().getHideableColumns().length||(a.menuDisabled=!0),a.protoEl.unselectable()},afterRender:function(){var a=this,b=a.triggerEl;a.callParent(arguments),Ext.isIE8&&Ext.isStrict||a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a}),b&&void 0===a.self.triggerElWidth&&(b.setStyle("display","block"),a.self.triggerElWidth=b.getWidth(),b.setStyle("display","")),a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(a,b,c){var d=this,e=d.getOwnerHeaderCt();d.callParent(arguments),e&&(null!=c||d.flex)&&a!==c&&e.onHeaderResize(d,a,!0)},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field),a.keyNav=null,a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){this.triggerEl&&this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a){var b,c,d=this;if(d.isOnLeftEdge(a))b=d.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),b&&b.getOwnerHeaderCt()===d.getOwnerHeaderCt()&&b.autoSize();else if(d.isOnRightEdge(a)){if(d.isGroupHeader&&a.getPoint().isContainedBy(d.layout.innerCt))return c=d.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void this.getOwnerHeaderCt().autoSizeColumn(c[c.length-1]);d.autoSize()}},autoSize:function(){var a,b,c,d,e=this;if(e.isGroupHeader){for(a=e.query("gridcolumn:not([hidden]):not([isGroupHeader])"),b=a.length,d=this.getOwnerHeaderCt(),Ext.suspendLayouts(),c=0;b>c;c++)d.autoSizeColumn(a[c]);return void Ext.resumeLayouts(!0)}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,b){var c=this,d=c.getOwnerHeaderCt();d&&!d.ddLock&&(c.triggerEl&&(a.target===c.triggerEl.dom||b===c.triggerEl.dom||a.within(c.triggerEl))?d.onHeaderTriggerClick(c,a,b):(a.getKey()||!c.isOnLeftEdge(a)&&!c.isOnRightEdge(a))&&(c.toggleSortState(),d.onHeaderClick(c,a,b)))},onTitleElContextMenu:function(a,b){var c=this,d=c.getOwnerHeaderCt();d&&!d.ddLock&&d.onHeaderContextMenu(c,a,b)},processEvent:function(){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a,b,c=this;c.sortable&&(a=Ext.Array.indexOf(c.possibleSortStates,c.sortState),b=(a+1)%c.possibleSortStates.length,c.setSortState(c.possibleSortStates[b]))},doSort:function(a){var b=this.up("tablepanel"),c=b.store;b.ownerLockable&&c.isNodeStore&&(c=b.ownerLockable.lockedGrid.store),c.sort({property:this.getSortParam(),direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(a,b,c){var d=this,e=d.ascSortCls,f=d.descSortCls,g=d.getOwnerHeaderCt(),h=d.sortState;if(a=a||null,!d.sorting&&h!==a&&null!=d.getSortParam()){switch(a&&!c&&(d.sorting=!0,d.doSort(a),d.sorting=!1),a){case"DESC":d.addCls(f),d.removeCls(e);break;case"ASC":d.addCls(e),d.removeCls(f);break;default:d.removeCls([e,f])}!g||d.triStateSort||b||g.clearOtherSortStates(d),d.sortState=a,(d.triStateSort||null!=a)&&g.fireEvent("sortchange",g,d,a)}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};return a.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a]),a.result},hasOtherMenuEnabledChildren:function(a){var b,c;return this.isXType("headercontainer")?(b=this.query(">:not([hidden]):not([menuDisabled])"),c=b.length,Ext.Array.contains(b,a.hideCandidate)&&c--,c?!1:void(a.hideCandidate=this)):(a.result=!1,!1)},isLockable:function(){var a={result:this.lockable!==!1};return a.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a]),a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){return this.isXType("headercontainer")?this.query(">:not([hidden])").length>1?!1:void 0:(a.result=!1,!1)},hide:function(a){var b,c,d,e,f,g=this,h=g.getOwnerHeaderCt(),i=g.ownerCt;if(!g.isVisible())return g;if(!h)return g.callParent(),g;if(h.forceFit&&(g.visibleSiblingCount=h.getVisibleGridColumns().length-1,g.flex&&(g.savedWidth=g.getWidth(),g.flex=null)),b=i.isGroupHeader,b&&!a&&(d=i.query(">:not([hidden])"),1===d.length&&d[0]==g))return void g.ownerCt.hide();if(Ext.suspendLayouts(),g.isGroupHeader)for(d=g.items.items,f=0,e=d.length;e>f;f++)c=d[f],c.hidden||c.hide(!0);return g.callParent(),h.onHeaderHide(g),Ext.resumeLayouts(!0),g},show:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.getOwnerHeaderCt(),m=k.ownerCt,n=Ext.grid.header.Container.prototype.defaultWidth;if(k.isVisible())return k;if(!k.rendered)return void(k.hidden=!1);if(h=l.el.getViewSize().width-(l.view.el.dom.scrollHeight>l.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0),l.forceFit)if(c=Ext.ComponentQuery.query(":not([flex])",l.getVisibleGridColumns()),c.length)k.width=k.savedWidth||k.width||n;else{for(c=l.getVisibleGridColumns(),d=c.length,j=k.visibleSiblingCount,g=k.savedWidth||k.width||n,g=Math.min(g*(j/d),n,Math.max(h-d*n,n)),k.width=null,k.flex=g,h-=g,i=0,e=0;d>e;e++)f=c[e],f.flex=f.width||f.getWidth(),i+=f.flex,f.width=null;for(e=0;d>e;e++)f=c[e],f.flex=f.flex/i*h}if(Ext.suspendLayouts(),k.isSubHeader&&m.hidden&&m.show(!1,!0),k.callParent(arguments),k.isGroupHeader&&b!==!0&&!k.query(":not([hidden])").length)for(c=k.items.items,e=0,d=c.length;d>e;e++)f=c[e],f.hidden&&f.show(!0);Ext.resumeLayouts(!0),m=k.getOwnerHeaderCt(),m&&m.onHeaderShow(k)},getDesiredWidth:function(){var a=this;return a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize?a.componentLayout.lastComponentSize.width:a.flex?a.width:a.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(a){return this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)}},0,["gridcolumn"],["component","gridcolumn","container","box","headercontainer"],{component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0),Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(a){var b,c,d,e=this,f=Ext.apply({},a),g=f.items||e.items||[e];for(e.origRenderer=f.renderer||e.renderer,e.origScope=f.scope||e.scope,e.renderer=e.scope=f.renderer=f.scope=null,f.items=null,e.callParent([f]),e.items=g,c=0,d=g.length;d>c;++c)if(g[c].getClass){b=!0;break}(e.origRenderer||b)&&(e.hasCustomRenderer=!0)},defaultRenderer:function(a,b,c,d,e,f,g){var h,i,j,k,l=this,m=Ext.baseCSSPrefix,n=l.origScope||l,o=l.items,p=o.length,q=0;for(i=Ext.isFunction(l.origRenderer)?l.origRenderer.apply(n,arguments)||"":"",b.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";p>q;q++)h=o[q],j=h.disabled||(h.isDisabled?h.isDisabled.call(h.scope||n,g,d,e,h,c):!1),k=j?null:h.tooltip||(h.getTip?h.getTip.apply(h.scope||n,arguments):null),h.hasActionConfiguration||(h.stopSelection=l.stopSelection,h.disable=Ext.Function.bind(l.disableAction,l,[q],0),h.enable=Ext.Function.bind(l.enableAction,l,[q],0),h.hasActionConfiguration=!0),i+='<img role="button" alt="'+(h.altText||l.altText)+'" src="'+(h.icon||Ext.BLANK_IMAGE_URL)+'" class="'+m+"action-col-icon "+m+"action-col-"+String(q)+" "+(j?m+"item-disabled":" ")+" "+(Ext.isFunction(h.getClass)?h.getClass.apply(h.scope||n,arguments):h.iconCls||l.iconCls||"")+'"'+(k?' data-qtip="'+k+'"':"")+" />";return i},enableAction:function(a,b){var c=this;a?Ext.isNumber(a)||(a=Ext.Array.indexOf(c.items,a)):a=0,c.items[a].disabled=!1,c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(c.disabledCls),b||c.fireEvent("enable",c)},disableAction:function(a,b){var c=this;a?Ext.isNumber(a)||(a=Ext.Array.indexOf(c.items,a)):a=0,c.items[a].disabled=!0,c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).addCls(c.disabledCls),b||c.fireEvent("disable",c)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(a,b,c,d,e,f,g,h){var i,j,k,l,m=this,n=f.getTarget(),o="keydown"==a&&f.getKey();if(o&&!Ext.fly(n).findParent(b.getCellSelector())&&(n=Ext.fly(c).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),n&&(i=n.className.match(m.actionIdRe))&&(j=m.items[parseInt(i[1],10)],l=j.disabled||(j.isDisabled?j.isDisabled.call(j.scope||m.origScope||m,b,d,e,j,g):!1),j&&!l))if("click"==a||o==f.ENTER||o==f.SPACE)k=j.handler||m.handler,k&&k.call(j.scope||m.origScope||m,b,d,e,j,f,g,h);else if("mousedown"==a&&j.stopSelection!==!1)return!1;return m.callParent(arguments)},cascade:function(a,b){a.call(b||this,this)},getRefItems:function(){return[]}},1,["actioncolumn"],["component","gridcolumn","container","actioncolumn","box","headercontainer"],{component:!0,gridcolumn:!0,container:!0,actioncolumn:!0,box:!0,headercontainer:!0},["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0),Ext.cmd.derive("Ext.grid.column.Boolean",Ext.grid.column.Column,{alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(a){return void 0===a?this.undefinedText:a&&"false"!==a?this.trueText:this.falseText}},0,["booleancolumn"],["booleancolumn","component","gridcolumn","container","box","headercontainer"],{booleancolumn:!0,component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.booleancolumn"],0,[Ext.grid.column,"Boolean",Ext.grid,"BooleanColumn"],0),Ext.cmd.derive("Ext.grid.column.CheckColumn",Ext.grid.column.Column,{alternateClassName:"Ext.ux.CheckColumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange"),this.scope=this,this.callParent(arguments)},processEvent:function(a,b,c,d,e,f,g){var h=this,i="keydown"===a&&f.getKey(),j="mousedown"==a;if(h.disabled||!j&&i!=f.ENTER&&i!=f.SPACE)return h.callParent(arguments);var k=h.dataIndex,l=!g.get(k);return h.fireEvent("beforecheckchange",h,d,l)!==!1?(g.set(k,l),h.fireEvent("checkchange",h,d,l),j&&f.stopEvent(),h.stopSelection||b.selModel.selectByPosition({row:d,column:e}),!1):!h.stopSelection},onEnable:function(a){var b=this;b.callParent(arguments),b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).removeCls(b.disabledCls),a||b.fireEvent("enable",b)},onDisable:function(a){var b=this;b.callParent(arguments),b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).addCls(b.disabledCls),a||b.fireEvent("disable",b)},renderer:function(a,b){var c=Ext.baseCSSPrefix,d=[c+"grid-checkcolumn"];return this.disabled&&(b.tdCls+=" "+this.disabledCls),a&&d.push(c+"grid-checkcolumn-checked"),'<img class="'+d.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}},1,["checkcolumn"],["checkcolumn","component","gridcolumn","container","box","headercontainer"],{checkcolumn:!0,component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.checkcolumn"],0,[Ext.grid.column,"CheckColumn",Ext.ux,"CheckColumn"],0),Ext.cmd.derive("Ext.grid.column.Date",Ext.grid.column.Column,{alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)}},0,["datecolumn"],["component","gridcolumn","container","datecolumn","box","headercontainer"],{component:!0,gridcolumn:!0,container:!0,datecolumn:!0,box:!0,headercontainer:!0},["widget.datecolumn"],0,[Ext.grid.column,"Date",Ext.grid,"DateColumn"],0),Ext.cmd.derive("Ext.grid.column.Number",Ext.grid.column.Column,{alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)}},0,["numbercolumn"],["component","gridcolumn","container","box","headercontainer","numbercolumn"],{component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0,numbercolumn:!0},["widget.numbercolumn"],0,[Ext.grid.column,"Number",Ext.grid,"NumberColumn"],0),Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",text:"&#160",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",constructor:function(){var a=this;a.width=a.width,a.callParent(arguments),a.scope=a},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,renderer:function(a,b,c,d,e,f){var g=this.rowspan,h=f.currentPage,i=c.index;return g&&(b.tdAttr='rowspan="'+g+'"'),null==i&&(i=d,h>1&&(i+=(h-1)*f.pageSize)),i+1}},1,["rownumberer"],["rownumberer","component","gridcolumn","container","box","headercontainer"],{rownumberer:!0,component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0),Ext.cmd.derive("Ext.grid.column.Template",Ext.grid.column.Column,{alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var a=this;a.tpl=!Ext.isPrimitive(a.tpl)&&a.tpl.compile?a.tpl:new Ext.XTemplate(a.tpl),a.hasCustomRenderer=!0,a.callParent(arguments)},defaultRenderer:function(a,b,c){var d=Ext.apply({},c.data,c.getAssociatedData());return this.tpl.apply(d)}},0,["templatecolumn"],["templatecolumn","component","gridcolumn","container","box","headercontainer"],{templatecolumn:!0,component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.templatecolumn"],0,[Ext.grid.column,"Template",Ext.grid,"TemplateColumn"],0),Ext.cmd.derive("Ext.grid.feature.Feature",Ext.util.Observable,{wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(a,b,c,d){return[a,b,c,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}},1,0,0,0,["feature.feature"],0,[Ext.grid.feature,"Feature"],0),Ext.cmd.derive("Ext.grid.feature.AbstractSummary",Ext.grid.feature.Feature,{summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(a,b){return a.record.isSummary?(this.summaryFeature.outputSummaryRecord(a.record,a,b),!1):void 0},priority:1e3},showSummaryRow:!0,init:function(){var a=this;a.view.summaryFeature=a,a.rowTpl=a.view.self.prototype.rowTpl,a.view.addRowTpl(a.summaryRowTpl).summaryFeature=a},toggleSummaryRow:function(a){this.showSummaryRow=!!a},outputSummaryRecord:function(a,b,c){var d,e,f=b.view,g=f.rowValues,h=b.columns||f.headerCt.getVisibleGridColumns(),i=h.length,j={view:f,record:a,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:f.getRowId(a),columns:h};for(d=0;i>d;d++)e=h[d],e.savedRenderer=e.renderer,e.summaryRenderer?e.renderer=e.summaryRenderer:e.summaryType||(e.renderer=Ext.emptyFn),e.dataIndex||(e.dataIndex=e.id);for(f.rowValues=j,f.self.prototype.rowTpl.applyOut(j,c),f.rowValues=g,d=0;i>d;d++)e=h[d],e.renderer=e.savedRenderer,e.savedRenderer=null},getSummary:function(a,b,c,d){var e=d.records;if(b){if(Ext.isFunction(b))return a.getAggregate(b,null,e,[c]);switch(b){case"count":return e.length;case"min":return a.getMin(e,c);case"max":return a.getMax(e,c);case"sum":return a.getSum(e,c);case"average":return a.getAverage(e,c);default:return""}}},generateSummaryData:function(){var a,b,c,d,e,f,g,h,i=this,j=i.view.store,k=j.groups.items,l=j.proxy.reader,m=k.length,n=i.getGroupField(),o={},p=i.lockingPartner;if(i.remoteRoot&&l.rawData){for(f=!0,h={},d=l.root,l.root=i.remoteRoot,l.buildExtractors(!0),e=l.getRoot(l.rawData)||[],m=e.length,l.convertRecordData||l.buildExtractors(),a=0;m>a;++a)g={},l.convertRecordData(g,e[a]),h[g[n]]=g;l.root=d,l.buildExtractors(!0)}for(a=0;m>a;++a)b=k[a],f||b.isDirty()||!b.hasAggregate()?(c=f?i.populateRemoteRecord(b,h):i.populateRecord(b),p&&i.view.ownerCt!==i.view.ownerCt.ownerLockable.normalGrid||b.commit()):c=b.getAggregateRecord(),o[b.key]=c;return o},populateRemoteRecord:function(a,b){var c,d=a.getAggregateRecord(!0),e=b[a.key];d.beginEdit();for(c in e)e.hasOwnProperty(c)&&c!==d.idProperty&&d.set(c,e[c]);return d.endEdit(!0),d.commit(!0),d},populateRecord:function(a){var b,c,d,e=this,f=e.grid.ownerLockable?e.grid.ownerLockable.view:e.view,g=e.view.store,h=a.getAggregateRecord(),i=f.headerCt.getGridColumns(),j=i.length;for(h.beginEdit(),b=0;j>b;++b)c=i[b],d=c.dataIndex||c.id,h.set(d,e.getSummary(g,c.summaryType,d,a));return h.endEdit(!0),h.commit(),h}},0,0,0,0,["feature.abstractsummary"],0,[Ext.grid.feature,"AbstractSummary"],0),Ext.cmd.derive("Ext.grid.feature.GroupStore",Ext.util.Observable,{isStore:!0,constructor:function(a,b){var c=this;c.superclass.constructor.apply(c,arguments),c.groupingFeature=a,c.bindStore(b),c.processStore(b),c.view.dataSource=c
},bindStore:function(a){var b=this;b.store&&(Ext.destroy(b.storeListeners),b.store=null),a&&(b.storeListeners=a.on({bulkremove:b.onBulkRemove,add:b.onAdd,update:b.onUpdate,refresh:b.onRefresh,clear:b.onClear,scope:b,destroyable:!0}),b.store=a)},processStore:function(a){var b,c,d,e=this,f=a.getGroups(),g=f.length,h=e.data,i=e.groupingFeature.groupCache,j=e.groupingFeature.clearGroupCache(),k=e.groupingFeature.startCollapsed;if(h?h.clear():h=e.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),a.getCount())for(e.groupingFeature.startCollapsed=!1,b=0;g>b;b++)c=f[b],j[c.name]=c,c.isCollapsed=k||i[c.name]&&i[c.name].isCollapsed,c.isCollapsed?(c.placeholder=d=new a.model(null,"group-"+c.name+"-placeholder"),d.set(e.getGroupField(),c.name),d.rows=d.children=c.children,d.isCollapsedPlaceholder=!0,h.add(d)):h.insert(e.data.length,c.children)},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(a){var b;return this.store.isGrouped()&&(b=this.groupingFeature.groupCache[a.get(this.getGroupField())])?b.isCollapsed||!1:!1},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(a,b){return b<this.getCount()},getRange:function(a,b,c){var d=this.data.getRange(a,b);return c&&c.callback&&c.callback.call(c.scope||this,d,a,b,c),d},getAt:function(a){return this.getRange(a,a)[0]},getById:function(a){return this.store.getById(a)},expandGroup:function(a){var b,c=this;"string"==typeof a&&(a=c.groupingFeature.groupCache[a]),a&&a.children.length&&-1!==(b=c.indexOf(a.children[0],!0,!0))&&(a.isCollapsed=!1,c.isExpandingOrCollapsing=1,c.data.removeAt(b),c.fireEvent("bulkremove",c,[c.getGroupPlaceholder(a)],[b]),c.data.insert(b,a.children),c.fireEvent("add",c,a.children,b),c.fireEvent("groupexpand",c,a),c.isExpandingOrCollapsing=0)},collapseGroup:function(a){var b,c,d,e,f,g,h=this;if("string"==typeof a&&(a=h.groupingFeature.groupCache[a]),a&&(f=a.children.length)&&-1!==(b=h.indexOf(a.children[0],!0))){for(a.isCollapsed=!0,h.isExpandingOrCollapsing=2,h.data.removeRange(b,f),g=new Array(f),d=0,e=b;f>d;d++,e++)g[d]=e;h.fireEvent("bulkremove",h,a.children,g),h.data.insert(b,c=h.getGroupPlaceholder(a)),h.fireEvent("add",h,[c],b),h.fireEvent("groupcollapse",h,a),h.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(a){if(!a.placeholder){var b=a.placeholder=new this.store.model(null,"group-"+a.name+"-placeholder");b.set(this.getGroupField(),a.name),b.rows=b.children=a.children,b.isCollapsedPlaceholder=!0}return a.placeholder},indexOf:function(a,b,c){var d,e,f,g,h,i=this,j=0;if(a&&(c||!i.isInCollapsedGroup(a)))for(d=i.store.getGroups(),e=d.length,f=0;e>f;f++){if(g=d[f],g.name===this.store.getGroupString(a))return h=Ext.Array.indexOf(g.children,a),j+h;j+=b&&i.isCollapsed(g.name)?1:g.children.length}return-1},indexOfTotal:function(a){var b=a.index;return b||0===b?b:this.istore.ndexOf(a)},onRefresh:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onBulkRemove:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onClear:function(){this.processStore(this.store),this.fireEvent("clear",this)},onAdd:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onUpdate:function(a,b,c,d){var e,f,g=this,h=g.groupingFeature.getRecordGroup(b);if(a.isGrouped()){if(d&&Ext.Array.contains(d,g.groupingFeature.getGroupField()))return g.onRefresh(g.store);h.isCollapsed?g.fireEvent("update",g,h.placeholder):(Ext.suspendLayouts(),g.fireEvent("update",g,b,c,d),e=h.children[0],f=h.children[h.children.length-1],e!==b&&g.fireEvent("update",g,e,"edit"),f!==b&&f!==e&&g.fireEvent("update",g,f,"edit"),Ext.resumeLayouts(!0))}else g.fireEvent("update",g,b,c,d)}},1,0,0,0,0,0,[Ext.grid.feature,"GroupStore"],0),Ext.cmd.derive("Ext.grid.feature.Grouping",Ext.grid.feature.Feature,{eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,tableTpl:{before:function(a){this.groupingFeature.disabled||1===a.rows.length&&a.rows[0].isSummary||this.groupingFeature.setup(a.rows,a.view.rowValues)},after:function(a){this.groupingFeature.disabled||1===a.rows.length&&a.rows[0].isSummary||this.groupingFeature.cleanup(a.rows,a.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = !me.disabled && (values.isFirstRow || values.summaryRecord);","}","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}"','class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row<tpl if="!summaryRecord"> '+Ext.baseCSSPrefix+'grid-group-row</tpl>">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%">',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(a,b){a=Ext.fly(a,"syncDest"),b=Ext.fly(b,"sycSrc");var c,d,e,f,g=this.owner,h=a.down(g.eventSelector,!0),i=a.down(g.summaryRowSelector,!0);h&&(c=b.down(g.eventSelector,!0))&&(h.style.height=c.style.height="",(e=h.offsetHeight)>(f=c.offsetHeight)?Ext.fly(c).setHeight(e):f>e&&Ext.fly(h).setHeight(f)),i&&(d=b.down(g.summaryRowSelector,!0))&&(i.style.height=d.style.height="",(e=i.offsetHeight)>(f=d.offsetHeight)?Ext.fly(d).setHeight(e):f>e&&Ext.fly(i).setHeight(f))},syncContent:function(a,b){a=Ext.fly(a,"syncDest"),b=Ext.fly(b,"sycSrc");var c=this.owner,d=a.down(c.eventSelector,!0),e=b.down(c.eventSelector,!0),f=a.down(c.summaryRowSelector,!0),g=b.down(c.summaryRowSelector,!0);d&&e&&Ext.fly(d).syncContent(e),f&&g&&Ext.fly(f).syncContent(g)}}],constructor:function(){this.groupCache={},this.callParent(arguments)},init:function(){var a=this,b=a.view;b.isGrouping=!0,a.lockingPartner&&a.lockingPartner.groupCache&&(a.groupCache=a.lockingPartner.groupCache),a.mixins.summary.init.call(a),a.callParent(arguments),b.headerCt.on({columnhide:a.onColumnHideShow,columnshow:a.onColumnHideShow,columnmove:a.onColumnMove,scope:a}),b.addTableTpl(a.tableTpl).groupingFeature=a,b.addRowTpl(Ext.XTemplate.getTpl(a,"groupTpl")).groupingFeature=a,b.preserveScrollOnRefresh=!0,b.store.buffered?a.collapsible=!1:a.dataSource=b.dataSource=this.lockingPartner&&this.lockingPartner.dataSource?this.lockingPartner.dataSource:new Ext.grid.feature.GroupStore(a,b.store),a.grid.on({reconfigure:a.onReconfigure}),b.on({afterrender:a.afterViewRender,scope:a,single:!0})},clearGroupCache:function(){var a=this,b=a.groupCache={};return a.lockingPartner&&(a.lockingPartner.groupCache=b),b},vetoEvent:function(a,b,c,d){return"mouseover"!==d.type&&"mouseout"!==d.type&&"mouseenter"!==d.type&&"mouseleave"!==d.type&&d.getTarget(this.eventSelector)?!1:void 0},enable:function(){var a,b=this,c=b.view,d=c.store;b.lastGroupField=b.getGroupField(),c.isGrouping=!0,b.lastGroupIndex&&(b.block(),d.group(b.lastGroupIndex),b.unblock()),b.callParent(),a=b.view.headerCt.getMenu().down("#groupToggleMenuItem"),a&&a.setChecked(!0,!0),b.refreshIf()},disable:function(){var a,b,c=this,d=c.view,e=d.store;d.isGrouping=!1,b=e.groupers.first(),b&&(c.lastGroupIndex=b.property,c.block(),e.clearGrouping(),c.unblock()),c.callParent(),a=c.view.headerCt.getMenu().down("#groupToggleMenuItem"),a&&a.setChecked(!1,!0),c.refreshIf()},refreshIf:function(){var a=this.grid.ownerCt,b=this.view;b.store.remoteGroup||this.blockRefresh||(a&&a.lockable?a.view.refresh():b.refresh())},afterViewRender:function(){var a=this,b=a.view;b.on({scope:a,groupclick:a.onGroupClick}),a.enableGroupingMenu&&a.injectGroupingMenu(),a.pruneGroupedHeader(),a.lastGroupField=a.getGroupField(),a.block(),a.onGroupChange(),a.unblock()},injectGroupingMenu:function(){var a=this,b=a.view.headerCt;b.showMenuBy=a.showMenuBy,b.getMenuItems=a.getMenuItems()},onColumnHideShow:function(){var a,b,c,d=this.view,e=d.headerCt,f=e.getMenu(),g=f.down("#groupMenuItem"),h=e.getGridColumns().length;if(g&&(e.getVisibleGridColumns().length>1?g.enable():g.disable()),d.rendered)for(a=d.el.query("."+this.ctCls),c=0,b=a.length;b>c;++c)a[c].colSpan=h},onColumnMove:function(){var a,b,c,d,e,f,g=this,h=g.view.store;if(h.isGrouped())for(a=h.getGroups(),c=a.length,b=0;c>b;b++)d=a[b],e=d.children[0],f=d.children[d.children.length-1],h.fireEvent("update",h,e,"edit",null),f!==e&&h.fireEvent("update",h,f,"edit",null)},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#groupMenuItem"),e=b.groupable===!1||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",f=c.down("#groupToggleMenuItem"),g=this.view.store.isGrouped();d[e](),f&&(f.setChecked(g,!0),f[g?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,b=a.groupByText,c=a.disabled||!a.getGroupField(),d=a.showGroupsText,e=a.enableNoGroups,f=a.view.headerCt.getMenuItems;return function(){var g=f.call(this);return g.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:b,handler:a.onGroupMenuItemClick,scope:a}),e&&g.push({itemId:"groupToggleMenuItem",text:d,checked:!c,checkHandler:a.onGroupToggleMenuItemClick,scope:a}),g}},onGroupMenuItemClick:function(a){var b=this,c=a.parentMenu,d=c.activeHeader,e=b.view,f=e.store;b.lastGroupIndex=null,b.block(),b.enable(),f.group(d.dataIndex),b.pruneGroupedHeader(),b.unblock(),b.refreshIf()},block:function(a){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!a&&this.lockingPartner.block(!0)},unblock:function(a){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!a&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(a,b){this[b?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this,b=a.getGroupedHeader();a.hideGroupedHeader&&b&&(Ext.suspendLayouts(),a.prunedHeader&&a.prunedHeader!==b&&a.prunedHeader.show(),a.prunedHeader=b,b.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(a){return Ext.get(this.createGroupId(a))},getGroup:function(a){var b=this.groupCache,c=b[a];return c||(c=b[a]={isCollapsed:!1}),c},isExpanded:function(a){return!this.getGroup(a).isCollapsed},expand:function(a,b){this.doCollapseExpand(!1,a,b)},expandAll:function(){var a,b,c=this,d=c.view,e=c.groupCache,f=c.lockingPartner;for(a in e)e.hasOwnProperty(a)&&(e[a].isCollapsed=!1);Ext.suspendLayouts(),d.suspendEvent("beforerefresh","refresh"),f&&(b=f.view,b.suspendEvent("beforerefresh","refresh")),c.dataSource.onRefresh(),d.resumeEvent("beforerefresh","refresh"),f&&b.resumeEvent("beforerefresh","refresh"),Ext.resumeLayouts(!0);for(a in e)e.hasOwnProperty(a)&&(c.afterCollapseExpand(!1,a),f&&f.afterCollapseExpand(!1,a))},collapse:function(a,b){this.doCollapseExpand(!0,a,b)},isAllCollapsed:function(){var a,b=this,c=b.groupCache;for(a in c)if(c.hasOwnProperty(a)&&!c[a].isCollapsed)return!1;return!0},isAllExpanded:function(){var a,b=this,c=b.groupCache;for(a in c)if(c.hasOwnProperty(a)&&c[a].isCollapsed)return!1;return!0},collapseAll:function(){var a,b,c=this,d=c.view,e=c.groupCache,f=c.lockingPartner;for(a in e)e.hasOwnProperty(a)&&(e[a].isCollapsed=!0);Ext.suspendLayouts(),d.suspendEvent("beforerefresh","refresh"),f&&(b=f.view,b.suspendEvent("beforerefresh","refresh")),c.dataSource.onRefresh(),d.resumeEvent("beforerefresh","refresh"),f&&b.resumeEvent("beforerefresh","refresh"),f&&!f.isAllCollapsed()&&f.collapseAll(),Ext.resumeLayouts(!0);for(a in e)e.hasOwnProperty(a)&&(c.afterCollapseExpand(!0,a),f&&f.afterCollapseExpand(!0,a))},doCollapseExpand:function(a,b,c){var d=this,e=d.lockingPartner,f=d.groupCache[b];f.isCollapsed!=a&&(Ext.suspendLayouts(),a?d.dataSource.collapseGroup(f):d.dataSource.expandGroup(f),Ext.resumeLayouts(!0),d.afterCollapseExpand(a,b,c),e&&e.afterCollapseExpand(a,b,!1))},afterCollapseExpand:function(a,b,c){var d,e=this,f=e.view;d=Ext.get(this.getHeaderNode(b)),f.fireEvent(a?"groupcollapse":"groupexpand",f,d,b),c&&d.up(f.getItemSelector()).scrollIntoView(f.el,null,!0)},onGroupChange:function(){var a,b,c,d=this,e=d.getGroupField();d.hideGroupedHeader&&(d.lastGroupField&&(a=d.getMenuItem(d.lastGroupField),a&&a.setChecked(!0)),e&&(b=d.view.headerCt.getVisibleGridColumns(),c=1===b.length&&b[0].dataIndex==e,a=d.getMenuItem(e),a&&!c&&a.setChecked(!1))),d.refreshIf(),d.lastGroupField=e},getMenuItem:function(a){var b=this.view,c=b.headerCt.down("gridcolumn[dataIndex="+a+"]"),d=b.headerCt.getMenu();return c?d.down("menuitem[headerId="+c.id+"]"):null},onGroupKey:function(a,b){var c=this,d=c.getGroupName(b.target);d&&c.onGroupClick(c.view,b.target,d,b)},onGroupClick:function(a,b,c,d){var e,f=this,g=f.groupCache,h=!f.isExpanded(c);if(f.collapsible){if(d.ctrlKey){Ext.suspendLayouts();for(e in g)e===c?h&&f.expand(c):f.doCollapseExpand(!0,e,!1);return void Ext.resumeLayouts(!0)}h?f.expand(c):f.collapse(c)}},setupRowData:function(a,b,c){var d,e,f,g,h=this,i=h.refreshData,j=h.groupInfo,k=i.header,l=i.groupField,m=h.view.dataSource;if(c.isCollapsedGroup=!1,c.summaryRecord=null,i.doGrouping){if(d=h.view.store.groupers.first(),a.children)return e=d.getGroupString(a.children[0]),c.isFirstRow=c.isLastRow=!0,c.itemClasses.push(h.hdCollapsedCls),c.isCollapsedGroup=!0,c.groupInfo=j,j.groupField=l,j.name=e,j.groupValue=a.children[0].get(l),j.columnName=k?k.text:l,c.collapsibleCls=h.collapsible?h.collapsibleCls:h.hdNotCollapsibleCls,c.groupId=h.createGroupId(e),j.rows=j.children=a.children,void(h.showSummaryRow&&(c.summaryRecord=i.summaryData[e]));e=d.getGroupString(a),c.isFirstRow=0===b,c.isFirstRow||(f=m.getAt(b-1),f&&(c.isFirstRow=!f.isEqual(d.getGroupString(f),e))),c.isLastRow=b==m.getTotalCount()-1,c.isLastRow||(g=m.getAt(b+1),g&&(c.isLastRow=!g.isEqual(d.getGroupString(g),e))),c.isFirstRow&&(j.groupField=l,j.name=e,j.groupValue=a.get(l),j.columnName=k?k.text:l,c.collapsibleCls=h.collapsible?h.collapsibleCls:h.hdNotCollapsibleCls,c.groupId=h.createGroupId(e),h.isExpanded(e)||(c.itemClasses.push(h.hdCollapsedCls),c.isCollapsedGroup=!0),j.rows=j.children=m.buffered?[]:h.getRecordGroup(a).children,c.groupInfo=j),c.isLastRow&&h.showSummaryRow&&(c.summaryRecord=i.summaryData[e])}},setup:function(a,b){var c=this,d=c.refreshData,e=!c.disabled&&c.view.store.isGrouped();c.skippedRows=0,b.view.bufferedRenderer&&(b.view.bufferedRenderer.variableRowHeight=!0),d.groupField=c.getGroupField(),d.header=c.getGroupedHeader(d.groupField),d.doGrouping=e,b.groupHeaderTpl=Ext.XTemplate.getTpl(c,"groupHeaderTpl"),e&&c.showSummaryRow&&(d.summaryData=c.generateSummaryData())},cleanup:function(a,b){var c=this.refreshData;b.groupInfo=b.groupHeaderTpl=b.isFirstRow=null,c.groupField=c.header=null},getGroupName:function(a){var b,c,d,e=this,f=e.view,g=e.eventSelector;return c=Ext.fly(a).findParent(g),c||(d=Ext.fly(a).findParent(f.itemSelector),d&&(c=d.down(g,!0))),c&&(b=c.id.split(f.id+"-hd-"),2===b.length)?Ext.htmlDecode(b[1]):void 0},getRecordGroup:function(a){var b=this.view.store.groupers.first();return b?this.groupCache[b.getGroupString(a)]:void 0},createGroupId:function(a){return this.view.id+"-hd-"+Ext.htmlEncode(a)},createGroupCls:function(a){return this.view.id+"-"+Ext.htmlEncode(a)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var b,c,d=this,e=d.view.headerCt,f=d.lockingPartner;return a=a||this.getGroupField(),a&&(b="[dataIndex="+a+"]",c=e.down(b),!c&&f&&(c=f.view.headerCt.down(b))),c||null},getFireEventArgs:function(a,b,c,d){return[a,b,c,this.getGroupName(c),d]},destroy:function(){var a=this,b=a.dataSource;a.view=a.prunedHeader=a.grid=a.groupCache=a.dataSource=null,a.callParent(),b&&b.bindStore(null)},onReconfigure:function(a,b,c,d){var e=a;b&&b!==d&&(b.buffered!==d.buffered&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),b.buffered&&(e.bindStore(b),e.dataSource.processStore(b)))}},1,0,0,0,["feature.grouping"],[["summary",Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,"Grouping"],0),Ext.cmd.derive("Ext.grid.feature.GroupingSummary",Ext.grid.feature.Grouping,{showSummaryRow:!0,vetoEvent:function(a,b,c,d){var e=this.callParent(arguments);return e!==!1&&d.getTarget(this.summaryRowSelector)&&(e=!1),e}},0,0,0,0,["feature.groupingsummary"],0,[Ext.grid.feature,"GroupingSummary"],0),Ext.cmd.derive("Ext.grid.feature.RowBody",Ext.grid.feature.Feature,{rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(a){var b=a.view,c=b.rowValues;this.rowBody.setup(a.rows,c)},after:function(a){var b=a.view,c=b.rowValues;this.rowBody.cleanup(a.rows,c)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(a,b){var c,d,e,f=this.owner,g=Ext.fly(a).down(f.eventSelector,!0);g&&(c=Ext.fly(b).down(f.eventSelector,!0))&&((d=g.offsetHeight)>(e=c.offsetHeight)?Ext.fly(c).setHeight(d):e>d&&Ext.fly(g).setHeight(e))},syncContent:function(a,b){var c,d=this.owner,e=Ext.fly(a).down(d.eventSelector,!0);e&&(c=Ext.fly(b).down(d.eventSelector,!0))&&Ext.fly(e).syncContent(c)}}],init:function(a){var b=this,c=b.view;c.rowBodyFeature=b,c.findFeature("rowwrap")||(a.mon(c,{element:"el",mousedown:b.onMouseDown,scope:b}),b.mon(a.getStore(),"remove",b.onStoreRemove,b)),c.headerCt.on({columnschanged:b.onColumnsChanged,scope:b}),c.addTableTpl(b.tableTpl).rowBody=b,c.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")),b.callParent(arguments)},onStoreRemove:function(a,b,c){var d,e=this.view;e.rendered&&(d=e.getNode(c),d&&(d=Ext.fly(d).next(this.eventSelector),d&&d.remove()))},onMouseDown:function(a){var b=this,c=a.getTarget(b.eventSelector);c&&Ext.fly(c=c.previousSibling).is(b.view.getItemSelector())&&(a.target=c,b.view.handleEvent(a))},getSelectedRow:function(a,b){var c=a.getNode(b,!1);return c?Ext.fly(c).down(this.eventSelector):null},onColumnsChanged:function(a){var b,c=this.view.el.query(this.rowBodyTdSelector),d=a.getVisibleGridColumns().length,e=c.length;for(b=0;e>b;++b)c[b].colSpan=d},setupRowData:function(a,b,c){this.getAdditionalData&&Ext.apply(c,this.getAdditionalData(a.data,b,a,c))},setup:function(a,b){b.rowBodyCls=this.rowBodyCls,b.rowBodyColspan=b.view.getGridColumns().length},cleanup:function(a,b){b.rowBodyCls=b.rowBodyColspan=b.rowBody=null}},0,0,0,0,["feature.rowbody"],0,[Ext.grid.feature,"RowBody"],0),Ext.cmd.derive("Ext.grid.feature.RowWrap",Ext.grid.feature.Feature,{rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:!1,tableTpl:{before:function(a){a.view.bufferedRenderer&&(a.view.bufferedRenderer.variableRowHeight=!0)},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(){var a=this;a.view.addTableTpl(a.tableTpl),a.view.addRowTpl(Ext.XTemplate.getTpl(a,"wrapTpl")),a.view.headerCt.on({columnhide:a.onColumnHideShow,columnshow:a.onColumnHideShow,scope:a})},onColumnHideShow:function(){var a,b=this.view,c=b.el.query(this.rowWrapTd),d=b.headerCt.getVisibleGridColumns().length,e=c.length;for(a=0;e>a;++a)c[a].colSpan=d}},0,0,0,0,["feature.rowwrap"],0,[Ext.grid.feature,"RowWrap"],0),Ext.cmd.derive("Ext.grid.feature.Summary",Ext.grid.feature.AbstractSummary,{dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(a){var b=this,c=b.view;b.callParent(arguments),b.dock?(a.headerCt.on({afterlayout:b.onStoreUpdate,scope:b}),a.on({beforerender:function(){var d=[b.summaryTableCls];c.columnLines&&(d[d.length]=c.ownerCt.colLinesCls),b.summaryBar=a.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellPadding="0" cellSpacing="0" class="'+d.join(" ")+'">','<tr class="'+b.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[b.dockedSummaryCls,b.dockedSummaryCls+"-"+b.dock],xtype:"component",dock:b.dock,weight:1e7})[0]},afterrender:function(){a.body.addCls(b.panelBodyCls+b.dock),c.mon(c.el,{scroll:b.onViewScroll,scope:b}),b.onStoreUpdate()},single:!0}),a.headerCt.afterComponentLayout=Ext.Function.createSequence(a.headerCt.afterComponentLayout,function(){b.summaryBar.innerCt.setWidth(this.getFullWidth()+Ext.getScrollbarSize().width)})):b.view.addFooterFn(b.renderTFoot),a.on({columnmove:b.onStoreUpdate,scope:b}),c.mon(c.store,{update:b.onStoreUpdate,datachanged:b.onStoreUpdate,scope:b})},renderTFoot:function(a,b){var c=a.view,d=c.findFeature("summary");d.showSummaryRow&&(b.push("<tfoot>"),d.outputSummaryRecord(d.createSummaryRecord(c),a,b),b.push("</tfoot>"))},vetoEvent:function(a,b,c,d){return!d.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(a){var b,c,d=a.headerCt.getVisibleGridColumns(),e={records:a.store.getRange()},f=d.length,g=this.summaryRecord||(this.summaryRecord=new a.store.model(null,a.id+"-summary-record"));for(g.beginEdit(),b=0;f>b;b++)c=d[b],c.dataIndex||(c.dataIndex=c.id),g.set(c.dataIndex,this.getSummary(a.store,c.summaryType,c.dataIndex,e));return g.endEdit(!0),g.commit(!0),g.isSummary=!0,g},onStoreUpdate:function(){var a,b,c,d=this,e=d.view,f=d.createSummaryRecord(e),g=e.createRowElement(f,-1);e.rendered&&(a=d.dock?d.summaryBar.el.down("."+d.summaryRowCls,!0):d.view.getNode(f),a&&(c=a.parentNode,c.insertBefore(g,a),c.removeChild(a),b=d.lockingPartner,b&&b.grid.rendered&&!d.calledFromLockingPartner&&(b.calledFromLockingPartner=!0,b.onStoreUpdate(),b.calledFromLockingPartner=!1)),d.dock&&d.onColumnHeaderLayout())},onColumnHeaderLayout:function(){var a,b,c,d=this.view,e=d.headerCt.getVisibleGridColumns(),f=e.length,g=this.summaryBar.el;for(b=0;f>b;b++)a=e[b],c=g.down(d.getCellSelector(a)),c&&(a.hidden?c.setDisplayed(!1):(c.setDisplayed(!0),c.setWidth(a.width||(a.lastBox?a.lastBox.width:100))))}},0,0,0,0,["feature.summary"],0,[Ext.grid.feature,"Summary"],0),Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{constructor:function(a){var b,c,d=this,e=[],f=a.lockedGrid,g=a.normalGrid;d.lockable=a,d.callParent(),f.columnManager.rootColumns=g.columnManager.rootColumns=a.columnManager=d.columnManager=new Ext.grid.ColumnManager(f.headerCt,g.headerCt),b=f.headerCt.events;for(c in b)b.hasOwnProperty(c)&&e.push(c);d.relayEvents(f.headerCt,e),d.relayEvents(g.headerCt,e)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this,b=a.lockable.lockedGrid.headerCt.getColumnsState(),c=a.lockable.normalGrid.headerCt.getColumnsState();return b.concat(c)},applyColumnsState:function(a){var b,c,d,e,f=this,g=f.lockable.lockedGrid,h=g.headerCt,i=f.lockable.normalGrid.headerCt,j=Ext.Array.toValueMap(h.items.items,"headerId"),k=Ext.Array.toValueMap(i.items.items,"headerId"),l=[],m=[],n=1,o=a.length;for(b=0;o>b;b++)e=a[b],d=j[e.id],c=d||k[e.id],c&&(c.applyColumnState&&c.applyColumnState(e),void 0===c.locked&&(c.locked=!!d),c.locked?(l.push(c),c.hidden||"number"!=typeof c.width||(n+=c.width)):m.push(c));l.length+m.length==h.items.getCount()+i.items.getCount()&&(h.removeAll(!1),i.removeAll(!1),h.add(l),i.add(m),g.setWidth(n))}},1,0,["component","container","box","headercontainer"],{component:!0,container:!0,box:!0,headercontainer:!0},0,0,[Ext.grid.locking,"HeaderContainer"],0),Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var b,c,d=this,e=[],f=d.eventRelayRe,g=a.locked.getView(),h=a.normal.getView();Ext.apply(d,{lockedView:g,normalView:h,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel}),d.mixins.observable.constructor.call(d,a),b=g.events;for(c in b)b.hasOwnProperty(c)&&f.test(c)&&e.push(c);d.relayEvents(g,e),d.relayEvents(h,e),h.on({scope:d,itemmouseleave:d.onItemMouseLeave,itemmouseenter:d.onItemMouseEnter}),g.on({scope:d,itemmouseleave:d.onItemMouseLeave,itemmouseenter:d.onItemMouseEnter}),d.panel.on({render:d.onPanelRender,scope:d})},onPanelRender:function(){var a=this,b=a.loadMask,c={target:a.panel,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:a.panel.store};a.el=a.panel.body,a.fireEvent("render",a),b&&(Ext.isObject(b)&&(c=Ext.apply(c,b)),a.loadMask=new Ext.LoadMask(c))},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var b,c=this.lockedView;return c.headerCt.cascade(function(c){return c===a?(b=!0,!1):void 0}),b?c:this.normalView},onItemMouseEnter:function(a,b){var c,d=this,e=d.lockedView,f=d.normalView;a.trackOver&&(a!==e&&(f=e),c=f.getNode(b,!1),f.highlightItem(c))},onItemMouseLeave:function(a){var b=this,c=b.lockedView,d=b.normalView;a.trackOver&&(a!==c&&(d=c),d.clearHighlight())},relayFn:function(a,b){b=b||[];var c=this.lockedView;c[a].apply(c,b),c=this.normalView,c[a].apply(c,b)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a,b){return this.normalView.getNode(a,b)},getCell:function(a,b){var c=this.getViewForColumn(b),d=c.getNode(a,!0);return Ext.fly(d).down(b.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);return b||(b=this.normalView.indexOf(a)),b},focus:function(){var a=this.getSelectionModel().getCurrentPosition(),b=a?a.view:this.normalView;b.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(a){var b=this.lockedView.getRecord(a);return b||(b=this.normalView.getRecord(a)),b},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var a=this,b=a.loadMask;a.clearListeners(),b&&b.bindStore&&b.bindStore(null)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],0),Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b,c,d,e,f,g=this;if(g.subGridXType)b=g.subGridXType;else{if(!a)return"gridpanel";c=this.getXTypes().split("/"),d=c.length,e=c[d-1],f=c[d-2],b="tablepanel"!==f?f:e}return b},injectLockable:function(){this.lockable=!0,this.hasView=!0;var a,b,c,d,e,f,g,h,i,j,k,l=this,m=Ext.getScrollbarSize().height,n=l.store=Ext.StoreManager.lookup(l.store),o=l.getSelectionModel(),p=l.findPlugin("bufferedrenderer");for(a=l.constructLockableFeatures(),l.features&&(l.features=null),b=l.constructLockablePlugins(),l.plugins=b.topPlugins,c=Ext.apply({id:l.id+"-locked",isLocked:!0,ownerLockable:l,xtype:l.determineXTypeToCreate(!0),store:n,scrollerOwner:!1,animate:!1,scroll:m?!1:"vertical",selModel:o,border:!1,cls:l.lockedGridCls,isLayoutRoot:function(){return!1},features:a.lockedFeatures,plugins:b.lockedPlugins},l.lockedGridConfig),d=Ext.apply({id:l.id+"-normal",isLocked:!1,ownerLockable:l,xtype:l.determineXTypeToCreate(),store:n,scrollerOwner:!1,selModel:o,border:!1,isLayoutRoot:function(){return!1},features:a.normalFeatures,plugins:b.normalPlugins},l.normalGridConfig),l.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(d,l,l.bothCfgCopy,!0),Ext.copyTo(c,l,l.bothCfgCopy,!0),Ext.copyTo(d,l,l.normalCfgCopy,!0),Ext.copyTo(c,l,l.lockedCfgCopy,!0),e=0;e<l.normalCfgCopy.length;e++)delete l[l.normalCfgCopy[e]];for(e=0;e<l.lockedCfgCopy.length;e++)delete l[l.lockedCfgCopy[e]];l.addEvents("processcolumns","lockcolumn","unlockcolumn"),l.addStateEvents(["lockcolumn","unlockcolumn"]),f=l.processColumns(l.columns),c.width=f.lockedWidth+Ext.num(o.headerWidth,0)+(f.locked.items.length?1:0),c.columns=f.locked,d.columns=f.normal,d.flex=1,c.viewConfig=l.lockedViewConfig||{},c.viewConfig.loadingUseMsg=!1,c.viewConfig.loadMask=!1,m&&(c.viewConfig.style="border-bottom:"+m+"px solid #f6f6f6;"+(c.viewConfig.style||"")),d.viewConfig=l.normalViewConfig||{},d.viewConfig.loadMask=!1,Ext.applyIf(c.viewConfig,l.viewConfig),Ext.applyIf(d.viewConfig,l.viewConfig),l.lockedGrid=Ext.ComponentManager.create(c),l.isTree&&(l.lockedGrid.getView().animate=!1,d.store=l.lockedGrid.view.store,d.deferRowRender=!1,d.viewConfig.stripeRows=l.lockedGrid.view.stripeRows,d.rowLines=l.lockedGrid.rowLines),i=l.lockedGrid.getView(),d.viewConfig.lockingPartner=i,l.normalGrid=Ext.ComponentManager.create(d),i.lockingPartner=j=l.normalGrid.getView(),l.view=new Ext.grid.locking.View({loadingText:j.loadingText,loadingCls:j.loadingCls,loadingUseMsg:j.loadingUseMsg,loadMask:l.loadMask!==!1,locked:l.lockedGrid,normal:l.normalGrid,panel:l}),k=p?{}:{scroll:{fn:l.onLockedViewScroll,element:"el",scope:l}},m&&(l.lockedGrid.on({afterlayout:l.afterLockedViewLayout,scope:l}),i.getOverflowStyle(),i.scrollFlags.y?l.lockedGrid.headerCt.forceFit=!0:k.mousewheel={fn:l.onLockedViewMouseWheel,element:"el",scope:l}),i.on(k),k=p?{}:{scroll:{fn:l.onNormalViewScroll,element:"el",scope:l},scope:l},j.on(k),g=l.lockedGrid.headerCt,h=l.normalGrid.headerCt,l.headerCt=l.view.headerCt=new Ext.grid.locking.HeaderContainer(l),g.lockedCt=!0,g.lockableInjected=!0,h.lockableInjected=!0,g.on({add:{buffer:1,scope:l,fn:l.onLockedHeaderAdd},columnshow:l.onLockedHeaderShow,columnhide:l.onLockedHeaderHide,sortchange:l.onLockedHeaderSortChange,columnresize:l.onLockedHeaderResize,scope:l}),h.on({sortchange:l.onNormalHeaderSortChange,scope:l}),l.modifyHeaderCt(),l.items=[l.lockedGrid,l.normalGrid],l.relayHeaderCtEvents(g),l.relayHeaderCtEvents(h),l.storeRelayers=l.relayEvents(n,["filterchange"]),l.layout={type:"hbox",align:"stretch"}
},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(a){var b,c,d,e=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container),f=[],g=[],h={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:f},i={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:g},j={lockedWidth:0,locked:h,normal:i};for(Ext.isObject(a)&&(Ext.applyIf(h,a),Ext.applyIf(i,a),Ext.apply(e,a),a=a.items),b=0,c=a.length;c>b;++b)d=a[b],d.isComponent||(d=e.lookupComponent(e.applyDefaults(d))),d.processed=!0,d.locked||d.autoLock?(d.hidden||(j.lockedWidth+=this.getColumnWidth(d)||e.defaultWidth),f.push(d)):g.push(d),d.headerId||(d.headerId=(d.initialConfig||d).id||"h"+ ++this.headerCounter);return this.fireEvent("processcolumns",this,f,g),j},getColumnWidth:function(a){var b,c,d,e=a.width||0;if(!e&&a.isGroupHeader)for(b=a.items.items,c=b.length,d=0;c>d;d++)e+=this.getColumnWidth(b[d]);return e},afterLockedViewLayout:function(){var a=this,b=a.lockedGrid.getView(),c=b.el.dom,d=a.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;b.scrollFlags.x&&c.scrollWidth>c.clientWidth&&(d=0),b.el.dom.style.borderBottomWidth=d+"px",Ext.isBorderBox||b.el.setHeight(b.lastBox.height)},onLockedViewMouseWheel:function(a){var b,c,d=this,e=-d.scrollDelta,f=e*a.getWheelDeltas().y,g=d.lockedGrid.getView().el.dom;d.ignoreMousewheel||(g&&(b=g.scrollTop!==g.scrollHeight-g.clientHeight,c=0!==g.scrollTop),(0>f&&c||f>0&&b)&&(a.stopEvent(),g.scrollTop+=f,d.normalGrid.getView().el.dom.scrollTop=g.scrollTop,d.onNormalViewScroll()))},onLockedViewScroll:function(){var a,b,c=this,d=c.lockedGrid.getView(),e=c.normalGrid.getView(),f=e.el.dom,g=d.el.dom;f.scrollTop!==g.scrollTop&&(f.scrollTop=g.scrollTop,c.store.buffered&&(b=d.el.child("table",!0),a=e.el.child("table",!0),a.style.position="absolute",a.style.top=b.style.top))},onNormalViewScroll:function(){var a,b,c=this,d=c.lockedGrid.getView(),e=c.normalGrid.getView(),f=e.el.dom,g=d.el.dom;f.scrollTop!==g.scrollTop&&(g.scrollTop=f.scrollTop,c.store.buffered&&(b=d.el.child("table",!0),a=e.el.child("table",!0),b.style.position="absolute",b.style.top=a.style.top))},syncRowHeights:function(){var a,b,c=this,d=c.lockedGrid.getView(),e=c.normalGrid.getView(),f=d.all.slice(),g=e.all.slice(),h=f.length;if(g.length===h){for(a=0;h>a;a++)e.syncRowHeights(f[a],g[a]);b=e.el.dom.scrollTop,e.el.dom.scrollTop=b,d.el.dom.scrollTop=b}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,!0),a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,!1),a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy),a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#unlockItem"),e=c.down("#lockItem"),f=d.prev();b.lockable===!1?(f.hide(),d.hide(),e.hide()):(f.show(),d.show(),e.show(),d.initialConfig.disabled||d.setDisabled(b.lockable===!1),e.initialConfig.disabled||e.setDisabled(!b.isLockable()))},getMenuItems:function(a,b){var c=this,d=c.unlockText,e=c.lockText,f=Ext.baseCSSPrefix+"hmenu-unlock",g=Ext.baseCSSPrefix+"hmenu-lock",h=Ext.Function.bind(c.onUnlockMenuClick,c),i=Ext.Function.bind(c.onLockMenuClick,c);return function(){var c=a.call(this);return c.push("-",{itemId:"unlockItem",cls:f,text:d,handler:h,disabled:!b}),c.push({itemId:"lockItem",cls:g,text:e,handler:i,disabled:b}),c}},syncLockedWidth:function(){var a=this,b=a.lockedGrid,c=b.view,d=c.el.dom,e=a.normalGrid,f=b.headerCt.getVisibleGridColumns().length,g=e.headerCt.getVisibleGridColumns().length;return Ext.suspendLayouts(),g?(e.show(),f?(b.headerCt.forceFit||(delete b.flex,b.setWidth(b.headerCt.getFullWidth())),b.addCls(a.lockedGridCls),b.show()):(b.getView().refresh(),b.hide()),c.el.setStyle(c.getOverflowStyle()),a.ignoreMousewheel=c.scrollFlags.y):(e.hide(),d.style.borderBottomWidth="0",b.flex=1,delete b.width,b.removeCls(a.lockedGridCls),b.show(),c.el.setStyle(e.view.getOverflowStyle()),a.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[f,g]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(a,b,c){c&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(a,b,c){c&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},lock:function(a,b){var c,d,e=this,f=e.normalGrid,g=e.lockedGrid,h=f.headerCt,i=g.headerCt;a=a||h.getMenu().activeHeader,d=a.ownerCt,a.isLockable()&&(a.flex&&(a.width=a.getWidth(),a.flex=null),Ext.suspendLayouts(),d.remove(a,!1),a.locked=!0,e.ignoreAddLockedColumn=!0,Ext.isDefined(b)?i.insert(b,a):i.add(a),e.ignoreAddLockedColumn=!1,c=e.syncLockedWidth(),c[0]&&g.getView().refresh(),c[1]&&f.getView().refresh(),Ext.resumeLayouts(!0),e.fireEvent("lockcolumn",e,a))},unlock:function(a,b){var c,d=this,e=d.normalGrid,f=d.lockedGrid,g=e.headerCt,h=f.headerCt;Ext.isDefined(b)||(b=0),a=a||h.getMenu().activeHeader,Ext.suspendLayouts(),a.ownerCt.remove(a,!1),a.locked=!1,g.insert(b,a),c=d.syncLockedWidth(),c[0]&&f.getView().refresh(),c[1]&&e.getView().refresh(),Ext.resumeLayouts(!0),d.fireEvent("unlockcolumn",d,a)},reconfigureLockable:function(a,b){var c=this,d=c.store,e=c.lockedGrid,f=c.normalGrid;Ext.suspendLayouts(),b&&(e.headerCt.removeAll(),f.headerCt.removeAll(),b=c.processColumns(b),c.ignoreAddLockedColumn=!0,e.headerCt.add(b.locked.items),c.ignoreAddLockedColumn=!1,f.headerCt.add(b.normal.items),c.syncLockedWidth()),a&&a!==d?(a=Ext.data.StoreManager.lookup(a),c.store=a,e.bindStore(a),f.bindStore(a)):(e.getView().refresh(),f.getView().refresh()),Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var a,b,c,d,e,f=this.features,g=0;if(f)for(c=[],d=[],e=f.length;e>g;g++)switch(a=f[g],a.isFeature||(a=Ext.create("feature."+a.ftype,a)),a.lockableScope){case"locked":c.push(a);break;case"normal":d.push(a);break;default:a.lockableScope="both",c.push(a),d.push(b=a.clone()),b.lockingPartner=a,a.lockingPartner=b}return{normalFeatures:d,lockedFeatures:c}},constructLockablePlugins:function(){var a,b,c,d,e,f,g,h=this.plugins,i=0;if(h)for(d=[],e=[],f=[],g=h.length;g>i;i++)switch(a=h[i],a.lockableScope){case"both":e.push(c=a.clonePlugin()),f.push(b=a.clonePlugin()),c.lockingPartner=b,b.lockingPartner=c,Ext.destroy(a);break;case"locked":e.push(a);break;case"normal":f.push(a);break;default:d.push(a)}return{topPlugins:d,normalPlugins:f,lockedPlugins:e}},destroyLockable:function(){Ext.destroy(this.view)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])}),Ext.cmd.derive("Ext.tree.View",Ext.view.Table,{isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);",'delete values.rowAttr["data-qtip"];','delete values.rowAttr["data-qtitle"];',"%}",{priority:10,processRowValues:function(a){var b=a.record,c=a.view,d=b.get("qtip"),e=b.get("qttle");a.rowAttr={},d&&(a.rowAttr["data-qtip"]=d),e&&(a.rowAttr["data-qtitle"]=e),b.isExpanded()&&a.rowClasses.push(c.expandedCls),b.isLeaf()&&a.rowClasses.push(c.leafCls),b.isLoading()&&a.rowClasses.push(c.loadingCls)}}],initComponent:function(){var a=this,b=a.panel.getStore(),c=a.store;void 0===a.initialConfig.animate&&(a.animate=Ext.enableFx),c&&c!==b||(a.store=c=new Ext.data.NodeStore({treeStore:b,recursive:!0,rootVisible:a.rootVisible})),a.node&&a.setRootNode(a.node),a.animQueue={},a.animWraps={},a.addEvents("afteritemexpand","afteritemcollapse","nodedragover"),a.callParent(arguments),a.addRowTpl(Ext.XTemplate.getTpl(a,"treeRowTpl"))},onBeforeFill:function(){this.store.suspendEvents()},onFillComplete:function(a,b,c){var d=this,e=d.store,f=e.indexOf(c[0]);e.resumeEvents(),b.triggerUIUpdate(),c.length&&-1!==f&&(d.onAdd(d.store,c,f),d.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){a.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var a=this.lockingPartner;a&&a.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var a=this;a.callParent(arguments),a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut,click:{delegate:a.checkboxSelector,fn:a.onCheckboxChange,scope:a}})},afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;a&&a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(a){return a.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){var b=this;b.store.setNode(a),b.node=a},onCheckboxChange:function(a){var b=this,c=a.getTarget(b.getItemSelector(),b.getTargetEl());c&&b.onCheckChange(b.getRecord(c))},onCheckChange:function(a){var b=a.get("checked");Ext.isBoolean(b)&&(b=!b,a.set("checked",b),this.fireEvent("checkchange",a,b))},getChecked:function(){var a=[];return this.node.cascadeBy(function(b){b.get("checked")&&a.push(b)}),a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a){var b,c,d=this,e=d.getNode(a),f=[];return d.renderColumnSizer(f),c=Ext.get(e),b=c.insertSibling({tag:"tr",html:['<td colspan="'+d.panel.headerCt.getColumnCount()+'">','<div class="'+d.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+d.id+"-table "+Ext.baseCSSPrefix+'grid-table" style="border:0" cellspacing="0" cellpadding="0">',f.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after"),{record:a,node:e,el:b,expanding:!1,collapsing:!1,animating:!1,animateEl:b.down("div"),targetEl:b.down("tbody")}},getAnimWrap:function(a,b){if(!this.animate)return null;var c=this.animWraps,d=c[a.internalId];if(b!==!1)for(;!d&&a;)a=a.parentNode,a&&(d=c[a.internalId]);return d},doAdd:function(a,b){var c,d,e,f,g=this,h=g.bufferRender(a,b,!0),i=a[0],j=i.parentNode,k=g.all,l=g.getAnimWrap(j);return l&&l.expanding?(j=l.record,d=l.targetEl,e=d.dom.childNodes,f=e.length,c=b-g.indexInStore(j)-1,!f||c>=f?d.appendChild(h):Ext.fly(e[c]).insertSibling(h,"before",!0),k.insert(b,h),void(l.isAnimating&&g.onExpand(j))):g.callParent(arguments)},onRemove:function(a,b,c){var d,e,f=this;if(f.viewReady){if(d=0===f.store.getCount())f.refresh();else for(e=c.length-1;e>=0;--e)f.doRemove(b[e],c[e]);if(f.hasListeners.itemremove)for(e=c.length-1;e>=0;--e)f.fireEvent("itemremove",b[e],c[e])}},doRemove:function(a,b){var c=this,d=c.all,e=c.getAnimWrap(a),f=d.item(b),g=f?f.dom:null;return g&&e&&e.collapsing?(e.targetEl.dom.insertBefore(g,e.targetEl.dom.firstChild),void d.removeElement(b)):c.callParent(arguments)},onBeforeExpand:function(a){var b,c=this;c.rendered&&c.all.getCount()&&c.animate&&c.getNode(a)&&(b=c.getAnimWrap(a,!1),b?b.collapsing&&b.targetEl.select(c.itemSelector).remove():(b=c.animWraps[a.internalId]=c.createAnimWrap(a),b.animateEl.setHeight(0)),b.expanding=!0,b.collapsing=!1)},onExpand:function(a){var b,c,d,e=this,f=e.animQueue,g=a.getId(),h=e.getNode(a),i=h?e.indexOf(h):-1,j=Ext.isIEQuirks?1:0;if(e.singleExpand&&e.ensureSingleExpand(a),-1!==i){if(b=e.getAnimWrap(a,!1),!b)return a.isExpandingOrCollapsing=!1,e.fireEvent("afteritemexpand",a,i,h),void e.refreshSize();c=b.animateEl,d=b.targetEl,c.stopAnimation(),f[g]=!0,c.dom.style.height=j+"px",c.animate({from:{height:j},to:{height:d.getHeight()},duration:e.expandDuration,listeners:{afteranimate:function(){var a=d.query(e.itemSelector);a.length&&b.el.insertSibling(a,"before",!0),b.el.remove(),e.refreshSize(),delete e.animWraps[b.record.internalId],delete f[g]}},callback:function(){a.isExpandingOrCollapsing=!1,e.fireEvent("afteritemexpand",a,i,h)}}),b.isAnimating=!0}},onBeforeCollapse:function(a,b,c,d,e){var f,g=this;g.rendered&&g.all.getCount()&&(g.animate?Ext.Array.contains(a.stores,g.store)&&(f=g.getAnimWrap(a),f?f.expanding&&f.targetEl.select(this.itemSelector).remove():f=g.animWraps[a.internalId]=g.createAnimWrap(a,c),f.expanding=!1,f.collapsing=!0,f.callback=d,f.scope=e):(g.onCollapseCallback=d,g.onCollapseScope=e))},onCollapse:function(a){var b,c=this,d=c.animQueue,e=a.getId(),f=c.getNode(a),g=f?c.indexOf(f):-1,h=c.getAnimWrap(a);if(c.all.getCount()&&Ext.Array.contains(a.stores,c.store)){if(!h)return a.isExpandingOrCollapsing=!1,c.fireEvent("afteritemcollapse",a,g,f),c.refreshSize(),Ext.callback(c.onCollapseCallback,c.onCollapseScope),void(c.onCollapseCallback=c.onCollapseScope=null);b=h.animateEl,d[e]=!0,b.stopAnimation(),b.animate({to:{height:Ext.isIEQuirks?1:0},duration:c.collapseDuration,listeners:{afteranimate:function(){h.el.remove(),c.refreshSize(),delete c.animWraps[h.record.internalId],delete d[e]}},callback:function(){a.isExpandingOrCollapsing=!1,c.fireEvent("afteritemcollapse",a,g,f),Ext.callback(h.callback,h.scope),h.callback=h.scope=null}}),h.isAnimating=!0}},isAnimating:function(a){return!!this.animQueue[a.getId()]},expand:function(a,b,c,d){var e,f=this,g=!!f.animate;return g&&a.isExpandingOrCollapsing?void 0:(a.isLeaf()||(a.isExpandingOrCollapsing=g),Ext.suspendLayouts(),e=a.expand(b,c,d),Ext.resumeLayouts(!0),e)},collapse:function(a,b,c,d){var e=this,f=!!e.animate;return f&&a.isExpandingOrCollapsing?void 0:(a.isLeaf()||(a.isExpandingOrCollapsing=f),a.collapse(b,c,d))},toggle:function(a,b,c,d){a.isExpanded()?this.collapse(a,b,c,d):this.expand(a,b,c,d)},onItemDblClick:function(a){var b=this,c=b.editingPlugin;b.callParent(arguments),!b.toggleOnDblClick||!a.isExpandable()||c&&2===c.clicksToEdit||b.toggle(a)},onBeforeItemMouseDown:function(a,b,c,d){return d.getTarget(this.expanderSelector,b)?!1:this.callParent(arguments)},onItemClick:function(a,b,c,d){return d.getTarget(this.expanderSelector,b)&&a.isExpandable()?(this.toggle(a,d.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(a){a.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a){a.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var a=this,b=a.callParent(arguments);return Ext.apply(b,{beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged})},onBindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments),a.mon(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete}),b.remoteSort||a.mon(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})},onUnbindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments),a.mun(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete}),b.remoteSort||a.mun(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(a){var b=a.parentNode;b&&b.eachChild(function(b){b!==a&&b.isExpanded()&&b.collapse()})},shouldUpdateCell:function(a,b,c){if(c)for(var d=0,e=c.length;e>d;++d)if(Ext.Array.contains(this.uiFields,c[d]))return!0;return this.callParent(arguments)},onStoreWrite:function(a,b){var c=this.panel.store;c.fireEvent("write",c,b)},onStoreDataChanged:function(){var a=this.panel.store;a.fireEvent("datachanged",a)}},0,["treeview"],["component","treeview","box","dataview","tableview"],{component:!0,treeview:!0,box:!0,dataview:!0,tableview:!0},["widget.treeview"],0,[Ext.tree,"View"],0),Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(a,b,c){var d=this;d.rendered&&d.bufferedRenderer?d.refreshView():d.callParent([a,b,c])}}),Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{lockableScope:"both",percentageFromEdge:.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(a){var b=this,c=a.view,d={scroll:{fn:b.onViewScroll,element:"el",scope:b},boxready:b.onViewResize,resize:b.onViewResize,refresh:b.onViewRefresh,scope:b,destroyable:!0};!b.variableRowHeight&&a.ownerLockable&&(a.ownerLockable.syncRowHeight=!1),(a.isTree||a.ownerLockable&&a.ownerLockable.isTree)&&(c.blockRefresh=!1,c.loadMask=!0),c.positionBody&&(d.refresh=b.onViewRefresh),b.grid=a,b.view=c,c.bufferedRenderer=b,c.preserveScrollOnRefresh=!0,b.bindStore(c.dataSource),c.getViewRange=function(){return b.getViewRange()},b.position=0,b.gridListeners=a.on("reconfigure",b.onReconfigure,b),b.viewListeners=c.on(d)},bindStore:function(a){var b=this;b.store&&b.unbindStore(),b.storeListeners=a.on({scope:b,clear:b.onStoreClear,destroyable:!0}),b.store=a,b.view.componentLayout.layoutCount&&b.onViewResize(b.view,0,b.view.getHeight())},onReconfigure:function(a,b){b&&b!==this.store&&this.bindStore(b)},unbindStore:function(){this.storeListeners.destroy(),this.store=null},onStoreClear:function(){var a=this;a.view.rendered&&!a.store.isDestroyed&&(0!==a.scrollTop&&(a.ignoreNextScrollEvent=!0,a.view.el.dom.scrollTop=a.bodyTop=a.scrollTop=0),a.position=a.scrollHeight=0,a.lastScrollDirection=a.scrollOffset=null,delete a.rowHeight)},onViewRefresh:function(){var a,b=this,c=b.view,d=b.scrollHeight;c.all.getCount()&&delete b.rowHeight,a=b.getScrollHeight(),d&&a==d||b.stretchView(c,a),b.scrollTop!==c.el.dom.scrollTop?b.onViewScroll():(b.setBodyTop(b.bodyTop),c.all.getCount()&&(b.viewSize=0,b.onViewResize(c,null,c.getHeight())))},onViewResize:function(a,b,c,d,e){if(!e||c!==e){var f,g=this;f=Math.ceil(c/g.rowHeight)+g.trailingBufferZone+g.leadingBufferZone,g.viewSize=g.setViewSize(f)}},stretchView:function(a,b){var c=this,d=c.store.buffered?c.store.getTotalCount():c.store.getCount();if(c.stretcher)c.stretcher.dom.style.marginTop=b-1+"px";else{var e=a.el;a.refreshCounter&&a.fixedNodes++,d&&c.view.all.endIndex===d-1&&(b=c.bodyTop+a.body.dom.offsetHeight),this.stretcher=e.createChild({style:{width:"1px",height:"1px",marginTop:b-1+"px",left:0,position:"absolute"}},e.dom.firstChild)}},setViewSize:function(a){if(a!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var b,c,d=this,e=d.store,f=d.view.all.getCount(),g=d.lockingPartner;d.viewSize=e.viewSize=a,f&&(b=d.view.all.startIndex,c=Math.min(b+a-1,(e.buffered?e.getTotalCount():e.getCount())-1),g&&g.disable(),d.renderRange(b,c),g&&g.enable())}return a},getViewRange:function(){var a=this,b=a.view.all,c=a.store;return c.data.getCount()?c.getRange(b.startIndex,b.startIndex+(a.viewSize||a.store.defaultViewSize)-1):[]},scrollTo:function(a,b,c,d){var e,f,g,h,i,j=this,k=j.view,l=k.el.dom,m=j.store,n=m.buffered?m.getTotalCount():m.getCount();a=Math.min(Math.max(a,0),n-1),e=Math.max(Math.min(a-(j.leadingBufferZone+j.trailingBufferZone)/2,n-j.viewSize+1),0),i=e*j.rowHeight,f=Math.min(e+j.viewSize-1,n-1),m.getRange(e,f,{callback:function(e,f,n){j.renderRange(f,n,!0),g=m.data.getRange(a,a)[0],h=k.getNode(g,!1),k.body.dom.style.top=i+"px",j.position=j.scrollTop=l.scrollTop=i=Math.min(Math.max(0,i-k.body.getOffsetsTo(h)[1]),l.scrollHeight-l.clientHeight),Ext.isIE&&(l.scrollTop=i),b&&k.selModel.select(g),c&&c.call(d||j,a,g)}})},onViewScroll:function(){var a,b,c=this,d=c.store,e=d.buffered?d.getTotalCount():d.getCount(),f=c.scrollTop=c.view.el.dom.scrollTop,g=!1;return c.ignoreNextScrollEvent?void(c.ignoreNextScrollEvent=!1):(c.disabled||e<c.viewSize||(a=f-c.position,b=a>0?1:-1,(Math.abs(a)>=20||b!==c.lastScrollDirection)&&(c.lastScrollDirection=b,c.handleViewScroll(c.lastScrollDirection),g=!0)),void(g||c.lockingPartner&&c.lockingPartner.scrollTop!==f&&(c.lockingPartner.view.el.dom.scrollTop=f)))},handleViewScroll:function(a){var b,c,d=this,e=d.view.all,f=d.store,g=d.viewSize,h=f.buffered?f.getTotalCount():f.getCount();return-1==a?e.startIndex&&d.getFirstVisibleRowIndex()-e.startIndex<d.numFromEdge&&(b=Math.max(0,d.getLastVisibleRowIndex()+d.trailingBufferZone-g)):e.endIndex<h-1&&e.endIndex-d.getLastVisibleRowIndex()<d.numFromEdge&&(b=Math.max(0,d.getFirstVisibleRowIndex()-d.trailingBufferZone)),null!=b&&(c=Math.min(b+g-1,h-1),b!==e.startIndex||c!==e.endIndex)?void d.renderRange(b,c):void(d.lockingPartner&&d.lockingPartner.view.el&&d.lockingPartner.scrollTop!==d.scrollTop&&(d.lockingPartner.view.el.dom.scrollTop=d.scrollTop))},renderRange:function(a,b,c){var d=this,e=d.store;e.rangeCached(a,b)?(d.cancelLoad(),d.synchronousRender||c?d.onRangeFetched(null,a,b):(d.renderTask||(d.renderTask=new Ext.util.DelayedTask(d.onRangeFetched,d,null,!1)),d.renderTask.delay(1,null,null,[null,a,b]))):d.attemptLoad(a,b)},onRangeFetched:function(a,b,c,d){var e,f,g,h=this,i=h.view,j=i.all,k=0,l=b*h.rowHeight,m=h.lockingPartner;i.isDestroyed||(a||(a=h.store.getRange(b,c)))&&((b>j.endIndex||c<j.startIndex)&&(j.clear(!0),g=l),j.getCount()?c>j.endIndex?(f=Math.max(b-j.startIndex,0),h.variableRowHeight&&(k=j.item(j.startIndex+f,!0).offsetTop),j.scroll(Ext.Array.slice(a,j.endIndex+1-b),1,f,b,c),g=h.variableRowHeight?h.bodyTop+k:l):(f=Math.max(j.endIndex-c,0),e=j.startIndex,j.scroll(Ext.Array.slice(a,0,j.startIndex-b),-1,f,b,c),g=h.variableRowHeight?h.bodyTop-j.item(e,!0).offsetTop:l):i.doAdd(a,b),h.position=h.scrollTop,i.positionBody&&h.setBodyTop(g,l),!m||m.disabled||d||(m.onRangeFetched(a,b,c,!0),m.scrollTop!==h.scrollTop&&(m.view.el.dom.scrollTop=h.scrollTop)))},setBodyTop:function(a,b){var c,d=this,e=d.view,f=d.store,g=e.body.dom;a=Math.floor(a),void 0!==b&&(c=a-b,a=b),g.style.position="absolute",g.style.top=(d.bodyTop=a)+"px",c&&(d.scrollTop=d.position=e.el.dom.scrollTop-=c),e.all.endIndex===(f.buffered?f.getTotalCount():f.getCount())-1&&d.stretchView(e,d.bodyTop+g.offsetHeight)},getFirstVisibleRowIndex:function(a,b,c,d){var e,f,g=this,h=g.view,i=h.all,j=i.elements,k=h.el.dom.clientHeight;if(i.getCount()&&g.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{if(a=i.startIndex,b=i.endIndex,c=g.scrollTop,d=c+k,g.bodyTop>d||g.bodyTop+h.body.getHeight()<c)return Math.floor(g.scrollTop/g.rowHeight);e=a+Math.min(g.numFromEdge+(-1==g.lastScrollDirection?g.leadingBufferZone:g.trailingBufferZone),Math.floor((b-a)/2))}if(f=g.bodyTop+j[e].offsetTop,f+j[e].offsetHeight<c)return g.getFirstVisibleRowIndex(e+1,b,c,d);if(c>=f)return e;if(e!==a)return g.getFirstVisibleRowIndex(a,e-1,c,d)}return Math.floor(g.scrollTop/g.rowHeight)},getLastVisibleRowIndex:function(a,b,c,d){var e,f,g,h=this,i=h.view,j=i.all,k=j.elements,l=i.el.dom.clientHeight;if(j.getCount()&&h.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{if(a=j.startIndex,b=j.endIndex,c=h.scrollTop,d=c+l,h.bodyTop>d||h.bodyTop+i.body.getHeight()<c)return Math.floor(h.scrollTop/h.rowHeight)+Math.ceil(l/h.rowHeight);e=b-Math.min(h.numFromEdge+(1==h.lastScrollDirection?h.leadingBufferZone:h.trailingBufferZone),Math.floor((b-a)/2))}if(f=h.bodyTop+k[e].offsetTop,f>d)return h.getLastVisibleRowIndex(a,e-1,c,d);if(g=f+k[e].offsetHeight,g>=d)return e;if(e!==b)return h.getLastVisibleRowIndex(e+1,b,c,d)}return h.getFirstVisibleRowIndex()+Math.ceil(l/h.rowHeight)},getScrollHeight:function(){var a=this,b=a.view,c=a.store,d=!a.hasOwnProperty("rowHeight"),e=a.store.getCount();return e?(d&&b.all.getCount()&&(a.rowHeight=Math.floor(b.body.getHeight()/b.all.getCount())),this.scrollHeight=Math.floor((c.buffered?c.getTotalCount():c.getCount())*a.rowHeight)):0},attemptLoad:function(a,b){var c=this;c.scrollToLoadBuffer?(c.loadTask||(c.loadTask=new Ext.util.DelayedTask(c.doAttemptLoad,c,[])),c.loadTask.delay(c.scrollToLoadBuffer,c.doAttemptLoad,c,[a,b])):c.store.getRange(a,b,{callback:c.onRangeFetched,scope:c,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var a=this,b=a.view;b&&b.el&&b.el.un("scroll",a.onViewScroll,a),Ext.destroy(a.viewListeners,a.storeListeners,a.gridListeners)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0),Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.AbstractPlugin,{clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(){var a=this;a.addEvents("beforeedit","edit","validateedit","canceledit"),a.callParent(arguments),a.mixins.observable.constructor.call(a),a.on("edit",function(b,c){a.fireEvent("afteredit",b,c)})},init:function(a){var b=this;b.grid=a,b.view=a.view,b.initEvents(),b.mon(a,{reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onReconfigure,single:!0,scope:b}}),a.relayEvents(b,b.relayedEvents),b.grid.ownerLockable&&b.grid.ownerLockable.relayEvents(b,b.relayedEvents),a.isEditable=!0,a.editingPlugin=a.view.editingPlugin=b},onReconfigure:function(){var a=this.grid;a=a.ownerLockable?a.ownerLockable:a,this.initFieldAccessors(a.getView().getGridColumns())},destroy:function(){var a=this,b=a.grid;Ext.destroy(a.keyNav),a.clearListeners(),b&&(a.removeFieldAccessors(b.columnManager.getColumns()),b.editingPlugin=b.view.editingPlugin=a.grid=a.view=a.editor=a.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b,c,d=this,e=a.length;for(b=0;e>b;b++)c=a[b],c.getEditor||(c.getEditor=function(a,b){return d.getColumnField(this,b)}),c.hasEditor||(c.hasEditor=function(){return d.hasColumnField(this)}),c.setEditor||(c.setEditor=function(a){d.setColumnField(this,a)})},removeFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b,c,d=a.length;for(b=0;d>b;b++)c=a[b],c.getEditor=c.hasEditor=c.setEditor=null},getColumnField:function(a,b){var c=a.field;return c&&c.isFormField||(c=a.field=this.createColumnField(a,b)),c},hasColumnField:function(a){return!!a.field},setColumnField:function(a,b){a.field=b,a.field=this.createColumnField(a)},createColumnField:function(a,b){var c=a.field;return!c&&a.editor&&(c=a.editor,a.editor=null),!c&&b&&(c=b),c&&(c.isFormField?c.column=a:(c=Ext.isString(c)?{name:a.dataIndex,xtype:c,column:a}:Ext.apply({name:a.dataIndex,column:a},c),c=Ext.ComponentManager.create(c,this.defaultFieldXType)),a.field=c),c},initEvents:function(){var a=this;a.initEditTriggers(),a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this,b=a.view;"cellfocus"==a.triggerEvent?a.mon(b,"cellfocus",a.onCellFocus,a):"rowfocus"==a.triggerEvent?a.mon(b,"rowfocus",a.onRowFocus,a):(b.getSelectionModel().isCellModel&&(b.onCellFocus=Ext.Function.bind(a.beforeViewCellFocus,a)),a.mon(b,a.triggerEvent||"cell"+(1===a.clicksToEdit?"click":"dblclick"),a.onCellClick,a)),a.initAddRemoveHeaderEvents(),b.on("render",a.initKeyNavHeaderEvents,a,{single:!0})},beforeViewCellFocus:function(a){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(a.row,a.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(a,b){this.startEdit(b,0)},onCellFocus:function(a,b,c){this.startEdit(c.row,c.column)},onCellClick:function(a,b,c,d,e,f,g){a.expanderSelector&&g.getTarget(a.expanderSelector)||this.startEdit(d,a.ownerCt.columnManager.getHeaderAtIndex(c))},initAddRemoveHeaderEvents:function(){var a=this;a.mon(a.grid.headerCt,{scope:a,add:a.onColumnAdd,remove:a.onColumnRemove,columnmove:a.onColumnMove})},initKeyNavHeaderEvents:function(){var a=this;a.keyNav=Ext.create("Ext.util.KeyNav",a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(a,b){this.initFieldAccessors(b)},onColumnRemove:function(a,b){this.removeFieldAccessors(b)},onColumnMove:function(a,b){this.initFieldAccessors(b)},onEnterKey:function(){var a,b,c,d=this,e=d.grid,f=e.getSelectionModel();f.getCurrentPosition&&(b=f.getCurrentPosition())?(a=b.record,c=b.columnHeader):(a=f.getLastSelected(),c=e.columnManager.getHeaderAtIndex(0)),a&&c&&d.startEdit(a,c)},onEscKey:function(){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(a,b){var c,d=this,e=d.grid.lockable?d.grid:d.view;return e.componentLayoutCounter?d.grid.collapsed||!d.grid.view.isVisible(!0)?!1:(c=d.getEditingContext(a,b),null==c?!1:d.preventBeforeCheck||d.beforeEdit(c)!==!1&&d.fireEvent("beforeedit",d,c)!==!1&&!c.cancel?(d.editing=!0,c):!1):(e.on({boxready:Ext.Function.bind(d.startEdit,d,[a,b]),single:!0}),!1)},getEditingContext:function(a,b){var c,d,e=this,f=e.grid,g=e.view,h=g.getNode(a,!0);if(h&&(b=f.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(b)?b:b.getVisibleIndex()),b&&(d=b.getVisibleIndex(),Ext.isNumber(a)?(c=a,a=g.getRecord(h)):c=g.indexOf(h),a)))return{grid:f,view:g,store:g.dataSource,record:a,field:b.dataIndex,value:a.get(b.dataIndex),row:h,column:b,rowIdx:c,colIdx:d}},cancelEdit:function(){var a=this;a.editing=!1,a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;a.editing&&a.validateEdit()&&a.fireEvent("edit",a,a.context),a.context=null,a.editing=!1},validateEdit:function(){var a=this,b=a.context;return a.fireEvent("validateedit",a,b)!==!1&&!b.cancel}},1,0,0,0,["editing.editing"],[["observable",Ext.util.Observable]],[Ext.grid.plugin,"Editing"],0),Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{lockableScope:"both",init:function(){var a=this,b=a.lockingPartner;a.callParent(arguments),a.editors=b?b.editors?b.editors:b.editors=new Ext.util.MixedCollection(!1,function(a){return a.editorId}):new Ext.util.MixedCollection(!1,function(a){return a.editorId})},onReconfigure:function(a,b,c){c&&this.editors.clear(),this.callParent()},destroy:function(){var a=this;a.editors&&(a.editors.each(Ext.destroy,Ext),a.editors.clear()),a.callParent(arguments)},onBodyScroll:function(){var a=this,b=a.getActiveEditor(),c=a.view.el.getScroll();b&&b.editing&&b.editingPlugin===a&&(c.top!==a.scroll.top?b.field&&(b.field.triggerBlur?b.field.triggerBlur():b.field.blur()):b.realign()),a.scroll=c},initCancelTriggers:function(){var a=this,b=a.grid,c=b.view;a.mon(c,"bodyscroll",a.onBodyScroll,a),a.mon(b,{columnresize:a.cancelEdit,columnmove:a.cancelEdit,scope:a})},isCellEditable:function(a,b){var c=this,d=c.getEditingContext(a,b);return c.grid.view.isVisible(!0)&&d&&(b=d.column,a=d.record,b&&c.getEditor(a,b))?!0:void 0},startEdit:function(a,b,c){var d,e=this;return c||(e.preventBeforeCheck=!0,c=e.callParent(arguments),delete e.preventBeforeCheck,c!==!1)?c&&e.grid.view.isVisible(!0)?(a=c.record,b=c.column,e.completeEdit(),b&&!b.getEditor(a)?!1:(e.context=c,c.originalValue=c.value=a.get(b.dataIndex),e.beforeEdit(c)===!1||e.fireEvent("beforeedit",e,c)===!1||c.cancel?!1:(d=e.getEditor(a,b),e.grid.view.cancelFocus(),e.view.scrollCellIntoView(e.getCell(a,b)),d?(e.showEditor(d,c,c.value),!0):!1))):void 0:!1},showEditor:function(a,b,c){var d=this,e=b.record,f=b.column,g=d.grid.getSelectionModel(),h=g.getCurrentPosition(),i=h&&h.view;return i&&i!==d.view?d.lockingPartner.showEditor(a,d.lockingPartner.getEditingContext(h.record,h.columnHeader),c):(d.setEditingContext(b),d.setActiveEditor(a),d.setActiveRecord(e),d.setActiveColumn(f),!g.selectByPosition||h&&h.column===b.colIdx&&h.row===b.rowIdx||g.selectByPosition({row:b.rowIdx,column:b.colIdx,view:d.view}),a.startEdit(d.getCell(e,f),c,b),d.editing=!0,void(d.scroll=d.view.el.getScroll()))
},completeEdit:function(){var a=this.getActiveEditor();a&&(a.completeEdit(),this.editing=!1)},setEditingContext:function(a){this.context=a,this.lockingPartner&&(this.lockingPartner.context=a)},setActiveEditor:function(a){this.activeEditor=a,this.lockingPartner&&(this.lockingPartner.activeEditor=a)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a,this.lockingPartner&&(this.lockingPartner.activeColumn=a)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a,this.lockingPartner&&(this.lockingPartner.activeRecord=a)},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,b){var c=this,d=c.editors,e=b.getItemId(),f=d.getByKey(e),g=c.grid.ownerLockable||c.grid;if(!f){if(f=b.getEditor(a),!f)return!1;f instanceof Ext.grid.CellEditor?f.floating=!0:f=new Ext.grid.CellEditor({floating:!0,editorId:e,field:f}),g.add(f),f.on({scope:c,specialkey:c.onSpecialKey,complete:c.onEditComplete,canceledit:c.cancelEdit}),b.on("removed",c.cancelActiveEdit,c),d.add(f)}return b.isTreeColumn&&(f.isForTree=b.isTreeColumn,f.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),f.grid=c.grid,f.editingPlugin=c,f},cancelActiveEdit:function(a){var b=this.context;b&&b.column===a&&this.cancelEdit()},setColumnField:function(a){var b=this.editors.getByKey(a.getItemId());Ext.destroy(b,a.field),this.editors.removeAtKey(a.getItemId()),this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(a,b,c){var d;return c.getKey()===c.TAB&&(c.stopEvent(),a&&a.onEditorTab(c),d=a.up("tablepanel").getSelectionModel(),d.onEditorTab)?d.onEditorTab(a.editingPlugin,c):void 0},onEditComplete:function(a,b,c){var d,e=this,f=e.getActiveColumn(),g=e.context;if(f){if(d=g.record,e.setActiveEditor(null),e.setActiveColumn(null),e.setActiveRecord(null),g.value=b,!e.validateEdit())return;d.isEqual(b,c)||d.set(f.dataIndex,b),g.view.focus(!1,!0),e.fireEvent("edit",e,g),e.editing=!1}},cancelEdit:function(){var a=this,b=a.getActiveEditor();return a.setActiveEditor(null),a.setActiveColumn(null),a.setActiveRecord(null),b?(b.cancelEdit(),a.context.view.focus(),void a.callParent(arguments)):!0},startEditByPosition:function(a){return a.isCellContext||(a=new Ext.grid.CellContext(this.view).setPosition(a)),a.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex()),this.startEdit(a.record,a.columnHeader)}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0),Ext.cmd.derive("Ext.grid.plugin.DivRenderer",Ext.AbstractPlugin,{tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",!0)}},init:function(a){var b=a.getView();b.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),b.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),b.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),Ext.apply(b,this.selectors)}},0,0,0,0,["plugin.divrenderer"],0,[Ext.grid.plugin,"DivRenderer"],0),Ext.cmd.derive("Ext.grid.plugin.DragDrop",Ext.AbstractPlugin,{dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(a){a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var a=this;a.dragZone&&a.dragZone.unlock(),a.dropZone&&a.dropZone.unlock(),a.callParent()},disable:function(){var a=this;a.dragZone&&a.dragZone.lock(),a.dropZone&&a.dropZone.lock(),a.callParent()},onViewRender:function(a){var b,c=this;c.enableDrag&&(c.containerScroll&&(b=a.getEl()),c.dragZone=new Ext.view.DragZone({view:a,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText,containerScroll:c.containerScroll,scrollEl:b})),c.enableDrop&&(c.dropZone=new Ext.grid.ViewDropZone({view:a,ddGroup:c.dropGroup||c.ddGroup}))}},0,0,0,0,["plugin.gridviewdragdrop"],0,[Ext.grid.plugin,"DragDrop"],0),Ext.cmd.derive("Ext.grid.plugin.RowEditing",Ext.grid.plugin.Editing,{lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var a=this;a.callParent(arguments),a.clicksToMoveEditor||(a.clicksToMoveEditor=a.clicksToEdit),a.autoCancel=!!a.autoCancel},destroy:function(){Ext.destroy(this.editor),this.callParent(arguments)},startEdit:function(){var a,b=this,c=b.getEditor();return c.beforeEdit()!==!1&&(a=b.callParent(arguments))?(b.context=a,b.lockingPartner&&b.lockingPartner.cancelEdit(),c.startEdit(a.record,a.column,a),!0):!1},cancelEdit:function(){var a=this;return a.editing?(a.getEditor().cancelEdit(),void a.callParent(arguments)):!0},completeEdit:function(){var a=this;a.editing&&a.validateEdit()&&(a.editing=!1,a.fireEvent("edit",a,a.context))},validateEdit:function(){var a,b,c,d=this,e=d.editor,f=d.context,g=f.record,h={},i={},j=e.query(">[isFormField]"),k=j.length;for(a=0;k>a;a++)c=j[a],b=c.name,h[b]=c.getValue(),i[b]=g.get(b);return Ext.apply(f,{newValues:h,originalValues:i}),d.callParent(arguments)&&d.getEditor().completeEdit()},getEditor:function(){var a=this;return a.editor||(a.editor=a.initEditor()),a.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var a,b,c=this,d=c.grid,e=c.view,f=d.headerCt,g=["saveBtnText","cancelBtnText","errorsText","dirtyText"],h=g.length,i={autoCancel:c.autoCancel,errorSummary:c.errorSummary,fields:f.getGridColumns(),hidden:!0,view:e,editingPlugin:c};for(a=0;h>a;a++)b=g[a],Ext.isDefined(c[b])&&(i[b]=c[b]);return i},initEditTriggers:function(){var a=this,b=a.view,c=1===a.clicksToMoveEditor?"click":"dblclick";a.callParent(arguments),a.clicksToMoveEditor!==a.clicksToEdit&&a.mon(b,"cell"+c,a.moveEditorByClick,a),b.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:!0})},startEditByClick:function(){var a=this;a.editing&&a.clicksToMoveEditor!==a.clicksToEdit||a.callParent(arguments)},moveEditorByClick:function(){var a=this;a.editing&&a.superclass.onCellClick.apply(a,arguments)},onColumnAdd:function(a,b){if(b.isHeader){var c,d=this;d.initFieldAccessors(b),c=d.editor,c&&c.onColumnAdd&&c.onColumnAdd(b)}},onColumnRemove:function(a,b){if(b.isHeader){var c=this,d=c.getEditor();d&&d.onColumnRemove&&d.onColumnRemove(a,b),c.removeFieldAccessors(b)}},onColumnResize:function(a,b,c){if(b.isHeader){var d=this,e=d.getEditor();e&&e.onColumnResize&&e.onColumnResize(b,c)}},onColumnHide:function(a,b){var c=this,d=c.getEditor();d&&d.onColumnHide&&d.onColumnHide(b)},onColumnShow:function(a,b){var c=this,d=c.getEditor();d&&d.onColumnShow&&d.onColumnShow(b)},onColumnMove:function(a,b,c,d){var e=this,f=e.getEditor();e.initFieldAccessors(b),f&&f.onColumnMove&&f.onColumnMove(b,c,d)},setColumnField:function(a){var b=this,c=b.getEditor();c.removeField(a),b.callParent(arguments),b.getEditor().setField(a)}},1,0,0,0,["plugin.rowediting"],0,[Ext.grid.plugin,"RowEditing"],0),Ext.cmd.derive("Ext.grid.plugin.RowExpander",Ext.AbstractPlugin,{lockableScope:"normal",rowBodyTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(a){var b=this.rowExpander;b.recordsExpanded[a.record.internalId]||a.itemClasses.push(b.rowCollapsedCls)},priority:500},setCmp:function(a){var b,c,d=this;d.callParent(arguments),d.recordsExpanded={},d.rowBodyTpl=Ext.XTemplate.getTpl(d,"rowBodyTpl"),b=this.rowBodyTpl,c=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:d.recordsExpanded,rowBodyHiddenCls:d.rowBodyHiddenCls,rowCollapsedCls:d.rowCollapsedCls,setupRowData:d.getRowBodyFeatureData,setup:d.setup,getRowBodyContents:function(a){return b.applyTemplate(a.getData())}},{ftype:"rowwrap",lockableScope:"normal"}],a.features=a.features?Ext.Array.push(c,a.features):c},init:function(a){var b,c,d=this,e=a;d.callParent(arguments),d.grid=a,b=d.view=a.getView(),d.addExpander(),d.bindView(b),b.addRowTpl(d.addCollapsedCls).rowExpander=d,a.ownerLockable&&(e=a.ownerLockable,e.syncRowHeight=!1,c=e.lockedGrid.getView(),d.bindView(c),c.addRowTpl(d.addCollapsedCls).rowExpander=d,e.mon(e,"columnschanged",d.refreshRowHeights,d),e.mon(e.store,"datachanged",d.refreshRowHeights,d)),e.on("beforereconfigure",d.beforeReconfigure,d),a.ownerLockable&&!a.rowLines&&b.on("rowfocus",d.refreshRowHeights,d)},beforeReconfigure:function(a,b,c){var d=this.getHeaderConfig();d.locked=!0,c.unshift(d)},addExpander:function(){var a=this,b=a.grid,c=a.getHeaderConfig();b.ownerLockable&&(b=b.ownerLockable.lockedGrid,b.width+=c.width),b.headerCt.insert(0,c)},getRowBodyFeatureData:function(a,b,c){var d=this;d.self.prototype.setupRowData.apply(d,arguments),c.rowBody=d.getRowBodyContents(a),c.rowBodyCls=d.recordsExpanded[a.internalId]?"":d.rowBodyHiddenCls},setup:function(a,b){var c=this;c.self.prototype.setup.apply(c,arguments),c.grid.ownerLockable||(b.rowBodyColspan-=1)},bindView:function(a){this.expandOnEnter&&a.on("itemkeydown",this.onKeyDown,this),this.expandOnDblClick&&a.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(a,b,c,d,e){if(e.getKey()==e.ENTER)for(var f=a.store,g=a.getSelectionModel().getSelection(),h=g.length,i=0;h>i;i++)d=f.indexOf(g[i]),this.toggleRow(d,g[i])},onDblClick:function(a,b,c,d){this.toggleRow(d,b)},toggleRow:function(a,b){var c,d,e,f=this,g=f.view,h=g.getNode(a),i=Ext.fly(h,"_rowExpander"),j=i.down(f.rowBodyTrSelector,!0),k=i.hasCls(f.rowCollapsedCls),l=k?"removeCls":"addCls";Ext.suspendLayouts(),i[l](f.rowCollapsedCls),Ext.fly(j)[l](f.rowBodyHiddenCls),f.recordsExpanded[b.internalId]=k,g.refreshSize(),f.grid.ownerLockable?(c=f.grid.ownerLockable,e=c.getView(),g=c.lockedGrid.view,d=i.getHeight(),i=Ext.fly(g.getNode(a),"_rowExpander"),i.setHeight(d),i[l](f.rowCollapsedCls),g.refreshSize()):e=g,e.fireEvent(k?"expandbody":"collapsebody",i.dom,b,j),Ext.resumeLayouts(!0)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:!0})},doRefreshRowHeights:function(){var a,b,c,d,e,f,g=this,h=g.recordsExpanded,i=g.grid.ownerLockable.lockedGrid.view,j=g.grid.ownerLockable.normalGrid.view;for(a in h)h.hasOwnProperty(a)&&(b=this.view.store.data.get(a),d=i.getNode(b,!1),c=j.getNode(b,!1),d.style.height=c.style.height="",e=d.offsetHeight,f=c.offsetHeight,f>e?d.style.height=f+"px":e>f&&(c.style.height=e+"px"))},getHeaderConfig:function(){var a=this;return{width:24,lockable:!1,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(b,c){return a.grid.ownerLockable||(c.tdAttr+=' rowspan="2"'),'<div class="'+Ext.baseCSSPrefix+'grid-row-expander"></div>'},processEvent:function(b,c,d,e,f,g,h){return"mousedown"==b&&g.getTarget(".x-grid-row-expander")?(a.toggleRow(e,h),a.selectRowOnExpand):void 0}}}},0,0,0,0,["plugin.rowexpander"],0,[Ext.grid.plugin,"RowExpander"],0),Ext.cmd.derive("Ext.grid.property.Grid",Ext.grid.Panel,{alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var a=this;a.source=a.source||{},a.addCls(a.gridCls),a.plugins=a.plugins||[],a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b){return this.self.prototype.startEdit.call(this,b,a.headerCt.child("#"+a.valueField))}})),a.selModel={selType:"cellmodel",onCellSelect:function(a){return 1!=a.column&&(a.column=1),this.self.prototype.onCellSelect.call(this,a)}},a.sourceConfig=Ext.apply({},a.sourceConfig),a.store||(a.propStore=a.store=new Ext.grid.property.Store(a,a.source)),a.configure(a.sourceConfig),a.sortableColumns&&a.store.sort("name","ASC"),a.columns=new Ext.grid.property.HeaderContainer(a,a.store),a.addEvents("beforepropertychange","propertychange"),a.callParent(),a.getView().walkCells=this.walkCells,a.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,a.headerCt.trueText],[!1,a.headerCt.falseText]]})})},a.store.on("update",a.onUpdate,a)},configure:function(a){var b,c,d,e,f=this,g=f.store,h=0,i=f.store.getCount(),j=f.nameField,k=f.valueField;if(f.configureLegacy(a),f.inferTypes)for(;i>h;++h)d=g.getAt(h),b=d.get(j),f.getConfig(b,"type")||(c=d.get(k),e=Ext.isDate(c)?"date":Ext.isNumber(c)?"number":Ext.isBoolean(c)?"boolean":"string",f.setConfig(b,"type",e))},getConfig:function(a,b,c){var d,e=this.sourceConfig[a];return e&&(d=e[b]),d||c},setConfig:function(a,b,c){var d=this.sourceConfig,e=d[a];return e?e.__copied||(e=Ext.apply({__copied:!0},e),d[a]=e):e=d[a]={__copied:!0},e[b]=c,c},configureLegacy:function(a){var b=this;b.copyLegacyObject(a,b.customRenderers,"renderer"),b.copyLegacyObject(a,b.customEditors,"editor"),b.copyLegacyObject(a,b.propertyNames,"displayName")},copyLegacyObject:function(a,b,c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]||(a[d]={}),a[d][c]=b[d])},onUpdate:function(a,b,c){var d,e,f=this;f.rendered&&c==Ext.data.Model.EDIT&&(d=b.get(f.valueField),e=b.modified.value,f.fireEvent("beforepropertychange",f.source,b.getId(),d,e)!==!1?(f.source&&(f.source[b.getId()]=d),b.commit(),f.fireEvent("propertychange",f.source,b.getId(),d,e)):b.reject())},walkCells:function(a,b,c,d,e,f){return"left"==b?b="up":"right"==b&&(b="down"),a=Ext.view.Table.prototype.walkCells.call(this,a,b,c,d,e,f),a&&!a.column&&(a.column=1),a},getCellEditor:function(a){var b=this,c=a.get(b.nameField),d=a.get(b.valueField),e=b.getConfig(c,"editor"),f=b.getConfig(c,"type"),g=b.editors;if(e)e instanceof Ext.grid.CellEditor||(e instanceof Ext.form.field.Base||(e=Ext.ComponentManager.create(e,"textfield")),e=b.setConfig(c,"editor",new Ext.grid.CellEditor({field:e})));else if(f)switch(f){case"date":e=g.date;break;case"number":e=g.number;break;case"boolean":e=b.editors["boolean"];break;default:e=g.string}else e=Ext.isDate(d)?g.date:Ext.isNumber(d)?g.number:Ext.isBoolean(d)?g["boolean"]:g.string;return e.editorId=c,e},beforeDestroy:function(){var a=this;a.callParent(),a.destroyEditors(a.editors),a.destroyEditors(a.customEditors),delete a.source},destroyEditors:function(a){for(var b in a)a.hasOwnProperty(b)&&Ext.destroy(a[b])},setSource:function(a,b){var c=this;c.source=a,void 0!==b&&(c.sourceConfig=Ext.apply({},b),c.configure(c.sourceConfig)),c.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(a,b,c){this.propStore.setValue(a,b,c)},removeProperty:function(a){this.propStore.remove(a)}},0,["propertygrid"],["panel","propertygrid","component","tablepanel","container","grid","box","gridpanel"],{panel:!0,propertygrid:!0,component:!0,tablepanel:!0,container:!0,grid:!0,box:!0,gridpanel:!0},["widget.propertygrid"],0,[Ext.grid.property,"Grid",Ext.grid,"PropertyGrid"],0),Ext.cmd.derive("Ext.grid.property.HeaderContainer",Ext.grid.header.Container,{alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(a,b){var c=this;c.grid=a,c.store=b,c.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(a.enableColumnResize)?a.enableColumnResize:c.enableColumnResize,enableColumnMove:Ext.isDefined(a.enableColumnMove)?a.enableColumnMove:c.enableColumnMove,items:[{header:c.nameText,width:a.nameColumnWidth||c.nameWidth,sortable:a.sortableColumns,dataIndex:a.nameField,renderer:Ext.Function.bind(c.renderProp,c),itemId:a.nameField,menuDisabled:!0,tdCls:c.nameColumnCls,innerCls:c.nameColumnInnerCls},{header:c.valueText,renderer:Ext.Function.bind(c.renderCell,c),getEditor:Ext.Function.bind(c.getCellEditor,c),sortable:a.sortableColumns,flex:1,fixed:!0,dataIndex:a.valueField,itemId:a.valueField,menuDisabled:!0}]}])},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,b,c){var d=this,e=d.grid,f=e.getConfig(c.get(e.nameField),"renderer"),g=a;return f?f.apply(d,arguments):(Ext.isDate(a)?g=d.renderDate(a):Ext.isBoolean(a)&&(g=d.renderBool(a)),Ext.util.Format.htmlEncode(g))},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfig(a,"displayName",a)}},1,0,["component","container","box","headercontainer"],{component:!0,container:!0,box:!0,headercontainer:!0},0,0,[Ext.grid.property,"HeaderContainer",Ext.grid,"PropertyColumnModel"],0),Ext.cmd.derive("Ext.grid.property.Property",Ext.data.Model,{alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"},0,0,0,0,0,0,[Ext.grid.property,"Property",Ext,"PropGridProperty"],0),Ext.cmd.derive("Ext.grid.property.Store",Ext.data.Store,{alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,constructor:function(a,b){var c=this;c.grid=a,c.source=b,c.callParent([{data:b,model:Ext.grid.property.Property,proxy:c.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(a){var b,c,d={records:[],success:!0};for(c in a)a.hasOwnProperty(c)&&(b=a[c],this.isEditableValue(b)&&d.records.push(new Ext.grid.property.Property({name:c,value:b},c)));return d.total=d.count=d.records.length,new Ext.data.ResultSet(d)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||null===a}})),this.reader},setSource:function(a){var b=this;b.source=a,b.suspendEvents(),b.removeAll(),b.proxy.data=a,b.load(),b.resumeEvents(),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,b,c){var d=this,e=d.getRec(a);e?(e.set("value",b),d.source[a]=b):c&&(d.source[a]=b,e=new Ext.grid.property.Property({name:a,value:b},a),d.add(e))},remove:function(a){var b=this.getRec(a);b&&(this.callParent([b]),delete this.source[a])},getRec:function(a){return this.getById(a)},getSource:function(){return this.source}},1,0,0,0,0,0,[Ext.grid.property,"Store",Ext.grid,"PropertyStore"],0),Ext.cmd.derive("Ext.layout.ClassList",Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:!1,constructor:function(c){this.owner=c,this.map=b(this.classes=a(c.el.className))},add:function(a){var b=this;b.map[a]||(b.map[a]=!0,b.classes.push(a),b.dirty||(b.dirty=!0,b.owner.markDirty()))},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(a){var b=this;b.map[a]&&(delete b.map[a],b.classes=Ext.Array.filter(b.classes,function(b){return b!=a}),b.dirty||(b.dirty=!0,b.owner.markDirty()))},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){return e[a]?(delete d.map[a],d.dirty||(d.dirty=!0,d.owner.markDirty()),!1):!0})}}}(),1,0,0,0,0,0,[Ext.layout,"ClassList"],0),Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(a){var b=this,c=b.getKey(a);return b.map[c]||(++b.length,b.items.push(a),b.map[c]=a),a},clear:function(){var a=this,b=a.items;return a.items=[],a.map={},a.length=0,b},contains:function(a){var b=this.getKey(a);return this.map.hasOwnProperty(b)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b,c=this,d=c.getKey(a),e=c.items;return c.map[d]&&(b=Ext.Array.indexOf(e,a),Ext.Array.erase(e,b,1),delete c.map[d],--c.length),a}},1,0,0,0,0,0,[Ext.util,"Queue"],0),Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=this,q=Ext.layout.SizeModel.sizeModels,r=q.configured,s=q.shrinkWrap;Ext.apply(p,a),b=p.el,p.id=b.id,p.flushedProps={},p.props=f={},p.styles={},h=p.target,h.isComponent?(p.wrapsComponent=!0,p.framing=h.frameSize||null,p.isComponentChild=h.ownerLayout&&h.ownerLayout.isComponentLayout,c=h.lastBox,d=h.ownerCt,d&&(e=d.el&&p.context.items[d.el.id])&&(p.ownerCtContext=e),p.sizeModel=g=h.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]),p.widthModel=m=g.width,p.heightModel=n=g.height,c&&c.invalid===!1&&(k=h.width===(i=c.width),l=h.height===(j=c.height),m===s&&n===s?o=!0:m===r&&k&&(o=n===s||n===r&&l),o&&(p.optOut=!0,f.width=i,f.height=j))):c=b.lastBox,p.lastBox=c},init:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.props,m=k.dirty,n=k.ownerCtContext,o=k.target.ownerLayout,p=!k.state,q=a||p,r=k.heightModel,s=k.widthModel,t=0;if(k.dirty=k.invalid=!1,k.props={},k.remainingChildDimensions=0,k.boxChildren&&(k.boxChildren.length=0),p||(k.clearAllBlocks("blocks"),k.clearAllBlocks("domBlocks")),!k.wrapsComponent)return q;if(h=k.target,k.state={},p)h.beforeLayout&&h.beforeLayout!==Ext.emptyFn&&h.beforeLayout(),!n&&(f=h.ownerCt)&&(n=k.context.items[f.el.id]),n?(k.ownerCtContext=n,k.isBoxParent=h.ownerLayout.isItemBoxParent(k)):k.isTopLevel=!0,k.frameBodyContext=k.getEl("frameBody");else for(n=k.ownerCtContext,k.isTopLevel=!n,c=k.children,d=0,e=c.length;e>d;++d)c[d].init(!0);return k.hasRawContent=!(h.isContainer&&h.items.items.length>0),a?(k.widthModel=k.heightModel=null,g=h.getSizeModel(n&&n.widthModel.pairsByHeightOrdinal[n.heightModel.ordinal]),p&&(k.sizeModel=g),k.widthModel=g.width,k.heightModel=g.height,n&&!k.isComponentChild&&(n.remainingChildDimensions+=2)):l&&(k.recoverProp("x",l,m),k.recoverProp("y",l,m),k.widthModel.calculated?k.recoverProp("width",l,m):"width"in l&&++t,k.heightModel.calculated?k.recoverProp("height",l,m):"height"in l&&++t,n&&!k.isComponentChild&&(n.remainingChildDimensions+=t)),l&&o&&o.manageMargins&&(k.recoverProp("margin-top",l,m),k.recoverProp("margin-right",l,m),k.recoverProp("margin-bottom",l,m),k.recoverProp("margin-left",l,m)),b&&(i=b.heightModel,j=b.widthModel,j&&i&&s&&r&&s.shrinkWrap&&r.shrinkWrap&&j.constrainedMax&&i.constrainedMin&&(i=null),j&&(k.widthModel=j),i&&(k.heightModel=i),b.state&&Ext.apply(k.state,b.state)),q},initContinue:function(a){var b,c=this,d=c.ownerCtContext,e=c.target,f=c.widthModel,g=e.getHierarchyState();return f.fixed?g.inShrinkWrapTable=!1:delete g.inShrinkWrapTable,a&&(d&&f.shrinkWrap?(b=d.isBoxParent?d:d.boxParent,b&&b.addBoxChild(c)):f.natural&&(c.boxParent=d)),a},initDone:function(a){var b=this,c=b.props,d=b.state;0===b.remainingChildDimensions&&(c.containerChildrenSizeDone=!0),a&&(c.containerLayoutDone=!0),b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap&&(b.el.setWidth(1e4),d.blocks=(d.blocks||0)+1)},initAnimation:function(){var a=this,b=a.target,c=a.ownerCtContext;c&&c.isTopLevel?a.animatePolicy=b.ownerLayout.getAnimatePolicy(a):!c&&b.isCollapsingOrExpanding&&b.animCollapse&&(a.animatePolicy=b.componentLayout.getAnimatePolicy(a)),a.animatePolicy&&a.context.queueAnimation(a)},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(a,b,c){var d=this,e=d[a]||(d[a]={}),f=e[c]||(e[c]={});f[b.id]||(f[b.id]=b,++b.blockCount,++d.context.blockCount)},addBoxChild:function(a){var b,c=this,d=a.widthModel;a.boxParent=this,a.measuresBox=d.shrinkWrap?a.hasRawContent:d.natural,a.measuresBox&&(b=c.boxChildren,b?b.push(a):c.boxChildren=[a])},addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;return void 0!==c&&(a.left=c+"px",++e),void 0!==d&&(a.top=d+"px",++e),e},addTrigger:function(a,b){var c=this,d=b?"domTriggers":"triggers",e=c[d]||(c[d]={}),f=c.context,g=f.currentLayout,h=e[a]||(e[a]={});h[g.id]||(h[g.id]=g,++g.triggerCount,h=f.triggers[b?"dom":"data"],(h[g.id]||(h[g.id]=[])).push({item:this,prop:a}),void 0!==c.props[a]&&(b&&c.dirty&&a in c.dirty||++g.firedTriggers))},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;c==a.boxChildren.length&&(b.clearBoxWidth=1,++a.context.progressCount,a.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);return b.width=b.left+b.right,b.height=b.top+b.bottom,b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);return b.width=b.left+b.right,b.height=b.top+b.bottom,b},paddingInfo:function(a){var b=a.frameBodyContext||a,c=b.getStyles(a.paddingNames,a.trblNames);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b,c=this[a];if(c)for(b in c)this.clearBlocks(a,b)},clearBlocks:function(a,b){var c,d,e,f=this[a],g=f&&f[b];if(g){delete f[b],c=this.context;for(e in g)d=g[e],--c.blockCount,--d.blockCount||d.pending||d.done||c.queueLayout(d)}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c,d,e=this[a],f=e&&e[b],g=this.context;if(f)for(d in f)c=f[d],++c.firedTriggers,c.done||c.blockCount||c.pending||g.queueLayout(c)},flush:function(){var a=this,b=a.dirty,c=a.state,d=a.el;a.dirtyCount=0,a.classList&&a.classList.dirty&&a.classList.flush(),"attributes"in a&&(d.set(a.attributes),delete a.attributes),"innerHTML"in a&&(d.innerHTML=a.innerHTML,delete a.innerHTML),c&&c.clearBoxWidth&&(c.clearBoxWidth=0,a.el.setStyle("width",null),--c.blocks||a.context.queueItemLayouts(a)),b&&(delete a.dirty,a.writeProps(b,!0))},flushAnimations:function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.previousSize;if(m){for(a=l.target,b=a.layout&&a.layout.animate,b&&(c=Ext.isNumber(b)?b:b.duration),d=Ext.Object.getKeys(l.animatePolicy),e=Ext.apply({},{from:{},to:{},duration:c||Ext.fx.Anim.prototype.duration},b),f=0,g=0,h=d.length;h>g;g++)i=d[g],j=m[i],k=l.peek(i),j!=k&&(i=l.translateProps[i]||i,e.from[i]=j,e.to[i]=k,++f);f&&(1===l.isCollapsingOrExpanding?a.componentLayout.undoLayout(l):l.writeProps(e.from),l.el.animate(e),Ext.fx.Manager.getFxQueue(l.el.id)[0].on({afteranimate:function(){1===l.isCollapsingOrExpanding?(a.componentLayout.redoLayout(l),a.afterCollapse(!0)):2===l.isCollapsingOrExpanding&&a.afterExpand(!0)}}))}},getBorderInfo:function(){var a=this,b=a.borderInfo;return b||(a.borderInfo=b=a.checkCache("borderInfo")),b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(a,b){var c,d,e,f=this;if(a){if(a.dom)d=a;else if(c=f.target,b&&(c=b),d=c[a],"function"==typeof d&&(d=d.call(c),d===f.el))return this;d&&(e=f.context.getEl(f,d))}return e||null},getFrameInfo:function(){var a,b,c=this,d=c.frameInfo;return d||(a=c.framing,b=c.getBorderInfo(),c.frameInfo=d=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b),d},getMarginInfo:function(){var a,b,c,d,e,f=this,g=f.marginInfo;return g||(f.wrapsComponent?(a=f.target,d=a.ownerLayout,e=d?d.id:null,b=d&&d.manageMargins,g=a.margin$,g&&g.ownerId!==e&&(g=null),g||(g=f.parseMargins(a,a.margin)||f.checkCache("marginInfo"),b&&(c=f.parseMargins(a,a.margins,d.defaultMargins),c&&(g={top:g.top+c.top,right:g.right+c.right,bottom:g.bottom+c.bottom,left:g.left+c.left}),f.setProp("margin-top",0),f.setProp("margin-right",0),f.setProp("margin-bottom",0),f.setProp("margin-left",0)),g.ownerId=e,a.margin$=g),g.width=g.left+g.right,g.height=g.top+g.bottom):g=f.checkCache("marginInfo"),f.marginInfo=g),g},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;return b||(a.paddingInfo=b=a.checkCache("paddingInfo")),b},getProp:function(a){var b=this,c=b.props[a];return b.addTrigger(a),c},getDomProp:function(a){var b=this,c=b.dirty&&a in b.dirty?void 0:b.props[a];return b.addTrigger(a,!0),c},getStyle:function(a){var b,c,d=this,e=d.styles;return a in e?c=e[a]:(b=d.styleInfo[a],c=d.el.getStyle(a),b&&b.parseInt&&(c=parseInt(c,10)||0),e[a]=c),c},getStyles:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.styles,m={},n=0,o=a.length;for(b=b||a,c=0;o>c;++c)f=a[c],f in l?(m[b[c]]=l[f],++n,c&&1==n&&(d=a.slice(0,c),e=b.slice(0,c))):n&&((d||(d=[])).push(f),(e||(e=[])).push(b[c]));if(o>n)for(d=d||a,e=e||b,h=k.styleInfo,i=k.el.getStyle(d),c=d.length;c--;)f=d[c],g=h[f],j=i[f],g&&g.parseInt&&(j=parseInt(j,10)||0),m[e[c]]=j,l[f]=j;return m},hasProp:function(a){return null!=this.getProp(a)},hasDomProp:function(a){return null!=this.getDomProp(a)},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox&&(b.boxMeasured=1,a.boxChildMeasured())},parseMargins:function(a,b,c){b===!0&&(b=5);var d,e=typeof b;return"string"==e||"number"==e?d=a.parseBox(b):(b||c)&&(d={top:0,right:0,bottom:0,left:0},c&&Ext.apply(d,this.parseMargins(a,c)),b&&(b=Ext.apply(d,a.parseBox(b)))),d},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d,e=this,f=e.props;a in b&&(f[a]=b[a],c&&a in c&&(d=e.dirty||(e.dirty={}),d[a]=c[a]))},redo:function(a){var b,c,d,e=this;if(e.revertProps(e.props),a&&e.wrapsComponent){if(e.childItems)for(d=0,b=e.childItems,c=b.length;c>d;d++)b[d].redo(a);for(d=0,b=e.children,c=b.length;c>d;d++)b[d].redo()}},removeEl:function(a,b){var c,d,e=this;if(a){if(a.dom)d=a;else if(c=e.target,b&&(c=b),d=c[a],"function"==typeof d&&(d=d.call(c),d===e.el))return this;
d&&e.context.removeEl(e,d)}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a)c.hasOwnProperty(b)&&(d[b]=a[b]);this.writeProps(d)},setAttribute:function(a,b){var c=this;c.attributes||(c.attributes={}),c.attributes[a]=b,c.markDirty()},setBox:function(a){var b=this;"left"in a&&b.setProp("x",a.left),"top"in a&&b.setProp("y",a.top),b.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return this.setContentWidth(a,c)+this.setContentHeight(b,c)==2},setProp:function(a,b,c){var d,e,f=this,g=typeof b;return"undefined"==g||"number"===g&&isNaN(b)?0:f.props[a]===b?1:(f.props[a]=b,++f.context.progressCount,c===!1?(f.fireTriggers("domTriggers",a),f.clearBlocks("domBlocks",a)):(e=f.styleInfo[a],e&&(f.dirty||(f.dirty={}),("width"==a||"height"==a)&&(d=f.isBorderBoxValue,null===d&&(f.isBorderBoxValue=d=!!f.el.isBorderBox()),d||(f.borderInfo||f.getBorderInfo(),f.paddingInfo||f.getPaddingInfo())),f.dirty[a]=b,f.markDirty())),f.fireTriggers("triggers",a),f.clearBlocks("blocks",a),1)},setHeight:function(a,b){var c,d,e,f,g,h=this,i=h.target,j=h.ownerCtContext;if(0>a&&(a=0),h.wrapsComponent){if(e=h.collapsedVert?0:i.minHeight||0,a=Ext.Number.constrain(a,e,i.maxHeight),f=h.props.height,!h.setProp("height",a,b))return 0/0;j&&!h.isComponentChild&&isNaN(f)&&(g=--j.remainingChildDimensions,g||j.setProp("containerChildrenSizeDone",!0)),c=h.frameBodyContext,c&&(d=h.getFrameInfo(),c.setHeight(a-d.height,b))}else if(!h.setProp("height",a,b))return 0/0;return a},setWidth:function(a,b){var c,d,e,f,g,h=this,i=h.target,j=h.ownerCtContext;if(0>a&&(a=0),h.wrapsComponent){if(e=h.collapsedHorz?0:i.minWidth||0,a=Ext.Number.constrain(a,e,i.maxWidth),f=h.props.width,!h.setProp("width",a,b))return 0/0;j&&!h.isComponentChild&&isNaN(f)&&(g=--j.remainingChildDimensions,g||j.setProp("containerChildrenSizeDone",!0)),c=h.frameBodyContext,c&&(d=h.getFrameInfo(),c.setWidth(a-d.width,b))}else if(!h.setProp("width",a,b))return 0/0;return a},setSize:function(a,b,c){this.setWidth(a,c),this.setHeight(b,c)},translateProps:{x:"left",y:"top"},undo:function(a){var b,c,d,e=this;if(e.revertProps(e.lastBox),a&&e.wrapsComponent){if(e.childItems)for(d=0,b=e.childItems,c=b.length;c>d;d++)b[d].undo(a);for(d=0,b=e.children,c=b.length;c>d;d++)b[d].undo()}},unsetProp:function(a){var b=this.dirty;delete this.props[a],b&&delete b[a]},writeProps:function(a,b){if(a&&"object"==typeof a){var c,d,e,f,g,h,i,j,k,l=this,m=l.el,n={},o=0,p=l.styleInfo,q=a.width,r=a.height,s=l.isBorderBoxValue,t=l.target,u=Math.max,v=0,w=0;"displayed"in a&&m.setDisplayed(a.displayed);for(d in a)b&&(l.fireTriggers("domTriggers",d),l.clearBlocks("domBlocks",d),l.flushedProps[d]=1),c=p[d],c&&c.dom&&(n[d]=c.suffix&&(e=parseInt(a[d],10))?e+c.suffix:a[d],++o);("x"in a||"y"in a)&&(t.isComponent?t.setPosition(a.x,a.y):o+=l.addPositionStyles(n,a)),!s&&(q>0||r>0)&&(l.frameBodyContext||(v=l.paddingInfo.width,w=l.paddingInfo.height),q&&(q=u(parseInt(q,10)-(l.borderInfo.width+v),0),n.width=q+"px",++o),r&&(r=u(parseInt(r,10)-(l.borderInfo.height+w),0),n.height=r+"px",++o)),l.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((f=void 0!==q&&l.hasOverflowY)||(g=void 0!==r&&l.hasOverflowX))&&(h=l.isAbsolute,void 0===h&&(h=!1,k=l.target.getTargetEl(),j=k.getStyle("position"),"absolute"==j&&(j=k.getStyle("box-sizing"),h="border-box"==j),l.isAbsolute=h),h&&(i=Ext.getScrollbarSize(),f&&(q=parseInt(q,10)+i.width,n.width=q+"px",++o),g&&(r=parseInt(r,10)+i.height,n.height=r+"px",++o))),o&&m.setStyle(n)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var a={dom:!0,parseInt:!0,suffix:"px"},b={dom:!0},c={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}}),Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a),b.items={},b.layouts={},b.blockCount=0,b.cycleCount=0,b.flushCount=0,b.calcCount=0,b.animateQueue=b.newQueue(),b.completionQueue=b.newQueue(),b.finalizeQueue=b.newQueue(),b.finishQueue=b.newQueue(),b.flushQueue=b.newQueue(),b.invalidateData={},b.layoutQueue=b.newQueue(),b.invalidQueue=[],b.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a,a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=this,o=a,p=!a.isComponent,q=p?o.length:1;for(d=0;q>d;++d){if(p&&(a=o[d]),c&&a.ownerCt&&(m=this.items[a.ownerCt.el.id],m&&Ext.Array.remove(m.childItems,n.getCmp(a))),!b&&(j=n.invalidQueue,f=j.length))for(n.invalidQueue=i=[],e=0;f>e;++e)k=j[e],l=k.item.target,l==a||l.isDescendant(a)||i.push(k);h=a.componentLayout,n.cancelLayout(h),h.getLayoutItems&&(g=h.getLayoutItems(),g.length&&n.cancelComponent(g,!0)),a.isContainer&&!a.collapsed&&(h=a.layout,n.cancelLayout(h),g=h.getVisibleItems(),g.length&&n.cancelComponent(g,!0))}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a),b.finalizeQueue.remove(a),b.finishQueue.remove(a),b.layoutQueue.remove(a),a.running&&b.layoutDone(a),a.ownerContext=null},clearTriggers:function(a,b){var c,d,e,f=a.id,g=this.triggers[b?"dom":"data"],h=g&&g[f],i=h&&h.length||0;for(c=0;i>c;++c)e=h[c],d=e.item,g=b?d.domTriggers:d.triggers,delete g[e.prop][f]},flush:function(){var a,b=this,c=b.flushQueue.clear(),d=c.length;if(d)for(++b.flushCount,a=0;d>a;++a)c[a].flush()},flushAnimations:function(){var a,b=this,c=b.animateQueue.clear(),d=c.length;if(d){for(a=0;d>a;a++)c[a].target.animate!==!1&&c[a].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var a,b,c,d,e=this,f=e.invalidQueue,g=f&&f.length;if(e.invalidQueue=[],g){for(b=[],d=0;g>d;++d)a=(c=f[d]).item.target,a.container.isDetachedBody||(b.push(a),c.options&&(e.invalidateData[a.id]=c.options));e.invalidate(b,null)}},flushLayouts:function(a,b,c){var d,e,f=this,g=c?f[a].items:f[a].clear(),h=g.length;if(h){for(d=0;h>d;++d)e=g[d],e.running||f.callLayout(e,b);f.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);return c.parent||(c.parent=a,a.children.length?a.children.push(c):a.children=[c]),c},getItem:function(a,b){var c=b.id,d=this.items,e=d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,el:b}));return e},handleFailure:function(){var a,b,c=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(b in c)a=c[b],c.hasOwnProperty(b)&&(a.running=!1,a.ownerContext=null)},invalidate:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this,o=!a.isComponent;for(e=0,i=o?a.length:1;i>e;++e)f=o?a[e]:a,f.rendered&&!f.hidden&&(g=n.getCmp(f),j=f.componentLayout,d=!j.ownerContext,k=f.isContainer&&!f.collapsed?f.layout:null,l=n.invalidateData[g.id],delete n.invalidateData[g.id],m=g.init(b,l),l&&n.processInvalidate(l,g,"before"),j.beforeLayoutCycle&&j.beforeLayoutCycle(g),k&&k.beforeLayoutCycle&&k.beforeLayoutCycle(g),m=g.initContinue(m),c=!0,j.getLayoutItems&&(j.renderChildren(),h=j.getLayoutItems(),h.length&&n.invalidate(h,!0)),k&&(c=!1,k.renderChildren(),h=k.getVisibleItems(),h.length&&n.invalidate(h,!0)),g.initDone(c),n.resetLayout(j,g,d),k&&n.resetLayout(k,g,d),g.initAnimation(),l&&n.processInvalidate(l,g,"after"));n.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=!1,a.isComponentLayout?(b.measuresBox&&b.onBoxMeasured(),b.setProp("done",!0)):b.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this,e=d.currentLayout;d.currentLayout=a.layout||null,a[c](b,a),d.currentLayout=e}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,f=b.layout,g=a[c],h=b[c];return function(c){var i=d.currentLayout;g&&(d.currentLayout=e,g.call(a.scope||a,c,a)),d.currentLayout=f,h.call(b.scope||b,c,b),d.currentLayout=i}},queueInvalidate:function(a,b){var c,d,e,f,g,h=this,i=[],j=h.invalidQueue,k=j.length;for(a.isComponent?a=h.getCmp(c=a):c=a.target,a.invalid=!0;k--;){if(d=j[k],e=d.item.target,c.isDescendant(e))return;if(e==c)return void((f=d.options)?b&&(b.widthModel&&(f.widthModel=b.widthModel),b.heightModel&&(f.heightModel=b.heightModel),(g=f.state)?b.state&&Ext.apply(g,b.state):f.state=b.state,b.before&&(f.before=h.chainFns(f,b,"before")),b.after&&(f.after=h.chainFns(f,b,"after"))):d.options=b);e.isDescendant(c)||i.push(d)}i.push({item:a,options:b}),h.invalidQueue=i},queueItemLayouts:function(a){var b=a.isComponent?a:a.target,c=b.componentLayout;c.pending||c.invalid||c.done||this.queueLayout(c),c=b.layout,!c||c.pending||c.invalid||c.done||this.queueLayout(c)},queueLayout:function(a){this.layoutQueue.add(a),a.pending=!0},removeEl:function(a,b){var c=b.id,d=a.children,e=this.items;d&&Ext.Array.remove(d,e[c]),delete e[c]},resetLayout:function(a,b,c){var d=this;d.currentLayout=a,a.done=!1,a.pending=!0,a.firedTriggers=0,d.layoutQueue.add(a),c?(d.layouts[a.id]=a,a.running=!0,a.finishedLayout&&d.finishQueue.add(a),++d.remainingLayouts,++a.layoutCount,a.ownerContext=b,a.beginCount=0,a.blockCount=0,a.calcCount=0,a.triggerCount=0,a.initialized||a.initLayout(),a.beginLayout(b)):(++a.beginCount,a.running||(++d.remainingLayouts,a.running=!0,a.isComponentLayout&&b.unsetProp("done"),d.completionQueue.remove(a),d.finalizeQueue.remove(a))),a.beginLayoutCycle(b,c)},run:function(){var a=this,b=!1,c=100;for(a.flushInvalidates(),a.state=1,a.totalCount=a.layoutQueue.getCount(),a.flush();(a.remainingLayouts||a.invalidQueue.length)&&c--;){if(a.invalidQueue.length&&a.flushInvalidates(),a.runCycle())b=!1;else if(b){if(!a.invalidQueue.length){a.state=2;break}}else a.flush(),b=!0,a.flushLayouts("completionQueue","completeLayout");a.remainingLayouts||a.invalidQueue.length||(a.flush(),a.flushLayouts("completionQueue","completeLayout"),a.flushLayouts("finalizeQueue","finalizeLayout"))}return a.runComplete()},runComplete:function(){var a=this;return a.state=2,a.remainingLayouts?(a.handleFailure(),!1):(a.flush(),a.flushLayouts("finishQueue","finishedLayout",!0),a.flushLayouts("finishQueue","notifyOwner"),a.flush(),a.flushAnimations(),!0)},runCycle:function(){var a,b=this,c=b.layoutQueue.clear(),d=c.length;for(++b.cycleCount,b.progressCount=0,a=0;d>a;++a)b.runLayout(b.currentLayout=c[a]);return b.currentLayout=null,b.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=!1,c.state.blocks||(a.done=!0,++a.calcCount,++b.calcCount,a.calculate(c),a.done?(b.layoutDone(a),a.completeLayout&&b.queueCompletion(a),a.finalizeLayout&&b.queueFinalize(a)):a.pending||a.invalid||a.blockCount+a.triggerCount-a.firedTriggers||b.queueLayout(a))},setItemSize:function(a,b,c){var d,e,f=a,g=1;for(a.isComposite?(f=a.elements,g=f.length,a=f[0]):a.dom||a.el||(g=f.length,a=f[0]),e=0;g>e;)d=this.get(a),d.setSize(b,c),a=f[++e]}},1,0,0,0,0,0,[Ext.layout,"Context"],0),Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(a){this.callParent(arguments),a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=this,c=b.lastWidthModel,d=b.lastHeightModel,e=b.owner.body;b.callParent(arguments),c&&c.fixed&&a.widthModel.shrinkWrap&&e.setWidth(null),d&&d.fixed&&a.heightModel.shrinkWrap&&e.setHeight(null)},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments);return a.targetContext!=a&&(b+=a.getPaddingInfo().height),b},calculateOwnerWidthFromContentWidth:function(a){var b=this.callParent(arguments);return a.targetContext!=a&&(b+=a.getPaddingInfo().width),b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height,d=a.targetContext;return d!=a&&(c-=a.getPaddingInfo().height),a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width,d=a.targetContext;d!=a&&(c-=a.getPaddingInfo().width),a.bodyContext.setWidth(c,!a.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0),Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){a.target.collapsed&&(a.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(a){var b,c=a.target;this.callParent(arguments),c.collapsed&&(a.setContentHeight(0),a.restoreMinHeight=c.minHeight,delete c.minHeight,a.widthModel.shrinkWrap&&(b=c.lastComponentSize,a.setContentWidth(b&&b.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(a){var b=this.owner,c=a.restoreMinHeight;this.callParent(arguments),c&&(b.minHeight=c)},calculateOwnerHeightFromContentHeight:function(a){var b=a.getBorderInfo(),c=a.target.legend;return a.getProp("contentHeight")+a.getPaddingInfo().height+(Ext.isIEQuirks||Ext.isIE8m?a.bodyContext.getPaddingInfo().top:0)+(c?c.getHeight():b.top)+b.bottom},publishInnerHeight:function(a,b){var c=a.target.legend;c&&(b-=c.getHeight()),this.callParent([a,b])},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0),Ext.cmd.derive("Ext.layout.component.field.Slider",Ext.layout.component.field.Field,{type:"sliderfield",beginLayout:function(a){this.callParent(arguments),a.endElContext=a.getEl("endEl"),a.innerElContext=a.getEl("innerEl"),a.bodyElContext=a.getEl("bodyEl")},publishInnerHeight:function(a,b){var c,d,e=b-this.measureLabelErrorHeight(a);this.owner.vertical?(c=a.endElContext.getPaddingInfo(),d=a.inputContext.getPaddingInfo(),a.innerElContext.setHeight(e-d.height-c.height)):a.bodyElContext.setHeight(e)},publishInnerWidth:function(a,b){if(!this.owner.vertical){var c=a.endElContext.getPaddingInfo(),d=a.inputContext.getPaddingInfo();a.innerElContext.setWidth(b-d.left-c.right-a.labelContext.getProp("width"))}},beginLayoutFixed:function(){var a=this,b=a.ieInputWidthAdjustment;b&&a.owner.bodyEl.setStyle("padding-right",b+"px"),a.callParent(arguments)}},0,0,0,0,["layout.sliderfield"],0,[Ext.layout.component.field,"Slider"],0),Ext.cmd.derive("Ext.layout.container.Absolute",Ext.layout.container.Anchor,{alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("left");return a-d+c.left},adjustHeightAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("top");return a-d+c.top},isItemLayoutRoot:function(){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(){return!0},beginLayout:function(a){var b=this,c=b.getTarget();b.callParent(arguments),c.dom!==document.body&&c.position(),b.targetPadding=a.targetContext.getPaddingInfo()},isItemBoxParent:function(){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:this.callParent(arguments)},calculateContentSize:function(a,b){var c,d,e,f,g,h,i,j=this,k=(b||0)|((a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0)),l=1&k||void 0,m=2&k||void 0,n=a.childItems,o=n.length,p=0,q=0,r=0,s=a.props;if(l&&(isNaN(s.contentWidth)?++r:l=void 0),m&&(isNaN(s.contentHeight)?++r:m=void 0),r){for(g=0;o>g;++g)if(e=n[g],d=e.target,f=m&&e.getProp("height"),i=l&&e.getProp("width"),h=e.getMarginInfo(),f+=h.bottom,i+=h.right,p=Math.max(p,(d.y||0)+f),q=Math.max(q,(d.x||0)+i),isNaN(p)&&isNaN(q))return void(j.done=!1);(l||m)&&(c=a.targetContext.getPaddingInfo()),l&&!a.setContentWidth(q+c.width)&&(j.done=!1),m&&!a.setContentHeight(p+c.height)&&(j.done=!1)}}},0,0,0,0,["layout.absolute"],0,[Ext.layout.container,"Absolute",Ext.layout,"AbsoluteLayout"],0),Ext.cmd.derive("Ext.layout.container.Accordion",Ext.layout.container.VBox,{alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var a=this;a.callParent(arguments),a.animatePolicy=!a.multi&&a.animate?Ext.apply({},a.defaultAnimatePolicy):null},beforeRenderItems:function(a){for(var b,c=this,d=a.length,e=0,f=c.owner,g=c.collapseFirst,h=Ext.isDefined(g),i=c.getExpanded(!0)[0],j=c.multi;d>e;e++)b=a[e],b.rendered||(j&&b.collapsible===!1||(b.collapsible=!0),b.collapsible&&(h&&(b.collapseFirst=g),c.hideCollapseTool?(b.hideCollapseTool=c.hideCollapseTool,b.titleCollapse=!0):c.titleCollapse&&void 0===b.titleCollapse&&(b.titleCollapse=c.titleCollapse)),delete b.hideHeader,delete b.width,b.title=b.title||"&#160;",b.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),j||(i?b.collapsed=i!==b:b.hasOwnProperty("collapsed")&&b.collapsed===!1?i=b:b.collapsed=!0,f.mon(b,{show:c.onComponentShow,beforeexpand:c.onComponentExpand,beforecollapse:c.onComponentCollapse,scope:c})),f.mon(b,"beforecollapse",c.onComponentCollapse,c),b.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");j||(i?c.activeOnTop&&(i.collapsed=!1,c.configureItem(i),f.items.indexOf(i)>0&&f.insert(0,i)):d&&(a[0].collapsed=!1))},getItemsRenderTree:function(a){return this.beforeRenderItems(a),this.callParent(arguments)},renderItems:function(a){this.beforeRenderItems(a),this.callParent(arguments)},configureItem:function(a){this.callParent(arguments),a.animCollapse=a.border=!1,this.fill&&(a.flex=1)},beginLayout:function(a){this.callParent(arguments),this.updatePanelClasses(a)},updatePanelClasses:function(a){var b,c,d,e=a.visibleItems,f=e.length,g=!0;for(b=0;f>b;b++)c=e[b],d=c.header,d.addCls(Ext.baseCSSPrefix+"accordion-hd"),g?d.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):d.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),b+1==f&&c.collapsed?d.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):d.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),g=c.collapsed},onComponentExpand:function(a){var b,c,d,e,f=this,g=f.owner,h=f.multi,i=(f.animate,!h&&!f.animate&&f.activeOnTop);if(!f.processing){for(f.processing=!0,e=g.deferLayouts,g.deferLayouts=!0,b=h?[]:f.getExpanded(),c=b.length,d=0;c>d;d++)b[d].collapse();i&&(Ext.suspendLayouts(),g.insert(0,a),Ext.resumeLayouts()),g.deferLayouts=e,f.processing=!1}},onComponentCollapse:function(a){var b,c,d,e=this,f=e.owner;return 1===e.owner.items.getCount()?!1:void(e.processing||(e.processing=!0,d=f.deferLayouts,f.deferLayouts=!0,b=a.next()||a.prev(),e.multi?(c=e.getExpanded(),1===c.length&&b.expand()):b&&b.expand(),f.deferLayouts=d,e.processing=!1))},onComponentShow:function(a){this.onComponentExpand(a)},getExpanded:function(a){for(var b,c,d=this.owner.items.items,e=d.length,f=0,g=[];e>f;++f)c=d[f],b=a?c.hasOwnProperty("collapsed")&&c.collapsed===!1:!c.collapsed,b&&g.push(c);return g}},1,0,0,0,["layout.accordion"],0,[Ext.layout.container,"Accordion",Ext.layout,"AccordionLayout"],0),Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget();a.callParent(),b.collapsed&&a.addCls(a.collapsedClsInternal),a.canResize||a.addCls(a.baseCls+"-noresize"),Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:a.collapsible||b.collapsible}),a.protoEl.unselectable()},onRender:function(){var a,b=this;b.callParent(arguments),b.performCollapse!==!1&&(b.renderData.collapsible&&b.mon(b.collapseEl,"click",b.toggleTargetCmp,b),b.collapseOnDblClick&&b.mon(b.el,"dblclick",b.toggleTargetCmp,b)),b.mon(b.getCollapseTarget(),{collapse:b.onTargetCollapse,expand:b.onTargetExpand,beforeexpand:b.onBeforeTargetExpand,beforecollapse:b.onBeforeTargetCollapse,scope:b}),b.canResize&&(b.tracker=Ext.create(b.getTrackerConfig()),b.relayEvents(b.tracker,["beforedragstart","dragstart","dragend"])),a=b.collapseEl,a&&(a.lastCollapseDirCls=b.collapseDirProps[b.collapseDirection].cls)},getCollapseDirection:function(){var a,b,c,d,e=this,f=e.collapseDirection;return f||(a=e.collapseTarget,a.isComponent&&(f=a.collapseDirection),f||(d=e.ownerCt.layout.type,a.isComponent?(c=e.ownerCt.items,b=Number(c.indexOf(a)===c.indexOf(e)-1)<<1|Number("hbox"===d)):b=Number("prev"===e.collapseTarget)<<1|Number("hbox"===d),f=["bottom","right","top","left"][b]),e.collapseDirection=f),e.setOrientation("top"===f||"bottom"===f?"horizontal":"vertical"),f},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:"prev"===a.collapseTarget?a.previousSibling():a.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;b&&b.setDisplayed(a)},onBeforeTargetExpand:function(){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},onTargetExpand:function(){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var a,b=this,c=b.collapseEl,d=b.collapseDirProps[b.collapseDirection];c&&(a=c.lastCollapseDirCls,a&&c.removeCls(a),c.addCls(c.lastCollapseDirCls=d.cls))},applyOrientation:function(){var a=this,b=a.orientation,c=a.orientationProps[b],d=a.size,e=c.fixedAxis,f=c.stretchedAxis,g=a.baseCls+"-";a[b]=!0,a[c.opposite]=!1,a.hasOwnProperty(e)&&"100%"!==a[e]||(a[e]=d),a.hasOwnProperty(f)&&a[f]!==d||(a[f]="100%"),a.removeCls(g+c.opposite),a.addCls(g+b)},setOrientation:function(a){var b=this;b.orientation!==a&&(b.orientation=a,b.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(){var a,b=this.getCollapseTarget(),c=b.placeholder;Ext.isFunction(b.expand)&&Ext.isFunction(b.collapse)&&(a=c&&!c.hidden?!0:!b.hidden,a&&(b.collapsed?b.expand():b.collapseDirection?b.collapse():b.collapse(this.renderData.collapseDir)))},setSize:function(){var a=this;a.callParent(arguments),Ext.isIE&&a.el&&a.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}},0,["splitter"],["component","box","splitter"],{component:!0,box:!0,splitter:!0},["widget.splitter"],0,[Ext.resizer,"Splitter"],0),Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();return a.xclass="Ext.resizer.BorderSplitterTracker",a}},0,["bordersplitter"],["bordersplitter","component","box","splitter"],{bordersplitter:!0,component:!0,box:!0,splitter:!0},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0),Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=o.axisProps[c],q=!p.horizontal,r=p.sizeProp,s=0,t=a.childItems,u=t.length;for(e=0;u>e;++e)if(f=t[e],h=f.target,f.layoutPos={},h.region){if(f.region=i=h.region,f.isCenter=h.isCenter,f.isHorz=h.isHorz,f.isVert=h.isVert,f.weight=h.weight||o.regionWeights[i]||0,b[h.id]=f,h.isCenter){d=f,g=h.flex,a.centerRegion=d;continue}if(q!==f.isVert)continue;f.reverseWeighting=i==p.borderEnd,k=h[r],l=typeof k,h.collapsed||("string"==l&&(j=o.percentageRe.exec(k))?f.percentage=parseInt(j[1],10):h.flex&&(s+=f.flex=h.flex))}return d&&(m=d.target,(n=m.placeholderFor)?g||q!==n.collapsedVertical()||(g=0,d.collapseAxis=c):m.collapsed&&q===m.collapsedVertical()&&(g=0,d.collapseAxis=c)),null==g&&(g=1),s+=g,Ext.apply({before:q?"top":"left",totalFlex:s},p)},beginLayout:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.getLayoutItems(),m=k.padding,n=typeof m,o=!1;for(m?("string"==n||"number"==n)&&(m=Ext.util.Format.parseBox(m)):(m=a.getEl("getTargetEl").getPaddingInfo(),o=!0),a.outerPad=m,a.padOnContainer=o,e=0,d=l.length;d>e;++e)c=l[e],g=k.getSplitterTarget(c),g&&(h=void 0,i=!!c.hidden,g.split?i!==g.hidden&&(h=!g.hidden):g.isCollapsingOrExpanding&&(h=!!g.collapsed),h?c.show():h===!1&&c.hide());for(k.callParent(arguments),l=a.childItems,d=l.length,f={},a.borderAxisHorz=k.beginAxis(a,f,"horz"),a.borderAxisVert=k.beginAxis(a,f,"vert"),e=0;d>e;++e)b=l[e],g=k.getSplitterTarget(b.target),g&&(j=f[g.id],j||(j=a.getEl(g.el,k),j.region=g.region),b.collapseTarget=g=j,b.weight=g.weight,b.reverseWeighting=g.reverseWeighting,g.splitter=b,b.isHorz=g.isHorz,b.isVert=g.isVert);k.sortWeightedItems(l,"reverseWeighting"),k.setupSplitterNeighbors(l)},calculate:function(a){var b,c,d,e,f,g,h=this,i=h.getContainerSize(a),j=a.childItems,k=j.length,l=a.borderAxisHorz,m=a.borderAxisVert,n=a.outerPad,o=a.padOnContainer;for(l.begin=n[h.padOnContainerProp],m.begin=n.top,f=l.end=l.flexSpace=i.width+(o?n[h.padOnContainerProp]:-n[h.padNotOnContainerProp]),g=m.end=m.flexSpace=i.height+(o?n.top:-n.bottom),b=0;k>b;++b)c=j[b],d=c.getMarginInfo(),(c.isHorz||c.isCenter)&&(l.addUnflexed(d.width),f-=d.width),(c.isVert||c.isCenter)&&(m.addUnflexed(d.height),g-=d.height),c.flex||c.percentage||(c.isHorz||c.isCenter&&"horz"===c.collapseAxis?(e=c.getProp("width"),l.addUnflexed(e),c.collapseTarget&&(f-=e)):(c.isVert||c.isCenter&&"vert"===c.collapseAxis)&&(e=c.getProp("height"),m.addUnflexed(e),c.collapseTarget&&(g-=e)));for(b=0;k>b;++b)c=j[b],d=c.getMarginInfo(),c.percentage&&(c.isHorz?(e=Math.ceil(f*c.percentage/100),e=c.setWidth(e),l.addUnflexed(e)):c.isVert&&(e=Math.ceil(g*c.percentage/100),e=c.setHeight(e),m.addUnflexed(e)));for(b=0;k>b;++b)c=j[b],c.isCenter||(h.calculateChildAxis(c,l),h.calculateChildAxis(c,m));h.finishAxis(a,m)+h.finishAxis(a,l)<2?h.done=!1:h.finishPositions(j)},calculateChildAxis:function(a,b){var c,d,e,f,g,h=a.collapseTarget,i="set"+b.sizePropCap,j=b.sizeProp,k=a.getMarginInfo()[j];h?c=h.region:(c=a.region,e=a.flex),d=c==b.borderBegin,d||c==b.borderEnd?(e?(g=Math.ceil(b.flexSpace*(e/b.totalFlex)),g=a[i](g)):g=a.percentage?a.peek(j):a.getProp(j),g+=k,d?(f=b.begin,b.begin+=g):b.end=f=b.end-g):(a[i](b.end-b.begin-k),f=b.begin),a.layoutPos[b.posProp]=f},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;return d&&(d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]),d.layoutPos[b.posProp]=b.begin),Ext.isNumber(c)?1:0},finishPositions:function(a){var b,c,d=a.length,e=this.horzMarginProp;for(b=0;d>b;++b)c=a[b],c.setProp("x",c.layoutPos.x+c.marginInfo[e]),c.setProp("y",c.layoutPos.y+c.marginInfo.top)},getLayoutItems:function(){for(var a,b,c=this.owner,d=c&&c.items&&c.items.items||[],e=d.length,f=[],g=0;e>g;g++)a=d[g],b=a.placeholderFor,!a.hidden&&(a.floated&&2!==a.isCollapsingOrExpanding||b&&2===b.isCollapsingOrExpanding)||f.push(a);return f},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(a){var b=a.collapseTarget;return b&&b.collapsed?b.placeholder||b:b},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},insertSplitter:function(a,b,c,d){var e=a.region,f=Ext.apply({xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:a.splitterResize!==!1,splitterFor:a},d),g=b+("south"===e||"east"===e?0:1);"mini"===a.collapseMode&&(f.collapsedCls=a.collapsedCls),a.splitter=this.owner.add(g,f)},onAdd:function(a,b){var c,d,e,f=this,g=a.placeholderFor,h=a.region;f.callParent(arguments),h?(Ext.apply(a,f.regionFlags[h]),a.initBorderRegion&&a.initBorderRegion(),"center"===h?f.centerRegion=a:(c=a.split,d=!!a.hidden,"object"==typeof c&&(e=c,c=!0),!a.isHorz&&!a.isVert||!c&&"mini"!=a.collapseMode||f.insertSplitter(a,b,d||!c,e)),a.hasOwnProperty("collapseMode")||(a.collapseMode=f.panelCollapseMode),a.hasOwnProperty("animCollapse")||(a.animCollapse="placeholder"!==a.collapseMode?!1:f.panelCollapseAnimate)):g&&(Ext.apply(a,f.regionFlags[g.region]),a.region=g.region,a.weight=g.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(a){var b=this,c=a.region,d=a.splitter;c&&(a.isCenter&&(b.centerRegion=null),delete a.isCenter,delete a.isHorz,delete a.isVert,d&&(b.owner.doRemove(d,!0),delete a.splitter)),b.callParent(arguments)},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(a){var b,c,d,e,f,g,h,i,j,k={},l=a.length,m=this.touchedRegions;for(b=0;l>b;++b)if(g=a[b].target,h=g.region,g.isCenter)d=g;else if(h){for(j=m[h],c=0,e=j.length;e>c;++c)f=k[j[c]],f&&f.neighbors.push(g);i=g.placeholderFor?g.placeholderFor.splitter:g.splitter,i&&(i.neighbors=[]),k[h]=i}if(d)for(j=m.center,c=0,e=j.length;e>c;++c)f=k[j[c]],f&&f.neighbors.push(d)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b,c,d,e,f=this,g=this.sizePolicies;return a.isCenter?(e=a.placeholderFor,e?e.collapsedVertical()?g.vert:g.horz:a.collapsed?a.collapsedVertical()?g.vert:g.horz:g.flexAll):(b=a.collapseTarget,b?b.isVert?g.vert:g.horz:a.region?(a.isVert?(c=a.height,d=g.vert):(c=a.width,d=g.horz),a.flex||"string"==typeof c&&f.percentageRe.test(c)?g.flexAll:d):f.autoSizePolicy)}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a),Ext.apply(b.vert,a)}),Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var a=this,b=a.getActiveItem();
if(b){if(b.hasListeners.beforeactivate&&b.fireEvent("beforeactivate",b)===!1?b=a.activeItem=a.owner.activeItem=null:b.hasListeners.activate&&b.on({boxready:function(){b.fireEvent("activate",b)},single:!0}),!a.deferredRender)return a.callParent(arguments);if(b)return a.getItemsRenderTree([b])}},renderChildren:function(){var a=this,b=a.getActiveItem();a.deferredRender?b&&a.renderItems([b],a.getRenderTarget()):a.callParent()},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return c&&c.parentNode===(b.dom||b)||!1},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||a.owner&&a.owner.activeItem);return a.activeItem=b&&-1!=a.owner.items.indexOf(b)?b:null,a.activeItem},parseActiveItem:function(a){return a&&a.isComponent?a:"number"==typeof a||void 0===a?this.getLayoutItems()[a||0]:this.owner.getComponent(a)},configureItem:function(a){a.hidden=a===this.getActiveItem()?!1:!0,this.callParent(arguments)},onRemove:function(a){var b=this;a===b.activeItem&&(b.activeItem=null)},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;return c===!1?!1:c||b.cardSwitchAnimation},getNext:function(){var a=arguments[0],b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c+1]||(a?b[0]:!1)},next:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getNext(b),a)},getPrev:function(){var a=arguments[0],b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c-1]||(a?b[b.length-1]:!1)},prev:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var b,c=this,d=c.owner,e=c.activeItem,f=d.rendered;return a=c.parseActiveItem(a),b=d.items.indexOf(a),-1==b&&(b=d.items.items.length,Ext.suspendLayouts(),a=d.add(a),Ext.resumeLayouts()),a&&e!=a?a.fireEvent("beforeactivate",a,e)===!1?!1:e&&e.fireEvent("beforedeactivate",e,a)===!1?!1:(f?(Ext.suspendLayouts(),a.rendered||c.renderItem(a,c.getRenderTarget(),d.items.length),e&&(c.hideInactive&&(e.hide(),e.hiddenByLayout=!0),e.fireEvent("deactivate",e,a)),a.hidden&&a.show(),a.hidden||(c.activeItem=a),Ext.resumeLayouts(!0)):c.activeItem=a,a.fireEvent("activate",a,e),c.activeItem):!1}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0),Ext.cmd.derive("Ext.layout.container.Column",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,isItemShrinkWrap:function(){return!0},getItemSizePolicy:function(a,b){return a.columnWidth&&(b||(b=this.owner.getSizeModel()),!b.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(a,b){var c,d,e,f,g,h,i=this,j=a.targetContext,k=a.childItems,l=k.length,m=0,n=b.gotWidth;if(n===!1)j.domBlock(i,"width"),c=!0;else{if(!n)return!0;d=b.width}for(e=0;l>e;++e)f=k[e],g=f.getMarginInfo().width,f.widthModel.calculated||(h=f.getProp("width"),"number"!=typeof h&&(f.block(i,"width"),c=!0),m+=h+g);if(!c){for(d=m>d?0:d-m,e=0;l>e;++e)f=k[e],f.widthModel.calculated&&(g=f.marginInfo.width,h=f.target.columnWidth,h=Math.floor(h*d)-g,h=f.setWidth(h),m+=h+g);a.setContentWidth(m+a.paddingContext.getPaddingInfo().width)}return!c},setCtSizeIfNeeded:function(a,b){var c=this,d=a.paddingContext.getPaddingInfo();c.callParent(arguments),(Ext.isIEQuirks||Ext.isIE7m)&&c.isShrinkWrapTpl&&d.right&&a.outerCtContext.setProp("width",b.width+d.left)}},0,0,0,0,["layout.column"],0,[Ext.layout.container,"Column",Ext.layout,"ColumnLayout"],0),Ext.cmd.derive("Ext.layout.container.Form",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:!0,manageOverflow:!0,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var a=this.callParent();return a.tableCls=this.tableCls,a},calculate:function(a){var b,c,d,e=this,f=e.getContainerSize(a,!0),g=0,h=a.sizeModel.height.shrinkWrap;if(h&&(a.hasDomProp("containerChildrenSizeDone")?a.setProp("contentHeight",e.formTable.dom.offsetHeight+a.targetContext.getPaddingInfo().height):e.done=!1),f.gotWidth)for(b=e.formTable.dom.offsetWidth,c=a.childItems,d=c.length;d>g;++g)c[g].setWidth(b,!1);else e.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var a,b,c=this,d=c.callParent(arguments);for(a=0,b=d.length;b>a;a++)d[a]=c.transformItemRenderTree(d[a]);return d},transformItemRenderTree:function(a){return a.tag&&"table"==a.tag?(a.tag="tbody",delete a.cellspacing,delete a.cellpadding,Ext.isIE6&&(a.cn=this.padRow),a):{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:a}}}},isValidParent:function(){return!0},isItemShrinkWrap:function(a){return 2&(a.shrinkWrap===!0?3:a.shrinkWrap||0)},getItemSizePolicy:function(){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(a){var b=this.overflowPadderEl;b&&b.setStyle("display","none"),a.state.overflowAdjust||(a.state.overflowAdjust=this.lastOverflowAdjust)},calculateOverflow:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=a.targetContext,s=q.manageOverflow,t=a.state,u=t.overflowAdjust;!s||t.secondPass||q.reserveScrollbar||(o="auto"===q.getOverflowXStyle(a),p="auto"===q.getOverflowYStyle(a),b.gotWidth||(o=!1),b.gotHeight||(p=!1),(o||p)&&(i=Ext.getScrollbarSize(),j=a.peek("contentWidth"),k=a.peek("contentHeight"),g=r.getPaddingInfo(),j-=g.width,k-=g.height,l=b.width,m=b.height,n=q.getScrollbarsNeeded(l,m,j,k),t.overflowState=n,"number"==typeof c&&(n&=~c),u={width:o&&2&n?i.width:0,height:p&&1&n?i.height:0},(u.width!==q.lastOverflowAdjust.width||u.height!==q.lastOverflowAdjust.height)&&(q.done=!1,a.invalidate({state:{overflowAdjust:u,overflowState:t.overflowState,secondPass:!0}})))),q.done&&(f=a.padElContext||(a.padElContext=a.getEl("overflowPadderEl",q)),f&&(n=t.overflowState,d=a.peek("contentWidth"),e=1,n?(g=r.getPaddingInfo(),h=q.scrollRangeFlags,2&n&&1&h&&(e+=g.bottom),1&n&&4&h&&(d+=g.right),f.setProp("display",""),f.setSize(d,e)):f.setProp("display","none")))},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadder:function(a,b){var c=b.$layout,d=c.owner,e=c.getScrollRangeFlags();c.manageOverflow&&5&e&&(a.push('<div id="',d.id,'-overflowPadderEl" ','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999'),a.push('"></div>'),c.scrollRangeFlags=e)},getContainerSize:function(a,b,c){var d,e,f,g,h=a.targetContext,i=h.getFrameInfo(),j=h.getPaddingInfo(),k=0,l=0,m=c?null:a.state.overflowAdjust;return a.widthModel.shrinkWrap||(++l,f=b?h.getDomProp("width"):h.getProp("width"),d="number"==typeof f,d&&(++k,f-=i.width+j.width,m&&(f-=m.width))),a.heightModel.shrinkWrap||(++l,g=b?h.getDomProp("height"):h.getProp("height"),e="number"==typeof g,e&&(++k,g-=i.height+j.height,m&&(g-=m.height))),{width:f,height:g,needed:l,got:k,gotAll:k==l,gotWidth:d,gotHeight:e}},getOverflowXStyle:function(a){var b=this;return b.overflowXStyle||(b.overflowXStyle=b.owner.scrollFlags.overflowX||a.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){var b=this;return b.overflowYStyle||(b.overflowYStyle=b.owner.scrollFlags.overflowY||a.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:function(){var a=-1;return function(){if(0>a){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),c=b.dom.scrollHeight,d=b.dom.scrollWidth,e={175:0,165:1,170:2,160:3},f={175:0,165:4,170:8,160:12};a=(e[c]||0)|(f[d]||0),b.remove()}return a}}(),initLayout:function(){var a=this,b=Ext.getScrollbarSize().width;a.callParent(),b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")&&(a.owner.scrollFlags.y||a.reserveScrollbar)&&(a.lastOverflowAdjust={width:b,height:0})},setupRenderTpl:function(a){this.callParent(arguments),a.renderPadder=this.doRenderPadder}},0,0,0,0,["layout.form"],0,[Ext.layout.container,"Form",Ext.layout,"FormLayout"],0),Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){var a=this;!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()&&(a.el.addCls(a.activeCls),a.focus(),a.activated=!0,a.fireEvent("activate",a))},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;a.activated&&(a.el.removeCls(a.activeCls),a.blur(),a.hideMenu(),a.activated=!1,a.fireEvent("deactivate",a))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(a=this.up(":not([hidden])"),a&&a.focus())},expandMenu:function(a){var b=this;b.menu&&(b.cancelDeferHide(),0===a?b.doExpandMenu():(clearTimeout(b.expandMenuTimer),b.expandMenuTimer=Ext.defer(b.doExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)))},doExpandMenu:function(){var a=this,b=a.menu;!a.activated||b.rendered&&b.isVisible()||(a.parentMenu.activeChild=b,b.parentItem=a,b.parentMenu=a.parentMenu,b.showBy(a,a.menuAlign))},getRefItems:function(a){var b,c=this.menu;return c&&(b=c.getRefItems(a),b.unshift(c)),b||[]},hideMenu:function(a){var b=this;b.menu&&(clearTimeout(b.expandMenuTimer),b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b))},initComponent:function(){var a,b=this,c=Ext.baseCSSPrefix,d=[c+"menu-item"];b.addEvents("activate","click","deactivate","textchange","iconchange"),b.plain&&d.push(c+"menu-item-plain"),b.cls&&d.push(b.cls),b.cls=d.join(" "),b.menu&&(a=b.menu,delete b.menu,b.setMenu(a)),b.callParent(arguments)},onClick:function(a){var b=this,c=b.clickHideDelay;b.href||a.stopEvent(),b.disabled||(b.hideOnClick&&(c?b.deferHideParentMenusTimer=Ext.defer(b.deferHideParentMenus,c,b):b.deferHideParentMenus()),Ext.callback(b.handler,b.scope||b,[b,a]),b.fireEvent("click",b,a),b.hideOnClick||b.focus())},onRemoved:function(){var a=this;a.activated&&a.parentMenu.activeItem===a&&a.parentMenu.deactivateActiveItem(),a.callParent(arguments),a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;a.rendered&&a.clearTip(),a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer),a.cancelDeferHide(),clearTimeout(a.deferHideParentMenusTimer),a.setMenu(null),a.callParent(arguments)},beforeRender:function(){var a,b,c,d=this,e=Ext.BLANK_IMAGE_URL,f=d.glyph,g=Ext._glyphFontFamily;d.callParent(),"right"===d.iconAlign?(b=d.checkChangeDisabled?d.disabledCls:"",c=Ext.baseCSSPrefix+"menu-item-icon-right "+d.iconCls):(b=(d.iconCls||"")+(d.checkChangeDisabled?" "+d.disabledCls:""),c=d.menu?d.arrowCls:""),"string"==typeof f&&(a=f.split("@"),f=a[0],g=a[1]),Ext.applyIf(d.renderData,{href:d.href||"#",hrefTarget:d.hrefTarget,icon:d.icon,iconCls:b,glyph:f,glyphCls:f?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:g,hasIcon:!!(d.icon||d.iconCls||f),iconAlign:d.iconAlign,plain:d.plain,text:d.text,arrowCls:c,blank:e,tabIndex:d.tabIndex})},onRender:function(){var a=this;a.callParent(arguments),a.tooltip&&a.setTooltip(a.tooltip,!0)},setMenu:function(a,b){var c=this,d=c.menu,e=c.arrowEl;d&&(delete d.parentItem,delete d.parentMenu,delete d.ownerItem,(b===!0||b!==!1&&c.destroyMenu)&&Ext.destroy(d)),a?(c.menu=Ext.menu.Manager.get(a),c.menu.ownerItem=c):c.menu=null,c.rendered&&!c.destroying&&e&&e[c.menu?"addCls":"removeCls"](c.arrowCls)},setHandler:function(a,b){this.handler=a||null,this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;b&&(b.src=a||Ext.BLANK_IMAGE_URL),this.icon=a,this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var b=this,c=b.iconEl,d=b.iconCls;c&&(b.iconCls&&c.removeCls(b.iconCls),a&&c.addCls(a)),b.iconCls=a,b.fireEvent("iconchange",b,d,a)},setText:function(a){var b=this,c=b.textEl||b.el,d=b.text;b.text=a,b.rendered&&(c.update(a||""),b.ownerCt.updateLayout()),b.fireEvent("textchange",b,d,a)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(a,b){var c=this;return c.rendered?(b||c.clearTip(),Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:c.itemEl.id},a)),c.tooltip=a):c.itemEl.dom.setAttribute(c.getTipAttr(),a)):c.tooltip=a,c}},0,["menuitem"],["component","menuitem","box"],{component:!0,menuitem:!0,box:!0},["widget.menuitem"],[["queryable",Ext.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0),Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var a=this;a.checked=!!a.checked,a.addEvents("beforecheckchange","checkchange"),a.callParent(arguments),Ext.menu.Manager.registerCheckable(a),a.group&&(a.showCheckbox=!1,a.iconCls||a.icon||a.glyph||(a.iconCls=a.groupCls),a.initialConfig.hideOnClick!==!1&&(a.hideOnClick=!0))},beforeRender:function(){this.callParent(),this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var a=this;a.callParent(),a.checked=!a.checked,a.setChecked(!a.checked,!0),a.checkChangeDisabled&&a.disableCheckChange()},disableCheckChange:function(){var a=this,b=a.checkEl;b&&b.addCls(a.disabledCls),Ext.isIE10p||Ext.isIE9&&Ext.isStrict||!a.rendered||a.el.repaint(),a.checkChangeDisabled=!0},enableCheckChange:function(){var a=this,b=a.checkEl;b&&b.removeCls(a.disabledCls),a.checkChangeDisabled=!1},onClick:function(a){var b=this;b.disabled||b.checkChangeDisabled||b.checked&&b.group||b.setChecked(!b.checked),this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(a,b){var c=this;c.checked===a||!b&&c.fireEvent("beforecheckchange",c,a)===!1||(c.el&&c.el[a?"addCls":"removeCls"](c.checkedCls)[a?"removeCls":"addCls"](c.uncheckedCls),c.checked=a,Ext.menu.Manager.onCheckChange(c,a),b||(Ext.callback(c.checkHandler,c.scope,[c,a]),c.fireEvent("checkchange",c,a)))}},0,["menucheckitem"],["component","menucheckitem","menuitem","box"],{component:!0,menucheckitem:!0,menuitem:!0,box:!0},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0),Ext.cmd.derive("Ext.menu.KeyNav",Ext.util.KeyNav,{constructor:function(a){var b=this;b.menu=a.target,b.callParent([Ext.apply({down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up},a)])},down:function(a){var b=this,c=b.menu.focusedItem;return c&&a.getKey()==Ext.EventObject.DOWN&&b.isWhitelisted(c)?!0:void b.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem)b.onClick(a);else if(c&&c.isFormField)return!0},escape:function(){Ext.menu.Manager.hideAll()},focusNextItem:function(a){for(var b,c=this.menu,d=c.items,e=c.focusedItem,f=e?d.indexOf(e):-1,g=f+a,h=d.length,i=0;h>i&&g!==f;){if(0>g?g=h-1:g>=h&&(g=0),b=d.getAt(g),c.canActivateItem(b)){c.setActiveItem(b);break}g+=a,++i}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(){var a=this.menu,b=a.focusedItem;return b&&this.isWhitelisted(b)?!0:(a.hide(),void(a.parentMenu&&a.parentMenu.focus()))},right:function(){var a,b=this.menu,c=b.focusedItem,d=b.activeItem;return c&&this.isWhitelisted(c)?!0:void(d&&(a=b.activeItem.menu,a&&(d.expandMenu(0),a.setActiveItem(a.child(":focusable")))))},tab:function(a){var b=this;a.shiftKey?b.up(a):b.down(a)},up:function(a){var b=this,c=b.menu.focusedItem;return c&&a.getKey()==Ext.EventObject.UP&&b.isWhitelisted(c)?!0:void b.focusNextItem(-1)}},1,0,0,0,0,0,[Ext.menu,"KeyNav"],0),Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(){var a=this;a.callParent(),a.addCls(a.separatorCls)}},0,["menuseparator"],["component","menuseparator","menuitem","box"],{component:!0,menuseparator:!0,menuitem:!0,box:!0},["widget.menuseparator"],0,[Ext.menu,"Separator"],0),Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu"],d=a.bodyCls?[a.bodyCls]:[],e=a.floating!==!1;a.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(a),a.plain&&c.push(b+"menu-plain"),a.cls=c.join(" "),d.push(b+"menu-body",Ext.dom.Element.unselectableCls),a.bodyCls=d.join(" "),a.layout||(a.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),e?void 0===a.minWidth&&(a.minWidth=a.defaultMinWidth):(a.hidden=!!a.initialConfig.hidden,a.constrain=!1),a.callParent(arguments)},registerWithOwnerCt:function(){this.floating&&(this.ownerCt=null,Ext.WindowManager.register(this))},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var a=this.callParent();return a.hidden=this.hidden,a},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var a=this;a.callParent(arguments),a.showSeparator&&(a.iconSepEl=a.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})),a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a}),a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a),a.enableKeyNav&&(a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()}))},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(a){var b=this,c=b.activeItem,d=b.focusedItem;c&&(c.deactivate(),c.activated||delete b.activeItem),d&&a&&(d.blur(),delete b.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;return"string"==typeof a?a=b.lookupItemFromString(a):Ext.isObject(a)&&(a=b.lookupItemFromObject(a)),a.minWidth=a.minWidth||b.minWidth,a},lookupItemFromObject:function(a){var b,c=this,d=Ext.baseCSSPrefix;return a.isComponent||(a=a.xtype?Ext.ComponentManager.create(a,a.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a)),a.isMenuItem&&(a.parentMenu=c),a.isMenuItem||a.dock||(b=[d+"menu-item-cmp"],c.plain||a.indent===!1&&"no-icon"!==a.iconCls||b.push(d+"menu-item-indent"),a.rendered?a.el.addCls(b):a.cls=(a.cls||"")+" "+b.join(" ")),a},lookupItemFromString:function(a){return"separator"==a||"-"==a?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},onClick:function(a){var b,c=this;return c.disabled?void a.stopEvent():(b="click"===a.type?c.getItemFromEvent(a):c.activeItem,b&&b.isMenuItem&&(b.menu&&c.ignoreParentClicks?a.stopEvent():b.onClick(a)),(!b||b.disabled)&&(b=void 0),void c.fireEvent("click",c,b,a))},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a),a.parentMenu=a.ownerButton=null,a.rendered&&(a.el.un(a.mouseMonitor),Ext.destroy(a.keyNav),a.keyNav=null),a.callParent(arguments)},onMouseLeave:function(a){var b=this;b.deactivateActiveItem(),b.disabled||b.fireEvent("mouseleave",b,a)},onMouseOver:function(a){var b=this,c=a.getRelatedTarget(),d=!b.el.contains(c),e=b.getItemFromEvent(a),f=b.parentMenu,g=b.parentItem;d&&f&&(f.setActiveItem(g),g.cancelDeferHide(),f.mouseMonitor.mouseenter()),b.disabled||(e&&!e.activated&&(b.setActiveItem(e),e.activated&&e.expandMenu&&e.expandMenu()),d&&b.fireEvent("mouseenter",b,a),b.fireEvent("mouseover",b,e,a))},setActiveItem:function(a){var b=this;a&&a!=b.activeItem&&(b.deactivateActiveItem(),b.canActivateItem(a)&&(a.activate?(a.activate(),a.activated&&(b.activeItem=a,b.focusedItem=a,b.focus())):(a.focus(),b.focusedItem=a)),a.el.scrollIntoView(b.layout.getRenderTarget()))},showBy:function(){var a=this;return a.callParent(arguments),a.hidden||a.setVerticalPosition(),a},beforeShow:function(){var a,b=this;b.floating&&(b.savedMaxHeight=b.maxHeight,a=b.container.getViewSize().height,b.maxHeight=Math.min(b.maxHeight||a,a)),b.callParent(arguments)},afterShow:function(){var a=this;a.callParent(arguments),a.floating&&(a.maxHeight=a.savedMaxHeight)},setVerticalPosition:function(){var a,b=this,c=b.getY(),d=c,e=b.getHeight(),f=Ext.Element.getViewportHeight().height,g=b.el.parent(),h=g.getViewSize().height,i=c-g.getScroll().top;g=null,b.floating&&(a=b.maxHeight?b.maxHeight:h-i,e>h?d=c-i:e>a?d=c-(e-a):c+e>f&&(d=f-e)),b.setY(d)}},0,["menu"],["panel","component","container","menu","box"],{panel:!0,component:!0,container:!0,menu:!0,box:!0},["widget.menu"],0,[Ext.menu,"Menu"],0),Ext.cmd.derive("Ext.menu.ColorPicker",Ext.menu.Menu,{hideOnClick:!0,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners,Ext.apply(a,{plain:!0,showSeparator:!1,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:a.pickerId,xtype:"colorpicker"},b)}),a.callParent(arguments),a.picker=a.down("colorpicker"),a.relayEvents(a.picker,["select"]),a.hideOnClick&&a.on("select",a.hidePickerOnSelect,a)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["colormenu"],["panel","component","container","menu","colormenu","box"],{panel:!0,component:!0,container:!0,menu:!0,colormenu:!0,box:!0},["widget.colormenu"],0,[Ext.menu,"ColorPicker"],0),Ext.cmd.derive("Ext.menu.DatePicker",Ext.menu.Menu,{hideOnClick:!0,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners,Ext.apply(a,{showSeparator:!1,plain:!0,border:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:a.pickerId,xtype:"datepicker"},b)}),a.callParent(arguments),a.picker=a.down("datepicker"),a.relayEvents(a.picker,["select"]),a.hideOnClick&&a.on("select",a.hidePickerOnSelect,a)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["datemenu"],["panel","datemenu","component","container","menu","box"],{panel:!0,datemenu:!0,component:!0,container:!0,menu:!0,box:!0},["widget.datemenu"],0,[Ext.menu,"DatePicker"],0),Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){var a=this;a.addEvents("click"),a.type=a.type||a.id,Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type}),a.tooltip=a.tooltip||a.qtip,a.callParent()},afterRender:function(){var a,b=this;b.callParent(arguments),b.el.on({click:b.onClick,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,scope:b}),b.tooltip&&(Ext.quickTipsActive&&Ext.isObject(b.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:b.id},b.tooltip)):(a="qtip"==b.tooltipType?"data-qtip":"title",b.el.dom.setAttribute(a,b.tooltip)))},getFocusEl:function(){return this.el},setType:function(a){var b=this,c=b.type;return b.type=a,b.rendered?(c&&b.toolEl.removeCls(b.baseCls+"-"+c),b.toolEl.addCls(b.baseCls+"-"+a)):b.renderData.type=a,b},onClick:function(a,b){var c=this;return c.disabled?!1:(c.el.removeCls(c.toolPressedCls),c.el.removeCls(c.toolOverCls),c.stopEvent!==!1&&a.stopEvent(),c.handler?Ext.callback(c.handler,c.scope||c,[a,b,c.ownerCt,c]):c.callback&&Ext.callback(c.callback,c.scope||c,[c.toolOwner||c.ownerCt,c,a]),c.fireEvent("click",c,a),!0)},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(){return this.disabled?!1:void this.el.addCls(this.toolPressedCls)},onMouseOver:function(){return this.disabled?!1:void this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}},0,["tool"],["component","tool","box"],{component:!0,tool:!0,box:!0},["widget.tool"],0,[Ext.panel,"Tool"],0),Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"}),a.unselectable(),a.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(":not([hidden])")},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(":not([hidden])")},onBeforeStart:function(a){var b,c=this,d=c.getPrevCmp(),e=c.getNextCmp(),f=c.getSplitter().collapseEl,g=a.getTarget();return d&&e?f&&g===c.getSplitter().collapseEl.dom?!1:e.collapsed||d.collapsed?!1:(c.prevBox=d.getEl().getBox(),c.nextBox=e.getEl().getBox(),c.constrainTo=b=c.calculateConstrainRegion(),b?b:!1):!1},onStart:function(){var a=this.getSplitter();this.createDragOverlay(),a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var a,b,c,d=this,e=d.getSplitter(),f=e.getWidth(),g=e.defaultSplitMin,h=e.orientation,i=d.prevBox,j=d.getPrevCmp(),k=d.nextBox,l=d.getNextCmp();return"vertical"===h?(c={prevCmp:j,nextCmp:l,prevBox:i,nextBox:k,defaultMin:g,splitWidth:f},a=new Ext.util.Region(i.y,d.getVertPrevConstrainRight(c),i.bottom,d.getVertPrevConstrainLeft(c)),b=new Ext.util.Region(k.y,d.getVertNextConstrainRight(c),k.bottom,d.getVertNextConstrainLeft(c))):(a=new Ext.util.Region(i.y+(j.minHeight||g),i.right,(j.maxHeight?i.y+j.maxHeight:k.bottom-(l.minHeight||g))+f,i.x),b=new Ext.util.Region((l.maxHeight?k.bottom-l.maxHeight:i.y+(j.minHeight||g))-f,k.right,k.bottom-(l.minHeight||g),k.x)),a.intersect(b)},performResize:function(a,b){for(var c,d,e=this,f=e.getSplitter(),g=f.orientation,h=e.getPrevCmp(),i=e.getNextCmp(),j=f.ownerCt,k=j.query(">[flex]"),l=k.length,m="vertical"===g,n=0,o=m?"width":"height",p=0;l>n;n++)c=k[n],d=m?c.getWidth():c.getHeight(),p+=d,c.flex=d;b=m?b[0]:b[1],h&&(d=e.prevBox[o]+b,h.flex?h.flex=d:h[o]=d),i&&(d=e.nextBox[o]-b,i.flex?i.flex=d:i[o]=d),j.updateLayout()},endDrag:function(){var a=this;a.overlay&&(a.overlay.remove(),delete a.overlay),a.callParent(arguments)},onEnd:function(a){var b=this,c=b.getSplitter();c.removeCls(c.baseCls+"-active"),b.performResize(a,b.getResizeOffset())},onDrag:function(){var a=this,b=a.getOffset("dragTarget"),c=a.getSplitter(),d=c.getEl(),e=c.orientation;"vertical"===e?d.setX(a.startRegion.left+b[0]):d.setY(a.startRegion.top+b[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0),Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a,b,c,d,e,f,g,h=this,i=h.splitter,j=i.collapseTarget,k=i.defaultSplitMin,l=i.vertical?"Width":"Height",m="min"+l,n="max"+l,o="get"+l,p=i.neighbors,q=p.length,r=j.el.getBox(),s=r.x,t=r.y,u=r.right,v=r.bottom,w=i.vertical?u-s:v-t;for(c=(j[m]||Math.min(w,k))-w,d=j[n],d?d-=w:d=1e9,g=w,a=0;q>a;++a)b=p[a],w=b[o](),e=w-b[n],f=w-(b[m]||Math.min(w,k)),isNaN(e)||e>c&&(c=e),d>f&&(d=f);return 2>d-c?null:(r=new Ext.util.Region(t,u,v,s),h.constraintAdjusters[h.getCollapseDirection()](r,c,d,i),h.dragInfo={minRange:c,maxRange:d,targetSize:g},r)},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b,a.right+=c+d.getWidth()},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b,a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b,a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b,a[0]=a.x=a.left=a.x-c+d.getWidth()}},onBeforeStart:function(a){var b,c,d=this,e=d.splitter,f=e.collapseTarget,g=e.neighbors,h=d.getSplitter().collapseEl,i=a.getTarget(),j=g.length;if(h&&i===e.collapseEl.dom)return!1;if(f.collapsed)return!1;for(b=0;j>b;++b)if(c=g[b],c.collapsed&&c.isHorz===f.isHorz)return!1;return(d.constrainTo=d.calculateConstrainRegion())?!0:!1},performResize:function(a,b){var c,d=this,e=d.splitter,f=e.getCollapseDirection(),g=e.collapseTarget,h=d.splitAdjusters[e.vertical?"horz":"vert"],i=b[h.index],j=d.dragInfo;
("right"==f||"bottom"==f)&&(i=-i),i=Math.min(Math.max(j.minRange,i),j.maxRange),i&&((c=e.ownerCt).suspendLayouts(),h.adjustTarget(g,j.targetSize,i),c.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null,a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null,a.setSize(void 0,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0),Ext.cmd.derive("Ext.resizer.Handle",Ext.Component,{handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var a=this;a.callParent(),a.protoEl.unselectable(),a.addCls(a.baseHandleCls,a.baseHandleCls+"-"+a.region,a.handleCls)}},0,0,["component","box"],{component:!0,box:!0},0,0,[Ext.resizer,"Handle"],0),Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b,c,d,e=this;a.el||(e.el=a.target.isComponent?a.target.getEl():a.target),this.callParent(arguments),e.preserveRatio&&e.minWidth&&e.minHeight&&(b=e.minWidth/e.el.getWidth(),c=e.minHeight/e.el.getHeight(),c>b?e.minWidth=e.el.getWidth()*c:e.minHeight=e.el.getHeight()*b),e.throttle&&(d=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(e,arguments)},e.throttle),e.resize=function(a,b,c){c?Ext.resizer.ResizeTracker.prototype.resize.apply(e,arguments):d.apply(null,arguments)})},onBeforeStart:function(){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this,b=a.target;return a.dynamic?b:(a.proxy||(a.proxy=a.createProxy(b)),a.proxy.show(),a.proxy)},createProxy:function(a){var b,c=this.proxyCls;return b=a.isComponent?a.getProxy().addCls(c):a.createProxy({tag:"div",cls:c,id:a.id+"-rzproxy"},Ext.getBody()),b.removeCls(Ext.baseCSSPrefix+"proxy-el"),b},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=l.activeResizeHandle.region,n=l.getOffset(l.constrainTo?"dragTarget":null),o=l.startBox,p=0,q=0,r=0,s=0,t=n[0]<0?"right":"left",u=n[1]<0?"down":"up";switch(m=l.convertRegionName(m)){case"south":q=n[1],h=2;break;case"north":q=-n[1],s=-q,h=2;break;case"east":p=n[0],h=1;break;case"west":p=-n[0],r=-p,h=1;break;case"northeast":q=-n[1],s=-q,p=n[0],g=[o.x,o.y+o.height],h=3;break;case"southeast":q=n[1],p=n[0],g=[o.x,o.y],h=3;break;case"southwest":p=-n[0],r=-p,q=n[1],g=[o.x+o.width,o.y],h=3;break;case"northwest":q=-n[1],s=-q,p=-n[0],r=-p,g=[o.x+o.width,o.y+o.height],h=3}if(i={width:o.width+p,height:o.height+q,x:o.x+r,y:o.y+s},d=Ext.Number.snap(i.width,l.widthIncrement),e=Ext.Number.snap(i.height,l.heightIncrement),d!=i.width||e!=i.height){switch(m){case"northeast":i.y-=e-i.height;break;case"north":i.y-=e-i.height;break;case"southwest":i.x-=d-i.width;break;case"west":i.x-=d-i.width;break;case"northwest":i.x-=d-i.width,i.y-=e-i.height}i.width=d,i.height=e}i.width<l.minWidth||i.width>l.maxWidth?(i.width=Ext.Number.constrain(i.width,l.minWidth,l.maxWidth),r&&(i.x=o.x+(o.width-i.width))):l.lastX=i.x,i.height<l.minHeight||i.height>l.maxHeight?(i.height=Ext.Number.constrain(i.height,l.minHeight,l.maxHeight),s&&(i.y=o.y+(o.height-i.height))):l.lastY=i.y,(l.preserveRatio||a.shiftKey)&&(c=l.startBox.width/l.startBox.height,j=Math.min(Math.max(l.minHeight,i.width/c),l.maxHeight),k=Math.min(Math.max(l.minWidth,i.height*c),l.maxWidth),1==h?i.height=j:2==h?i.width=k:(f=Math.abs(g[0]-this.lastXY[0])/Math.abs(g[1]-this.lastXY[1]),f>c?i.height=j:i.width=k,"northeast"==m?i.y=o.y-(i.height-o.height):"northwest"==m?(i.y=o.y-(i.height-o.height),i.x=o.x-(i.width-o.width)):"southwest"==m&&(i.x=o.x-(i.width-o.width)))),0===q&&(u="none"),0===p&&(t="none"),l.resize(i,{horizontal:t,vertical:u},b)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(a,b,c){var d=this,e=d.getResizeTarget(c);e.setBox(a),d.originalTarget&&(d.dynamic||c)&&d.originalTarget.setBox(a)},onEnd:function(a){this.updateDimensions(a,!0),this.proxy&&this.proxy.hide()},convertRegionName:function(a){return a}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0),Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.handles,o=0,p=[],q=Ext.dom.Element.unselectableCls;for(m.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(a)||Ext.isElement(a)||a.dom)&&(b=a,a=arguments[1]||{},a.target=b),m.mixins.observable.constructor.call(m,a),b=m.target,b?b.isComponent?(b.addClsWithUI("resizable"),m.el=b.getEl(),b.minWidth&&(m.minWidth=b.minWidth),b.minHeight&&(m.minHeight=b.minHeight),b.maxWidth&&(m.maxWidth=b.maxWidth),b.maxHeight&&(m.maxHeight=b.maxHeight),b.floating&&(m.hasOwnProperty("handles")||(m.handles="n ne e se s sw w nw"))):m.el=m.target=Ext.get(b):m.target=m.el=Ext.get(m.el),d=m.el.dom.tagName.toUpperCase(),("TEXTAREA"==d||"IMG"==d||"TABLE"==d)&&(m.originalTarget=m.target,c=m.el,k=c.getBox(),m.target=m.el=m.el.wrap({cls:m.wrapCls,id:m.el.id+"-rzwrap",style:c.getStyles("margin-top","margin-bottom")}),m.el.setPositioning(c.getPositioning()),c.clearPositioning(),m.el.setBox(k),c.setStyle("position","absolute")),m.el.position(),m.pinned&&m.el.addCls(m.pinnedCls),m.resizeTracker=new Ext.resizer.ResizeTracker({disabled:m.disabled,target:m.target,constrainTo:m.constrainTo,overCls:m.overCls,throttle:m.throttle,originalTarget:m.originalTarget,delegate:"."+m.handleCls,dynamic:m.dynamic,preserveRatio:m.preserveRatio,heightIncrement:m.heightIncrement,widthIncrement:m.widthIncrement,minHeight:m.minHeight,maxHeight:m.maxHeight,minWidth:m.minWidth,maxWidth:m.maxWidth}),m.resizeTracker.on({mousedown:m.onBeforeResize,drag:m.onResize,dragend:m.onResizeEnd,scope:m}),"all"==m.handles&&(m.handles="n s e w ne nw se sw"),n=m.handles=m.handles.split(m.delimiterRe),f=m.possiblePositions,g=n.length,e=m.handleCls+" "+m.handleCls+"-{0}",m.target.isComponent&&(l=m.target.baseCls,e+=" "+l+"-handle "+l+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(e+=" "+l+"-handle-{0}-br")),i=Ext.isIE6?' style="height:'+m.el.getHeight()+'px"':"";g>o;o++)n[o]&&f[n[o]]&&(h=f[n[o]],j="east"===h||"west"===h?i:"",p.push('<div id="',m.el.id,"-",h,'-handle"',' class="',Ext.String.format(e,h)," ",q,'"',' unselectable="on"',j,"></div>"));for(Ext.DomHelper.append(m.el,p.join("")),o=0;g>o;o++)n[o]&&f[n[o]]&&(h=f[n[o]],m[h]=m.el.getById(m.el.id+"-"+h+"-handle"),m[h].region=h,m.transparent&&m[h].setOpacity(0));Ext.isNumber(m.width)&&(m.width=Ext.Number.constrain(m.width,m.minWidth,m.maxWidth)),Ext.isNumber(m.height)&&(m.height=Ext.Number.constrain(m.height,m.minHeight,m.maxHeight)),(null!==m.width||null!==m.height)&&(m.originalTarget&&(m.originalTarget.setWidth(m.width),m.originalTarget.setHeight(m.height)),m.resizeTo(m.width,m.height)),m.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){var c=this.el.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,b)},onResize:function(a,b){var c=this,d=c.el.getBox();return c.forceHandlesHeight(),c.fireEvent("resizedrag",c,d.width,d.height,b)},onResizeEnd:function(a,b){var c=this,d=c.el.getBox();return c.forceHandlesHeight(),c.fireEvent("resize",c,d.width,d.height,b)},resizeTo:function(a,b){var c=this;c.target.setSize(a,b),c.fireEvent("resize",c,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a,b,c=this,d=c.handles,e=d.length,f=c.possiblePositions;for(c.resizeTracker.destroy(),a=0;e>a;a++)(b=c[f[d[a]]])&&b.remove()},forceHandlesHeight:function(){var a,b=this;Ext.isIE6&&(a=b.east,a&&a.setHeight(b.el.getHeight()),a=b.west,a&&a.setHeight(b.el.getHeight()),b.el.repaint())}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0),Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.Model,{isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(a){var b=this,c=a.ownerCt;b.primaryView=a,b.views=b.views||[],b.views.push(a),b.bindStore(a.getStore(),!0),a.on({cellmousedown:b.onMouseDown,refresh:b.onViewRefresh,scope:b}),c.optimizedColumnMove!==!1&&c.on("columnmove",b.onColumnMove,b),b.enableKeyNav&&b.initKeyNav(a)},initKeyNav:function(a){var b=this;return a.rendered?(a.el.set({tabIndex:-1}),void(b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:!0,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,tab:b.onKeyTab,scope:b}))):void a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:!0})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a){this.doMove("up",a)},onKeyDown:function(a){this.doMove("down",a)},onKeyLeft:function(a){this.doMove("left",a)},onKeyRight:function(a){this.doMove("right",a)},doMove:function(a,b){this.keyNavigation=!0,this.move(a,b),this.keyNavigation=!1},onVetoUIEvent:Ext.emptyFn,select:function(a,b,c){var d,e=this,f=e.getCurrentPosition(),g=e.view.store;(a||0===a)&&(a.isModel?(d=g.indexOf(a),a=-1!==d?{row:d,column:f?f.column:0}:null):"number"==typeof a&&(a={row:a,column:0})),a?e.selectByPosition(a,c):e.deselect()},deselect:function(a,b){this.selectByPosition(null,b)},move:function(a,b){var c,d=this,e=d.getCurrentPosition();return e&&(c=e.view.walkCells(e,a,b,d.preventWrap))?(c.view=e.view,d.setCurrentPosition(c)):void 0},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(a,b){var c=this,d=c.selection;return c.lastSelection=d,d&&(a&&a.record===d.record&&a.columnHeader===d.columnHeader&&a.view===d.view?a=null:c.onCellDeselect(c.selection,b)),a?(c.nextSelection=new Ext.grid.CellContext(c.primaryView).setPosition(a),c.selecting=!0,c.onCellSelect(c.nextSelection,b),c.selecting=!1,c.selection=c.nextSelection):void 0},isCellSelected:function(a,b,c){var d,e=this,f=e.getCurrentPosition();return f&&f.view===a?(d=new Ext.grid.CellContext(a).setPosition({row:b,column:c}),d.record===f.record&&d.columnHeader===f.columnHeader):void 0},onStoreRemove:function(a,b,c){var d,e,f=this,g=f.getCurrentPosition(),h=b.length,i=0;if(f.callParent(arguments),g){if(c[0]>g.row)return;for(d=0;h>d&&(e=c[d],e<g.row);d++)i++;i&&g.setRow(g.row-i)}},onMouseDown:function(a,b,c,d,e,f){-1!==f&&this.setCurrentPosition({view:a,row:e,column:c})},onCellSelect:function(a,b){a&&void 0!==a.row&&a.row>-1&&this.doSelect(a.record,!1,b)},onCellDeselect:function(a,b){a&&void 0!==a.row&&this.doDeselect(a.record,b)},onSelectChange:function(a,b,c,d){var e,f,g,h=this;b?(e=h.nextSelection,f="select"):(e=h.lastSelection||h.noSelection,f="deselect"),g=e.view||h.primaryView,(c||h.fireEvent("before"+f,h,a,e.row,e.column))!==!1&&d()!==!1&&(b?(g.focusRow(a,!0),g.onCellSelect(e)):(g.onCellDeselect(e),delete h.selection),c||h.fireEvent(f,h,a,e.row,e.column))},onKeyTab:function(a){var b,c=this,d=c.getCurrentPosition();d&&(b=d.view.editingPlugin,b&&c.wasEditing?c.onEditorTab(b,a):c.move(a.shiftKey?"left":"right",a))},onEditorTab:function(a,b){var c=this,d=b.shiftKey?"left":"right",e=c.move(d,b);e&&(c.wasEditing=a.startEdit(e.record,e.columnHeader)?!1:!0)},refresh:function(){var a,b=this.getCurrentPosition();b&&-1!==(a=this.store.indexOf(this.selected.last()))&&(b.row=a)},onColumnMove:function(a){var b=a.up("tablepanel");b&&this.onViewRefresh(b.view)},onUpdate:function(a){var b,c=this;c.isSelected(a)&&(b=c.selecting?c.nextSelection:c.selection,c.view.onCellSelect(b))},onViewRefresh:function(a){var b,c,d=this,e=d.getCurrentPosition(),f=a.headerCt;e&&e.view===a&&(b=e.record,c=e.columnHeader,c.isDescendantOf(f)||(c=f.queryById(c.id)||f.down('[text="'+c.text+'"]')||f.down('[dataIndex="'+c.dataIndex+'"]')),c&&-1!==a.store.indexOfId(b.getId())&&d.setCurrentPosition({row:b,column:c,view:a}))},selectByPosition:function(a,b){this.setCurrentPosition(a,b)}},1,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0),Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.Model,{deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(a){var b=this;a.on({itemmousedown:b.onRowMouseDown,itemclick:b.onRowClick,scope:b}),b.enableKeyNav&&b.initKeyNav(a)},initKeyNav:function(a){var b=this;return a.rendered?(a.el.set({tabIndex:-1}),void(b.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(a,b,c,d,e){return e.record=b,e.recordIndex=d,e},up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,scope:b}))):void a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:!0})},onUpdate:function(a){var b,c=this,d=c.view;d&&c.isSelected(a)&&(b=d.indexOf(a),d.onRowSelect(b),a===c.lastFocused&&d.onRowFocus(b,!0))},getRowsVisible:function(){var a,b,c=!1,d=this.views[0],e=d.all.first();return e&&(a=e.getHeight(),b=d.el.getHeight(),c=Math.floor(b/a)),c},onKeyEnd:function(a){var b=this,c=b.views[0];c.bufferedRenderer?c.bufferedRenderer.scrollTo(b.store.getCount()-1,!1,function(c,d){b.afterKeyNavigate(a,d)}):b.afterKeyNavigate(a,c.getRecord(c.all.getCount()-1))},onKeyHome:function(a){var b=this,c=b.views[0];c.bufferedRenderer?c.bufferedRenderer.scrollTo(0,!1,function(c,d){b.afterKeyNavigate(a,d)}):b.afterKeyNavigate(a,c.getRecord(0))},onKeyPageUp:function(a){var b,c,d=this,e=d.views[0],f=d.getRowsVisible();f&&(e.bufferedRenderer?(b=Math.max(a.recordIndex-f,0),(d.lastKeyEvent||(d.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent),e.bufferedRenderer.scrollTo(b,!1,d.afterBufferedScrollTo,d)):(c=e.walkRecs(a.record,-f),d.afterKeyNavigate(a,c)))},onKeyPageDown:function(a){var b,c,d=this,e=d.views[0],f=d.getRowsVisible();f&&(e.bufferedRenderer?(b=Math.min(a.recordIndex+f,d.store.getCount()-1),(d.lastKeyEvent||(d.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent),e.bufferedRenderer.scrollTo(b,!1,d.afterBufferedScrollTo,d)):(c=e.walkRecs(a.record,f),d.afterKeyNavigate(a,c)))},onKeySpace:function(a){var b=this.lastFocused;b&&this.afterKeyNavigate(a,b)},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this.views[0].walkRecs(a.record,-1);b&&this.afterKeyNavigate(a,b)},onKeyDown:function(a){var b=this.views[0].walkRecs(a.record,1);b&&this.afterKeyNavigate(a,b)},afterBufferedScrollTo:function(a,b){this.afterKeyNavigate(this.lastKeyEvent,b)},scrollByDeltaX:function(a){var b=this.views[0],c=b.up(),d=c.horizontalScroller;d&&d.scrollByDeltaX(a)},onKeyLeft:function(){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(a,b,c,d,e){var f=this;if(-1!==d){if(!f.allowRightMouseSelection(e))return;f.isSelected(b)?f.mousedownAction=!1:(f.mousedownAction=!0,f.processSelection(a,b,c,d,e))}},onVetoUIEvent:function(a,b,c,d,e,f,g){"mousedown"==a&&(this.mousedownAction=!this.isSelected(g))},onRowClick:function(a,b,c,d,e){this.mousedownAction?this.mousedownAction=!1:this.processSelection(a,b,c,d,e)},processSelection:function(a,b,c,d,e){this.selectWithEvent(b,e)},allowRightMouseSelection:function(a){var b=this.ignoreRightMouseSelection&&0!==a.button;return b&&(b=this.hasSelection()),!b},onSelectChange:function(a,b,c,d){var e=this,f=e.views,g=f.length,h=f[0].indexOf(a),i=b?"select":"deselect",j=0;if((c||e.fireEvent("before"+i,e,a,h))!==!1&&d()!==!1){for(;g>j;j++)b?f[j].onRowSelect(h,c):f[j].onRowDeselect(h,c);c||e.fireEvent(i,e,a,h)}},onLastFocusChanged:function(a,b,c){var d,e=this.views,f=e.length,g=0;if(a&&(d=e[0].indexOf(a),-1!=d))for(;f>g;g++)e[g].onRowFocus(d,!1,!0);if(b&&(d=e[0].indexOf(b),-1!=d))for(g=0;f>g;g++)e[g].onRowFocus(d,!0,c);this.callParent(arguments)},onEditorTab:function(a,b){var c=this,d=c.views[0],e=a.getActiveRecord(),f=a.getActiveColumn(),g=d.getPosition(e,f),h=b.shiftKey?"left":"right";do g=d.walkCells(g,h,b,c.preventWrap);while(g&&(!g.columnHeader.getEditor(e)||!a.startEditByPosition(g)))},getCurrentPosition:function(){var a=this.selected.items[0];return a?new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(a),0):void 0},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(a,b){var c,d=this,e=d.store,f=d.getSelection(),g=f[f.length-1],h=d.views[0].indexOf(g)+1;return h===e.getCount()||0===h?c=!1:(d.doSelect(h,a,b),c=!0),c},selectPrevious:function(a,b){var c,d=this,e=d.getSelection(),f=e[0],g=d.views[0].indexOf(f)-1;return 0>g?c=!1:(d.doSelect(g,a,b),c=!0),c},isRowSelected:function(a){return this.isSelected(a)}},1,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0),Ext.cmd.derive("Ext.selection.TreeModel",Ext.selection.RowModel,{constructor:function(){this.callParent(arguments),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(){var a=this;a.callParent(arguments),a.pruneRemovedNodes&&a.view.mon(a.treeStore,{remove:a.onNodeRemove,scope:a})},onNodeRemove:function(a,b,c){c||this.deselectDeletedRecords([b])},onKeyRight:function(a,b){this.navExpand(a,b)},navExpand:function(a,b){var c=this.getLastFocused(),d=this.view;c&&(c.isExpanded()?this.onKeyDown(a,b):c.isExpandable()&&(d.isTreeView||(d=d.lockingPartner),d.expand(c)))},onKeyLeft:function(a,b){this.navCollapse(a,b)},navCollapse:function(a){var b,c=this,d=this.getLastFocused(),e=this.view;d&&(b=d.parentNode,d.isExpanded()?(e.isTreeView||(e=e.lockingPartner),e.collapse(d)):b&&!b.isRoot()&&(a.shiftKey?(c.selectRange(b,d,a.ctrlKey,"up"),c.setLastFocused(b)):a.ctrlKey?c.setLastFocused(b):c.select(b)))},onKeySpace:function(a){null!=a.record.data.checked?this.toggleCheck(a):this.callParent(arguments)},onKeyEnter:function(a){null!=a.record.data.checked?this.toggleCheck(a):this.callParent(arguments)},toggleCheck:function(a){var b=this.view,c=this.getLastSelected();a.stopEvent(),c&&(b.isTreeView||(b=b.lockingPartner),b.onCheckChange(c))}},1,0,0,0,["selection.treemodel"],0,[Ext.selection,"TreeModel"],0),Ext.cmd.derive("Ext.slider.Thumb",Ext.Base,{topZIndex:1e4,constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig()),a.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var a=this,b=a.slider,c={};return c[b.vertical?"bottom":b.horizontalProp]=b.calculateThumbPosition(b.normalizeValue(a.value))+"%",{style:c,id:this.id,cls:this.cls}},move:function(a,b){var c,d,e=this,f=e.el,g=e.slider,h=g.vertical?"bottom":g.horizontalProp;a+="%",b?(c={},c[h]=a,Ext.supports.GetPositionPercentage||(d={},d[h]=f.dom.style[h]),new Ext.fx.Anim({target:f,duration:350,from:d,to:c})):f.dom.style[h]=a},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var a=this;a.disabled=!1,a.el&&a.el.removeCls(a.slider.disabledCls)},disable:function(){var a=this;a.disabled=!0,a.el&&a.el.addCls(a.slider.disabledCls)},initEvents:function(){var a=this,b=a.el;a.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(a.onBeforeDragStart,a),onStart:Ext.Function.bind(a.onDragStart,a),onDrag:Ext.Function.bind(a.onDrag,a),onEnd:Ext.Function.bind(a.onDragEnd,a),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),a.tracker.initEl(b)},onBeforeDragStart:function(){return this.disabled?!1:(this.slider.promoteThumb(this),!0)},onDragStart:function(a){var b=this,c=b.slider;c.onDragStart(b,a),b.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),b.dragging=b.slider.dragging=!0,b.dragStartValue=b.value,c.fireEvent("dragstart",c,a,b)},onDrag:function(a){var b,c,d=this,e=d.slider,f=d.index,g=d.getValueFromTracker();void 0!==g&&(d.constrain&&(b=e.thumbs[f+1],c=e.thumbs[f-1],void 0!==c&&g<=c.value&&(g=c.value),void 0!==b&&g>=b.value&&(g=b.value)),e.setValue(f,g,!1),e.fireEvent("drag",e,a,d))},getValueFromTracker:function(){var a=this.slider,b=a.getTrackpoint(this.tracker.getXY());return void 0!==b?a.reversePixelValue(b):void 0},onDragEnd:function(a){var b=this,c=b.slider,d=b.value;c.onDragEnd(b,a),b.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),b.dragging=c.dragging=!1,c.fireEvent("dragend",c,a),b.dragStartValue!=d&&c.fireEvent("changecomplete",c,d,b)},destroy:function(){Ext.destroy(this.tracker)}},1,0,0,0,0,0,[Ext.slider,"Thumb"],0),Ext.cmd.derive("Ext.slider.Tip",Ext.tip.Tip,{minWidth:10,offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(a){var b,c,d=this;switch(d.position||(d.position=a.vertical?d.defaultVerticalPosition:d.defaultHorizontalPosition),d.position){case"top":c=[0,-10],b="b-t?";break;case"bottom":c=[0,10],b="t-b?";break;case"left":c=[-10,0],b="r-l?";break;case"right":c=[10,0],b="l-r?"}d.align||(d.align=b),d.offsets||(d.offsets=c),a.on({scope:d,dragstart:d.onSlide,drag:d.onSlide,dragend:d.hide,destroy:d.destroy})},onSlide:function(a,b,c){var d=this;d.show(),d.update(d.getText(c)),d.el.alignTo(c.el,d.align,d.offsets)},getText:function(a){return String(a.value)}},0,["slidertip"],["panel","component","container","slidertip","box"],{panel:!0,component:!0,container:!0,slidertip:!0,box:!0},["widget.slidertip"],0,[Ext.slider,"Tip"],0),Ext.cmd.derive("Ext.slider.Multi",Ext.form.field.Base,{alternateClassName:"Ext.slider.MultiSlider",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}","{childElCls}",'" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(a,b){for(var c,d,e=b.$comp,f=0,g=e.thumbs,h=g.length;h>f;f++)c=g[f],d=c.getElConfig(),d.id=e.id+"-thumb-"+f,Ext.DomHelper.generateMarkup(d,a)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var a=this,b=Ext.value,c=b(a.values,[b(a.value,b(a.minValue,0))]),d=0,e=c.length;for(a.originalValue=c;e>d;d++)a.addThumb(c[d])},initComponent:function(){var a,b,c,d,e,f=this;if(f.thumbs=[],f.keyIncrement=Math.max(f.increment,f.keyIncrement),f.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),f.callParent(),f.useTips){for(a=Ext.isObject(f.useTips)?Ext.apply({},f.useTips):f.tipText?{getText:f.tipText}:{},e=f.plugins=f.plugins||[],d=e.length,c=0;d>c;c++)if(e[c].isSliderTip){b=!0;break}b||f.plugins.push(new Ext.slider.Tip(a))}},addThumb:function(a){var b=this,c=new Ext.slider.Thumb({ownerCt:b,ownerLayout:b.getComponentLayout(),value:a,slider:b,index:b.thumbs.length,constrain:b.constrainThumbs,disabled:!!b.readOnly});return b.thumbs.push(c),b.rendered&&c.render(),c},promoteThumb:function(a){var b,c,d=this.thumbs,e=d.length;for(c=0;e>c;c++)b=d[c],b==a?b.bringToFront():b.sendToBack()},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{$comp:a,vertical:a.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:a.minValue,maxValue:a.maxValue,value:a.value,childElCls:""})},onRender:function(){var a,b=this,c=b.thumbs,d=c.length,e=0;for(b.callParent(arguments),e=0;d>e;e++)a=c[e],a.el=b.el.getById(b.id+"-thumb-"+e),a.onRender()},initEvents:function(){var a=this;a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(a){var b,c,d,e=this,f=e.vertical,g=e.innerEl;return f?(d="top",b=g.getHeight()):(d=e.horizontalProp,b=g.getWidth()),a=e.transformTrackPoints(g.translatePoints(a)),c=Ext.Number.constrain(a[d],0,b),f?b-c:c},transformTrackPoints:Ext.identityFn,onMouseDown:function(a){var b,c=this,d=!1,e=0,f=c.thumbs,g=f.length;if(!c.disabled){for(;g>e;e++)d=d||a.target==f[e].el.dom;c.clickToChange&&!d&&(b=c.getTrackpoint(a.getXY()),void 0!==b&&c.onClickChange(b)),c.focus()}},onClickChange:function(a){var b,c,d=this;b=d.getNearest(a),b.disabled||(c=b.index,d.setValue(c,Ext.util.Format.round(d.reversePixelValue(a),d.decimalPrecision),void 0,!0))},getNearest:function(a){for(var b,c,d,e=this,f=e.reversePixelValue(a),g=e.getRange()+5,h=null,i=e.thumbs,j=0,k=i.length;k>j;j++)b=e.thumbs[j],c=b.value,d=Math.abs(c-f),Math.abs(g>=d)&&(h=b,g=d);return h},onKeyDown:function(a){var b,c,d=this;if(d.disabled||1!==d.thumbs.length)return void a.preventDefault();switch(b=a.getKey()){case a.UP:case a.RIGHT:a.stopEvent(),c=a.ctrlKey?d.maxValue:d.getValue(0)+d.keyIncrement,d.setValue(0,c,void 0,!0);break;case a.DOWN:case a.LEFT:a.stopEvent(),c=a.ctrlKey?d.minValue:d.getValue(0)-d.keyIncrement,d.setValue(0,c,void 0,!0);break;default:a.preventDefault()}},normalizeValue:function(a){var b=this,c=b.zeroBasedSnapping?"snap":"snapInRange";return a=Ext.Number[c](a,b.increment,b.minValue,b.maxValue),a=Ext.util.Format.round(a,b.decimalPrecision),a=Ext.Number.constrain(a,b.minValue,b.maxValue)},setMinValue:function(a){var b,c,d=this,e=d.thumbs,f=e.length;for(d.minValue=a,d.rendered&&d.inputEl.dom.setAttribute("aria-valuemin",a),c=0;f>c;++c)b=e[c],b.value<a&&d.setValue(c,a,!1);d.syncThumbs()},setMaxValue:function(a){var b,c,d=this,e=d.thumbs,f=e.length;for(d.maxValue=a,d.rendered&&d.inputEl.dom.setAttribute("aria-valuemax",a),c=0;f>c;++c)b=e[c],b.value>a&&d.setValue(c,a,!1);d.syncThumbs()},setValue:function(a,b,c,d){var e,f,g,h,i=this,j=i.thumbs;if(Ext.isArray(a)){for(h=a,c=b,g=0,f=h.length;f>g;++g)e=j[g],e&&i.setValue(g,h[g],c);return i}return e=i.thumbs[a],b=i.normalizeValue(b),b!==e.value&&i.fireEvent("beforechange",i,b,e.value,e)!==!1&&(e.value=b,i.rendered&&(i.inputEl.set({"aria-valuenow":b,"aria-valuetext":b}),e.move(i.calculateThumbPosition(b),Ext.isDefined(c)?c!==!1:i.animate),i.fireEvent("change",i,b,e),i.checkDirty(),d&&i.fireEvent("changecomplete",i,b,e))),i},calculateThumbPosition:function(a){var b=this,c=b.minValue,d=(a-c)/b.getRange()*100;return isNaN(d)&&(d=c),d},getRatio:function(){var a=this,b=a.innerEl,c=a.vertical?b.getHeight():b.getWidth(),d=a.getRange();return 0===d?c:c/d},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+this.getRange()*(a/100)},onDisable:function(){var a,b,c,d=this,e=0,f=d.thumbs,g=f.length;for(d.callParent();g>e;e++)a=f[e],b=a.el,a.disable(),Ext.isIE&&(c=b.getXY(),b.hide(),d.innerEl.addCls(d.disabledCls).dom.disabled=!0,d.thumbHolder||(d.thumbHolder=d.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+d.disabledCls})),d.thumbHolder.show().setXY(c))},onEnable:function(){var a,b,c=this,d=0,e=c.thumbs,f=e.length;for(this.callParent();f>d;d++)a=e[d],b=a.el,a.enable(),Ext.isIE&&(c.innerEl.removeCls(c.disabledCls).dom.disabled=!1,c.thumbHolder&&c.thumbHolder.hide(),b.show(),c.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var a=this.thumbs,b=a.length,c=0;b>c;c++)a[c].move(this.calculateThumbPosition(a[c].value))},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){for(var a=[],b=0,c=this.thumbs,d=c.length;d>b;b++)a.push(c[b].value);return a},getSubmitValue:function(){var a=this;return a.disabled||!a.submitValue?null:a.getValue()},reset:function(){for(var a,b=this,c=[].concat(b.originalValue),d=0,e=c.length;e>d;d++)a=c[d],b.setValue(d,a);b.clearInvalid(),delete b.wasValid},setReadOnly:function(a){var b=this,c=b.thumbs,d=c.length,e=0;for(b.callParent(arguments),a=b.readOnly;d>e;++e)a?c[e].disable():c[e].enable()},beforeDestroy:function(){var a,b=this,c=b.thumbs,d=0,e=c.length;for(Ext.destroy(b.innerEl,b.endEl,b.focusEl);e>d;d++)a=c[d],Ext.destroy(a);b.callParent()}},0,["multislider"],["multislider","field","component","box"],{multislider:!0,field:!0,component:!0,box:!0},["widget.multislider"],0,[Ext.slider,"Multi",Ext.slider,"MultiSlider"],0),Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){var a=this;a.addEvents("activate","deactivate","beforeclose","close"),a.callParent(arguments),a.card&&a.setCard(a.card),a.overCls=["over",a.position+"-over"]},getTemplateArgs:function(){var a=this,b=a.callParent();return b.closable=a.closable,b.closeText=a.closeText,b},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var a=this,b=a.up("tabbar"),c=a.up("tabpanel");a.callParent(),a.addClsWithUI(a.position),a.active&&a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls]),a.syncClosableUI(),a.minWidth||(a.minWidth=b?b.minTabWidth:a.minWidth,!a.minWidth&&c&&(a.minWidth=c.minTabWidth),a.minWidth&&a.iconCls&&(a.minWidth+=25)),a.maxWidth||(a.maxWidth=b?b.maxTabWidth:a.maxWidth,!a.maxWidth&&c&&(a.maxWidth=c.maxTabWidth))},onRender:function(){var a=this;a.setElOrientation(),a.callParent(arguments),a.closable&&a.closeEl.addClsOnOver(a.closeElOverCls),a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;("left"===a||"right"===a)&&this.el.setVertical("right"===a?90:270)},enable:function(){var a=this;return a.callParent(arguments),a.removeClsWithUI(a.position+"-disabled"),a},disable:function(){var a=this;return a.callParent(arguments),a.addClsWithUI(a.position+"-disabled"),a},onDestroy:function(){var a=this;Ext.destroy(a.keyNav),delete a.keyNav,a.callParent(arguments)},setClosable:function(a){var b=this;a=!arguments.length||!!a,b.closable!=a&&(b.closable=a,b.card&&(b.card.closable=a),b.syncClosableUI(),b.rendered&&(b.syncClosableElements(),b.updateLayout()))},syncClosableElements:function(){var a=this,b=a.closeEl;a.closable?(b||(b=a.closeEl=a.btnWrap.insertSibling({tag:"a",cls:a.baseCls+"-close-btn",href:"#",title:a.closeText},"after")),b.addClsOnOver(a.closeElOverCls)):b&&(b.remove(),delete a.closeEl)},syncClosableUI:function(){var a=this,b=[a.closableCls,a.closableCls+"-"+a.position];a.closable?a.addClsWithUI(b):a.removeClsWithUI(b)},setCard:function(a){var b=this;b.card=a,b.setText(b.title||a.title),b.setIconCls(b.iconCls||a.iconCls),b.setIcon(b.icon||a.icon),b.setGlyph(b.glyph||a.glyph)},onCloseClick:function(){var a=this;if(a.fireEvent("beforeclose",a)!==!1)if(a.tabBar){if(a.tabBar.closeTab(a)===!1)return}else a.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(a){var b=this;b.tabBar&&b.tabBar.onClick(a,b.el)},onDeleteKey:function(){this.closable&&this.onCloseClick()},activate:function(a){var b=this;b.active=!0,b.addClsWithUI([b.activeCls,b.position+"-"+b.activeCls]),a!==!0&&b.fireEvent("activate",b)
},deactivate:function(a){var b=this;b.active=!1,b.removeClsWithUI([b.activeCls,b.position+"-"+b.activeCls]),a!==!0&&b.fireEvent("deactivate",b)}},0,["tab"],["button","component","tab","box"],{button:!0,component:!0,tab:!0,box:!0},["widget.tab"],0,[Ext.tab,"Tab"],0),Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{statics:{fromEvent:function(a){return a=a.browserEvent||a,a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a,new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){return Ext.isObject(b)||(b={x:b,y:b}),this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},isContainedBy:function(a){return a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getRegion()),a.contains(this)},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Header,{baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var a=this;a.plain&&a.addCls(a.baseCls+"-plain"),a.addClsWithUI(a.orientation),a.addEvents("change"),a.callParent(arguments),Ext.merge(a.layout,a.initialConfig.layout),a.layout.align="vertical"==a.orientation?"left":"top",a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout),a.remove(a.titleCmp),delete a.titleCmp,Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;a.callParent(),"vertical"===a.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict&&a.el.on({mousemove:a.onMouseMove,scope:a})},afterRender:function(){var a=this.layout;this.callParent(),Ext.isIE9&&Ext.isStrict&&"vertical"===this.orientation&&a.innerCt.on("scroll",function(){a.innerCt.dom.scrollLeft=0})},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},adjustTabPositions:function(){var a,b=this.items.items,c=b.length;if(!Ext.isIE9m)if("right"===this.dock)for(;c--;)a=b[c],a.isVisible()&&a.el.setStyle("left",a.lastBox.width+"px");else if("left"===this.dock)for(;c--;)a=b[c],a.isVisible()&&a.el.setStyle("left",-a.lastBox.height+"px")},getLayout:function(){var a=this;return a.layout.type="horizontal"===a.orientation?"hbox":"vbox",a.callParent(arguments)},onAdd:function(a){a.position=this.dock,this.callParent(arguments)},onRemove:function(a){var b=this;a===b.previousTab&&(b.previousTab=null),b.callParent(arguments)},afterComponentLayout:function(){var a=this,b=a.needsScroll;a.callParent(arguments),b&&a.layout.overflowHandler.scrollToItem(a.activeTab),delete a.needsScroll},onClick:function(a,b){var c,d,e,f,g=this,h=g.tabPanel;a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||("vertical"===g.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict?(f=g.getTabInfoFromPoint(a.getXY()),d=f.tab,e=f.close):(c=a.getTarget("."+Ext.tab.Tab.prototype.baseCls),d=c&&Ext.getCmp(c.id),e=d&&d.closeEl&&b===d.closeEl.dom),e&&a.preventDefault(),d&&d.isDisabled&&!d.isDisabled()&&(d.closable&&e?d.onCloseClick():(h?h.setActiveTab(d.card):g.setActiveTab(d),d.focus())))},onMouseMove:function(a){var b,c,d=this,e=d._overTab;a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(b=d.getTabInfoFromPoint(a.getXY()),c=b.tab,c!==e&&(e&&e.rendered&&(e.onMouseLeave(a),d._overTab=null),c?(c.onMouseEnter(a),d._overTab=c,c.disabled||d.el.setStyle("cursor","pointer")):d.el.setStyle("cursor","default")))},onMouseLeave:function(a){var b=this._overTab;b&&b.rendered&&b.onMouseLeave(a)},getTabInfoFromPoint:function(a){for(var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.items.items,u=t.length,v=s.layout.innerCt,w=v.getXY(),x=new Ext.util.Point(a[0],a[1]),y=0;u>y;y++)if(b=t[y].lastBox,k=w[0]+b.x,l=w[1]-v.dom.scrollTop+b.y,m=b.width,n=b.height,c=new Ext.util.Region(l,k+m,l+n,k),c.contains(x)){r=t[y],d=r.closeEl,d&&(f=d.getXY(),i=d.getWidth(),j=d.getHeight(),void 0===s._isTabReversed&&(s._isTabReversed=p=-1!==r.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),q=p?this._reverseDockNames[s.dock]:s.dock,"right"===q?(g=k+m-(f[1]-l+d.getHeight()),h=l+(f[0]-k)):(g=k+(f[1]-l),h=l+k+n-f[0]-d.getWidth()),o=new Ext.util.Region(h,g+i,h+j,g),e=o.contains(x));break}return{tab:r,close:e}},closeTab:function(a){var b,c=this,d=a.card,e=c.tabPanel;if(d&&d.fireEvent("beforeclose",d)===!1)return!1;if(b=c.findNextActivatable(a),Ext.suspendLayouts(),e&&d){if(delete a.ownerCt,d.fireEvent("close",d),e.remove(d),e.getComponent(d))return a.ownerCt=c,Ext.resumeLayouts(!0),!1;a.fireClose(),c.remove(a)}b&&(e?e.setActiveTab(b.card):c.setActiveTab(b),b.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(a){var b=this;return a.active&&b.items.getCount()>1?b.previousTab&&b.previousTab!==a&&!b.previousTab.disabled?b.previousTab:a.next("tab[disabled=false]")||a.prev("tab[disabled=false]"):void 0},setActiveTab:function(a,b){var c=this;a.disabled||a===c.activeTab||(c.activeTab&&(c.activeTab.isDestroyed?c.previousTab=null:(c.previousTab=c.activeTab,c.activeTab.deactivate())),a.activate(),c.activeTab=a,c.needsScroll=!0,b||(c.fireEvent("change",c,a,a.card),c.updateLayout()))}},0,["tabbar"],["component","tabbar","container","box","header"],{component:!0,tabbar:!0,container:!0,box:!0,header:!0},["widget.tabbar"],0,[Ext.tab,"Bar"],0),Ext.cmd.derive("Ext.tree.Column",Ext.grid.column.Column,{tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>"/>','<tpl if="checked !== null">','<input type="button" role="checkbox" <tpl if="checked">aria-checked="true" </tpl>','class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var a=this;a.origRenderer=a.renderer,a.origScope=a.scope||window,a.renderer=a.treeRenderer,a.scope=a,a.callParent()},treeRenderer:function(a,b,c,d,e,f,g){var h,i=this,j=c.get("cls"),k=i.origRenderer,l=c.data,m=c.parentNode,n=g.rootVisible,o=[];for(j&&(b.tdCls+=" "+j);m&&(n||m.data.depth>0);)h=m.data,o[n?h.depth:h.depth-1]=h.isLast?0:1,m=m.parentNode;return i.getTpl("cellTpl").apply({record:c,baseIconCls:i.iconCls,iconCls:l.iconCls,icon:l.icon,checkboxCls:i.checkboxCls,checked:l.checked,elbowCls:i.elbowCls,expanderCls:i.expanderCls,textCls:i.textCls,leaf:l.leaf,expandable:c.isExpandable(),isLast:l.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:l.href,hrefTarget:l.hrefTarget,lines:o,metaData:b,childCls:i.getChildCls?i.getChildCls()+" ":"",value:k?k.apply(i.origScope,arguments):a})}},0,["treecolumn"],["component","gridcolumn","container","treecolumn","box","headercontainer"],{component:!0,gridcolumn:!0,container:!0,treecolumn:!0,box:!0,headercontainer:!0},["widget.treecolumn"],0,[Ext.tree,"Column"],0),Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){var a=this;a.callParent(arguments),"SINGLE"===a.mode&&a.showHeaderCheckbox!==!0&&(a.showHeaderCheckbox=!1)},beforeViewRender:function(a){var b,c=this;c.callParent(arguments),(!c.hasLockedHeader()||a.headerCt.lockedCt)&&(c.showHeaderCheckbox!==!1&&a.headerCt.on("headerclick",c.onHeaderClick,c),c.addCheckbox(a,!0),b=a.ownerCt,a.headerCt.lockedCt&&(b=b.ownerCt),c.mon(b,"reconfigure",c.onReconfigure,c))},bindComponent:function(){var a=this;a.sortable=!1,a.callParent(arguments)},hasLockedHeader:function(){var a,b=this.views,c=b.length;for(a=0;c>a;a++)if(b[a].headerCt.lockedCt)return!0;return!1},addCheckbox:function(a,b){var c=this,d=c.injectCheckbox,e=a.headerCt;d!==!1&&("first"==d?d=0:"last"==d&&(d=e.getColumnCount()),Ext.suspendLayouts(),a.getStore().buffered&&(c.showHeaderCheckbox=!1),e.add(d,c.getHeaderConfig()),Ext.resumeLayouts()),b!==!0&&a.refresh()},onReconfigure:function(a,b,c){c&&this.addCheckbox(this.views[0])},toggleUiHeader:function(a){var b=this.views[0],c=b.headerCt,d=c.child("gridcolumn[isCheckerHd]"),e=this.checkerOnCls;d&&(a?d.addCls(e):d.removeCls(e))},onHeaderClick:function(a,b,c){if(b.isCheckerHd){c.stopEvent();var d=this,e=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");d.preventFocus=!0,e?d.deselectAll():d.selectAll(),delete d.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==!1;return{isCheckerHd:b,text:"&#160;",clickTargetName:"el",width:a.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},renderer:function(a,b){var c=Ext.baseCSSPrefix;return b.tdCls=c+"grid-cell-special "+c+"grid-cell-row-checker",'<div class="'+c+'grid-row-checker">&#160;</div>'},processSelection:function(a,b,c,d,e){var f,g=this,h=e.getTarget(g.checkSelector);(!g.checkOnly||h)&&(h?(f=g.getSelectionMode(),"SINGLE"!==f&&g.setSelectionMode("SIMPLE"),g.selectWithEvent(b,e),g.setSelectionMode(f)):g.selectWithEvent(b,e))},onSelectChange:function(){this.callParent(arguments),this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var a,b,c,d=this,e=d.store,f=e.getCount(),g=d.views,h=!1,i=0;if(!e.buffered&&f>0){for(a=d.selected,h=!0,c=0,b=a.getCount();b>c&&d.storeHasSelected(a.getAt(c));++c)++i;h=f===i}g&&g.length&&d.toggleUiHeader(h)}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],0),Ext.cmd.derive("Ext.slider.Single",Ext.slider.Multi,{alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(){var a=arguments,b=a.length;return(1==b||3>=b&&"number"!=typeof a[1])&&(a=Ext.toArray(a),a.unshift(0)),this.callParent(a)},getNearest:function(){return this.thumbs[0]}},0,["slider","sliderfield"],["slider","multislider","field","component","sliderfield","box"],{slider:!0,multislider:!0,field:!0,component:!0,sliderfield:!0,box:!0},["widget.slider","widget.sliderfield"],0,[Ext.slider,"Single",Ext,"Slider",Ext.form,"SliderField",Ext.slider,"SingleSlider",Ext.slider,"Slider"],0),Ext.cmd.derive("Ext.state.CookieProvider",Ext.state.Provider,{constructor:function(){var a=this;a.path="/",a.expires=new Date(Ext.Date.now()+6048e5),a.domain=null,a.secure=!1,a.callParent(arguments),a.state=a.readCookies()},set:function(a,b){var c=this;return"undefined"==typeof b||null===b?void c.clear(a):(c.setCookie(a,b),void c.callParent(arguments))},clear:function(a){this.clearCookie(a),this.callParent(arguments)},readCookies:function(){for(var a,b,c,d={},e=document.cookie+";",f=/\s?(.*?)=(.*?);/g,g=this.prefix,h=g.length;null!=(a=f.exec(e));)b=a[1],c=a[2],b&&b.substring(0,h)==g&&(d[b.substr(h)]=this.decodeValue(c));return d},setCookie:function(a,b){var c=this;document.cookie=c.prefix+a+"="+c.encodeValue(b)+(null==c.expires?"":"; expires="+c.expires.toGMTString())+(null==c.path?"":"; path="+c.path)+(null==c.domain?"":"; domain="+c.domain)+(1==c.secure?"; secure":"")},clearCookie:function(a){var b=this;document.cookie=b.prefix+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==b.path?"":"; path="+b.path)+(null==b.domain?"":"; domain="+b.domain)+(1==b.secure?"; secure":"")}},1,0,0,0,0,0,[Ext.state,"CookieProvider"],0),Ext.cmd.derive("Ext.state.LocalStorageProvider",Ext.state.Provider,{constructor:function(){var a=this;a.callParent(arguments),a.store=a.getStorageObject(),a.state=a.store?a.readLocalStorage():{}},readLocalStorage:function(){for(var a,b=this.store,c=0,d=b.length,e=this.prefix,f=e.length,g={};d>c;++c)a=b.key(c),a.substring(0,f)==e&&(g[a.substr(f)]=this.decodeValue(b.getItem(a)));return g},set:function(a,b){var c=this;c.clear(a),"undefined"!=typeof b&&null!==b&&(c.store.setItem(c.prefix+a,c.encodeValue(b)),c.callParent(arguments))},clear:function(a){this.store.removeItem(this.prefix+a),this.callParent(arguments)},getStorageObject:function(){return Ext.supports.LocalStorage?window.localStorage:!1}},1,0,0,0,["state.localstorage"],0,[Ext.state,"LocalStorageProvider"],0),Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var a=this,b=[].concat(a.dockedItems||[]),c=a.activeTab||(a.activeTab=0),d=a.tabPosition;a.layout=new Ext.layout.container.Card(Ext.apply({owner:a,deferredRender:a.deferredRender,itemCls:a.itemCls,activeItem:c},a.layout)),a.tabBar=new Ext.tab.Bar(Ext.apply({ui:a.ui,dock:a.tabPosition,orientation:"top"==d||"bottom"==d?"horizontal":"vertical",plain:a.plain,cardLayout:a.layout,tabPanel:a},a.tabBar)),b.push(a.tabBar),a.dockedItems=b,a.addEvents("beforetabchange","tabchange"),a.callParent(arguments),c=a.activeTab=a.getComponent(c),c&&a.tabBar.setActiveTab(c.tab,!0)},setActiveTab:function(a){var b,c=this;return a=c.getComponent(a),a?(b=c.getActiveTab(),b!==a&&c.fireEvent("beforetabchange",c,a,b)===!1?!1:(a.isComponent||(Ext.suspendLayouts(),a=c.add(a),Ext.resumeLayouts()),c.activeTab=a,Ext.suspendLayouts(),c.layout.setActiveItem(a),a=c.activeTab=c.layout.getActiveItem(),a&&a!==b?(c.tabBar.setActiveTab(a.tab),Ext.resumeLayouts(!0),b!==a&&c.fireEvent("tabchange",c,a,b)):Ext.resumeLayouts(!0),a)):void 0},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);return a.activeTab=b&&-1!=a.items.indexOf(b)?b:null,a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(a,b){var c=this,d=a.tabConfig||{},e={xtype:"tab",ui:c.tabBar.ui,card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:c.tabBar,position:c.tabPosition,closeText:a.closeText};d=Ext.applyIf(d,e),a.tab=c.tabBar.insert(b,d),a.on({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow,iconchange:c.onItemIconChange,iconclschange:c.onItemIconClsChange,titlechange:c.onItemTitleChange}),a.isPanel&&(c.removePanelHeader&&(a.rendered?a.header&&a.header.hide():a.header=!1),a.isPanel&&c.border&&a.setBorder(!1))},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){return a!==this.activeTab?(this.setActiveTab(a),!1):void 0},onItemIconChange:function(a,b){a.tab.setIcon(b)},onItemIconClsChange:function(a,b){a.tab.setIconCls(b)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(a){var b,c=this;c.destroying||1==c.items.getCount()?c.activeTab=null:-1!==(b=c.tabBar.items.indexOf(c.tabBar.findNextActivatable(a.tab)))&&c.setActiveTab(b),this.callParent(arguments),delete a.tab.card,delete a.tab},onRemove:function(a){var b=this;a.un({scope:b,enable:b.onItemEnable,disable:b.onItemDisable,beforeshow:b.onItemBeforeShow}),b.destroying||a.tab.ownerCt!==b.tabBar||b.tabBar.remove(a.tab)}},0,["tabpanel"],["tabpanel","panel","component","container","box"],{tabpanel:!0,panel:!0,component:!0,container:!0,box:!0},["widget.tabpanel"],0,[Ext.tab,"Panel",Ext,"TabPanel"],0),Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1},0,["tbspacer"],["component","box","tbspacer"],{component:!0,box:!0,tbspacer:!0},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0),Ext.cmd.derive("Ext.tree.Panel",Ext.panel.Table,{alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(a){a=a||{},void 0===a.animate&&(a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=a.animate,delete a.animate,this.callParent([a])},initComponent:function(){var a,b=this,c=[b.treeCls],d=b.store;b.useArrows&&(c.push(b.arrowCls),b.lines=!1),b.lines?c.push(b.linesCls):b.useArrows||c.push(b.noLinesCls),Ext.isString(d)?d=b.store=Ext.StoreMgr.lookup(d):!d||Ext.isObject(d)&&!d.isStore?d=b.store=new Ext.data.TreeStore(Ext.apply({root:b.root,fields:b.fields,model:b.model,folderSort:b.folderSort},d)):b.root&&(d=b.store=Ext.data.StoreManager.lookup(d),d.setRootNode(b.root),void 0!==b.folderSort&&(d.folderSort=b.folderSort,d.sort())),b.viewConfig=Ext.apply({rootVisible:b.rootVisible,animate:b.enableAnimations,singleExpand:b.singleExpand,node:d.getRootNode(),hideHeaders:b.hideHeaders},b.viewConfig),b.columns||(void 0===b.initialConfig.hideHeaders&&(b.hideHeaders=!0),b.addCls(b.autoWidthCls),b.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":1e4,dataIndex:b.displayField}]),b.cls&&c.push(b.cls),b.cls=c.join(" "),b.callParent(),b.selModel.treeStore=b.store,a=b.getView(),b.relayEvents(a,["checkchange","afteritemexpand","afteritemcollapse"]),a.isLockingView||a.rootVisible||b.getRootNode()||b.setRootNode({expanded:!0})},bindStore:function(a,b){var c=this;c.store=a,c.storeListeners=c.mon(a,{destroyable:!0,load:c.onStoreLoad,rootchange:c.onRootChange,clear:c.onClear,scope:c}),c.storeRelayers=c.relayEvents(a,["beforeload","load"]),c.storeRelayers1=c.mon(a,{destroyable:!0,append:c.createRelayer("itemappend"),remove:c.createRelayer("itemremove"),move:c.createRelayer("itemmove",[0,4]),insert:c.createRelayer("iteminsert"),beforeappend:c.createRelayer("beforeitemappend"),beforeremove:c.createRelayer("beforeitemremove"),beforemove:c.createRelayer("beforeitemmove"),beforeinsert:c.createRelayer("beforeiteminsert"),expand:c.createRelayer("itemexpand",[0,1]),collapse:c.createRelayer("itemcollapse",[0,1]),beforeexpand:c.createRelayer("beforeitemexpand",[0,1]),beforecollapse:c.createRelayer("beforeitemcollapse",[0,1])}),a.ownerTree=c,b||c.view.setRootNode(c.getRootNode())},unbindStore:function(){var a=this,b=a.store;b&&(Ext.destroy(a.storeListeners,a.storeRelayers,a.storeRelayers1),delete b.ownerTree)},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations;d&&(e||Ext.suspendLayouts(),d.expand(!0,a,b||c),e||Ext.resumeLayouts(!0))},collapseAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations,f=c.getView();d&&(e||Ext.suspendLayouts(),b=b||c,f.rootVisible?d.collapse(!0,a,b):d.collapseChildren(!0,a,b),e||Ext.resumeLayouts(!0))},expandPath:function(a,b,c,d,e){{var f,g,h=this,i=h.getRootNode(),j=1;h.getView()}return b=b||h.getRootNode().idProperty,c=c||"/",Ext.isEmpty(a)?void Ext.callback(d,e||h,[!1,null]):(f=a.split(c),i.get(b)!=f[1]?void Ext.callback(d,e||h,[!1,i]):(g=function(){if(++j===f.length)return void Ext.callback(d,e||h,[!0,i]);var a=i.findChild(b,f[j]);return a?(i=a,void i.expand(!1,g)):void Ext.callback(d,e||h,[!1,i])},void i.expand(!1,g)))},selectPath:function(a,b,c,d,e){var f,g,h,i=this;b=b||i.getRootNode().idProperty,c=c||"/",g=a.split(c),h=g.pop(),g.length>1?i.expandPath(g.join(c),b,c,function(a,c){var f=c;return a&&c&&(c=c.findChild(b,h))?(i.getSelectionModel().select(c),void Ext.callback(d,e||i,[!0,c])):void Ext.callback(d,e||i,[!1,f])},i):(f=i.getRootNode(),f.getId()===h?(i.getSelectionModel().select(f),Ext.callback(d,e||i,[!0,f])):Ext.callback(d,e||i,[!1,null]))}},1,["treepanel"],["panel","component","tablepanel","container","box","treepanel"],{panel:!0,component:!0,tablepanel:!0,container:!0,box:!0,treepanel:!0},["widget.treepanel"],0,[Ext.tree,"Panel",Ext.tree,"TreePanel",Ext,"TreePanel"],0),Ext.cmd.derive("Ext.view.DragZone",Ext.dd.DragZone,{containerScroll:!1,constructor:function(a){var b,c,d,e=this;Ext.apply(e,a),e.ddGroup||(e.ddGroup="view-dd-zone-"+e.view.id),b=e.view,c=b.ownerCt,d=c?c.getTargetEl().dom:b.el.dom.parentNode,e.callParent([d]),e.ddel=Ext.get(document.createElement("div")),e.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(a,b,c){this.initTarget(a,b,c),this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(a){this.callParent(),a.el.focus()},onItemMouseDown:function(a,b,c,d,e){this.isPreventDrag(e,b,c,d)||(a.focusRow&&a.focusRow(b),this.handleMouseDown(e))},isPreventDrag:function(){return!1},getDragData:function(a){var b=this.view,c=a.getTarget(b.getItemSelector());return c?{copy:b.copy||b.allowCopy&&a.ctrlKey,event:new Ext.EventObjectImpl(a),view:b,ddel:this.ddel,item:c,records:b.getSelectionModel().getSelection(),fromPosition:Ext.fly(c).getXY()}:void 0},onInitDrag:function(a,b){var c=this,d=c.dragData,e=d.view,f=e.getSelectionModel(),g=e.getRecord(d.item);return f.isSelected(g)||f.select(g,!0),d.records=f.getSelection(),c.ddel.update(c.getDragText()),c.proxy.update(c.ddel.dom),c.onStartDrag(a,b),!0},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,1==a?"":"s")},getRepairXY:function(a,b){return b?b.fromPosition:!1}},1,0,0,0,0,0,[Ext.view,"DragZone"],0),Ext.cmd.derive("Ext.tree.ViewDragZone",Ext.view.DragZone,{isPreventDrag:function(a,b){return b.get("allowDrag")===!1||!!a.getTarget(this.view.expanderSelector)},getDragText:function(){var a=this.dragData.records,b=a.length,c=a[0].get(this.displayField),d="s";return 1===b&&c?c:(c||(d=""),Ext.String.format(this.dragText,b,d))},afterRepair:function(){var a,b,c=this,d=c.view,e=d.selectedItemCls,f=c.dragData.records,g=f.length,h=Ext.fly;if(Ext.enableFx&&c.repairHighlight)for(a=0;g>a;a++)b=d.getNode(f[a]),h(b.firstChild).highlight(c.repairHighlightColor,{listeners:{beforeanimate:function(){d.isSelected(b)&&h(b).removeCls(e)},afteranimate:function(){d.isSelected(b)&&h(b).addCls(e)}}});c.dragging=!1}},0,0,0,0,0,0,[Ext.tree,"ViewDragZone"],0),Ext.cmd.derive("Ext.tree.ViewDropZone",Ext.view.DropZone,{allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(a){var b=this.view;this.expandProcId=!1,a.isLeaf()||a.isExpanded()||(b.expand(a),this.expandProcId=!1)},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(a,b){var c,d=this.view,e=d.getRecord(b),f=a.getPageY(),g=e.isLeaf(),h=!1,i=Ext.fly(b).getRegion();return e.isRoot()?"append":this.appendOnly?g?!1:"append":(this.allowParentInserts||(h=e.hasChildNodes()&&e.isExpanded()),c=(i.bottom-i.top)/(g?2:3),f>=i.top&&f<i.top+c?"before":!h&&(g||f>=i.bottom-c&&f<=i.bottom)?"after":"append")},isValidDropPoint:function(a,b,c,d,e){if(!a||!e.item)return!1;var f,g,h=this.view,i=h.getRecord(a),j=e.records,k=j.length,l=j.length;if(!(i&&b&&k))return!1;for(f=0;l>f;f++)if(g=j[f],g.isNode&&g.contains(i))return!1;return"append"===b&&i.get("allowDrop")===!1?!1:"append"!=b&&i.parentNode.get("allowDrop")===!1?!1:Ext.Array.contains(j,i)?!1:h.fireEvent("nodedragover",i,b,e,d)!==!1},onNodeOver:function(a,b,c,d){var e=this.getPosition(c,a),f=this.dropNotAllowed,g=this.view,h=g.getRecord(a),i=this.getIndicator(),j=0;return this.cancelExpand(),"append"!=e||this.expandProcId||Ext.Array.contains(d.records,h)||h.isLeaf()||h.isExpanded()||this.queueExpand(h),this.isValidDropPoint(a,e,b,c,d)?(this.valid=!0,this.currentPosition=e,this.overRecord=h,i.setWidth(Ext.fly(a).getWidth()),j=Ext.fly(a).getY()-Ext.fly(g.el).getY()-1,"before"==e?(f=h.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",i.showAt(0,j),b.proxy.show()):"after"==e?(f=h.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",j+=Ext.fly(a).getHeight(),i.showAt(0,j),b.proxy.show()):(f=Ext.baseCSSPrefix+"tree-drop-ok-append",i.hide())):this.valid=!1,this.currentCls=f,f},onNodeOut:function(){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(a,b){return b.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=l.view,n=b?b.parentNode:m.panel.getRootNode(),o=m.getStore().treeStore.model;if(a.copy)for(d=a.records,a.records=[],e=0,f=d.length;f>e;e++)g=d[e],a.records.push(g.isNode?g.copy(void 0,!0):new o(g.data,g.getId()));l.cancelExpand(),"before"==c?(h=n.insertBefore,i=[null,b],b=n):"after"==c?(b.nextSibling?(h=n.insertBefore,i=[null,b.nextSibling]):(h=n.appendChild,i=[null]),b=n):(b.isExpanded()||b.isLoading()||(j=!0),h=b.appendChild,i=[null]),k=function(){var c,d;for(Ext.suspendLayouts(),m.getSelectionModel().clearSelections(),e=0,f=a.records.length;f>e;e++)g=a.records[e],g.isNode||(g=g.isModel?new o(g.data,g.getId()):new o(g),a.records[e]=g),i[0]=g,h.apply(b,i);if(l.sortOnDrop&&b.sort(b.getOwnerTree().store.generateComparator()),Ext.resumeLayouts(!0),Ext.enableFx&&l.dropHighlight)for(c=l.dropHighlightColor,e=0;f>e;e++)d=m.getNode(a.records[e]),d&&Ext.fly(d).highlight(c)},j?b.expand(!1,k):b.isLoading()?b.on({expand:k,delay:1,single:!0}):k()}},0,0,0,0,0,0,[Ext.tree,"ViewDropZone"],0),Ext.cmd.derive("Ext.tree.plugin.TreeViewDragDrop",Ext.AbstractPlugin,{dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(a){a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(a){var b,c=this;c.enableDrag&&(c.containerScroll&&(b=a.getEl()),c.dragZone=new Ext.tree.ViewDragZone({view:a,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText,displayField:c.displayField,repairHighlightColor:c.nodeHighlightColor,repairHighlight:c.nodeHighlightOnRepair,scrollEl:b})),c.enableDrop&&(c.dropZone=new Ext.tree.ViewDropZone({view:a,ddGroup:c.dropGroup||c.ddGroup,allowContainerDrops:c.allowContainerDrops,appendOnly:c.appendOnly,allowParentInserts:c.allowParentInserts,expandDelay:c.expandDelay,dropHighlightColor:c.nodeHighlightColor,dropHighlight:c.nodeHighlightOnDrop,sortOnDrop:c.sortOnDrop,containerScroll:c.containerScroll}))}},0,0,0,0,["plugin.treeviewdragdrop"],0,[Ext.tree.plugin,"TreeViewDragDrop"],function(){var a=this.prototype;a.nodeHighlightOnDrop=a.nodeHighlightOnRepair=Ext.enableFx}),Ext.cmd.derive("Ext.util.Cookies",Ext.Base,{singleton:!0,set:function(a,b){var c=arguments,d=arguments.length,e=d>2?c[2]:null,f=d>3?c[3]:"/",g=d>4?c[4]:null,h=d>5?c[5]:!1;document.cookie=a+"="+escape(b)+(null===e?"":"; expires="+e.toGMTString())+(null===f?"":"; path="+f)+(null===g?"":"; domain="+g)+(h===!0?"; secure":"")},get:function(a){for(var b=a+"=",c=b.length,d=document.cookie.length,e=0,f=0;d>e;){if(f=e+c,document.cookie.substring(e,f)==b)return this.getCookieVal(f);if(e=document.cookie.indexOf(" ",e)+1,0===e)break}return null},clear:function(a,b){this.get(a)&&(b=b||"/",document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+b)},getCookieVal:function(a){var b=document.cookie.indexOf(";",a);return-1==b&&(b=document.cookie.length),unescape(document.cookie.substring(a,b))}},0,0,0,0,0,0,[Ext.util,"Cookies"],0),Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:!0,getGroupString:function(a){return a.get(this.property)}},0,0,0,0,0,0,[Ext.util,"Grouper"],0),Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:!0,alternateClassName:"Ext.History",useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var a=this;a.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8,a.iframe=null,a.hiddenField=null,a.ready=!1,a.currentToken=null,a.mixins.observable.constructor.call(a)},getHash:function(){var a=window.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null},setHash:function(a){var b=this,c=b.useTopWindow?window.top:window;try{c.location.hash=a}catch(d){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(a){this.currentToken=a,this.fireEvent("change",a)},updateIFrame:function(a){var b,c='<html><body><div id="state">'+Ext.util.Format.htmlEncode(a)+"</div></body></html>";try{return b=this.iframe.contentWindow.document,b.open(),b.write(c),b.close(),!0}catch(d){return!1}},checkIFrame:function(){var a,b,c,d,e=this,f=e.iframe.contentWindow;return f&&f.document?(a=f.document,b=a.getElementById("state"),c=b?b.innerText:null,d=e.getHash(),Ext.TaskManager.start({run:function(){var a=f.document,b=a.getElementById("state"),g=b?b.innerText:null,h=e.getHash();g!==c?(c=g,e.handleStateChange(g),e.setHash(g),d=g,e.doSave()):h!==d&&(d=h,e.updateIFrame(h))},interval:50,scope:e}),e.ready=!0,void e.fireEvent("ready",e)):void Ext.Function.defer(this.checkIFrame,10,this)},startUp:function(){var a,b=this;b.currentToken=b.hiddenField.value||this.getHash(),b.oldIEMode?b.checkIFrame():(a=b.getHash(),Ext.TaskManager.start({run:function(){var c=b.getHash();c!==a&&(a=c,b.handleStateChange(a),b.doSave())
},interval:50,scope:b}),b.ready=!0,b.fireEvent("ready",b))},init:function(a,b){var c=this,d=Ext.DomHelper;return c.ready?void Ext.callback(a,b,[c]):Ext.isReady?(c.hiddenField=Ext.getDom(c.fieldId),c.hiddenField||(c.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:c.fieldId}]},!1,!0).firstChild),c.oldIEMode&&(c.iframe=Ext.getDom(c.iframeId),c.iframe||(c.iframe=d.append(c.hiddenField.parentNode,{tag:"iframe",id:c.iframeId,src:Ext.SSL_SECURE_URL}))),c.addEvents("ready","change"),a&&c.on("ready",a,b,{single:!0}),void c.startUp()):void Ext.onReady(function(){c.init(a,b)})},add:function(a,b){var c=this;return b!==!1&&c.getToken()===a?!0:c.oldIEMode?c.updateIFrame(a):(c.setHash(a),!0)},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0),Ext.onReady(function(){var a=Ext.widget("panel",{height:650,layout:"fit",items:{xtype:"component",autoEl:{tag:"iframe",style:"height: 100%; width: 100%; border: none",src:"/static/files/tutorial.pdf"}}});winTutorial=new Ext.create("Ext.window.Window",{id:"winTutorial",title:"TUTORIAL",maximizable:!0,closeAction:"hide",width:900,height:700,items:[a]})}),Ext.onReady(function(){Ext.QuickTips.init(),Ext.create("Ext.toolbar.Toolbar",{renderTo:"div_topImageBlock",width:"100%",height:70,frame:!1,border:!1,style:{background:"white"},items:[logoEarthServer,logoJacobs,logoMars,logoESS]}),Ext.create("Ext.toolbar.Toolbar",{renderTo:"div_topBlock",width:"100%",cls:"whiteOnBlue",height:52,frame:!1,border:!1,overflowX:"auto",items:["-",showWebSearchWindow,"-",comboBoxDtm,"-",buttonSelect,buttonSpectrum,buttonSpectralRatio,buttonCrossSection,buttonElevationPoint,buttonZoomInBox,buttonZoomOutBox,buttonDragMap,buttonFullScale,buttonViewHistoryBackward,buttonViewHistoryForward,buttonMeasureDistance,buttonMeasureArea,buttonOleEditor,"-",actionShowToc,actionShowConsole,actionShowDiagram,actionShowX3D,actionShowBandRatio,"-",actionShowTutorial,actionShowAbout]})});var logoEarthServer={xtype:"box",height:70,autoEl:{tag:"img",src:"../static/images/vector-logo-earthserver_with-text_RGB_70px-high.png"}},logoJacobs={xtype:"box",height:70,autoEl:{tag:"img",src:"../static/images/jacobs_70px-high_logo.png"}},logoMars={xtype:"box",height:70,autoEl:{tag:"img",src:"../static/images/mars70.png"}},logoESS={xtype:"box",height:70,autoEl:{tag:"img",src:"../static/images/ess-logo_v1.2_70px.png"}};Ext.define("regionComboModel",{extend:"Ext.data.Model",fields:[{name:"val",type:"string"},{name:"name",type:"string"}]});var regionsData=[];for(region in regions)regionsData.push({val:region,name:regions[region].name});var regionStore=Ext.create("Ext.data.Store",{model:"regionComboModel",data:regionsData}),comboBoxRegion=Ext.create("Ext.form.field.ComboBox",{id:"comboBoxRegionId",fieldLabel:"Region:",cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",labelWidth:40,store:regionStore,queryMode:"local",displayField:"name",valueField:"val",editable:!1,listeners:{select:function(a){var b=a.getValue();loadRegion(b)}}}),logoPlanetServer={xtype:"box",width:32,height:32,autoEl:{tag:"img",src:"../static/images/PlanetServer_32px.png"}};Ext.define("dtmComboModel",{extend:"Ext.data.Model",fields:[{type:"string",name:"val"},{type:"string",name:"name"}]});var dtmData=[];dtmData.push({val:"mola",name:"MOLA"});var dtmStore=Ext.create("Ext.data.Store",{model:"dtmComboModel",data:dtmData}),comboBoxDtm=Ext.create("Ext.form.field.ComboBox",{id:"comboBoxDtmId",fieldLabel:"DTM:",labelWidth:30,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",store:dtmStore,queryMode:"local",displayField:"name",valueField:"val",editable:!1,value:"MOLA",listeners:{select:function(a){var b=a.getValue();"mola"==b?dtmdataset=jQuery.extend({},dtmdefault):(dtmdataset.collection=b,dtm_load())}}}),buttonSelect=Ext.create("Ext.button.Button",{inputId:"buttonSelectId",iconCls:"imgToolBarButtonSelect",scale:"medium",tooltip:{text:"Select footprint"},toggleGroup:"controls",enableToggle:!0,pressed:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?"undefined"!=typeof highlightCtrl&&(highlightCtrl.activate(),selectCtrl.activate(),map.editor.stopEditMode(),reloadZIndex()):"undefined"!=typeof highlightCtrl&&(highlightCtrl.deactivate(),selectCtrl.deactivate())}}),buttonSpectrum=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonSpectrum",scale:"medium",tooltip:{text:"Spectrum"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?""!=hsdataset.productid?(queryEventHandler1.activate(),map.editor.stopEditMode(),reloadZIndex()):Ext.Msg.alert("Information","Please, before select a region and a footprint!"):""!=hsdataset.productid&&queryEventHandler1.deactivate()}}),buttonSpectralRatio=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonSpectralRatio",scale:"medium",tooltip:{text:"Spectral Ratio"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,frame:!1,border:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?""!=hsdataset.productid?(queryEventHandler2.activate(),map.editor.stopEditMode(),reloadZIndex()):Ext.Msg.alert("Information","Please, before select a region and a footprint!"):""!=hsdataset.productid&&queryEventHandler2.deactivate()}}),buttonCrossSection=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonCrossSection",scale:"medium",cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",tooltip:{text:"Cross Section",bodyStyle:{background:"#ffc",padding:"10px"}},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,toggleHandler:function(a){a.pressed?""!=hsdataset.productid?(queryEventHandler3.activate(),map.editor.stopEditMode(),reloadZIndex()):Ext.Msg.alert("Information","Please, before select a region and a footprint!"):""!=hsdataset.productid&&queryEventHandler3.deactivate()}}),buttonElevationPoint=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonElevationPoint",scale:"medium",tooltip:{text:"Elevation Point"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(queryEventHandler4.activate(),map.editor.stopEditMode(),reloadZIndex()):queryEventHandler4.deactivate()}}),buttonZoomInBox=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonZoomInBox",scale:"medium",tooltip:{text:"Zoom In Box"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(zoomBoxIn.activate(),map.editor.stopEditMode()):zoomBoxIn.deactivate()}}),buttonZoomOutBox=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonZoomOutBox",scale:"medium",tooltip:{text:"Zoom Out Box"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(zoomBoxOut.activate(),map.editor.stopEditMode()):zoomBoxOut.deactivate()}}),buttonDragMap=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonDragMap",scale:"medium",tooltip:{text:"Drag Map"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(dragControls.dragger.activate(),reloadZIndex()):dragControls.dragger.deactivate()}}),buttonFullScale=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonFullScale",scale:"medium",tooltip:{text:"Full Scale"},cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",listeners:{click:function(){mapZoomMaximum()}}}),buttonViewHistoryBackward=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonViewHistoryBackward",scale:"medium",tooltip:{text:"View History Backward"},cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",listeners:{click:function(){navHistory.previousTrigger()}}}),buttonViewHistoryForward=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonViewHistoryForward",scale:"medium",tooltip:{text:"View History Forward"},cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",listeners:{click:function(){navHistory.nextTrigger()}}}),buttonMeasureDistance=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonMeasureDistance",scale:"medium",tooltip:{text:"Measure Distance"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(measureControls.line.activate(),map.editor.stopEditMode(),reloadZIndex()):measureControls.line.deactivate()}}),buttonMeasureArea=Ext.create("Ext.button.Button",{iconCls:"imgToolBarButtonMeasureArea",scale:"medium",tooltip:{text:"Measure Area"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(measureControls.polygon.activate(),map.editor.stopEditMode(),reloadZIndex()):measureControls.polygon.deactivate()}}),buttonOleEditor=Ext.create("Ext.button.Button",{text:"Editor",iconCls:"imgToolBarButtonEditorOle",scale:"small",tooltip:{text:"Enable/Disable Editor"},toggleGroup:"controls",enableToggle:!0,allowDepress:!1,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",toggleHandler:function(a){a.pressed?(map.editor.startEditMode(),reloadZIndex()):map.editor.stopEditMode()}}),showWebSearchWindow=Ext.create("Ext.Action",{text:"Search",iconCls:"imgToolBarWebSearch",tooltip:{text:"Show/hide the Search window",title:"Search window"},cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",handler:function(){winWebsearch.isVisible()?winWebsearch.hide():winWebsearch.show()}}),tocTooltip=Ext.create("Ext.tip.ToolTip",{target:"tocId",html:"hello tooltip"}),actionShowToc=Ext.create("Ext.Action",{text:"TOC",iconCls:"imgToc",tooltip:tocTooltip,cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",handler:function(){if(winToc.isVisible())winToc.hide();else{var a=Ext.getCmp("dataPanelId");"undefined"!=typeof hsdataset.bands?a.show():a.hide(),winToc.show()}}}),actionShowConsole=Ext.create("Ext.Action",{text:"Console",iconCls:"imgConsole",tooltip:{text:"Show/hide the console window",title:"Console window"},cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",handler:function(){""!=hsdataset.productid?winConsole.isVisible()?winConsole.hide():winConsole.show():Ext.Msg.alert("Information","Please, before select a region and a footprint!")}}),actionShowDiagram=Ext.create("Ext.Action",{text:"Diagrams",iconCls:"imgDiagram",tooltip:{text:"Show/hide the diagrams window",title:"Diagrams window"},cls:"topBlockButton",focusCls:"topBlockButton",overCls:"topBlockButton",pressedCls:"topBlockButton",handler:function(){winDiagrams.isVisible()?winDiagrams.hide():winDiagrams.show()}}),actionShowX3D=Ext.create("Ext.button.Button",{text:"X3D",iconCls:"imgX3D",tooltip:{title:"X3D window",text:"Show the X3D window"},cls:"whiteOnBlue",focusCls:"whiteOnBlue",overCls:"whiteOnBlue",pressedCls:"whiteOnBlue",listeners:{click:function(){""!=hsdataset.productid?(winX3D.show(),winX3D.center()):Ext.Msg.alert("Information","Please, before select a region and a footprint!")}}}),actionShowBandRatio=Ext.create("Ext.button.Button",{text:"Band Ratio",iconCls:"imgShowBandRatio",tooltip:{title:"Band Ratio window",text:"Show the Band Ratio window"},listeners:{click:function(){""!=hsdataset.productid?(winBandRatio.show(),winBandRatio.center()):Ext.Msg.alert("Information","Please, before select a region and a footprint!")}}}),actionShowTutorial=Ext.create("Ext.button.Button",{text:"Tutorial",color:"white",iconCls:"imgTutorial",tooltip:{text:"Visit tutorial page",title:"Tutorial page"},cls:"whiteOnBlue",focusCls:"whiteOnBlue",overCls:"whiteOnBlue",pressedCls:"whiteOnBlue",href:"http://blog.planetserver.eu/?tag=tutorial",hrefTarget:"_blank"}),actionShowAbout=Ext.create("Ext.Action",{text:"About",iconCls:"imgAbout",tooltip:{text:"Show/hide the about window",title:"About window"},cls:"whiteOnBlue",focusCls:"whiteOnBlue",overCls:"whiteOnBlue",pressedCls:"whiteOnBlue",handler:function(){winAbout.isVisible()?winAbout.hide():winAbout.show()}}),saveGeom=Ext.create("Ext.button.Button",{text:"Save",id:"saveGeomButton",tooltip:{title:"Save",text:"Save geometric objects drawn on the map in database"},disabled:!0,style:{background:"#151B8D"},listeners:{click:function(){if(vectorDraw.features.length>0){for(var a=new OpenLayers.Format.WKT,b=[],c=0;c<vectorDraw.features.length;c++)b.push(a.write(vectorDraw.features[c]));Ext.Ajax.request({url:"/save_geom",method:"POST",params:{features:b},success:function(){Ext.Msg.alert("Message","Data stored"),saveGeom.setDisabled(!0)},failure:function(){Ext.Msg.alert("Error","Server error.")}})}else Ext.Msg.alert("No data","No data to store")},beforerender:function(){Ext.Ajax.request({url:"/check_logged",method:"POST",success:function(a){var b=Ext.decode(a.responseText);saveGeom.setDisabled(b.logged?!1:!0)},failure:function(){Ext.Msg.alert("Error","Server error.")}})}}}),clearAllGeom=Ext.create("Ext.button.Button",{text:"Clear All",tooltip:{title:"Clear All",text:"Delete all geometric objects from database"},style:{background:"#151B8D"},disabled:!0,listeners:{click:function(){Ext.Msg.show({title:"Clear all",msg:"Do you want delete all geometric objects from database?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(a){"yes"===a&&Ext.Ajax.request({url:"/clear_all_geom",method:"POST",success:function(){vectorDraw.removeAllFeatures(),Ext.Msg.alert("Message","All records are deleted!")},failure:function(){Ext.Msg.alert("Error","Server error.")}})}})},beforerender:function(){Ext.Ajax.request({url:"/check_logged",method:"POST",success:function(a){var b=Ext.decode(a.responseText);clearAllGeom.setDisabled(b.logged?!1:!0)},failure:function(){Ext.Msg.alert("Error","Server error.")}})}}}),loadGeom=Ext.create("Ext.button.Button",{text:"Load",tooltip:{title:"Load",text:"Load all geometric objects from database"},style:{background:"#151B8D"},id:"loadGeomButton",disabled:!0,listeners:{click:function(){loadGeomFunc()},beforerender:function(){Ext.Ajax.request({url:"/check_logged",method:"POST",success:function(a){var b=Ext.decode(a.responseText);b.logged?(loadGeom.setDisabled(!1),loadGeomFunc()):loadGeom.setDisabled(!0)},failure:function(){Ext.Msg.alert("Error","Server error.")}})}}}),showLoginForm=Ext.create("Ext.button.Button",{text:"Login",id:"loginButton",iconCls:"imgToolBarButtonLogin",tooltip:{text:"Show/hide the login window",title:"Login window"},style:{background:"#151B8D"},listeners:{click:function(){"Logout"==this.getText()?Ext.Ajax.request({url:"/request_logout",method:"POST",success:function(){Ext.getCmp("loginButton").setText("Login"),vectorDraw.removeAllFeatures(),saveGeom.setDisabled(!0),loadGeom.setDisabled(!0),clearAllGeom.setDisabled(!0),Ext.getCmp("labelShowStatus").setText("You have been successfully logged out")},failure:function(){Ext.Msg.alert("Error","Server error.")}}):winLogin.isVisible()?winLogin.hide():winLogin.show()},beforerender:function(){Ext.Ajax.request({url:"/check_logged",method:"POST",success:function(a){var b=Ext.decode(a.responseText);Ext.getCmp("loginButton").setText(b.logged?"Logout":"Login")},failure:function(){Ext.Msg.alert("Error","Server error.")}})}}});Ext.onReady(function(){var a=Ext.create("Ext.Component",{width:175,height:30,html:'<a href="http://blog.planetserver.eu/?page_id=2" target="_new" style="color: black; font-size: 20px; text-decoration: none">blog.planetserver.eu</a>'}),b=Ext.create("Ext.panel.Panel",{border:0,x:250,y:50,width:200,height:40,items:a}),c=Ext.create("Ext.panel.Panel",{title:"Planet server",frame:!0,height:300,width:"100%",items:b}),d="/static/images/AboutBG.jpg";c.setBodyStyle("background-image","url("+d+")"),winAbout=Ext.create("Ext.window.Window",{title:"ABOUT",closeAction:"hide",height:720,width:675,layout:"fit",resizable:!1,cls:"whiteOnBlue",componentCls:"whiteOnBlue",items:[{region:"center",xtype:"tabpanel",items:[c,{title:"Developers",html:"Content for Developers Tab"},{title:"Software",html:"Content for Software Tab"},{title:"Data",html:"Content for Data Tab"}]}]})});var irDefaultImageLoaded=!0,vnirDefaultImageLoaded=!1,myLoader;Ext.require(["Ext.form.*","Ext.layout.container.Column","Ext.window.MessageBox","Ext.fx.target.Element"]),Ext.onReady(function(){function a(a){return"no"==a?'<span style="color:green;">'+a+"</span>":'<span style="color:red;">'+a+"</span>"}function b(a){return"no"==a?'<span style="color:green;">'+a+"</span>":'<span style="color:red;">'+a+"</span>"}myLoader=new Ext.LoadMask(Ext.getBody(),{msg:"Please wait..."});var c,d="r",e="",f="",g="";if("undefined"!=typeof hsdataset.bands){var h=parseInt(hsdataset.bands);c=new Array(h);for(var i=0;h>i;i++)c[i]=0==hsdataset.metadata.bbl[i]?["band "+i,parseFloat(hsdataset.metadata.wavelength[i]),0]:["band "+i,parseFloat(hsdataset.metadata.wavelength[i]),1]}else c=[];var j=new Ext.data.ArrayStore({fields:[{name:"irBandNr"},{name:"irWavelength",type:"float"},{name:"irBad"}]});j.loadData(c);var k=new Ext.grid.GridPanel({id:"irGridId",store:j,columns:[{id:"bandNr",header:"Band Nr.",width:80,sortable:!0,dataIndex:"irBandNr"},{header:"Wavelength",width:130,sortable:!0,dataIndex:"irWavelength"},{header:"Bad",width:40,sortable:!0,renderer:a,dataIndex:"irBad"}],stripeRows:!0,height:130,width:269});k.on("itemclick",function(){if(k.getSelectionModel().hasSelection()){var a=k.getSelectionModel().getSelection()[0];if(e=a.get("irBandNr"),"r"==d){var b=Ext.getCmp("txtR");b.setValue(e),d="g"}else if("g"==d){var c=Ext.getCmp("txtG");c.setValue(e),d="b"}else{var f=Ext.getCmp("txtB");f.setValue(e),d="r"}}});var l;if("undefined"!=typeof hsdataset.vnir.bands){var h=parseInt(hsdataset.vnir.bands);l=new Array(h);for(var i=0;h>i;i++)l[i]=0==hsdataset.metadata.bbl[i]?["band "+i,hsdataset.vnir.metadata.wavelength[i],"yes"]:["band "+i,hsdataset.vnir.metadata.wavelength[i],"no"]}else l=[];var m=new Ext.data.ArrayStore({fields:[{name:"vnirBandNr"},{name:"vnirWavelength",type:"float"},{name:"vnirBad"}]});m.loadData(l);var n=new Ext.grid.GridPanel({id:"vnirGridId",store:m,columns:[{id:"vnirBandNr",header:"Band Nr.",width:80,sortable:!0,dataIndex:"vnirBandNr"},{header:"Wavelength",width:130,sortable:!0,dataIndex:"vnirWavelength"},{header:"Bad",width:40,sortable:!0,renderer:b,dataIndex:"vnirBad"}],stripeRows:!0,height:130,width:269});n.on("itemclick",function(){if(n.getSelectionModel().hasSelection()){var a=n.getSelectionModel().getSelection()[0];if(f=a.get("vnirBandNr"),"r"==d){var b=Ext.getCmp("txtR");b.setValue(f),d="g"}else if("g"==d){var c=Ext.getCmp("txtG");c.setValue(f),d="b"}else{var e=Ext.getCmp("txtB");e.setValue(f),d="r"}}}),spData=[];var o=new Ext.data.ArrayStore({fields:[{name:"key"},{name:"spValue"}]});o.loadData(spData);var p=new Ext.grid.GridPanel({id:"spGridId",store:o,columns:[{id:"keyId",header:"Key",width:80,sortable:!0,dataIndex:"key"},{header:"Value",width:170,sortable:!0,dataIndex:"spValue"}],stripeRows:!0,height:130,width:269});p.on("itemclick",function(){if(p.getSelectionModel().hasSelection()){var a=p.getSelectionModel().getSelection()[0];if(g=a.get("spValue"),"r"==d){var b=Ext.getCmp("txtR");b.setValue(g),d="g"}else if("g"==d){var c=Ext.getCmp("txtG");c.setValue(g),d="b"}else{var e=Ext.getCmp("txtB");e.setValue(g),d="r"}}});var q=Ext.create("Ext.panel.Panel",{title:"IR",items:k,itemId:0}),r=Ext.create("Ext.panel.Panel",{title:"VNIR",items:n,itemId:1}),s=Ext.create("Ext.panel.Panel",{title:"Summary products",items:p,itemId:2}),t=Ext.createWidget("tabpanel",{id:"dataTabsId",activeTab:1,height:155,width:270,plain:!0,items:[q,r,s],listeners:{tabchange:function(a){copyDataset(a.getActiveTab().itemId),d="r",Ext.getCmp("txtR").setValue(""),Ext.getCmp("txtG").setValue(""),Ext.getCmp("txtB").setValue("")}}}),u=Ext.create("Ext.FormPanel",{id:"overlayesPanelId",title:"Overlays",frame:!0,collapsible:!0,autoScroll:!0,x:10,y:5,width:300,height:120,padding:"2 10 2 10",margin:0,items:[{xtype:"checkboxgroup",columns:1,vertical:!0,items:[{xtype:"checkbox",boxLabel:"MOLA RGB",name:"overlayes",checked:!0,inputValue:"molaRGB",margin:0,handler:function(){GlobalMOLARGB.setVisibility(0==this.getValue()?!1:!0)}},{xtype:"checkbox",boxLabel:"THEMIS IR day",name:"overlayes",checked:!0,inputValue:"themisIR",margin:0,handler:function(){GlobalTHEMISIRday.setVisibility(0==this.getValue()?!1:!0)}},{xtype:"checkbox",id:"footprintsId",boxLabel:"CRISM footprints",name:"overlayes",checked:!0,inputValue:"footprints",handler:function(){footprints.setVisibility(0==this.getValue()?!1:!0)}}]}]});u.on("beforecollapse",function(){winToc.height=winToc.height-95}),u.on("beforeexpand",function(){winToc.height=winToc.height+95});var v=Ext.create("Ext.FormPanel",{id:"layersPanelId",title:"Layers",frame:!0,autoScroll:!0,hidden:!0,collapsible:!0,x:10,y:10,width:300,height:150,padding:"0, 10, 5, 10",margin:0,tbar:[{text:"Reset",iconCls:"imgRefresh",handler:function(){window.location.reload()}},"-",{text:"Select All",iconCls:"imgSelectAll",handler:function(){var a;for(i=0;i<PNGimages.length;i++)PNGimages[i].setVisibility(!0),a=Ext.getCmp("checkImageId_"+i),a.setValue(!0)}},"-",{text:"Deselect All",iconCls:"imgDeselectAll",handler:function(){var a;for(i=0;i<PNGimages.length;i++)PNGimages[i].setVisibility(!1),a=Ext.getCmp("checkImageId_"+i),a.setValue(!1)}}]});v.on("beforecollapse",function(){winToc.height=winToc.height-125}),v.on("beforeexpand",function(){winToc.height=winToc.height+125});var w=new Ext.form.FormPanel({frame:!0,padding:10,width:270,y:5,fieldDefaults:{labelAlign:"right",labelWidth:20,labelStyle:"font-weight:bold",width:230},defaultType:"textfield",items:[{id:"txtR",fieldLabel:"R:",name:"r",allowBlank:!0},{id:"txtG",fieldLabel:"G:",name:"g",allowBlank:!0},{id:"txtB",fieldLabel:"B:",name:"b",allowBlank:!0},{inputType:"hidden",id:"submitbutton",name:"myhiddenbutton",value:"hiddenvalue"}],buttons:[{text:"Grayscale",handler:function(){myLoader.show();var a=t.getActiveTab();0==a.itemId?""==e?Ext.Msg.alert("Information","Please select a IR band!"):image(e):1==a.itemId?""==f?Ext.Msg.alert("Information","Please select a VNIR band!"):image(f):""==g?Ext.Msg.alert("Information","Please select a SP band!"):-1!=g.search("NaN")?Ext.Msg.alert("Information","Please select another SP band, this one isn't correct!"):image(g),myLoader.hide()}},{text:"RGB",handler:function(){myLoader.show();var a=t.getActiveTab(),b=Ext.getCmp("txtR").getValue(),c=Ext.getCmp("txtG").getValue(),d=Ext.getCmp("txtB").getValue();2!=a.itemId?"undefined"==typeof b||"undefined"==typeof c||"undefined"==typeof d||""==b||""==c||""==d?Ext.Msg.alert("Information","It's impossible to load the layer.<br/>Insert all of RGB bands and try again."):rgbimage(b,c,d):"undefined"==typeof b||"undefined"==typeof c||"undefined"==typeof d||""==b||""==c||""==d?Ext.Msg.alert("Information","It's impossible to load the layer.<br/>Insert all of RGB bands and try again."):-1!=b.search("NaN")||-1!=c.search("NaN")||-1!=d.search("NaN")?Ext.Msg.alert("Information","Please select another SP bands, these one aren't correct!"):rgbimage(b,c,d),myLoader.hide()}}],buttonAlign:"center"}),x=Ext.create("Ext.FormPanel",{id:"dataPanelId",title:"Data",frame:!0,collapsible:!0,x:10,y:15,width:300,height:335,padding:"5 10 2 10",items:[t,w]});x.on("beforecollapse",function(){winToc.height=winToc.height-305}),x.on("beforeexpand",function(){winToc.height=winToc.height+305}),winToc=new Ext.create("Ext.window.Window",{id:"winToc",title:"TABLE OF CONTENTS",closeAction:"hide",width:330,height:165,x:70,y:60,items:[u,v,x]}),winToc.show(),winToc.hide()});var spectrumToDraw=1,spectrumNumbers=[],pointsNumbers=[],pointsSpectralRatio=[],crossSectionNumbers=[],crossSectionChartData=[],spectrumData=[],chartTitle="Chart",seriesColors=[],lineChartColor="#000000",nSeriesMax=30,cMinX,cMaxX,cMinY,cMaxY,cOriginalData,srcMinX,srcMaxX,srcMinY,srcMaxY,srcOriginalData,scMinX,scMaxX,scMinY,scMaxY,scOriginalData,cscMinX,cscMaxX,cscMinY,cscMaxY,cscOriginalData,histogramFromConsole=!1,currentBandFromConsole="",nrbinsFromConsole=0;Ext.onReady(function(){function drawSpectrum(){spectrumChart.setVisible(!1),chart.setVisible(!0),chart.series.items[0].style.fill="#000000",chart.series.items[0].style.stroke="#000000",myLoader.show();var v=mainComboBox.getValue(),record=mainComboBox.findRecord(mainComboBox.valueField||mainComboBox.displayField,v),index=mainComboBox.store.indexOf(record),jsFileName=mainElements[index].fileName,library=jsFileName.substring(0,jsFileName.length-3),libspectra=secondaryComboBox.getValue();spectrumNumbers=[];var chartData=[];eval("data = "+library+";"),wavelength=data.Wavelength,values=data[libspectra],cMinX=wavelength[0],cMaxX=wavelength[0],cMinY=values[0],cMaxY=values[0];for(var elemX,elemY,i=0;i<wavelength.length;i++)spectrumNumbers.push([wavelength[i],values[i]]),chartData.push({wavelength:wavelength[i],value:values[i]}),elemX=wavelength[i],elemY=values[i],(null===cMinX||cMinX>elemX)&&(cMinX=elemX),(null===cMaxX||elemX>cMaxX)&&(cMaxX=elemX),(null===cMinY||cMinY>elemY)&&(cMinY=elemY),(null===cMaxY||elemY>cMaxY)&&(cMaxY=elemY);cOriginalData=chartData,chart.axes.items[0].minimum=cMinX,chart.axes.items[0].maximum=cMaxX,chart.axes.items[1].minimum=cMinY,chart.axes.items[1].maximum=cMaxY,chartStore.loadData(chartData),diagramplot.spectra=[spectrumNumbers],spectrumNumbers=[],chartTitle=libspectra,chartPanel.setTitle(chartTitle),myLoader.hide();var output=[],tempcolors=[];for(i=0;pos>i;i++)output.push(hsdataset.point[i].spectrum),tempcolors.push(colors[i]);tempcolors.push("Black"),output.push(spectrumNumbers),spectrum_load(output,tempcolors,libspectra)}function drawSpectralRatio(){chart.setVisible(!1),spectrumChart.setVisible(!0),myLoader.show();var a=[];spectrumChartStore.loadData(a),cMinX=pointsSpectralRatio[0][0],cMaxX=pointsSpectralRatio[0][0],cMinY=pointsSpectralRatio[0][1],cMaxY=pointsSpectralRatio[0][1];for(var b,c,d=0;d<pointsSpectralRatio.length;d++)a.push({wavelength:pointsSpectralRatio[d][0],dataRatio:pointsSpectralRatio[d][1]}),b=pointsSpectralRatio[d][0],c=pointsSpectralRatio[d][1],null!=b&&((null===cMinX||cMinX>b)&&(cMinX=b),(null===cMaxX||b>cMaxX)&&(cMaxX=b)),null!=c&&((null===cMinY||cMinY>c)&&(cMinY=c),(null===cMaxY||c>cMaxY)&&(cMaxY=c));cOriginalData=a,spectrumChart.axes.items[0].minimum=cMinX,spectrumChart.axes.items[0].maximum=cMaxX,spectrumChart.axes.items[1].minimum=cMinY,spectrumChart.axes.items[1].maximum=cMaxY,spectrumChartStore.loadData(a),chartPanel.setTitle(chartTitle),myLoader.hide()}function drawDoubleSpectrum(){chart.setVisible(!1),spectrumChart.setVisible(!0),myLoader.show();var v=mainComboBox.getValue(),record=mainComboBox.findRecord(mainComboBox.valueField||mainComboBox.displayField,v),index=mainComboBox.store.indexOf(record),jsFileName=mainElements[index].fileName,library=jsFileName.substring(0,jsFileName.length-3),libspectra=secondaryComboBox.getValue();spectrumNumbers=[],eval("data = "+library+";"),wavelength=data.Wavelength,values=data[libspectra];for(var i=0;i<wavelength.length;i++)spectrumNumbers.push([wavelength[i],values[i]]);var output=[],tempcolors=[];for(i=0;pos>i;i++)output.push(hsdataset.point[i].spectrum),tempcolors.push(colors[i]);tempcolors.push("Black"),output.push(spectrumNumbers),diagramplot.spectra=output,spectrum_load(output,tempcolors,libspectra),spectrumNumbers=[],chartTitle=libspectra;var chartData=[];spectrumChartStore.loadData(chartData),scMinX=wavelength[0],scMaxX=wavelength[0],scMinY=values[0],scMaxY=values[0];for(var elemX,elemY,i=0;i<wavelength.length;i++){var strElement="{'wavelength2':"+wavelength[i]+",";strElement+="'dataLib':"+values[i]+"}",eval("var objData = "+strElement),chartData.push(objData),elemX=wavelength[i],elemY=values[i],(null===scMinX||scMinX>elemX)&&(scMinX=elemX),(null===scMaxX||elemX>scMaxX)&&(scMaxX=elemX),(null===scMinY||scMinY>elemY)&&(scMinY=elemY),(null===scMaxY||elemY>scMaxY)&&(scMaxY=elemY)}for(var elemX,elemY,i=0;i<pointsSpectralRatio.length;i++)chartData.push({wavelength:pointsSpectralRatio[i][0],dataRatio:pointsSpectralRatio[i][1]}),elemX=pointsSpectralRatio[i][0],elemY=pointsSpectralRatio[i][1],null!=elemX&&((null===scMinX||scMinX>elemX)&&(scMinX=elemX),(null===scMaxX||elemX>scMaxX)&&(scMaxX=elemX)),null!=elemY&&((null===scMinY||scMinY>elemY)&&(scMinY=elemY),(null===scMaxY||elemY>scMaxY)&&(scMaxY=elemY));cOriginalData=chartData,spectrumChart.axes.items[0].minimum=scMinX,spectrumChart.axes.items[0].maximum=scMaxX,spectrumChart.axes.items[1].minimum=scMinY,spectrumChart.axes.items[1].maximum=scMaxY,spectrumChartStore.loadData(chartData),chartPanel.setTitle(chartTitle),myLoader.hide()}function drawPointsSpectrum(){spectrumChart.restoreZoom(),chart.setVisible(!1),spectrumChart.setVisible(!0),myLoader.show();var chartData=[];spectrumChartStore.loadData(chartData);var seriesNumber=pointsNumbers.length;scMinX=null,scMaxX=null,scMinY=null,scMaxY=null;for(var elemX,elemY,i=0;i<pointsNumbers[0].length;i++){var series=[];if(series=pointsNumbers[0],null!=series[i][0]&&""!=series[i][0]){var strElement="{'wavelength':"+series[i][0]+",";elemX=series[i][0],(null===scMinX||scMinX>elemX)&&(scMinX=elemX),(null===scMaxX||elemX>scMaxX)&&(scMaxX=elemX);for(var j=0;seriesNumber>j;j++)series=pointsNumbers[j],null!=series[i][1]&&""!=series[i][1]&&(strElement+="'data"+j.toString()+"':"+series[i][1]+",",elemY=series[i][1],(null===scMinY||scMinY>elemY)&&(scMinY=elemY),(null===scMaxY||elemY>scMaxY)&&(scMaxY=elemY));strElement=strElement.substring(0,strElement.length-1),strElement+="}",eval("var objData = "+strElement),chartData.push(objData)}}scOriginalData=chartData,spectrumChart.axes.items[0].minimum=scMinX,spectrumChart.axes.items[0].maximum=scMaxX,spectrumChart.axes.items[1].minimum=scMinY,spectrumChart.axes.items[1].maximum=scMaxY,spectrumChartStore.loadData(chartData),chartPanel.setTitle(chartTitle),myLoader.hide()}function drawMultiSpectrum(){chart.setVisible(!1),spectrumChart.setVisible(!0),myLoader.show();var v=mainComboBox.getValue(),record=mainComboBox.findRecord(mainComboBox.valueField||mainComboBox.displayField,v),index=mainComboBox.store.indexOf(record),jsFileName=mainElements[index].fileName,library=jsFileName.substring(0,jsFileName.length-3),libspectra=secondaryComboBox.getValue();spectrumNumbers=[],eval("data = "+library+";"),wavelength=data.Wavelength,values=data[libspectra];for(var i=0;i<wavelength.length;i++)spectrumNumbers.push([wavelength[i],values[i]]);var output=[],tempcolors=[];for(i=0;pos>i;i++)output.push(hsdataset.point[i].spectrum),tempcolors.push(colors[i]);tempcolors.push("Black"),output.push(spectrumNumbers),diagramplot.spectra=output,spectrum_load(output,tempcolors,libspectra),spectrumNumbers=[],chartTitle=libspectra;var chartData=[];spectrumChartStore.loadData(chartData),scMinX=wavelength[0],scMaxX=wavelength[0],scMinY=values[0],scMaxY=values[0];for(var elemX,elemY,i=0;i<wavelength.length;i++){var strElement="{'wavelength2':"+wavelength[i]+",";strElement+="'dataLib':"+values[i]+"}",eval("var objData = "+strElement),chartData.push(objData),elemX=wavelength[i],elemY=values[i],(null===scMinX||scMinX>elemX)&&(scMinX=elemX),(null===scMaxX||elemX>scMaxX)&&(scMaxX=elemX),(null===scMinY||scMinY>elemY)&&(scMinY=elemY),(null===scMaxY||elemY>scMaxY)&&(scMaxY=elemY)
}for(var seriesNumber=pointsNumbers.length,i=0;i<pointsNumbers[0].length;i++){var series=[];if(series=pointsNumbers[0],null!=series[i][0]&&""!=series[i][0]){var strElement="{'wavelength':"+series[i][0]+",";elemX=series[i][0],(null===scMinX||scMinX>elemX)&&(scMinX=elemX),(null===scMaxX||elemX>scMaxX)&&(scMaxX=elemX);for(var j=0;seriesNumber>j;j++)series=pointsNumbers[j],null!=series[i][1]&&""!=series[i][1]&&(strElement+="'data"+j.toString()+"':"+series[i][1]+",",elemY=series[i][1],(null===scMinY||scMinY>elemY)&&(scMinY=elemY),(null===scMaxY||elemY>scMaxY)&&(scMaxY=elemY));strElement=strElement.substring(0,strElement.length-1),strElement+="}",eval("var objData = "+strElement),chartData.push(objData)}}scOriginalData=chartData,spectrumChart.axes.items[0].minimum=scMinX,spectrumChart.axes.items[0].maximum=scMaxX,spectrumChart.axes.items[1].minimum=scMinY,spectrumChart.axes.items[1].maximum=scMaxY,spectrumChartStore.loadData(chartData),chartPanel.setTitle(chartTitle),myLoader.hide()}function drawHistogram(a,b){myLoader.show();var c=band2data(a),d=hsdataset.nodata,e=hsdataset.collection,f=planetserver_path+"wcps.php?use=histogram&nrbins="+b+"&collection="+e+"&nodata="+d+"&calc="+c,g=getBinary(f).match(/\d+\.?\d*/g);diagramplot.histogram=g;for(var h=[],i=0;i<g.length;i++)h.push({name:i+1,histogramData:g[i]});histogramChartStore.loadData(h),histogramChartPanel.setTitle(a),myLoader.hide()}function drawCrossSection(){myLoader.show();var a=[],b=[];cscMinX=crossSectionNumbers[0][0],cscMaxX=crossSectionNumbers[0][0],cscMinY=crossSectionNumbers[0][1],cscMaxY=crossSectionNumbers[0][1];for(var c,d,e=0;e<crossSectionNumbers.length;e++)b=crossSectionNumbers[e],a.push({distanceCount:b[0],elevation:b[1]}),c=b[0],d=b[1],(null===cscMinX||cscMinX>c)&&(cscMinX=c),(null===cscMaxX||c>cscMaxX)&&(cscMaxX=c),(null===cscMinY||cscMinY>d)&&(cscMinY=d),(null===cscMaxY||d>cscMaxY)&&(cscMaxY=d);cscOriginalData=a,crossSectionChart.axes.items[0].minimum=cscMinX,crossSectionChart.axes.items[0].maximum=cscMaxX,crossSectionChart.axes.items[1].minimum=cscMinY,crossSectionChart.axes.items[1].maximum=cscMaxY,crossSectionChartStore.loadData(a),myLoader.hide()}var chartData=[],chartStore=Ext.create("Ext.data.JsonStore",{fields:["wavelength","value"],data:chartData}),chart=Ext.create("Ext.chart.Chart",{id:"chartId",minWidth:450,minHeight:320,animate:!1,store:chartStore,theme:"Blue",background:"#ffffff",shadow:!1,enableMask:!0,mask:!0,axes:[{type:"Numeric",position:"bottom",fields:["wavelength"],title:"Wavelength"},{type:"Numeric",position:"left",fields:["value"],title:"Values",grid:!0}],series:[{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"value",style:{fill:lineChartColor,stroke:lineChartColor,"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0},tips:{trackMouse:!0,width:150,height:20,renderer:function(a){this.setTitle(a.get("wavelength")+", "+a.get("value"))}}}],listeners:{select:function(a,b){a.setZoom(b),a.mask.hide()},dblclick:function(){this.restoreZoom(),this.axes.items[0].minimum=cMinX,this.axes.items[0].maximum=cMaxX,this.axes.items[1].minimum=cMinY,this.axes.items[1].maximum=cMaxY,chartStore.loadData(cOriginalData)}}});Ext.define("mainSelectModel",{extend:"Ext.data.Model",fields:[{type:"string",name:"fileName"},{type:"string",name:"name"}]});var mainElements=[{fileName:"all_sulfates_resamp.js",name:"All sulfates"},{fileName:"carbonate.js",name:"Carbonates"},{fileName:"inosil.js",name:"Inosilicates"},{fileName:"meteor.js",name:"Meteor"},{fileName:"moon.js",name:"Moon"},{fileName:"nesosil.js",name:"Nesosilicates"},{fileName:"nitrates.js",name:"Nitrates"},{fileName:"oxide.js",name:"Oxides"},{fileName:"phosphate.js",name:"Phosphates"},{fileName:"phylosil.js",name:"Phyllosilicates"},{fileName:"rocks.js",name:"Rocks"},{fileName:"RT_resamp.js",name:"Rio Tinto materials measured in RELAB"},{fileName:"sorosil.js",name:"Sorosilicates"},{fileName:"sulfate.js",name:"Sulfates"},{fileName:"synth.js",name:"Synth"},{fileName:"tectosil.js",name:"Tectosilicates"},{fileName:"unconsolidated.js",name:"Unconsolidated"}],mainComboStore=Ext.create("Ext.data.Store",{model:"mainSelectModel",data:mainElements}),mainComboBox=Ext.create("Ext.form.field.ComboBox",{id:"mainComboBoxId",editable:!1,displayField:"name",width:440,store:mainComboStore,queryMode:"local",typeAhead:!0,emptyText:"Select library",tooltip:"Select the library to show",padding:10,listeners:{select:function(a){var b=a.getValue(),c=a.findRecord(a.valueField||a.displayField,b),d=a.store.indexOf(c);loadSecondaryComboBox(mainElements[d].fileName)}}}),secondaryElements=[],secondaryComboBox=Ext.create("Ext.form.field.ComboBox",{id:"secondaryComboBoxId",emptyText:"Select library",editable:!1,displayField:"name",width:440,store:secondaryElements,queryMode:"local",typeAhead:!0,tooltip:"Select the library to show",padding:10});seriesColors=colors;for(var i=colors.length;nSeriesMax>i;i++)seriesColors.push("white");var spectrumChartStore=Ext.create("Ext.data.JsonStore",{fields:["wavelength","wavelength2","dataLib","dataRatio","data0","data1","data2","data3","data4","data5","data6","data7","data8","data9","data10","data11","data12","data13","data14","data15","data16","data17","data18","data19","data20","data21","data22","data23","data24","data25","data26","data27","data28","data29"],data:spectrumData}),gridStore=Ext.create("Ext.data.JsonStore",{fields:["dataX","dataY"]}),tipsGrid=Ext.create("Ext.grid.Panel",{store:gridStore,width:220,height:150,forceFit:!0,columns:[{text:"Wavelength",dataIndex:"dataX",width:90},{text:"Average spectrum",dataIndex:"dataY",width:130}]}),spectrumChart=Ext.create("Ext.chart.Chart",{id:"spectrumChartId",minWidth:450,minHeight:320,shadow:!1,animate:!1,store:spectrumChartStore,theme:"Blue",background:"#ffffff",enableMask:!0,mask:!0,axes:[{type:"Numeric",position:"bottom",fields:["wavelength","wavelength2"],title:"Wavelength"},{type:"Numeric",position:"left",fields:["dataLib","dataRatio","data0","data1","data2","data3","data4","data5","data6","data7","data8","data9","data10","data11","data12","data13","data14","data15","data16","data17","data18","data19","data20","data21","data22","data23","data24","data25","data26","data27","data28","data29"],title:"Average Spectrum",grid:!0}],series:[{type:"line",highlight:{size:1,radius:5},axis:"left",xField:"wavelength",yField:"dataRatio",style:{fill:"#4bb2c5",stroke:"#4bb2c5","stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0},tips:{trackMouse:!0,width:150,height:20,renderer:function(a){this.setTitle(a.get("wavelength")+", "+a.get("dataRatio"))}}},{type:"line",highlight:{size:1,radius:5},axis:"left",xField:"wavelength2",yField:"dataLib",style:{fill:"black",stroke:"black","stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0},tips:{trackMouse:!0,width:150,height:20,renderer:function(a){this.setTitle(a.get("wavelength2")+", "+a.get("dataLib"))}}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data0",style:{fill:seriesColors[0],stroke:seriesColors[0],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0},tips:{trackMouse:!0,width:220,height:150,layout:"fit",items:tipsGrid,renderer:function(a){for(var b=[],c=0;c<pointsNumbers.length;c++)b.push({dataX:'<span style="color:'+seriesColors[c]+';">'+a.get("wavelength").toFixed(5)+"</span>",dataY:'<span style="color:'+seriesColors[c]+';">'+a.get("data"+c.toString())+"</span>"});gridStore.loadData(b),tipsGrid.setSize(180,50*(pointsNumbers.length+1)),this.setHeight(20*pointsNumbers.length+50)}}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data1",style:{fill:seriesColors[1],stroke:seriesColors[1],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data2",style:{fill:seriesColors[2],stroke:seriesColors[2],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data3",style:{fill:seriesColors[3],stroke:seriesColors[3],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data4",style:{fill:seriesColors[4],stroke:seriesColors[4],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data5",style:{fill:seriesColors[5],stroke:seriesColors[5],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data6",style:{fill:seriesColors[6],stroke:seriesColors[6],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data7",style:{fill:seriesColors[7],stroke:seriesColors[7],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data8",style:{fill:seriesColors[8],stroke:seriesColors[8],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data9",style:{fill:seriesColors[9],stroke:seriesColors[9],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data10",style:{fill:seriesColors[10],stroke:seriesColors[10],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data11",style:{fill:seriesColors[11],stroke:seriesColors[11],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data12",style:{fill:seriesColors[12],stroke:seriesColors[12],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data13",style:{fill:seriesColors[13],stroke:seriesColors[13],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data14",style:{fill:seriesColors[14],stroke:seriesColors[14],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data15",style:{fill:seriesColors[15],stroke:seriesColors[15],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data16",style:{fill:seriesColors[16],stroke:seriesColors[16],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data17",style:{fill:seriesColors[17],stroke:seriesColors[17],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data18",style:{fill:seriesColors[18],stroke:seriesColors[18],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data19",style:{fill:seriesColors[19],stroke:seriesColors[19],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data20",style:{fill:seriesColors[20],stroke:seriesColors[20],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data21",style:{fill:seriesColors[21],stroke:seriesColors[21],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data22",style:{fill:seriesColors[22],stroke:seriesColors[22],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data23",style:{fill:seriesColors[23],stroke:seriesColors[23],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data24",style:{fill:seriesColors[24],stroke:seriesColors[24],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data25",style:{fill:seriesColors[25],stroke:seriesColors[25],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data26",style:{fill:seriesColors[26],stroke:seriesColors[26],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data27",style:{fill:seriesColors[27],stroke:seriesColors[27],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data28",style:{fill:seriesColors[28],stroke:seriesColors[28],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}},{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"wavelength",yField:"data29",style:{fill:seriesColors[29],stroke:seriesColors[29],"stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0}}],listeners:{select:function(a,b){a.setZoom(b),a.mask.hide(),spectrumChartStore.loadData(scOriginalData)},dblclick:function(){this.restoreZoom(),this.axes.items[0].minimum=scMinX,this.axes.items[0].maximum=scMaxX,this.axes.items[1].minimum=scMinY,this.axes.items[1].maximum=scMaxY,spectrumChartStore.loadData(scOriginalData)}}}),zoomSpectrumButton=Ext.create("Ext.Button",{id:"zoomSpectrumButtonId",text:"Zoom In",iconCls:"imgZoomIn",handler:function(){"Zoom In"==this.getText()?(winDiagrams.maximize(),this.setText("Zoom Out"),this.setIconCls("imgZoomOut"),zoomHistogramButton.setText("Zoom Out"),zoomHistogramButton.setIconCls("imgZoomOut"),zoomCrossSectionButton.setText("Zoom Out"),zoomCrossSectionButton.setIconCls("imgZoomOut")):(winDiagrams.restore(),this.setText("Zoom In"),this.setIconCls("imgZoomIn"),zoomHistogramButton.setText("Zoom In"),zoomHistogramButton.setIconCls("imgZoomIn"),zoomCrossSectionButton.setText("Zoom In"),zoomCrossSectionButton.setIconCls("imgZoomIn"))}}),zoomHistogramButton=Ext.create("Ext.Button",{id:"zoomHistogramButtonId",text:"Zoom In",iconCls:"imgZoomIn",handler:function(){"Zoom In"==this.getText()?(winDiagrams.maximize(),this.setText("Zoom Out"),this.setIconCls("imgZoomOut"),zoomSpectrumButton.setText("Zoom Out"),zoomSpectrumButton.setIconCls("imgZoomOut"),zoomCrossSectionButton.setText("Zoom Out"),zoomCrossSectionButton.setIconCls("imgZoomOut")):(winDiagrams.restore(),this.setText("Zoom In"),this.setIconCls("imgZoomIn"),zoomSpectrumButton.setText("Zoom In"),zoomSpectrumButton.setIconCls("imgZoomIn"),zoomCrossSectionButton.setText("Zoom In"),zoomCrossSectionButton.setIconCls("imgZoomIn"))}}),zoomCrossSectionButton=Ext.create("Ext.Button",{id:"zoomCrossSectionButtonId",text:"Zoom In",iconCls:"imgZoomIn",handler:function(){"Zoom In"==this.getText()?(winDiagrams.maximize(),this.setText("Zoom Out"),this.setIconCls("imgZoomOut"),zoomHistogramButton.setText("Zoom Out"),zoomHistogramButton.setIconCls("imgZoomOut"),zoomSpectrumButton.setText("Zoom Out"),zoomSpectrumButton.setIconCls("imgZoomOut")):(winDiagrams.restore(),this.setText("Zoom In"),this.setIconCls("imgZoomIn"),zoomHistogramButton.setText("Zoom In"),zoomHistogramButton.setIconCls("imgZoomIn"),zoomSpectrumButton.setText("Zoom In"),zoomSpectrumButton.setIconCls("imgZoomIn"))}}),chartPanel=Ext.create("Ext.panel.Panel",{id:"chartPanelId",title:"Chart",bodyStyle:{"background-color":"#ffffff"},frame:!0,x:10,y:10,minWidth:470,minHeight:340,items:[chart,spectrumChart],tools:[zoomSpectrumButton]}),winSaveDialog=new Ext.create("Ext.window.Window",{id:"winSaveDialogId",title:"SAVING DATA CHART",modal:!0,resizable:!1,closeAction:"hide",width:260,height:120,items:[{html:"Do you want to download the chart data?",x:15,y:10,width:230,bodyStyle:"background:transparent; border:0"},{x:90,y:30,contentEl:"downloadChartDivId",bodyStyle:"background:transparent; border:0"}]}),selectPanel=Ext.create("Ext.panel.Panel",{frame:!0,x:10,y:20,width:470,height:110,items:[mainComboBox,secondaryComboBox],buttons:[{id:"loadChartButtonId",text:"Load",iconCls:"imgLoad",handler:function(){if(1==spectrumToDraw)if(0==spectrumNumbers.length)null==secondaryComboBox.getValue()?Ext.Msg.alert("Info","Select the libraries and try again!"):pointsNumbers.length>0?drawMultiSpectrum():pointsSpectralRatio.length>0?drawDoubleSpectrum():drawSpectrum();else{chart.restoreZoom(),spectrumChart.setVisible(!1),chart.setVisible(!0),chart.series.items[0].style.fill="#000000",chart.series.items[0].style.stroke="#000000",myLoader.show();var a=[];diagramplot.spectra=[spectrumNumbers],cMinX=spectrumNumbers[0][0],cMaxX=spectrumNumbers[0][0],cMinY=spectrumNumbers[0][1],cMaxY=spectrumNumbers[0][1];for(var b,c,d=0;d<spectrumNumbers.length;d++)a.push({wavelength:spectrumNumbers[d][0],value:spectrumNumbers[d][1]}),b=spectrumNumbers[d][0],c=spectrumNumbers[d][1],(null===cMinX||cMinX>b)&&(cMinX=b),(null===cMaxX||b>cMaxX)&&(cMaxX=b),(null===cMinY||cMinY>c)&&(cMinY=c),(null===cMaxY||c>cMaxY)&&(cMaxY=c);cOriginalData=a,chart.axes.items[0].minimum=cMinX,chart.axes.items[0].maximum=cMaxX,chart.axes.items[1].minimum=cMinY,chart.axes.items[1].maximum=cMaxY,chartStore.loadData(a),spectrumNumbers=[],chartPanel.setTitle(chartTitle),myLoader.hide()}else 2==spectrumToDraw?drawPointsSpectrum():3==spectrumToDraw&&drawSpectralRatio()}},{id:"saveSpectrumButtonId",text:"Save",iconCls:"imgSave",handler:function(){"undefined"!=typeof diagramplot.spectra?winSaveDialog.show():Ext.Msg.alert("Information","No chart data to be saved.")}}],buttonAlign:"center"}),spectrumPanel=Ext.create("Ext.panel.Panel",{title:"Spectrum",bodyStyle:{"background-color":"#dfe8f6"},items:[chartPanel,selectPanel],iconCls:"imgSpectrum",itemId:0}),histogramChartStore=Ext.create("Ext.data.JsonStore",{fields:["name","histogramData"],data:[{name:"1",histogramData:0},{name:"2",histogramData:0},{name:"3",histogramData:0},{name:"4",histogramData:0},{name:"5",histogramData:0}]}),histogramChart=Ext.create("Ext.chart.Chart",{id:"histogramChartId",minWidth:450,minHeight:300,animate:!0,shadow:!0,store:histogramChartStore,axes:[{type:"Numeric",position:"left",fields:["histogramData"],label:{renderer:Ext.util.Format.numberRenderer("0,0")},grid:!0,minimum:0},{type:"Category",position:"bottom",fields:["name"]}],theme:"Blue",background:"#ffffff",series:[{type:"column",axis:"bottom",highlight:!0,tips:{trackMouse:!0,width:60,height:20,renderer:function(a){this.setTitle(a.get("name")+", "+a.get("histogramData"))}},xField:"name",yField:["histogramData"]}]}),histogramChartPanel=Ext.create("Ext.panel.Panel",{id:"histogramChartPanelId",title:"Histogram",bodyStyle:{"background-color":"#ffffff"},frame:!0,x:10,y:10,width:470,height:340,minWidth:470,minHeight:340,items:histogramChart,tools:[zoomHistogramButton]}),comboValues=[10,20,30,40,50,60,70,80,90,100],histogramComboBox=Ext.create("Ext.form.field.ComboBox",{id:"histogramComboBoxId",fieldLabel:"Select a value",editable:!1,displayField:"name",width:440,store:comboValues,queryMode:"local",typeAhead:!0,value:10,tooltip:"Select a number to create a bar chart",padding:10}),histogramSelectPanel=Ext.create("Ext.panel.Panel",{frame:!0,x:10,y:20,width:470,height:110,items:histogramComboBox,buttons:[{id:"histogramButtonId",text:"Load",iconCls:"imgLoad",handler:function(){if(0==histogramFromConsole){var a=histogramComboBox.getValue(),b="",c=Ext.getCmp("dataTabsId"),d=c.getActiveTab();if(0==d.itemId){var e=Ext.getCmp("irGridId"),f=e.getSelectionModel().getSelection()[0];void 0!=f&&(b=f.get("irBandNr"))}else if(1==d.itemId){var g=Ext.getCmp("vnirGridId"),f=g.getSelectionModel().getSelection()[0];void 0!=f&&(b=f.get("vnirBandNr"))}else Ext.Msg.alert("Info","Select a tab and a band!");""!=b?drawHistogram(b,a):Ext.Msg.alert("Info","Select a band!")}else diagramsTabs.setActiveTab(1),drawHistogram(currentBandFromConsole,nrbinsFromConsole)}},{text:"Save",iconCls:"imgSave",handler:function(){"undefined"!=typeof diagramplot.histogram?winSaveDialog.show():Ext.Msg.alert("Information","No chart data to be saved.")}}],buttonAlign:"center"}),histogramPanel=Ext.create("Ext.panel.Panel",{title:"Histogram",bodyStyle:{"background-color":"#dfe8f6"},items:[histogramChartPanel,histogramSelectPanel],iconCls:"imgHistogram",itemId:1}),crossSectionChartData=[],crossSectionChartStore=Ext.create("Ext.data.JsonStore",{fields:["distanceCount","elevation"],data:crossSectionChartData}),crossSectionChart=Ext.create("Ext.chart.Chart",{id:"crossSectionChartId",minWidth:450,minHeight:300,shadow:!1,animate:!1,store:crossSectionChartStore,theme:"Blue",background:"#ffffff",enableMask:!0,mask:!0,axes:[{type:"Numeric",position:"bottom",fields:["distanceCount"],title:"Distance count"},{type:"Numeric",position:"left",fields:["elevation"],title:"Elevation",grid:!0}],series:[{type:"line",highlight:{size:1,radius:5,fill:"#38B8BF"},axis:"left",xField:"distanceCount",yField:"elevation",style:{fill:"#00BFFF",stroke:"#00BFFF","stroke-width":1},markerConfig:{type:"circle",size:0,radius:0,"stroke-width":0},tips:{trackMouse:!0,width:150,height:20,renderer:function(a){this.setTitle(a.get("distanceCount")+", "+a.get("elevation"))}}}],listeners:{select:function(a,b){a.setZoom(b),a.mask.hide()},dblclick:function(){this.restoreZoom(),this.axes.items[0].minimum=cscMinX,this.axes.items[0].maximum=cscMaxX,this.axes.items[1].minimum=cscMinY,this.axes.items[1].maximum=cscMaxY,crossSectionChartStore.loadData(cscOriginalData)}}}),crossSectionChartPanel=Ext.create("Ext.panel.Panel",{id:"crossSectionChartPanelId",title:"Cross Section",bodyStyle:{"background-color":"#ffffff"},frame:!0,x:10,y:10,width:470,height:430,minWidth:470,minHeight:430,items:crossSectionChart,tools:[zoomCrossSectionButton]}),crossSectionSelectPanel=Ext.create("Ext.panel.Panel",{frame:!0,x:10,y:20,width:470,height:40,buttons:[{id:"loadCrossSectionButtonId",text:"Load",iconCls:"imgLoad",hidden:!0,handler:function(){drawCrossSection()}},{text:"Save",iconCls:"imgSave",handler:function(){"undefined"!=typeof diagramplot.crosssection?winSaveDialog.show():Ext.Msg.alert("Information","No chart data to be saved.")}}],buttonAlign:"center"}),crossSectionPanel=Ext.create("Ext.panel.Panel",{title:"Cross Section",bodyStyle:{"background-color":"#dfe8f6"},iconCls:"imgCrossSection",items:[crossSectionChartPanel,crossSectionSelectPanel],itemId:2}),diagramsTabs=Ext.createWidget("tabpanel",{id:"diagramsTabsId",activeTab:0,minHeight:550,width:"100%",height:"100%",plain:!0,items:[spectrumPanel,histogramPanel,crossSectionPanel],listeners:{tabchange:function(a){var b=a.getActiveTab();0==b.itemId&&(chartPanel.setSize(winDiagrams.getWidth()-30,winDiagrams.getHeight()-200),chart.setSize(winDiagrams.getWidth()-80,winDiagrams.getHeight()-240),chart.redraw(),spectrumChart.setSize(winDiagrams.getWidth()-80,winDiagrams.getHeight()-240),spectrumChart.redraw()),1==b.itemId&&(histogramChartPanel.setSize(winDiagrams.getWidth()-30,winDiagrams.getHeight()-200),histogramChart.setSize(winDiagrams.getWidth()-80,winDiagrams.getHeight()-240),histogramChart.redraw()),2==b.itemId&&(crossSectionChartPanel.setSize(winDiagrams.getWidth()-30,winDiagrams.getHeight()-130),crossSectionChart.setSize(winDiagrams.getWidth()-80,winDiagrams.getHeight()-180),crossSectionChart.redraw())}}});winDiagrams=new Ext.create("Ext.window.Window",{id:"winDiagrams",title:"DIAGRAMS",closeAction:"hide",width:500,height:560,x:Ext.getBody().getViewSize().width-510,y:90,items:[diagramsTabs],listeners:{resize:function(a,b,c){diagramsTabs.setSize(b-10,c-32),chartPanel.setSize(b-30,c-200),chart.setSize(b-80,c-240),spectrumChart.setSize(b-80,c-240),histogramChartPanel.setSize(b-30,c-200),histogramChart.setSize(b-80,c-240),crossSectionChartPanel.setSize(b-30,c-130),crossSectionChart.setSize(b-80,c-180)}}})});var footprintsData=[],selectedFeatures=[],lastSelectedFeature=null,wantedFootprint=!1;Ext.onReady(function(){var a=Ext.create("Ext.data.JsonStore",{fields:["footprintName"],data:footprintsData}),b=Ext.create("Ext.grid.Panel",{title:"Footprints",hideHeaders:!0,store:a,width:220,height:50,forceFit:!0,columns:[{dataIndex:"footprintName",width:120}]});b.on("itemclick",function(){if(b.getSelectionModel().hasSelection()){var a=b.getSelectionModel().getSelection()[0];currentRow=a.get("footprintName");var d=b.store.indexOf(a);wantedFootprint=!0,c.hide(),selectCtrl.select(selectedFeatures[d]),lastSelectedFeature=selectedFeatures[d]}}),b.on("itemmouseenter",function(a,b,c,d){null!=lastSelectedFeature&&highlightCtrl.unselect(lastSelectedFeature);for(var e=0;e<selectedFeatures.length;e++)highlightCtrl.unselect(selectedFeatures[e]);highlightCtrl.select(selectedFeatures[d]),lastSelectedFeature=selectedFeatures[d]});var c=Ext.create("Ext.window.Window",{id:"winChoiceFootprintId",title:"CHOOSING A FOOTPRINT",closeAction:"hide",modal:!0,width:200,height:90,layout:"fit",resizable:!1,items:b,listeners:{hide:function(){highlightCtrl.unselect(lastSelectedFeature)},show:function(){a.loadData(footprintsData),b.setSize(220,50*(footprintsData.length+1)),c.setHeight(21*footprintsData.length+65)},move:function(){a.loadData(footprintsData),b.setSize(220,50*(footprintsData.length+1)),c.setHeight(21*footprintsData.length+65)}}})}),Ext.onReady(function(){function a(a){myLoader.show(),winWebsearch.hide(),data=regions[a],getODEfootprints("CRISM footprints",data.westernlon,data.easternlon,data.minlat,data.maxlat);for(var b=0;b<WMSlayers.length;b++)map.removeLayer(WMSlayers[b]);WMSlayers=[],resetOverlayesPanel(),wms=data.wms;for(var b=0;b<wms.length;b++)temp=new OpenLayers.Layer.MapServer(wms[b].name,planetserver_ms_wms,{map:wms[b].map,layers:wms[b].layer,projection:wms[b].projection},{isBaseLayer:!1,transitionEffect:"resize"}),map.addLayers([temp]),WMSlayers[b]=temp,addCheckboxInOverlayesPanel(b,wms[b].name);map.addLayers([footprints]),map.zoomToExtent(footprints.getDataExtent()),dtm=data.dtm;var c=[];c.push({val:"mola",name:"MOLA"});for(var b=0;b<dtm.length;b++)c.push({val:dtm[b].collection,name:dtm[b].name});var d=Ext.getCmp("comboBoxDtmId");d.clearValue(),dtmStore.loadData(c),d.bindStore(dtmStore),d.setValue("MOLA"),myLoader.hide()}function b(){myLoader.show();var a=0;1==isNumber(m.getValue())&&(a=parseFloat(m.getValue()));var b=0;1==isNumber(j.getValue())&&(b=parseFloat(j.getValue()));var c=0;1==isNumber(k.getValue())&&(c=parseFloat(k.getValue()));var d=0;if(1==isNumber(l.getValue())&&(d=parseFloat(l.getValue())),""!=a&&""!=b&&""!=c&&""!=d&&d>=c&&b>=a){getODEfootprints("CRISM footprints",c,d,a,b);for(var e=0;e<WMSlayers.length;e++)map.removeLayer(WMSlayers[e]);WMSlayers=[],resetOverlayesPanel(),null!=footprints&&null!=footprints.getDataExtent()?(map.addLayers([footprints]),map.zoomToExtent(footprints.getDataExtent()),winWebsearch.hide(),myLoader.hide()):(myLoader.hide(),Ext.Msg.alert("Info","Sorry, no data for that region."))}else myLoader.hide(),Ext.Msg.alert("Info","Wrong coordinates!")}Ext.define("thumbnails",{extend:"Ext.data.Model",fields:[{name:"region",type:"string"},{name:"src",type:"string"},{name:"caption",type:"string"},{name:"regionNumber",type:"number"}]});var c=[],d=0,e="";for(region in regions)e="/static/images/"+regions[region].thumbnail,c.push({region:region,src:e,caption:regions[region].name,regionNumber:d++});var f=Ext.create("Ext.data.Store",{id:"imagesStore",model:"thumbnails",data:c}),g=new Ext.XTemplate('<tpl for=".">','<div style="margin-bottom: 10px;" class="thumb-wrap">','<img src="{src}" title="Go to {caption}"/>',"<br/><br/><span>{caption}</span>","</div>","</tpl>"),h=Ext.create("Ext.view.View",{trackOver:!0,store:f,tpl:g,itemSelector:"div.thumb-wrap",emptyText:"No images available",listeners:{selectionchange:function(b,c){a(c[0].data.region)}}}),i=Ext.create("Ext.FormPanel",{id:"imagesPanelId",title:"Regions",frame:!0,autoScroll:!0,collapsible:!1,x:10,y:10,width:570,height:460,margin:0,autoScroll:!0,items:[h]}),j=new Ext.form.field.Text({labelAlign:"top",labelSeparator:"",fieldLabel:"Max latitude",width:100,value:-2.55}),k=new Ext.form.field.Text({labelAlign:"top",labelSeparator:"",fieldLabel:"Min longitude",width:100,value:133}),l=new Ext.form.field.Text({labelAlign:"top",labelSeparator:"",fieldLabel:"Max longitude",width:100,value:142}),m=new Ext.form.field.Text({labelAlign:"top",labelSeparator:"",fieldLabel:"Min latitude",width:100,value:-6.67}),n=Ext.create("Ext.Button",{id:"showButtonId",text:"Show region",tooltip:"Show region on the map",width:120,iconCls:"imgShowRegion",handler:function(){b()}}),o=Ext.create("Ext.Button",{id:"drawRectButtonId",text:"Draw Rectangle",width:120,iconCls:"imgDrawRectangleDisable",enableToggle:!0,handler:function(){1==o.pressed?(this.setIconCls("imgDrawRectangleEnable"),t.box.activate()):(this.setIconCls("imgDrawRectangleDisable"),t.box.deactivate())}}),p={xtype:"tbspacer",flex:1},q=new Ext.create("Ext.form.Panel",{id:"sxPanelId",width:400,height:175,defaults:{bodyStyle:"padding: 2px 2px 2px 2px;"},padding:10,items:[{layout:{type:"hbox",padding:"5",pack:"center",align:"middle"},defaults:{margins:"0 5 0 0"},bodyStyle:"background: transparent; border:0",items:[j]},{layout:{type:"hbox",padding:"5, 20, 5, 20",pack:"center",align:"middle"},bodyStyle:"border:0",items:[k,p,l]},{layout:{type:"hbox",padding:"5",pack:"center",align:"middle"},defaults:{margins:"0 5 0 0"},bodyStyle:"border:0",items:[m]}]}),r=new Ext.create("Ext.form.Panel",{id:"dxPanelId",width:150,height:175,padding:10,layout:{type:"vbox",align:"center"},bodyStyle:"border:0",items:[p,n,p,o,p]}),s=Ext.create("Ext.FormPanel",{id:"bottomPanelId",title:"Choose region by coordinates",frame:!0,autoScroll:!1,collapsible:!1,x:10,y:20,width:570,height:210,layout:{type:"hbox",padding:0},bodyStyle:"background: transparent; border: 0",items:[q,r]});winWebsearch=new Ext.create("Ext.window.Window",{id:"winWebsearchId",title:"SEARCH",resizable:!1,closeAction:"hide",width:600,height:730,items:[i,s]});var t=new OpenLayers.Control;OpenLayers.Util.extend(t,{draw:function(){this.box=new OpenLayers.Handler.Box(t,{done:this.notice}),this.box.deactivate()},notice:function(a){var b=map.getLonLatFromPixel(new OpenLayers.Pixel(a.left,a.bottom)),c=map.getLonLatFromPixel(new OpenLayers.Pixel(a.right,a.top));j.setValue(c.lat.toFixed(6)),m.setValue(b.lat.toFixed(6)),k.setValue(b.lon.toFixed(6)),l.setValue(c.lon.toFixed(6))}}),map.addControl(t),winWebsearch.on("show",function(){m.setValue(""),j.setValue(""),k.setValue(""),l.setValue(""),o.toggle(!1),o.setIconCls("imgDrawRectangleDisable")}),winWebsearch.on("hide",function(){t.box.deactivate()})}),Ext.onReady(function(){winConsole=new Ext.create("Ext.window.Window",{id:"winConsoleId",title:"CONSOLE",resizable:!0,closeAction:"hide",width:500,height:180,x:Ext.getBody().getViewSize().width-510,y:Ext.getBody().getViewSize().height-220,items:[{frame:!1,width:.405*Ext.getBody().getViewSize().width,height:.125*Ext.getBody().getViewSize().height,contentEl:"console",bodyStyle:"background:transparent; border:0"}],bbar:[{xtype:"radiogroup",id:"rbChooseCrismId",name:"rbChooseCrism",columns:1,vertical:!0,items:[{id:"rbIrId",boxLabel:"IR",name:"rbChoiceCrism",inputValue:"0"},{id:"rbVnirId",boxLabel:"VNIR",name:"rbChoiceCrism",inputValue:"1",checked:!0}],listeners:{change:function(){var a=Ext.getCmp("dataTabsId");
a.setActiveTab("IR"==this.getChecked()[0].boxLabel?0:1)}}},{xtype:"tbfill"},{xtype:"checkbox",id:"checkSaveForGisId",boxLabel:"Save for GIS ",name:"saveForGis"},{xtype:"tbspacer",width:5}]}),winConsole.on("show",function(){}),winConsole.on("hide",function(){})}),Ext.onReady(function(){Ext.create("Ext.container.Viewport",{layout:"border",style:{background:"#E8E8E8"},items:[{region:"north",height:122,border:!1,items:[{region:"north",height:70,border:0,contentEl:div_topImageBlock},{region:"south",height:52,contentEl:div_topBlock}],margins:"30 30 0 30"},{region:"south",contentEl:"div_bottomBlock",border:!1,height:32,minHeight:32,style:{background:"#E8E8E8"},margins:"0 30 0 30"},{region:"center",border:!1,contentEl:"div_centerBlock",margins:"0 30 0 30",overflowY:"auto"}]})}),Ext.onReady(function(){Ext.create("Ext.toolbar.Toolbar",{renderTo:"div_bottomBlock",width:"100%",layout:"column",items:[{columnWidth:"0.30",xtype:"toolbar",border:0,items:[Ext.create("Ext.form.Label",{height:20}),{xtype:"tbfill"},"-"]},{columnWidth:"0.50",xtype:"toolbar",border:0,items:[labelShowStatus,{xtype:"tbfill"},{xtype:"tbspacer",width:0},labelShowCoord,{xtype:"tbspacer",width:0}]},{columnWidth:"0.20",xtype:"toolbar",border:0,items:["-",{xtype:"tbfill"},buttonShowTwitter,buttonShowBlog,buttonShowGithub,buttonShowEarthServer,buttonShowLinkedIn]}]})});var labelShowStatus=Ext.create("Ext.form.Label",{id:"labelShowStatus",width:"60%",height:20,fixed:!0,style:"paddingLeft: 5px; text-align: left; font-size: 14px"}),labelShowCoord=Ext.create("Ext.form.Label",{text:"",id:"labelShowCoord",width:"38%",height:20,fixed:!0,style:"text-align: center; font-size: 14px"}),buttonShowTwitter=Ext.create("Ext.button.Button",{iconCls:"imgStatusBarTwitter",tooltipType:"title",tooltip:"Follow us on Twitter...",href:"https://twitter.com/planetser",hrefTarget:"_blank"}),buttonShowBlog=Ext.create("Ext.button.Button",{iconCls:"imgStatusBarBlog",tooltipType:"title",tooltip:"Visit our blog...",href:"http://blog.planetserver.eu",hrefTarget:"_blank"}),buttonShowGithub=Ext.create("Ext.button.Button",{iconCls:"imgStatusBarGithub",tooltipType:"title",tooltip:"Visit GitHub pages...",href:"https://github.com/planetserver/",hrefTarget:"_blank"}),buttonShowEarthServer=Ext.create("Ext.button.Button",{iconCls:"imgStatusBarEarthServer",tooltipType:"title",tooltip:"EarhServer official page...",href:"http://earthserver.eu",hrefTarget:"_blank"}),buttonShowLinkedIn=Ext.create("Ext.button.Button",{iconCls:"imgStatusBarLinkedIn",tooltipType:"title",tooltip:"Follow us on LinkedIn...",href:"http://www.linkedin.com/groups/EarthServer-User-Interest-Group-4880343/about",hrefTarget:"_blank"}),winLogin;Ext.onReady(function(){function a(){Ext.Ajax.request({url:"/load_geom",method:"POST",params:{loadgeom:!0},success:function(a){if(a.responseText.length>2){vectorDraw.removeAllFeatures();var b,c,d,e;if(b=a.responseText.split(";"),b[0].length>1){var f=b[0].replace(/\)/g,")#");c=f.split("#");for(var g=new OpenLayers.Format.WKT,h=0;h<c.length-1;h++){var i=g.read(c[h]);vectorDraw.addFeatures(i)}}if(b[1].length>1){var f=b[1].replace(/\)/g,")#");d=f.split("#");for(var g=new OpenLayers.Format.WKT,h=0;h<d.length-1;h++){var i=g.read(d[h]);vectorDraw.addFeatures(i)}}if(b[2].length>1){var f=b[2].replace(/\)\)/g,"))#");e=f.split("#");for(var g=new OpenLayers.Format.WKT,h=0;h<e.length-1;h++){var i=g.read(e[h]);vectorDraw.addFeatures(i)}}}},failure:function(){}})}Ext.tip.QuickTipManager.init();var b=Ext.create("Ext.form.Panel",{bodyPadding:15,standardSubmit:!0,defaults:{anchor:"100%",xtype:"textfield",vtype:"alphanum",allowBlank:!1},fieldDefaults:{labelWidth:80,labelAlign:"left",msgTarget:"side"},items:[{name:"username",id:"idusername",fieldLabel:"Username:",minLength:3,maxLength:30},{name:"password",fieldLabel:"Password:",inputType:"password",minLength:4,maxLength:30}],dockedItems:[{xtype:"toolbar",dock:"bottom",items:[{xtype:"tbfill"},{xtype:"button",itemId:"reset",text:"Reset",listeners:{click:function(){this.up("form").getForm().reset()}}},{xtype:"button",itemId:"close",text:"Close",listeners:{click:function(){winLogin.hide()}}},{xtype:"button",itemId:"submit",formBind:!0,text:"Submit",listeners:{click:function(){var b=this.up("form"),c=b.down("textfield[name=username]").getValue(),d=b.down("textfield[name=password]").getValue();b.getForm().isValid()&&Ext.Ajax.request({url:"/request_login",method:"POST",params:{username:c,password:d},success:function(c){var d=Ext.decode(c.responseText);"1"==d.response?(Ext.Msg.alert("Login","Welcome "+d.user),Ext.getCmp("labelShowStatus").setText(d.usern+" has logged in..."),b.getForm().reset(),winLogin.hide(),Ext.getCmp("loginButton").setText("Logout"),a(),saveGeom.setDisabled(!1),loadGeom.setDisabled(!1),clearAllGeom.setDisabled(!1)):"2"==d.response?Ext.Msg.alert("Disabled",d.message):Ext.Msg.alert("Error",d.message)},failure:function(){}})}}}]}]});winLogin=Ext.create("Ext.window.Window",{title:"Login",closeAction:"hide",height:170,width:360,layout:"fit",iconCls:"imgToolBarButtonLogin",resizable:!1,draggable:!1,modal:!0,items:[b]}),winLogin.center()});var winX3D;Ext.onReady(function(){winX3D=Ext.widget("window",{id:"x3dObject",title:"PlanetServer X3D",modal:!0,closable:!1,contentEl:Ext.getDom("container"),width:800,height:600,layout:"fit",autoScroll:!0,dockedItems:[{xtype:"toolbar",dock:"top",items:[{xtype:"tbfill"},{xtype:"button",text:"Full Screen",iconCls:"imgZoomIn",handler:function(){"Full Screen"==this.getText()?(winX3D.maximize(),this.setText("Minimize"),this.setIconCls("imgZoomOut")):(winX3D.restore(),this.setText("Full Screen"),this.setIconCls("imgZoomIn"))}}]},{xtype:"toolbar",dock:"bottom",items:[{xtype:"tbfill"},{xtype:"button",id:"close",text:"Close",listeners:{click:function(){winX3D.hide(),EarthServerGenericClient.MainScene.resetScene()}}},{xtype:"button",id:"execute",text:"Create Scene",listeners:{click:function(){execute()}}}]}],listeners:{activate:function(){addX3D(),initX3D()}}})});var OpTypeEnum={multiply:{sign:"*"},plus:{sign:"+"},divide:{sign:"/"},minus:{sign:"-"}},Operation=function(a,b){this.bounds="",this.id=b,this._type=OpTypeEnum[a],this.bin_1={},this.bin_2={},this.digit_reg=/^-?\d*(\.\d+)?$/,this.freq_reg=/^data.[0-9]+$/};Operation.prototype.setBin_1=function(a){this.bin_1=a},Operation.prototype.setBin_2=function(a){this.bin_2=a},Operation.prototype.setBin=function(a,b){this["bin_"+a]=b},Operation.prototype.getType=function(){return this._type},Operation.prototype.renderWCPS=function(){var a="",b=this.bin_1 instanceof Operation?"("+this.bin_1.renderWCPS()+")":this.bin_1,c=this.bin_2 instanceof Operation?"("+this.bin_2.renderWCPS()+")":this.bin_2;return b=this.digit_reg.test(b)?b:b,c=this.digit_reg.test(c)?c:c,a="("+b+" "+this._type.sign+" "+c+")"},Operation.prototype.rootRender=function(){var a="",b=this.bin_1 instanceof Operation?"("+this.bin_1.renderWCPS()+")":this.bin_1,c=this.bin_2 instanceof Operation?"("+this.bin_2.renderWCPS()+")":this.bin_2;return b=this.digit_reg.test(b)?b:b,c=this.digit_reg.test(c)?c:c,a="("+b+" "+this._type.sign+" "+c+")"+this.bounds},Operation.prototype.getFreqs=function(){console.log(this),console.log(this.digit_reg.test(this.bin_1));var a=[];return this.digit_reg.test(this.bin_1)||(a=a.concat(this.freq_reg.test(this.bin_1)?this.bin_1:this.bin_1.getFreqs())),this.digit_reg.test(this.bin_2)||(a=a.concat(this.freq_reg.test(this.bin_2)?this.bin_2:this.bin_2.getFreqs())),console.log("after stupid"),a},function(a,b){"use strict";var c=a.BandRatioClient=function(a){this.allowedFreqs=a.allowed_freqs||["412","443","490","510","555","670"],this.baseDragOptions={containment:"#main",revert:"invalid",helper:"clone",zIndex:3e8},this.dragOptionsPostDrop={containment:"#drop_panel",zIndex:3e5},this.dropOptions={accept:".chiclet:not(.dropped)",drop:this.handleDrop.bind(this),over:function(){b(".ui-draggable.op").draggable({grid:[50,50]})}},this.binOptions={drop:this.deleteThing.bind(this)},this.eventObj={},this.operations=[],this.petascopeURL_GET=a.petascopeURL_GET||"http://earthserver.pml.ac.uk/petascope?query=",this.petascopeURL_POST=a.petascopeURL_POST||"http://earthserver.pml.ac.uk/petascope/wcps",this.dropPanel=b(a.drop_panel?a.drop_panel:"#drop_panel"),this.wcpsResponseEL=b(a.wcps_response_element?a.wcps_response_element:".wcps_response"),this.dropTextEL=b(a.drop_text_element?a.drop_text_element:"#drop_text"),this.runQueryEL=b(a.run_query_element?a.run_query_element:"#run_query"),this.showQueryEL=b(a.show_query_element?a.show_query_element:"#show_query"),this.min_query=a.min_query||'for a in (CCI_Rrs_FREQ_monthly) return encode ( min(a[x:"CRS:1"(1799:2220),y:"CRS:1"(240:660),t(4)]), "csv")',this.max_query=a.max_query||'for a in (CCI_Rrs_FREQ_monthly) return encode( max((a[x:"CRS:1"(1799:2220),y:"CRS:1"(240:660),t(4)] * (a[x:"CRS:1"(1799:2220),y:"CRS:1"(240:660),t(4)] != 9.96921e+36))), "csv")',this.avg_query=a.avg_query||'for a in (CCI_Rrs_FREQ_monthly) return encode( ( (float)add((a[x:"CRS:1"(1799:2220),y:"CRS:1"(240:660),t(4)] * (a[x:"CRS:1"(1799:2220),y:"CRS:1"(240:660),t(4)] != 9.96921e+36))) / count(( (a[x:"CRS:1"(1799:2220),y:"CRS:1"(240:660),t(4)] != 9.96921e+36))) ), "csv")',"function"==typeof a.callback&&(this.callback=a.callback),this.initialise()};c.prototype.initialise=function(){this.setup_binds()},c.prototype.onBandDrop=function(a,b,c){console.log("something dropped"),this.operations.push(new Operation(c,b));new Operation(c,b);this.operations.length>0&&this.dropTextEL.text("To remove elements drag them on to bin")},c.prototype.onFreqDrop=function(a,c,d){console.log(d);var e=b.grep(this.operations,function(a){return a.id===c});if(1===e.length){var f=e[0];if("freq"===d.type&&(f["bin_"+d.bin]=d.value),"operation"===d.type){var g=b.grep(this.operations,function(a){return a.id===d.value});1===g.length?f.setBin(d.bin,g[0]):console.log("oh bugger this is bad!!!!!"),this.operations=b.grep(this.operations,function(a){return a.id!==d.value})}"number"===d.type&&f.setBin(d.bin,d.value),"min"===d.type&&f.setBin(d.bin,d.value),"max"===d.type&&f.setBin(d.bin,d.value),"avg"===d.type&&f.setBin(d.bin,d.value),"median"===d.type&&f.setBin(d.bin,d.value)}},c.prototype.queryClick=function(){var a=this.generateWCPS();if(-1!=a.indexOf("ERROR"))a=a.split(" - ")[1],console.log("No freqs so showing error box"),this.errorDialog(a);else{var b=(this.petascopeURL_GET+a).replace(/\+/g,"%2b");"function"==typeof this.callback?this.callback(b,a):this.wcpsResponseEL.attr("src",b)}},c.prototype.showQuery=function(){var a=this.generateWCPS();-1!=a.indexOf("ERROR")&&(a=a.split(" - ")[1]),console.log("khkjhkjh"),this.errorDialog(a)},c.prototype.errorDialog=function(a){var c=b(document.createElement("div"));c.html("<h4>"+a+"</h4>"),b(c).dialog()},c.prototype.setup_binds=function(){b(this.eventObj).bind("band_ratio.dropped",this.onBandDrop.bind(this)),b(this.eventObj).bind("band_ratio.freq_dropped",this.onFreqDrop.bind(this)),this.runQueryEL.bind("click",this.queryClick.bind(this)),this.showQueryEL.bind("click",this.showQuery.bind(this)),b(".chiclet").draggable(this.baseDragOptions),b("#drop_panel").droppable(this.dropOptions),b("#bin").droppable(this.binOptions);var a=[0,2550,10200,22950,40800,63750,91800,124950,163200,206550,255e3,308550,367200,430950,499800,573750,652800,736950,826200,920550,102e4];b("#contrast").slider({value:1,min:0,max:20,step:1,slide:function(c,d){console.log(a[d.value]),b("#_contrast").val(a[d.value])}})},c.prototype.generateWCPS=function(){console.log("generating WCPS");var a="for data in ("+hsdataset.collection+") ",c=b("#_contrast").val();if(0===c.length&&(c="255"),1===this.operations.length){console.log("inside ops");var d=this.removeDupes(this.operations[0].getFreqs());if(0===d.length)return"ERROR - No Frequencies used in algorithm.";this.operationQuery=this.operations[0].rootRender(),a+="return encode( (char) (255 / max",a+=this.operationQuery,a+=") * ",a+=this.operationQuery,a+=', "PNG", "NODATA=0")'}else console.log("Unable to create WCPS as no elements have been created");return a},c.prototype.removeDupes=function(a){if(a.length>0){for(var b=a.sort(),c=b.length,d=b[--c],e=[d];c--;)b[c]!==d&&e.push(d=b[c]);return e}return a},c.prototype.testFreq=function(a){return console.log("testing "+a+" against available freqs"),-1===this.allowedFreqs.indexOf(a)?!1:!0},c.prototype.getMedian=function(a,c){var d=this.min_query.replace(/FREQ/g,a),e=this.max_query.replace(/FREQ/g,a);d=d.replace("COLLECTION",hsdataset.collection),e=e.replace("COLLECTION",hsdataset.collection),console.log("####",c),b.when(b.ajax({type:"POST",context:this,url:this.petascopeURL_POST,data:{query:d}}),b.ajax({type:"POST",context:this,url:this.petascopeURL_POST,data:{query:e}}),{elem:c,"this":this}).done(function(a,b,c){console.log("woop defered worked"),console.log(c.elem),c.this.addMedian(a[0],b[0],c.elem)})},c.prototype.addMedian=function(a,c,d){a=a.substring(1),a=a.substring(0,a.length-1),c=c.substring(1),c=c.substring(0,c.length-1);var e=+a+(c-a)/2;console.log(a,c,d,e),console.log(b(b(d).parent()).attr("id")),b(d).text(e.toFixed(6)),b(this.eventObj).trigger("band_ratio.freq_dropped",[b(b(d).parent()).attr("id"),{bin:b(d).data("bin"),type:"median",value:e}])},c.prototype.getAvg=function(a,c){var d;this.testFreq(a)?(d=this.avg_query.replace(/FREQ/g,a),d=d.replace("COLLECTION",hsdataset.collection),console.log(d),b.ajax({url:this.petascopeURL_POST,type:"POST",context:this,data:{query:d},success:function(a){this.addAvg(a,c)}})):this.errorDialog('Incorrect band given. Please enter just the number, do not include the "Band"')},c.prototype.addAvg=function(a,c){a=a.substring(1),a=a.substring(0,a.length-1),console.log(a),b(c).text((+a).toFixed(6)),b(this.eventObj).trigger("band_ratio.freq_dropped",[b(b(c).parent()).attr("id"),{bin:b(c).data("bin"),type:"avg",value:a}])},c.prototype.getMinMax=function(a,c,d){var e;return-1===a.indexOf("min")&&-1===a.indexOf("max")?"error":("min"===a&&(e=this.min_query.replace(/FREQ/g,c)),"max"===a&&(e=this.max_query.replace(/FREQ/g,c)),e=e.replace("COLLECTION",hsdataset.collection),void b.ajax({type:"POST",context:this,url:this.petascopeURL_POST,data:{query:e},success:function(a){this.addMinMax(a,d)}}))},c.prototype.addMinMax=function(a,c){a=a.substring(1),a=a.substring(0,a.length-1),console.log(a),b(c).text((+a).toFixed(6)),b(this.eventObj).trigger("band_ratio.freq_dropped",[b(b(c).parent()).attr("id"),{bin:b(c).data("bin"),type:"min",value:(+a).toFixed(6)}])},c.prototype.deleteThing=function(a,c){this.dropTextEL.text("Drag elements onto this panel"),this.operations=b.grep(this.operations,function(a){return a.id!==b(c.helper).attr("id")}),b(".ui-selected").appendTo(c.helper),b(c.helper).remove()},c.prototype.handleDrop=function(a,c){switch(this.dropPanel.selectable({filter:":not(h4)",stop:function(){b(".ui-selected",this).each(function(){console.log(this)})}}),b(c.helper).context.id){case"plus":this.addOp(c,this.dropPanel,"plus");break;case"minus":this.addOp(c,this.dropPanel,"minus");break;case"divide":this.addOp(c,this.dropPanel,"divide");break;case"multiply":this.addOp(c,this.dropPanel,"multiply");break;default:console.log("something other than an Op was dropped so ignoring it")}},c.prototype.addOp=function(a,c,d){var e="#"+d+"_temp",f=".drop_"+d+"_1",g=".drop_"+d+"_2",h=b(e).clone(!0).attr({id:(new Date).getUTCMilliseconds()}).removeClass("hide").css({position:"absolute",left:a.position.left-b(c).offset().left,top:a.position.top-b(c).offset().top,zIndex:3}).addClass("dropped").draggable(this.dragOptionsPostDrop);h.children(f).droppable({accept:".chiclet:not(.dropped), .holder",drop:this.binDrop.bind(this)}).data("index","1"),h.children(g).droppable({accept:".chiclet:not(.dropped), .holder",drop:this.binDrop.bind(this)}).data("index","2"),h.appendTo(b(c)),console.log("triggering dropped"),b(this.eventObj).trigger("band_ratio.dropped",[h.attr("id"),d])},c.prototype.binDrop=function(a,c){console.log("dropped in bin");var d,e,f=b(c.helper),g=b(c.helper.context),h=b(a.target),i=b(c.draggable.context);if(console.log(f),f.hasClass("holder")){console.log("inside holder if"),f.remove();var j=f.clone(!0).removeClass("ui-draggable-dragging").addClass("scaleOn").addClass("dropped").draggable({containment:"#"+h.parent().attr("id")});h.css({background:"blue"}),h.append(j),j.css({position:"relative",left:-40,top:-30,xIndex:3}),j.hover(function(){b(this).removeClass("scaleOn")},function(){b(this).addClass("scaleOn")}),h.droppable("disable").removeClass("ui-state-disable"),b(this.eventObj).trigger("band_ratio.freq_dropped",[b(h.parent()).attr("id"),{bin:h.data("bin"),type:"operation",value:g.attr("id")}])}else if("number"===g.attr("id")){var k=prompt("please enter a number:","1");d=f.clone(!0).removeClass("ui-draggable-dragging").css({position:"relative",left:0,top:0,zIndex:3}).addClass("chiclet").addClass("dropped").text(k),h.append(d).droppable("disable").removeClass("ui-state-disabled").data("freq",i.attr("id")),b(h.parent()).data("box_"+h.data("index"),h.data("freq")),b(this.eventObj).trigger("band_ratio.freq_dropped",[b(h.parent()).attr("id"),{bin:h.data("bin"),type:"number",value:b(d).text()}])}else"min"===g.attr("id")?(e=prompt("please enter a band number"),d=f.clone(!0).removeClass("ui-draggable-dragging").css({posistion:"relative",left:0,top:0,zIndex:3}).addClass("chiclet").addClass("dropped").text("waiting..."),h.append(d).droppable("disable").removeClass("ui-state-disabled").data("freq",i.attr("id")),b(h.parent()).data("box_"+h.data("index"),h.data("freq")),this.getMinMax("min",e,h)):"max"===g.attr("id")?(e=prompt("please enter a band number"),d=f.clone(!0).removeClass("ui-draggable-dragging").css({posistion:"relative",left:0,top:0,zIndex:3}).addClass("chiclet").addClass("dropped").text("waiting..."),h.append(d).droppable("disable").removeClass("ui-state-disabled").data("freq",i.attr("id")),b(h.parent()).data("box_"+h.data("index"),h.data("freq")),this.getMinMax("max",e,h)):"avg"===g.attr("id")?(e=prompt("please enter a band number"),d=f.clone(!0).removeClass("ui-draggable-dragging").css({posistion:"relative",left:0,top:0,zIndex:3}).addClass("chiclet").addClass("dropped").text("waiting..."),h.append(d).droppable("disable").removeClass("ui-state-disabled").data("freq",i.attr("id")),b(h.parent()).data("box_"+h.data("index"),h.data("freq")),this.getAvg(e,h,f),console.log("dropped avg() for freq",e)):"median"===g.attr("id")?(e=prompt("please enter a band number"),d=f.clone(!0).removeClass("ui-draggable-dragging").css({posistion:"relative",left:0,top:0,zIndex:3}).addClass("chiclet").addClass("dropped").text("waiting..."),h.append(d).droppable("disable").removeClass("ui-state-disabled").data("freq",i.attr("id")),b(h.parent()).data("box_"+h.data("index"),h.data("freq")),this.getMedian(e,h),console.log("dropped avg() for freq",e)):(d=f.clone(!0).removeClass("ui-draggable-dragging").css({position:"relative",left:0,top:0,zIndex:3}).addClass("chiclet").addClass("dropped"),h.append(d).droppable("disable").removeClass("ui-state-disabled").data("freq",b(c.draggable.context).attr("id")),b(h.parent()).data("box_"+h.data("index"),h.data("freq")),b(this.eventObj).trigger("band_ratio.freq_dropped",[b(h.parent()).attr("id"),{bin:h.data("bin"),type:"freq",value:h.data("freq")}]))},c.prototype.logPos=function(a){console.log(b(a).offset()),console.log(b(a).position())},c.prototype.getOverview=function(){b.each(b("#drop_panel").children(),function(){console.log(b(this).data())})}}(window,jQuery);var BandRatioInstance,BANDRATIO_TEMPLATE="";BANDRATIO_TEMPLATE+='<div id="main">',BANDRATIO_TEMPLATE+='   <div id="left_cont">',BANDRATIO_TEMPLATE+='      <div id="freqs" class="top_inline">',BANDRATIO_TEMPLATE+="         <p>",BANDRATIO_TEMPLATE+="            Choose light frequency",BANDRATIO_TEMPLATE+="         </p>",BANDRATIO_TEMPLATE+="[[BANDS]]",BANDRATIO_TEMPLATE+="      </div>",BANDRATIO_TEMPLATE+="   </div>",BANDRATIO_TEMPLATE+='   <div id="top_cont">',BANDRATIO_TEMPLATE+='      <div id="math_ops" class="top_inline">',BANDRATIO_TEMPLATE+="         <p>",BANDRATIO_TEMPLATE+="            Choose Math operator",BANDRATIO_TEMPLATE+="         </p>",BANDRATIO_TEMPLATE+='         <div class="chiclet op" id="plus">',BANDRATIO_TEMPLATE+="            +",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet op" id="minus">',BANDRATIO_TEMPLATE+="            -",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet op" id="divide">',BANDRATIO_TEMPLATE+="            /",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet op" id="multiply">',BANDRATIO_TEMPLATE+="            *",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet num" id="number">',BANDRATIO_TEMPLATE+="            <span>const</span>",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet num" id="max">',BANDRATIO_TEMPLATE+="            <span>max()</span>",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet" id="min">',BANDRATIO_TEMPLATE+="            <span>min()</span>",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet" id="avg">',BANDRATIO_TEMPLATE+="            <span>avg()</span>",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+='         <div class="chiclet" id="median">',BANDRATIO_TEMPLATE+="            <span>median()</span>",BANDRATIO_TEMPLATE+="         </div>",BANDRATIO_TEMPLATE+="      </div>",BANDRATIO_TEMPLATE+='        <button id="show_query">',BANDRATIO_TEMPLATE+="         Show Query",BANDRATIO_TEMPLATE+="      </button>",BANDRATIO_TEMPLATE+='      <button id="run_query">',BANDRATIO_TEMPLATE+="         Run Query",BANDRATIO_TEMPLATE+="      </button>",BANDRATIO_TEMPLATE+='      <input type="text" id="_contrast" name="_contrast" placeholder="contrast" style="width:70px;"/>',BANDRATIO_TEMPLATE+='      <div id="contrast"></div>',BANDRATIO_TEMPLATE+="   </div>",BANDRATIO_TEMPLATE+='   <div id="drop_panel">',BANDRATIO_TEMPLATE+='      <div id="bin">',BANDRATIO_TEMPLATE+="      </div>",BANDRATIO_TEMPLATE+='      <h4 id="drop_text">Drop elements on to this panel</h4>',BANDRATIO_TEMPLATE+="   </div>",BANDRATIO_TEMPLATE+='   <div id="display_img">',BANDRATIO_TEMPLATE+='      <img class="wcps_response" />',BANDRATIO_TEMPLATE+="   </div>",BANDRATIO_TEMPLATE+='   <div id="wcps_out">',BANDRATIO_TEMPLATE+='      <p id="wcps_text"></p>',BANDRATIO_TEMPLATE+="   </div>",BANDRATIO_TEMPLATE+="</div>",BANDRATIO_TEMPLATE+='<div id="plus_temp" class="plus_holder drop_item hide holder" data-cont="plus_cont">',BANDRATIO_TEMPLATE+='   <div class="drop_plus_1 drop_1" data-type="plus_1" data-bin="1"></div>',BANDRATIO_TEMPLATE+='   <span class="plus_icon">+</span>',BANDRATIO_TEMPLATE+='   <div class="drop_plus_2 drop_2" data-type="plus_2" data-bin="2"></div>',BANDRATIO_TEMPLATE+="</div>",BANDRATIO_TEMPLATE+='<div id="minus_temp" class="minus_holder drop_item hide holder">',BANDRATIO_TEMPLATE+='   <div class="drop_minus_1 drop_1" data-type="minus_1" data-bin="1"></div>',BANDRATIO_TEMPLATE+='   <span class="minus_icon">-</span>',BANDRATIO_TEMPLATE+='   <div class="drop_minus_2 drop_2" data-type="minus_2" data-bin="2"></div>',BANDRATIO_TEMPLATE+="</div>",BANDRATIO_TEMPLATE+='<div id="divide_temp" class="divide_holder drop_item hide holder">',BANDRATIO_TEMPLATE+='   <div class="drop_divide_1 drop_1" data-type="divide_1" data-bin="1"></div>',BANDRATIO_TEMPLATE+='   <span class="minus_icon">/</span>',BANDRATIO_TEMPLATE+='   <div class="drop_divide_2 drop_2" data-type="divide_2" data-bin="2"></div>',BANDRATIO_TEMPLATE+="</div>",BANDRATIO_TEMPLATE+='<div id="multiply_temp" class="multiply_holder drop_item hide holder">',BANDRATIO_TEMPLATE+='   <div class="drop_multiply_1 drop_1" data-type="multiply_1" data-bin="1"></div>',BANDRATIO_TEMPLATE+='   <span class="multiply_icon">*</span>',BANDRATIO_TEMPLATE+='   <div class="drop_multiply_2 drop_2" data-type="multiply_2" data-bin="2"></div>',BANDRATIO_TEMPLATE+="</div>";var currentCollection,Ext=Ext||{onReady:function(){}};Ext.onReady(function(){winBandRatio=Ext.widget("window",{id:"bandRatioWindow",title:"PlanetServer Band Ratio Analysis",modal:!0,closable:!1,contentEl:Ext.getDom("container_bandratio"),width:800,height:600,layout:"fit",autoScroll:!0,dockedItems:[{xtype:"toolbar",dock:"top",items:[{xtype:"tbfill"},{xtype:"button",text:"Full Screen",iconCls:"imgZoomIn",handler:function(){"Full Screen"==this.getText()?(winBandRatio.maximize(),this.setText("Minimize"),this.setIconCls("imgZoomOut")):(winBandRatio.restore(),this.setText("Full Screen"),this.setIconCls("imgZoomIn"))}}]},{xtype:"toolbar",dock:"bottom",items:[{xtype:"tbfill"},{xtype:"button",id:"close",text:"Close",listeners:{click:function(){winBandRatio.hide(),delete BandRatioInstance,$("#container_bandratio").html(templateBands())}}},{xtype:"button",id:"execute",text:"Run Query",listeners:{click:function(){BandRatioInstance&&(BandRatioInstance.queryClick(),winBandRatio.hide())}}}]}],listeners:{activate:function(){currentCollection!=hsdataset.collection&&(winBandRatio.maximize(),$("#container_bandratio").html(templateBands()),createBRClient(),currentCollection=hsdataset.collection)}}})});